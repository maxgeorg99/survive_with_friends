var pr=Object.defineProperty;var Tn=R=>{throw TypeError(R)};var vr=(R,E,A)=>E in R?pr(R,E,{enumerable:!0,configurable:!0,writable:!0,value:A}):R[E]=A;var K=(R,E,A)=>vr(R,typeof E!="symbol"?E+"":E,A),ls=(R,E,A)=>E.has(R)||Tn("Cannot "+A);var q=(R,E,A)=>(ls(R,E,"read from private field"),A?A.call(R):E.get(R)),Pt=(R,E,A)=>E.has(R)?Tn("Cannot add the same private member more than once"):E instanceof WeakSet?E.add(R):E.set(R,A),ft=(R,E,A,L)=>(ls(R,E,"write to private field"),L?L.call(R,A):E.set(R,A),A),dt=(R,E,A)=>(ls(R,E,"access private method"),A);(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))L(F);new MutationObserver(F=>{for(const z of F)if(z.type==="childList")for(const p of z.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&L(p)}).observe(document,{childList:!0,subtree:!0});function A(F){const z={};return F.integrity&&(z.integrity=F.integrity),F.referrerPolicy&&(z.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?z.credentials="include":F.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function L(F){if(F.ep)return;F.ep=!0;const z=A(F);fetch(F.href,z)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}var Zn={exports:{}};(function(R,E){(function(L,F){R.exports=F()})(gr,()=>(()=>{var A={50792:p=>{var x=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function v(e,s,o){this.fn=e,this.context=s,this.once=o||!1}function a(e,s,o,i,l){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new v(o,i||e,l),f=t?t+s:s;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],u]:e._events[f].push(u):(e._events[f]=u,e._eventsCount++),e}function r(e,s){--e._eventsCount===0?e._events=new h:delete e._events[s]}function n(){this._events=new h,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],o,i;if(this._eventsCount===0)return s;for(i in o=this._events)x.call(o,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(o)):s},n.prototype.listeners=function(s){var o=t?t+s:s,i=this._events[o];if(!i)return[];if(i.fn)return[i.fn];for(var l=0,u=i.length,f=new Array(u);l<u;l++)f[l]=i[l].fn;return f},n.prototype.listenerCount=function(s){var o=t?t+s:s,i=this._events[o];return i?i.fn?1:i.length:0},n.prototype.emit=function(s,o,i,l,u,f){var d=t?t+s:s;if(!this._events[d])return!1;var c=this._events[d],g=arguments.length,m,y;if(c.fn){switch(c.once&&this.removeListener(s,c.fn,void 0,!0),g){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,o),!0;case 3:return c.fn.call(c.context,o,i),!0;case 4:return c.fn.call(c.context,o,i,l),!0;case 5:return c.fn.call(c.context,o,i,l,u),!0;case 6:return c.fn.call(c.context,o,i,l,u,f),!0}for(y=1,m=new Array(g-1);y<g;y++)m[y-1]=arguments[y];c.fn.apply(c.context,m)}else{var T=c.length,S;for(y=0;y<T;y++)switch(c[y].once&&this.removeListener(s,c[y].fn,void 0,!0),g){case 1:c[y].fn.call(c[y].context);break;case 2:c[y].fn.call(c[y].context,o);break;case 3:c[y].fn.call(c[y].context,o,i);break;case 4:c[y].fn.call(c[y].context,o,i,l);break;default:if(!m)for(S=1,m=new Array(g-1);S<g;S++)m[S-1]=arguments[S];c[y].fn.apply(c[y].context,m)}}return!0},n.prototype.on=function(s,o,i){return a(this,s,o,i,!1)},n.prototype.once=function(s,o,i){return a(this,s,o,i,!0)},n.prototype.removeListener=function(s,o,i,l){var u=t?t+s:s;if(!this._events[u])return this;if(!o)return r(this,u),this;var f=this._events[u];if(f.fn)f.fn===o&&(!l||f.once)&&(!i||f.context===i)&&r(this,u);else{for(var d=0,c=[],g=f.length;d<g;d++)(f[d].fn!==o||l&&!f[d].once||i&&f[d].context!==i)&&c.push(f[d]);c.length?this._events[u]=c.length===1?c[0]:c:r(this,u)}return this},n.prototype.removeAllListeners=function(s){var o;return s?(o=t?t+s:s,this._events[o]&&r(this,o)):(this._events=new h,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,p.exports=n},11517:(p,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38829),v=function(a,r,n,e){for(var s=a[0],o=1;o<a.length;o++){var i=a[o];h(i,s,r,n,e),s=i}return a};p.exports=v},80318:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s){return h(a,"angle",r,n,e,s)};p.exports=v},60757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){for(var a=0;a<t.length;a++){var r=t[a];h.call(v,r)}return t};p.exports=x},69927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){v===void 0&&(v=0);for(var a=v;a<t.length;a++){var r=t[a],n=!0;for(var e in h)r[e]!==h[e]&&(n=!1);if(n)return r}return null};p.exports=x},32265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){v===void 0&&(v=0);for(var a=t.length-1;a>=v;a--){var r=t[a],n=!0;for(var e in h)r[e]!==h[e]&&(n=!1);if(n)return r}return null};p.exports=x},94420:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11879),v=t(60461),a=t(95540),r=t(29747),n=t(41481),e=new n({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),s=function(o,i){i===void 0&&(i={});var l=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),f=a(i,"width",-1),d=a(i,"height",-1),c=a(i,"cellWidth",1),g=a(i,"cellHeight",c),m=a(i,"position",v.TOP_LEFT),y=a(i,"x",0),T=a(i,"y",0),S=0,C=0,P=f*c,b=d*g;e.setPosition(y,T),e.setSize(c,g);for(var w=0;w<o.length;w++)if(h(o[w],e,m),l&&f===-1)e.x+=c;else if(u&&d===-1)e.y+=g;else if(u&&!l){if(C+=g,e.y+=g,C===b&&(C=0,S+=c,e.y=T,e.x+=c,S===P))break}else if(S+=c,e.x+=c,S===P&&(S=0,C+=g,e.x=y,e.y+=g,C===b))break;return o};p.exports=s},41721:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s){return h(a,"alpha",r,n,e,s)};p.exports=v},67285:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s){return h(a,"x",r,n,e,s)};p.exports=v},9074:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),h(a,"x",r,e,o,i),h(a,"y",n,s,o,i)};p.exports=v},75222:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s){return h(a,"y",r,n,e,s)};p.exports=v},22983:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var r=v,n=(a-v)/t.length,e=h.x,s=h.y,o=h.radius,i=0;i<t.length;i++)t[i].x=e+o*Math.cos(r),t[i].y=s+o*Math.sin(r),r+=n;return t};p.exports=x},95253:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var r=v,n=(a-v)/t.length,e=h.width/2,s=h.height/2,o=0;o<t.length;o++)t[o].x=h.x+e*Math.cos(r),t[o].y=h.y+s*Math.sin(r),r+=n;return t};p.exports=x},88505:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15258),v=t(26708),a=function(r,n,e){var s;e?s=v(n,e,r.length):s=h(n,r.length);for(var o=0;o<r.length;o++){var i=r[o],l=s[o];i.x=l.x,i.y=l.y}return r};p.exports=a},41346:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14649),v=t(86003),a=t(49498),r=function(n,e,s){s===void 0&&(s=0);var o=h(e,!1,n.length);s>0?v(o,s):s<0&&a(o,Math.abs(s));for(var i=0;i<n.length;i++)n[i].x=o[i].x,n[i].y=o[i].y;return n};p.exports=r},11575:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84993),v=function(a,r,n){var e=h({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n),s=h({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},n),o=h({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},n);e.pop(),s.pop(),o.pop(),e=e.concat(s,o);for(var i=e.length/a.length,l=0,u=0;u<a.length;u++){var f=a[u],d=e[Math.floor(l)];f.x=d.x,f.y=d.y,l+=i}return a};p.exports=v},29953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(h,v)}return t};p.exports=x},66979:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,o=t.length;if(n===1)for(e=r;e<o;e++)t[e][h]+=v+s*a,s++;else for(e=r;e>=0;e--)t[e][h]+=v+s*a,s++;return t};p.exports=x},43967:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,o=t.length;if(n===1)for(e=r;e<o;e++)t[e][h]=v+s*a,s++;else for(e=r;e>=0;e--)t[e][h]=v+s*a,s++;return t};p.exports=x},88926:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28176),v=function(a,r){for(var n=0;n<a.length;n++)h(r,a[n]);return a};p.exports=v},33286:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24820),v=function(a,r){for(var n=0;n<a.length;n++)h(r,a[n]);return a};p.exports=v},96e3:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65822),v=function(a,r){for(var n=0;n<a.length;n++)h(r,a[n]);return a};p.exports=v},28789:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26597),v=function(a,r){for(var n=0;n<a.length;n++)h(r,a[n]);return a};p.exports=v},97154:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90260),v=function(a,r){for(var n=0;n<a.length;n++)h(r,a[n]);return a};p.exports=v},20510:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s){return h(a,"rotation",r,n,e,s)};p.exports=v},91051:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),v=t(20339),a=function(r,n,e){for(var s=n.x,o=n.y,i=0;i<r.length;i++){var l=r[i];h(l,s,o,e,Math.max(1,v(l.x,l.y,s,o)))}return r};p.exports=a},76332:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1163),v=function(a,r,n,e){var s=r.x,o=r.y;if(e===0)return a;for(var i=0;i<a.length;i++)h(a[i],s,o,n,e);return a};p.exports=v},61619:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s){return h(a,"scaleX",r,n,e,s)};p.exports=v},94868:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),h(a,"scaleX",r,e,o,i),h(a,"scaleY",n,s,o,i)};p.exports=v},95532:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66979),v=function(a,r,n,e,s){return h(a,"scaleY",r,n,e,s)};p.exports=v},8689:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"alpha",r,n,e,s)};p.exports=v},2645:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e){return h(a,"blendMode",r,0,n,e)};p.exports=v},32372:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"depth",r,n,e,s)};p.exports=v},85373:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){for(var a=0;a<t.length;a++)t[a].setInteractive(h,v);return t};p.exports=x},81583:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),h(a,"originX",r,e,o,i),h(a,"originY",n,s,o,i),a.forEach(function(l){l.updateDisplayOrigin()}),a};p.exports=v},79939:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"rotation",r,n,e,s)};p.exports=v},2699:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),h(a,"scaleX",r,e,o,i),h(a,"scaleY",n,s,o,i)};p.exports=v},98739:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"scaleX",r,n,e,s)};p.exports=v},98476:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"scaleY",r,n,e,s)};p.exports=v},6207:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),h(a,"scrollFactorX",r,e,o,i),h(a,"scrollFactorY",n,s,o,i)};p.exports=v},6607:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"scrollFactorX",r,n,e,s)};p.exports=v},72248:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"scrollFactorY",r,n,e,s)};p.exports=v},14036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){for(var n=0;n<t.length;n++)t[n].setTint(h,v,a,r);return t};p.exports=x},50159:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e){return h(a,"visible",r,0,n,e)};p.exports=v},77597:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"x",r,n,e,s)};p.exports=v},83194:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),h(a,"x",r,e,o,i),h(a,"y",n,s,o,i)};p.exports=v},67678:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43967),v=function(a,r,n,e,s){return h(a,"y",r,n,e,s)};p.exports=v},35850:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=new h);var o,i,l=a.length;if(l===1)o=a[0].x,i=a[0].y,a[0].x=r,a[0].y=n;else{var u=1,f=0;e===0&&(f=l-1,u=l-2),o=a[f].x,i=a[f].y,a[f].x=r,a[f].y=n;for(var d=0;d<l;d++)if(!(u>=l||u===-1)){var c=a[u],g=c.x,m=c.y;c.x=o,c.y=i,o=g,i=m,e===0?u--:u++}}return s.x=o,s.y=i,s};p.exports=v},8628:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33680),v=function(a){return h(a)};p.exports=v},21837:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),v=function(a,r,n,e,s){s===void 0&&(s=!1);var o=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=h(i*o,n,e);else for(i=0;i<a.length;i++)a[i][r]=h(i*o,n,e);return a};p.exports=v},21910:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),v=function(a,r,n,e,s){s===void 0&&(s=!1);var o=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=h(i*o,n,e);else for(i=0;i<a.length;i++)a[i][r]=h(i*o,n,e);return a};p.exports=v},62054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][h]+=(a+v)/2:t[0][h]=(a+v)/2,t;var n=Math.abs(a-v)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][h]+=e*n+v;else for(e=0;e<t.length;e++)t[e][h]=e*n+v;return t};p.exports=x},79815:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};p.exports=x},39665:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),v=function(a,r,n){n===void 0&&(n=0);for(var e=0;e<a.length;e++){var s=a[e];s.x=h(s.x,r.left-n,r.right+n),s.y=h(s.y,r.top-n,r.bottom+n)}return a};p.exports=v},61061:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(74943),r=t(81957),n=t(41138),e=t(35154),s=t(90126),o=new v({initialize:function(l,u,f){this.manager=l,this.key=u,this.type="frame",this.frames=this.getFrames(l.textureManager,e(f,"frames",[]),e(f,"defaultTextureKey",null),e(f,"sortFrames",!0)),this.frameRate=e(f,"frameRate",null),this.duration=e(f,"duration",null),this.msPerFrame,this.skipMissedFrames=e(f,"skipMissedFrames",!0),this.delay=e(f,"delay",0),this.repeat=e(f,"repeat",0),this.repeatDelay=e(f,"repeatDelay",0),this.yoyo=e(f,"yoyo",!1),this.showBeforeDelay=e(f,"showBeforeDelay",!1),this.showOnStart=e(f,"showOnStart",!1),this.hideOnComplete=e(f,"hideOnComplete",!1),this.randomFrame=e(f,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,l,u,f){u===null&&f===null?(i.frameRate=24,i.duration=24/l*1e3):u&&f===null?(i.duration=u,i.frameRate=l/(u/1e3)):(i.frameRate=f,i.duration=l/f*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,l){var u=this.getFrames(this.manager.textureManager,l);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var f=this.frames.slice(0,i),d=this.frames.slice(i);this.frames=f.concat(u,d)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,l,u,f){f===void 0&&(f=!0);var d=[],c,g,m=1,y,T;if(typeof l=="string"){if(T=l,!i.exists(T))return console.warn('Texture "%s" not found',T),d;var S=i.get(T),C=S.getFrameNames();f&&s(C),l=[],C.forEach(function(O){l.push({key:T,frame:O})})}if(!Array.isArray(l)||l.length===0)return d;for(y=0;y<l.length;y++){var P=l[y],b=e(P,"key",u);if(b){var w=e(P,"frame",0),M=i.getFrame(b,w);if(!M){console.warn('Texture "%s" not found',b);continue}g=new n(b,w,m,M),g.duration=e(P,"duration",0),g.isFirst=!c,c&&(c.nextFrame=g,g.prevFrame=c),d.push(g),c=g,m++}}if(d.length>0){g.isLast=!0,g.nextFrame=d[0],d[0].prevFrame=g;var D=1/(d.length-1);for(y=0;y<d.length;y++)d[y].progress=y*D}return d},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameByProgress:function(i){return i=h(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var l=i.currentFrame;l.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,l.nextFrame)},handleYoyoFrame:function(i,l){if(l||(l=!1),i.inReverse===!l&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=l),this.repeatAnimation(i);return}if(i.inReverse!==l&&i.repeatCounter===0){i.complete();return}i.forward=l;var u=l?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var l=i.currentFrame;l.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,l.prevFrame)},updateAndGetNextTick:function(i,l){i.setCurrentFrame(l),this.getNextTick(i)},removeFrame:function(i){var l=this.frames.indexOf(i);return l!==-1&&this.removeFrameAt(l),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(l){i.frames.push(l.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,l=1/(i-1),u,f=0;f<i;f++)u=this.frames[f],u.index=f+1,u.isFirst=!1,u.isLast=!1,u.progress=f*l,f===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[f+1])):f===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[f-1],u.nextFrame=this.frames[f+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});p.exports=o},41138:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e,s,o){o===void 0&&(o=!1),this.textureKey=r,this.textureFrame=n,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=o},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=v},60848:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),v=t(83419),a=t(90330),r=t(50792),n=t(74943),e=t(8443),s=t(95540),o=t(35154),i=t(36383),l=t(20283),u=t(41836),f=new v({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",c.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,c,g){var m=this.anims,y=this.mixes,T=typeof d=="string"?d:d.key,S=typeof c=="string"?c:c.key;if(m.has(T)&&m.has(S)){var C=y.get(T);C||(C={}),C[S]=g,y.set(T,C)}return this},removeMix:function(d,c){var g=this.mixes,m=typeof d=="string"?d:d.key,y=g.get(m);if(y)if(c){var T=typeof c=="string"?c:c.key;y.hasOwnProperty(T)&&delete y[T]}else c||g.delete(m);return this},getMix:function(d,c){var g=this.mixes,m=typeof d=="string"?d:d.key,y=typeof c=="string"?c:c.key,T=g.get(m);return T&&T.hasOwnProperty(y)?T[y]:0},add:function(d,c){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(c.key=d,this.anims.set(d,c),this.emit(n.ADD_ANIMATION,d,c),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,c,g){var m=[],y=this.game.cache.json.get(d);if(!y)return console.warn("No Aseprite data found for: "+d),m;var T=this,S=o(y,"meta",null),C=o(y,"frames",null);if(S&&C){var P=o(S,"frameTags",[]);P.forEach(function(b){var w=[],M=s(b,"name",null),D=s(b,"from",0),O=s(b,"to",0),U=s(b,"direction","forward");if(M&&(!c||c&&c.indexOf(M)>-1)){for(var W=0,Y=D;Y<=O;Y++){var X=Y.toString(),N=C[X];if(N){var V=s(N,"duration",i.MAX_SAFE_INTEGER);w.push({key:d,frame:X,duration:V}),W+=V}}U==="reverse"&&(w=w.reverse());var I={key:M,frames:w,duration:W,yoyo:U==="pingpong"},B;g?g.anims&&(B=g.anims.create(I)):B=T.create(I),B&&m.push(B)}})}return m},create:function(d){var c=d.key,g=!1;return c&&(g=this.get(c),g?console.warn("AnimationManager key already exists: "+c):(g=new h(this,c,d),this.anims.set(c,g),this.emit(n.ADD_ANIMATION,c,g))),g},fromJSON:function(d,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var g=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var m=0;m<d.anims.length;m++)g.push(this.create(d.anims[m]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&g.push(this.create(d));return g},generateFrameNames:function(d,c){var g=o(c,"prefix",""),m=o(c,"start",0),y=o(c,"end",0),T=o(c,"suffix",""),S=o(c,"zeroPad",0),C=o(c,"outputArray",[]),P=o(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),C;var b=this.textureManager.get(d);if(!b)return C;var w;if(c)for(P||(P=l(m,y)),w=0;w<P.length;w++){var M=g+u(P[w],S,"0",1)+T;b.has(M)?C.push({key:d,frame:M}):console.warn('Frame "%s" not found in texture "%s"',M,d)}else for(P=b.getFrameNames(),w=0;w<P.length;w++)C.push({key:d,frame:P[w]});return C},generateFrameNumbers:function(d,c){var g=o(c,"start",0),m=o(c,"end",-1),y=o(c,"first",!1),T=o(c,"outputArray",[]),S=o(c,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),T;var C=this.textureManager.get(d);if(!C)return T;y&&C.has(y)&&T.push({key:d,frame:y}),S||(m===-1&&(m=C.frameTotal-2),S=l(g,m));for(var P=0;P<S.length;P++){var b=S[P];C.has(b)?T.push({key:d,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,d)}return T},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var c=this.textureManager.get(d),g=c.key,m=this.anims.getArray(),y=[],T=0;T<m.length;T++)for(var S=m[T],C=S.frames,P=0;P<C.length;P++)if(C[P].textureKey===g){y.push(S.key);break}return y},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(d,c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++)c[g].anims.play(d);return this},staggerPlay:function(d,c,g,m){g===void 0&&(g=0),m===void 0&&(m=!0),Array.isArray(c)||(c=[c]);var y=c.length;m||y--;for(var T=0;T<c.length;T++){var S=g<0?Math.abs(g)*(y-T):g*T;c[T].anims.playAfterDelay(d,S)}return this},remove:function(d){var c=this.get(d);return c&&(this.emit(n.REMOVE_ANIMATION,d,c),this.anims.delete(d),this.removeMix(d)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(d){var c={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?c.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(g,m){c.anims.push(m.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=f},9674:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42099),v=t(30976),a=t(83419),r=t(90330),n=t(74943),e=t(95540),s=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(o){var i=this.parent;if(o===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(o)||(o=[o]);for(var l=0;l<o.length;l++){var u=o[l];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(o){this.isPlaying&&this.stop();var i=this.animationManager,l=typeof o=="string"?o:e(o,"key",null),u=this.exists(l)?this.get(l):i.get(l);if(!u)console.warn("Missing animation: "+l);else{this.currentAnim=u;var f=u.getTotalFrames(),d=e(o,"frameRate",u.frameRate),c=e(o,"duration",u.duration);u.calculateDuration(this,f,c,d),this.delay=e(o,"delay",u.delay),this.repeat=e(o,"repeat",u.repeat),this.repeatDelay=e(o,"repeatDelay",u.repeatDelay),this.yoyo=e(o,"yoyo",u.yoyo),this.showBeforeDelay=e(o,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=e(o,"showOnStart",u.showOnStart),this.hideOnComplete=e(o,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=e(o,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=e(o,"randomFrame",u.randomFrame),this.timeScale=e(o,"timeScale",this.timeScale);var g=e(o,"startFrame",0);g>f&&(g=0),this.randomFrame&&(g=v(0,f-1));var m=u.frames[g];g===0&&!this.forward&&(m=u.getLastFrame()),this.currentFrame=m}return this.parent},pause:function(o){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),o!==void 0&&this.setCurrentFrame(o),this.parent},resume:function(o){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),o!==void 0&&this.setCurrentFrame(o),this.parent},playAfterDelay:function(o,i){if(!this.isPlaying)this.delayCounter=i,this.play(o,!0);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.nextAnim=o,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(o,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(o);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=o,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(o,i){i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent,f=typeof o=="string"?o:o.key;if(i&&this.isPlaying&&l.key===f)return u;if(l&&this.isPlaying){var d=this.animationManager.getMix(l.key,o);if(d>0)return this.playAfterDelay(o,d)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o)},playReverse:function(o,i){i===void 0&&(i=!1);var l=typeof o=="string"?o:o.key;return i&&this.isPlaying&&this.currentAnim.key===l?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o))},startAnimation:function(o){this.load(o);var i=this.currentAnim,l=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),l},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(o,i){var l=this.currentAnim;if(l){var u=this.currentFrame,f=this.parent,d=u.textureFrame;f.emit(o,l,u,f,d),i&&f.emit(i+l.key,l,u,f,d)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var o=this.currentFrame;if(!o)return 0;var i=o.progress;return this.inReverse&&(i*=-1),i},setProgress:function(o){return this.forward||(o=1-o),this.setCurrentFrame(this.currentAnim.getFrameByProgress(o)),this.parent},setRepeat:function(o){return this.repeatCounter=o===-1?Number.MAX_VALUE:o,this.parent},globalRemove:function(o,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(o,i){o===void 0&&(o=!1),i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent;return l?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),l.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!o,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(l.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(o)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(o)}return this.parent},stopAfterDelay:function(o){return this._pendingStop=1,this._pendingStopValue=o,this.parent},stopAfterRepeat:function(o){return o===void 0&&(o=1),this.repeatCounter!==-1&&o>this.repeatCounter&&(o=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=o,this.parent},stopOnFrame:function(o){return this._pendingStop=3,this._pendingStopValue=o,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(o,i){var l=this.currentAnim;if(!(!this.isPlaying||!l||l.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?l.nextFrame(this):l.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?l.nextFrame(this):l.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(o){var i=this.parent;return this.currentFrame=o,i.texture=o.frame.texture,i.frame=o.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),o.setAlpha&&(i.alpha=o.alpha),i.setSizeToFrame(),i._originComponent&&(o.frame.customPivot?i.setOrigin(o.frame.pivotX,o.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===o&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(o){return this.anims?this.anims.get(o):null},exists:function(o){return this.anims?this.anims.has(o):!1},create:function(o){var i=o.key,l=!1;return i&&(l=this.get(i),l?console.warn("Animation key already exists: "+i):(l=new h(this,i,o),this.anims||(this.anims=new r),this.anims.set(i,l))),l},createFromAseprite:function(o,i){return this.animationManager.createFromAseprite(o,i,this.parent)},generateFrameNames:function(o,i){return this.animationManager.generateFrameNames(o,i)},generateFrameNumbers:function(o,i){return this.animationManager.generateFrameNumbers(o,i)},remove:function(o){var i=this.get(o);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(o)),i},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=s},57090:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},25312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},89580:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},52860:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},63850:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},99085:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},28087:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},1794:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},52562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},57953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},68339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},74943:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(90330),a=t(50792),r=t(24736),n=new h({initialize:function(){this.entries=new v,this.events=new a},add:function(e,s){return this.entries.set(e,s),this.events.emit(r.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=n},24047:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2161),v=t(83419),a=t(8443),r=new v({initialize:function(e){this.game=e,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new h),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});p.exports=r},51464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},59261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},24736:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(39506),r=t(50792),n=t(19715),e=t(87841),s=t(61340),o=t(80333),i=t(26099),l=new h({Extends:r,Mixins:[v.AlphaSingle,v.Visible],initialize:function(f,d,c,g){f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=f,this._y=d,this._width=c,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=o("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(c/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,f){return u===void 0&&(u=.5),f===void 0&&(f=u),this.originX=u,this.originY=f,this},getScroll:function(u,f,d){d===void 0&&(d=new i);var c=this.width*.5,g=this.height*.5;return d.x=u-c,d.y=f-g,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(u){var f=this.width*.5;return this.midPoint.x=u,this.scrollX=u-f,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var f=this.height*.5;return this.midPoint.y=u,this.scrollY=u-f,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,f){return this.centerOnX(u),this.centerOnY(f),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,f=this.width*.5,d=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-f,this.scrollY=u.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var f=this.matrix.matrix,d=f[0],c=f[1],g=f[2],m=f[3],y=d*m-c*g;if(!y)return u;var T=f[4],S=f[5],C=this.scrollX,P=this.scrollY,b=this.width,w=this.height,M=this.y,D=M+w,O=this.x,U=O+b,W=this.culledObjects,Y=u.length;y=1/y,W.length=0;for(var X=0;X<Y;++X){var N=u[X];if(!N.hasOwnProperty("width")||N.parentContainer){W.push(N);continue}var V=N.width,I=N.height,B=N.x-C*N.scrollFactorX-V*N.originX,G=N.y-P*N.scrollFactorY-I*N.originY,H=B*d+G*g+T,k=B*c+G*m+S,Z=(B+V)*d+(G+I)*g+T,J=(B+V)*c+(G+I)*m+S;Z>O&&H<U&&J>M&&k<D&&W.push(N)}return W},getWorldPoint:function(u,f,d){d===void 0&&(d=new i);var c=this.matrix.matrix,g=c[0],m=c[1],y=c[2],T=c[3],S=c[4],C=c[5],P=g*T-m*y;if(!P)return d.x=u,d.y=f,d;P=1/P;var b=T*P,w=-m*P,M=-y*P,D=g*P,O=(y*C-T*S)*P,U=(m*S-g*C)*P,W=Math.cos(this.rotation),Y=Math.sin(this.rotation),X=this.zoomX,N=this.zoomY,V=this.scrollX,I=this.scrollY,B=u+(V*W-I*Y)*X,G=f+(V*Y+I*W)*N;return d.x=B*b+G*M+O,d.y=B*w+G*D+U,d},ignore:function(u){var f=this.id;Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var c=u[d];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=f}return this},clampX:function(u){var f=this._bounds,d=this.displayWidth,c=f.x+(d-this.width)/2,g=Math.max(c,c+f.width-d);return u<c?u=c:u>g&&(u=g),u},clampY:function(u){var f=this._bounds,d=this.displayHeight,c=f.y+(d-this.height)/2,g=Math.max(c,c+f.height-d);return u<c?u=c:u>g&&(u=g),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=a(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=o(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,f,d,c,g){return g===void 0&&(g=!1),this._bounds.setTo(u,f,d,c),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var f=this._bounds;return u.setTo(f.x,f.y,f.width,f.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,f){return f===void 0&&(f=u),this.x=u,this.y=f,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,f){f===void 0&&(f=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=f;var d=u.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(u,f){return f===void 0&&(f=u),this.scrollX=u,this.scrollY=f,this},setSize:function(u,f){return f===void 0&&(f=u),this.width=u,this.height=f,this},setViewport:function(u,f,d,c){return this.x=u,this.y=f,this.width=d,this.height=c,this},setZoom:function(u,f){return u===void 0&&(u=1),f===void 0&&(f=u),u===0&&(u=.001),f===0&&(f=.001),this.zoomX=u,this.zoomY=f,this},setMask:function(u,f){return f===void 0&&(f=!0),this.mask=u,this._maskCamera=f?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,f=this.sceneManager;u&&!this._customViewport?f.customViewports++:!u&&this._customViewport&&f.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=l},38058:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),v=t(67502),a=t(45319),r=t(83419),n=t(31401),e=t(20052),s=t(19715),o=t(28915),i=t(87841),l=t(26099),u=new r({Extends:h,Mixins:[n.PostPipeline],initialize:function(d,c,g,m){h.call(this,d,c,g,m),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new l(1,1),this.followOffset=new l,this.deadzone=null,this._follow=null},setDeadzone:function(f,d){if(f===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=f,this.deadzone.height=d):this.deadzone=new i(0,0,f,d),this._follow){var c=this.width/2,g=this.height/2,m=this._follow.x-this.followOffset.x,y=this._follow.y-this.followOffset.y;this.midPoint.set(m,y),this.scrollX=m-c,this.scrollY=y-g}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(f,d,c,g,m,y){return this.fadeEffect.start(!1,f,d,c,g,!0,m,y)},fadeOut:function(f,d,c,g,m,y){return this.fadeEffect.start(!0,f,d,c,g,!0,m,y)},fadeFrom:function(f,d,c,g,m,y,T){return this.fadeEffect.start(!1,f,d,c,g,m,y,T)},fade:function(f,d,c,g,m,y,T){return this.fadeEffect.start(!0,f,d,c,g,m,y,T)},flash:function(f,d,c,g,m,y,T){return this.flashEffect.start(f,d,c,g,m,y,T)},shake:function(f,d,c,g,m){return this.shakeEffect.start(f,d,c,g,m)},pan:function(f,d,c,g,m,y,T){return this.panEffect.start(f,d,c,g,m,y,T)},rotateTo:function(f,d,c,g,m,y,T){return this.rotateToEffect.start(f,d,c,g,m,y,T)},zoomTo:function(f,d,c,g,m,y){return this.zoomEffect.start(f,d,c,g,m,y)},preRender:function(){this.renderList.length=0;var f=this.width,d=this.height,c=f*.5,g=d*.5,m=this.zoomX,y=this.zoomY,T=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(m)&&Number.isInteger(y);var S=f*this.originX,C=d*this.originY,P=this._follow,b=this.deadzone,w=this.scrollX,M=this.scrollY;b&&v(b,this.midPoint.x,this.midPoint.y);var D=!1;if(P&&!this.panEffect.isRunning){var O=this.lerp,U=P.x-this.followOffset.x,W=P.y-this.followOffset.y;b?(U<b.x?w=o(w,w-(b.x-U),O.x):U>b.right&&(w=o(w,w+(U-b.right),O.x)),W<b.y?M=o(M,M-(b.y-W),O.y):W>b.bottom&&(M=o(M,M+(W-b.bottom),O.y))):(w=o(w,U-S,O.x),M=o(M,W-C,O.y)),D=!0}this.roundPixels&&(w=Math.floor(w),M=Math.floor(M)),this.useBounds&&(w=this.clampX(w),M=this.clampY(M)),this.scrollX=w,this.scrollY=M;var Y=w+c,X=M+g;this.midPoint.set(Y,X);var N=Math.floor(f/m+.5),V=Math.floor(d/y+.5),I=Math.floor(Y-N/2+.5),B=Math.floor(X-V/2+.5);this.worldView.setTo(I,B,N,V),T.applyITRS(Math.floor(this.x+S+.5),Math.floor(this.y+C+.5),this.rotation,m,y),T.translate(-S,-C),this.shakeEffect.preRender(),D&&this.emit(s.FOLLOW_UPDATE,this,P)},setLerp:function(f,d){return f===void 0&&(f=1),d===void 0&&(d=f),this.lerp.set(f,d),this},setFollowOffset:function(f,d){return f===void 0&&(f=0),d===void 0&&(d=0),this.followOffset.set(f,d),this},startFollow:function(f,d,c,g,m,y){d===void 0&&(d=!1),c===void 0&&(c=1),g===void 0&&(g=c),m===void 0&&(m=0),y===void 0&&(y=m),this._follow=f,this.roundPixels=d,c=a(c,0,1),g=a(g,0,1),this.lerp.set(c,g),this.followOffset.set(m,y);var T=this.width/2,S=this.height/2,C=f.x-m,P=f.y-y;return this.midPoint.set(C,P),this.scrollX=C-T,this.scrollY=P-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(f,d){this.visible&&(this.rotateToEffect.update(f,d),this.panEffect.update(f,d),this.zoomEffect.update(f,d),this.shakeEffect.update(f,d),this.flashEffect.update(f,d),this.fadeEffect.update(f,d))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=u},32743:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38058),v=t(83419),a=t(95540),r=t(37277),n=t(37303),e=t(97480),s=t(44594),o=new v({initialize:function(l){this.scene=l,this.systems=l.sys,this.roundPixels=l.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,l.sys.events.once(s.BOOT,this.boot,this),l.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var l=this.systems.events;l.on(s.UPDATE,this.update,this),l.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,l,u,f,d,c){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),d===void 0&&(d=!1),c===void 0&&(c="");var g=new h(i,l,u,f);return g.setName(c),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),d&&(this.main=g),g},addExisting:function(i,l){l===void 0&&(l=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),l&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,l=1,u=0;u<32;u++){for(var f=!1,d=0;d<i.length;d++){var c=i[d];if(c&&c.id===l){f=!0;continue}}if(f)l=l<<1;else return l}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var l=0,u=this.cameras,f=0;f<u.length;f++){var d=u[f];(!i||i&&d.visible)&&l++}return l},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var l=this.scene.sys.scale.width,u=this.scene.sys.scale.height,f=0;f<i.length;f++){var d=i[f],c=a(d,"x",0),g=a(d,"y",0),m=a(d,"width",l),y=a(d,"height",u),T=this.add(c,g,m,y);T.name=a(d,"name",""),T.zoom=a(d,"zoom",1),T.rotation=a(d,"rotation",0),T.scrollX=a(d,"scrollX",0),T.scrollY=a(d,"scrollY",0),T.roundPixels=a(d,"roundPixels",!1),T.visible=a(d,"visible",!0);var S=a(d,"backgroundColor",!1);S&&T.setBackgroundColor(S);var C=a(d,"bounds",null);if(C){var P=a(C,"x",0),b=a(C,"y",0),w=a(C,"width",l),M=a(C,"height",u);T.setBounds(P,b,w,M)}}return this},getCamera:function(i){for(var l=this.cameras,u=0;u<l.length;u++)if(l[u].name===i)return l[u];return null},getCamerasBelowPointer:function(i){for(var l=this.cameras,u=i.x,f=i.y,d=[],c=0;c<l.length;c++){var g=l[c];g.visible&&g.inputEnabled&&n(g,u,f)&&d.unshift(g)}return d},remove:function(i,l){l===void 0&&(l=!0),Array.isArray(i)||(i=[i]);for(var u=0,f=this.cameras,d=0;d<i.length;d++){var c=f.indexOf(i[d]);c!==-1&&(l?f[c].destroy():f[c].renderList=[],f.splice(c,1),u++)}return!this.main&&f[0]&&(this.main=f[0]),u},render:function(i,l){for(var u=this.scene,f=this.cameras,d=0;d<f.length;d++){var c=f[d];if(c.visible&&c.alpha>0){c.preRender();var g=this.getVisibleChildren(l.getChildren(),c);i.render(u,g,c)}}},getVisibleChildren:function(i,l){return i.filter(function(u){return u.willRender(l)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,l)},onResize:function(i,l,u,f,d){for(var c=0;c<this.cameras.length;c++){var g=this.cameras[c];g._x===0&&g._y===0&&g._width===f&&g._height===d&&g.setSize(l.width,l.height)}},resize:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,l)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var l=this.systems.events;l.off(s.UPDATE,this.update,this),l.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",o,"cameras"),p.exports=o},5020:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(19715),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,s,o,i,l,u,f){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),!l&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=s,this.green=o,this.blue=i,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f;var d=n?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,s,o,i),this.camera},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,o=this.red/255,i=this.green/255,l=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(l,i,o,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},10662:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(19715),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,s,o,i,l,u){return n===void 0&&(n=250),e===void 0&&(e=255),s===void 0&&(s=255),o===void 0&&(o=255),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=s,this.blue=o,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(a.FLASH_START,this.camera,this,n,e,s,o),this.camera)},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var s=this.camera,o=this.red/255,i=this.green/255,l=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(l,i,o,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},20359:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(62640),r=t(19715),n=t(26099),e=new v({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,o,i,l,u,f,d){i===void 0&&(i=1e3),l===void 0&&(l=a.Linear),u===void 0&&(u=!1),f===void 0&&(f=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(s,o),c.getScroll(s,o,this.current),typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=d,this.camera.emit(r.PAN_START,this.camera,this,i,s,o)),c},update:function(s,o){if(this.isRunning){this._elapsed+=o;var i=h(this._elapsed/this.duration,0,1);this.progress=i;var l=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);l.getScroll(this.destination.x,this.destination.y,this.current);var f=this.source.x+(this.current.x-this.source.x)*u,d=this.source.y+(this.current.y-this.source.y)*u;l.setScroll(f,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,f,d)}else l.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,l.scrollX,l.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},34208:(p,x,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(45319),v=t(83419),a=t(19715),r=t(62640),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,o,i,l,u,f){o===void 0&&(o=1e3),i===void 0&&(i=r.Linear),l===void 0&&(l=!1),u===void 0&&(u=null),f===void 0&&(f=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;d=d-Math.floor(d/c)*c;var g=this.camera;if(!l&&this.isRunning)return g;if(this.isRunning=!0,this.duration=o,this.progress=0,this.source=g.rotation,this.destination=d,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=f,this.shortestPath){var m=0,y=0;this.destination>this.source?m=Math.abs(this.destination-this.source):m=Math.abs(this.destination+c)-this.source,this.source>this.destination?y=Math.abs(this.source-this.destination):y=Math.abs(this.source+c)-this.destination,m<y?this.clockwise=!0:m>y&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,o,d),g},update:function(e,s){if(this.isRunning){this._elapsed+=s;var o=h(this._elapsed/this.duration,0,1);this.progress=o;var i=this.camera;if(this._elapsed<this.duration){var l=this.ease(o);this.current=i.rotation;var u=0,f=360*Math.PI/180,d=this.destination,c=this.current;this.clockwise===!1&&(d=this.current,c=this.destination),d>=c?u=Math.abs(d-c):u=Math.abs(d+f)-c;var g=0;this.clockwise?g=i.rotation+u*l:g=i.rotation-u*l,i.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,g)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=n},30330:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(19715),r=t(26099),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,l){return e===void 0&&(e=100),s===void 0&&(s=.05),o===void 0&&(o=!1),i===void 0&&(i=null),l===void 0&&(l=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=l,this.camera.emit(a.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(this.isRunning)if(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var o=this.intensity,i=this.camera.width,l=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*o.x*i*2-o.x*i)*u,this._offsetY=(Math.random()*o.y*l*2-o.y*l)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=n},45641:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(62640),r=t(19715),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,l,u){s===void 0&&(s=1e3),o===void 0&&(o=a.Linear),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene);var f=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=f.zoom,this.destination=e,typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(r.ZOOM_START,this.camera,this,s,e)),f},update:function(e,s){this.isRunning&&(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=n},20052:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},32726:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},87807:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},45917:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},95666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},47056:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},91261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},45047:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},81927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},74264:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},54419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},79330:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},93183:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},80112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},62252:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},86017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},539:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},51892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},19715:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(35154),a=new h({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(n,"speed.x",0),this.speedY=v(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},58818:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(35154),a=new h({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(n,"acceleration.x",0),this.accelY=v(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=v(n,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=v(n,"drag.x",0),this.dragY=v(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var o=v(n,"maxSpeed",null);typeof o=="number"?(this.maxSpeedX=o,this.maxSpeedY=o):(this.maxSpeedX=v(n,"maxSpeed.x",0),this.maxSpeedY=v(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*r|0),this._speedY!==0&&(n.scrollY-=this._speedY*r|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},38865:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=h},69547:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(8054),a=t(42363),r=t(82264),n=t(95540),e=t(35154),s=t(41212),o=t(29747),i=t(75508),l=t(36060),u=t(80333),f=new h({initialize:function(c){c===void 0&&(c={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],m="#ffffff",y=e(c,"scale",null);this.width=e(y,"width",1024,c),this.height=e(y,"height",768,c),this.zoom=e(y,"zoom",1,c),this.parent=e(y,"parent",void 0,c),this.scaleMode=e(y,y?"mode":"scaleMode",0,c),this.expandParent=e(y,"expandParent",!0,c),this.autoRound=e(y,"autoRound",!1,c),this.autoCenter=e(y,"autoCenter",0,c),this.resizeInterval=e(y,"resizeInterval",500,c),this.fullscreenTarget=e(y,"fullscreenTarget",null,c),this.minWidth=e(y,"min.width",0,c),this.maxWidth=e(y,"max.width",0,c),this.minHeight=e(y,"min.height",0,c),this.maxHeight=e(y,"max.height",0,c),this.snapWidth=e(y,"snap.width",0,c),this.snapHeight=e(y,"snap.height",0,c),this.renderType=e(c,"type",v.AUTO),this.canvas=e(c,"canvas",null),this.context=e(c,"context",null),this.canvasStyle=e(c,"canvasStyle",null),this.customEnvironment=e(c,"customEnvironment",!1),this.sceneConfig=e(c,"scene",null),this.seed=e(c,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(c,"title",""),this.gameURL=e(c,"url","https://phaser.io/"+v.LOG_VERSION),this.gameVersion=e(c,"version",""),this.autoFocus=e(c,"autoFocus",!0),this.stableSort=e(c,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(c,"dom.createContainer",!1),this.domPointerEvents=e(c,"dom.pointerEvents","none"),this.inputKeyboard=e(c,"input.keyboard",!0),this.inputKeyboardEventTarget=e(c,"input.keyboard.target",window),this.inputKeyboardCapture=e(c,"input.keyboard.capture",[]),this.inputMouse=e(c,"input.mouse",!0),this.inputMouseEventTarget=e(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(c,"input.touch",r.input.touch),this.inputTouchEventTarget=e(c,"input.touch.target",null),this.inputTouchCapture=e(c,"input.touch.capture",!0),this.inputActivePointers=e(c,"input.activePointers",1),this.inputSmoothFactor=e(c,"input.smoothFactor",0),this.inputWindowEvents=e(c,"input.windowEvents",!0),this.inputGamepad=e(c,"input.gamepad",!1),this.inputGamepadEventTarget=e(c,"input.gamepad.target",window),this.disableContextMenu=e(c,"disableContextMenu",!1),this.audio=e(c,"audio",{}),this.hideBanner=e(c,"banner",null)===!1,this.hidePhaser=e(c,"banner.hidePhaser",!1),this.bannerTextColor=e(c,"banner.text",m),this.bannerBackgroundColor=e(c,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(c,"fps",null),this.disablePreFX=e(c,"disablePreFX",!1),this.disablePostFX=e(c,"disablePostFX",!1);var T=e(c,"render",null);this.pipeline=e(T,"pipeline",null,c),this.autoMobilePipeline=e(T,"autoMobilePipeline",!0,c),this.defaultPipeline=e(T,"defaultPipeline",l.MULTI_PIPELINE,c),this.antialias=e(T,"antialias",!0,c),this.antialiasGL=e(T,"antialiasGL",!0,c),this.mipmapFilter=e(T,"mipmapFilter","",c),this.desynchronized=e(T,"desynchronized",!1,c),this.roundPixels=e(T,"roundPixels",!1,c),this.pixelArt=e(T,"pixelArt",this.zoom!==1,c),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(T,"transparent",!1,c),this.clearBeforeRender=e(T,"clearBeforeRender",!0,c),this.preserveDrawingBuffer=e(T,"preserveDrawingBuffer",!1,c),this.premultipliedAlpha=e(T,"premultipliedAlpha",!0,c),this.failIfMajorPerformanceCaveat=e(T,"failIfMajorPerformanceCaveat",!1,c),this.powerPreference=e(T,"powerPreference","default",c),this.batchSize=e(T,"batchSize",4096,c),this.maxTextures=e(T,"maxTextures",-1,c),this.maxLights=e(T,"maxLights",10,c);var S=e(c,"backgroundColor",0);this.backgroundColor=u(S),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(c,"callbacks.preBoot",o),this.postBoot=e(c,"callbacks.postBoot",o),this.physics=e(c,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(c,"loader.baseURL",""),this.loaderPath=e(c,"loader.path",""),this.loaderMaxParallelDownloads=e(c,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(c,"loader.crossOrigin",void 0),this.loaderResponseType=e(c,"loader.responseType",""),this.loaderAsync=e(c,"loader.async",!0),this.loaderUser=e(c,"loader.user",""),this.loaderPassword=e(c,"loader.password",""),this.loaderTimeout=e(c,"loader.timeout",0),this.loaderMaxRetries=e(c,"loader.maxRetries",2),this.loaderWithCredentials=e(c,"loader.withCredentials",!1),this.loaderImageLoadType=e(c,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(c,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(c,"fx.glow.quality",.1),this.glowFXDistance=e(c,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var C=e(c,"plugins",null),P=a.DefaultScene;C&&(Array.isArray(C)?this.defaultPlugins=C:s(C)&&(this.installGlobalPlugins=n(C,"global",[]),this.installScenePlugins=n(C,"scene",[]),Array.isArray(C.default)?P=C.default:Array.isArray(C.defaultMerge)&&(P=P.concat(C.defaultMerge)))),this.defaultPlugins=P;var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(c,"images.default",b+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(c,"images.missing",b+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});p.exports=f},86054:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20623),v=t(27919),a=t(8054),r=t(89357),n=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==a.HEADLESS)if(s.renderType===a.AUTO&&(s.renderType=r.webGL?a.WEBGL:a.CANVAS),s.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||v.disableSmoothing();var o=e.scale.baseSize,i=o.width,l=o.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=l):e.canvas=v.create(e,i,l,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||h.setCrisp(e.canvas),s.renderType!==a.HEADLESS){var u,f;u=t(68627),f=t(74797),s.renderType===a.WEBGL?e.renderer=new f(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};p.exports=n},96391:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),v=function(a){var r=a.config;if(!r.hideBanner){var n="WebGL";r.renderType===h.CANVAS?n="Canvas":r.renderType===h.HEADLESS&&(n="Headless");var e=r.audio,s=a.device.audio,o;if(s.webAudio&&!e.disableWebAudio?o="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?o="No Audio":o="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var i="",l=[i];if(Array.isArray(r.bannerBackgroundColor)){var u;r.bannerBackgroundColor.forEach(function(d){i=i.concat("%c "),l.push("background: "+d),u=d}),l[l.length-1]="color: "+r.bannerTextColor+"; background: "+u}else i=i.concat("%c "),l.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);l.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var f="";r.hidePhaser||(i=i.concat("Phaser v"+h.VERSION+f+" ("+n+" | "+o+")")),i=i.concat(" %c "+r.gameURL),l[0]=i,console.log.apply(console,l)}}};p.exports=v},50127:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),v=t(60848),a=t(24047),r=t(27919),n=t(83419),e=t(69547),s=t(83719),o=t(86054),i=t(45893),l=t(96391),u=t(82264),f=t(57264),d=t(50792),c=t(8443),g=t(7003),m=t(37277),y=t(77332),T=t(76531),S=t(60903),C=t(69442),P=t(17130),b=t(65898),w=t(51085),M=t(14747),D=new n({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new v(this),this.textures=new P(this),this.cache=new a(this),this.registry=new i(this,new d),this.input=new g(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=u,this.scale=new T(this,this.config),this.sound=null,this.sound=M.create(this),this.loop=new b(this,this.config.fps),this.plugins=new y(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,f(this.boot.bind(this))},boot:function(){if(!m.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),o(this),s(this),l(this),h(this.canvas,this.config.parent),this.textures.once(C.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),w(this);var O=this.events;O.on(c.HIDDEN,this.onHidden,this),O.on(c.VISIBLE,this.onVisible,this),O.on(c.BLUR,this.onBlur,this),O.on(c.FOCUS,this.onFocus,this)},step:function(O,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(c.PRE_STEP,O,U),W.emit(c.STEP,O,U),this.scene.update(O,U),W.emit(c.POST_STEP,O,U);var Y=this.renderer;Y.preRender(),W.emit(c.PRE_RENDER,Y,O,U),this.scene.render(Y),Y.postRender(),W.emit(c.POST_RENDER,Y,O,U)}},headlessStep:function(O,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(c.PRE_STEP,O,U),W.emit(c.STEP,O,U),this.scene.update(O,U),W.emit(c.POST_STEP,O,U),this.scene.isProcessing=!1,W.emit(c.PRE_RENDER,null,O,U),W.emit(c.POST_RENDER,null,O,U)}},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},pause:function(){var O=this.isPaused;this.isPaused=!0,O||this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME,this.loop.pauseDuration)},resume:function(){var O=this.isPaused;this.isPaused=!1,O&&this.events.emit(c.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(O,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=O,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=D},65898:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(35154),a=t(29747),r=t(43092),n=new h({initialize:function(s,o){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=v(o,"min",5),this.targetFps=v(o,"target",60),this.fpsLimit=v(o,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=v(o,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(o,"deltaHistory",10),this.panicMax=v(o,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(o,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,o=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=o[s],e=Math.min(e,this._min)),o[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var l=0,u=0;u<i;u++)l+=o[u];return l/=i,l},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=n},51085:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8443),v=function(a){var r,n=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(o){document[o+"Hidden"]!==void 0&&(document.hidden=function(){return document[o+"Hidden"]},r=o+"visibilitychange")})}var s=function(o){document.hidden||o.type==="pause"?n.emit(h.HIDDEN):n.emit(h.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){n.emit(h.BLUR)},window.onfocus=function(){n.emit(h.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};p.exports=v},97217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},47548:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},19814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},68446:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},41700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},25432:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},65942:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},59211:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},47789:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},39066:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},460:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},16175:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},42331:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},11966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},32969:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="systemready"},94830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},8443:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5290),v=t(27919),a=t(35154),r=function(n){var e=a(n,"data",[]),s=a(n,"canvas",null),o=a(n,"palette",h),i=a(n,"pixelWidth",1),l=a(n,"pixelHeight",i),u=a(n,"resizeCanvas",!0),f=a(n,"clearCanvas",!0),d=a(n,"preRender",null),c=a(n,"postRender",null),g=Math.floor(Math.abs(e[0].length*i)),m=Math.floor(Math.abs(e.length*l));s||(s=v.create2D(this,g,m),u=!1,f=!1),u&&(s.width=g,s.height=m);var y=s.getContext("2d",{willReadFrequently:!0});f&&y.clearRect(0,0,g,m),d&&d(s,y);for(var T=0;T<e.length;T++)for(var S=e[T],C=0;C<S.length;C++){var P=S[C];P!=="."&&P!==" "&&(y.fillStyle=o[P],y.fillRect(C*i,T*l,i,l))}return c&&c(s,y),s};p.exports=r},15822:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(36316),a=t(80021),r=t(26099),n=new h({Extends:a,initialize:function(s,o,i,l){a.call(this,"CubicBezierCurve"),Array.isArray(s)&&(l=new r(s[6],s[7]),i=new r(s[4],s[5]),o=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i,this.p3=l},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.p0,i=this.p1,l=this.p2,u=this.p3;return s.set(v(e,o.x,i.x,l.x,u.x),v(e,o.y,i.y,l.y,u.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var s=e.points,o=new r(s[0],s[1]),i=new r(s[2],s[3]),l=new r(s[4],s[5]),u=new r(s[6],s[7]);return new n(o,i,l,u)},p.exports=n},80021:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(19217),a=t(87841),r=t(26099),n=new h({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new a),s===void 0&&(s=16);var o=this.getLength();s>o&&(s=o/2);var i=Math.max(1,Math.round(o/s));return v(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),o=Math.max(1,s/e);return this.getSpacedPoints(o)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],o,i=this.getPoint(0,this._tmpVec2A),l=0;s.push(0);for(var u=1;u<=e;u++)o=this.getPoint(u/e,this._tmpVec2B),l+=o.distance(i),s.push(l),i.copy(o);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var o=this.getUtoTmapping(e);return this.getPoint(o,s)},getPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)o.push(this.getPoint(i/e));return o},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var l=this.getUtoTmapping(i/e,null,e);o.push(this.getPoint(l))}return o},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new r);var o=1e-4,i=e-o,l=e+o;return i<0&&(i=0),l>1&&(l=1),this.getPoint(i,this._tmpVec2A),this.getPoint(l,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var o=this.getUtoTmapping(e);return this.getTangent(o,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,o){var i=this.getLengths(o),l=0,u=i.length,f;s?f=Math.min(s,i[u-1]):f=e*i[u-1];for(var d=0,c=u-1,g;d<=c;)if(l=Math.floor(d+(c-d)/2),g=i[l]-f,g<0)d=l+1;else if(g>0)c=l-1;else{c=l;break}if(l=c,i[l]===f)return l/(u-1);var m=i[l],y=i[l+1],T=y-m,S=(f-m)/T;return(l+S)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=n},73825:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(80021),a=t(39506),r=t(35154),n=t(43396),e=t(26099),s=new h({Extends:v,initialize:function(i,l,u,f,d,c,g,m){if(typeof i=="object"){var y=i;i=r(y,"x",0),l=r(y,"y",0),u=r(y,"xRadius",0),f=r(y,"yRadius",u),d=r(y,"startAngle",0),c=r(y,"endAngle",360),g=r(y,"clockwise",!1),m=r(y,"rotation",0)}else f===void 0&&(f=u),d===void 0&&(d=0),c===void 0&&(c=360),g===void 0&&(g=!1),m===void 0&&(m=0);v.call(this,"EllipseCurve"),this.p0=new e(i,l),this._xRadius=u,this._yRadius=f,this._startAngle=a(d),this._endAngle=a(c),this._clockwise=g,this._rotation=a(m)},getStartPoint:function(o){return o===void 0&&(o=new e),this.getPoint(0,o)},getResolution:function(o){return o*2},getPoint:function(o,i){i===void 0&&(i=new e);for(var l=Math.PI*2,u=this._endAngle-this._startAngle,f=Math.abs(u)<Number.EPSILON;u<0;)u+=l;for(;u>l;)u-=l;u<Number.EPSILON&&(f?u=0:u=l),this._clockwise&&!f&&(u===l?u=-l:u=u-l);var d=this._startAngle+o*u,c=this.p0.x+this._xRadius*Math.cos(d),g=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var m=Math.cos(this._rotation),y=Math.sin(this._rotation),T=c-this.p0.x,S=g-this.p0.y;c=T*m-S*y+this.p0.x,g=T*y+S*m+this.p0.y}return i.set(c,g)},setXRadius:function(o){return this.xRadius=o,this},setYRadius:function(o){return this.yRadius=o,this},setWidth:function(o){return this.xRadius=o/2,this},setHeight:function(o){return this.yRadius=o/2,this},setStartAngle:function(o){return this.startAngle=o,this},setEndAngle:function(o){return this.endAngle=o,this},setClockwise:function(o){return this.clockwise=o,this},setRotation:function(o){return this.rotation=o,this},x:{get:function(){return this.p0.x},set:function(o){this.p0.x=o}},y:{get:function(){return this.p0.y},set:function(o){this.p0.y=o}},xRadius:{get:function(){return this._xRadius},set:function(o){this._xRadius=o}},yRadius:{get:function(){return this._yRadius},set:function(o){this._yRadius=o}},startAngle:{get:function(){return n(this._startAngle)},set:function(o){this._startAngle=a(o)}},endAngle:{get:function(){return n(this._endAngle)},set:function(o){this._endAngle=a(o)}},clockwise:{get:function(){return this._clockwise},set:function(o){this._clockwise=o}},angle:{get:function(){return n(this._rotation)},set:function(o){this._rotation=a(o)}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=o}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});s.fromJSON=function(o){return new s(o)},p.exports=s},33951:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(80021),a=t(19217),r=t(87841),n=t(26099),e=new h({Extends:v,initialize:function(o,i){v.call(this,"LineCurve"),Array.isArray(o)&&(i=new n(o[2],o[3]),o=new n(o[0],o[1])),this.p0=o,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),a([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new n),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,o){return o===void 0&&(o=new n),s===1?o.copy(this.p1):(o.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),o)},getPointAt:function(s,o){return this.getPoint(s,o)},getTangent:function(s,o){return o===void 0&&(o=new n),o.copy(this.p1).subtract(this.p0).normalize(),o},getUtoTmapping:function(s,o,i){var l;if(o){var u=this.getLengths(i),f=u[u.length-1],d=Math.min(o,f);l=d/f}else l=s;return l},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var o=s.points,i=new n(o[0],o[1]),l=new n(o[2],o[3]);return new e(i,l)},p.exports=e},14744:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(80021),a=t(32112),r=t(26099),n=new h({Extends:v,initialize:function(s,o,i){v.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new r(s[4],s[5]),o=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.p0,i=this.p1,l=this.p2;return s.set(a(e,o.x,i.x,l.x),a(e,o.y,i.y,l.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var s=e.points,o=new r(s[0],s[1]),i=new r(s[2],s[3]),l=new r(s[4],s[5]);return new n(o,i,l)},p.exports=n},42534:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),v=t(83419),a=t(80021),r=t(26099),n=new v({Extends:a,initialize:function(s){s===void 0&&(s=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var o=new r;typeof e[s]=="number"?(o.x=e[s],o.y=e[s+1],s++):Array.isArray(e[s])?(o.x=e[s][0],o.y=e[s][1]):(o.x=e[s].x,o.y=e[s].y),this.points.push(o)}return this},addPoint:function(e,s){var o=new r(e,s);return this.points.push(o),o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.points,i=(o.length-1)*e,l=Math.floor(i),u=i-l,f=o[l===0?l:l-1],d=o[l],c=o[l>o.length-2?o.length-1:l+1],g=o[l>o.length-3?o.length-1:l+2];return s.set(h(u,f.x,d.x,c.x,g.x),h(u,f.y,d.y,c.y,g.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},p.exports=n},25410:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(26099),a=new h({initialize:function(n,e){this.active=!1,this.p0=new v(n,e)},getPoint:function(r,n){return n===void 0&&(n=new v),n.copy(this.p0)},getPointAt:function(r,n){return this.getPoint(r,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=a},46669:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(46728),a=t(73825),r=t(39429),n=t(33951),e=t(68618),s=t(14744),o=t(87841),i=t(42534),l=t(26099),u=t(36383),f=new h({initialize:function(c,g){c===void 0&&(c=0),g===void 0&&(g=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new l,this._tmpVec2A=new l,this._tmpVec2B=new l,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,g)},add:function(d){return this.curves.push(d),this},circleTo:function(d,c,g){return c===void 0&&(c=!1),this.ellipseTo(d,d,0,360,c,g)},closePath:function(){var d=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return d.equals(c)||this.curves.push(new n(c,d)),this},cubicBezierTo:function(d,c,g,m,y,T){var S=this.getEndPoint(),C,P,b;return d instanceof l?(C=d,P=c,b=g):(C=new l(g,m),P=new l(y,T),b=new l(d,c)),this.add(new v(S,C,P,b))},quadraticBezierTo:function(d,c,g,m){var y=this.getEndPoint(),T,S;return d instanceof l?(T=d,S=c):(T=new l(g,m),S=new l(d,c)),this.add(new s(y,T,S))},draw:function(d,c){for(var g=0;g<this.curves.length;g++){var m=this.curves[g];m.active&&m.draw(d,c)}return d},ellipseTo:function(d,c,g,m,y,T){var S=new a(0,0,d,c,g,m,y,T),C=this.getEndPoint(this._tmpVec2A),P=S.getStartPoint(this._tmpVec2B);return C.subtract(P),S.x=C.x,S.y=C.y,this.add(S)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var c=0;c<d.curves.length;c++){var g=d.curves[c];switch(g.type){case"LineCurve":this.add(n.fromJSON(g));break;case"EllipseCurve":this.add(a.fromJSON(g));break;case"SplineCurve":this.add(i.fromJSON(g));break;case"CubicBezierCurve":this.add(v.fromJSON(g));break;case"QuadraticBezierCurve":this.add(s.fromJSON(g));break}}return this},getBounds:function(d,c){d===void 0&&(d=new o),c===void 0&&(c=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var g=new o,m=u.MIN_SAFE_INTEGER,y=u.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var S=this.curves[T];S.active&&(S.getBounds(g,c),d.x=Math.min(d.x,g.x),d.y=Math.min(d.y,g.y),m=Math.max(m,g.right),y=Math.max(y,g.bottom))}return d.right=m,d.bottom=y,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],c=0,g=0;g<this.curves.length;g++)c+=this.curves[g].getLength(),d.push(c);return this.cacheLengths=d,d},getCurveAt:function(d){for(var c=d*this.getLength(),g=this.getCurveLengths(),m=0;m<g.length;){if(g[m]>=c)return this.curves[m];m++}return null},getEndPoint:function(d){return d===void 0&&(d=new l),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,c){c===void 0&&(c=new l);for(var g=d*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=g){var T=m[y]-g,S=this.curves[y],C=S.getLength(),P=C===0?0:1-T/C;return S.getPointAt(P,c)}y++}return null},getPoints:function(d,c){!d&&!c&&(d=this.defaultDivisions);for(var g=[],m,y=0;y<this.curves.length;y++){var T=this.curves[y];if(T.active)for(var S=T.getResolution(d),C=T.getPoints(S,c),P=0;P<C.length;P++){var b=C[P];m&&m.equals(b)||(g.push(b),m=b)}}return this.autoClose&&g.length>1&&!g[g.length-1].equals(g[0])&&g.push(g[0]),g},getRandomPoint:function(d){return d===void 0&&(d=new l),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var c=[],g=0;g<=d;g++)c.push(this.getPoint(g/d));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(d){return d===void 0&&(d=new l),d.copy(this.startPoint)},getTangent:function(d,c){c===void 0&&(c=new l);for(var g=d*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=g){var T=m[y]-g,S=this.curves[y],C=S.getLength(),P=C===0?0:1-T/C;return S.getTangentAt(P,c)}y++}return null},lineTo:function(d,c){d instanceof l?this._tmpVec2B.copy(d):typeof d=="object"?this._tmpVec2B.setFromObject(d):this._tmpVec2B.set(d,c);var g=this.getEndPoint(this._tmpVec2A);return this.add(new n([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new i(d))},moveTo:function(d,c){return d instanceof l?this.add(new e(d.x,d.y)):this.add(new e(d,c))},toJSON:function(){for(var d=[],c=0;c<this.curves.length;c++)d.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(d,c){return new f(d,c)}),p.exports=f},45893:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(24882),a=new h({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(r){var n=this.list;if(Array.isArray(r)){for(var e=[],s=0;s<r.length;s++)e.push(n[r[s]]);return e}else return n[r]},getAll:function(){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&(r[n]=this.list[n]);return r},query:function(r){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(n[e]=this.list[e]);return n},set:function(r,n){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,n);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+n),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,n){if(this._frozen)return this;if(this.has(r))this.values[r]=n;else{var e=this,s=this.list,o=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(l){if(!e._frozen){var u=s[r];s[r]=l,o.emit(v.CHANGE_DATA,i,r,l,u),o.emit(v.CHANGE_DATA_KEY+r,i,l,u)}}}),s[r]=n,o.emit(v.SET_DATA,i,r,n)}return this},each:function(r,n){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var o in this.list)e[1]=o,e[2]=this.list[o],r.apply(n,e);return this},merge:function(r,n){n===void 0&&(n=!0);for(var e in r)r.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var n=0;n<r.length;n++)this.removeValue(r[n]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var n=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,n)}return this},pop:function(r){var n=void 0;return!this._frozen&&this.has(r)&&(n=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,n)),n},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var n in this.list)this.list[n]!==void 0&&r++;return r}}});p.exports=a},63646:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(45893),a=t(37277),r=t(44594),n=new h({Extends:v,initialize:function(s){v.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",n,"data"),p.exports=n},10700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},93608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},60883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},69780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},22166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},24882:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),n=!!r.canPlayType;try{if(n){var e=function(i,l){var u=r.canPlayType("audio/"+i).replace(/^no$/,"");return l?!!(u||r.canPlayType("audio/"+l).replace(/^no$/,"")):!!u};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)v.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(s===10&&o>=11||s>10)&&(v.dolby=!0)}}}}catch{}return v}p.exports=a()},84148:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(v.edge=!0,v.es2019=!0):/OPR/.test(r)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(r)&&!h.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&h.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!h.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(v.silk=!0),v}p.exports=a()},89289:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",o=new Image;return o.onload=function(){var i=new Image;i.onload=function(){var l=h.create2D(i,6),u=l.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(o,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var f=u.getImageData(2,0,1,1).data;h.remove(i),v.supportNewBlendModes=f[0]===255&&f[1]===0&&f[2]===0},i.src=e+"/wCKxvRF"+s},o.src=e+"AP804Oa6"+s,!1}function r(){var e=h.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var o=s.getImageData(0,0,1,1);if(o===null)return!1;s.putImageData(o,1,0);var i=s.getImageData(1,0,1,1),l=i.data[0]===o.data[0]&&i.data[1]===o.data[1]&&i.data[2]===o.data[2]&&i.data[3]===o.data[3];return h.remove(this),l}function n(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=a(),v.supportInverseAlpha=r()),v}p.exports=n()},89357:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),v=t(84148),a=t(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var s=new ArrayBuffer(4),o=new Uint8Array(s),i=new Uint32Array(s);return o[0]=161,o[1]=178,o[2]=195,o[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,o=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),l=i.getContext("webgl")||i.getContext("experimental-webgl"),u=a.create2D(this),f=u.getContext("2d",{willReadFrequently:!0}),d=f.createImageData(1,1);return s=d.data instanceof Uint8ClampedArray,a.remove(i),a.remove(u),!!l}catch{return!1}return!1};return r.webGL=o(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(r.getUserMedia=!1),!h.iOS&&(v.ie||v.firefox||v.chrome)&&(r.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=n()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}p.exports=e()},91639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return x;var h,v="Fullscreen",a="FullScreen",r=["request"+v,"request"+a,"webkitRequest"+v,"webkitRequest"+a,"msRequest"+v,"msRequest"+a,"mozRequest"+a,"mozRequest"+v];for(h=0;h<r.length;h++)if(document.documentElement[r[h]]){x.available=!0,x.request=r[h];break}var n=["cancel"+a,"exit"+v,"webkitCancel"+a,"webkitExit"+v,"msCancel"+a,"msExit"+v,"mozCancel"+a,"mozExit"+v];if(x.available){for(h=0;h<n.length;h++)if(document[n[h]]){x.cancel=n[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}p.exports=t()},31784:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}p.exports=a()},25892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return x;var h=navigator.userAgent;/Windows/.test(h)?x.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(h)?x.android=!0:/Linux/.test(h)?x.linux=!0:/iP[ao]d|iPhone/i.test(h)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=h.toLowerCase().indexOf("iphone")!==-1,x.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?x.kindle=!0:/CrOS/.test(h)&&(x.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var v=/Silk/.test(h);return(x.windows||x.macOS||x.linux&&!v||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}p.exports=t()},43267:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return v;var r=document.createElement("video"),n=!!r.canPlayType,e=/^no$/;try{n&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),v.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=h(s[o],"url",s[o]);if(i.indexOf("blob:")===0)return{url:i,type:""};var l;if(i.indexOf("data:")===0?l=i.split(",")[0].match(/\/(.*?);/):l=i.match(/\.([a-zA-Z0-9]+)($|\?)/),l=h(s[o],"type",l?l[1]:"").toLowerCase(),v[l])return{url:i,type:l}}return null},v}p.exports=a()},82264:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new Float32Array(20),a=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],n)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1),r=r/180*Math.PI;var e=Math.cos(r),s=Math.sin(r),o=.213,i=.715,l=.072;return this.multiply([o+e*(1-o)+s*-.213,i+e*-.715+s*-.715,l+e*-.072+s*(1-l),0,0,o+e*-.213+s*.143,i+e*(1-i)+s*.14,l+e*-.072+s*-.283,0,0,o+e*-.213+s*-.787,i+e*-.715+s*i,l+e*(1-l)+s*l,0,0,0,0,0,1,0],n)},grayscale:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=!1),this.saturate(-r,n)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],n)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,n){return r===void 0&&(r=.1),n===void 0&&(n=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],n)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,s=v;return s.set(e),e.set([s[0]*r[0]+s[1]*r[5]+s[2]*r[10]+s[3]*r[15],s[0]*r[1]+s[1]*r[6]+s[2]*r[11]+s[3]*r[16],s[0]*r[2]+s[1]*r[7]+s[2]*r[12]+s[3]*r[17],s[0]*r[3]+s[1]*r[8]+s[2]*r[13]+s[3]*r[18],s[0]*r[4]+s[1]*r[9]+s[2]*r[14]+s[3]*r[19]+s[4],s[5]*r[0]+s[6]*r[5]+s[7]*r[10]+s[8]*r[15],s[5]*r[1]+s[6]*r[6]+s[7]*r[11]+s[8]*r[16],s[5]*r[2]+s[6]*r[7]+s[7]*r[12]+s[8]*r[17],s[5]*r[3]+s[6]*r[8]+s[7]*r[13]+s[8]*r[18],s[5]*r[4]+s[6]*r[9]+s[7]*r[14]+s[8]*r[19]+s[9],s[10]*r[0]+s[11]*r[5]+s[12]*r[10]+s[13]*r[15],s[10]*r[1]+s[11]*r[6]+s[12]*r[11]+s[13]*r[16],s[10]*r[2]+s[11]*r[7]+s[12]*r[12]+s[13]*r[17],s[10]*r[3]+s[11]*r[8]+s[12]*r[13]+s[13]*r[18],s[10]*r[4]+s[11]*r[9]+s[12]*r[14]+s[13]*r[19]+s[14],s[15]*r[0]+s[16]*r[5]+s[17]*r[10]+s[18]*r[15],s[15]*r[1]+s[16]*r[6]+s[17]*r[11]+s[18]*r[16],s[15]*r[2]+s[16]*r[7]+s[17]*r[12]+s[18]*r[17],s[15]*r[3]+s[16]*r[8]+s[17]*r[13]+s[18]*r[18],s[15]*r[4]+s[16]*r[9]+s[17]*r[14]+s[18]*r[19]+s[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=a},51767:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(29747),a=new h({initialize:function(n,e,s){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(n,e,s)},set:function(r,n,e){return r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[r,n,e],this.onChange(),this},equals:function(r,n,e){var s=this._rgb;return s[0]===r&&s[1]===n&&s[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=a},60461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=x},54312:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(35893),a=t(86327),r=t(88417),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,h(s)+i),e};p.exports=n},46768:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(26541),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,h(s)+i),e};p.exports=n},35827:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(54380),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,h(s)+i),e};p.exports=n},46871:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66786),v=t(35893),a=t(7702),r=function(n,e,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),h(n,v(e)+s,a(e)+o),n};p.exports=r},5198:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),v=t(26541),a=t(20786),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,h(s)+i),e};p.exports=n},11879:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),v=[];v[h.BOTTOM_CENTER]=t(54312),v[h.BOTTOM_LEFT]=t(46768),v[h.BOTTOM_RIGHT]=t(35827),v[h.CENTER]=t(46871),v[h.LEFT_CENTER]=t(5198),v[h.RIGHT_CENTER]=t(80503),v[h.TOP_CENTER]=t(89698),v[h.TOP_LEFT]=t(922),v[h.TOP_RIGHT]=t(21373),v[h.LEFT_BOTTOM]=v[h.BOTTOM_LEFT],v[h.LEFT_TOP]=v[h.TOP_LEFT],v[h.RIGHT_BOTTOM]=v[h.BOTTOM_RIGHT],v[h.RIGHT_TOP]=v[h.TOP_RIGHT];var a=function(r,n,e,s,o){return v[e](r,n,s,o)};p.exports=a},80503:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),v=t(54380),a=t(20786),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,h(s)+i),e};p.exports=n},89698:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),v=t(17717),a=t(88417),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)+o),r(e,v(s)-i),e};p.exports=n},922:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),v=t(17717),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)-o),r(e,v(s)-i),e};p.exports=n},21373:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),v=t(17717),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)+o),r(e,v(s)-i),e};p.exports=n},91660:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),v=t(79291),a={In:t(91660),To:t(16694)};a=v(!1,a,h),p.exports=a},21578:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(35893),a=t(88417),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,v(s)+o),r(e,h(s)+i),e};p.exports=n},10210:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(26541),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,v(s)-o),r(e,h(s)+i),e};p.exports=n},82341:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(54380),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,v(s)+o),r(e,h(s)+i),e};p.exports=n},87958:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(26541),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,h(s)+i),e};p.exports=n},40080:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),v=t(26541),a=t(20786),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,h(s)+i),e};p.exports=n},88466:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),v=t(17717),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)-o),r(e,v(s)-i),e};p.exports=n},38829:(p,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),v=[];v[h.BOTTOM_CENTER]=t(21578),v[h.BOTTOM_LEFT]=t(10210),v[h.BOTTOM_RIGHT]=t(82341),v[h.LEFT_BOTTOM]=t(87958),v[h.LEFT_CENTER]=t(40080),v[h.LEFT_TOP]=t(88466),v[h.RIGHT_BOTTOM]=t(19211),v[h.RIGHT_CENTER]=t(34609),v[h.RIGHT_TOP]=t(48741),v[h.TOP_CENTER]=t(49440),v[h.TOP_LEFT]=t(81288),v[h.TOP_RIGHT]=t(61323);var a=function(r,n,e,s,o){return v[e](r,n,s,o)};p.exports=a},19211:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(54380),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,h(s)+i),e};p.exports=n},34609:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7702),v=t(54380),a=t(20786),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,h(s)+i),e};p.exports=n},48741:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),v=t(17717),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,h(s)+o),r(e,v(s)-i),e};p.exports=n},49440:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35893),v=t(17717),a=t(86327),r=t(88417),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,h(s)+o),a(e,v(s)-i),e};p.exports=n},81288:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26541),v=t(17717),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,h(s)-o),a(e,v(s)-i),e};p.exports=n},61323:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54380),v=t(17717),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,h(s)+o),a(e,v(s)-i),e};p.exports=n},16694:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88417),v=t(20786),a=function(r,n,e){return h(r,n),v(r,e)};p.exports=a},62235:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y+t.height-t.height*t.originY};p.exports=x},72873:(p,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62235),v=t(26541),a=t(54380),r=t(17717),n=t(87841),e=function(s,o){o===void 0&&(o=new n);var i=v(s),l=r(s);return o.x=i,o.y=l,o.width=a(s)-i,o.height=h(s)-l,o};p.exports=e},35893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=x},7702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=x},26541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX};p.exports=x},87431:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.originX};p.exports=x},46928:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height*t.originY};p.exports=x},54380:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x+t.width-t.width*t.originX};p.exports=x},17717:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY};p.exports=x},86327:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.y=h-t.height+t.height*t.originY,t};p.exports=x},88417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.width*t.originX;return t.x=h+v-t.width*.5,t};p.exports=x},20786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.height*t.originY;return t.y=h+v-t.height*.5,t};p.exports=x},385:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x=h+t.width*t.originX,t};p.exports=x},40136:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x=h-t.width+t.width*t.originX,t};p.exports=x},66737:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.y=h+t.height*t.originY,t};p.exports=x},58724:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=x},27919:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8054),v=t(68703),a=[],r=!1,n=function(){var e=function(g,m,y,T,S){m===void 0&&(m=1),y===void 0&&(y=1),T===void 0&&(T=h.CANVAS),S===void 0&&(S=!1);var C,P=i(T);return P===null?(P={parent:g,canvas:document.createElement("canvas"),type:T},T===h.CANVAS&&a.push(P),C=P.canvas):(P.parent=g,C=P.canvas),S&&(P.parent=C),C.width=m,C.height=y,r&&T===h.CANVAS&&v.disable(C.getContext("2d",{willReadFrequently:!1})),C},s=function(g,m,y){return e(g,m,y,h.CANVAS)},o=function(g,m,y){return e(g,m,y,h.WEBGL)},i=function(g){if(g===void 0&&(g=h.CANVAS),g===h.WEBGL)return null;for(var m=0;m<a.length;m++){var y=a[m];if(!y.parent&&y.type===g)return y}return null},l=function(g){var m=g instanceof HTMLCanvasElement;a.forEach(function(y){(m&&y.canvas===g||!m&&y.parent===g)&&(y.parent=null,y.canvas.width=1,y.canvas.height=1)})},u=function(){var g=0;return a.forEach(function(m){m.parent&&g++}),g},f=function(){return a.length-u()},d=function(){r=!0},c=function(){r=!1};return{create2D:s,create:e,createWebGL:o,disableSmoothing:d,enableSmoothing:c,first:i,free:f,pool:a,remove:l,total:u}};p.exports=n()},68703:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",t=function(){var h=function(n){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var o=e[s]+"mageSmoothingEnabled";if(o in n)return o}return null},v=function(n){return x===""&&(x=h(n)),x&&(n[x]=!0),n},a=function(n){return x===""&&(x=h(n)),x&&(n[x]=!1),n},r=function(n){return x!==null?n[x]:null};return{disable:a,enable:v,getPrefix:h,isEnabled:r}};p.exports=t()},65208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};p.exports=x},91610:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(a){t.style[a+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=x},26253:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(37589),a=t(1e3),r=t(7537),n=t(87837),e=new h({initialize:function(o,i,l,u){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(o,i,l,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,o,i,l,u){return l===void 0&&(l=255),u===void 0&&(u=!0),this._locked=!0,this.red=s,this.green=o,this.blue=i,this.alpha=l,this._locked=!1,this.update(u)},setGLTo:function(s,o,i,l){return l===void 0&&(l=1),this._locked=!0,this.redGL=s,this.greenGL=o,this.blueGL=i,this.alphaGL=l,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,o,i){return r(s,o,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var o=this.r,i=this.g,l=this.b,u=this.a;return this._color=v(o,i,l),this._color32=a(o,i,l,u),this._rgba="rgba("+o+","+i+","+l+","+u/255+")",s&&n(o,i,l,this),this},updateHSV:function(){var s=this.r,o=this.g,i=this.b;return n(s,o,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s)),l=Math.floor(s+Math.random()*(o-s)),u=Math.floor(s+Math.random()*(o-s));return this.setTo(i,l,u)},randomGray:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var o=this.r,i=this.g,l=this.b;return o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(s/100)))),this.setTo(o,i,l)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});p.exports=e},92728:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),v=function(a){a===void 0&&(a=1024);var r=[],n=255,e,s=255,o=0,i=0;for(e=0;e<=n;e++)r.push({r:s,g:e,b:i,color:h(s,e,i)});for(o=255,e=n;e>=0;e--)r.push({r:e,g:o,b:i,color:h(e,o,i)});for(s=0,e=0;e<=n;e++,o--)r.push({r:s,g:o,b:e,color:h(s,o,e)});for(o=0,i=255,e=0;e<=n;e++,i--,s++)r.push({r:s,g:o,b:i,color:h(s,o,i)});if(a===1024)return r;var l=[],u=0,f=1024/a;for(e=0;e<a;e++)l.push(r[Math.floor(u)]),u+=f;return l};p.exports=v},91588:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};p.exports=x},62957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};p.exports=x},37589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t<<16|h<<8|v};p.exports=x},1e3:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return a<<24|t<<16|h<<8|v};p.exports=x},62183:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),v=t(89528),a=function(r,n,e){var s=e,o=e,i=e;if(n!==0){var l=e<.5?e*(1+n):e+n-e*n,u=2*e-l;s=v(u,l,r+1/3),o=v(u,l,r),i=v(u,l,r-1/3)}var f=new h;return f.setGLTo(s,o,i,1)};p.exports=a},27939:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7537),v=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var n=[],e=0;e<=359;e++)n.push(h(e/359,a,r));return n};p.exports=v},7537:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589);function v(r,n,e,s){var o=(r+n*6)%6,i=Math.min(o,4-o,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var a=function(r,n,e,s){n===void 0&&(n=1),e===void 0&&(e=1);var o=v(5,r,n,e),i=v(3,r,n,e),l=v(1,r,n,e);return s?s.setTo?s.setTo(o,i,l,s.alpha,!0):(s.r=o,s.g=i,s.b=l,s.color=h(o,i,l),s):{r:o,g:i,b:l,color:h(o,i,l)}};p.exports=a},70238:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),v=function(a){var r=new h;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,l,u,f){return l+l+u+u+f+f});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(n){var e=parseInt(n[1],16),s=parseInt(n[2],16),o=parseInt(n[3],16);r.setTo(e,s,o)}return r};p.exports=v},89528:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(h-t)*6*v:v<.5?h:v<.6666666666666666?t+(h-t)*(.6666666666666666-v)*6:t};p.exports=x},30100:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),v=t(90664),a=function(r){var n=v(r);return new h(n.r,n.g,n.b,n.a)};p.exports=a},90664:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=x},13699:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),v=t(37589),a=function(e,s,o,i,l,u,f,d){f===void 0&&(f=100),d===void 0&&(d=0);var c=d/f,g=h(e,i,c),m=h(s,l,c),y=h(o,u,c);return{r:g,g:m,b:y,a:255,color:v(g,m,y)}},r=function(e,s,o,i){return o===void 0&&(o=100),i===void 0&&(i=0),a(e.r,e.g,e.b,s.r,s.g,s.b,o,i)},n=function(e,s,o,i,l,u){return l===void 0&&(l=100),u===void 0&&(u=0),a(e.r,e.g,e.b,s,o,i,l,u)};p.exports={RGBWithRGB:a,ColorWithRGB:n,ColorWithColor:r}},68957:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),v=function(a){return new h(a.r,a.g,a.b,a.a)};p.exports=v},87388:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987),v=function(a){var r=new h,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(n){var e=parseInt(n[1],10),s=parseInt(n[2],10),o=parseInt(n[3],10),i=n[4]!==void 0?parseFloat(n[4]):1;r.setTo(e,s,o,i*255)}return r};p.exports=v},87837:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,h/=255,v/=255;var r=Math.min(t,h,v),n=Math.max(t,h,v),e=n-r,s=0,o=n===0?0:e/n,i=n;return n!==r&&(n===t?s=(h-v)/e+(h<v?6:0):n===h?s=(v-t)/e+2:n===v&&(s=(t-h)/e+4),s/=6),a.hasOwnProperty("_h")?(a._h=s,a._s=o,a._v=i):(a.h=s,a.s=o,a.v=i),a};p.exports=x},75723:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62957),v=function(a,r,n,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+n).toString(16).slice(1,7):"0x"+h(e)+h(a)+h(r)+h(n)};p.exports=v},85386:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),v=t(40987),a=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=255),new v(h(r,n),h(r,n),h(r,n))};p.exports=a},80333:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70238),v=t(30100),a=t(68957),r=t(87388),n=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):h(e);case"number":return v(e);case"object":return a(e)}};p.exports=n},3956:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40987);h.ColorSpectrum=t(92728),h.ColorToRGBA=t(91588),h.ComponentToHex=t(62957),h.GetColor=t(37589),h.GetColor32=t(1e3),h.HexStringToColor=t(70238),h.HSLToColor=t(62183),h.HSVColorWheel=t(27939),h.HSVToRGB=t(7537),h.HueToComponent=t(89528),h.IntegerToColor=t(30100),h.IntegerToRGB=t(90664),h.Interpolate=t(13699),h.ObjectToColor=t(68957),h.RandomRGB=t(85386),h.RGBStringToColor=t(87388),h.RGBToHSV=t(87837),h.RGBToString=t(75723),h.ValueToColor=t(80333),p.exports=h},27460:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(39429),a=new h({initialize:function(n,e,s,o,i,l){e||(e=n.sys.make.image({x:s,y:o,key:i,frame:l,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(r,n,e,s,o){return new a(this.scene,r,n,e,s,o)}),p.exports=a},80661:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,n){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:n}),this.applyStencil(a,n,!0),a.maskCount++},applyStencil:function(a,r,n){var e=a.gl,s=this.geometryMask,o=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,o,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),o++):(e.stencilFunc(e.EQUAL,o+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=o,s.renderWebGL(a,s,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,o,i):e.stencilFunc(e.EQUAL,o,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var n=a.currentMask;if(a.maskStack.length===0)n.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(a,r,n){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,n,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=v},69781:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e,s){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=s}});p.exports=v},40366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v;if(h)typeof h=="string"?v=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(v=h);else if(t.parentElement||h===null)return t;return v||(v=document.body),v.appendChild(t),t};p.exports=x},83719:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),v=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=n,h(n,r.parent)}};p.exports=v},57264:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25892),v=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?h.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=v},57811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),v={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),v.w=h===90?a.offsetHeight:window.innerWidth,v.h=h===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?v.h:v.w};p.exports=x},45818:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),v=function(a,r){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return r>a?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};p.exports=v},74403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};p.exports=x},56836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h="";try{if(window.DOMParser){var v=new DOMParser;h=v.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};p.exports=x},35846:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=x},43092:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(29747),a=new h({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(s){n.callback(s),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(r,n,e){this.isRunning||(this.callback=r,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});p.exports=a},84902:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};p.exports=h},47565:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(37277),r=new h({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),p.exports=r},93055:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(47565)}},20122:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s){s===void 0&&(s=1),v.call(this,a.BARREL,e),this.amount=s}});p.exports=r},32251:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l,u,f){o===void 0&&(o=1),i===void 0&&(i=1),l===void 0&&(l=1),u===void 0&&(u=1),f===void 0&&(f=4),v.call(this,a.BLOOM,e),this.steps=f,this.offsetX=o,this.offsetY=i,this.blurStrength=l,this.strength=u,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},9047:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l,u,f){s===void 0&&(s=0),o===void 0&&(o=2),i===void 0&&(i=2),l===void 0&&(l=1),f===void 0&&(f=4),v.call(this,a.BLUR,e),this.quality=s,this.x=o,this.y=i,this.steps=f,this.strength=l,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},27885:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l,u,f,d){s===void 0&&(s=.5),o===void 0&&(o=1),i===void 0&&(i=.2),l===void 0&&(l=!1),u===void 0&&(u=1),f===void 0&&(f=1),d===void 0&&(d=1),v.call(this,a.BOKEH,e),this.radius=s,this.amount=o,this.contrast=i,this.isTiltShift=l,this.strength=d,this.blurX=u,this.blurY=f}});p.exports=r},12578:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l,u){s===void 0&&(s=8),l===void 0&&(l=1),u===void 0&&(u=.005),v.call(this,a.CIRCLE,e),this.scale=l,this.feather=u,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],o!=null&&(this.color=o),i!=null&&(this.backgroundColor=i)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});p.exports=r},15802:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(89422),a=t(14811),r=new h({Extends:v,initialize:function(e){v.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},72898:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n){this.type=r,this.gameObject=n,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=v},44553:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i){s===void 0&&(s="__WHITE"),o===void 0&&(o=.005),i===void 0&&(i=.005),v.call(this,a.DISPLACEMENT,e),this.x=o,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},68531:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l){o===void 0&&(o=4),i===void 0&&(i=0),l===void 0&&(l=!1),v.call(this,a.GLOW,e),this.outerStrength=o,this.innerStrength=i,this.knockout=l,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},37102:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l,u,f,d,c){i===void 0&&(i=.2),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=1),c===void 0&&(c=0),v.call(this,a.GRADIENT,e),this.alpha=i,this.size=c,this.fromX=l,this.fromY=u,this.toX=f,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),o!=null&&(this.color2=o)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});p.exports=r},86886:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s){s===void 0&&(s=1),v.call(this,a.PIXELATE,e),this.amount=s}});p.exports=r},92322:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l,u,f,d){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=.1),l===void 0&&(l=1),f===void 0&&(f=6),d===void 0&&(d=1),v.call(this,a.SHADOW,e),this.x=s,this.y=o,this.decay=i,this.power=l,this.glcolor=[0,0,0,1],this.samples=f,this.intensity=d,u!==void 0&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},39563:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=3),l===void 0&&(l=!1),v.call(this,a.SHINE,e),this.speed=s,this.lineWidth=o,this.gradient=i,this.reveal=l}});p.exports=r},56448:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=.5),l===void 0&&(l=.5),v.call(this,a.VIGNETTE,e),this.x=s,this.y=o,this.radius=i,this.strength=l}});p.exports=r},38433:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72898),a=t(14811),r=new h({Extends:v,initialize:function(e,s,o,i,l){s===void 0&&(s=.1),o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=!1),v.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=o,this.axis=i,this.reveal=l}});p.exports=r},14811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=x},66064:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),v=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=h(!1,a,v),p.exports=a},25305:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),v=t(23568),a=function(r,n,e){n.x=v(e,"x",0),n.y=v(e,"y",0),n.depth=v(e,"depth",0),n.flipX=v(e,"flipX",!1),n.flipY=v(e,"flipY",!1);var s=v(e,"scale",null);typeof s=="number"?n.setScale(s):s!==null&&(n.scaleX=v(s,"x",1),n.scaleY=v(s,"y",1));var o=v(e,"scrollFactor",null);typeof o=="number"?n.setScrollFactor(o):o!==null&&(n.scrollFactorX=v(o,"x",1),n.scrollFactorY=v(o,"y",1)),n.rotation=v(e,"rotation",0);var i=v(e,"angle",null);i!==null&&(n.angle=i),n.alpha=v(e,"alpha",1);var l=v(e,"origin",null);if(typeof l=="number")n.setOrigin(l);else if(l!==null){var u=v(l,"x",.5),f=v(l,"y",.5);n.setOrigin(u,f)}n.blendMode=v(e,"blendMode",h.NORMAL),n.visible=v(e,"visible",!0);var d=v(e,"add",!0);return d&&r.sys.displayList.add(n),n.preUpdate&&r.sys.updateList.add(n),n};p.exports=a},13059:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23568),v=function(a,r){var n=h(r,"anims",null);if(n===null)return a;if(typeof n=="string")a.anims.play(n);else if(typeof n=="object"){var e=a.anims,s=h(n,"key",void 0);if(s){var o=h(n,"startFrame",void 0),i=h(n,"delay",0),l=h(n,"repeat",0),u=h(n,"repeatDelay",0),f=h(n,"yoyo",!1),d=h(n,"play",!1),c=h(n,"delayedPlay",0),g={key:s,delay:i,repeat:l,repeatDelay:u,yoyo:f,startFrame:o};d?e.play(g):c>0?e.playAfterDelay(g,c):e.load(g)}}return a};p.exports=v},8050:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(73162),a=t(37277),r=t(51708),n=t(44594),e=t(19186),s=new h({Extends:v,initialize:function(i){v.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(o){o.displayList&&o.displayList!==this&&o.removeFromDisplayList(),o.parentContainer&&o.parentContainer.remove(o),o.displayList||(this.queueDepthSort(),o.displayList=this,o.emit(r.ADDED_TO_SCENE,o,this.scene),this.events.emit(n.ADDED_TO_SCENE,o,this.scene))},removeChildCallback:function(o){this.queueDepthSort(),o.displayList=null,o.emit(r.REMOVED_FROM_SCENE,o,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,o,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(o,i){return o._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var o=this.list,i=o.length;i--;)o[i].destroy(!0);o.length=0,this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",s,"displayList"),p.exports=s},95643:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(53774),a=t(45893),r=t(50792),n=t(51708),e=t(44594),s=new h({Extends:r,initialize:function(i,l){r.call(this),this.scene=i,this.displayList=null,this.type=l,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(o){return this.active=o,this},setName:function(o){return this.name=o,this},setState:function(o){return this.state=o,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(o,i){return this.data||(this.data=new a(this)),this.data.set(o,i),this},incData:function(o,i){return this.data||(this.data=new a(this)),this.data.inc(o,i),this},toggleData:function(o){return this.data||(this.data=new a(this)),this.data.toggle(o),this},getData:function(o){return this.data||(this.data=new a(this)),this.data.get(o)},setInteractive:function(o,i,l){return this.scene.sys.input.enable(this,o,i,l),this},disableInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.disable(this,o),this},removeInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.clear(this),o&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(o){var i=this.displayList&&this.displayList.active?this.displayList.willRender(o):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},getIndexList:function(){for(var o=this,i=this.parentContainer,l=[];i&&(l.unshift(i.getIndex(o)),o=i,i.parentContainer);)i=i.parentContainer;return this.displayList?l.unshift(this.displayList.getIndex(o)):l.unshift(this.scene.sys.displayList.getIndex(o)),l},addToDisplayList:function(o){return o===void 0&&(o=this.scene.sys.displayList),this.displayList&&this.displayList!==o&&this.removeFromDisplayList(),o.exists(this)||(this.displayList=o,o.add(this,!0),o.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),o.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var o=this.displayList||this.scene.sys.displayList;return o&&o.exists(this)&&(o.remove(this,!0),o.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),o.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var o=null;return this.parentContainer?o=this.parentContainer.list:this.displayList&&(o=this.displayList.list),o},destroy:function(o){!this.scene||this.ignoreDestroy||(o===void 0&&(o=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,o),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,p.exports=s},44603:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(37277),a=t(44594),r=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},v.register("GameObjectCreator",r,"make"),p.exports=r},39429:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(37277),a=t(44594),r=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},v.register("GameObjectFactory",r,"add"),p.exports=r},91296:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),v=new h,a=new h,r=new h,n={camera:v,sprite:a,calc:r},e=function(s,o,i){var l=v,u=a,f=r;return u.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),l.copyFrom(o.matrix),i?(l.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),u.e=s.x,u.f=s.y):(u.e-=o.scrollX*s.scrollFactorX,u.f-=o.scrollY*s.scrollFactorY),l.multiply(u,f),n};p.exports=e},45027:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(25774),a=t(37277),r=t(44594),n=new h({Extends:v,initialize:function(s){v.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var o=this._active,i=o.length,l=0;l<i;l++){var u=o[l];u.active&&u.preUpdate.call(u,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",n,"updateList"),p.exports=n},3217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r,n,e,s,o,i,l,u,f,d,c){var g=v.x-h.displayOriginX+r,m=v.y-h.displayOriginY+n,y=g+v.w,T=m+v.h,S=e.a,C=e.b,P=e.c,b=e.d,w=e.e,M=e.f,D=g*S+m*P+w,O=g*C+m*b+M,U=g*S+T*P+w,W=g*C+T*b+M,Y=y*S+T*P+w,X=y*C+T*b+M,N=y*S+m*P+w,V=y*C+m*b+M;s&&(D=Math.round(D),O=Math.round(O),U=Math.round(U),W=Math.round(W),Y=Math.round(Y),X=Math.round(X),N=Math.round(N),V=Math.round(V)),t.batchQuad(h,D,O,U,W,Y,X,N,V,a.u0,a.v0,a.u1,a.v1,o,i,l,u,f,d,c)};p.exports=x},53048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){if(v===void 0&&(v=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,n=r.length,e=t.maxWidth,s=t.wordWrapCharCode,o=Number.MAX_VALUE,i=Number.MAX_VALUE,l=0,u=0,f=t.fontData.chars,d=t.fontData.lineHeight,c=t.letterSpacing,g=t.lineSpacing,m=0,y=0,T=0,S=null,C=t._align,P=0,b=0,w=t.fontSize/t.fontData.size,M=w*t.scaleX,D=w*t.scaleY,O=null,U=0,W=[],Y=Number.MAX_VALUE,X=0,N=0,V=0,I,B,G,H=[],k=[],Z=null,J=function(Nt,Ht){for(var Lt=0,zt=0;zt<Nt.length;zt++){var Vt=Nt.charCodeAt(zt),Jt=Ht.chars[Vt];Jt&&(Lt+=Jt.xAdvance)}return Lt*M};if(e>0){G=r.split(`
`);var j=[];for(I=0;I<G.length;I++){var _=G[I],tt="",et="",rt="",at="";for(B=0;B<_.length;B++)if(T=_.charCodeAt(B),tt+=_[B],T===s||B===_.length-1){at=rt+tt;var st=J(at,t.fontData);st<=e?rt=at:(et=et.slice(0,-1),et+=(et?`
`:"")+rt,rt=tt),tt=""}et=et.slice(0,-1),et+=(et?`
`:"")+rt,j.push(et)}r=j.join(`
`),a.wrappedText=r,n=r.length}var ct=0;for(I=0;I<n;I++){if(T=r.charCodeAt(I),T===10){Z!==null&&(H.push({word:Z.word,i:Z.i,x:Z.x*M,y:Z.y*D,w:Z.w*M,h:Z.h*D}),Z=null),O=null,W[N]=V,V>X&&(X=V),V<Y&&(Y=V),N++,V=0,m=0,y=(d+g)*N;continue}if(S=f[T],!!S){if(P=m,b=y,O!==null){var pt=S.kerning[U];P+=pt!==void 0?pt:0}o>P&&(o=P),i>b&&(i=b);var vt=P+S.xAdvance,nt=b+d;l<vt&&(l=vt),u<nt&&(u=nt);var lt=S.xOffset+S.xAdvance+(pt!==void 0?pt:0);T===s?Z!==null&&(H.push({word:Z.word,i:Z.i,x:Z.x*M,y:Z.y*D,w:Z.w*M,h:Z.h*D}),Z=null):(Z===null&&(Z={word:"",i:ct,x:m,y,w:0,h:d}),Z.word=Z.word.concat(r[I]),Z.w+=lt),k.push({i:ct,idx:I,char:r[I],code:T,x:(S.xOffset+P)*w,y:(S.yOffset+y)*w,w:S.width*w,h:S.height*w,t:y*w,r:vt*w,b:d*w,line:N,glyph:S}),m+=S.xAdvance+c+(pt!==void 0?pt:0),O=S,U=T,V=vt*w,ct++}}if(Z!==null&&H.push({word:Z.word,i:Z.i,x:Z.x*M,y:Z.y*D,w:Z.w*M,h:Z.h*D}),W[N]=V,V>X&&(X=V),V<Y&&(Y=V),C>0)for(var ht=0;ht<k.length;ht++){var Tt=k[ht];if(C===1){var wt=(X-W[Tt.line])/2;Tt.x+=wt,Tt.r+=wt}else if(C===2){var It=X-W[Tt.line];Tt.x+=It,Tt.r+=It}}var Ct=a.local,At=a.global;return G=a.lines,Ct.x=o*w,Ct.y=i*w,Ct.width=l*w,Ct.height=u*w,At.x=t.x-t._displayOriginX+o*M,At.y=t.y-t._displayOriginY+i*D,At.width=l*M,At.height=u*D,G.shortest=Y,G.longest=X,G.lengths=W,h&&(Ct.x=Math.ceil(Ct.x),Ct.y=Math.ceil(Ct.y),Ct.width=Math.ceil(Ct.width),Ct.height=Math.ceil(Ct.height),At.x=Math.ceil(At.x),At.y=Math.ceil(At.y),At.width=Math.ceil(At.width),At.height=Math.ceil(At.height),G.shortest=Math.ceil(Y),G.longest=Math.ceil(X)),v&&(t._displayOriginX=t.originX*Ct.width,t._displayOriginY=t.originY*Ct.height,At.x=t.x-t._displayOriginX*t.scaleX,At.y=t.y-t._displayOriginY*t.scaleY,h&&(At.x=Math.ceil(At.x),At.y=Math.ceil(At.y))),a.words=H,a.characters=k,a.lines.height=d,a.scale=w,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};p.exports=x},61327:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21859),v=function(a,r,n,e,s,o,i){var l=a.sys.textures.get(n),u=l.get(e),f=a.sys.cache.xml.get(s);if(u&&f){var d=h(f,u,o,i,l);return a.sys.cache.bitmapFont.add(r,{data:d,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=v},6925:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),v=function(a,r){var n=r.width,e=r.height,s=Math.floor(n/2),o=Math.floor(e/2),i=h(r,"chars","");if(i!==""){var l=h(r,"image",""),u=a.sys.textures.getFrame(l),f=u.cutX,d=u.cutY,c=u.source.width,g=u.source.height,m=h(r,"offset.x",0),y=h(r,"offset.y",0),T=h(r,"spacing.x",0),S=h(r,"spacing.y",0),C=h(r,"lineSpacing",0),P=h(r,"charsPerRow",null);P===null&&(P=c/n,P>i.length&&(P=i.length));for(var b=m,w=y,M={retroFont:!0,font:l,size:n,lineHeight:e+C,chars:{}},D=0,O=0;O<i.length;O++){var U=i.charCodeAt(O),W=(f+b)/c,Y=(d+w)/g,X=(f+b+n)/c,N=(d+w+e)/g;M.chars[U]={x:b,y:w,width:n,height:e,centerX:s,centerY:o,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:W,v0:Y,u1:X,v1:N},D++,D===P?(D=0,b=m,w+=e+S):b+=n+T}var V={data:M,frame:null,texture:l};return V}};p.exports=v},21859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(h,v){return parseInt(h.getAttribute(v),10)}var t=function(h,v,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0);var e=v.cutX,s=v.cutY,o=v.source.width,i=v.source.height,l=v.sourceIndex,u={},f=h.getElementsByTagName("info")[0],d=h.getElementsByTagName("common")[0];u.font=f.getAttribute("face"),u.size=x(f,"size"),u.lineHeight=x(d,"lineHeight")+r,u.chars={};var c=h.getElementsByTagName("char"),g=v!==void 0&&v.trimmed;if(g)var m=v.height,y=v.width;for(var T=0;T<c.length;T++){var S=c[T],C=x(S,"id"),P=String.fromCharCode(C),b=x(S,"x"),w=x(S,"y"),M=x(S,"width"),D=x(S,"height");g&&(b<y&&(y=b),w<m&&(m=w)),g&&m!==0&&y!==0&&(b-=v.x,w-=v.y);var O=(e+b)/o,U=(s+w)/i,W=(e+b+M)/o,Y=(s+w+D)/i;if(u.chars[C]={x:b,y:w,width:M,height:D,centerX:Math.floor(M/2),centerY:Math.floor(D/2),xOffset:x(S,"xoffset"),yOffset:x(S,"yoffset"),xAdvance:x(S,"xadvance")+a,data:{},kerning:{},u0:O,v0:U,u1:W,v1:Y},n&&M!==0&&D!==0){var X=n.add(P,l,b,w,M,D);X&&X.setUVs(M,D,O,U,W,Y)}}var N=h.getElementsByTagName("kerning");for(T=0;T<N.length;T++){var V=N[T],I=x(V,"first"),B=x(V,"second"),G=x(V,"amount");u.chars[B].kerning[I]=G}return u};p.exports=t},196:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87662),v=t(79291),a={Parse:t(6925)};a=v(!1,a,h),p.exports=a},87662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=x},2638:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),v=t(83419),a=t(12310),r=new v({Extends:h,Mixins:[a],initialize:function(e,s,o,i,l,u,f){h.call(this,e,s,o,i,l,u,f),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});p.exports=r},86741:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),v=function(a,r,n,e){var s=r._text,o=s.length,i=a.currentContext;if(!(o===0||!h(a,i,r,n,e))){n.addToRenderList(r);var l=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.displayCallback,f=r.callbackData,d=r.fontData.chars,c=r.fontData.lineHeight,g=r._letterSpacing,m=0,y=0,T=0,S=null,C=0,P=0,b=0,w=0,M=0,D=0,O=null,U=0,W=r.frame.source.image,Y=l.cutX,X=l.cutY,N=0,V=0,I=r._fontSize/r.fontData.size,B=r._align,G=0,H=0;r.getTextBounds(!1);var k=r._bounds.lines;B===1?H=(k.longest-k.lengths[0])/2:B===2&&(H=k.longest-k.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var Z=n.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var J=0;J<o;J++){if(V=I,N=0,T=s.charCodeAt(J),T===10){G++,B===1?H=(k.longest-k.lengths[G])/2:B===2&&(H=k.longest-k.lengths[G]),m=0,y+=c,O=null;continue}if(S=d[T],!!S){if(C=Y+S.x,P=X+S.y,b=S.width,w=S.height,M=S.xOffset+m-r.scrollX,D=S.yOffset+y-r.scrollY,O!==null){var j=S.kerning[U];M+=j!==void 0?j:0}if(u){f.index=J,f.charCode=T,f.x=M,f.y=D,f.scale=V,f.rotation=N,f.data=S.data;var _=u(f);M=_.x,D=_.y,V=_.scale,N=_.rotation}M*=V,D*=V,M+=H,m+=S.xAdvance+g+(j!==void 0?j:0),O=S,U=T,!(b===0||w===0||T===32)&&(Z&&(M=Math.round(M),D=Math.round(D)),i.save(),i.translate(M,D),i.rotate(N),i.scale(V,V),i.drawImage(W,C,P,b,w,0,0,b,w),i.restore())}}i.restore()}};p.exports=v},11164:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),v=t(25305),a=t(44603),r=t(23568);a.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var s=r(n,"font",""),o=r(n,"text",""),i=r(n,"size",!1),l=new h(this.scene,0,0,s,o,i);return e!==void 0&&(n.add=e),v(this.scene,l,n),l})},72566:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2638),v=t(39429);v.register("dynamicBitmapText",function(a,r,n,e,s){return this.displayList.add(new h(this.scene,a,r,n,e,s))})},12310:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(73482),a=t(86741),p.exports={renderWebGL:v,renderCanvas:a}},73482:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(61340),a=t(70554),r=new v,n=function(e,s,o,i){var l=s.text,u=l.length;if(u!==0){o.addToRenderList(s);var f=e.pipelines.set(s.pipeline,s),d=h(s,o,i);e.pipelines.preBatch(s);var c=d.sprite,g=d.calc,m=r,y=s.cropWidth>0||s.cropHeight>0;y&&(f.flush(),e.pushScissor(g.tx,g.ty,s.cropWidth*g.scaleX,s.cropHeight*g.scaleY));var T=s.frame,S=T.glTexture,C=s.tintFill,P=a.getTintAppendFloatAlpha(s.tintTopLeft,o.alpha*s._alphaTL),b=a.getTintAppendFloatAlpha(s.tintTopRight,o.alpha*s._alphaTR),w=a.getTintAppendFloatAlpha(s.tintBottomLeft,o.alpha*s._alphaBL),M=a.getTintAppendFloatAlpha(s.tintBottomRight,o.alpha*s._alphaBR),D=f.setGameObject(s),O=0,U=0,W=0,Y=0,X=s.letterSpacing,N,V=0,I=0,B,G=s.scrollX,H=s.scrollY,k=s.fontData,Z=k.chars,J=k.lineHeight,j=s.fontSize/k.size,_=0,tt=s._align,et=0,rt=0,at=s.getTextBounds(!1);s.maxWidth>0&&(l=at.wrappedText,u=l.length);var st=s._bounds.lines;tt===1?rt=(st.longest-st.lengths[0])/2:tt===2&&(rt=st.longest-st.lengths[0]);for(var ct=o.roundPixels,pt=s.displayCallback,vt=s.callbackData,nt=0;nt<u;nt++){if(W=l.charCodeAt(nt),W===10){et++,tt===1?rt=(st.longest-st.lengths[et])/2:tt===2&&(rt=st.longest-st.lengths[et]),O=0,U+=J,B=null;continue}if(N=Z[W],!!N){V=N.width,I=N.height;var lt=N.xOffset+O-G,ht=N.yOffset+U-H;if(B!==null){var Tt=N.kerning[Y]||0;lt+=Tt,O+=Tt}if(O+=N.xAdvance+X,B=N,Y=W,!(V===0||I===0||W===32)){if(j=s.fontSize/s.fontData.size,_=0,pt){vt.color=0,vt.tint.topLeft=P,vt.tint.topRight=b,vt.tint.bottomLeft=w,vt.tint.bottomRight=M,vt.index=nt,vt.charCode=W,vt.x=lt,vt.y=ht,vt.scale=j,vt.rotation=_,vt.data=N.data;var wt=pt(vt);lt=wt.x,ht=wt.y,j=wt.scale,_=wt.rotation,wt.color?(P=wt.color,b=wt.color,w=wt.color,M=wt.color):(P=wt.tint.topLeft,b=wt.tint.topRight,w=wt.tint.bottomLeft,M=wt.tint.bottomRight),P=a.getTintAppendFloatAlpha(P,o.alpha*s._alphaTL),b=a.getTintAppendFloatAlpha(b,o.alpha*s._alphaTR),w=a.getTintAppendFloatAlpha(w,o.alpha*s._alphaBL),M=a.getTintAppendFloatAlpha(M,o.alpha*s._alphaBR)}lt*=j,ht*=j,lt-=s.displayOriginX,ht-=s.displayOriginY,lt+=rt,m.applyITRS(lt,ht,_,j,j),g.multiply(m,c);var It=N.u0,Ct=N.v0,At=N.u1,Nt=N.v1,Ht=V,Lt=I,zt=c.e,Vt=c.f,Jt=Lt*c.c+c.e,ge=Lt*c.d+c.f,me=Ht*c.a+Lt*c.c+c.e,ye=Ht*c.b+Lt*c.d+c.f,xe=Ht*c.a+c.e,Te=Ht*c.b+c.f;ct&&(zt=Math.round(zt),Vt=Math.round(Vt),Jt=Math.round(Jt),ge=Math.round(ge),me=Math.round(me),ye=Math.round(ye),xe=Math.round(xe),Te=Math.round(Te)),f.shouldFlush(6)&&(f.flush(),D=f.setGameObject(s)),f.batchQuad(s,zt,Vt,Jt,ge,me,ye,xe,Te,It,Ct,At,Nt,P,b,w,M,C,S,D)}}}y&&(f.flush(),e.popScissor()),e.pipelines.postBatch(s)}};p.exports=n},22186:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(45319),a=t(31401),r=t(95643),n=t(53048),e=t(61327),s=t(21859),o=t(87841),i=t(18658),l=new h({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(f,d,c,g,m,y,T){m===void 0&&(m=""),T===void 0&&(T=0),r.call(this,f,"BitmapText"),this.font=g;var S=this.scene.sys.cache.bitmapFont.get(g);if(!S)throw new Error("Invalid BitmapText key: "+g);this.fontData=S.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=S.fromAtlas,this.setTexture(S.texture,S.frame),this.setPosition(d,c),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(m)},setLeftAlign:function(){return this._align=l.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=l.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=l.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,f,d,c){return u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=.5),this.dropShadowX=u,this.dropShadowY=f,this.dropShadowColor=d,this.dropShadowAlpha=c,this},setCharacterTint:function(u,f,d,c,g,m,y){u===void 0&&(u=0),f===void 0&&(f=1),d===void 0&&(d=!1),c===void 0&&(c=-1),g===void 0&&(g=c,m=c,y=c);var T=this.text.length;f===-1&&(f=T),u<0&&(u=T+u),u=v(u,0,T-1);for(var S=v(u+f,u,T),C=this.charColors,P=u;P<S;P++){var b=C[P];if(c===-1)C[P]=null;else{var w=d?1:0;b?(b.tintEffect=w,b.tintTL=c,b.tintTR=g,b.tintBL=m,b.tintBR=y):C[P]={tintEffect:w,tintTL:c,tintTR:g,tintBL:m,tintBR:y}}}return this},setWordTint:function(u,f,d,c,g,m,y){f===void 0&&(f=1);for(var T=this.getTextBounds(),S=T.words,C=typeof u=="number",P=0,b=0;b<S.length;b++){var w=S[b];if((C&&b===u||!C&&w.word===u)&&(this.setCharacterTint(w.i,w.word.length,d,c,g,m,y),P++,P===f))return this}return this},getTextBounds:function(u){var f=this._bounds;return(this._dirty||u||this.scaleX!==f.scaleX||this.scaleY!==f.scaleY)&&(n(this,u,!0,f),this._dirty=!1),f},getCharacterAt:function(u,f,d){for(var c=this.getLocalPoint(u,f,null,d),g=this.getTextBounds(),m=g.characters,y=new o,T=0;T<m.length;T++){var S=m[T];if(y.setTo(S.x,S.t,S.r-S.x,S.b),y.contains(c.x,c.y))return S}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,f,d){f===void 0&&(f=this._fontSize),d===void 0&&(d=this._align);var c=this.scene.sys.cache.bitmapFont.get(u);return c&&(this.font=u,this.fontData=c.data,this._fontSize=f,this._align=d,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),n(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,f){return this._maxWidth=u,this._dirty=!0,f!==void 0&&(this.wordWrapCharCode=f),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=a.ToJSON(this),f={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=f,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});l.ALIGN_LEFT=0,l.ALIGN_CENTER=1,l.ALIGN_RIGHT=2,l.ParseFromAtlas=e,l.ParseXMLBitmapFont=s,p.exports=l},37289:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20926),v=function(a,r,n,e){var s=r._text,o=s.length,i=a.currentContext;if(!(o===0||!h(a,i,r,n,e))){n.addToRenderList(r);var l=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.fontData.chars,f=r.fontData.lineHeight,d=r._letterSpacing,c=r._lineSpacing,g=0,m=0,y=0,T=null,S=0,C=0,P=0,b=0,w=0,M=0,D=null,O=0,U=l.source.image,W=l.cutX,Y=l.cutY,X=r._fontSize/r.fontData.size,N=r._align,V=0,I=0,B=r.getTextBounds(!1);r.maxWidth>0&&(s=B.wrappedText,o=s.length);var G=r._bounds.lines;N===1?I=(G.longest-G.lengths[0])/2:N===2&&(I=G.longest-G.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var H=n.roundPixels,k=0;k<o;k++){if(y=s.charCodeAt(k),y===10){V++,N===1?I=(G.longest-G.lengths[V])/2:N===2&&(I=G.longest-G.lengths[V]),g=0,m+=f+c,D=null;continue}if(T=u[y],!!T){if(S=W+T.x,C=Y+T.y,P=T.width,b=T.height,w=T.xOffset+g,M=T.yOffset+m,D!==null){var Z=T.kerning[O];w+=Z!==void 0?Z:0}w*=X,M*=X,w+=I,g+=T.xAdvance+d+(Z!==void 0?Z:0),D=T,O=y,!(P===0||b===0||y===32)&&(H&&(w=Math.round(w),M=Math.round(M)),i.save(),i.translate(w,M),i.scale(X,X),i.drawImage(U,S,C,P,b,0,0,P,b),i.restore())}}i.restore()}};p.exports=v},57336:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),v=t(25305),a=t(44603),r=t(23568),n=t(35154);a.register("bitmapText",function(e,s){e===void 0&&(e={});var o=n(e,"font",""),i=r(e,"text",""),l=r(e,"size",!1),u=n(e,"align",0),f=new h(this.scene,0,0,o,i,l,u);return s!==void 0&&(e.add=s),v(this.scene,f,e),f})},34914:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22186),v=t(39429);v.register("bitmapText",function(a,r,n,e,s,o){return this.displayList.add(new h(this.scene,a,r,n,e,s,o))})},18658:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(33590),a=t(37289),p.exports={renderWebGL:v,renderCanvas:a}},33590:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3217),v=t(91296),a=t(70554),r=function(n,e,s,o){var i=e._text,l=i.length;if(l!==0){s.addToRenderList(e);var u=n.pipelines.set(e.pipeline,e),f=v(e,s,o).calc;n.pipelines.preBatch(e);var d=s.roundPixels,c=s.alpha,g=e.charColors,m=e.tintFill,y=a.getTintAppendFloatAlpha,T=y(e.tintTopLeft,c*e._alphaTL),S=y(e.tintTopRight,c*e._alphaTR),C=y(e.tintBottomLeft,c*e._alphaBL),P=y(e.tintBottomRight,c*e._alphaBR),b=e.frame.glTexture,w=u.setGameObject(e),M=e.getTextBounds(!1),D,O,U,W=M.characters,Y=e.dropShadowX,X=e.dropShadowY,N=Y!==0||X!==0;if(N){var V=e.dropShadowColor,I=e.dropShadowAlpha,B=y(V,c*I*e._alphaTL),G=y(V,c*I*e._alphaTR),H=y(V,c*I*e._alphaBL),k=y(V,c*I*e._alphaBR);for(D=0;D<W.length;D++)O=W[D],U=O.glyph,!(O.code===32||U.width===0||U.height===0)&&h(u,e,O,U,Y,X,f,d,B,G,H,k,1,b,w)}for(D=0;D<W.length;D++)if(O=W[D],U=O.glyph,!(O.code===32||U.width===0||U.height===0))if(u.shouldFlush(6)&&(u.flush(),w=u.setGameObject(e)),g[O.i]){var Z=g[O.i],J=Z.tintEffect,j=y(Z.tintTL,c*e._alphaTL),_=y(Z.tintTR,c*e._alphaTR),tt=y(Z.tintBL,c*e._alphaBL),et=y(Z.tintBR,c*e._alphaBR);h(u,e,O,U,0,0,f,d,j,_,tt,et,J,b,w)}else h(u,e,O,U,0,0,f,d,T,S,C,P,m,b,w);n.pipelines.postBatch(e)}};p.exports=r},6107:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48011),v=t(46590),a=t(83419),r=t(31401),n=t(4327),e=t(95643),s=t(73162),o=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,h],initialize:function(l,u,f,d,c){e.call(this,l,"Blitter"),this.setTexture(d,c),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,l,u,f,d){f===void 0&&(f=!0),d===void 0&&(d=this.children.length),u===void 0?u=this.frame:u instanceof n||(u=this.texture.get(u));var c=new v(this,i,l,u,f);return this.children.addAt(c,d,!1),this.dirty=!0,c},createFromCallback:function(i,l,u,f){for(var d=this.createMultiple(l,u,f),c=0;c<d.length;c++){var g=d[c];i.call(this,g,c)}return d},createMultiple:function(i,l,u){l===void 0&&(l=this.frame.name),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);var f=[],d=this;return l.forEach(function(c){for(var g=0;g<i;g++)f.push(d.create(0,0,c,u))}),f},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=o},72396:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=h.getRenderList();if(r.length!==0){var n=t.currentContext,e=v.alpha*h.alpha;if(e!==0){v.addToRenderList(h),n.globalCompositeOperation=t.blendModes[h.blendMode],n.imageSmoothingEnabled=!h.frame.source.scaleMode;var s=h.x-v.scrollX*h.scrollFactorX,o=h.y-v.scrollY*h.scrollFactorY;n.save(),a&&a.copyToContext(n);for(var i=v.roundPixels,l=0;l<r.length;l++){var u=r[l],f=u.flipX||u.flipY,d=u.frame,c=d.canvasData,g=d.x,m=d.y,y=1,T=1,S=u.alpha*e;S!==0&&(n.globalAlpha=S,f?(u.flipX&&(y=-1,g-=c.width),u.flipY&&(T=-1,m-=c.height),c.width>0&&c.height>0&&(n.save(),n.translate(u.x+s,u.y+o),n.scale(y,T),n.drawImage(d.source.image,c.x,c.y,c.width,c.height,g,m,c.width,c.height),n.restore())):(i&&(g=Math.round(g),m=Math.round(m)),c.width>0&&c.height>0&&n.drawImage(d.source.image,c.x,c.y,c.width,c.height,g+u.x+s,m+u.y+o,c.width,c.height)))}n.restore()}}};p.exports=x},9403:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),v=t(25305),a=t(44603),r=t(23568);a.register("blitter",function(n,e){n===void 0&&(n={});var s=r(n,"key",null),o=r(n,"frame",null),i=new h(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),v(this.scene,i,n),i})},12709:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6107),v=t(39429);v.register("blitter",function(a,r,n,e){return this.displayList.add(new h(this.scene,a,r,n,e))})},48011:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(99485),a=t(72396),p.exports={renderWebGL:v,renderCanvas:a}},99485:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),v=t(70554),a=new h,r=function(n,e,s,o){var i=e.getRenderList(),l=s.alpha*e.alpha;if(!(i.length===0||l===0)){s.addToRenderList(e);var u=n.pipelines.set(this.pipeline,e),f=s.scrollX*e.scrollFactorX,d=s.scrollY*e.scrollFactorY,c=a.copyFrom(s.matrix);o&&(c.multiplyWithOffset(o,-f,-d),f=0,d=0);var g=e.x-f,m=e.y-d,y=-1,T=!1,S=s.roundPixels;n.pipelines.preBatch(e);for(var C=0;C<i.length;C++){var P=i[C],b=P.frame,w=P.alpha*l;if(w!==0){var M=b.width,D=b.height,O=g+P.x+b.x,U=m+P.y+b.y;P.flipX&&(M*=-1,O+=b.width),P.flipY&&(D*=-1,U+=b.height);var W=c.setQuad(O,U,O+M,U+D,S),Y=v.getTintAppendFloatAlpha(P.tint,w);if(b.sourceIndex!==y){var X=u.setGameObject(e,b);y=b.sourceIndex}u.batchQuad(e,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],b.u0,b.v0,b.u1,b.v1,Y,Y,Y,Y,T,b.glTexture,X)&&(y=-1)}}n.pipelines.postBatch(e)}};p.exports=r},46590:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(4327),a=new h({initialize:function(n,e,s,o,i){this.parent=n,this.x=e,this.y=s,this.frame=o,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof v&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,n,e){return this.x=r,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,n){return this.x=r,this.y=n,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,n){return this.flipX=r,this.flipY=n,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=a},16005:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,n,e,s){return r===void 0&&(r=1),n===void 0?this.alpha=r:(this._alphaTL=h(r,0,1),this._alphaTR=h(n,0,1),this._alphaBL=h(e,0,1),this._alphaBR=h(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var n=h(r,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=-3:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var n=h(r,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var n=h(r,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var n=h(r,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var n=h(r,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=v)}}};p.exports=a},88509:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var n=h(r,0,1);this._alpha=n,n===0?this.renderFlags&=-3:this.renderFlags|=v}}};p.exports=a},90065:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),v={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=h[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};p.exports=v},94215:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};p.exports=x},61683:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,v,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,v,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=x},89272:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),v={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this},setToTop:function(){var a=this.getDisplayList();return a&&h.BringToTop(a,this),this},setToBack:function(){var a=this.getDisplayList();return a&&h.SendToBack(a,this),this},setAbove:function(a){var r=this.getDisplayList();return r&&a&&h.MoveAbove(r,this,a),this},setBelow:function(a){var r=this.getDisplayList();return r&&a&&h.MoveBelow(r,this,a),this}};p.exports=v},47059:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(66064),a=t(19133),r=new h({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var o=s[e];if(o.controller===n){this.gameObject.removePostPipeline(o),n.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===n&&(a(i,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var s=String(n.type);this.gameObject.setPostPipeline(s,e);var o=this.gameObject.getPostPipeline(s);if(o)return Array.isArray(o)&&(o=o.pop()),o&&(o.controller=n),n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,s,o,i,l){return this.add(new v.Glow(this.gameObject,n,e,s,o),{quality:i,distance:l})},addShadow:function(n,e,s,o,i,l,u){return this.add(new v.Shadow(this.gameObject,n,e,s,o,i,l,u))},addPixelate:function(n){return this.add(new v.Pixelate(this.gameObject,n))},addVignette:function(n,e,s,o){return this.add(new v.Vignette(this.gameObject,n,e,s,o))},addShine:function(n,e,s,o){return this.add(new v.Shine(this.gameObject,n,e,s,o))},addBlur:function(n,e,s,o,i,l){return this.add(new v.Blur(this.gameObject,n,e,s,o,i,l))},addGradient:function(n,e,s,o,i,l,u,f){return this.add(new v.Gradient(this.gameObject,n,e,s,o,i,l,u,f))},addBloom:function(n,e,s,o,i,l){return this.add(new v.Bloom(this.gameObject,n,e,s,o,i,l))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(n,e,s,o,i){return this.add(new v.Circle(this.gameObject,n,e,s,o,i))},addBarrel:function(n){return this.add(new v.Barrel(this.gameObject,n))},addDisplacement:function(n,e,s){return this.add(new v.Displacement(this.gameObject,n,e,s))},addWipe:function(n,e,s){return this.add(new v.Wipe(this.gameObject,n,e,s))},addReveal:function(n,e,s){return this.add(new v.Wipe(this.gameObject,n,e,s,!0))},addBokeh:function(n,e,s){return this.add(new v.Bokeh(this.gameObject,n,e,s))},addTiltShift:function(n,e,s,o,i,l){return this.add(new v.Bokeh(this.gameObject,n,e,s,!0,o,i,l))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},54434:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=x},8004:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=t(11520),a=t(26099),r={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(n,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new h);var e,s,o,i,l,u,f,d;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),c.transformPoint(n.x,n.y,n),e=n.x,s=n.y,this.getTopRight(n),c.transformPoint(n.x,n.y,n),o=n.x,i=n.y,this.getBottomLeft(n),c.transformPoint(n.x,n.y,n),l=n.x,u=n.y,this.getBottomRight(n),c.transformPoint(n.x,n.y,n),f=n.x,d=n.y}else this.getTopLeft(n),e=n.x,s=n.y,this.getTopRight(n),o=n.x,i=n.y,this.getBottomLeft(n),l=n.x,u=n.y,this.getBottomRight(n),f=n.x,d=n.y;return n.x=Math.min(e,o,l,f),n.y=Math.min(s,i,u,d),n.width=Math.max(e,o,l,f)-n.x,n.height=Math.max(s,i,u,d)-n.y,n}};p.exports=r},8573:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6858),v=t(80661),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,n,e,s,o){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new h(this.scene,r,n,e,s,o)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new v(this.scene,r)}};p.exports=a},27387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=x},37640:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),v=t(57355),a=t(35154),r=t(86353),n=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,o){o===void 0&&(o=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,o&&this.startFollow(o),this},setRotateToPath:function(s,o){return o===void 0&&(o=0),this.rotateToPath=s,this.pathRotationOffset=o,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,o){s===void 0&&(s={}),o===void 0&&(o=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=a(s,"from",0),s.to=a(s,"to",1);var l=v(s,"positionOnPath",!1);this.rotateToPath=v(s,"rotateToPath",!1),this.pathRotationOffset=a(s,"rotationOffset",0);var u=a(s,"startAt",o);if(u&&(s.onStart=function(d){var c=d.data[0];c.progress=u,c.elapsed=c.duration*u;var g=c.ease(c.progress);c.current=c.start+(c.end-c.start)*g,c.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var f=this.path.getPoint(.1);this.rotation=Math.atan2(f.y-this.y,f.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s&&s.data){var o=s.data[0],i=this.pathDelta,l=this.pathVector;if(i.copy(l).negate(),o.state===r.COMPLETE){this.path.getPoint(o.end,l),i.add(l),l.add(this.pathOffset),this.setPosition(l.x,l.y);return}else if(o.state!==r.PLAYING_FORWARD&&o.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),l),i.add(l),l.add(this.pathOffset);var u=this.x,f=this.y;this.setPosition(l.x,l.y);var d=this.x-u,c=this.y-f;if(d===0&&c===0)return;if(o.state!==this._prevDirection){this._prevDirection=o.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,d)+h(this.pathRotationOffset))}}};p.exports=e},72699:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var n=r.pipelines;if(n){a===void 0&&(a=n.default);var e=n.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,n){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var o=s.get(a);o&&(this.pipeline=o),r&&(this.pipelineData=n?h(r):r)}return this},setPipelineData:function(a,r){var n=this.pipelineData;return r===void 0?delete n[a]:n[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};p.exports=v},17581:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),v=t(47059),a=t(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),n&&(this.preFX=new v(this,!1))},setPostPipeline:function(n,e,s){var o=this.scene.sys.renderer;if(!o)return this;var i=o.pipelines;if(i){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var u=i.getPostPipeline(n[l],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=s?h(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var s=this.postPipelineData;return e===void 0?delete s[n]:s[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,o=[],i=0;i<s.length;i++){var l=s[i];(e&&l.name===n||!e&&l instanceof n)&&o.push(l)}return o.length===1?o[0]:o},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,o=s.length-1;o>=0;o--){var i=s[o];(e&&i.name===n||!e&&i===n)&&(i.destroy(),a(s,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},80227:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};p.exports=x},16736:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};p.exports=x},37726:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,n,e,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n,e,s)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof h?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=a},79812:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,n,e,s){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,n,e,s,this.flipX,this.flipY);else{var o=r;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof h?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=a},27472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,v,a){return t===void 0&&(t=16777215),h===void 0&&(h=t,v=t,a=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=v,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,h,v,a){return this.setTint(t,h,v,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=x},53774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};p.exports=x},16901:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=t(61340),a=t(85955),r=t(86554),n=t(30954),e=t(26099),s=4,o={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=-5:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return n(this._rotation*h.RAD_TO_DEG)},set:function(i){this.rotation=n(i)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,l,u,f){return i===void 0&&(i=0),l===void 0&&(l=i),u===void 0&&(u=0),f===void 0&&(f=0),this.x=i,this.y=l,this.z=u,this.w=f,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,l,u,f){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),f===void 0&&(f=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=l+Math.random()*f,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=i),this.scaleX=i,this.scaleY=l,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new v),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,l){i===void 0&&(i=new v);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);var f=!1;for(l||(l=new v,f=!0),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)l.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),l.multiply(i,i),u=u.parentContainer;return f&&l.destroy(),i},getLocalPoint:function(i,l,u,f){u||(u=new e),f||(f=this.scene.sys.cameras.main);var d=f.scrollX,c=f.scrollY,g=i+d*this.scrollFactorX-d,m=l+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,m,u):a(g,m,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getWorldPoint:function(i,l,u){i===void 0&&(i=new e);var f=this.parentContainer;if(!f)return i.x=this.x,i.y=this.y,i;var d=this.getWorldTransformMatrix(l,u);return i.x=d.tx,i.y=d.ty,i},getParentRotation:function(){for(var i=0,l=this.parentContainer;l;)i+=l.rotation,l=l.parentContainer;return i}};p.exports=o},61340:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(36383),a=t(26099),r=new h({initialize:function(e,s,o,i,l,u){e===void 0&&(e=1),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=1),l===void 0&&(l=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,s,o,i,l,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],s=n[1],o=n[2],i=n[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):o||i?v.TAU-(i>0?Math.acos(-o/this.scaleY):-Math.acos(o/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var s=this.matrix;return s[4]=s[0]*n+s[2]*e+s[4],s[5]=s[1]*n+s[3]*e+s[5],this},scale:function(n,e){var s=this.matrix;return s[0]*=n,s[1]*=n,s[2]*=e,s[3]*=e,this},rotate:function(n){var e=Math.sin(n),s=Math.cos(n),o=this.matrix,i=o[0],l=o[1],u=o[2],f=o[3];return o[0]=i*s+u*e,o[1]=l*s+f*e,o[2]=i*-e+u*s,o[3]=l*-e+f*s,this},multiply:function(n,e){var s=this.matrix,o=n.matrix,i=s[0],l=s[1],u=s[2],f=s[3],d=s[4],c=s[5],g=o[0],m=o[1],y=o[2],T=o[3],S=o[4],C=o[5],P=e===void 0?s:e.matrix;return P[0]=g*i+m*u,P[1]=g*l+m*f,P[2]=y*i+T*u,P[3]=y*l+T*f,P[4]=S*i+C*u+d,P[5]=S*l+C*f+c,P},multiplyWithOffset:function(n,e,s){var o=this.matrix,i=n.matrix,l=o[0],u=o[1],f=o[2],d=o[3],c=o[4],g=o[5],m=e*l+s*f+c,y=e*u+s*d+g,T=i[0],S=i[1],C=i[2],P=i[3],b=i[4],w=i[5];return o[0]=T*l+S*f,o[1]=T*u+S*d,o[2]=C*l+P*f,o[3]=C*u+P*d,o[4]=b*l+w*f+m,o[5]=b*u+w*d+y,this},transform:function(n,e,s,o,i,l){var u=this.matrix,f=u[0],d=u[1],c=u[2],g=u[3],m=u[4],y=u[5];return u[0]=n*f+e*c,u[1]=n*d+e*g,u[2]=s*f+o*c,u[3]=s*d+o*g,u[4]=i*f+l*c+m,u[5]=i*d+l*g+y,this},transformPoint:function(n,e,s){s===void 0&&(s={x:0,y:0});var o=this.matrix,i=o[0],l=o[1],u=o[2],f=o[3],d=o[4],c=o[5];return s.x=n*i+e*u+d,s.y=n*l+e*f+c,s},invert:function(){var n=this.matrix,e=n[0],s=n[1],o=n[2],i=n[3],l=n[4],u=n[5],f=e*i-s*o;return n[0]=i/f,n[1]=-s/f,n[2]=-o/f,n[3]=e/f,n[4]=(o*u-i*l)/f,n[5]=-(e*u-s*l)/f,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,s,o,i,l){var u=this.matrix;return u[0]=n,u[1]=e,u[2]=s,u[3]=o,u[4]=i,u[5]=l,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,s=e[0],o=e[1],i=e[2],l=e[3],u=s*l-o*i;if(n.translateX=e[4],n.translateY=e[5],s||o){var f=Math.sqrt(s*s+o*o);n.rotation=o>0?Math.acos(s/f):-Math.acos(s/f),n.scaleX=f,n.scaleY=u/f}else if(i||l){var d=Math.sqrt(i*i+l*l);n.rotation=Math.PI*.5-(l>0?Math.acos(-i/d):-Math.acos(i/d)),n.scaleX=u/d,n.scaleY=d}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,s,o,i){var l=this.matrix,u=Math.sin(s),f=Math.cos(s);return l[4]=n,l[5]=e,l[0]=f*o,l[1]=u*o,l[2]=-u*i,l[3]=f*i,this},applyInverse:function(n,e,s){s===void 0&&(s=new a);var o=this.matrix,i=o[0],l=o[1],u=o[2],f=o[3],d=o[4],c=o[5],g=1/(i*f+u*-l);return s.x=f*g*n+-u*g*e+(c*u-d*f)*g,s.y=i*g*e+-l*g*n+(-c*i+d*l)*g,s},setQuad:function(n,e,s,o,i,l){i===void 0&&(i=!1),l===void 0&&(l=this.quad);var u=this.matrix,f=u[0],d=u[1],c=u[2],g=u[3],m=u[4],y=u[5],T=n*f+e*c+m,S=n*d+e*g+y,C=n*f+o*c+m,P=n*d+o*g+y,b=s*f+o*c+m,w=s*d+o*g+y,M=s*f+e*c+m,D=s*d+e*g+y;if(i){var O=Math.floor(T+.5),U=Math.floor(S+.5),W=O-T,Y=U-S;l[0]=O,l[1]=U,l[2]=C+W,l[3]=P+Y,l[4]=b+W,l[5]=w+Y,l[6]=M+W,l[7]=D+Y}else l[0]=T,l[1]=S,l[2]=C,l[3]=P,l[4]=b,l[5]=w,l[6]=M,l[7]=D;return l},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,s){var o=this.getX(n,e);return s&&(o=Math.floor(o+.5)),o},getYRound:function(n,e,s){var o=this.getY(n,e);return s&&(o=Math.floor(o+.5)),o},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59715:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};p.exports=t},31401:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),v=t(10312),a=t(83419),r=t(31401),n=t(51708),e=t(95643),s=t(87841),o=t(29959),i=t(36899),l=t(26099),u=new r.TransformMatrix,f=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,o],initialize:function(c,g,m,y){e.call(this,c,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this._sortKey="",this._sysEvents=c.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,m),this.setBlendMode(v.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(d){return d===void 0&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(d===void 0&&(d=new s),d.setTo(this.x,this.y,0,0),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix(),g=c.transformPoint(this.x,this.y);d.setTo(g.x,g.y,0,0)}if(this.list.length>0){var m=this.list,y=new s,T=!1;d.setEmpty();for(var S=0;S<m.length;S++){var C=m[S];C.getBounds&&(C.getBounds(y),T?i(y,d,d):(d.setTo(y.x,y.y,y.width,y.height),T=!0))}}return d},addHandler:function(d){d.once(n.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(n.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,c){c===void 0&&(c=new l),this.parentContainer?this.parentContainer.pointToContainer(d,c):(c.x=d.x,c.y=d.y);var g=u;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(d.x,d.y,c),c},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(u,this.localTransform)},add:function(d){return h.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,c){return h.AddAt(this.list,d,c,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,c){return d?(c===void 0&&(c=function(g,m){return g[d]-m[d]}),h.StableSort(this.list,c),this):this},getByName:function(d){return h.GetFirst(this.list,"name",d)},getRandom:function(d,c){return h.GetRandom(this.list,d,c)},getFirst:function(d,c,g,m){return h.GetFirst(this.list,d,c,g,m)},getAll:function(d,c,g,m){return h.GetAll(this.list,d,c,g,m)},count:function(d,c,g,m){return h.CountAllMatching(this.list,d,c,g,m)},swap:function(d,c){return h.Swap(this.list,d,c),this},moveTo:function(d,c){return h.MoveTo(this.list,d,c),this},moveAbove:function(d,c){return h.MoveAbove(this.list,d,c),this},moveBelow:function(d,c){return h.MoveBelow(this.list,d,c),this},remove:function(d,c){var g=h.Remove(this.list,d,this.removeHandler,this);if(c&&g){Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++)g[m].destroy()}return this},removeAt:function(d,c){var g=h.RemoveAt(this.list,d,this.removeHandler,this);return c&&g&&g.destroy(),this},removeBetween:function(d,c,g){var m=h.RemoveBetween(this.list,d,c,this.removeHandler,this);if(g)for(var y=0;y<m.length;y++)m[y].destroy();return this},removeAll:function(d){var c=this.list;if(d){for(var g=0;g<c.length;g++)c[g]&&c[g].scene&&(c[g].off(n.DESTROY,this.onChildDestroyed,this),c[g].destroy());this.list=[]}else h.RemoveBetween(c,0,c.length,this.removeHandler,this);return this},bringToTop:function(d){return h.BringToTop(this.list,d),this},sendToBack:function(d){return h.SendToBack(this.list,d),this},moveUp:function(d){return h.MoveUp(this.list,d),this},moveDown:function(d){return h.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(d,c,g){var m=h.Replace(this.list,d,c);return m&&(this.addHandler(c),this.removeHandler(d),g&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,c,g,m){return h.SetAll(this.list,d,c,g,m),this},each:function(d,c){var g=[null],m,y=this.list.slice(),T=y.length;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<T;m++)g[0]=y[m],d.apply(c,g);return this},iterate:function(d,c){var g=[null],m;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<this.list.length;m++)g[0]=this.list[m],d.apply(c,g);return this},setScrollFactor:function(d,c,g){return c===void 0&&(c=d),g===void 0&&(g=!1),this.scrollFactorX=d,this.scrollFactorY=c,g&&(h.SetAll(this.list,"scrollFactorX",d),h.SetAll(this.list,"scrollFactorY",c)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(d){h.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});p.exports=f},53584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v.addToRenderList(h);var r=h.list;if(r.length!==0){var n=h.localTransform;a?(n.loadIdentity(),n.multiply(a),n.translate(h.x,h.y),n.rotate(h.rotation),n.scale(h.scaleX,h.scaleY)):n.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var e=h.blendMode!==-1;e||t.setBlendMode(0);var s=h._alpha,o=h.scrollFactorX,i=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,v);for(var l=0;l<r.length;l++){var u=r[l];if(u.willRender(v)){var f=u.alpha,d=u.scrollFactorX,c=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(d*o,c*i),u.setAlpha(f*s),u.renderCanvas(t,u,v,n),u.setAlpha(f),u.setScrollFactor(d,c)}}h.mask&&h.mask.postRenderCanvas(t)}};p.exports=x},77143:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(31559),a=t(44603),r=t(23568),n=t(95540);a.register("container",function(e,s){e===void 0&&(e={});var o=r(e,"x",0),i=r(e,"y",0),l=n(e,"children",null),u=new v(this.scene,o,i,l);return s!==void 0&&(e.add=s),h(this.scene,u,e),u})},24961:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31559),v=t(39429);v.register("container",function(a,r,n){return this.displayList.add(new h(this.scene,a,r,n))})},29959:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(72249),a=t(53584),p.exports={renderWebGL:v,renderCanvas:a}},72249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v.addToRenderList(h);var r=h.list,n=r.length;if(n!==0){var e=h.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(h.x,h.y),e.rotate(h.rotation),e.scale(h.scaleX,h.scaleY)):e.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var s=h.blendMode!==-1;s||t.setBlendMode(0);for(var o=h.alpha,i=h.scrollFactorX,l=h.scrollFactorY,u=0;u<n;u++){var f=r[u];if(f.willRender(v)){var d,c,g,m;if(f.alphaTopLeft!==void 0)d=f.alphaTopLeft,c=f.alphaTopRight,g=f.alphaBottomLeft,m=f.alphaBottomRight;else{var y=f.alpha;d=y,c=y,g=y,m=y}var T=f.scrollFactorX,S=f.scrollFactorY;!s&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode);var C=f.mask;C&&C.preRenderWebGL(t,f,v);var P=f.type;P!==t.currentType&&(t.newType=!0,t.currentType=P),t.nextTypeMatch=u<n-1?r[u+1].type===t.currentType:!1,f.setScrollFactor(T*i,S*l),f.setAlpha(d*o,c*o,g*o,m*o),f.renderWebGL(t,f,v,e,h),f.setAlpha(d,c,g,m),f.setScrollFactor(T,S),C&&C.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(h)}};p.exports=x},47407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(441),r=t(95643),n=t(41212),e=t(35846),s=t(44594),o=t(61369),i=new h({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,a],initialize:function(u,f,d,c,g,m){r.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new o,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(f,d),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),g,m):this.createElement(c,g,m):c&&this.setElement(c,g,m),u.sys.events.on(s.SLEEP,this.handleSceneEvent,this),u.sys.events.on(s.WAKE,this.handleSceneEvent,this),u.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(l){var u=this.node,f=u.style;u&&(f.display=l.settings.visible?"block":"none")},setSkew:function(l,u){return l===void 0&&(l=0),u===void 0&&(u=l),this.skewX=l,this.skewY=u,this},setPerspective:function(l){return this.parent.style.perspective=l+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(l){this.parent.style.perspective=l+"px"}},addListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.addEventListener(l[u],this.handler,!1)}return this},removeListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.removeEventListener(l[u],this.handler)}return this},dispatchNativeEvent:function(l){this.emit(l.type,l)},createElement:function(l,u,f){return this.setElement(document.createElement(l),u,f)},setElement:function(l,u,f){this.removeElement();var d;if(typeof l=="string"?(l[0]==="#"&&(l=l.substr(1)),d=document.getElementById(l)):typeof l=="object"&&l.nodeType===1&&(d=l),!d)return this;if(this.node=d,u&&n(u))for(var c in u)d.style[c]=u[c];else typeof u=="string"&&(d.style=u);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),f&&(d.innerText=f),this.updateSize()},createFromCache:function(l,u){var f=this.cache.get(l);return f&&this.createFromHTML(f,u),this},createFromHTML:function(l,u){u===void 0&&(u="div"),this.removeElement();var f=document.createElement(u);return this.node=f,f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),f.innerHTML=l,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var l=this.node;return this.width=l.clientWidth,this.height=l.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(l,u){if(this.node){for(var f=this.node.querySelectorAll("*"),d=0;d<f.length;d++)if(f[d][l]===u)return f[d]}return null},getChildByID:function(l){return this.getChildByProperty("id",l)},getChildByName:function(l){return this.getChildByProperty("name",l)},setClassName:function(l){return this.node&&(this.node.className=l,this.updateSize()),this},setText:function(l){return this.node&&(this.node.innerText=l,this.updateSize()),this},setHTML:function(l){return this.node&&(this.node.innerHTML=l,this.updateSize()),this},preRender:function(){var l=this.parentContainer,u=this.node;u&&l&&!l.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});p.exports=i},49381:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47407),v=t(95643),a=t(61340),r=new a,n=new a,e=new a,s=function(o,i,l,u){if(i.node){var f=i.node.style,d=i.scene.sys.settings;if(!f||!d.visible||v.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&l.id||i.parentContainer&&!i.parentContainer.willRender()){f.display="none";return}var c=i.parentContainer,g=l.alpha*i.alpha;c&&(g*=c.alpha);var m=r,y=n,T=e,S=0,C=0,P="0%",b="0%";u?(S=i.width*i.scaleX*i.originX,C=i.height*i.scaleY*i.originY,y.applyITRS(i.x-S,i.y-C,i.rotation,i.scaleX,i.scaleY),m.copyFrom(l.matrix),m.multiplyWithOffset(u,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),y.e=i.x-S,y.f=i.y-C,m.multiply(y,T)):(S=i.width*i.originX,C=i.height*i.originY,y.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),m.copyFrom(l.matrix),P=100*i.originX+"%",b=100*i.originY+"%",y.e-=l.scrollX*i.scrollFactorX,y.f-=l.scrollY*i.scrollFactorY,m.multiply(y,T),T.e-=S,T.f-=C),i.transformOnly||(f.display="block",f.opacity=g,f.zIndex=i._depth,f.pointerEvents=i.pointerEvents,f.mixBlendMode=h[i._blendMode]),f.transform=T.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",f.transformOrigin=P+" "+b}};p.exports=s},2611:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3069),v=t(39429);v.register("dom",function(a,r,n,e,s){var o=new h(this.scene,a,r,n,e,s);return this.displayList.add(o),o})},441:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(49381),a=t(49381),p.exports={renderWebGL:v,renderCanvas:a}},62980:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},41337:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},44947:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},49358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},35163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},97249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},19483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},56059:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},26772:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="metadata"},64437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},83411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},75780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},67799:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},63500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},55541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},53208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},12:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},51708:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(95643),r=t(64993),n=new h({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,r],initialize:function(s){a.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=n},70217:()=>{},56315:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42421),v=t(39429);v.register("extern",function(){var a=new h(this.scene);return this.displayList.add(a),a})},64993:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(80287),a=t(70217),p.exports={renderWebGL:v,renderCanvas:a}},80287:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=function(a,r,n,e){a.pipelines.clear();var s=h(r,n,e).calc;r.render.call(r,a,n,s),a.pipelines.rebind()};p.exports=v},85592:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71911),v=t(83419),a=t(85592),r=t(31401),n=t(8497),e=t(95643),s=t(95540),o=t(35154),i=t(36383),l=t(84503),u=new v({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,l],initialize:function(d,c){var g=o(c,"x",0),m=o(c,"y",0);e.call(this,d,"Graphics"),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(c)},setDefaultStyles:function(f){return o(f,"lineStyle",null)&&(this.defaultStrokeWidth=o(f,"lineStyle.width",1),this.defaultStrokeColor=o(f,"lineStyle.color",16777215),this.defaultStrokeAlpha=o(f,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),o(f,"fillStyle",null)&&(this.defaultFillColor=o(f,"fillStyle.color",16777215),this.defaultFillAlpha=o(f,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(f,d,c){return c===void 0&&(c=1),this.commandBuffer.push(a.LINE_STYLE,f,d,c),this._lineWidth=f,this},fillStyle:function(f,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,f,d),this},fillGradientStyle:function(f,d,c,g,m,y,T,S){return m===void 0&&(m=1),y===void 0&&(y=m),T===void 0&&(T=m),S===void 0&&(S=m),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,m,y,T,S,f,d,c,g),this},lineGradientStyle:function(f,d,c,g,m,y){return y===void 0&&(y=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,f,y,d,c,g,m),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(f){return this.fillCircle(f.x,f.y,f.radius)},strokeCircleShape:function(f){return this.strokeCircle(f.x,f.y,f.radius)},fillCircle:function(f,d,c){return this.beginPath(),this.arc(f,d,c,0,i.PI2),this.fillPath(),this},strokeCircle:function(f,d,c){return this.beginPath(),this.arc(f,d,c,0,i.PI2),this.strokePath(),this},fillRectShape:function(f){return this.fillRect(f.x,f.y,f.width,f.height)},strokeRectShape:function(f){return this.strokeRect(f.x,f.y,f.width,f.height)},fillRect:function(f,d,c,g){return this.commandBuffer.push(a.FILL_RECT,f,d,c,g),this},strokeRect:function(f,d,c,g){var m=this._lineWidth/2,y=f-m,T=f+m;return this.beginPath(),this.moveTo(f,d),this.lineTo(f,d+g),this.strokePath(),this.beginPath(),this.moveTo(f+c,d),this.lineTo(f+c,d+g),this.strokePath(),this.beginPath(),this.moveTo(y,d),this.lineTo(T+c,d),this.strokePath(),this.beginPath(),this.moveTo(y,d+g),this.lineTo(T+c,d+g),this.strokePath(),this},fillRoundedRect:function(f,d,c,g,m){m===void 0&&(m=20);var y=m,T=m,S=m,C=m;typeof m!="number"&&(y=s(m,"tl",20),T=s(m,"tr",20),S=s(m,"bl",20),C=s(m,"br",20));var P=y>=0,b=T>=0,w=S>=0,M=C>=0;return y=Math.abs(y),T=Math.abs(T),S=Math.abs(S),C=Math.abs(C),this.beginPath(),this.moveTo(f+y,d),this.lineTo(f+c-T,d),b?this.arc(f+c-T,d+T,T,-i.TAU,0):this.arc(f+c,d,T,Math.PI,i.TAU,!0),this.lineTo(f+c,d+g-C),M?this.arc(f+c-C,d+g-C,C,0,i.TAU):this.arc(f+c,d+g,C,-i.TAU,Math.PI,!0),this.lineTo(f+S,d+g),w?this.arc(f+S,d+g-S,S,i.TAU,Math.PI):this.arc(f,d+g,S,0,-i.TAU,!0),this.lineTo(f,d+y),P?this.arc(f+y,d+y,y,-Math.PI,-i.TAU):this.arc(f,d,y,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(f,d,c,g,m){m===void 0&&(m=20);var y=m,T=m,S=m,C=m,P=Math.min(c,g)/2;typeof m!="number"&&(y=s(m,"tl",20),T=s(m,"tr",20),S=s(m,"bl",20),C=s(m,"br",20));var b=y>=0,w=T>=0,M=S>=0,D=C>=0;return y=Math.min(Math.abs(y),P),T=Math.min(Math.abs(T),P),S=Math.min(Math.abs(S),P),C=Math.min(Math.abs(C),P),this.beginPath(),this.moveTo(f+y,d),this.lineTo(f+c-T,d),this.moveTo(f+c-T,d),w?this.arc(f+c-T,d+T,T,-i.TAU,0):this.arc(f+c,d,T,Math.PI,i.TAU,!0),this.lineTo(f+c,d+g-C),this.moveTo(f+c,d+g-C),D?this.arc(f+c-C,d+g-C,C,0,i.TAU):this.arc(f+c,d+g,C,-i.TAU,Math.PI,!0),this.lineTo(f+S,d+g),this.moveTo(f+S,d+g),M?this.arc(f+S,d+g-S,S,i.TAU,Math.PI):this.arc(f,d+g,S,0,-i.TAU,!0),this.lineTo(f,d+y),this.moveTo(f,d+y),b?this.arc(f+y,d+y,y,-Math.PI,-i.TAU):this.arc(f,d,y,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(f,d){return this.fillPoint(f.x,f.y,d)},fillPoint:function(f,d,c){return!c||c<1?c=1:(f-=c/2,d-=c/2),this.commandBuffer.push(a.FILL_RECT,f,d,c,c),this},fillTriangleShape:function(f){return this.fillTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},strokeTriangleShape:function(f){return this.strokeTriangle(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)},fillTriangle:function(f,d,c,g,m,y){return this.commandBuffer.push(a.FILL_TRIANGLE,f,d,c,g,m,y),this},strokeTriangle:function(f,d,c,g,m,y){return this.commandBuffer.push(a.STROKE_TRIANGLE,f,d,c,g,m,y),this},strokeLineShape:function(f){return this.lineBetween(f.x1,f.y1,f.x2,f.y2)},lineBetween:function(f,d,c,g){return this.beginPath(),this.moveTo(f,d),this.lineTo(c,g),this.strokePath(),this},lineTo:function(f,d){return this.commandBuffer.push(a.LINE_TO,f,d),this},moveTo:function(f,d){return this.commandBuffer.push(a.MOVE_TO,f,d),this},strokePoints:function(f,d,c,g){d===void 0&&(d=!1),c===void 0&&(c=!1),g===void 0&&(g=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var m=1;m<g;m++)this.lineTo(f[m].x,f[m].y);return d&&this.lineTo(f[0].x,f[0].y),c&&this.closePath(),this.strokePath(),this},fillPoints:function(f,d,c,g){d===void 0&&(d=!1),c===void 0&&(c=!1),g===void 0&&(g=f.length),this.beginPath(),this.moveTo(f[0].x,f[0].y);for(var m=1;m<g;m++)this.lineTo(f[m].x,f[m].y);return d&&this.lineTo(f[0].x,f[0].y),c&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(f,d){d===void 0&&(d=32);var c=f.getPoints(d);return this.strokePoints(c,!0)},strokeEllipse:function(f,d,c,g,m){m===void 0&&(m=32);var y=new n(f,d,c,g),T=y.getPoints(m);return this.strokePoints(T,!0)},fillEllipseShape:function(f,d){d===void 0&&(d=32);var c=f.getPoints(d);return this.fillPoints(c,!0)},fillEllipse:function(f,d,c,g,m){m===void 0&&(m=32);var y=new n(f,d,c,g),T=y.getPoints(m);return this.fillPoints(T,!0)},arc:function(f,d,c,g,m,y,T){return y===void 0&&(y=!1),T===void 0&&(T=0),this.commandBuffer.push(a.ARC,f,d,c,g,m,y,T),this},slice:function(f,d,c,g,m,y,T){return y===void 0&&(y=!1),T===void 0&&(T=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,f,d),this.commandBuffer.push(a.ARC,f,d,c,g,m,y,T),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(f,d){return this.commandBuffer.push(a.TRANSLATE,f,d),this},scaleCanvas:function(f,d){return this.commandBuffer.push(a.SCALE,f,d),this},rotateCanvas:function(f){return this.commandBuffer.push(a.ROTATE,f),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(f,d,c){var g=this.scene.sys,m=g.game.renderer;d===void 0&&(d=g.scale.width),c===void 0&&(c=g.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,d,c),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var y,T,S={willReadFrequently:!0};if(typeof f=="string")if(g.textures.exists(f)){y=g.textures.get(f);var C=y.getSourceImage();C instanceof HTMLCanvasElement&&(T=C.getContext("2d",S))}else y=g.textures.createCanvas(f,d,c),T=y.getSourceImage().getContext("2d",S);else f instanceof HTMLCanvasElement&&(T=f.getContext("2d",S));return T&&(this.renderCanvas(m,this,u.TargetCamera,null,T,!1),y&&y.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new h,p.exports=u},32768:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),v=t(20926),a=function(r,n,e,s,o,i){var l=n.commandBuffer,u=l.length,f=o||r.currentContext;if(!(u===0||!v(r,f,n,e,s))){e.addToRenderList(n);var d=1,c=1,g=0,m=0,y=1,T=0,S=0,C=0;f.beginPath();for(var P=0;P<u;++P){var b=l[P];switch(b){case h.ARC:f.arc(l[P+1],l[P+2],l[P+3],l[P+4],l[P+5],l[P+6]),P+=7;break;case h.LINE_STYLE:y=l[P+1],g=l[P+2],d=l[P+3],T=(g&16711680)>>>16,S=(g&65280)>>>8,C=g&255,f.strokeStyle="rgba("+T+","+S+","+C+","+d+")",f.lineWidth=y,P+=3;break;case h.FILL_STYLE:m=l[P+1],c=l[P+2],T=(m&16711680)>>>16,S=(m&65280)>>>8,C=m&255,f.fillStyle="rgba("+T+","+S+","+C+","+c+")",P+=2;break;case h.BEGIN_PATH:f.beginPath();break;case h.CLOSE_PATH:f.closePath();break;case h.FILL_PATH:i||f.fill();break;case h.STROKE_PATH:i||f.stroke();break;case h.FILL_RECT:i?f.rect(l[P+1],l[P+2],l[P+3],l[P+4]):f.fillRect(l[P+1],l[P+2],l[P+3],l[P+4]),P+=4;break;case h.FILL_TRIANGLE:f.beginPath(),f.moveTo(l[P+1],l[P+2]),f.lineTo(l[P+3],l[P+4]),f.lineTo(l[P+5],l[P+6]),f.closePath(),i||f.fill(),P+=6;break;case h.STROKE_TRIANGLE:f.beginPath(),f.moveTo(l[P+1],l[P+2]),f.lineTo(l[P+3],l[P+4]),f.lineTo(l[P+5],l[P+6]),f.closePath(),i||f.stroke(),P+=6;break;case h.LINE_TO:f.lineTo(l[P+1],l[P+2]),P+=2;break;case h.MOVE_TO:f.moveTo(l[P+1],l[P+2]),P+=2;break;case h.LINE_FX_TO:f.lineTo(l[P+1],l[P+2]),P+=5;break;case h.MOVE_FX_TO:f.moveTo(l[P+1],l[P+2]),P+=5;break;case h.SAVE:f.save();break;case h.RESTORE:f.restore();break;case h.TRANSLATE:f.translate(l[P+1],l[P+2]),P+=2;break;case h.SCALE:f.scale(l[P+1],l[P+2]),P+=2;break;case h.ROTATE:f.rotate(l[P+1]),P+=1;break;case h.GRADIENT_FILL_STYLE:P+=5;break;case h.GRADIENT_LINE_STYLE:P+=6;break}}f.restore()}};p.exports=a},87079:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),v=t(43831);h.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var n=new v(this.scene,a);return a.add&&this.scene.sys.displayList.add(n),n})},1201:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43831),v=t(39429);v.register("graphics",function(a){return this.displayList.add(new h(this.scene,a))})},84503:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(77545),a=t(32768),a=t(32768),p.exports={renderWebGL:v,renderCanvas:a}},77545:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85592),v=t(91296),a=t(61340),r=t(70554),n=function(l,u,f){this.x=l,this.y=u,this.width=f},e=function(l,u,f){this.points=[],this.pointsLength=1,this.points[0]=new n(l,u,f)},s=[],o=new a,i=function(l,u,f,d){if(u.commandBuffer.length!==0){f.addToRenderList(u);var c=l.pipelines.set(u.pipeline,u);l.pipelines.preBatch(u);for(var g=v(u,f,d).calc,m=o.loadIdentity(),y=u.commandBuffer,T=f.alpha*u.alpha,S=1,C=c.fillTint,P=c.strokeTint,b=0,w=0,M=0,D=.01,O=Math.PI*2,U,W=[],Y=0,X=!0,N=null,V=r.getTintAppendFloatAlpha,I=0;I<y.length;I++)switch(U=y[I],U){case h.BEGIN_PATH:{W.length=0,N=null,X=!0;break}case h.CLOSE_PATH:{X=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case h.FILL_PATH:{for(Y=0;Y<W.length;Y++)c.batchFillPath(W[Y].points,m,g);break}case h.STROKE_PATH:{for(Y=0;Y<W.length;Y++)c.batchStrokePath(W[Y].points,S,X,m,g);break}case h.LINE_STYLE:{S=y[++I];var B=y[++I],G=y[++I]*T,H=V(B,G);P.TL=H,P.TR=H,P.BL=H,P.BR=H;break}case h.FILL_STYLE:{var k=y[++I],Z=y[++I]*T,J=V(k,Z);C.TL=J,C.TR=J,C.BL=J,C.BR=J;break}case h.GRADIENT_FILL_STYLE:{var j=y[++I]*T,_=y[++I]*T,tt=y[++I]*T,et=y[++I]*T;C.TL=V(y[++I],j),C.TR=V(y[++I],_),C.BL=V(y[++I],tt),C.BR=V(y[++I],et);break}case h.GRADIENT_LINE_STYLE:{S=y[++I];var rt=y[++I]*T;P.TL=V(y[++I],rt),P.TR=V(y[++I],rt),P.BL=V(y[++I],rt),P.BR=V(y[++I],rt);break}case h.ARC:{var at=0,st=y[++I],ct=y[++I],pt=y[++I],vt=y[++I],nt=y[++I],lt=y[++I],ht=y[++I];for(nt-=vt,lt?nt<-O?nt=-O:nt>0&&(nt=-O+nt%O):nt>O?nt=O:nt<0&&(nt=O+nt%O),N===null&&(N=new e(st+Math.cos(vt)*pt,ct+Math.sin(vt)*pt,S),W.push(N),at+=D);at<1+ht;)M=nt*at+vt,b=st+Math.cos(M)*pt,w=ct+Math.sin(M)*pt,N.points.push(new n(b,w,S)),at+=D;M=nt+vt,b=st+Math.cos(M)*pt,w=ct+Math.sin(M)*pt,N.points.push(new n(b,w,S));break}case h.FILL_RECT:{c.batchFillRect(y[++I],y[++I],y[++I],y[++I],m,g);break}case h.FILL_TRIANGLE:{c.batchFillTriangle(y[++I],y[++I],y[++I],y[++I],y[++I],y[++I],m,g);break}case h.STROKE_TRIANGLE:{c.batchStrokeTriangle(y[++I],y[++I],y[++I],y[++I],y[++I],y[++I],S,m,g);break}case h.LINE_TO:{N!==null?N.points.push(new n(y[++I],y[++I],S)):(N=new e(y[++I],y[++I],S),W.push(N));break}case h.MOVE_TO:{N=new e(y[++I],y[++I],S),W.push(N);break}case h.SAVE:{s.push(m.copyToArray());break}case h.RESTORE:{m.copyFromArray(s.pop());break}case h.TRANSLATE:{st=y[++I],ct=y[++I],m.translate(st,ct);break}case h.SCALE:{st=y[++I],ct=y[++I],m.scale(st,ct);break}case h.ROTATE:{m.rotate(y[++I]);break}}l.pipelines.postBatch(u)}};p.exports=i},26479:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61061),v=t(83419),a=t(51708),r=t(50792),n=t(46710),e=t(95540),s=t(35154),o=t(97022),i=t(41212),l=t(88492),u=t(35072),f=t(68287),d=new v({Extends:r,initialize:function(g,m,y){r.call(this),y?m&&!Array.isArray(m)&&(m=[m]):Array.isArray(m)?i(m[0])&&(y=m,m=null):i(m)&&(y=m,m=null),this.scene=g,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(y,"classType",f),this.name=e(y,"name",""),this.active=e(y,"active",!0),this.maxSize=e(y,"maxSize",-1),this.defaultKey=e(y,"defaultKey",null),this.defaultFrame=e(y,"defaultFrame",null),this.runChildUpdate=e(y,"runChildUpdate",!1),this.createCallback=e(y,"createCallback",null),this.removeCallback=e(y,"removeCallback",null),this.createMultipleCallback=e(y,"createMultipleCallback",null),this.internalCreateCallback=e(y,"internalCreateCallback",null),this.internalRemoveCallback=e(y,"internalRemoveCallback",null),m&&this.addMultiple(m),y&&this.createMultiple(y),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,g,m,y,T,S){if(c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=this.defaultKey),y===void 0&&(y=this.defaultFrame),T===void 0&&(T=!0),S===void 0&&(S=!0),this.isFull())return null;var C=new this.classType(this.scene,c,g,m,y);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=T,C.setActive(S),this.add(C),C},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var g=[];if(c[0].key)for(var m=0;m<c.length;m++){var y=this.createFromConfig(c[m]);g=g.concat(y)}return g},createFromConfig:function(c){if(this.isFull())return[];this.classType=e(c,"classType",this.classType);var g=e(c,"key",void 0),m=e(c,"frame",null),y=e(c,"visible",!0),T=e(c,"active",!0),S=[];if(g===void 0)return S;Array.isArray(g)||(g=[g]),Array.isArray(m)||(m=[m]);var C=e(c,"repeat",0),P=e(c,"randomKey",!1),b=e(c,"randomFrame",!1),w=e(c,"yoyo",!1),M=e(c,"quantity",!1),D=e(c,"frameQuantity",1),O=e(c,"max",0),U=l(g,m,{max:O,qty:M||D,random:P,randomB:b,repeat:C,yoyo:w});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback),c.internalCreateCallback&&(this.internalCreateCallback=c.internalCreateCallback),c.internalRemoveCallback&&(this.internalRemoveCallback=c.internalRemoveCallback);for(var W=0;W<U.length;W++){var Y=this.create(0,0,U[W].a,U[W].b,y,T);if(!Y)break;S.push(Y)}if(o(c,"setXY")){var X=s(c,"setXY.x",0),N=s(c,"setXY.y",0),V=s(c,"setXY.stepX",0),I=s(c,"setXY.stepY",0);h.SetXY(S,X,N,V,I)}if(o(c,"setRotation")){var B=s(c,"setRotation.value",0),G=s(c,"setRotation.step",0);h.SetRotation(S,B,G)}if(o(c,"setScale")){var H=s(c,"setScale.x",1),k=s(c,"setScale.y",H),Z=s(c,"setScale.stepX",0),J=s(c,"setScale.stepY",0);h.SetScale(S,H,k,Z,J)}if(o(c,"setOrigin")){var j=s(c,"setOrigin.x",.5),_=s(c,"setOrigin.y",j),tt=s(c,"setOrigin.stepX",0),et=s(c,"setOrigin.stepY",0);h.SetOrigin(S,j,_,tt,et)}if(o(c,"setAlpha")){var rt=s(c,"setAlpha.value",1),at=s(c,"setAlpha.step",0);h.SetAlpha(S,rt,at)}if(o(c,"setDepth")){var st=s(c,"setDepth.value",0),ct=s(c,"setDepth.step",0);h.SetDepth(S,st,ct)}if(o(c,"setScrollFactor")){var pt=s(c,"setScrollFactor.x",1),vt=s(c,"setScrollFactor.y",pt),nt=s(c,"setScrollFactor.stepX",0),lt=s(c,"setScrollFactor.stepY",0);h.SetScrollFactor(S,pt,vt,nt,lt)}var ht=e(c,"hitArea",null),Tt=e(c,"hitAreaCallback",null);ht&&h.SetHitArea(S,ht,Tt);var wt=e(c,"gridAlign",!1);return wt&&h.GridAlign(S,wt),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(c,g){if(!(!this.runChildUpdate||this.children.size===0))for(var m=this.children.entries.slice(),y=0;y<m.length;y++){var T=m[y];T.active&&T.update(c,g)}},add:function(c,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),g&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(a.DESTROY,this.remove,this),this)},addMultiple:function(c,g){if(g===void 0&&(g=!1),Array.isArray(c))for(var m=0;m<c.length;m++)this.add(c[m],g);return this},remove:function(c,g,m){return g===void 0&&(g=!1),m===void 0&&(m=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(a.DESTROY,this.remove,this),m?c.destroy():g&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1);for(var m=this.children,y=0;y<m.size;y++){var T=m.entries[y];T.off(a.DESTROY,this.remove,this),g?T.destroy():c&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,g,m,y){return n(this.children.entries,c,g,m,y)},getFirst:function(c,g,m,y,T,S,C){return this.getHandler(!0,1,c,g,m,y,T,S,C)},getFirstNth:function(c,g,m,y,T,S,C,P){return this.getHandler(!0,c,g,m,y,T,S,C,P)},getLast:function(c,g,m,y,T,S,C){return this.getHandler(!1,1,c,g,m,y,T,S,C)},getLastNth:function(c,g,m,y,T,S,C,P){return this.getHandler(!1,c,g,m,y,T,S,C,P)},getHandler:function(c,g,m,y,T,S,C,P,b){m===void 0&&(m=!1),y===void 0&&(y=!1);var w,M,D=0,O=this.children.entries;if(c)for(M=0;M<O.length;M++)if(w=O[M],w.active===m){if(D++,D===g)break}else w=null;else for(M=O.length-1;M>=0;M--)if(w=O[M],w.active===m){if(D++,D===g)break}else w=null;return w?(typeof T=="number"&&(w.x=T),typeof S=="number"&&(w.y=S),w):y?this.create(T,S,C,P,b):null},get:function(c,g,m,y,T){return this.getFirst(!1,!0,c,g,m,y,T)},getFirstAlive:function(c,g,m,y,T,S){return this.getFirst(!0,c,g,m,y,T,S)},getFirstDead:function(c,g,m,y,T,S){return this.getFirst(!1,c,g,m,y,T,S)},playAnimation:function(c,g){return h.PlayAnimation(this.children.entries,c,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var g=0,m=0;m<this.children.size;m++)this.children.entries[m].active===c&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,g,m,y,T){return h.PropertyValueSet(this.children.entries,c,g,m,y,T),this},propertyValueInc:function(c,g,m,y,T){return h.PropertyValueInc(this.children.entries,c,g,m,y,T),this},setX:function(c,g){return h.SetX(this.children.entries,c,g),this},setY:function(c,g){return h.SetY(this.children.entries,c,g),this},setXY:function(c,g,m,y){return h.SetXY(this.children.entries,c,g,m,y),this},incX:function(c,g){return h.IncX(this.children.entries,c,g),this},incY:function(c,g){return h.IncY(this.children.entries,c,g),this},incXY:function(c,g,m,y){return h.IncXY(this.children.entries,c,g,m,y),this},shiftPosition:function(c,g,m){return h.ShiftPosition(this.children.entries,c,g,m),this},angle:function(c,g){return h.Angle(this.children.entries,c,g),this},rotate:function(c,g){return h.Rotate(this.children.entries,c,g),this},rotateAround:function(c,g){return h.RotateAround(this.children.entries,c,g),this},rotateAroundDistance:function(c,g,m){return h.RotateAroundDistance(this.children.entries,c,g,m),this},setAlpha:function(c,g){return h.SetAlpha(this.children.entries,c,g),this},setTint:function(c,g,m,y){return h.SetTint(this.children.entries,c,g,m,y),this},setOrigin:function(c,g,m,y){return h.SetOrigin(this.children.entries,c,g,m,y),this},scaleX:function(c,g){return h.ScaleX(this.children.entries,c,g),this},scaleY:function(c,g){return h.ScaleY(this.children.entries,c,g),this},scaleXY:function(c,g,m,y){return h.ScaleXY(this.children.entries,c,g,m,y),this},setDepth:function(c,g){return h.SetDepth(this.children.entries,c,g),this},setBlendMode:function(c){return h.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,g){return h.SetHitArea(this.children.entries,c,g),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,g,m){return h.SetVisible(this.children.entries,c,g,m),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,c),this.scene=void 0,this.children=void 0)}});p.exports=d},94975:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),v=t(26479);h.register("group",function(a){return new v(this.scene,null,a)})},3385:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26479),v=t(39429);v.register("group",function(a,r){return this.updateList.add(new h(this.scene,a,r))})},88571:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(95643),r=t(59819),n=new h({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,r],initialize:function(s,o,i,l,u){a.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(l,u),this.setPosition(o,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},40652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v.addToRenderList(h),t.batchSprite(h,h.frame,v,a)};p.exports=x},82459:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(88571);v.register("image",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=a(n,"frame",null),i=new r(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),h(this.scene,i,n),i})},2117:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88571),v=t(39429);v.register("image",function(a,r,n,e){return this.displayList.add(new h(this.scene,a,r,n,e))})},59819:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(99517),a=t(40652),p.exports={renderWebGL:v,renderCanvas:a}},99517:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v.addToRenderList(h),this.pipeline.batchSprite(h,v,a)};p.exports=x},77856:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};h.Shader=t(20071),h.Mesh=t(4703),h.NineSlice=t(28103),h.PointLight=t(80321),h.Plane=t(33663),h.Factories.Shader=t(74177),h.Factories.Mesh=t(9225),h.Factories.NineSlice=t(47521),h.Factories.PointLight=t(71255),h.Factories.Plane=t(30985),h.Creators.Shader=t(54935),h.Creators.Mesh=t(20527),h.Creators.NineSlice=t(28279),h.Creators.PointLight=t(39829),h.Creators.Plane=t(56015),h.Light=t(41432),h.LightsManager=t(61356),h.LightsPlugin=t(88992),p.exports=h},93595:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),v=t(83419),a=t(31401),r=t(53774),n=t(45893),e=t(50792),s=t(51708),o=t(73162),i=t(33963),l=t(44594),u=t(19186),f=new v({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,i],initialize:function(c,g){o.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),g&&this.add(g),c.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(d,c){return this.data||(this.data=new n(this)),this.data.set(d,c),this},incData:function(d,c){return this.data||(this.data=new n(this)),this.data.inc(d,c),this},toggleData:function(d){return this.data||(this.data=new n(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new n(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,c=this.parentContainer,g=[];c&&(g.unshift(c.getIndex(d)),d=c,c.parentContainer);)c=c.parentContainer;return g.unshift(this.displayList.getIndex(d)),g},addChildCallback:function(d){var c=d.displayList;c&&c!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(s.ADDED_TO_SCENE,d,this.scene),this.events.emit(l.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(s.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,c){return d._depth-c._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),d.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var d=null;return this.parentContainer?d=this.parentContainer.list:this.displayList&&(d=this.displayList.list),d},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var c=this.list;c.length;)c[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=f},2956:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=h.list;if(a.length!==0){h.depthSort();var r=h.blendMode!==-1;r||t.setBlendMode(0);var n=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,v);for(var e=0;e<a.length;e++){var s=a[e];if(s.willRender(v)){var o=s.alpha;!r&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(o*n),s.renderCanvas(t,s,v),s.setAlpha(o)}}h.mask&&h.mask.postRenderCanvas(t)}};p.exports=x},25179:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(93595),a=t(44603),r=t(23568);a.register("layer",function(n,e){n===void 0&&(n={});var s=r(n,"children",null),o=new v(this.scene,s);return e!==void 0&&(n.add=e),h(this.scene,o,n),o})},20005:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93595),v=t(39429);v.register("layer",function(a){return this.displayList.add(new h(this.scene,a))})},33963:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(15869),a=t(2956),p.exports={renderWebGL:v,renderCanvas:a}},15869:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=h.list,r=a.length;if(r!==0){h.depthSort(),t.pipelines.preBatch(h);var n=h.blendMode!==-1;n||t.setBlendMode(0);for(var e=h.alpha,s=0;s<r;s++){var o=a[s];if(o.willRender(v)){var i,l,u,f;if(o.alphaTopLeft!==void 0)i=o.alphaTopLeft,l=o.alphaTopRight,u=o.alphaBottomLeft,f=o.alphaBottomRight;else{var d=o.alpha;i=d,l=d,u=d,f=d}!n&&o.blendMode!==t.currentBlendMode&&t.setBlendMode(o.blendMode);var c=o.mask;c&&c.preRenderWebGL(t,o,v);var g=o.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=s<r-1?a[s+1].type===t.currentType:!1,o.setAlpha(i*e,l*e,u*e,f*e),o.renderWebGL(t,o,v),o.setAlpha(i,l,u,f),c&&c.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(h)}};p.exports=x},41432:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),v=t(83419),a=t(31401),r=t(51767),n=t(70554),e=new v({Extends:h,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(o,i,l,u,f,d,c){h.call(this,o,i,l),this.color=new r(u,f,d),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(l)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var o=n.getFloatsFromUintRGB(s);return this.color.set(o[0],o[1],o[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,p.exports=e},61356:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81491),v=t(83419),a=t(20339),r=t(41432),n=t(80321),e=t(51767),s=t(19133),o=t(19186),i=t(70554),l=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,f,d,c,g,m){return this.systems.displayList.add(new n(this.scene,u,f,d,c,g,m))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var f=this.lights,d=u.worldView,c=[],g=0;g<f.length;g++){var m=f[g];m.willRender(u)&&h(m,d)&&c.push({light:m,distance:a(m.x,m.y,d.centerX,d.centerY)})}return c.length>this.maxLights&&(o(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(u,f){return u.distance>=f.distance},setAmbientColor:function(u){var f=i.getFloatsFromUintRGB(u);return this.ambientColor.set(f[0],f[1],f[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,f,d,c,g){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),c===void 0&&(c=16777215),g===void 0&&(g=1);var m=i.getFloatsFromUintRGB(c),y=new r(u,f,d,m[0],m[1],m[2],g);return this.lights.push(y),y},removeLight:function(u){var f=this.lights.indexOf(u);return f>=0&&s(this.lights,f),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=l},88992:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(61356),a=t(37277),r=t(44594),n=new h({Extends:v,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",n,"lights"),p.exports=n},4703:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(39506),r=t(83997),n=t(95643),e=t(34684),s=t(92515),o=t(91296),i=t(37867),l=t(29807),u=t(43396),f=t(19186),d=t(25836),c=t(39318),g=new h({Extends:n,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,l],initialize:function(y,T,S,C,P,b,w,M,D,O,U,W){T===void 0&&(T=0),S===void 0&&(S=0),C===void 0&&(C="__WHITE"),n.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new d,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=y.sys.renderer;this.setPosition(T,S),this.setTexture(C,P),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),b&&this.addVertices(b,w,M,D,O,U,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(m){return this.viewPosition.addScale(d.LEFT,m),this.dirtyCache[10]=1,this},panY:function(m){return this.viewPosition.y+=d.DOWN.y*m,this.dirtyCache[10]=1,this},panZ:function(m){return this.viewPosition.z+=m,this.dirtyCache[10]=1,this},setPerspective:function(m,y,T,S,C){return T===void 0&&(T=45),S===void 0&&(S=.01),C===void 0&&(C=1e3),this.fov=T,this.projectionMatrix.perspective(a(T),m/y,S,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(m,y,T,S){return m===void 0&&(m=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),T===void 0&&(T=-1e3),S===void 0&&(S=1e3),this.fov=0,this.projectionMatrix.ortho(-m,m,-y,y,T,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(m){m.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(m,y,T,S,C,P,b,w,M){var D=this.scene.sys.cache.obj.get(m),O;return D&&(O=e(D,this,y,T,S,C,P,b,w,M)),(!O||O.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",m),this},sortByDepth:function(m,y){return m.depth-y.depth},depthSort:function(){return f(this.faces,this.sortByDepth),this},addVertex:function(m,y,T,S,C,P,b){var w=new c(m,y,T,S,C,P,b);return this.vertices.push(w),w},addFace:function(m,y,T){var S=new r(m,y,T);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(m,y,T,S,C,P,b){var w=s(m,y,T,S,C,P,b);return w?(this.faces=this.faces.concat(w.faces),this.vertices=this.vertices.concat(w.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(m){return this.faces[m]},hasFaceAt:function(m,y,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=o(this,T).calc,C=this.faces,P=0;P<C.length;P++){var b=C[P];if(b.contains(m,y,S))return!0}return!1},getFaceAt:function(m,y,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=o(this,T).calc,C=this.faces,P=[],b=0;b<C.length;b++){var w=C[b];w.contains(m,y,S)&&P.push(w)}return f(P,this.sortByDepth)},setDebug:function(m,y){return this.debugGraphic=m,!m&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var m=this.modelPosition,y=this.modelRotation,T=this.modelScale,S=this.dirtyCache,C=m.x,P=m.y,b=m.z,w=y.x,M=y.y,D=y.z,O=T.x,U=T.y,W=T.z,Y=this.getFaceCount(),X=S[0],N=S[1],V=S[2],I=S[3],B=S[4],G=S[5],H=S[6],k=S[7],Z=S[8],J=S[9];return S[0]=C,S[1]=P,S[2]=b,S[3]=w,S[4]=M,S[5]=D,S[6]=O,S[7]=U,S[8]=W,S[9]=Y,X!==C||N!==P||V!==b||I!==w||B!==M||G!==D||H!==O||k!==U||Z!==W||J!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var m=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!m[10]&&!this.isDirty())){var y=this.width,T=this.height,S=this.viewMatrix,C=this.viewPosition;m[10]&&(S.identity(),S.translate(C),S.invert(),m[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var b=C.z,w=this.faces,M=0;M<w.length;M++)w[M].transformCoordinatesLocal(P,y,T,b);this.depthSort()}},renderDebug:function(m,y){for(var T=m.debugGraphic,S=0;S<y.length;S++){var C=y[S],P=C.vertex1.tx,b=C.vertex1.ty,w=C.vertex2.tx,M=C.vertex2.ty,D=C.vertex3.tx,O=C.vertex3.ty;T.strokeTriangle(P,b,w,M,D,O)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(m){m===void 0&&(m={});var y=(function(T,S,C){for(var P=this.faces,b=0;b<P.length;b++){var w=P[b];if(w.contains(S,C))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,m,y),this},setTint:function(m){m===void 0&&(m=16777215);for(var y=this.vertices,T=0;T<y.length;T++)y[T].color=m;return this},uvScroll:function(m,y){for(var T=this.faces,S=0;S<T.length;S++)T[S].scrollUV(m,y);return this},uvScale:function(m,y){for(var T=this.faces,S=0;S<T.length;S++)T[S].scaleUV(m,y);return this},tint:{set:function(m){this.setTint(m)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(m){this.modelRotation.x=a(m)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(m){this.modelRotation.y=a(m)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(m){this.modelRotation.z=a(m)}}});p.exports=g},36488:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};p.exports=x},20527:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(35154),n=t(4703);v.register("mesh",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),l=r(e,"vertices",[]),u=r(e,"uvs",[]),f=r(e,"indicies",[]),d=r(e,"containsZ",!1),c=r(e,"normals",[]),g=r(e,"colors",16777215),m=r(e,"alphas",1),y=new n(this.scene,0,0,o,i,l,u,f,d,c,g,m);return s!==void 0&&(e.add=s),h(this.scene,y,e),y})},9225:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4703),v=t(39429);v.register("mesh",function(a,r,n,e,s,o,i,l,u,f,d){return this.displayList.add(new h(this.scene,a,r,n,e,s,o,i,l,u,f,d))})},29807:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(48833),a=t(36488),p.exports={renderWebGL:v,renderCanvas:a}},48833:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=function(a,r,n,e){var s=r.faces,o=s.length;if(o!==0){n.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),l=h(r,n,e).calc;a.pipelines.preBatch(r);for(var u=i.setGameObject(r),f=i.vertexViewF32,d=i.vertexViewU32,c=i.vertexCount*i.currentShader.vertexComponentCount-1,g=r.tintFill,m=[],y=r.debugCallback,T=l.a,S=l.b,C=l.c,P=l.d,b=l.e,w=l.f,M=r.viewPosition.z,D=r.hideCCW,O=n.roundPixels,U=n.alpha*r.alpha,W=0,Y=0;Y<o;Y++){var X=s[Y];X.isInView(n,D,M,U,T,S,C,P,b,w,O)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(r),c=i.vertexCount*i.currentShader.vertexComponentCount-1),c=X.load(f,d,c,u,g),W++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,y&&m.push(X))}r.totalFrame+=W,y&&y.call(r,r,m),a.pipelines.postBatch(r)}};p.exports=v},28103:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(95643),r=t(78023),n=t(39318),e=new h({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,r],initialize:function(o,i,l,u,f,d,c,g,m,y,T){a.call(this,o,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var S=o.textures.getFrame(u,f);this.is3Slice=!y&&!T,S&&S.scale9&&(this.is3Slice=S.is3Slice);for(var C=this.is3Slice?18:54,P=0;P<C;P++)this.vertices.push(new n);this.setPosition(i,l),this.setTexture(u,f),this.setSlices(d,c,g,m,y,T,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,o,i,l,u,f,d){i===void 0&&(i=10),l===void 0&&(l=10),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=!1);var c=this.frame,g=!1;if(this.is3Slice&&d&&u!==0&&f!==0&&(g=!0),g)console.warn("Cannot change 9 slice to 3 slice");else{if(c&&c.scale9&&!d){var m=c.data.scale9Borders,y=m.x,T=m.y;i=y,l=c.width-m.w-y,u=T,f=c.height-m.h-T,s===void 0&&(s=c.width),o===void 0&&(o=c.height)}else s===void 0&&(s=256),o===void 0&&(o=256);this._width=s,this._height=o,this.leftWidth=i,this.rightWidth=l,this.topHeight=u,this.bottomHeight=f,this.is3Slice&&(o=c.height,this._height=o,this.topHeight=o,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.frame.width,f=this.frame.height;this.updateQuadUVs(0,0,0,s/u,i/f),this.updateQuadUVs(6,s/u,0,1-o/u,i/f),this.updateQuadUVs(12,1-o/u,0,1,i/f),this.is3Slice||(this.updateQuadUVs(18,0,i/f,s/u,1-l/f),this.updateQuadUVs(24,s/u,i/f,1-o/u,1-l/f),this.updateQuadUVs(30,1-o/u,i/f,1,1-l/f),this.updateQuadUVs(36,0,1-l/f,s/u,1),this.updateQuadUVs(42,s/u,1-l/f,1-o/u,1),this.updateQuadUVs(48,1-o/u,1-l/f,1,1))},updateVertices:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.width,f=this.height;this.updateQuad(0,-.5,.5,-.5+s/u,.5-i/f),this.updateQuad(6,-.5+s/u,.5,.5-o/u,.5-i/f),this.updateQuad(12,.5-o/u,.5,.5,.5-i/f),this.is3Slice||(this.updateQuad(18,-.5,.5-i/f,-.5+s/u,-.5+l/f),this.updateQuad(24,-.5+s/u,.5-i/f,.5-o/u,-.5+l/f),this.updateQuad(30,.5-o/u,.5-i/f,.5,-.5+l/f),this.updateQuad(36,-.5,-.5+l/f,-.5+s/u,-.5),this.updateQuad(42,-.5+s/u,-.5+l/f,.5-o/u,-.5),this.updateQuad(48,.5-o/u,-.5+l/f,.5,-.5))},updateQuad:function(s,o,i,l,u){var f=this.width,d=this.height,c=this.originX,g=this.originY,m=this.vertices;m[s+0].resize(o,i,f,d,c,g),m[s+1].resize(o,u,f,d,c,g),m[s+2].resize(l,i,f,d,c,g),m[s+3].resize(o,u,f,d,c,g),m[s+4].resize(l,u,f,d,c,g),m[s+5].resize(l,i,f,d,c,g)},updateQuadUVs:function(s,o,i,l,u){var f=this.vertices,d=this.frame,c=d.u0,g=d.v0,m=d.u1,y=d.v1;if(c!==0||m!==1){var T=m-c;o=c+o*T,l=c+l*T}if(g!==0||y!==1){var S=y-g;i=g+i*S,u=g+u*S}f[s+0].setUVs(o,i),f[s+1].setUVs(o,u),f[s+2].setUVs(l,i),f[s+3].setUVs(o,u),f[s+4].setUVs(l,u),f[s+5].setUVs(l,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,o){this.width=s,this.height=o,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this._originX=s,this._originY=o,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},28279:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(35154),n=t(28103);v.register("nineslice",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),l=r(e,"width",256),u=r(e,"height",256),f=r(e,"leftWidth",10),d=r(e,"rightWidth",10),c=r(e,"topHeight",0),g=r(e,"bottomHeight",0),m=new n(this.scene,0,0,o,i,l,u,f,d,c,g);return s!==void 0&&(e.add=s),h(this.scene,m,e),m})},47521:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28103),v=t(39429);v.register("nineslice",function(a,r,n,e,s,o,i,l,u,f){return this.displayList.add(new h(this.scene,a,r,n,e,s,o,i,l,u,f))})},78023:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(52230),p.exports={renderWebGL:v,renderCanvas:a}},52230:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(70554),a=function(r,n,e,s){var o=n.vertices,i=o.length;if(i!==0){e.addToRenderList(n);var l=r.pipelines.set(n.pipeline,n),u=h(n,e,s,!1).calc;r.pipelines.preBatch(n);var f=l.setGameObject(n),d=l.vertexViewF32,c=l.vertexViewU32,g=l.vertexCount*l.currentShader.vertexComponentCount-1,m=e.roundPixels,y=n.tintFill,T=e.alpha*n.alpha,S=v.getTintAppendFloatAlpha(n.tint,T),C=l.vertexAvailable(),P=-1;C<i&&(P=C);for(var b=0;b<i;b++){var w=o[b];b===P&&(l.flush(),f=l.setGameObject(n),g=0),d[++g]=u.getXRound(w.vx,w.vy,m),d[++g]=u.getYRound(w.vx,w.vy,m),d[++g]=w.u,d[++g]=w.v,d[++g]=f,d[++g]=y,c[++g]=S,l.vertexCount++,l.currentBatch.count=l.vertexCount-l.currentBatch.start}r.pipelines.postBatch(n)}};p.exports=a},76472:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(44777),a=t(37589),r=t(6113),n=t(91389),e=t(90664),s=new h({Extends:v,initialize:function(i){v.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var o=this.propertyValue,i=o,l=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=o[0],this.ease=r("Linear"),this.interpolation=n("linear"),l=this.easedValueEmit,u=this.easeValueUpdate,i=o[0],this.active=!0;for(var f=0;f<o.length;f++){var d=e(o[f]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=l,this.onUpdate=u,this.current=i,this},setEase:function(o){this.easeName=o,this.ease=r(o)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(o,i,l){var u=this.ease(l),f=this.interpolation(this.r,u),d=this.interpolation(this.g,u),c=this.interpolation(this.b,u),g=a(f,d,c);return this.current=g,g}});p.exports=s},44777:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),v=t(45319),a=t(83419),r=t(99472),n=t(6113),e=t(95540),s=t(91389),o=t(77720),i=t(15994),l=new a({initialize:function(f,d,c){c===void 0&&(c=!1),this.propertyKey=f,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,f){u===void 0&&(u={}),f&&(this.propertyKey=f),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var f;switch(this.method){case 1:case 3:case 8:f=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(f=u);break;case 4:var d=(this.end-this.start)/this.steps;f=o(u,d),this.counter=f;break;case 5:case 6:case 7:f=v(u,this.start,this.end);break;case 9:f=this.start[0];break}return this.current=f,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var f=typeof u;if(f==="number")return 1;if(Array.isArray(u))return 2;if(f==="function")return 3;if(f==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,f=u,d=this.defaultEmit,c=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,f=u[0];break;case 3:this._onEmit=u,d=this.proxyEmit,f=this.defaultValue;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,d=this.steppedEmit,f=this.start;break;case 5:this.start=u.start,this.end=u.end;var g=this.has(u,"ease")?u.ease:"Linear";this.ease=n(g,u.easeParams),d=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,c=this.easeValueUpdate,f=this.start;break;case 6:this.start=u.min,this.end=u.max,d=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,f=this.start;break;case 7:var m=u.random;Array.isArray(m)&&(this.start=m[0],this.end=m[1]),d=this.randomRangedIntEmit,f=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,d=this.proxyEmit,c=this.proxyUpdate,f=this.defaultValue;break;case 9:this.start=u.values;var y=this.has(u,"ease")?u.ease:"Linear";this.ease=n(y,u.easeParams),this.interpolation=s(u.interpolation),d=this.easedValueEmit,c=this.easeValueUpdate,f=this.start[0];break}return this.onEmit=d,this.onUpdate=c,this.current=f,this},has:function(u,f){return u.hasOwnProperty(f)},hasBoth:function(u,f,d){return u.hasOwnProperty(f)&&u.hasOwnProperty(d)},hasEither:function(u,f,d){return u.hasOwnProperty(f)||u.hasOwnProperty(d)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(u,f,d,c){return c},proxyEmit:function(u,f,d){var c=this._onEmit(u,f,d);return this.current=c,c},proxyUpdate:function(u,f,d,c){var g=this._onUpdate(u,f,d,c);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,f){var d=r(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=d,u.data[f].max=this.end),this.current=d,d},randomRangedIntEmit:function(u,f){var d=h(this.start,this.end);return u&&u.data[f]&&(u.data[f].min=d,u.data[f].max=this.end),this.current=d,d},steppedEmit:function(){var u=this.counter,f=u,d=(this.end-this.start)/this.steps;if(this.yoyo){var c;this.direction===0?(f+=d,f>=this.end&&(c=f-this.end,f=this.end-c,this.direction=1)):(f-=d,f<=this.start&&(c=this.start-f,f=this.start+c,this.direction=0)),this.counter=f}else this.counter=i(f+d,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,f){if(u&&u.data[f]){var d=u.data[f];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,f,d){var c=u.data[f],g,m=this.ease(d);return this.interpolation?g=this.interpolation(this.start,m):g=(c.max-c.min)*m+c.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=l},24502:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(20286),r=new h({Extends:a,initialize:function(e,s,o,i,l){if(typeof e=="object"){var u=e;e=v(u,"x",0),s=v(u,"y",0),o=v(u,"power",0),i=v(u,"epsilon",100),l=v(u,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=100),l===void 0&&(l=50);a.call(this,e,s,!0),this._gravity=l,this._power=o*l,this._epsilon=i*i},update:function(n,e){var s=this.x-n.x,o=this.y-n.y,i=s*s+o*o;if(i!==0){var l=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*l)*100;n.velocityX+=s*u,n.velocityY+=o*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});p.exports=r},56480:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),v=t(45319),a=t(83419),r=t(39506),n=t(87841),e=t(11520),s=t(26099),o=new a({initialize:function(l){this.emitter=l,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=l.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new n},emit:function(i,l,u,f,d,c){return this.emitter.emit(i,l,u,f,d,c)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,l){i===void 0&&(i=0),l===void 0&&(l=0),this.x=i,this.y=l},fire:function(i,l){var u=this.emitter,f=u.ops,d=u.getAnim();if(d?this.anims.play(d):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=f.x.onEmit(this,"x"):f.x.steps>0?this.x+=i+f.x.onEmit(this,"x"):this.x+=i,l===void 0?this.y+=f.y.onEmit(this,"y"):f.y.steps>0?this.y+=l+f.y.onEmit(this,"y"):this.y+=l,this.life=f.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=f.delay.onEmit(this,"delay"),this.holdCurrent=f.hold.onEmit(this,"hold"),this.scaleX=f.scaleX.onEmit(this,"scaleX"),this.scaleY=f.scaleY.active?f.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=f.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var c=f.speedX.onEmit(this,"speedX"),g=f.speedY.active?f.speedY.onEmit(this,"speedY"):c;if(u.radial){var m=r(f.angle.onEmit(this,"angle"));this.velocityX=Math.cos(m)*Math.abs(c),this.velocityY=Math.sin(m)*Math.abs(g)}else if(u.moveTo){var y=f.moveToX.onEmit(this,"moveToX"),T=f.moveToY.onEmit(this,"moveToY"),S=this.life/1e3;this.velocityX=(y-this.x)/S,this.velocityY=(T-this.y)/S}else this.velocityX=c,this.velocityY=g;return u.acceleration&&(this.accelerationX=f.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=f.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=f.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=f.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=f.bounce.onEmit(this,"bounce"),this.alpha=f.alpha.onEmit(this,"alpha"),f.color.active?this.tint=f.color.onEmit(this,"tint"):this.tint=f.tint.onEmit(this,"tint"),!0},update:function(i,l,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var f=this.emitter,d=f.ops,c=1-this.lifeCurrent/this.life;if(this.lifeT=c,this.x=d.x.onUpdate(this,"x",c,this.x),this.y=d.y.onUpdate(this,"y",c,this.y),f.moveTo){var g=d.moveToX.onUpdate(this,"moveToX",c,f.moveToX),m=d.moveToY.onUpdate(this,"moveToY",c,f.moveToY),y=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/y,this.velocityY=(m-this.y)/y}return this.computeVelocity(f,i,l,u,c),this.scaleX=d.scaleX.onUpdate(this,"scaleX",c,this.scaleX),d.scaleY.active?this.scaleY=d.scaleY.onUpdate(this,"scaleY",c,this.scaleY):this.scaleY=this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",c,this.angle),this.rotation=r(this.angle),f.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(d.alpha.onUpdate(this,"alpha",c,this.alpha),0,1),d.color.active?this.tint=d.color.onUpdate(this,"color",c,this.tint):this.tint=d.tint.onUpdate(this,"tint",c,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,l,u,f,d){var c=i.ops,g=this.velocityX,m=this.velocityY,y=c.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),T=c.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),S=c.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),C=c.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=c.bounce.onUpdate(this,"bounce",d,this.bounce),g+=i.gravityX*u+y*u,m+=i.gravityY*u+T*u,g=v(g,-S,S),m=v(m,-C,C),this.velocityX=g,this.velocityY=m,this.x+=g*u,this.y+=m*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var P=0;P<f.length;P++){var b=f[P];b.active&&b.update(this,l,u,d)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var l=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,f=this.x,d=this.y,c=this.rotation,g=this.frame.width*l/2,m=this.frame.height*u/2,y=this.bounds,T=new s(f-g,d-m),S=new s(f+g,d-m),C=new s(f-g,d+m),P=new s(f+g,d+m);return c!==0&&(e(T,f,d,c),e(S,f,d,c),e(C,f,d,c),e(P,f,d,c)),i.transformPoint(T.x,T.y,T),i.transformPoint(S.x,S.y,S),i.transformPoint(C.x,C.y,C),i.transformPoint(P.x,P.y,P),y.x=Math.min(T.x,S.x,C.x,P.x),y.y=Math.min(T.y,S.y,C.y,P.y),y.width=Math.max(T.x,S.x,C.x,P.x)-y.x,y.height=Math.max(T.y,S.y,C.y,P.y)-y.y,y},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=o},69601:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(20286),a=t(87841),r=new h({Extends:v,initialize:function(e,s,o,i,l,u,f,d){l===void 0&&(l=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),v.call(this,e,s,!0),this.bounds=new a(e,s,o,i),this.collideLeft=l,this.collideRight=u,this.collideTop=f,this.collideBottom=d},update:function(n){var e=this.bounds,s=-n.bounce,o=n.worldPosition;o.x<e.x&&this.collideLeft?(n.x+=e.x-o.x,n.velocityX*=s):o.x>e.right&&this.collideRight&&(n.x-=o.x-e.right,n.velocityX*=s),o.y<e.y&&this.collideTop?(n.y+=e.y-o.y,n.velocityY*=s):o.y>e.bottom&&this.collideBottom&&(n.y-=o.y-e.bottom,n.velocityY*=s)}});p.exports=r},31600:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(53774),r=t(43459),n=t(26388),e=t(19909),s=t(76472),o=t(44777),i=t(20696),l=t(95643),u=t(95540),f=t(26546),d=t(24502),c=t(1985),g=t(97022),m=t(86091),y=t(73162),T=t(20074),S=t(269),C=t(56480),P=t(69601),b=t(68875),w=t(87841),M=t(59996),D=t(72905),O=t(90668),U=t(19186),W=t(61340),Y=t(26099),X=t(15994),N=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],I=new h({Extends:l,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,O],initialize:function(G,H,k,Z,J){l.call(this,G,"ParticleEmitter"),this.particleClass=C,this.config=null,this.ops={accelerationX:new o("accelerationX",0),accelerationY:new o("accelerationY",0),alpha:new o("alpha",1),angle:new o("angle",{min:0,max:360},!0),bounce:new o("bounce",0),color:new s("color"),delay:new o("delay",0,!0),hold:new o("hold",0,!0),lifespan:new o("lifespan",1e3,!0),maxVelocityX:new o("maxVelocityX",1e4),maxVelocityY:new o("maxVelocityY",1e4),moveToX:new o("moveToX",0),moveToY:new o("moveToY",0),quantity:new o("quantity",1,!0),rotate:new o("rotate",0),scaleX:new o("scaleX",1),scaleY:new o("scaleY",1),speedX:new o("speedX",0,!0),speedY:new o("speedY",0,!0),tint:new o("tint",16777215),x:new o("x",0),y:new o("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Y,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new y(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(H,k),this.setTexture(Z),J&&this.setConfig(J)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(B){if(!B)return this;this.config=B;var G=0,H="",k=this.ops;for(G=0;G<V.length;G++)H=V[G],k[H].loadConfig(B);for(G=0;G<N.length;G++)H=N[G],g(B,H)&&(this[H]=u(B,H));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,g(B,"speed")&&(k.speedX.loadConfig(B,"speed"),k.speedY.active=!1),(c(B,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),g(B,"scale")&&(k.scaleX.loadConfig(B,"scale"),k.scaleY.active=!1),g(B,"callbackScope")){var Z=u(B,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(g(B,"emitZone")&&this.addEmitZone(B.emitZone),g(B,"deathZone")&&this.addDeathZone(B.deathZone),g(B,"bounds")){var J=this.addParticleBounds(B.bounds);J.collideLeft=u(B,"collideLeft",!0),J.collideRight=u(B,"collideRight",!0),J.collideTop=u(B,"collideTop",!0),J.collideBottom=u(B,"collideBottom",!0)}return g(B,"followOffset")&&this.followOffset.setFromObject(u(B,"followOffset",0)),g(B,"texture")&&this.setTexture(B.texture),g(B,"frame")?this.setEmitterFrame(B.frame):g(B,"anim")&&this.setAnim(B.anim),g(B,"reserve")&&this.reserve(B.reserve),g(B,"advance")&&this.fastForward(B.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(B){return B&&(this.config?this.setConfig(S(this.config,B)):this.setConfig(B)),this},toJSON:function(){var B=a(this),G=0,H="";for(G=0;G<N.length;G++)H=N[G],B[H]=this[H];var k=this.ops;for(G=0;G<V.length;G++)H=V[G],k[H]&&(B[H]=k[H].toJSON());return k.speedY.active||(delete B.speedX,B.speed=k.speedX.toJSON()),this.scaleX===this.scaleY&&(delete B.scaleX,delete B.scaleY,B.scale=k.scaleX.toJSON()),B},resetCounters:function(B,G){var H=this.counters;H.fill(0),H[0]=B,G&&(H[5]=1)},startFollow:function(B,G,H,k){return G===void 0&&(G=0),H===void 0&&(H=0),k===void 0&&(k=!1),this.follow=B,this.followOffset.set(G,H),this.trackVisible=k,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var B=this.frames,G=B.length,H;return G===1?H=B[0]:this.randomFrame?H=f(B):(H=B[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(H)},setEmitterFrame:function(B,G,H){G===void 0&&(G=!0),H===void 0&&(H=1),this.randomFrame=G,this.frameQuantity=H,this.currentFrame=0;var k=typeof B;if(this.frames.length=0,Array.isArray(B))this.frames=this.frames.concat(B);else if(k==="string"||k==="number")this.frames.push(B);else if(k==="object"){var Z=B;B=u(Z,"frames",null),B&&(this.frames=this.frames.concat(B));var J=u(Z,"cycle",!1);this.randomFrame=!J,this.frameQuantity=u(Z,"quantity",H)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var B=this.anims,G=B.length;if(G===0)return null;if(G===1)return B[0];if(this.randomAnim)return f(B);var H=B[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=X(this.currentAnim+1,0,G)),H},setAnim:function(B,G,H){G===void 0&&(G=!0),H===void 0&&(H=1),this.randomAnim=G,this.animQuantity=H,this.currentAnim=0;var k=typeof B;if(this.anims.length=0,Array.isArray(B))this.anims=this.anims.concat(B);else if(k==="string")this.anims.push(B);else if(k==="object"){var Z=B;B=u(Z,"anims",null),B&&(this.anims=this.anims.concat(B));var J=u(Z,"cycle",!1);this.randomAnim=!J,this.animQuantity=u(Z,"quantity",H)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(B){return B===void 0&&(B=!0),this.radial=B,this},addParticleBounds:function(B,G,H,k,Z,J,j,_){if(typeof B=="object"){var tt=B;B=tt.x,G=tt.y,H=g(tt,"w")?tt.w:tt.width,k=g(tt,"h")?tt.h:tt.height}return this.addParticleProcessor(new P(B,G,H,k,Z,J,j,_))},setParticleSpeed:function(B,G){return G===void 0&&(G=B),this.ops.speedX.onChange(B),B===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(B,G){return B===void 0&&(B=1),G===void 0&&(G=B),this.ops.scaleX.onChange(B),this.ops.scaleY.onChange(G),this},setParticleGravity:function(B,G){return this.gravityX=B,this.gravityY=G,this},setParticleAlpha:function(B){return this.ops.alpha.onChange(B),this},setParticleTint:function(B){return this.ops.tint.onChange(B),this},setEmitterAngle:function(B){return this.ops.angle.onChange(B),this},setParticleLifespan:function(B){return this.ops.lifespan.onChange(B),this},setQuantity:function(B){return this.quantity=B,this},setFrequency:function(B,G){return this.frequency=B,this.flowCounter=B>0?B:0,G&&(this.quantity=G),this},addDeathZone:function(B){Array.isArray(B)||(B=[B]);for(var G,H=[],k=0;k<B.length;k++)if(G=B[k],G instanceof n)H.push(G);else if(typeof G.contains=="function")G=new n(G,!0),H.push(G);else{var Z=u(G,"type","onEnter"),J=u(G,"source",null);if(J&&typeof J.contains=="function"){var j=Z==="onEnter";G=new n(J,j),H.push(G)}}return this.deathZones=this.deathZones.concat(H),H},removeDeathZone:function(B){return D(this.deathZones,B),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(B){Array.isArray(B)||(B=[B]);for(var G,H=[],k=0;k<B.length;k++)if(G=B[k],G instanceof b||G instanceof e)H.push(G);else{var Z=u(G,"source",null);if(Z){var J=u(G,"type","random");if(J==="random"&&typeof Z.getRandomPoint=="function")G=new b(Z),H.push(G);else if(J==="edge"&&typeof Z.getPoints=="function"){var j=u(G,"quantity",1),_=u(G,"stepRate",0),tt=u(G,"yoyo",!1),et=u(G,"seamless",!0),rt=u(G,"total",-1);G=new e(Z,j,_,tt,et,rt),H.push(G)}}}return this.emitZones=this.emitZones.concat(H),H},removeEmitZone:function(B){return D(this.emitZones,B),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(B){var G=this.emitZones,H=G.length;if(H!==0){var k=G[this.zoneIndex];k.getPoint(B),k.total>-1&&(this.zoneTotal++,this.zoneTotal===k.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===H&&(this.zoneIndex=0)))}},getDeathZone:function(B){for(var G=this.deathZones,H=0;H<G.length;H++){var k=G[H];if(k.willKill(B))return this.emit(i.DEATH_ZONE,this,B,k),!0}return!1},setEmitZone:function(B){var G;return isFinite(B)?G=B:G=this.emitZones.indexOf(B),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(B){return this.processors.exists(B)||(B.emitter&&B.emitter.removeParticleProcessor(B),this.processors.add(B),B.emitter=this),B},removeParticleProcessor:function(B){return this.processors.exists(B)&&(this.processors.remove(B,!0),B.emitter=null),B},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(B){return this.addParticleProcessor(new d(B))},reserve:function(B){var G=this.dead;if(this.maxParticles>0){var H=this.getParticleCount();H+B>this.maxParticles&&(B=this.maxParticles-(H+B))}for(var k=0;k<B;k++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(B,G){return B===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof B=="function"&&(this.emitCallback=B,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(B,G){return B===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof B=="function"&&(this.deathCallback=B,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var B=this.dead,G=this.alive;G.length>0;)B.push(G.pop());return this},forEachAlive:function(B,G){for(var H=this.alive,k=H.length,Z=0;Z<k;Z++)B.call(G,H[Z],this);return this},forEachDead:function(B,G){for(var H=this.dead,k=H.length,Z=0;Z<k;Z++)B.call(G,H[Z],this);return this},start:function(B,G){return B===void 0&&(B=0),this.emitting||(B>0&&this.fastForward(B),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(i.START,this)),this},stop:function(B){return B===void 0&&(B=!1),this.emitting&&(this.emitting=!1,B&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(B,G){return B===void 0&&(B=""),G===void 0&&(G=this.true),this.sortProperty=B,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(B){return this.sortProperty!==""?B=this.depthSortCallback:B=null,this.sortCallback=B,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(B,G){var H=this.sortProperty;return this.sortOrderAsc?B[H]-G[H]:G[H]-B[H]},flow:function(B,G,H){return G===void 0&&(G=1),this.emitting=!1,this.frequency=B,this.quantity=G,H!==void 0&&(this.stopAfter=H),this.start()},explode:function(B,G,H){this.frequency=-1,this.resetCounters(-1,!0);var k=this.emitParticle(B,G,H);return this.emit(i.EXPLODE,this,k),k},emitParticleAt:function(B,G,H){return this.emitParticle(H,B,G)},emitParticle:function(B,G,H){if(!this.atLimit()){B===void 0&&(B=this.ops.quantity.onEmit());for(var k=this.dead,Z=this.stopAfter,J=this.follow?this.follow.x+this.followOffset.x:G,j=this.follow?this.follow.y+this.followOffset.y:H,_=0;_<B;_++){var tt=k.pop();if(tt||(tt=new this.particleClass(this)),tt.fire(J,j)?(this.particleBringToTop?this.alive.push(tt):this.alive.unshift(tt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,tt,this)):this.dead.push(tt),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return tt}},fastForward:function(B,G){G===void 0&&(G=1e3/60);var H=0;for(this.skipping=!0;H<Math.abs(B);)this.preUpdate(0,G),H+=G;return this.skipping=!1,this},preUpdate:function(B,G){G*=this.timeScale;var H=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var k=this.getProcessors(),Z=this.alive,J=this.dead,j=0,_=[],tt=Z.length;for(j=0;j<tt;j++){var et=Z[j];et.update(G,H,k)&&_.push({index:j,particle:et})}if(tt=_.length,tt>0){var rt=this.deathCallback,at=this.deathCallbackScope;for(j=tt-1;j>=0;j--){var st=_[j];Z.splice(st.index,1),J.push(st.particle),rt&&rt.call(at,st.particle),st.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(B){for(var G=this.getWorldTransformMatrix(),H=this.alive,k=H.length,Z=[],J=0;J<k;J++){var j=H[J];M(B,j.getBounds(G))&&Z.push(j)}return Z},getBounds:function(B,G,H,k){B===void 0&&(B=0),G===void 0&&(G=0),H===void 0&&(H=1e3/60),k===void 0&&(k=new w);var Z=this.getWorldTransformMatrix(),J,j,_=this.alive,tt=!1;if(k.setTo(0,0,0,0),G>0){var et=0;for(this.skipping=!0;et<Math.abs(G);){for(this.preUpdate(0,H),J=0;J<_.length;J++)j=_[J].getBounds(Z),tt?T(k,j):(tt=!0,r(j,k));et+=H}this.skipping=!1}else for(J=0;J<_.length;J++)j=_[J].getBounds(Z),tt?T(k,j):(tt=!0,r(j,k));return B>0&&m(k,B,B),k},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(B){this.ops.x.onChange(B)}},particleY:{get:function(){return this.ops.y.current},set:function(B){this.ops.y.onChange(B)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(B){this.ops.accelerationX.onChange(B)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(B){this.ops.accelerationY.onChange(B)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(B){this.ops.maxVelocityX.onChange(B)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(B){this.ops.maxVelocityY.onChange(B)}},speed:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B),this.ops.speedY.onChange(B)}},speedX:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B)}},speedY:{get:function(){return this.ops.speedY.current},set:function(B){this.ops.speedY.onChange(B)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(B){this.ops.moveToX.onChange(B)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(B){this.ops.moveToY.onChange(B)}},bounce:{get:function(){return this.ops.bounce.current},set:function(B){this.ops.bounce.onChange(B)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(B){this.ops.scaleX.onChange(B)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(B){this.ops.scaleY.onChange(B)}},particleColor:{get:function(){return this.ops.color.current},set:function(B){this.ops.color.onChange(B)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(B){this.ops.color.setEase(B)}},particleTint:{get:function(){return this.ops.tint.current},set:function(B){this.ops.tint.onChange(B)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(B){this.ops.alpha.onChange(B)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(B){this.ops.lifespan.onChange(B)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(B){this.ops.angle.onChange(B)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(B){this.ops.rotate.onChange(B)}},quantity:{get:function(){return this.ops.quantity.current},set:function(B){this.ops.quantity.onChange(B)}},delay:{get:function(){return this.ops.delay.current},set:function(B){this.ops.delay.onChange(B)}},hold:{get:function(){return this.ops.hold.current},set:function(B){this.ops.hold.onChange(B)}},flowCounter:{get:function(){return this.counters[0]},set:function(B){this.counters[0]=B}},frameCounter:{get:function(){return this.counters[1]},set:function(B){this.counters[1]=B}},animCounter:{get:function(){return this.counters[2]},set:function(B){this.counters[2]=B}},elapsed:{get:function(){return this.counters[3]},set:function(B){this.counters[3]=B}},stopCounter:{get:function(){return this.counters[4]},set:function(B){this.counters[4]=B}},completeFlag:{get:function(){return this.counters[5]},set:function(B){this.counters[5]=B}},zoneIndex:{get:function(){return this.counters[6]},set:function(B){this.counters[6]=B}},zoneTotal:{get:function(){return this.counters[7]},set:function(B){this.counters[7]=B}},currentFrame:{get:function(){return this.counters[8]},set:function(B){this.counters[8]=B}},currentAnim:{get:function(){return this.counters[9]},set:function(B){this.counters[9]=B}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var B,G=this.ops;for(B=0;B<V.length;B++){var H=V[B];G[H].destroy()}for(B=0;B<this.alive.length;B++)this.alive[B].destroy();for(B=0;B<this.dead.length;B++)this.dead[B].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=I},9871:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),v=t(61340),a=new v,r=new v,n=new v,e=new v,s=function(o,i,l,u){var f=a,d=r,c=n,g=e;u?(g.loadIdentity(),g.multiply(u),g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.scaleX,i.scaleY)):g.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var m=o.currentContext,y=l.roundPixels,T=l.alpha,S=i.alpha,C=i.alive,P=C.length,b=i.viewBounds;if(!(!i.visible||P===0||b&&!h(b,l.worldView))){i.sortCallback&&i.depthSort(),l.addToRenderList(i);var w=i.scrollFactorX,M=i.scrollFactorY;m.save(),m.globalCompositeOperation=o.blendModes[i.blendMode];for(var D=0;D<P;D++){var O=C[D],U=O.alpha*S*T;if(!(U<=0||O.scaleX===0||O.scaleY===0)){c.applyITRS(O.x,O.y,O.rotation,O.scaleX,O.scaleY),f.copyFrom(l.matrix),f.multiplyWithOffset(g,-l.scrollX*w,-l.scrollY*M),c.e=O.x,c.f=O.y,f.multiply(c,d);var W=O.frame,Y=W.canvasData;if(Y.width>0&&Y.height>0){var X=-W.halfWidth,N=-W.halfHeight;m.globalAlpha=U,m.save(),d.setToContext(m),y&&(X=Math.round(X),N=Math.round(N)),m.imageSmoothingEnabled=!W.source.scaleMode,m.drawImage(W.source.image,Y.x,Y.y,Y.width,Y.height,X,N,Y.width,Y.height),m.restore()}}}m.restore()}};p.exports=s},92730:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(95540),n=t(31600);v.register("particles",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=r(e,"config",null),l=new n(this.scene,0,0,o);return s!==void 0&&(e.add=s),h(this.scene,l,e),i&&l.setConfig(i),l})},676:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(31600);h.register("particles",function(a,r,n,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,a,r,n,e))})},90668:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(21188),a=t(9871),p.exports={renderWebGL:v,renderCanvas:a}},21188:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59996),v=t(61340),a=t(70554),r=new v,n=new v,e=new v,s=new v,o=function(i,l,u,f){var d=i.pipelines.set(l.pipeline),c=r,g=n,m=e,y=s;f?(y.loadIdentity(),y.multiply(f),y.translate(l.x,l.y),y.rotate(l.rotation),y.scale(l.scaleX,l.scaleY)):y.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var T=a.getTintAppendFloatAlpha,S=u.alpha,C=l.alpha;i.pipelines.preBatch(l);var P=l.alive,b=P.length,w=l.viewBounds;if(!(b===0||w&&!h(w,u.worldView))){l.sortCallback&&l.depthSort(),u.addToRenderList(l),c.copyFrom(u.matrix),c.multiplyWithOffset(y,-u.scrollX*l.scrollFactorX,-u.scrollY*l.scrollFactorY),i.setBlendMode(l.blendMode),l.mask&&(l.mask.preRenderWebGL(i,l,u),i.pipelines.set(l.pipeline));for(var M=l.tintFill,D,O,U=0;U<b;U++){var W=P[U],Y=W.alpha*C*S;if(!(Y<=0||W.scaleX===0||W.scaleY===0)){m.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),m.e=W.x,m.f=W.y,c.multiply(m,g);var X=W.frame;X.glTexture!==O&&(O=X.glTexture,D=d.setGameObject(l,X));var N=-X.halfWidth,V=-X.halfHeight,I=g.setQuad(N,V,N+X.width,V+X.height),B=T(W.tint,Y);d.shouldFlush(6)&&(d.flush(),D=d.setGameObject(l,X)),d.batchQuad(l,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],X.u0,X.v0,X.u1,X.v1,B,B,B,B,M,O,D)}}l.mask&&l.mask.postRenderWebGL(i,u),i.pipelines.postBatch(l)}};p.exports=o},20286:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e){r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=v},9774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},812:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},30522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},96695:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},18677:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},20696:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n){this.source=r,this.killOnEnter=n},willKill:function(a){var r=a.worldPosition,n=this.source.contains(r.x,r.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});p.exports=v},19909:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e,s,o,i){s===void 0&&(s=!1),o===void 0&&(o=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=o,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});p.exports=v},68875:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(26099),a=new h({initialize:function(n){this.source=n,this._tempVec=new v,this.total=-1},getPoint:function(r){var n=this._tempVec;this.source.getRandomPoint(n),r.x=n.x,r.y=n.y}});p.exports=a},21024:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(68287),r=new h({Extends:a,Mixins:[v.PathFollower],initialize:function(e,s,o,i,l,u){a.call(this,e,o,i,l,u),this.path=s},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});p.exports=r},90145:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(1159);h.register("follower",function(a,r,n,e,s){var o=new v(this.scene,a,r,n,e,s);return this.displayList.add(o),this.updateList.add(o),o})},33663:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),v=t(83419),a=t(48803),r=t(90664),n=t(4703),e=t(45650),s=new v({Extends:n,initialize:function(i,l,u,f,d,c,g,m){f||(f="__DEFAULT"),n.call(this,i,l,u,f,d),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(c,g,m),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(o,i,l){o===void 0&&(o=8),i===void 0&&(i=8),l===void 0&&(l=!1);var u=!1;return l&&(u=!0),this.gridWidth=o,this.gridHeight=i,this.isTiled=l,this.clear(),a({mesh:this,widthSegments:o,heightSegments:i,isOrtho:!1,tile:l,flipY:u}),this},setSizeToFrame:function(o){o===void 0&&(o=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!o)return this;var l=this.gridWidth,u=this.gridHeight,f=this.vertices,d=i.u0,c=i.u1,g=i.v0,m=i.v1,y,T,S=0;if(this.isTiled)for(g=i.v1,m=i.v0,T=0;T<u;T++)for(y=0;y<l;y++)f[S++].setUVs(d,m),f[S++].setUVs(d,g),f[S++].setUVs(c,m),f[S++].setUVs(d,g),f[S++].setUVs(c,g),f[S++].setUVs(c,m);else{var C=l+1,P=u+1,b=c-d,w=m-g,M=[];for(T=0;T<P;T++)for(y=0;y<C;y++){var D=d+b*(y/l),O=g+w*(T/u);M.push(D,O)}for(T=0;T<u;T++)for(y=0;y<l;y++){var U=(y+C*T)*2,W=(y+C*(T+1))*2,Y=(y+1+C*(T+1))*2,X=(y+1+C*T)*2;f[S++].setUVs(M[U],M[U+1]),f[S++].setUVs(M[W],M[W+1]),f[S++].setUVs(M[X],M[X+1]),f[S++].setUVs(M[W],M[W+1]),f[S++].setUVs(M[Y],M[Y+1]),f[S++].setUVs(M[X],M[X+1])}}return this},setViewHeight:function(o){o===void 0&&(o=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/o/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(o,i,l,u,f){o===void 0&&(o=16777215),i===void 0&&(i=255),l===void 0&&(l=255),u===void 0&&(u=255),f===void 0&&(f=128);for(var d=r(o),c=r(i),g=[],m=0;m<16;m++)for(var y=0;y<16;y++)m<8&&y<8||m>7&&y>7?g.push(d.r,d.g,d.b,l):g.push(c.r,c.g,c.b,u);var T=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(g),16,16);return this.removeCheckerboard(),this.setTexture(T),this.setSizeToFrame(),this.setViewHeight(f),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(o,i){return this.anims.play(o,i)},playReverse:function(o,i){return this.anims.playReverse(o,i)},playAfterDelay:function(o,i){return this.anims.playAfterDelay(o,i)},playAfterRepeat:function(o,i){return this.anims.playAfterRepeat(o,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},preUpdate:function(o,i){n.prototype.preUpdate.call(this,o,i),this.anims.update(o,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=s},56015:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(13059),a=t(44603),r=t(23568),n=t(35154),e=t(33663);a.register("plane",function(s,o){s===void 0&&(s={});var i=r(s,"key",null),l=r(s,"frame",null),u=n(s,"width",8),f=n(s,"height",8),d=n(s,"tile",!1),c=new e(this.scene,0,0,i,l,u,f,d);o!==void 0&&(s.add=o);var g=n(s,"checkerboard",null);if(g){var m=n(g,"color1",16777215),y=n(g,"color2",255),T=n(g,"alpha1",255),S=n(g,"alpha2",255),C=n(g,"height",128);c.createCheckerboard(m,y,T,S,C)}return h(this.scene,c,s),v(c,s),c})},30985:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33663),v=t(39429);v.register("plane",function(a,r,n,e,s,o,i){return this.displayList.add(new h(this.scene,a,r,n,e,s,o,i))})},80321:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(95643),r=t(30100),n=t(36060),e=t(67277),s=new h({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(i,l,u,f,d,c,g){f===void 0&&(f=16777215),d===void 0&&(d=128),c===void 0&&(c=1),g===void 0&&(g=.1),a.call(this,i,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(l,u),this.color=r(f),this.intensity=c,this.attenuation=g,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this.width=o*2,this.height=o*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=s},39829:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(80321);v.register("pointlight",function(n,e){n===void 0&&(n={});var s=a(n,"color",16777215),o=a(n,"radius",128),i=a(n,"intensity",1),l=a(n,"attenuation",.1),u=new r(this.scene,0,0,s,o,i,l);return e!==void 0&&(n.add=e),h(this.scene,u,n),u})},71255:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(80321);h.register("pointlight",function(a,r,n,e,s,o){return this.displayList.add(new v(this.scene,a,r,n,e,s,o))})},67277:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(57787),p.exports={renderWebGL:v,renderCanvas:a}},57787:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=function(a,r,n,e){n.addToRenderList(r);var s=a.pipelines.set(r.pipeline),o=h(r,n,e).calc,i=r.width,l=r.height,u=-r._radius,f=-r._radius,d=u+i,c=f+l,g=o.getX(0,0),m=o.getY(0,0),y=o.getX(u,f),T=o.getY(u,f),S=o.getX(u,c),C=o.getY(u,c),P=o.getX(d,c),b=o.getY(d,c),w=o.getX(d,f),M=o.getY(d,f);a.pipelines.preBatch(r),s.batchPointLight(r,n,y,T,S,C,P,b,w,M,g,m),a.pipelines.postBatch(r)};p.exports=v},591:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(81320),a=t(88571),r=new h({Extends:a,initialize:function(e,s,o,i,l,u){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=32),l===void 0&&(l=32),u===void 0&&(u=!0);var f=new v(e.sys.textures,"",i,l,u);a.call(this,e,s,o,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=n,s.hitArea.height=e),this},resize:function(n,e,s){return this.texture.setSize(n,e,s),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,s,o,i,l){return this.texture.fill(n,e,s,o,i,l),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,s,o,i){return this.texture.stamp(n,e,s,o,i),this},erase:function(n,e,s){return this.texture.erase(n,e,s),this},draw:function(n,e,s,o,i){return this.texture.draw(n,e,s,o,i),this},drawFrame:function(n,e,s,o,i,l){return this.texture.drawFrame(n,e,s,o,i,l),this},repeat:function(n,e,s,o,i,l,u,f,d){return this.texture.repeat(n,e,s,o,i,l,u,f,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,s,o,i){return this.texture.batchDraw(n,e,s,o,i),this},batchDrawFrame:function(n,e,s,o,i,l){return this.texture.batchDrawFrame(n,e,s,o,i,l),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,s,o,i,l,u){return this.texture.snapshotArea(n,e,s,o,i,l,u),this},snapshot:function(n,e,s){return this.snapshotArea(0,0,this.width,this.height,n,e,s)},snapshotPixel:function(n,e,s){return this.snapshotArea(n,e,1,1,s,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});p.exports=r},34495:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(591);v.register("renderTexture",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),o=a(n,"y",0),i=a(n,"width",32),l=a(n,"height",32),u=new r(this.scene,s,o,i,l);return e!==void 0&&(n.add=e),h(this.scene,u,n),u})},60505:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(591);h.register("renderTexture",function(a,r,n,e){return this.displayList.add(new v(this.scene,a,r,n,e))})},77757:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),v=t(83419),a=t(31401),r=t(95643),n=t(36060),e=t(38745),s=t(26099),o=new v({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(l,u,f,d,c,g,m,y,T){d===void 0&&(d="__DEFAULT"),g===void 0&&(g=2),m===void 0&&(m=!0),r.call(this,l,"Rope"),this.anims=new h(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=m,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,c),this.setPosition(u,f),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,y,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,l){var u=this.anims.currentFrame;this.anims.update(i,l),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,l,u){return this.anims.play(i,l,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,l,u))},setVertical:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,l,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,l){var u=this.points.length;if(u<1)return this;var f=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&l===void 0&&(i=[i]);var d,c=0;if(l!==void 0)for(d=0;d<u;d++)c=d*2,f[c]=i,f[c+1]=l;else if(i.length===u)for(d=0;d<u;d++)c=d*2,f[c]=i[d],f[c+1]=i[d];else{var g=i[0];for(d=0;d<u;d++)c=d*2,i.length>c&&(g=i[c]),f[c]=g,i.length>c+1&&(g=i[c+1]),f[c+1]=g}return this},setColors:function(i){var l=this.points.length;if(l<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var f,d=0;if(i.length===l)for(f=0;f<l;f++)d=f*2,u[d]=i[f],u[d+1]=i[f];else{var c=i[0];for(f=0;f<l;f++)d=f*2,i.length>d&&(c=i[d]),u[d]=c,i.length>d+1&&(c=i[d+1]),u[d+1]=c}return this},setPoints:function(i,l,u){if(i===void 0&&(i=2),typeof i=="number"){var f=i;f<2&&(f=2),i=[];var d,c,g;if(this.horizontal)for(g=-this.frame.halfWidth,c=this.frame.width/(f-1),d=0;d<f;d++)i.push({x:g+d*c,y:0});else for(g=-this.frame.halfHeight,c=this.frame.height/(f-1),d=0;d<f;d++)i.push({x:0,y:g+d*c})}var m=i.length,y=this.points.length;return m<1?(console.warn("Rope: Not enough points given"),this):(m===1&&(i.unshift({x:0,y:0}),m++),y!==m&&this.resizeArrays(m),this.dirty=!0,this.points=i,this.updateUVs(),l!=null&&this.setColors(l),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,l=this.points.length,u=this.frame.u0,f=this.frame.v0,d=this.frame.u1,c=this.frame.v1,g=(d-u)/(l-1),m=(c-f)/(l-1),y=0;y<l;y++){var T=y*4,S,C,P,b;this.horizontal?(this._flipX?(S=d-y*g,P=d-y*g):(S=u+y*g,P=u+y*g),this._flipY?(C=c,b=f):(C=f,b=c)):(this._flipX?(S=u,P=d):(S=d,P=u),this._flipY?(C=c-y*m,b=c-y*m):(C=f+y*m,b=f+y*m)),i[T+0]=S,i[T+1]=C,i[T+2]=P,i[T+3]=b}return this},resizeArrays:function(i){var l=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),l=new Uint32Array(i*2),u=new Float32Array(i*2);for(var f=0;f<i*2;f++)l[f]=16777215,u[f]=1;return this.colors=l,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,l=this.points,u=this.vertices,f=l.length;if(this.dirty=!1,!(f<1)){for(var d,c=l[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,m=0;m<f;m++){var y=l[m],T=m*4;m<f-1?d=l[m+1]:d=y,i.x=d.y-c.y,i.y=-(d.x-c.x);var S=i.length();i.x/=S,i.y/=S,i.x*=g,i.y*=g,u[T]=y.x+i.x,u[T+1]=y.y+i.y,u[T+2]=y.x-i.x,u[T+3]=y.y-i.y,c=y}return this}},setDebug:function(i,l){return this.debugGraphic=i,!i&&!l?this.debugCallback=null:l?this.debugCallback=l:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,l,u){var f=i.debugGraphic,d=u[0],c=u[1],g=u[2],m=u[3];f.lineBetween(d,c,g,m);for(var y=4;y<l;y+=4){var T=u[y+0],S=u[y+1],C=u[y+2],P=u[y+3];f.lineBetween(d,c,T,S),f.lineBetween(g,m,C,P),f.lineBetween(g,m,T,S),f.lineBetween(T,S,C,P),d=T,c=S,g=C,m=P}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});p.exports=o},95262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};p.exports=x},26209:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(35154),n=t(77757);v.register("rope",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),l=a(e,"horizontal",!0),u=r(e,"points",void 0),f=r(e,"colors",void 0),d=r(e,"alphas",void 0),c=new n(this.scene,0,0,o,i,u,l,f,d);return s!==void 0&&(e.add=s),h(this.scene,c,e),c})},96819:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77757),v=t(39429);v.register("rope",function(a,r,n,e,s,o,i,l){return this.displayList.add(new h(this.scene,a,r,n,e,s,o,i,l))})},38745:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(20439),a=t(95262),p.exports={renderWebGL:v,renderCanvas:a}},20439:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline,n),i=h(n,e,s).calc,l=n.vertices,u=n.uv,f=n.colors,d=n.alphas,c=n.alpha,g=v.getTintAppendFloatAlpha,m=e.roundPixels,y=l.length,T=Math.floor(y*.5);o.flush(),r.pipelines.preBatch(n);var S=o.setGameObject(n),C=o.vertexViewF32,P=o.vertexViewU32,b=o.vertexCount*o.currentShader.vertexComponentCount-1,w=0,M=n.tintFill;n.dirty&&n.updateVertices();for(var D=n.debugCallback,O=[],U=0;U<y;U+=2){var W=l[U+0],Y=l[U+1],X=W*i.a+Y*i.c+i.e,N=W*i.b+Y*i.d+i.f;m&&(X=Math.round(X),N=Math.round(N)),C[++b]=X,C[++b]=N,C[++b]=u[U+0],C[++b]=u[U+1],C[++b]=S,C[++b]=M,P[++b]=g(f[w],e.alpha*(d[w]*c)),w++,D&&(O[U+0]=X,O[U+1]=N)}D&&D.call(n,n,y,O),o.vertexCount+=T,o.currentBatch.count=o.vertexCount-o.currentBatch.start,r.pipelines.postBatch(n)};p.exports=a},20071:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(95643),r=t(95540),n=t(79291),e=t(61622),s=t(25479),o=t(61340),i=t(95428),l=t(92503),u=new h({Extends:a,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,s],initialize:function(d,c,g,m,y,T,S,C){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=128),T===void 0&&(T=128),a.call(this,d,"Shader"),this.blendMode=-1,this.shader;var P=d.sys.renderer;this.renderer=P,this.gl=P.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=P.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=P.width,this._rendererHeight=P.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,m),this.setSize(y,T),this.setOrigin(.5,.5),this.setShader(c,S,C),this.renderer.on(l.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(f){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setRenderToTexture:function(f,d){if(!this.renderToTexture){var c=this.width,g=this.height,m=this.renderer;this.glTexture=m.createTextureFromSource(null,c,g,0),this.framebuffer=m.createFramebuffer(c,g,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),f&&(this.texture=this.scene.sys.textures.addGLTexture(f,this.glTexture))}return this.shader&&(m.pipelines.clear(),this.load(),this.flush(),m.pipelines.rebind()),this},setShader:function(f,d,c){if(this.renderer.contextLost)return this._deferSetShader={key:f,textures:d,textureData:c},this;if(d===void 0&&(d=[]),typeof f=="string"){var g=this.scene.sys.cache.shader;if(!g.has(f))return console.warn("Shader missing: "+f),this;this.shader=g.get(f)}else this.shader=f;var m=this.gl,y=this.renderer;this.program&&y.deleteProgram(this.program);var T=y.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);m.uniformMatrix4fv(m.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),m.uniformMatrix4fv(m.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height),this.program=T;var S=new Date,C={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,C):this.uniforms=C;for(var P=0;P<4;P++)d[P]&&this.setSampler2D("iChannel"+P,d[P],P,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(f){return this.pointer=f,this},projOrtho:function(f,d,c,g){if(this.renderer.contextLost){this._deferProjOrtho={left:f,right:d,bottom:c,top:g};return}var m=-1e3,y=1e3,T=1/(f-d),S=1/(c-g),C=1/(m-y),P=this.projectionMatrix;P[0]=-2*T,P[5]=-2*S,P[10]=2*C,P[12]=(f+d)*T,P[13]=(g+c)*S,P[14]=(y+m)*C;var b=this.program,w=this.gl,M=this.renderer;M.setProgram(b),w.uniformMatrix4fv(w.getUniformLocation(b.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=c},initUniforms:function(){var f=this.renderer.glFuncMap,d=this.program;this._textureCount=0;for(var c in this.uniforms){var g=this.uniforms[c],m=g.type,y=f[m];g.uniformLocation=this.renderer.createUniformLocation(d,c),m!=="sampler2D"&&(g.glMatrix=y.matrix,g.glValueLength=y.length,g.glFunc=y.func)}},setSampler2DBuffer:function(f,d,c,g,m,y){m===void 0&&(m=0),y===void 0&&(y={});var T=this.uniforms[f];return T.value=d,y.width=c,y.height=g,T.textureData=y,this._textureCount=m,this.initSampler2D(T),this},setSampler2D:function(f,d,c,g){c===void 0&&(c=0);var m=this.scene.sys.textures;if(m.exists(d)){var y=m.getFrame(d);if(y.glTexture&&y.glTexture.isRenderTexture)return this.setSampler2DBuffer(f,y.glTexture,y.width,y.height,c,g);var T=this.uniforms[f],S=y.source;T.textureKey=d,T.source=S.image,T.value=y.glTexture,S.isGLTexture&&(g||(g={}),g.width=S.width,g.height=S.height),g&&(T.textureData=g),this._textureCount=c,this.initSampler2D(T)}return this},setUniform:function(f,d){return e(this.uniforms,f,d),this},getUniform:function(f){return r(this.uniforms,f,null)},setChannel0:function(f,d){return this.setSampler2D("iChannel0",f,0,d)},setChannel1:function(f,d){return this.setSampler2D("iChannel1",f,1,d)},setChannel2:function(f,d){return this.setSampler2D("iChannel2",f,2,d)},setChannel3:function(f,d){return this.setSampler2D("iChannel3",f,3,d)},initSampler2D:function(f){if(f.value){var d=f.textureData;if(d&&!f.value.isRenderTexture){var c=this.gl,g=f.value,m=c[r(d,"magFilter","linear").toUpperCase()],y=c[r(d,"minFilter","linear").toUpperCase()],T=c[r(d,"wrapS","repeat").toUpperCase()],S=c[r(d,"wrapT","repeat").toUpperCase()],C=c[r(d,"format","rgba").toUpperCase()],P=r(d,"flipY",!1),b=r(d,"width",g.width),w=r(d,"height",g.height),M=r(d,"source",g.pixels);d.repeat&&(T=c.REPEAT,S=c.REPEAT),d.width&&(M=null),g.update(M,b,w,P,T,S,y,m,C)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var f=this.gl,d=this.uniforms,c,g,m,y,T,S=0;for(var C in d)c=d[C],m=c.glFunc,g=c.glValueLength,y=c.uniformLocation,T=c.value,T!==null&&(g===1?c.glMatrix?m.call(f,y.webGLUniformLocation,c.transpose,T):m.call(f,y.webGLUniformLocation,T):g===2?m.call(f,y.webGLUniformLocation,T.x,T.y):g===3?m.call(f,y.webGLUniformLocation,T.x,T.y,T.z):g===4?m.call(f,y.webGLUniformLocation,T.x,T.y,T.z,T.w):c.type==="sampler2D"&&(f.activeTexture(f.TEXTURE0+S),f.bindTexture(f.TEXTURE_2D,T.webGLTexture),f.uniform1i(y.webGLUniformLocation,S),S++))},load:function(f){var d=this.gl,c=this.width,g=this.height,m=this.renderer,y=this.program,T=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,C=-this._displayOriginY;T[0]=f[0],T[1]=f[1],T[4]=f[2],T[5]=f[3],T[8]=f[4],T[9]=f[5],T[12]=T[0]*S+T[4]*C,T[13]=T[1]*S+T[5]*C}d.useProgram(y.webGLProgram),d.uniformMatrix4fv(d.getUniformLocation(y.webGLProgram,"uViewMatrix"),!1,T),d.uniformMatrix4fv(d.getUniformLocation(y.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),d.uniform2f(d.getUniformLocation(y.webGLProgram,"uResolution"),this.width,this.height);var P=this.uniforms,b=P.resolution;b.value.x=c,b.value.y=g,P.time.value=m.game.loop.getDuration();var w=this.pointer;if(w){var M=P.mouse,D=w.x/c,O=1-w.y/g;M.value.x=D.toFixed(2),M.value.y=O.toFixed(2)}this.syncUniforms()},flush:function(){var f=this.width,d=this.height,c=this.program,g=this.gl,m=this.vertexBuffer,y=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(y.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,m.webGLBuffer);var S=g.getAttribLocation(c.webGLProgram,"inPosition");S!==-1&&(g.enableVertexAttribArray(S),g.vertexAttribPointer(S,2,g.FLOAT,!1,T,0));var C=this.vertexViewF32;C[3]=d,C[4]=f,C[5]=d,C[8]=f,C[9]=d,C[10]=f;var P=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,P*T)),g.drawArrays(g.TRIANGLES,0,P),this.renderToTexture&&y.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var f=this._deferSetShader.key,d=this._deferSetShader.textures,c=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(f,d,c)}if(this._deferProjOrtho!==null){var g=this._deferProjOrtho.left,m=this._deferProjOrtho.right,y=this._deferProjOrtho.bottom,T=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(g,m,y,T)}},preDestroy:function(){var f=this.renderer;f.off(l.RESTORE_WEBGL,this.onContextRestored,this),f.deleteProgram(this.program),f.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(f.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(d){f.deleteUniformLocation(d.uniformLocation),d.uniformLocation=null})}});p.exports=u},80464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};p.exports=x},54935:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(20071);v.register("shader",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=a(n,"x",0),i=a(n,"y",0),l=a(n,"width",128),u=a(n,"height",128),f=new r(this.scene,s,o,i,l,u);return e!==void 0&&(n.add=e),h(this.scene,f,n),f})},74177:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20071),v=t(39429);v.register("shader",function(a,r,n,e,s,o,i){return this.displayList.add(new h(this.scene,a,r,n,e,s,o,i))})},25479:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(19257),a=t(80464),p.exports={renderWebGL:v,renderCanvas:a}},19257:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=function(a,r,n,e){if(r.shader){if(n.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=h(r,n,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(s.matrix),r.flush()}a.pipelines.rebind()}};p.exports=v},10441:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),v=function(a,r,n,e,s,o){for(var i=h.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),l=n.pathData,u=n.pathIndexes,f=0;f<u.length;f+=3){var d=u[f]*2,c=u[f+1]*2,g=u[f+2]*2,m=l[d+0]-s,y=l[d+1]-o,T=l[c+0]-s,S=l[c+1]-o,C=l[g+0]-s,P=l[g+1]-o,b=r.getX(m,y),w=r.getY(m,y),M=r.getX(T,S),D=r.getY(T,S),O=r.getX(C,P),U=r.getY(C,P);a.batchTri(n,b,w,M,D,O,U,0,0,1,1,i,i,i,2)}};p.exports=v},65960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=v||h.fillColor,n=a||h.fillAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,o=r&255;t.fillStyle="rgba("+e+","+s+","+o+","+n+")"};p.exports=x},75177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=v||h.strokeColor,n=a||h.strokeAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,o=r&255;t.strokeStyle="rgba("+e+","+s+","+o+","+n+")",t.lineWidth=h.lineWidth};p.exports=x},17803:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(95643),r=t(23031),n=new h({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(s,o,i){o===void 0&&(o="Shape"),a.call(this,s,o),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,o){return o===void 0&&(o=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=o,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=n},34682:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),v=function(a,r,n,e,s){var o=a.strokeTint,i=h.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*n);o.TL=i,o.TR=i,o.BL=i,o.BR=i;var l=r.pathData,u=l.length-1,f=r.lineWidth,d=f/2,c=l[0]-e,g=l[1]-s;r.closePath||(u-=2);for(var m=2;m<u;m+=2){var y=l[m]-e,T=l[m+1]-s;a.batchLine(c,g,y,T,d,d,f,m-2,r.closePath?m===u-1:!1),c=y,g=T}};p.exports=v},23629:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13609),v=t(83419),a=t(39506),r=t(94811),n=t(96503),e=t(36383),s=t(17803),o=new v({Extends:s,Mixins:[h],initialize:function(l,u,f,d,c,g,m,y,T){u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=128),c===void 0&&(c=0),g===void 0&&(g=360),m===void 0&&(m=!1),s.call(this,l,"Arc",new n(0,0,d)),this._startAngle=c,this._endAngle=g,this._anticlockwise=m,this._iterations=.01,this.setPosition(u,f);var S=this.geom.radius*2;this.setSize(S,S),y!==void 0&&this.setFillStyle(y,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var l=i*2;this.setSize(l,l),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,l){return this._startAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},setEndAngle:function(i,l){return this._endAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},updateData:function(){var i=this._iterations,l=i,u=this.geom.radius,f=a(this._startAngle),d=a(this._endAngle),c=this._anticlockwise,g=u,m=u;d-=f,c?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var y=[g+Math.cos(f)*u,m+Math.sin(f)*u],T;l<1;)T=d*l+f,y.push(g+Math.cos(T)*u,m+Math.sin(T)*u),l+=i;return T=d+f,y.push(g+Math.cos(T)*u,m+Math.sin(T)*u),y.push(g+Math.cos(f)*u,m+Math.sin(f)*u),this.pathIndexes=r(y),this.pathData=y,this}});p.exports=o},42542:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39506),v=t(65960),a=t(75177),r=t(20926),n=function(e,s,o,i){o.addToRenderList(s);var l=e.currentContext;if(r(e,l,s,o,i)){var u=s.radius;l.beginPath(),l.arc(u-s.originX*(u*2),u-s.originY*(u*2),u,h(s._startAngle),h(s._endAngle),s.anticlockwise),s.closePath&&l.closePath(),s.isFilled&&(v(l,s),l.fill()),s.isStroked&&(a(l,s),l.stroke()),l.restore()}};p.exports=n},42563:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23629),v=t(39429);v.register("arc",function(a,r,n,e,s,o,i,l){return this.displayList.add(new h(this.scene,a,r,n,e,s,o,i,l))}),v.register("circle",function(a,r,n,e,s){return this.displayList.add(new h(this.scene,a,r,n,0,360,!1,e,s))})},13609:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(41447),a=t(42542),p.exports={renderWebGL:v,renderCanvas:a}},41447:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(10441),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=h(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&v(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),n.pipelines.postBatch(e)};p.exports=r},89:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(33141),a=t(94811),r=t(87841),n=t(17803),e=new h({Extends:n,Mixins:[v],initialize:function(o,i,l,u,f,d){i===void 0&&(i=0),l===void 0&&(l=0),n.call(this,o,"Curve",u),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,l),f!==void 0&&this.setFillStyle(f,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,o=this._smoothness;this.geom.getBounds(s,o),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],l=this.geom.getPoints(o),u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=e},3170:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var l=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,f=e.pathData,d=f.length-1,c=f[0]-l,g=f[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=f[m]-l,T=f[m+1]-u;i.lineTo(y,T)}e.closePath&&i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},40511:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(89);h.register("curve",function(a,r,n,e,s){return this.displayList.add(new v(this.scene,a,r,n,e,s))})},33141:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(53987),a=t(3170),p.exports={renderWebGL:v,renderCanvas:a}},53987:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=v(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),n.pipelines.postBatch(e)};p.exports=r},19921:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(94811),a=t(54205),r=t(8497),n=t(17803),e=new h({Extends:n,Mixins:[a],initialize:function(o,i,l,u,f,d,c){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),f===void 0&&(f=128),n.call(this,o,"Ellipse",new r(u/2,f/2,u,f)),this._smoothness=64,this.setPosition(i,l),this.width=u,this.height=f,d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,o){return this.width=s,this.height=o,this.geom.setPosition(s/2,o/2),this.geom.setSize(s,o),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],o=this.geom.getPoints(this._smoothness),i=0;i<o.length;i++)s.push(o[i].x,o[i].y);return s.push(o[0].x,o[0].y),this.pathIndexes=v(s),this.pathData=s,this}});p.exports=e},7930:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.pathData,d=f.length-1,c=f[0]-l,g=f[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=f[m]-l,T=f[m+1]-u;i.lineTo(y,T)}i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},1543:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19921),v=t(39429);v.register("ellipse",function(a,r,n,e,s,o){return this.displayList.add(new h(this.scene,a,r,n,e,s,o))})},54205:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(19467),a=t(7930),p.exports={renderWebGL:v,renderCanvas:a}},19467:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=v(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),n.pipelines.postBatch(e)};p.exports=r},30479:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(17803),a=t(26015),r=new h({Extends:v,Mixins:[a],initialize:function(e,s,o,i,l,u,f,d,c,g,m){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=128),l===void 0&&(l=128),u===void 0&&(u=32),f===void 0&&(f=32),v.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=f,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,o),this.setSize(i,l),this.setFillStyle(d,c),g!==void 0&&this.setOutlineStyle(g,m),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},49912:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var l=-e._displayOriginX,u=-e._displayOriginY,f=s.alpha*e.alpha,d=e.width,c=e.height,g=e.cellWidth,m=e.cellHeight,y=Math.ceil(d/g),T=Math.ceil(c/m),S=g,C=m,P=g-(y*g-d),b=m-(T*m-c),w=e.showCells,M=e.showAltCells,D=e.showOutline,O=0,U=0,W=0,Y=0,X=0;if(D&&(S--,C--,P===g&&P--,b===m&&b--),w&&e.fillAlpha>0)for(h(i,e),U=0;U<T;U++)for(M&&(W=U%2),O=0;O<y;O++){if(M&&W){W=0;continue}W++,Y=O<y-1?S:P,X=U<T-1?C:b,i.fillRect(l+O*g,u+U*m,Y,X)}if(M&&e.altFillAlpha>0)for(h(i,e,e.altFillColor,e.altFillAlpha*f),U=0;U<T;U++)for(M&&(W=U%2),O=0;O<y;O++){if(M&&!W){W=1;continue}W=0,Y=O<y-1?S:P,X=U<T-1?C:b,i.fillRect(l+O*g,u+U*m,Y,X)}if(D&&e.outlineFillAlpha>0){for(v(i,e,e.outlineFillColor,e.outlineFillAlpha*f),O=1;O<y;O++){var N=O*g;i.beginPath(),i.moveTo(N+l,u),i.lineTo(N+l,c+u),i.stroke()}for(U=1;U<T;U++){var V=U*m;i.beginPath(),i.moveTo(l,V+u),i.lineTo(l+d,V+u),i.stroke()}}i.restore()}};p.exports=r},34137:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(30479);h.register("grid",function(a,r,n,e,s,o,i,l,u,f){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,l,u,f))})},26015:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(46161),a=t(49912),p.exports={renderWebGL:v,renderCanvas:a}},46161:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=h(n,e,s),l=o.calcMatrix.copyFrom(i.calc);l.translate(-n._displayOriginX,-n._displayOriginY);var u=e.alpha*n.alpha,f=n.width,d=n.height,c=n.cellWidth,g=n.cellHeight,m=Math.ceil(f/c),y=Math.ceil(d/g),T=c,S=g,C=c-(m*c-f),P=g-(y*g-d),b,w,M=n.showCells,D=n.showAltCells,O=n.showOutline,U=0,W=0,Y=0,X=0,N=0;if(O&&(T--,S--,C===c&&C--,P===g&&P--),r.pipelines.preBatch(n),M&&n.fillAlpha>0)for(b=o.fillTint,w=v.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*u),b.TL=w,b.TR=w,b.BL=w,b.BR=w,W=0;W<y;W++)for(D&&(Y=W%2),U=0;U<m;U++){if(D&&Y){Y=0;continue}Y++,X=U<m-1?T:C,N=W<y-1?S:P,o.batchFillRect(U*c,W*g,X,N)}if(D&&n.altFillAlpha>0)for(b=o.fillTint,w=v.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*u),b.TL=w,b.TR=w,b.BL=w,b.BR=w,W=0;W<y;W++)for(D&&(Y=W%2),U=0;U<m;U++){if(D&&!Y){Y=1;continue}Y=0,X=U<m-1?T:C,N=W<y-1?S:P,o.batchFillRect(U*c,W*g,X,N)}if(O&&n.outlineFillAlpha>0){var V=o.strokeTint,I=v.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*u);for(V.TL=I,V.TR=I,V.BL=I,V.BR=I,U=1;U<m;U++){var B=U*c;o.batchLine(B,0,B,d,1,1,1,0,!1)}for(W=1;W<y;W++){var G=W*g;o.batchLine(0,G,f,G,1,1,1,0,!1)}}r.pipelines.postBatch(n)};p.exports=a},61475:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99651),v=t(83419),a=t(17803),r=new v({Extends:a,Mixins:[h],initialize:function(e,s,o,i,l,u,f,d){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=15658734),f===void 0&&(f=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=f,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},11508:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(v(r,o,n,e,s)&&n.isFilled){var i=n.width,l=n.height,u=i/2,f=i/n.projection;n.showTop&&(h(o,n,n.fillTop),o.beginPath(),o.moveTo(-u,-l),o.lineTo(0,-f-l),o.lineTo(u,-l),o.lineTo(u,-1),o.lineTo(0,f-1),o.lineTo(-u,-1),o.lineTo(-u,-l),o.fill()),n.showLeft&&(h(o,n,n.fillLeft),o.beginPath(),o.moveTo(-u,0),o.lineTo(0,f),o.lineTo(0,f-l),o.lineTo(-u,-l),o.lineTo(-u,0),o.fill()),n.showRight&&(h(o,n,n.fillRight),o.beginPath(),o.moveTo(u,0),o.lineTo(0,f),o.lineTo(0,f-l),o.lineTo(u,-l),o.lineTo(u,0),o.fill()),o.restore()}};p.exports=a},3933:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(61475);h.register("isobox",function(a,r,n,e,s,o,i){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i))})},99651:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(68149),a=t(11508),p.exports={renderWebGL:v,renderCanvas:a}},68149:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=h(n,e,s),l=o.calcMatrix.copyFrom(i.calc),u=n.width,f=n.height,d=u/2,c=u/n.projection,g=e.alpha*n.alpha;if(n.isFilled){var m,y,T,S,C,P,b,w,M;r.pipelines.preBatch(n),n.showTop&&(m=v.getTintAppendFloatAlpha(n.fillTop,g),y=l.getX(-d,-f),T=l.getY(-d,-f),S=l.getX(0,-c-f),C=l.getY(0,-c-f),P=l.getX(d,-f),b=l.getY(d,-f),w=l.getX(0,c-f),M=l.getY(0,c-f),o.batchQuad(n,y,T,S,C,P,b,w,M,0,0,1,1,m,m,m,m,2)),n.showLeft&&(m=v.getTintAppendFloatAlpha(n.fillLeft,g),y=l.getX(-d,0),T=l.getY(-d,0),S=l.getX(0,c),C=l.getY(0,c),P=l.getX(0,c-f),b=l.getY(0,c-f),w=l.getX(-d,-f),M=l.getY(-d,-f),o.batchQuad(n,y,T,S,C,P,b,w,M,0,0,1,1,m,m,m,m,2)),n.showRight&&(m=v.getTintAppendFloatAlpha(n.fillRight,g),y=l.getX(d,0),T=l.getY(d,0),S=l.getX(0,c),C=l.getY(0,c),P=l.getX(0,c-f),b=l.getY(0,c-f),w=l.getX(d,-f),M=l.getY(d,-f),o.batchQuad(n,y,T,S,C,P,b,w,M,0,0,1,1,m,m,m,m,2)),r.pipelines.postBatch(n)}};p.exports=a},16933:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(60561),a=t(17803),r=new h({Extends:a,Mixins:[v],initialize:function(e,s,o,i,l,u,f,d,c){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=!1),f===void 0&&(f=15658734),d===void 0&&(d=10066329),c===void 0&&(c=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=f,this.fillLeft=d,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},79590:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(v(r,o,n,e,s)&&n.isFilled){var i=n.width,l=n.height,u=i/2,f=i/n.projection,d=n.isReversed;n.showTop&&d&&(h(o,n,n.fillTop),o.beginPath(),o.moveTo(-u,-l),o.lineTo(0,-f-l),o.lineTo(u,-l),o.lineTo(0,f-l),o.fill()),n.showLeft&&(h(o,n,n.fillLeft),o.beginPath(),d?(o.moveTo(-u,-l),o.lineTo(0,f),o.lineTo(0,f-l)):(o.moveTo(-u,0),o.lineTo(0,f),o.lineTo(0,f-l)),o.fill()),n.showRight&&(h(o,n,n.fillRight),o.beginPath(),d?(o.moveTo(u,-l),o.lineTo(0,f),o.lineTo(0,f-l)):(o.moveTo(u,0),o.lineTo(0,f),o.lineTo(0,f-l)),o.fill()),o.restore()}};p.exports=a},49803:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(16933);h.register("isotriangle",function(a,r,n,e,s,o,i,l){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,l))})},60561:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(51503),a=t(79590),p.exports={renderWebGL:v,renderCanvas:a}},51503:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=h(n,e,s),l=o.calcMatrix.copyFrom(i.calc),u=n.width,f=n.height,d=u/2,c=u/n.projection,g=n.isReversed,m=e.alpha*n.alpha;if(n.isFilled){r.pipelines.preBatch(n);var y,T,S,C,P,b,w;if(n.showTop&&g){y=v.getTintAppendFloatAlpha(n.fillTop,m),T=l.getX(-d,-f),S=l.getY(-d,-f),C=l.getX(0,-c-f),P=l.getY(0,-c-f),b=l.getX(d,-f),w=l.getY(d,-f);var M=l.getX(0,c-f),D=l.getY(0,c-f);o.batchQuad(n,T,S,C,P,b,w,M,D,0,0,1,1,y,y,y,y,2)}n.showLeft&&(y=v.getTintAppendFloatAlpha(n.fillLeft,m),g?(T=l.getX(-d,-f),S=l.getY(-d,-f),C=l.getX(0,c),P=l.getY(0,c),b=l.getX(0,c-f),w=l.getY(0,c-f)):(T=l.getX(-d,0),S=l.getY(-d,0),C=l.getX(0,c),P=l.getY(0,c),b=l.getX(0,c-f),w=l.getY(0,c-f)),o.batchTri(n,T,S,C,P,b,w,0,0,1,1,y,y,y,2)),n.showRight&&(y=v.getTintAppendFloatAlpha(n.fillRight,m),g?(T=l.getX(d,-f),S=l.getY(d,-f),C=l.getX(0,c),P=l.getY(0,c),b=l.getX(0,c-f),w=l.getY(0,c-f)):(T=l.getX(d,0),S=l.getY(d,0),C=l.getX(0,c),P=l.getY(0,c),b=l.getX(0,c-f),w=l.getY(0,c-f)),o.batchTri(n,T,S,C,P,b,w,0,0,1,1,y,y,y,2)),r.pipelines.postBatch(n)}};p.exports=a},57847:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(17803),a=t(23031),r=t(36823),n=new h({Extends:v,Mixins:[r],initialize:function(s,o,i,l,u,f,d,c,g){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=128),d===void 0&&(d=0),v.call(this,s,"Line",new a(l,u,f,d));var m=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(o,i),this.setSize(m,y),c!==void 0&&this.setStrokeStyle(1,c,g),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,o,i){return this.geom.setTo(e,s,o,i),this}});p.exports=n},17440:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75177),v=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(v(r,o,n,e,s)){var i=n._displayOriginX,l=n._displayOriginY;n.isStroked&&(h(o,n),o.beginPath(),o.moveTo(n.geom.x1-i,n.geom.y1-l),o.lineTo(n.geom.x2-i,n.geom.y2-l),o.stroke()),o.restore()}};p.exports=a},2481:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(57847);h.register("line",function(a,r,n,e,s,o,i,l){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,l))})},36823:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(77385),a=t(17440),p.exports={renderWebGL:v,renderCanvas:a}},77385:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=h(n,e,s);o.calcMatrix.copyFrom(i.calc);var l=n._displayOriginX,u=n._displayOriginY,f=e.alpha*n.alpha;if(r.pipelines.preBatch(n),n.isStroked){var d=o.strokeTint,c=v.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*f);d.TL=c,d.TR=c,d.BL=c,d.BR=c,o.batchLine(n.geom.x1-l,n.geom.y1-u,n.geom.x2-l,n.geom.y2-u,n._startWidth/2,n._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(n)};p.exports=a},24949:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90273),v=t(83419),a=t(94811),r=t(13829),n=t(25717),e=t(17803),s=t(5469),o=new v({Extends:e,Mixins:[h],initialize:function(l,u,f,d,c,g){u===void 0&&(u=0),f===void 0&&(f=0),e.call(this,l,"Polygon",new n(d));var m=r(this.geom);this.setPosition(u,f),this.setSize(m.width,m.height),c!==void 0&&this.setFillStyle(c,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var l=0;l<i;l++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var l=r(this.geom);return this.setSize(l.width,l.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],l=this.geom.points,u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=o},38710:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.pathData,d=f.length-1,c=f[0]-l,g=f[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=f[m]-l,T=f[m+1]-u;i.lineTo(y,T)}e.closePath&&i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},64827:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(24949);h.register("polygon",function(a,r,n,e,s){return this.displayList.add(new v(this.scene,a,r,n,e,s))})},90273:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(73695),a=t(38710),p.exports={renderWebGL:v,renderCanvas:a}},73695:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=v(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),n.pipelines.postBatch(e)};p.exports=r},74561:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(87841),a=t(17803),r=t(95597),n=new h({Extends:a,Mixins:[r],initialize:function(s,o,i,l,u,f,d){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=128),u===void 0&&(u=128),a.call(this,s,"Rectangle",new v(0,0,l,u)),this.setPosition(o,i),this.setSize(l,u),f!==void 0&&this.setFillStyle(f,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=e,o.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),s.getLineD(o),e.push(o.x2,o.y2),this.pathData=e,this}});p.exports=n},48682:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(h(i,e),i.fillRect(-l,-u,e.width,e.height)),e.isStroked&&(v(i,e),i.beginPath(),i.rect(-l,-u,e.width,e.height),i.stroke()),i.restore()}};p.exports=r},87959:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(74561);h.register("rectangle",function(a,r,n,e,s,o){return this.displayList.add(new v(this.scene,a,r,n,e,s,o))})},95597:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(52059),a=t(48682),p.exports={renderWebGL:v,renderCanvas:a}},52059:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(34682),a=t(70554),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=h(e,s,o);i.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,f=e._displayOriginY,d=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=g,c.TR=g,c.BL=g,c.BR=g,i.batchFillRect(-u,-f,e.width,e.height)}e.isStroked&&v(i,e,d,u,f),n.pipelines.postBatch(e)};p.exports=r},55911:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81991),v=t(83419),a=t(94811),r=t(17803),n=new v({Extends:r,Mixins:[h],initialize:function(s,o,i,l,u,f,d,c){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=5),u===void 0&&(u=32),f===void 0&&(f=64),r.call(this,s,"Star",null),this._points=l,this._innerRadius=u,this._outerRadius=f,this.setPosition(o,i),this.setSize(f*2,f*2),d!==void 0&&this.setFillStyle(d,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,o=this._innerRadius,i=this._outerRadius,l=Math.PI/2*3,u=Math.PI/s,f=i,d=i;e.push(f,d+-i);for(var c=0;c<s;c++)e.push(f+Math.cos(l)*i,d+Math.sin(l)*i),l+=u,e.push(f+Math.cos(l)*o,d+Math.sin(l)*o),l+=u;return e.push(f,d+-i),this.pathIndexes=a(e),this.pathData=e,this}});p.exports=n},64272:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.pathData,d=f.length-1,c=f[0]-l,g=f[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var y=f[m]-l,T=f[m+1]-u;i.lineTo(y,T)}i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},93697:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55911),v=t(39429);v.register("star",function(a,r,n,e,s,o,i){return this.displayList.add(new h(this.scene,a,r,n,e,s,o,i))})},81991:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(57017),a=t(64272),p.exports={renderWebGL:v,renderCanvas:a}},57017:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=v(e,s,o),u=i.calcMatrix.copyFrom(l.calc),f=e._displayOriginX,d=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&h(i,u,e,c,f,d),e.isStroked&&a(i,e,c,f,d),n.pipelines.postBatch(e)};p.exports=r},36931:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(17803),a=t(16483),r=t(96195),n=new h({Extends:v,Mixins:[r],initialize:function(s,o,i,l,u,f,d,c,g,m,y){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),f===void 0&&(f=64),d===void 0&&(d=0),c===void 0&&(c=128),g===void 0&&(g=128),v.call(this,s,"Triangle",new a(l,u,f,d,c,g));var T=this.geom.right-this.geom.left,S=this.geom.bottom-this.geom.top;this.setPosition(o,i),this.setSize(T,S),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,o,i,l,u){return this.geom.setTo(e,s,o,i,l,u),this.updateData()},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),this.pathData=e,this}});p.exports=n},85172:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var l=e._displayOriginX,u=e._displayOriginY,f=e.geom.x1-l,d=e.geom.y1-u,c=e.geom.x2-l,g=e.geom.y2-u,m=e.geom.x3-l,y=e.geom.y3-u;i.beginPath(),i.moveTo(f,d),i.lineTo(c,g),i.lineTo(m,y),i.closePath(),e.isFilled&&(h(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},45245:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(36931);h.register("triangle",function(a,r,n,e,s,o,i,l,u,f){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,l,u,f))})},96195:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(83253),a=t(85172),p.exports={renderWebGL:v,renderCanvas:a}},83253:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=t(34682),a=t(70554),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=h(e,s,o);i.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,f=e._displayOriginY,d=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);c.TL=g,c.TR=g,c.BL=g,c.BR=g;var m=e.geom.x1-u,y=e.geom.y1-f,T=e.geom.x2-u,S=e.geom.y2-f,C=e.geom.x3-u,P=e.geom.y3-f;i.batchFillTriangle(m,y,T,S,C,P,l.sprite,l.camera)}e.isStroked&&v(i,e,d,u,f),n.pipelines.postBatch(e)};p.exports=r},68287:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),v=t(83419),a=t(31401),r=t(95643),n=t(92751),e=new v({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,n],initialize:function(o,i,l,u,f){r.call(this,o,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(u,f),this.setPosition(i,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,o){this.anims.update(s,o)},play:function(s,o){return this.anims.play(s,o)},playReverse:function(s,o){return this.anims.playReverse(s,o)},playAfterDelay:function(s,o){return this.anims.playAfterDelay(s,o)},playAfterRepeat:function(s,o){return this.anims.playAfterRepeat(s,o)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},76552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v.addToRenderList(h),t.batchSprite(h,h.frame,v,a)};p.exports=x},15567:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(13059),a=t(44603),r=t(23568),n=t(68287);a.register("sprite",function(e,s){e===void 0&&(e={});var o=r(e,"key",null),i=r(e,"frame",null),l=new n(this.scene,0,0,o,i);return s!==void 0&&(e.add=s),h(this.scene,l,e),v(l,e),l})},46409:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(68287);h.register("sprite",function(a,r,n,e){return this.displayList.add(new v(this.scene,a,r,n,e))})},92751:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(9409),a=t(76552),p.exports={renderWebGL:v,renderCanvas:a}},9409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v.addToRenderList(h),h.pipeline.batchSprite(h,v,a)};p.exports=x},14220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=t.canvas,r=t.context,n=t.style,e=[],s=0,o=v.length;n.maxLines>0&&n.maxLines<v.length&&(o=n.maxLines),n.syncFont(a,r);for(var i=t.letterSpacing,l=0;l<o;l++){var u=n.strokeThickness;if(i===0)u+=r.measureText(v[l]).width;else{for(var f=v[l],d=0;d<f.length;d++)u+=r.measureText(f[d]).width;f.length>1&&(u+=i*(f.length-1))}n.wordWrap&&(u-=r.measureText(" ").width),e[l]=Math.ceil(u),s=Math.max(s,e[l])}var c=h.fontSize+n.strokeThickness,g=c*o,m=t.lineSpacing;return o>1&&(g+=m*(o-1)),{width:s,height:g,lines:o,lineWidths:e,lineSpacing:m,lineHeight:c}};p.exports=x},79557:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),v=function(a){var r=h.create(this),n=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,n);var e=n.measureText(a.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,o=e.actualBoundingBoxDescent;return h.remove(r),{ascent:s,descent:o,fontSize:s+o}}var i=Math.ceil(e.width*a.baselineX),l=i,u=2*l;l=l*a.baselineY|0,r.width=i,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,i,u),n.font=a._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a.testString,0,l);var f={ascent:0,descent:0,fontSize:0},d=n.getImageData(0,0,i,u);if(!d)return f.ascent=l,f.descent=l+6,f.fontSize=f.ascent+f.descent,h.remove(r),f;var c=d.data,g=c.length,m=i*4,y,T,S=0,C=!1;for(y=0;y<l;y++){for(T=0;T<m;T+=4)if(c[S+T]!==255){C=!0;break}if(!C)S+=m;else break}for(f.ascent=l-y,S=g-m,C=!1,y=u;y>l;y--){for(T=0;T<m;T+=4)if(c[S+T]!==255){C=!0;break}if(!C)S-=m;else break}return f.descent=y-l,f.fontSize=f.ascent+f.descent,h.remove(r),f};p.exports=v},50171:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40366),v=t(27919),a=t(83419),r=t(31401),n=t(95643),e=t(14220),s=t(35154),o=t(35846),i=t(61771),l=t(35762),u=t(45650),f=new a({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(c,g,m,y,T){g===void 0&&(g=0),m===void 0&&(m=0),n.call(this,c,"Text"),this.renderer=c.sys.renderer,this.setPosition(g,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new l(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=c.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(y),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing),T&&T.letterSpacing&&this.setLetterSpacing(T.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var c=this.style;if(c.wordWrapCallback){var g=c.wordWrapCallback.call(c.wordWrapCallbackScope,d,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return c.wordWrapWidth?c.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,c,g){for(var m="",y=d.replace(/ +/gi," ").split(this.splitRegExp),T=y.length,S=0;S<T;S++){var C=y[S],P="";C=C.replace(/^ *|\s*$/gi,"");var b=C.length*this.letterSpacing,w=c.measureText(C).width+b;if(w<g){m+=C+`
`;continue}for(var M=g,D=C.split(" "),O=0;O<D.length;O++){var U=D[O],W=U+" ",Y=W.length*this.letterSpacing,X=c.measureText(W).width+Y;if(console.log(D.length,U),X>M){if(O===0){for(var N=W;N.length;){N=N.slice(0,-1);var V=N.length*this.letterSpacing;if(X=c.measureText(N).width+V,X<=M)break}if(!N.length)throw new Error("wordWrapWidth < a single character");var I=U.substr(N.length);D[O]=I,P+=N}var B=D[O].length?O:O+1,G=D.slice(B).join(" ").replace(/[ \n]*$/gi,"");y.splice(S+1,0,G),T=y.length;break}else P+=W,M-=X}m+=P.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(d,c,g){for(var m="",y=d.split(this.splitRegExp),T=y.length-1,S=c.measureText(" ").width,C=0;C<=T;C++){for(var P=g,b=y[C].split(" "),w=b.length-1,M=0;M<=w;M++){var D=b[M],O=D.length*this.letterSpacing,U=c.measureText(D).width+O,W=U;M<w&&(W+=S),W>P&&M>0&&(m+=`
`,P=g),m+=D,M<w?(m+=" ",P-=W):P-=U}C<T&&(m+=`
`)}return m},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var c=this.runWordWrap(d);return c.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},appendText:function(d,c){c===void 0&&(c=!0),!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d=d.toString();var g=this._text.concat(c?`
`+d:d);return g!==this._text&&(this._text=g,this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,c){return this.style.setFixedSize(d,c)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,c){return this.style.setStroke(d,c)},setShadow:function(d,c,g,m,y,T){return this.style.setShadow(d,c,g,m,y,T)},setShadowOffset:function(d,c){return this.style.setShadowOffset(d,c)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,c){return this.style.setWordWrapWidth(d,c)},setWordWrapCallback:function(d,c){return this.style.setWordWrapCallback(d,c)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setLetterSpacing:function(d){return this.letterSpacing=d,this.updateText()},setPadding:function(d,c,g,m){if(typeof d=="object"){var y=d,T=s(y,"x",null);T!==null?(d=T,g=T):(d=s(y,"left",0),g=s(y,"right",d));var S=s(y,"y",null);S!==null?(c=S,m=S):(c=s(y,"top",0),m=s(y,"bottom",c))}else d===void 0&&(d=0),c===void 0&&(c=d),g===void 0&&(g=d),m===void 0&&(m=c);return this.padding.left=d,this.padding.top=c,this.padding.right=g,this.padding.bottom=m,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},setRTL:function(d){d===void 0&&(d=!0);var c=this.style;return c.rtl===d?this:(c.rtl=d,d?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),c.align==="left"?c.align="right":c.align==="right"&&(c.align="left"),this)},updateText:function(){var d=this.canvas,c=this.context,g=this.style,m=g.resolution,y=g.metrics;g.syncFont(d,c);var T=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(T=this.runWordWrap(this._text));var S=T.split(this.splitRegExp),C=e(this,y,S),P=this.padding,b;g.fixedWidth===0?(this.width=C.width+P.left+P.right,b=C.width):(this.width=g.fixedWidth,b=this.width-P.left-P.right,b<C.width&&(b=C.width)),g.fixedHeight===0?this.height=C.height+P.top+P.bottom:this.height=g.fixedHeight;var w=this.width,M=this.height;this.updateDisplayOrigin(),w*=m,M*=m,w=Math.max(w,1),M=Math.max(M,1),d.width!==w||d.height!==M?(d.width=w,d.height=M,this.frame.setSize(w,M),g.syncFont(d,c),g.rtl&&(c.direction="rtl")):c.clearRect(0,0,w,M),c.save(),c.scale(m,m),g.backgroundColor&&(c.fillStyle=g.backgroundColor,c.fillRect(0,0,w,M)),g.syncStyle(d,c),c.translate(P.left,P.top);for(var D,O,U=0;U<C.lines;U++){if(D=g.strokeThickness/2,O=g.strokeThickness/2+U*C.lineHeight+y.ascent,U>0&&(O+=C.lineSpacing*U),g.rtl)D=w-D-P.left-P.right;else if(g.align==="right")D+=b-C.lineWidths[U];else if(g.align==="center")D+=(b-C.lineWidths[U])/2;else if(g.align==="justify"){var W=.85;if(C.lineWidths[U]/C.width>=W){var Y=C.width-C.lineWidths[U],X=c.measureText(" ").width,N=S[U].trim(),V=N.split(" ");Y+=(S[U].length-N.length)*X;for(var I=Math.floor(Y/X),B=0;I>0;)V[B]+=" ",B=(B+1)%(V.length-1||1),--I;S[U]=V.join(" ")}}this.autoRound&&(D=Math.round(D),O=Math.round(O));var G=this.letterSpacing;if(g.strokeThickness&&G===0&&(g.syncShadow(c,g.shadowStroke),c.strokeText(S[U],D,O)),g.color)if(g.syncShadow(c,g.shadowFill),G!==0)for(var H=0,k=S[U].split(""),Z=0;Z<k.length;Z++)g.strokeThickness&&(g.syncShadow(c,g.shadowStroke),c.strokeText(k[Z],D+H,O),g.syncShadow(c,g.shadowFill)),c.fillText(k[Z],D+H,O),H+=c.measureText(k[Z]).width+G;else c.fillText(S[U],D,O)}c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0));var J=this.input;return J&&!J.customHitArea&&(J.hitArea.width=this.width,J.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=r.ToJSON(this),c={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=c,d},preDestroy:function(){o(this.canvas),v.remove(this.canvas);var d=this.texture;d&&d.destroy()}});p.exports=f},79724:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){h.width===0||h.height===0||(v.addToRenderList(h),t.batchSprite(h,h.frame,v,a))};p.exports=x},71259:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(50171);v.register("text",function(n,e){n===void 0&&(n={});var s=a(n,"text",""),o=a(n,"style",null),i=a(n,"padding",null);i!==null&&(o.padding=i);var l=new r(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),h(this.scene,l,n),l.autoRound=a(n,"autoRound",!0),l.resolution=a(n,"resolution",1),l})},68005:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50171),v=t(39429);v.register("text",function(a,r,n,e){return this.displayList.add(new h(this.scene,a,r,n,e))})},61771:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(34397),a=t(79724),p.exports={renderWebGL:v,renderCanvas:a}},35762:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23568),a=t(35154),r=t(79557),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new h({initialize:function(o,i){this.parent=o,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,o,i){o===void 0&&(o=!0),i===void 0&&(i=!1);for(var l in n){var u=i?n[l][1]:this[l];l==="wordWrapCallback"||l==="wordWrapCallbackScope"?this[l]=a(s,n[l][0],u):s&&l==="fontSize"&&typeof s.fontSize=="number"?this[l]=s.fontSize.toString()+"px":this[l]=v(s,n[l][0],u)}var f=a(s,"font",null);f!==null&&this.setFont(f,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(s,"fill",null);d!==null&&(this.color=d);var c=a(s,"metrics",!1);return c?this.metrics={ascent:a(c,"ascent",0),descent:a(c,"descent",0),fontSize:a(c,"fontSize",0)}:(o||!this.metrics)&&(this.metrics=r(this)),o?this.parent.updateText():this.parent},syncFont:function(s,o){o.font=this._font},syncStyle:function(s,o){o.textBaseline="alphabetic",o.fillStyle=this.color,o.strokeStyle=this.stroke,o.lineWidth=this.strokeThickness,o.lineCap="round",o.lineJoin="round"},syncShadow:function(s,o){o?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,o){o===void 0&&(o=!0);var i=s,l="",u="";if(typeof s!="string")i=a(s,"fontFamily","Courier"),l=a(s,"fontSize","16px"),u=a(s,"fontStyle","");else{var f=s.split(" "),d=0;u=f.length>2?f[d++]:"",l=f[d++]||"16px",i=f[d++]||"Courier"}return(i!==this.fontFamily||l!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=l,this.fontStyle=u,o&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,o){return this.fixedWidth=s,this.fixedHeight=o,s&&(this.parent.width=s),o&&(this.parent.height=o),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,o){return o===void 0&&(o=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==o)&&(this.stroke=s,this.strokeThickness=o,this.update(!0)),this.parent},setShadow:function(s,o,i,l,u,f){return s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i="#000"),l===void 0&&(l=0),u===void 0&&(u=!1),f===void 0&&(f=!0),this.shadowOffsetX=s,this.shadowOffsetY=o,this.shadowColor=i,this.shadowBlur=l,this.shadowStroke=u,this.shadowFill=f,this.update(!1)},setShadowOffset:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.shadowOffsetX=s,this.shadowOffsetY=o,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,o){return o===void 0&&(o=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=o,this.update(!1)},setWordWrapCallback:function(s,o){return o===void 0&&(o=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=o,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var o in n)s[o]=this[o];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});p.exports=e},34397:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),v=function(a,r,n,e){if(!(r.width===0||r.height===0)){n.addToRenderList(r);var s=r.frame,o=s.width,i=s.height,l=h.getTintAppendFloatAlpha,u=a.pipelines.set(r.pipeline,r),f=u.setTexture2D(s.glTexture,r);u.batchTexture(r,s.glTexture,o,i,r.x,r.y,o/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,o,i,l(r.tintTopLeft,n.alpha*r._alphaTL),l(r.tintTopRight,n.alpha*r._alphaTR),l(r.tintBottomLeft,n.alpha*r._alphaBL),l(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,0,0,n,e,!1,f)}};p.exports=v},20839:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),v=t(83419),a=t(31401),r=t(95643),n=t(98439),e=t(68703),s=t(56295),o=t(45650),i=t(26099),l=8,u=new v({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(d,c,g,m,y,T,S){var C=d.sys.renderer;r.call(this,d,"TileSprite");var P=d.sys.textures.get(T),b=P.get(S);b.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),P=d.sys.textures.get("__MISSING"),b=P.get()),P.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),P=d.sys.textures.get("__MISSING"),b=P.get()),!m||!y?(m=m||b.width,y=y||b.height):(m=Math.floor(m),y=Math.floor(y)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=C,this.canvas=h.create(this,m,y),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=P,this.displayFrame=b,this._crop=this.resetCropObject(),this._textureKey=o(),this.texture=d.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=n(b.width),this.potHeight=n(b.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(c,g),this.setSize(m,y),this.setFrame(S),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,d){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(d)},setFrame:function(f){var d=this.displayTexture.get(f);return this.potWidth=n(d.width),this.potHeight=n(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=-9:this.renderFlags|=l,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,d){return f!==void 0&&(this.tilePositionX=f),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(f,d){return f===void 0&&(f=this.tileScaleX),d===void 0&&(d=f),this.tileScaleX=f,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,c=this.fillCanvas,g=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=f.cutWidth,m=f.cutHeight),d.clearRect(0,0,g,m),c.width=g,c.height=m,d.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,g,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(c,this.fillPattern):this.fillPattern=d.createPattern(c,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var c=this._tileScale.x,g=this._tileScale.y,m=this._tilePosition.x,y=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(c,g),d.translate(-m,-y),d.fillStyle=this.fillPattern,d.fillRect(m,y,this.width/c,this.height/g),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var f=this.texture;f&&f.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});p.exports=u},46992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){h.updateCanvas(),v.addToRenderList(h),t.batchSprite(h,h.frame,v,a)};p.exports=x},14167:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(20839);v.register("tileSprite",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),o=a(n,"y",0),i=a(n,"width",512),l=a(n,"height",512),u=a(n,"key",""),f=a(n,"frame",""),d=new r(this.scene,s,o,i,l,u,f);return e!==void 0&&(n.add=e),h(this.scene,d,n),d})},91681:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20839),v=t(39429);v.register("tileSprite",function(a,r,n,e,s,o){return this.displayList.add(new h(this.scene,a,r,n,e,s,o))})},56295:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(18553),a=t(46992),p.exports={renderWebGL:v,renderCanvas:a}},18553:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),v=function(a,r,n,e){r.updateCanvas();var s=r.width,o=r.height;if(!(s===0||o===0)){n.addToRenderList(r);var i=h.getTintAppendFloatAlpha,l=a.pipelines.set(r.pipeline,r),u=l.setTexture2D(r.fillPattern,r);l.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,o,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*o,0,0,s,o,i(r.tintTopLeft,n.alpha*r._alphaTL),i(r.tintTopRight,n.alpha*r._alphaTR),i(r.tintBottomLeft,n.alpha*r._alphaBL),i(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,n,e,!1,u)}};p.exports=v},18471:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(31401),r=t(51708),n=t(8443),e=t(95643),s=t(36383),o=t(14463),i=t(45650),l=t(10247),u=new v({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,l],initialize:function(d,c,g,m){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var y=d.sys.game;this._device=y.device.video,this.setPosition(c,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),y.events.on(n.PAUSE,this.globalPause,this),y.events.on(n.RESUME,this.globalResume,this);var T=d.sys.sound;T&&T.on(o.GLOBAL_MUTE,this.globalMute,this),m&&this.load(m)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(f){var d=this.scene.sys.cache.video.get(f);return d?(this.cacheKey=f,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+f),this},changeSource:function(f,d,c,g,m){d===void 0&&(d=!0),c===void 0&&(c=!1),this.cacheKey!==f&&(this.load(f),d&&this.play(c,g,m))},getVideoKey:function(){return this.cacheKey},loadURL:function(f,d,c){d===void 0&&(d=!1);var g=this._device.getVideoURL(f);return g?(this.cacheKey="",this.loadHandler(g.url,d,c)):console.warn("No supported video format found for "+f),this},loadMediaStream:function(f,d,c){return this.loadHandler(null,d,c,f)},loadHandler:function(f,d,c,g){d||(d=!1);var m=this.video;if(m?(this.removeLoadEventHandlers(),this.stop()):(m=document.createElement("video"),m.controls=!1,m.setAttribute("playsinline","playsinline"),m.setAttribute("preload","auto"),m.setAttribute("disablePictureInPicture","true")),d?(m.muted=!0,m.defaultMuted=!0,m.setAttribute("autoplay","autoplay")):(m.muted=!1,m.defaultMuted=!1,m.removeAttribute("autoplay")),c?m.setAttribute("crossorigin",c):m.removeAttribute("crossorigin"),g)if("srcObject"in m)try{m.srcObject=g}catch(T){if(T.name!=="TypeError")throw T;m.src=URL.createObjectURL(g)}else m.src=URL.createObjectURL(g);else m.src=f;this.retry=0,this.video=m,this._playCalled=!1,m.load(),this.addLoadEventHandlers();var y=this.scene.sys.textures.get(this._key);return this.setTexture(y),this},requestVideoFrame:function(f,d){var c=this.video;if(c){var g=d.width,m=d.height,y=this.videoTexture,T=this.videoTextureSource,S=!y||T.source!==c;S?(this._codePaused=c.paused,this._codeMuted=c.muted,y?(T.source=c,T.width=g,T.height=m,y.get().setSize(g,m)):(y=this.scene.sys.textures.create(this._key,c,g,m),y.add("__BASE",0,0,0,g,m),this.setTexture(y),this.videoTexture=y,this.videoTextureSource=y.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,y)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=d;var C=d.mediaTime;S&&(this._lastUpdate=C,this.emit(r.VIDEO_CREATED,this,g,m),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?C>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):C<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=C,this._getFrame?(this.removeEventHandlers(),c.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(f,d,c){d===void 0&&(d=-1),c===void 0&&(c=s.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(f===void 0&&(f=g.loop),g.loop=f,this._markerIn=d,this._markerOut=c,this._playingMarker=d>-1&&c>d&&c<s.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var f=this.video;return!f||this.isPlaying()?(f||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=f.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var f=this.video;f&&(f.addEventListener("error",this._loadCallbackHandler),f.addEventListener("abort",this._loadCallbackHandler),f.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var f=this.video;f&&(f.removeEventListener("error",this._loadCallbackHandler),f.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var f=this.video;if(f){var d=this._callbacks;for(var c in d)f.addEventListener(c,d[c])}},removeEventHandlers:function(){var f=this.video;if(f){var d=this._callbacks;for(var c in d)f.removeEventListener(c,d[c])}},createPlayPromise:function(f){f===void 0&&(f=!0);var d=this.video,c=d.play();if(c!==void 0){var g=this.playSuccess.bind(this),m=this.playError.bind(this);if(!f){var y=this;m=function(){y.failedPlayAttempts++}}c.then(g).catch(m)}else d.addEventListener("playing",this._callbacks.legacy),f||this.failedPlayAttempts++},addMarker:function(f,d,c){return!isNaN(d)&&d>=0&&!isNaN(c)&&c>d&&(this.markers[f]=[d,c]),this},playMarker:function(f,d){var c=this.markers[f];return c&&this.play(d,c[0],c[1]),this},removeMarker:function(f){return delete this.markers[f],this},snapshot:function(f,d){return f===void 0&&(f=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,f,d)},snapshotArea:function(f,d,c,g,m,y){f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=this.width),g===void 0&&(g=this.height),m===void 0&&(m=c),y===void 0&&(y=g);var T=this.video,S=this.snapshotTexture;return S?(S.setSize(m,y),T&&S.context.drawImage(T,f,d,c,g,0,0,m,y)):(S=this.scene.sys.textures.createCanvas(i(),m,y),this.snapshotTexture=S,T&&S.context.drawImage(T,f,d,c,g,0,0,m,y)),S.update()},saveSnapshotTexture:function(f){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,f):this.snapshotTexture=this.scene.sys.textures.createCanvas(f,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var f=this.scene.sys.sound;f&&f.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(f){var d=f.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,f)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,f))},legacyPlayHandler:function(){var f=this.video;f&&(this.playSuccess(),f.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(f){this.stop(!1),this.emit(r.VIDEO_ERROR,this,f)},metadataHandler:function(f){this.emit(r.VIDEO_METADATA,this,f)},setSizeToFrame:function(f){f||(f=this.frame),this.width=f.realWidth,this.height=f.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},stalledHandler:function(f){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,f)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(f,d){var c=this.video;!c||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(f){var d=this.video;if(d){var c=d.duration;if(c!==1/0&&!isNaN(c)){var g=c*f;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(f){var d=this.video;if(d){if(typeof f=="string"){var c=f[0],g=parseFloat(f.substr(1));c==="+"?f=d.currentTime+g:c==="-"&&(f=d.currentTime-g)}d.currentTime=f}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var f=this.video;if(f){var d=f.duration;if(d!==1/0&&!isNaN(d))return f.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(f){f===void 0&&(f=!0),this._codeMuted=f;var d=this.video;return d&&(d.muted=this._systemMuted?!0:f),this},isMuted:function(){return this._codeMuted},globalMute:function(f,d){this._systemMuted=d;var c=this.video;c&&(c.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(f){f===void 0&&(f=!0);var d=this.video;return this._codePaused=f,d&&!d.ended&&(f?d.paused||(this.removeEventHandlers(),d.pause()):f||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(f){return f===void 0&&(f=1),this.video&&(this.video.volume=h(f,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(f){return this.video&&(this.video.playbackRate=f),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(f){return f===void 0&&(f=!0),this.video&&(this.video.loop=f),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(f,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,f),this.videoTextureSource.setFlipY(d)),this._key=f,this.flipY=d,!!this.videoTexture},stop:function(f){f===void 0&&(f=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,f&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var f=this.video;if(f){for(f.parentNode&&f.parentNode.removeChild(f);f.hasChildNodes();)f.removeChild(f.firstChild);f.removeAttribute("autoplay"),f.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var f=this.scene.sys.game.events;f.off(n.PAUSE,this.globalPause,this),f.off(n.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(o.GLOBAL_MUTE,this.globalMute,this)}});p.exports=u},58352:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){h.videoTexture&&(v.addToRenderList(h),t.batchSprite(h,h.frame,v,a))};p.exports=x},11511:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25305),v=t(44603),a=t(23568),r=t(18471);v.register("video",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=new r(this.scene,0,0,s);return e!==void 0&&(n.add=e),h(this.scene,o,n),o})},89025:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18471),v=t(39429);v.register("video",function(a,r,n){return this.displayList.add(new h(this.scene,a,r,n))})},10247:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(29849),a=t(58352),p.exports={renderWebGL:v,renderCanvas:a}},29849:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){h.videoTexture&&(v.addToRenderList(h),h.pipeline.batchSprite(h,v,a))};p.exports=x},41481:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),v=t(96503),a=t(87902),r=t(83419),n=t(31401),e=t(95643),s=t(87841),o=t(37303),i=new r({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(u,f,d,c,g){c===void 0&&(c=1),g===void 0&&(g=c),e.call(this,u,"Zone"),this.setPosition(f,d),this.width=c,this.height=g,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,u,f){f===void 0&&(f=!0),this.width=l,this.height=u,this.updateDisplayOrigin();var d=this.input;return f&&d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=u),this},setDisplaySize:function(l,u){return this.displayWidth=l,this.displayHeight=u,this},setCircleDropZone:function(l){return this.setDropZone(new v(0,0,l),a)},setRectangleDropZone:function(l,u){return this.setDropZone(new s(0,0,l,u),o)},setDropZone:function(l,u){return this.input||this.setInteractive(l,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(l,u,f){f.addToRenderList(u)},renderWebGL:function(l,u,f){f.addToRenderList(u)}});p.exports=i},95261:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),v=t(23568),a=t(41481);h.register("zone",function(r){var n=v(r,"x",0),e=v(r,"y",0),s=v(r,"width",1),o=v(r,"height",s);return new a(this.scene,n,e,s,o)})},84175:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41481),v=t(39429);v.register("zone",function(a,r,n,e){return this.displayList.add(new h(this.scene,a,r,n,e))})},95166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=x},96503:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(87902),a=t(26241),r=t(79124),n=t(23777),e=t(28176),s=new h({initialize:function(i,l,u){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.type=n.CIRCLE,this.x=i,this.y=l,this._radius=u,this._diameter=u*2},contains:function(o,i){return v(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,l){return r(this,o,i,l)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,l){return this.x=o,this.y=i,this._radius=l,this._diameter=l*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this._diameter=o*2}},diameter:{get:function(){return this._diameter},set:function(o){this._diameter=o,this._radius=o*.5}},left:{get:function(){return this.x-this._radius},set:function(o){this.x=o+this._radius}},right:{get:function(){return this.x+this._radius},set:function(o){this.x=o-this._radius}},top:{get:function(){return this.y-this._radius},set:function(o){this.y=o+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(o){this.y=o-this._radius}}});p.exports=s},71562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(Math.PI*t.radius)};p.exports=x},92110:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r,n){return n===void 0&&(n=new h),n.x=a.x+a.radius*Math.cos(r),n.y=a.y+a.radius*Math.sin(r),n};p.exports=v},42250:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),v=function(a){return new h(a.x,a.y,a.radius)};p.exports=v},87902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(t.radius>0&&h>=t.left&&h<=t.right&&v>=t.top&&v<=t.bottom){var a=(t.x-h)*(t.x-h),r=(t.y-v)*(t.y-v);return a+r<=t.radius*t.radius}else return!1};p.exports=x},5698:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),v=function(a,r){return h(a,r.x,r.y)};p.exports=v},70588:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),v=function(a,r){return h(a,r.x,r.y)&&h(a,r.right,r.y)&&h(a,r.x,r.bottom)&&h(a,r.right,r.bottom)};p.exports=v},26394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.setTo(t.x,t.y,t.radius)};p.exports=x},76278:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};p.exports=x},2074:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=function(a,r){return r===void 0&&(r=new h),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};p.exports=v},26241:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92110),v=t(62945),a=t(36383),r=t(2141),n=function(e,s,o){o===void 0&&(o=new r);var i=v(s,0,a.PI2);return h(e,i,o)};p.exports=n},79124:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71562),v=t(92110),a=t(62945),r=t(36383),n=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=h(e)/o);for(var l=0;l<s;l++){var u=a(l/s,0,r.PI2);i.push(v(e,u))}return i};p.exports=n},50884:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t.x+=h,t.y+=v,t};p.exports=x},39212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x+=h.x,t.y+=h.y,t};p.exports=x},28176:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){r===void 0&&(r=new h);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,o=s*Math.cos(n),i=s*Math.sin(n);return r.x=a.x+o*a.radius,r.y=a.y+i*a.radius,r};p.exports=v},88911:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503);h.Area=t(95166),h.Circumference=t(71562),h.CircumferencePoint=t(92110),h.Clone=t(42250),h.Contains=t(87902),h.ContainsPoint=t(5698),h.ContainsRect=t(70588),h.CopyFrom=t(26394),h.Equals=t(76278),h.GetBounds=t(2074),h.GetPoint=t(26241),h.GetPoints=t(79124),h.Offset=t(50884),h.OffsetPoint=t(39212),h.Random=t(28176),p.exports=h},23777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=x},78874:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=x},92990:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=t.width/2,v=t.height/2,a=Math.pow(h-v,2)/Math.pow(h+v,2);return Math.PI*(h+v)*(1+3*a/(10+Math.sqrt(4-3*a)))};p.exports=x},79522:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r,n){n===void 0&&(n=new h);var e=a.width/2,s=a.height/2;return n.x=a.x+e*Math.cos(r),n.y=a.y+s*Math.sin(r),n};p.exports=v},58102:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497),v=function(a){return new h(a.x,a.y,a.width,a.height)};p.exports=v},81154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(t.width<=0||t.height<=0)return!1;var a=(h-t.x)/t.width,r=(v-t.y)/t.height;return a*=a,r*=r,a+r<.25};p.exports=x},46662:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),v=function(a,r){return h(a,r.x,r.y)};p.exports=v},1632:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81154),v=function(a,r){return h(a,r.x,r.y)&&h(a,r.right,r.y)&&h(a,r.x,r.bottom)&&h(a,r.right,r.bottom)};p.exports=v},65534:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};p.exports=x},8497:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(81154),a=t(90549),r=t(48320),n=t(23777),e=t(24820),s=new h({initialize:function(i,l,u,f){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=n.ELLIPSE,this.x=i,this.y=l,this.width=u,this.height=f},contains:function(o,i){return v(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,l){return r(this,o,i,l)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,l,u){return this.x=o,this.y=i,this.width=l,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},setSize:function(o,i){return i===void 0&&(i=o),this.width=o,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(o){this.x=o+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(o){this.y=o+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});p.exports=s},36146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};p.exports=x},23694:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=function(a,r){return r===void 0&&(r=new h),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};p.exports=v},90549:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79522),v=t(62945),a=t(36383),r=t(2141),n=function(e,s,o){o===void 0&&(o=new r);var i=v(s,0,a.PI2);return h(e,i,o)};p.exports=n},48320:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92990),v=t(79522),a=t(62945),r=t(36383),n=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=h(e)/o);for(var l=0;l<s;l++){var u=a(l/s,0,r.PI2);i.push(v(e,u))}return i};p.exports=n},73424:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t.x+=h,t.y+=v,t};p.exports=x},44808:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x+=h.x,t.y+=h.y,t};p.exports=x},24820:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){r===void 0&&(r=new h);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(n)*a.width/2,r.y=a.y+e*Math.sin(n)*a.height/2,r};p.exports=v},49203:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8497);h.Area=t(78874),h.Circumference=t(92990),h.CircumferencePoint=t(79522),h.Clone=t(58102),h.Contains=t(81154),h.ContainsPoint=t(46662),h.ContainsRect=t(1632),h.CopyFrom=t(65534),h.Equals=t(36146),h.GetBounds=t(23694),h.GetPoint=t(90549),h.GetPoints=t(48320),h.Offset=t(73424),h.OffsetPoint=t(44808),h.Random=t(24820),p.exports=h},55738:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23777),v=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=v(!1,a,h),p.exports=a},2044:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20339),v=function(a,r){return h(a.x,a.y,r.x,r.y)<=a.radius+r.radius};p.exports=v},81491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=h.width/2,a=h.height/2,r=Math.abs(t.x-h.x-v),n=Math.abs(t.y-h.y-a),e=v+t.radius,s=a+t.radius;if(r>e||n>s)return!1;if(r<=v||n<=a)return!0;var o=r-v,i=n-a,l=o*o,u=i*i,f=t.radius*t.radius;return l+u<=f};p.exports=x},63376:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=t(2044),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.x,o=r.y,i=r.radius,l=n.x,u=n.y,f=n.radius,d,c,g,m,y;if(o===u)y=(f*f-i*i-l*l+s*s)/(2*(s-l)),d=1,c=-2*u,g=l*l+y*y-2*l*y+u*u-f*f,m=c*c-4*d*g,m===0?e.push(new h(y,-c/(2*d))):m>0&&(e.push(new h(y,(-c+Math.sqrt(m))/(2*d))),e.push(new h(y,(-c-Math.sqrt(m))/(2*d))));else{var T=(s-l)/(o-u),S=(f*f-i*i-l*l+s*s-u*u+o*o)/(2*(o-u));d=T*T+1,c=2*o*T-2*S*T-2*s,g=s*s+o*o+S*S-i*i-2*o*S,m=c*c-4*d*g,m===0?(y=-c/(2*d),e.push(new h(y,S-y*T))):m>0&&(y=(-c+Math.sqrt(m))/(2*d),e.push(new h(y,S-y*T)),y=(-c-Math.sqrt(m))/(2*d),e.push(new h(y,S-y*T)))}}return e};p.exports=a},97439:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),v=t(81491),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC(),l=n.getLineD();h(s,r,e),h(o,r,e),h(i,r,e),h(l,r,e)}return e};p.exports=a},4042:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=t(80462),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.x1,o=r.y1,i=r.x2,l=r.y2,u=n.x,f=n.y,d=n.radius,c=i-s,g=l-o,m=s-u,y=o-f,T=c*c+g*g,S=2*(c*m+g*y),C=m*m+y*y-d*d,P=S*S-4*T*C,b,w;if(P===0){var M=-S/(2*T);b=s+M*c,w=o+M*g,M>=0&&M<=1&&e.push(new h(b,w))}else if(P>0){var D=(-S-Math.sqrt(P))/(2*T);b=s+D*c,w=o+D*g,D>=0&&D<=1&&e.push(new h(b,w));var O=(-S+Math.sqrt(P))/(2*T);b=s+O*c,w=o+O*g,O>=0&&O<=1&&e.push(new h(b,w))}}return e};p.exports=a},36100:(p,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),v=function(a,r,n,e){n===void 0&&(n=!1);var s=a.x1,o=a.y1,i=a.x2,l=a.y2,u=r.x1,f=r.y1,d=r.x2,c=r.y2,g=i-s,m=l-o,y=d-u,T=c-f,S=g*T-m*y;if(S===0)return null;var C,P,b;if(n){if(C=(g*(f-o)+m*(s-u))/(y*m-T*g),g!==0)P=(u+y*C-s)/g;else if(m!==0)P=(f+T*C-o)/m;else return null;if(P<0||C<0||C>1)return null;b=P}else{if(C=((u-s)*T-(f-o)*y)/S,P=((o-f)*g-(s-u)*m)/S,C<0||C>1||P<0||P>1)return null;b=C}return e===void 0&&(e=new h),e.set(s+g*b,o+m*b,b)};p.exports=v},3073:(p,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36100),v=t(23031),a=t(25836),r=new v,n=new a,e=function(s,o,i,l){i===void 0&&(i=!1),l===void 0&&(l=new a);var u=!1;l.set(),n.set();for(var f=o[o.length-1],d=0;d<o.length;d++){var c=o[d];r.setTo(f.x,f.y,c.x,c.y),f=c,h(s,r,i,n)&&(!u||n.z<l.z)&&(l.copy(n),u=!0)}return u?l:null};p.exports=e},56362:(p,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),v=t(61369),a=t(3073),r=new h,n=function(e,s,o,i){i===void 0&&(i=new v),Array.isArray(s)||(s=[s]);var l=!1;i.set(),r.set();for(var u=0;u<s.length;u++)a(e,s[u].points,o,r)&&(!l||r.z<i.z)&&(i.set(r.x,r.y,r.z,u),l=!0);return l?i:null};p.exports=n},60646:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=t(76112),a=t(92773),r=function(n,e,s){if(s===void 0&&(s=[]),a(n,e))for(var o=e.getLineA(),i=e.getLineB(),l=e.getLineC(),u=e.getLineD(),f=[new h,new h,new h,new h],d=[v(o,n,f[0]),v(i,n,f[1]),v(l,n,f[2]),v(u,n,f[3])],c=0;c<4;c++)d[c]&&s.push(f[c]);return s};p.exports=r},71147:(p,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61369),v=t(56362),a=t(23031),r=new a;function n(o,i,l,u,f){var d=Math.cos(o),c=Math.sin(o);r.setTo(i,l,i+d,l+c);var g=v(r,u,!0);g&&f.push(new h(g.x,g.y,o,g.w))}function e(o,i){return o.z-i.z}var s=function(o,i,l){Array.isArray(l)||(l=[l]);for(var u=[],f=[],d=0;d<l.length;d++)for(var c=l[d].points,g=0;g<c.length;g++){var m=Math.atan2(c[g].y-i,c[g].x-o);f.indexOf(m)===-1&&(n(m,o,i,l,u),n(m-1e-5,o,i,l,u),n(m+1e-5,o,i,l,u),f.push(m))}return u.sort(e)};p.exports=s},68389:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=t(59996),a=function(r,n,e){return e===void 0&&(e=new h),v(r,n)&&(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y),e};p.exports=a},52784:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60646),v=t(59996),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC(),l=r.getLineD();h(s,n,e),h(o,n,e),h(i,n,e),h(l,n,e)}return e};p.exports=a},26341:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89265),v=t(60646),a=function(r,n,e){if(e===void 0&&(e=[]),h(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();v(s,r,e),v(o,r,e),v(i,r,e)}return e};p.exports=a},38720:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(4042),v=t(67636),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();h(s,n,e),h(o,n,e),h(i,n,e)}return e};p.exports=a},13882:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=t(2822),a=t(76112),r=function(n,e,s){if(s===void 0&&(s=[]),v(n,e))for(var o=n.getLineA(),i=n.getLineB(),l=n.getLineC(),u=[new h,new h,new h],f=[a(o,e,u[0]),a(i,e,u[1]),a(l,e,u[2])],d=0;d<3;d++)f[d]&&s.push(u[d]);return s};p.exports=r},75636:(p,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82944),v=t(13882),a=function(r,n,e){if(e===void 0&&(e=[]),h(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();v(r,s,e),v(r,o,e),v(r,i,e)}return e};p.exports=a},80462:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),v=t(2141),a=new v,r=function(n,e,s){if(s===void 0&&(s=a),h(e,n.x1,n.y1))return s.x=n.x1,s.y=n.y1,!0;if(h(e,n.x2,n.y2))return s.x=n.x2,s.y=n.y2,!0;var o=n.x2-n.x1,i=n.y2-n.y1,l=e.x-n.x1,u=e.y-n.y1,f=o*o+i*i,d=o,c=i;if(f>0){var g=(l*o+u*i)/f;d*=g,c*=g}s.x=n.x1+d,s.y=n.y1+c;var m=d*d+c*c;return m<=f&&d*o+c*i>=0&&h(e,s.x,s.y)};p.exports=r},76112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=t.x1,r=t.y1,n=t.x2,e=t.y2,s=h.x1,o=h.y1,i=h.x2,l=h.y2;if(a===n&&r===e||s===i&&o===l)return!1;var u=(l-o)*(n-a)-(i-s)*(e-r);if(u===0)return!1;var f=((i-s)*(r-o)-(l-o)*(a-s))/u,d=((n-a)*(r-o)-(e-r)*(a-s))/u;return f<0||f>1||d<0||d>1?!1:(v&&(v.x=a+f*(n-a),v.y=r+f*(e-r)),!0)};p.exports=x},92773:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.x1,a=t.y1,r=t.x2,n=t.y2,e=h.x,s=h.y,o=h.right,i=h.bottom,l=0;if(v>=e&&v<=o&&a>=s&&a<=i||r>=e&&r<=o&&n>=s&&n<=i)return!0;if(v<e&&r>=e){if(l=a+(n-a)*(e-v)/(r-v),l>s&&l<=i)return!0}else if(v>o&&r<=o&&(l=a+(n-a)*(o-v)/(r-v),l>=s&&l<=i))return!0;if(a<s&&n>=s){if(l=v+(r-v)*(s-a)/(n-a),l>=e&&l<=o)return!0}else if(a>i&&n<=i&&(l=v+(r-v)*(i-a)/(n-a),l>=e&&l<=o))return!0;return!1};p.exports=x},16204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){v===void 0&&(v=1);var a=h.x1,r=h.y1,n=h.x2,e=h.y2,s=t.x,o=t.y,i=(n-a)*(n-a)+(e-r)*(e-r);if(i===0)return!1;var l=((s-a)*(n-a)+(o-r)*(e-r))/i;if(l<0)return Math.sqrt((a-s)*(a-s)+(r-o)*(r-o))<=v;if(l>=0&&l<=1){var u=((r-o)*(n-a)-(a-s)*(e-r))/i;return Math.abs(u)*Math.sqrt(i)<=v}else return Math.sqrt((n-s)*(n-s)+(e-o)*(e-o))<=v};p.exports=x},14199:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16204),v=function(a,r){if(!h(a,r))return!1;var n=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),o=Math.max(r.y1,r.y2);return a.x>=n&&a.x<=e&&a.y>=s&&a.y<=o};p.exports=v},59996:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};p.exports=x},89265:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),v=t(37303),a=t(48653),r=t(77493),n=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var o=s.getLineA(),i=s.getLineB(),l=s.getLineC();if(v(e,o.x1,o.y1)||v(e,o.x2,o.y2)||v(e,i.x1,i.y1)||v(e,i.x2,i.y2)||v(e,l.x1,l.y1)||v(e,l.x2,l.y2))return!0;var u=e.getLineA(),f=e.getLineB(),d=e.getLineC(),c=e.getLineD();if(h(o,u)||h(o,f)||h(o,d)||h(o,c)||h(i,u)||h(i,f)||h(i,d)||h(i,c)||h(l,u)||h(l,f)||h(l,d)||h(l,c))return!0;var g=r(e),m=a(s,g,!0);return m.length>0};p.exports=n},84411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r,n){return n===void 0&&(n=0),!(h>t.right+n||v<t.left-n||a>t.bottom+n||r<t.top-n)};p.exports=x},67636:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80462),v=t(10690),a=function(r,n){return r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top?!1:!!(v(r,n.x,n.y)||h(r.getLineA(),n)||h(r.getLineB(),n)||h(r.getLineC(),n))};p.exports=a},2822:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76112),v=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||h(a.getLineA(),r)||h(a.getLineB(),r)||h(a.getLineC(),r))};p.exports=v},82944:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48653),v=t(71694),a=t(76112),r=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var s=n.getLineA(),o=n.getLineB(),i=n.getLineC(),l=e.getLineA(),u=e.getLineB(),f=e.getLineC();if(a(s,l)||a(s,u)||a(s,f)||a(o,l)||a(o,u)||a(o,f)||a(i,l)||a(i,u)||a(i,f))return!0;var d=v(n),c=h(e,d,!0);return c.length>0||(d=v(e),c=h(n,d,!0),c.length>0)};p.exports=r},91865:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=x},84993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){h===void 0&&(h=1),v===void 0&&(v=[]);var a=Math.round(t.x1),r=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(n-a),o=Math.abs(e-r),i=a<n?1:-1,l=r<e?1:-1,u=s-o;v.push({x:a,y:r});for(var f=1;!(a===n&&r===e);){var d=u<<1;d>-o&&(u-=o,a+=i),d<s&&(u+=s,r+=l),f%h===0&&v.push({x:a,y:r}),f++}return v};p.exports=x},36469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=h-(t.x1+t.x2)/2,r=v-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};p.exports=x},31116:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031),v=function(a){return new h(a.x1,a.y1,a.x2,a.y2)};p.exports=v},59944:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=x},59220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};p.exports=x},78177:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),v=function(a,r,n){n===void 0&&(n=r);var e=h(a),s=a.x2-a.x1,o=a.y2-a.y1;return r&&(a.x1=a.x1-s/e*r,a.y1=a.y1-o/e*r),n&&(a.x2=a.x2+s/e*n,a.y2=a.y2+o/e*n),a};p.exports=v},26708:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),v=t(6113),a=t(2141),r=function(n,e,s,o,i){o===void 0&&(o=0),i===void 0&&(i=[]);var l=[],u=n.x1,f=n.y1,d=n.x2-u,c=n.y2-f,g=v(e,i),m,y,T=s-1;for(m=0;m<T;m++)y=g(m/T),l.push(new a(u+d*y,f+c*y));if(y=g(1),l.push(new a(u+d*y,f+c*y)),o>0){var S=l[0],C=[S];for(m=1;m<l.length-1;m++){var P=l[m];h(S,P)>=o&&(C.push(P),S=P)}var b=l[l.length-1];return h(S,b)<o&&C.pop(),C.push(b),C}else return l};p.exports=r},32125:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){return r===void 0&&(r=new h),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};p.exports=v},99569:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r,n){n===void 0&&(n=new h);var e=a.x1,s=a.y1,o=a.x2,i=a.y2,l=(o-e)*(o-e)+(i-s)*(i-s);if(l===0)return n;var u=((r.x-e)*(o-e)+(r.y-s)*(i-s))/l;return n.x=e+u*(o-e),n.y=s+u*(i-s),n};p.exports=v},34638:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=t(91938),a=t(2141),r=function(n,e){e===void 0&&(e=new a);var s=v(n)-h.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};p.exports=r},13151:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r,n){return n===void 0&&(n=new h),n.x=a.x1+(a.x2-a.x1)*r,n.y=a.y1+(a.y2-a.y1)*r,n};p.exports=v},15258:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),v=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=h(r)/e);for(var o=r.x1,i=r.y1,l=r.x2,u=r.y2,f=0;f<n;f++){var d=f/n,c=o+(l-o)*d,g=i+(u-i)*d;s.push(new v(c,g))}return s};p.exports=a},26408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.x1,a=t.y1,r=t.x2,n=t.y2,e=(r-v)*(r-v)+(n-a)*(n-a);if(e===0)return!1;var s=((a-h.y)*(r-v)-(v-h.x)*(n-a))/e;return Math.abs(s)*Math.sqrt(e)};p.exports=x},98770:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.y1-t.y2)};p.exports=x},35001:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=x},23031:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(13151),a=t(15258),r=t(23777),n=t(65822),e=t(26099),s=new h({initialize:function(i,l,u,f){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),this.type=r.LINE,this.x1=i,this.y1=l,this.x2=u,this.y2=f},getPoint:function(o,i){return v(this,o,i)},getPoints:function(o,i,l){return a(this,o,i,l)},getRandomPoint:function(o){return n(this,o)},setTo:function(o,i,l,u){return o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.x1=o,this.y1=i,this.x2=l,this.y2=u,this},setFromObjects:function(o,i){return this.x1=o.x,this.y1=o.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(o){return o===void 0&&(o=new e),o.set(this.x1,this.y1),o},getPointB:function(o){return o===void 0&&(o=new e),o.set(this.x2,this.y2),o},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(o){this.x1<=this.x2?this.x1=o:this.x2=o}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(o){this.x1>this.x2?this.x1=o:this.x2=o}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(o){this.y1<=this.y2?this.y1=o:this.y2=o}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(o){this.y1>this.y2?this.y1=o:this.y2=o}}});p.exports=s},64795:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=t(15994),a=t(91938),r=function(n){var e=a(n)-h.TAU;return v(e,-Math.PI,Math.PI)};p.exports=r},52616:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=t(91938),a=function(r){return Math.cos(v(r)-h.TAU)};p.exports=a},87231:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=t(91938),a=function(r){return Math.sin(v(r)-h.TAU)};p.exports=a},89662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t.x1+=h,t.y1+=v,t.x2+=h,t.y2+=v,t};p.exports=x},71165:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=x},65822:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){r===void 0&&(r=new h);var n=Math.random();return r.x=a.x1+n*(a.x2-a.x1),r.y=a.y1+n*(a.y2-a.y1),r};p.exports=v},69777:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91938),v=t(64795),a=function(r,n){return 2*v(n)-Math.PI-h(r)};p.exports=a},39706:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),v=function(a,r){var n=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return h(a,n,e,r)};p.exports=v},82585:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64400),v=function(a,r,n){return h(a,r.x,r.y,n)};p.exports=v},64400:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-h,s=t.y1-v;return t.x1=e*r-s*n+h,t.y1=e*n+s*r+v,e=t.x2-h,s=t.y2-v,t.x2=e*r-s*n+h,t.y2=e*n+s*r+v,t};p.exports=x},62377:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){return t.x1=h,t.y1=v,t.x2=h+Math.cos(a)*r,t.y2=v+Math.sin(a)*r,t};p.exports=x},71366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=x},10809:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.x1-t.x2)};p.exports=x},2529:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23031);h.Angle=t(91938),h.BresenhamPoints=t(84993),h.CenterOn=t(36469),h.Clone=t(31116),h.CopyFrom=t(59944),h.Equals=t(59220),h.Extend=t(78177),h.GetEasedPoints=t(26708),h.GetMidPoint=t(32125),h.GetNearestPoint=t(99569),h.GetNormal=t(34638),h.GetPoint=t(13151),h.GetPoints=t(15258),h.GetShortestDistance=t(26408),h.Height=t(98770),h.Length=t(35001),h.NormalAngle=t(64795),h.NormalX=t(52616),h.NormalY=t(87231),h.Offset=t(89662),h.PerpSlope=t(71165),h.Random=t(65822),h.ReflectAngle=t(69777),h.Rotate=t(39706),h.RotateAroundPoint=t(82585),h.RotateAroundXY=t(64400),h.SetToAngle=t(62377),h.Slope=t(71366),h.Width=t(10809),p.exports=h},83997:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(87841),a=t(26099);function r(e,s,o,i){var l=e-o,u=s-i,f=l*l+u*u;return Math.sqrt(f)}var n=new h({initialize:function(s,o,i){this.vertex1=s,this.vertex2=o,this.vertex3=i,this.bounds=new v,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,o=this.vertex2,i=this.vertex3,l,u,f,d,c,g;e?(l=s.x,u=s.y,f=o.x,d=o.y,c=i.x,g=i.y):(l=s.vx,u=s.vy,f=o.vx,d=o.vy,c=i.vx,g=i.vy);var m=r(c,g,f,d),y=r(l,u,c,g),T=r(f,d,l,u),S=m+y+T;return this._inCenter.set((l*m+f*y+c*T)/S,(u*m+d*y+g*T)/S)},contains:function(e,s,o){var i=this.vertex1,l=this.vertex2,u=this.vertex3,f=i.vx,d=i.vy,c=l.vx,g=l.vy,m=u.vx,y=u.vy;if(o){var T=o.a,S=o.b,C=o.c,P=o.d,b=o.e,w=o.f;f=i.vx*T+i.vy*C+b,d=i.vx*S+i.vy*P+w,c=l.vx*T+l.vy*C+b,g=l.vx*S+l.vy*P+w,m=u.vx*T+u.vy*C+b,y=u.vx*S+u.vy*P+w}var M=m-f,D=y-d,O=c-f,U=g-d,W=e-f,Y=s-d,X=M*M+D*D,N=M*O+D*U,V=M*W+D*Y,I=O*O+U*U,B=O*W+U*Y,G=X*I-N*N,H=G===0?0:1/G,k=(I*V-N*B)*H,Z=(X*B-N*V)*H;return k>=0&&Z>=0&&k+Z<1},isCounterClockwise:function(e){var s=this.vertex1,o=this.vertex2,i=this.vertex3,l=(o.vx-s.vx)*(i.vy-s.vy)-(o.vy-s.vy)*(i.vx-s.vx);return e<=0?l>=0:l<0},load:function(e,s,o,i,l){return o=this.vertex1.load(e,s,o,i,l),o=this.vertex2.load(e,s,o,i,l),o=this.vertex3.load(e,s,o,i,l),o},transformCoordinatesLocal:function(e,s,o,i){return this.vertex1.transformCoordinatesLocal(e,s,o,i),this.vertex2.transformCoordinatesLocal(e,s,o,i),this.vertex3.transformCoordinatesLocal(e,s,o,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,o.vx),i.y=Math.min(e.vy,s.vy,o.vy),i.width=Math.max(e.vx,s.vx,o.vx)-i.x,i.height=Math.max(e.vy,s.vy,o.vy)-i.y,this},isInView:function(e,s,o,i,l,u,f,d,c,g,m){this.update(i,l,u,f,d,c,g,m);var y=this.vertex1,T=this.vertex2,S=this.vertex3;if(y.ta<=0&&T.ta<=0&&S.ta<=0||s&&!this.isCounterClockwise(o))return!1;var C=this.bounds;C.x=Math.min(y.tx,T.tx,S.tx),C.y=Math.min(y.ty,T.ty,S.ty),C.width=Math.max(y.tx,T.tx,S.tx)-C.x,C.height=Math.max(y.ty,T.ty,S.ty)-C.y;var P=e.x+e.width,b=e.y+e.height;return C.width<=0||C.height<=0||e.width<=0||e.height<=0?!1:!(C.right<e.x||C.bottom<e.y||C.x>P||C.y>b)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,o,i,l,u,f,d){return this.vertex1.update(s,o,i,l,u,f,d,e),this.vertex2.update(s,o,i,l,u,f,d,e),this.vertex3.update(s,o,i,l,u,f,d,e),this},translate:function(e,s){s===void 0&&(s=0);var o=this.vertex1,i=this.vertex2,l=this.vertex3;return o.x+=e,o.y+=s,i.x+=e,i.y+=s,l.x+=e,l.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.alpha+s.alpha+o.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.vz+s.vz+o.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=n},48803:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),v=t(95540),a=t(37867),r=t(25836),n=t(39318),e=new r,s=new r,o=new a,i=function(l){var u=v(l,"mesh"),f=v(l,"texture",null),d=v(l,"frame"),c=v(l,"width",1),g=v(l,"height",c),m=v(l,"widthSegments",1),y=v(l,"heightSegments",m),T=v(l,"x",0),S=v(l,"y",0),C=v(l,"z",0),P=v(l,"rotateX",0),b=v(l,"rotateY",0),w=v(l,"rotateZ",0),M=v(l,"zIsUp",!0),D=v(l,"isOrtho",u?u.dirtyCache[11]:!1),O=v(l,"colors",[16777215]),U=v(l,"alphas",[1]),W=v(l,"tile",!1),Y=v(l,"flipY",!1),X=v(l,"width",null),N={faces:[],verts:[]};e.set(T,S,C),s.set(P,b,w),o.fromRotationXYTranslation(s,e,M);var V;if(!f&&u)f=u.texture,d||(V=u.frame);else if(u&&typeof f=="string")f=u.scene.sys.textures.get(f);else if(!f)return N;V||(V=f.get(d)),!X&&D&&f&&u&&(c=V.width/u.height,g=V.height/u.height);var I=c/2,B=g/2,G=Math.floor(m),H=Math.floor(y),k=G+1,Z=H+1,J=c/G,j=g/H,_=[],tt=[],et,rt,at=0,st=1,ct=0,pt=1;V&&(at=V.u0,st=V.u1,Y?(ct=V.v1,pt=V.v0):(ct=V.v0,pt=V.v1));var vt=st-at,nt=pt-ct;for(rt=0;rt<Z;rt++){var lt=rt*j-B;for(et=0;et<k;et++){var ht=et*J-I;tt.push(ht,-lt);var Tt=at+vt*(et/G),wt=ct+nt*(rt/H);_.push(Tt,wt)}}Array.isArray(O)||(O=[O]),Array.isArray(U)||(U=[U]);var It=0,Ct=0;for(rt=0;rt<H;rt++)for(et=0;et<G;et++){var At=(et+k*rt)*2,Nt=(et+k*(rt+1))*2,Ht=(et+1+k*(rt+1))*2,Lt=(et+1+k*rt)*2,zt=O[Ct],Vt=U[It],Jt=new n(tt[At],tt[At+1],0,_[At],_[At+1],zt,Vt).transformMat4(o),ge=new n(tt[Nt],tt[Nt+1],0,_[Nt],_[Nt+1],zt,Vt).transformMat4(o),me=new n(tt[Lt],tt[Lt+1],0,_[Lt],_[Lt+1],zt,Vt).transformMat4(o),ye=new n(tt[Nt],tt[Nt+1],0,_[Nt],_[Nt+1],zt,Vt).transformMat4(o),xe=new n(tt[Ht],tt[Ht+1],0,_[Ht],_[Ht+1],zt,Vt).transformMat4(o),Te=new n(tt[Lt],tt[Lt+1],0,_[Lt],_[Lt+1],zt,Vt).transformMat4(o);W&&(Jt.setUVs(at,pt),ge.setUVs(at,ct),me.setUVs(st,pt),ye.setUVs(at,ct),xe.setUVs(st,ct),Te.setUVs(st,pt)),Ct++,Ct===O.length&&(Ct=0),It++,It===U.length&&(It=0),N.verts.push(Jt,ge,me,ye,xe,Te),N.faces.push(new h(Jt,ge,me),new h(ye,xe,Te))}return u&&(u.faces=u.faces.concat(N.faces),u.vertices=u.vertices.concat(N.verts)),N};p.exports=i},34684:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),v=t(37867),a=t(25836),r=t(39318),n=new a,e=new a,s=new v,o=function(i,l,u,f,d,c,g,m,y,T){u===void 0&&(u=1),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=!0);var S={faces:[],verts:[]},C=i.materials;n.set(f,d,c),e.set(g,m,y),s.fromRotationXYTranslation(e,n,T);for(var P=0;P<i.models.length;P++)for(var b=i.models[P],w=b.vertices,M=b.textureCoords,D=b.faces,O=0;O<D.length;O++){var U=D[O],W=U.vertices[0],Y=U.vertices[1],X=U.vertices[2],N=w[W.vertexIndex],V=w[Y.vertexIndex],I=w[X.vertexIndex],B=W.textureCoordsIndex,G=Y.textureCoordsIndex,H=X.textureCoordsIndex,k=B===-1?{u:0,v:1}:M[B],Z=G===-1?{u:0,v:0}:M[G],J=H===-1?{u:1,v:1}:M[H],j=16777215;U.material!==""&&C[U.material]&&(j=C[U.material]);var _=new r(N.x*u,N.y*u,N.z*u,k.u,k.v,j).transformMat4(s),tt=new r(V.x*u,V.y*u,V.z*u,Z.u,Z.v,j).transformMat4(s),et=new r(I.x*u,I.y*u,I.z*u,J.u,J.v,j).transformMat4(s);S.verts.push(_,tt,et),S.faces.push(new h(_,tt,et))}return l&&(l.faces=l.faces.concat(S.faces),l.vertices=l.vertices.concat(S.verts)),S};p.exports=o},92515:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83997),v=t(39318),a=function(r,n,e,s,o,i,l,u){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),l===void 0&&(l=1),u===void 0&&(u=!1),r.length!==n.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var f={faces:[],vertices:[]},d,c,g,m,y,T,S,C,P,b,w,M=s?3:2,D=Array.isArray(i),O=Array.isArray(l);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var U=e[d],W=e[d]*2,Y=e[d]*M;c=r[Y],g=r[Y+1],m=s?r[Y+2]:0,y=n[W],T=n[W+1],u&&(T=1-T),S=D?i[U]:i,C=O?l[U]:l,P=0,b=0,w=0,o&&(P=o[Y],b=o[Y+1],w=s?o[Y+2]:0),f.vertices.push(new v(c,g,m,y,T,S,C,P,b,w))}else{var X=0,N=0;for(d=0;d<r.length;d+=M)c=r[d],g=r[d+1],m=s?r[d+2]:0,y=n[X],T=n[X+1],S=D?i[N]:i,C=O?l[N]:l,P=0,b=0,w=0,o&&(P=o[d],b=o[d+1],w=s?o[d+2]:0),f.vertices.push(new v(c,g,m,y,T,S,C,P,b,w)),X+=2,N++}for(d=0;d<f.vertices.length;d+=3){var V=f.vertices[d],I=f.vertices[d+1],B=f.vertices[d+2];f.faces.push(new h(V,I,B))}return f};p.exports=a},85048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,t="untitled",h="",v="";function a(c){var g=c.indexOf("#");return g>-1?c.substring(0,g):c}function r(c){return c.models.length===0&&c.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",c.models[c.models.length-1]}function n(c,g){var m=c.length>=2?c[1]:t;g.models.push({faces:[],name:m,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function e(c){c.length===2&&(h=c[1])}function s(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,T=m>=3?parseFloat(c[2]):0,S=m>=4?parseFloat(c[3]):0;r(g).vertices.push({x:y,y:T,z:S})}function o(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,T=m>=3?parseFloat(c[2]):0,S=m>=4?parseFloat(c[3]):0;isNaN(y)&&(y=0),isNaN(T)&&(T=0),isNaN(S)&&(S=0),x&&(T=1-T),r(g).textureCoords.push({u:y,v:T,w:S})}function i(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,T=m>=3?parseFloat(c[2]):0,S=m>=4?parseFloat(c[3]):0;r(g).vertexNormals.push({x:y,y:T,z:S})}function l(c,g){var m=c.length-1;if(!(m<3)){for(var y={group:h,material:v,vertices:[]},T=0;T<m;T++){var S=c[T+1],C=S.split("/"),P=C.length;if(!(P<1||P>3)){var b=0,w=0,M=0;b=parseInt(C[0],10),P>1&&C[1]!==""&&(w=parseInt(C[1],10)),P>2&&(M=parseInt(C[2],10)),b!==0&&(b<0&&(b=r(g).vertices.length+1+b),w-=1,b-=1,M-=1,y.vertices.push({textureCoordsIndex:w,vertexIndex:b,vertexNormalIndex:M}))}}r(g).faces.push(y)}}function u(c,g){c.length>=2&&g.materialLibraries.push(c[1])}function f(c){c.length>=2&&(v=c[1])}var d=function(c,g){g===void 0&&(g=!0),x=g;var m={materials:{},materialLibraries:[],models:[]};h="",v="";for(var y=c.split(`
`),T=0;T<y.length;T++){var S=a(y[T]),C=S.replace(/\s\s+/g," ").trim().split(" ");switch(C[0].toLowerCase()){case"o":n(C,m);break;case"g":e(C);break;case"v":s(C,m);break;case"vt":o(C,m);break;case"vn":i(C,m);break;case"f":l(C,m);break;case"mtllib":u(C,m);break;case"usemtl":f(C);break}}return m};p.exports=d},61485:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37589),v=function(a){for(var r={},n=a.split(`
`),e="",s=0;s<n.length;s++){var o=n[s].trim();if(!(o.indexOf("#")===0||o==="")){var i=o.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var l=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):l,f=i.length>=3?Math.floor(i[3]*255):l;r[e]=h(l,u,f);break}}}}return r};p.exports=v},92570:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r,n;if(v===void 0&&a===void 0){var e=t.getInCenter();r=e.x,n=e.y}var s=Math.cos(h),o=Math.sin(h),i=t.vertex1,l=t.vertex2,u=t.vertex3,f=i.x-r,d=i.y-n;i.set(f*s-d*o+r,f*o+d*s+n),f=l.x-r,d=l.y-n,l.set(f*s-d*o+r,f*o+d*s+n),f=u.x-r,d=u.y-n,u.set(f*s-d*o+r,f*o+d*s+n)};p.exports=x},39318:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(70554),a=t(25836),r=new h({Extends:a,initialize:function(e,s,o,i,l,u,f,d,c,g){u===void 0&&(u=16777215),f===void 0&&(f=1),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),a.call(this,e,s,o),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=c,this.nz=g,this.u=i,this.v=l,this.color=u,this.alpha=f,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=l},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,s,o){var i=this.x,l=this.y,u=this.z,f=n.val,d=i*f[0]+l*f[4]+u*f[8]+f[12],c=i*f[1]+l*f[5]+u*f[9]+f[13],g=i*f[2]+l*f[6]+u*f[10]+f[14],m=i*f[3]+l*f[7]+u*f[11]+f[15];this.vx=d/m*e,this.vy=-(c/m)*s,o<=0?this.vz=g/m:this.vz=-(g/m)},resize:function(n,e,s,o,i,l){return this.x=n,this.y=e,this.vx=this.x*s,this.vy=-this.y*o,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),l<.5?this.vy+=o*(.5-l):l>.5&&(this.vy-=o*(l-.5)),this},update:function(n,e,s,o,i,l,u,f){var d=this.vx*n+this.vy*s+i,c=this.vx*e+this.vy*o+l;return u&&(d=Math.round(d),c=Math.round(c)),this.tx=d,this.ty=c,this.ta=this.alpha*f,this},load:function(n,e,s,o,i){return n[++s]=this.tx,n[++s]=this.ty,n[++s]=this.tu,n[++s]=this.tv,n[++s]=o,n[++s]=i,e[++s]=v.getTintAppendFloatAlpha(this.color,this.ta),s}});p.exports=r},73090:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};p.exports=h},96550:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=x},99706:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a){return new h(a.x,a.y)};p.exports=v},68010:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.setTo(t.x,t.y)};p.exports=x},27814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x===h.x&&t.y===h.y};p.exports=x},73565:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=x},87555:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){if(r===void 0&&(r=new h),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var n=a.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<n;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=n,r.y/=n}return r};p.exports=v},28793:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=x},44405:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x*t.x+t.y*t.y};p.exports=x},20873:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=function(a,r){r===void 0&&(r=new h);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var l=a[i];l.x>n&&(n=l.x),l.x<e&&(e=l.x),l.y>s&&(s=l.y),l.y<o&&(o=l.y)}return r.x=e,r.y=o,r.width=n-e,r.height=s-o,r};p.exports=v},26152:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r,n,e){return n===void 0&&(n=0),e===void 0&&(e=new h),e.x=a.x+(r.x-a.x)*n,e.y=a.y+(r.y-a.y)*n,e};p.exports=v},55767:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(t.y,t.x)};p.exports=x},79432:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){return r===void 0&&(r=new h),r.setTo(-a.x,-a.y)};p.exports=v},2141:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23777),a=new h({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=v.POINT,this.x=n,this.y=e},setTo:function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this}});p.exports=a},72930:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=t(44405),a=function(r,n,e){e===void 0&&(e=new h);var s=r.x*n.x+r.y*n.y,o=s/v(n);return o!==0&&(e.x=o*n.x,e.y=o*n.y),e};p.exports=a},62880:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r,n){n===void 0&&(n=new h);var e=a.x*r.x+a.y*r.y;return e!==0&&(n.x=e*r.x,n.y=e*r.y),n};p.exports=v},15093:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28793),v=function(a,r){if(a.x!==0||a.y!==0){var n=h(a);a.x/=n,a.y/=n}return a.x*=r,a.y*=r,a};p.exports=v},43711:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);h.Ceil=t(96550),h.Clone=t(99706),h.CopyFrom=t(68010),h.Equals=t(27814),h.Floor=t(73565),h.GetCentroid=t(87555),h.GetMagnitude=t(28793),h.GetMagnitudeSq=t(44405),h.GetRectangleFromPoints=t(20873),h.Interpolate=t(26152),h.Invert=t(55767),h.Negative=t(79432),h.Project=t(72930),h.ProjectUnit=t(62880),h.SetMagnitude=t(15093),p.exports=h},12306:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717),v=function(a){return new h(a.points)};p.exports=v},63814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){for(var a=!1,r=-1,n=t.points.length-1;++r<t.points.length;n=r){var e=t.points[r].x,s=t.points[r].y,o=t.points[n].x,i=t.points[n].y;(s<=v&&v<i||i<=v&&v<s)&&h<(o-e)*(v-s)/(i-s)+e&&(a=!a)}return a};p.exports=x},99338:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63814),v=function(a,r){return h(a,r.x,r.y)};p.exports=v},94811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(N,V,I){I=I||2;var B=V&&V.length,G=B?V[0]*I:N.length,H=t(N,0,G,I,!0),k=[];if(!H||H.next===H.prev)return k;var Z,J,j,_,tt,et,rt;if(B&&(H=s(N,V,H,I)),N.length>80*I){Z=j=N[0],J=_=N[1];for(var at=I;at<G;at+=I)tt=N[at],et=N[at+1],tt<Z&&(Z=tt),et<J&&(J=et),tt>j&&(j=tt),et>_&&(_=et);rt=Math.max(j-Z,_-J),rt=rt!==0?32767/rt:0}return v(H,k,I,Z,J,rt,0),k}function t(N,V,I,B,G){var H,k;if(G===X(N,V,I,B)>0)for(H=V;H<I;H+=B)k=U(H,N[H],N[H+1],k);else for(H=I-B;H>=V;H-=B)k=U(H,N[H],N[H+1],k);return k&&S(k,k.next)&&(W(k),k=k.next),k}function h(N,V){if(!N)return N;V||(V=N);var I=N,B;do if(B=!1,!I.steiner&&(S(I,I.next)||T(I.prev,I,I.next)===0)){if(W(I),I=V=I.prev,I===I.next)break;B=!0}else I=I.next;while(B||I!==V);return V}function v(N,V,I,B,G,H,k){if(N){!k&&H&&f(N,B,G,H);for(var Z=N,J,j;N.prev!==N.next;){if(J=N.prev,j=N.next,H?r(N,B,G,H):a(N)){V.push(J.i/I|0),V.push(N.i/I|0),V.push(j.i/I|0),W(N),N=j.next,Z=j.next;continue}if(N=j,N===Z){k?k===1?(N=n(h(N),V,I),v(N,V,I,B,G,H,2)):k===2&&e(N,V,I,B,G,H):v(h(N),V,I,B,G,H,1);break}}}}function a(N){var V=N.prev,I=N,B=N.next;if(T(V,I,B)>=0)return!1;for(var G=V.x,H=I.x,k=B.x,Z=V.y,J=I.y,j=B.y,_=G<H?G<k?G:k:H<k?H:k,tt=Z<J?Z<j?Z:j:J<j?J:j,et=G>H?G>k?G:k:H>k?H:k,rt=Z>J?Z>j?Z:j:J>j?J:j,at=B.next;at!==V;){if(at.x>=_&&at.x<=et&&at.y>=tt&&at.y<=rt&&m(G,Z,H,J,k,j,at.x,at.y)&&T(at.prev,at,at.next)>=0)return!1;at=at.next}return!0}function r(N,V,I,B){var G=N.prev,H=N,k=N.next;if(T(G,H,k)>=0)return!1;for(var Z=G.x,J=H.x,j=k.x,_=G.y,tt=H.y,et=k.y,rt=Z<J?Z<j?Z:j:J<j?J:j,at=_<tt?_<et?_:et:tt<et?tt:et,st=Z>J?Z>j?Z:j:J>j?J:j,ct=_>tt?_>et?_:et:tt>et?tt:et,pt=c(rt,at,V,I,B),vt=c(st,ct,V,I,B),nt=N.prevZ,lt=N.nextZ;nt&&nt.z>=pt&&lt&&lt.z<=vt;){if(nt.x>=rt&&nt.x<=st&&nt.y>=at&&nt.y<=ct&&nt!==G&&nt!==k&&m(Z,_,J,tt,j,et,nt.x,nt.y)&&T(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,lt.x>=rt&&lt.x<=st&&lt.y>=at&&lt.y<=ct&&lt!==G&&lt!==k&&m(Z,_,J,tt,j,et,lt.x,lt.y)&&T(lt.prev,lt,lt.next)>=0))return!1;lt=lt.nextZ}for(;nt&&nt.z>=pt;){if(nt.x>=rt&&nt.x<=st&&nt.y>=at&&nt.y<=ct&&nt!==G&&nt!==k&&m(Z,_,J,tt,j,et,nt.x,nt.y)&&T(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;lt&&lt.z<=vt;){if(lt.x>=rt&&lt.x<=st&&lt.y>=at&&lt.y<=ct&&lt!==G&&lt!==k&&m(Z,_,J,tt,j,et,lt.x,lt.y)&&T(lt.prev,lt,lt.next)>=0)return!1;lt=lt.nextZ}return!0}function n(N,V,I){var B=N;do{var G=B.prev,H=B.next.next;!S(G,H)&&C(G,B,B.next,H)&&M(G,H)&&M(H,G)&&(V.push(G.i/I|0),V.push(B.i/I|0),V.push(H.i/I|0),W(B),W(B.next),B=N=H),B=B.next}while(B!==N);return h(B)}function e(N,V,I,B,G,H){var k=N;do{for(var Z=k.next.next;Z!==k.prev;){if(k.i!==Z.i&&y(k,Z)){var J=O(k,Z);k=h(k,k.next),J=h(J,J.next),v(k,V,I,B,G,H,0),v(J,V,I,B,G,H,0);return}Z=Z.next}k=k.next}while(k!==N)}function s(N,V,I,B){var G=[],H,k,Z,J,j;for(H=0,k=V.length;H<k;H++)Z=V[H]*B,J=H<k-1?V[H+1]*B:N.length,j=t(N,Z,J,B,!1),j===j.next&&(j.steiner=!0),G.push(g(j));for(G.sort(o),H=0;H<G.length;H++)I=i(G[H],I);return I}function o(N,V){return N.x-V.x}function i(N,V){var I=l(N,V);if(!I)return V;var B=O(I,N);return h(B,B.next),h(I,I.next)}function l(N,V){var I=V,B=N.x,G=N.y,H=-1/0,k;do{if(G<=I.y&&G>=I.next.y&&I.next.y!==I.y){var Z=I.x+(G-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(Z<=B&&Z>H&&(H=Z,k=I.x<I.next.x?I:I.next,Z===B))return k}I=I.next}while(I!==V);if(!k)return null;var J=k,j=k.x,_=k.y,tt=1/0,et;I=k;do B>=I.x&&I.x>=j&&B!==I.x&&m(G<_?B:H,G,j,_,G<_?H:B,G,I.x,I.y)&&(et=Math.abs(G-I.y)/(B-I.x),M(I,N)&&(et<tt||et===tt&&(I.x>k.x||I.x===k.x&&u(k,I)))&&(k=I,tt=et)),I=I.next;while(I!==J);return k}function u(N,V){return T(N.prev,N,V.prev)<0&&T(V.next,N,N.next)<0}function f(N,V,I,B){var G=N;do G.z===0&&(G.z=c(G.x,G.y,V,I,B)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==N);G.prevZ.nextZ=null,G.prevZ=null,d(G)}function d(N){var V,I,B,G,H,k,Z,J,j=1;do{for(I=N,N=null,H=null,k=0;I;){for(k++,B=I,Z=0,V=0;V<j&&(Z++,B=B.nextZ,!!B);V++);for(J=j;Z>0||J>0&&B;)Z!==0&&(J===0||!B||I.z<=B.z)?(G=I,I=I.nextZ,Z--):(G=B,B=B.nextZ,J--),H?H.nextZ=G:N=G,G.prevZ=H,H=G;I=B}H.nextZ=null,j*=2}while(k>1);return N}function c(N,V,I,B,G){return N=(N-I)*G|0,V=(V-B)*G|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,N|V<<1}function g(N){var V=N,I=N;do(V.x<I.x||V.x===I.x&&V.y<I.y)&&(I=V),V=V.next;while(V!==N);return I}function m(N,V,I,B,G,H,k,Z){return(G-k)*(V-Z)>=(N-k)*(H-Z)&&(N-k)*(B-Z)>=(I-k)*(V-Z)&&(I-k)*(H-Z)>=(G-k)*(B-Z)}function y(N,V){return N.next.i!==V.i&&N.prev.i!==V.i&&!w(N,V)&&(M(N,V)&&M(V,N)&&D(N,V)&&(T(N.prev,N,V.prev)||T(N,V.prev,V))||S(N,V)&&T(N.prev,N,N.next)>0&&T(V.prev,V,V.next)>0)}function T(N,V,I){return(V.y-N.y)*(I.x-V.x)-(V.x-N.x)*(I.y-V.y)}function S(N,V){return N.x===V.x&&N.y===V.y}function C(N,V,I,B){var G=b(T(N,V,I)),H=b(T(N,V,B)),k=b(T(I,B,N)),Z=b(T(I,B,V));return!!(G!==H&&k!==Z||G===0&&P(N,I,V)||H===0&&P(N,B,V)||k===0&&P(I,N,B)||Z===0&&P(I,V,B))}function P(N,V,I){return V.x<=Math.max(N.x,I.x)&&V.x>=Math.min(N.x,I.x)&&V.y<=Math.max(N.y,I.y)&&V.y>=Math.min(N.y,I.y)}function b(N){return N>0?1:N<0?-1:0}function w(N,V){var I=N;do{if(I.i!==N.i&&I.next.i!==N.i&&I.i!==V.i&&I.next.i!==V.i&&C(I,I.next,N,V))return!0;I=I.next}while(I!==N);return!1}function M(N,V){return T(N.prev,N,N.next)<0?T(N,V,N.next)>=0&&T(N,N.prev,V)>=0:T(N,V,N.prev)<0||T(N,N.next,V)<0}function D(N,V){var I=N,B=!1,G=(N.x+V.x)/2,H=(N.y+V.y)/2;do I.y>H!=I.next.y>H&&I.next.y!==I.y&&G<(I.next.x-I.x)*(H-I.y)/(I.next.y-I.y)+I.x&&(B=!B),I=I.next;while(I!==N);return B}function O(N,V){var I=new Y(N.i,N.x,N.y),B=new Y(V.i,V.x,V.y),G=N.next,H=V.prev;return N.next=V,V.prev=N,I.next=G,G.prev=I,B.next=I,I.prev=B,H.next=B,B.prev=H,B}function U(N,V,I,B){var G=new Y(N,V,I);return B?(G.next=B.next,G.prev=B,B.next.prev=G,B.next=G):(G.prev=G,G.next=G),G}function W(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function Y(N,V,I){this.i=N,this.x=V,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(N,V,I,B){var G=V&&V.length,H=G?V[0]*I:N.length,k=Math.abs(X(N,0,H,I));if(G)for(var Z=0,J=V.length;Z<J;Z++){var j=V[Z]*I,_=Z<J-1?V[Z+1]*I:N.length;k-=Math.abs(X(N,j,_,I))}var tt=0;for(Z=0;Z<B.length;Z+=3){var et=B[Z]*I,rt=B[Z+1]*I,at=B[Z+2]*I;tt+=Math.abs((N[et]-N[at])*(N[rt+1]-N[et+1])-(N[et]-N[rt])*(N[at+1]-N[et+1]))}return k===0&&tt===0?0:Math.abs((tt-k)/k)};function X(N,V,I,B){for(var G=0,H=V,k=I-B;H<I;H+=B)G+=(N[k]-N[H])*(N[H+1]+N[k+1]),k=H;return G}x.flatten=function(N){for(var V=N[0][0].length,I={vertices:[],holes:[],dimensions:V},B=0,G=0;G<N.length;G++){for(var H=0;H<N[G].length;H++)for(var k=0;k<V;k++)I.vertices.push(N[G][H][k]);G>0&&(B+=N[G-1].length,I.holes.push(B))}return I},p.exports=x},13829:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=function(a,r){r===void 0&&(r=new h);for(var n=1/0,e=1/0,s=-n,o=-e,i,l=0;l<a.points.length;l++)i=a.points[l],n=Math.min(n,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),o=Math.max(o,i.y);return r.x=n,r.y=e,r.width=s-n,r.height=o-e,r};p.exports=v},26173:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=[]);for(var v=0;v<t.points.length;v++)h.push(t.points[v].x),h.push(t.points[v].y);return h};p.exports=x},9564:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),v=t(23031),a=t(30052),r=function(n,e,s,o){o===void 0&&(o=[]);var i=n.points,l=a(n);!e&&s>0&&(e=l/s);for(var u=0;u<e;u++)for(var f=l*(u/e),d=0,c=0;c<i.length;c++){var g=i[c],m=i[(c+1)%i.length],y=new v(g.x,g.y,m.x,m.y),T=h(y);if(f<d||f>d+T){d+=T;continue}var S=y.getPoint((f-d)/T);o.push(S);break}return o};p.exports=r},30052:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),v=t(23031),a=function(r){for(var n=r.points,e=0,s=0;s<n.length;s++){var o=n[s],i=n[(s+1)%n.length],l=new v(o.x,o.y,i.x,i.y);e+=h(l)}return e};p.exports=a},25717:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(63814),a=t(9564),r=t(23777),n=new h({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return v(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,o=0;o<e.length;o++)s={x:0,y:0},typeof e[o]=="number"||typeof e[o]=="string"?(s.x=parseFloat(e[o]),s.y=parseFloat(e[o+1]),o++):Array.isArray(e[o])?(s.x=e[o][0],s.y=e[o][1]):(s.x=e[o].x,s.y=e[o].y),this.points.push(s);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,o,i=0;i<this.points.length-1;i++)s=this.points[i],o=this.points[i+1],e+=(o.x-s.x)*(s.y+o.y);return s=this.points[0],o=this.points[this.points.length-1],e+=(s.x-o.x)*(o.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,o){return a(this,e,s,o)}});p.exports=n},8133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.points.reverse(),t};p.exports=x},29524:p=>{function x(n,e){var s=n.x-e.x,o=n.y-e.y;return s*s+o*o}function t(n,e,s){var o=e.x,i=e.y,l=s.x-o,u=s.y-i;if(l!==0||u!==0){var f=((n.x-o)*l+(n.y-i)*u)/(l*l+u*u);f>1?(o=s.x,i=s.y):f>0&&(o+=l*f,i+=u*f)}return l=n.x-o,u=n.y-i,l*l+u*u}function h(n,e){for(var s=n[0],o=[s],i,l=1,u=n.length;l<u;l++)i=n[l],x(i,s)>e&&(o.push(i),s=i);return s!==i&&o.push(i),o}function v(n,e,s,o,i){for(var l=o,u,f=e+1;f<s;f++){var d=t(n[f],n[e],n[s]);d>l&&(u=f,l=d)}l>o&&(u-e>1&&v(n,e,u,o,i),i.push(n[u]),s-u>1&&v(n,u,s,o,i))}function a(n,e){var s=n.length-1,o=[n[0]];return v(n,0,s,e,o),o.push(n[s]),o}var r=function(n,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var o=n.points;if(o.length>2){var i=e*e;s||(o=h(o,i)),n.setTo(a(o,i))}return n};p.exports=r},5469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(h,v){return h[0]=v[0],h[1]=v[1],h},t=function(h){var v,a=[],r=h.points;for(v=0;v<r.length;v++)a.push([r[v].x,r[v].y]);var n=[];for(a.length>0&&n.push(x([0,0],a[0])),v=0;v<a.length-1;v++){var e=a[v],s=a[v+1],o=e[0],i=e[1],l=s[0],u=s[1];n.push([.85*o+.15*l,.85*i+.15*u]),n.push([.15*o+.85*l,.15*i+.85*u])}return a.length>1&&n.push(x([0,0],a[a.length-1])),h.setTo(n)};p.exports=t},24709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=h,a[r].y+=v;return t};p.exports=x},58423:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25717);h.Clone=t(12306),h.Contains=t(63814),h.ContainsPoint=t(99338),h.Earcut=t(94811),h.GetAABB=t(13829),h.GetNumberArray=t(26173),h.GetPoints=t(9564),h.Perimeter=t(30052),h.Reverse=t(8133),h.Simplify=t(29524),h.Smooth=t(5469),h.Translate=t(24709),p.exports=h},62224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.height};p.exports=x},98615:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=x},31688:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=x},67502:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t.x=h-t.width/2,t.y=v-t.height/2,t};p.exports=x},65085:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=function(a){return new h(a.x,a.y,a.width,a.height)};p.exports=v},37303:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=v&&t.y+t.height>=v};p.exports=x},96553:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37303),v=function(a,r){return h(a,r.x,r.y)};p.exports=v},70273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};p.exports=x},43459:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};p.exports=x},77493:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};p.exports=x},9219:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};p.exports=x},53751:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),v=function(a,r){var n=h(a);return n<h(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=v},16088:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8249),v=function(a,r){var n=h(a);return n>h(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=v},80774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=x},83859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=x},19217:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=t(36383),a=function(r,n){if(n===void 0&&(n=new h),r.length===0)return n;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,o=v.MIN_SAFE_INTEGER,i=v.MIN_SAFE_INTEGER,l,u,f,d=0;d<r.length;d++)l=r[d],Array.isArray(l)?(u=l[0],f=l[1]):(u=l.x,f=l.y),e=Math.min(e,u),s=Math.min(s,f),o=Math.max(o,u),i=Math.max(i,f);return n.x=e,n.y=s,n.width=o-e,n.height=i-s,n};p.exports=a},9477:(p,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=function(a,r,n,e,s){return s===void 0&&(s=new h),s.setTo(Math.min(a,n),Math.min(r,e),Math.abs(a-n),Math.abs(r-e))};p.exports=v},8249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height===0?NaN:t.width/t.height};p.exports=x},27165:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){return r===void 0&&(r=new h),r.x=a.centerX,r.y=a.centerY,r};p.exports=v},20812:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),v=t(2141),a=function(r,n,e){if(e===void 0&&(e=new v),n<=0||n>=1)return e.x=r.x,e.y=r.y,e;var s=h(r)*n;return n>.5?(s-=r.width+r.height,s<=r.width?(e.x=r.right-s,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(s-r.width))):s<=r.width?(e.x=r.x+s,e.y=r.y):(e.x=r.right,e.y=r.y+(s-r.width)),e};p.exports=a},34819:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20812),v=t(13019),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=v(r)/e);for(var o=0;o<n;o++){var i=o/n;s.push(h(r,i))}return s};p.exports=a},51313:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){return r===void 0&&(r=new h),r.x=a.width,r.y=a.height,r};p.exports=v},86091:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67502),v=function(a,r,n){var e=a.centerX,s=a.centerY;return a.setSize(a.width+r*2,a.height+n*2),h(a,e,s)};p.exports=v},53951:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=t(59996),a=function(r,n,e){return e===void 0&&(e=new h),v(r,n)?(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y):e.setEmpty(),e};p.exports=a},14649:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13019),v=t(2141),a=function(r,n,e,s){if(s===void 0&&(s=[]),!n&&!e)return s;n?e=Math.round(h(r)/n):n=h(r)/e;for(var o=r.x,i=r.y,l=0,u=0;u<e;u++)switch(s.push(new v(o,i)),l){case 0:o+=n,o>=r.right&&(l=1,i+=o-r.right,o=r.right);break;case 1:i+=n,i>=r.bottom&&(l=2,o-=i-r.bottom,i=r.bottom);break;case 2:o-=n,o<=r.left&&(l=3,i-=r.left-o,o=r.left);break;case 3:i-=n,i<=r.top&&(l=0,i=r.top);break}return s};p.exports=a},33595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){for(var v=t.x,a=t.right,r=t.y,n=t.bottom,e=0;e<h.length;e++)v=Math.min(v,h[e].x),a=Math.max(a,h[e].x),r=Math.min(r,h[e].y),n=Math.max(n,h[e].y);return t.x=v,t.y=r,t.width=a-v,t.height=n-r,t};p.exports=x},20074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=Math.min(t.x,h.x),a=Math.max(t.right,h.right);t.x=v,t.width=a-v;var r=Math.min(t.y,h.y),n=Math.max(t.bottom,h.bottom);return t.y=r,t.height=n-r,t};p.exports=x},92171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=Math.min(t.x,h),r=Math.max(t.right,h);t.x=a,t.width=r-a;var n=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=n,t.height=e-n,t};p.exports=x},42981:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t.x+=h,t.y+=v,t};p.exports=x},46907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x+=h.x,t.y+=h.y,t};p.exports=x},60170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};p.exports=x},13019:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(t.width+t.height)};p.exports=x},85133:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=t(39506),a=function(r,n,e){e===void 0&&(e=new h),n=v(n);var s=Math.sin(n),o=Math.cos(n),i=o>0?r.width/2:r.width/-2,l=s>0?r.height/2:r.height/-2;return Math.abs(i*s)<Math.abs(l*o)?l=i*s/o:i=l*o/s,e.x=i+r.centerX,e.y=l+r.centerY,e};p.exports=a},26597:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){return r===void 0&&(r=new h),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};p.exports=v},86470:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),v=t(70273),a=t(2141),r=function(n,e,s){if(s===void 0&&(s=new a),v(n,e))switch(h(0,3)){case 0:s.x=n.x+Math.random()*(e.right-n.x),s.y=n.y+Math.random()*(e.top-n.y);break;case 1:s.x=e.x+Math.random()*(n.right-e.x),s.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:s.x=n.x+Math.random()*(e.x-n.x),s.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(n.right-e.right),s.y=n.y+Math.random()*(e.bottom-n.y);break}return s};p.exports=r},87841:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(37303),a=t(20812),r=t(34819),n=t(23777),e=t(23031),s=t(26597),o=new h({initialize:function(l,u,f,d){l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.type=n.RECTANGLE,this.x=l,this.y=u,this.width=f,this.height=d},contains:function(i,l){return v(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return r(this,i,l,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,l,u,f){return this.x=i,this.y=l,this.width=u,this.height=f,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,l){return l===void 0&&(l=i),this.x=i,this.y=l,this},setSize:function(i,l){return l===void 0&&(l=i),this.width=i,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});p.exports=o},94845:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.width===h.width&&t.height===h.height};p.exports=x},31730:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return v===void 0&&(v=h),t.width*=h,t.height*=v,t};p.exports=x},36899:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=function(a,r,n){n===void 0&&(n=new h);var e=Math.min(a.x,r.x),s=Math.min(a.y,r.y),o=Math.max(a.right,r.right)-e,i=Math.max(a.bottom,r.bottom)-s;return n.setTo(e,s,o,i)};p.exports=v},93232:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841);h.Area=t(62224),h.Ceil=t(98615),h.CeilAll=t(31688),h.CenterOn=t(67502),h.Clone=t(65085),h.Contains=t(37303),h.ContainsPoint=t(96553),h.ContainsRect=t(70273),h.CopyFrom=t(43459),h.Decompose=t(77493),h.Equals=t(9219),h.FitInside=t(53751),h.FitOutside=t(16088),h.Floor=t(80774),h.FloorAll=t(83859),h.FromPoints=t(19217),h.FromXY=t(9477),h.GetAspectRatio=t(8249),h.GetCenter=t(27165),h.GetPoint=t(20812),h.GetPoints=t(34819),h.GetSize=t(51313),h.Inflate=t(86091),h.Intersection=t(53951),h.MarchingAnts=t(14649),h.MergePoints=t(33595),h.MergeRect=t(20074),h.MergeXY=t(92171),h.Offset=t(42981),h.OffsetPoint=t(46907),h.Overlaps=t(60170),h.Perimeter=t(13019),h.PerimeterPoint=t(85133),h.Random=t(26597),h.RandomOutside=t(86470),h.SameDimensions=t(94845),h.Scale=t(31730),h.Union=t(36899),p.exports=h},41658:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=t.x1,v=t.y1,a=t.x2,r=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-h)*(r-v)-(a-h)*(e-v))/2)};p.exports=x},39208:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),v=function(a,r,n){var e=n*(Math.sqrt(3)/2),s=a,o=r,i=a+n/2,l=r+e,u=a-n/2,f=r+e;return new h(s,o,i,l,u,f)};p.exports=v},39545:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94811),v=t(16483),a=function(r,n,e,s,o){n===void 0&&(n=null),e===void 0&&(e=1),s===void 0&&(s=1),o===void 0&&(o=[]);for(var i=h(r,n),l,u,f,d,c,g,m,y,T,S=0;S<i.length;S+=3)l=i[S],u=i[S+1],f=i[S+2],d=r[l*2]*e,c=r[l*2+1]*s,g=r[u*2]*e,m=r[u*2+1]*s,y=r[f*2]*e,T=r[f*2+1]*s,o.push(new v(d,c,g,m,y,T));return o};p.exports=a},90301:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),v=function(a,r,n,e){e===void 0&&(e=n);var s=a,o=r,i=a,l=r-e,u=a+n,f=r;return new h(s,o,i,l,u,f)};p.exports=v},23707:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97523),v=t(13584),a=function(r,n,e,s){s===void 0&&(s=h);var o=s(r),i=n-o.x,l=e-o.y;return v(r,i,l)};p.exports=a},97523:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){return r===void 0&&(r=new h),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};p.exports=v},24951:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099);function v(r,n,e,s){return r*s-n*e}var a=function(r,n){n===void 0&&(n=new h);var e=r.x3,s=r.y3,o=r.x1-e,i=r.y1-s,l=r.x2-e,u=r.y2-s,f=2*v(o,i,l,u),d=v(i,o*o+i*i,u,l*l+u*u),c=v(o,o*o+i*i,l,l*l+u*u);return n.x=e-d/f,n.y=s+c/f,n};p.exports=a},85614:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),v=function(a,r){r===void 0&&(r=new h);var n=a.x1,e=a.y1,s=a.x2,o=a.y2,i=a.x3,l=a.y3,u=s-n,f=o-e,d=i-n,c=l-e,g=u*(n+s)+f*(e+o),m=d*(n+i)+c*(e+l),y=2*(u*(l-o)-f*(i-s)),T,S;if(Math.abs(y)<1e-6){var C=Math.min(n,s,i),P=Math.min(e,o,l);T=(Math.max(n,s,i)-C)*.5,S=(Math.max(e,o,l)-P)*.5,r.x=C+T,r.y=P+S,r.radius=Math.sqrt(T*T+S*S)}else r.x=(c*g-f*m)/y,r.y=(u*m-d*g)/y,T=r.x-n,S=r.y-e,r.radius=Math.sqrt(T*T+S*S);return r};p.exports=v},74422:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483),v=function(a){return new h(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};p.exports=v},10690:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=t.x3-t.x1,r=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,s=h-t.x1,o=v-t.y1,i=a*a+r*r,l=a*n+r*e,u=a*s+r*o,f=n*n+e*e,d=n*s+e*o,c=i*f-l*l,g=c===0?0:1/c,m=(f*u-l*d)*g,y=(i*d-l*u)*g;return m>=0&&y>=0&&m+y<1};p.exports=x},48653:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v===void 0&&(v=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,o=r*r+n*n,i=r*e+n*s,l=e*e+s*s,u=o*l-i*i,f=u===0?0:1/u,d,c,g,m,y,T,S=t.x1,C=t.y1,P=0;P<h.length&&(g=h[P].x-S,m=h[P].y-C,y=r*g+n*m,T=e*g+s*m,d=(l*y-i*T)*f,c=(o*T-i*y)*f,!(d>=0&&c>=0&&d+c<1&&(a.push({x:h[P].x,y:h[P].y}),v)));P++);return a};p.exports=x},96006:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10690),v=function(a,r){return h(a,r.x,r.y)};p.exports=v},71326:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=x},71694:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};p.exports=x},33522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};p.exports=x},20437:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=t(35001),a=function(r,n,e){e===void 0&&(e=new h);var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();if(n<=0||n>=1)return e.x=s.x1,e.y=s.y1,e;var l=v(s),u=v(o),f=v(i),d=l+u+f,c=d*n,g=0;return c<l?(g=c/l,e.x=s.x1+(s.x2-s.x1)*g,e.y=s.y1+(s.y2-s.y1)*g):c>l+u?(c-=l+u,g=c/f,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):(c-=l,g=c/u,e.x=o.x1+(o.x2-o.x1)*g,e.y=o.y1+(o.y2-o.y1)*g),e};p.exports=a},80672:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),v=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]);var o=r.getLineA(),i=r.getLineB(),l=r.getLineC(),u=h(o),f=h(i),d=h(l),c=u+f+d;!n&&e>0&&(n=c/e);for(var g=0;g<n;g++){var m=c*(g/n),y=0,T=new v;m<u?(y=m/u,T.x=o.x1+(o.x2-o.x1)*y,T.y=o.y1+(o.y2-o.y1)*y):m>u+f?(m-=u+f,y=m/d,T.x=l.x1+(l.x2-l.x1)*y,T.y=l.y1+(l.y2-l.y1)*y):(m-=u,y=m/f,T.x=i.x1+(i.x2-i.x1)*y,T.y=i.y1+(i.y2-i.y1)*y),s.push(T)}return s};p.exports=a},39757:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141);function v(r,n,e,s){var o=r-e,i=n-s,l=o*o+i*i;return Math.sqrt(l)}var a=function(r,n){n===void 0&&(n=new h);var e=r.x1,s=r.y1,o=r.x2,i=r.y2,l=r.x3,u=r.y3,f=v(l,u,o,i),d=v(e,s,l,u),c=v(o,i,e,s),g=f+d+c;return n.x=(e*f+o*d+l*c)/g,n.y=(s*f+i*d+u*c)/g,n};p.exports=a},13584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t.x1+=h,t.y1+=v,t.x2+=h,t.y2+=v,t.x3+=h,t.y3+=v,t};p.exports=x},1376:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35001),v=function(a){var r=a.getLineA(),n=a.getLineB(),e=a.getLineC();return h(r)+h(n)+h(e)};p.exports=v},90260:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2141),v=function(a,r){r===void 0&&(r=new h);var n=a.x2-a.x1,e=a.y2-a.y1,s=a.x3-a.x1,o=a.y3-a.y1,i=Math.random(),l=Math.random();return i+l>=1&&(i=1-i,l=1-l),r.x=a.x1+(n*i+s*l),r.y=a.y1+(e*i+o*l),r};p.exports=v},52172:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),v=t(39757),a=function(r,n){var e=v(r);return h(r,e.x,e.y,n)};p.exports=a},49907:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99614),v=function(a,r,n){return h(a,r.x,r.y,n)};p.exports=v},99614:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-h,s=t.y1-v;return t.x1=e*r-s*n+h,t.y1=e*n+s*r+v,e=t.x2-h,s=t.y2-v,t.x2=e*r-s*n+h,t.y2=e*n+s*r+v,e=t.x3-h,s=t.y3-v,t.x3=e*r-s*n+h,t.y3=e*n+s*r+v,t};p.exports=x},16483:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(10690),a=t(20437),r=t(80672),n=t(23777),e=t(23031),s=t(90260),o=new h({initialize:function(l,u,f,d,c,g){l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),g===void 0&&(g=0),this.type=n.TRIANGLE,this.x1=l,this.y1=u,this.x2=f,this.y2=d,this.x3=c,this.y3=g},contains:function(i,l){return v(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return r(this,i,l,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,l,u,f,d,c){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),c===void 0&&(c=0),this.x1=i,this.y1=l,this.x2=u,this.y2=f,this.x3=d,this.y3=c,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1<=this.x2&&this.x1<=this.x3?l=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1>=this.x2&&this.x1>=this.x3?l=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1<=this.y2&&this.y1<=this.y3?l=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1>=this.y2&&this.y1>=this.y3?l=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}}});p.exports=o},84435:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16483);h.Area=t(41658),h.BuildEquilateral=t(39208),h.BuildFromPolygon=t(39545),h.BuildRight=t(90301),h.CenterOn=t(23707),h.Centroid=t(97523),h.CircumCenter=t(24951),h.CircumCircle=t(85614),h.Clone=t(74422),h.Contains=t(10690),h.ContainsArray=t(48653),h.ContainsPoint=t(96006),h.CopyFrom=t(71326),h.Decompose=t(71694),h.Equals=t(33522),h.GetPoint=t(20437),h.GetPoints=t(80672),h.InCenter=t(39757),h.Perimeter=t(1376),h.Offset=t(13584),h.Random=t(90260),h.Rotate=t(52172),h.RotateAroundPoint=t(49907),h.RotateAroundXY=t(99614),p.exports=h},74457:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};p.exports=x},84409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return function(v,a,r,n){var e=t.getPixelAlpha(a,r,n.texture.key,n.frame.name);return e&&e>=h}};p.exports=x},7003:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(93301),a=t(50792),r=t(8214),n=t(8443),e=t(78970),s=t(85098),o=t(42515),i=t(36210),l=t(61340),u=t(85955),f=new h({initialize:function(c,g){this.game=c,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new s(this):null,this.touch=g.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers;for(var m=0;m<=this.pointersTotal;m++){var y=new o(this,m);y.smoothFactor=g.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new l,this._tempMatrix2=new l,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(n.BOOT,this.boot,this)},boot:function(){var d=this.game,c=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(r.MANAGER_BOOT),c.on(n.PRE_RENDER,this.preRender,this),c.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(r.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(r.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,c=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(r.MANAGER_UPDATE);for(var m=0;m<g.length;m++){var y=g[m];if(y.sys.input&&y.sys.input.updatePoll(d,c)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d,c){(c||d&&d.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var c=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var g=0;g<d;g++){var m=this.pointers.length,y=new o(this,m);y.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(y),this.pointersTotal++,c.push(y)}return c},updateInputPlugins:function(d,c){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var m=0;m<g.length;m++){var y=g[m];if(y.sys.input){var T=y.sys.input.update(d,c);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var c=this.pointers,g=[],m=0;m<d.changedTouches.length;m++)for(var y=d.changedTouches[m],T=1;T<c.length;T++){var S=c[T];if(!S.active){S.touchstart(y,d),this.activePointer=S,g.push(S);break}}this.updateInputPlugins(v.TOUCH_START,g)},onTouchMove:function(d){for(var c=this.pointers,g=[],m=0;m<d.changedTouches.length;m++)for(var y=d.changedTouches[m],T=1;T<c.length;T++){var S=c[T];if(S.active&&S.identifier===y.identifier){var C=document.elementFromPoint(y.clientX,y.clientY),P=C===this.canvas;!this.isOver&&P?this.setCanvasOver(d):this.isOver&&!P&&this.setCanvasOut(d),this.isOver&&(S.touchmove(y,d),this.activePointer=S,g.push(S));break}}this.updateInputPlugins(v.TOUCH_MOVE,g)},onTouchEnd:function(d){for(var c=this.pointers,g=[],m=0;m<d.changedTouches.length;m++)for(var y=d.changedTouches[m],T=1;T<c.length;T++){var S=c[T];if(S.active&&S.identifier===y.identifier){S.touchend(y,d),g.push(S);break}}this.updateInputPlugins(v.TOUCH_END,g)},onTouchCancel:function(d){for(var c=this.pointers,g=[],m=0;m<d.changedTouches.length;m++)for(var y=d.changedTouches[m],T=1;T<c.length;T++){var S=c[T];if(S.active&&S.identifier===y.identifier){S.touchcancel(y,d),g.push(S);break}}this.updateInputPlugins(v.TOUCH_CANCEL,g)},onMouseDown:function(d){var c=this.mousePointer;c.down(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var c=this.mousePointer;c.move(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var c=this.mousePointer;c.up(d),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var c=this.mousePointer;c.wheel(d),this.activePointer=c,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(r.POINTERLOCK_CHANGE,d,c)},inputCandidate:function(d,c){var g=d.input;if(!g||!g.enabled||!d.willRender(c))return!1;var m=!0,y=d.parentContainer;if(y)do{if(!y.willRender(c)){m=!1;break}y=y.parentContainer}while(y);return m},hitTest:function(d,c,g,m){m===void 0&&(m=this._tempHitTest);var y=this._tempPoint,T=g.scrollX,S=g.scrollY;m.length=0;var C=d.x,P=d.y;g.getWorldPoint(C,P,y),d.worldX=y.x,d.worldY=y.y;for(var b={x:0,y:0},w=this._tempMatrix,M=this._tempMatrix2,D=0;D<c.length;D++){var O=c[D];if(this.inputCandidate(O,g)){var U=y.x+T*O.scrollFactorX-T,W=y.y+S*O.scrollFactorY-S;O.parentContainer?(O.getWorldTransformMatrix(w,M),w.applyInverse(U,W,b)):u(U,W,O.x,O.y,O.rotation,O.scaleX,O.scaleY,b),this.pointWithinHitArea(O,b.x,b.y)&&m.push(O)}}return m},pointWithinHitArea:function(d,c,g){c+=d.displayOriginX,g+=d.displayOriginY;var m=d.input;return m&&m.hitAreaCallback(m.hitArea,c,g,d)?(m.localX=c,m.localY=g,!0):!1},pointWithinInteractiveObject:function(d,c,g){return d.hitArea?(c+=d.gameObject.displayOriginX,g+=d.gameObject.displayOriginY,d.localX=c,d.localY=g,d.hitAreaCallback(d.hitArea,c,g,d)):!1},transformPointer:function(d,c,g,m){var y=d.position,T=d.prevPosition;T.x=y.x,T.y=y.y;var S=this.scaleManager.transformX(c),C=this.scaleManager.transformY(g),P=d.smoothFactor;!m||P===0?(y.x=S,y.y=C):(y.x=S*P+T.x*(1-P),y.y=C*P+T.y*(1-P))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=f},48205:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96503),v=t(87902),a=t(83419),r=t(93301),n=t(74457),e=t(84409),s=t(20339),o=t(8497),i=t(81154),l=t(8214),u=t(50792),f=t(95540),d=t(23777),c=t(89639),g=t(41212),m=t(37277),y=t(87841),T=t(37303),S=t(44594),C=t(16483),P=t(10690),b=new a({Extends:u,initialize:function(M){u.call(this),this.scene=M,this.systems=M.sys,this.settings=M.sys.settings,this.manager=M.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,M.sys.events.once(S.BOOT,this.boot,this),M.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(l.BOOT)},start:function(){var w=this.systems.events;w.on(S.TRANSITION_START,this.transitionIn,this),w.on(S.TRANSITION_OUT,this.transitionOut,this),w.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),w.on(S.PRE_UPDATE,this.preUpdate,this),w.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(l.GAME_OUT,this.onGameOut,this),this.manager.events.on(l.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(l.START)},onGameOver:function(w){this.isActive()&&this.emit(l.GAME_OVER,w.timeStamp,w)},onGameOut:function(w){this.isActive()&&this.emit(l.GAME_OUT,w.timeStamp,w)},preUpdate:function(){this.pluginEvents.emit(l.PRE_UPDATE);var w=this._pendingRemoval,M=this._pendingInsertion,D=w.length,O=M.length;if(!(D===0&&O===0)){for(var U=this._list,W=0;W<D;W++){var Y=w[W],X=U.indexOf(Y);X>-1&&(U.splice(X,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=U.concat(M.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(w){this.manager&&this.manager.setCursor(w)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(w,M){if(!this.isActive())return!1;if(this.pluginEvents.emit(l.UPDATE,w,M),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,O=this.manager,U=O.pointers;for(D=0;D<U.length;D++)U[D].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=M,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Y=!1;for(D=0;D<U.length;D++){var X=0,N=U[D];this._tempZones=[],this._temp=this.hitTestPointer(N),this.sortGameObjects(this._temp,N),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(N),this.getDragState(N)===2&&this.processDragThresholdEvent(N,w),X>0&&(Y=!0)}return Y},update:function(w,M){if(!this.isActive())return!1;for(var D=!1,O=0;O<M.length;O++){var U=0,W=M[O];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),w){case r.MOUSE_DOWN:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverOutEvents(W);break;case r.MOUSE_UP:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOverOutEvents(W);break;case r.TOUCH_START:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverEvents(W);break;case r.TOUCH_END:case r.TOUCH_CANCEL:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOutEvents(W);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:U+=this.processDragMoveEvent(W),U+=this.processMoveEvents(W),U+=this.processOverOutEvents(W);break;case r.MOUSE_WHEEL:U+=this.processWheelEvent(W);break}U>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(w,M){M===void 0&&(M=!1),this.disable(w);var D=w.input;D&&(this.removeDebug(w),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,w.input=null),M||this.queueForRemoval(w);var O=this._draggable.indexOf(w);return O>-1&&this._draggable.splice(O,1),w},disable:function(w,M){M===void 0&&(M=!1);var D=w.input;D&&(D.enabled=!1,D.dragState=0);for(var O=this._drag,U=this._over,W=this.manager,Y=0,X;Y<W.pointers.length;Y++)X=O[Y].indexOf(w),X>-1&&O[Y].splice(X,1),X=U[Y].indexOf(w),X>-1&&U[Y].splice(X,1);return M&&this.resetCursor(),this},enable:function(w,M,D,O){return O===void 0&&(O=!1),w.input?w.input.enabled=!0:this.setHitArea(w,M,D),w.input&&O&&!w.input.dropZone&&(w.input.dropZone=O),this},hitTestPointer:function(w){for(var M=this.cameras.getCamerasBelowPointer(w),D=0;D<M.length;D++){for(var O=M[D],U=this.manager.hitTest(w,this._list,O),W=0;W<U.length;W++){var Y=U[W];Y.input.dropZone&&this._tempZones.push(Y)}if(U.length>0)return w.camera=O,U}return w.camera=M[0],[]},processDownEvents:function(w){var M=0,D=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var W=0;W<D.length;W++){var Y=D[W];if(!(!Y.input||!Y.input.enabled)&&(M++,Y.emit(l.GAMEOBJECT_POINTER_DOWN,w,Y.input.localX,Y.input.localY,U),O.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(l.GAMEOBJECT_DOWN,w,Y,U),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&(w.downElement===this.manager.game.canvas?this.emit(l.POINTER_DOWN,w,D):this.emit(l.POINTER_DOWN_OUTSIDE,w)),M},getDragState:function(w){return this._dragState[w.id]},setDragState:function(w,M){this._dragState[w.id]=M},processDragThresholdEvent:function(w,M){var D=!1,O=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&s(w.x,w.y,w.downX,w.downY)>=U||O>0&&M>=w.downTime+O)&&(D=!0),D)return this.setDragState(w,3),this.processDragStartList(w)},processDragStartList:function(w){if(this.getDragState(w)!==3)return 0;var M=this._drag[w.id];M.length>1&&(M=M.slice(0));for(var D=0;D<M.length;D++){var O=M[D],U=O.input;U.dragState=2,U.dragStartX=O.x,U.dragStartY=O.y,U.dragStartXGlobal=w.worldX,U.dragStartYGlobal=w.worldY,U.dragStartCamera=w.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,O.emit(l.GAMEOBJECT_DRAG_START,w,U.dragX,U.dragY),this.emit(l.DRAG_START,w,O)}return this.setDragState(w,4),M.length},processDragDownEvent:function(w){var M=this._temp;if(this._draggable.length===0||M.length===0||!w.primaryDown||this.getDragState(w)!==0)return 0;this.setDragState(w,1);for(var D=[],O=0;O<M.length;O++){var U=M[O];U.input.draggable&&U.input.dragState===0&&D.push(U)}return D.length===0?(this.setDragState(w,0),0):(D.length>1&&(this.sortGameObjects(D,w),this.topOnly&&D.splice(1)),this._drag[w.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(w,3),this.processDragStartList(w)):(this.setDragState(w,2),0))},processDragMoveEvent:function(w){if(this.getDragState(w)===2&&this.processDragThresholdEvent(w,this.manager.game.loop.now),this.getDragState(w)!==4)return 0;var M=this._tempZones,D=this._drag[w.id];D.length>1&&(D=D.slice(0));for(var O=0;O<D.length;O++){var U=D[O],W=U.input,Y=W.target;if(Y){var X=M.indexOf(Y);X===0?(U.emit(l.GAMEOBJECT_DRAG_OVER,w,Y),this.emit(l.DRAG_OVER,w,U,Y)):X>0?(U.emit(l.GAMEOBJECT_DRAG_LEAVE,w,Y),this.emit(l.DRAG_LEAVE,w,U,Y),W.target=M[0],Y=W.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,w,Y),this.emit(l.DRAG_ENTER,w,U,Y)):(U.emit(l.GAMEOBJECT_DRAG_LEAVE,w,Y),this.emit(l.DRAG_LEAVE,w,U,Y),M[0]?(W.target=M[0],Y=W.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,w,Y),this.emit(l.DRAG_ENTER,w,U,Y)):W.target=null)}else!Y&&M[0]&&(W.target=M[0],Y=W.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,w,Y),this.emit(l.DRAG_ENTER,w,U,Y));var N,V,I=w.positionToCamera(W.dragStartCamera);if(!U.parentContainer)N=I.x-W.dragX,V=I.y-W.dragY;else{var B=I.x-W.dragStartXGlobal,G=I.y-W.dragStartYGlobal,H=U.getParentRotation(),k=B*Math.cos(H)+G*Math.sin(H),Z=G*Math.cos(H)-B*Math.sin(H);k*=1/U.parentContainer.scaleX,Z*=1/U.parentContainer.scaleY,N=k+W.dragStartX,V=Z+W.dragStartY}U.emit(l.GAMEOBJECT_DRAG,w,N,V),this.emit(l.DRAG,w,U,N,V)}return D.length},processDragUpEvent:function(w){var M=this._drag[w.id];M.length>1&&(M=M.slice(0));for(var D=0;D<M.length;D++){var O=M[D],U=O.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-O.displayOriginX,U.dragY=U.localY-O.displayOriginY,U.dragStartCamera=null;var W=!1,Y=U.target;Y&&(O.emit(l.GAMEOBJECT_DROP,w,Y),this.emit(l.DROP,w,O,Y),U.target=null,W=!0),O.input&&O.input.enabled&&(O.emit(l.GAMEOBJECT_DRAG_END,w,U.dragX,U.dragY,W),this.emit(l.DRAG_END,w,O,W))}}return this.setDragState(w,0),M.splice(0),0},processMoveEvents:function(w){var M=0,D=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var W=0;W<D.length;W++){var Y=D[W];if(!(!Y.input||!Y.input.enabled)&&(M++,Y.emit(l.GAMEOBJECT_POINTER_MOVE,w,Y.input.localX,Y.input.localY,U),O.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(l.GAMEOBJECT_MOVE,w,Y,U),O.cancelled||!this.isActive()||this.topOnly)))break}return!O.cancelled&&this.isActive()&&this.emit(l.POINTER_MOVE,w,D),M},processWheelEvent:function(w){var M=0,D=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var W=w.deltaX,Y=w.deltaY,X=w.deltaZ,N=0;N<D.length;N++){var V=D[N];if(!(!V.input||!V.input.enabled)&&(M++,V.emit(l.GAMEOBJECT_POINTER_WHEEL,w,W,Y,X,U),O.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(l.GAMEOBJECT_WHEEL,w,V,W,Y,X,U),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&this.emit(l.POINTER_WHEEL,w,D,W,Y,X),M},processOverEvents:function(w){var M=this._temp,D=0,O=M.length,U=[];if(O>0){var W=this.manager,Y=this._eventData,X=this._eventContainer;Y.cancelled=!1;for(var N=0;N<O;N++){var V=M[N];if(!(!V.input||!V.input.enabled)&&(U.push(V),W.setCursor(V.input),V.emit(l.GAMEOBJECT_POINTER_OVER,w,V.input.localX,V.input.localY,X),D++,Y.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,w,V,X),Y.cancelled||!this.isActive())))break}!Y.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,w,U)}return this._over[w.id]=U,D},processOutEvents:function(w){var M=this._over[w.id],D=0,O=M.length;if(O>0){var U=this.manager,W=this._eventData,Y=this._eventContainer;W.cancelled=!1,this.sortGameObjects(M,w);for(var X=0;X<O;X++){var N=M[X];if(N=M[X],!(!N.input||!N.input.enabled)&&(U.resetCursor(N.input),N.emit(l.GAMEOBJECT_POINTER_OUT,w,Y),D++,W.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,w,N,Y),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(l.POINTER_OUT,w,M),this._over[w.id]=[]}return D},processOverOutEvents:function(w){var M=this._temp,D,O,U=[],W=[],Y=[],X=this._over[w.id],N=this._drag[w.id],V=this.manager;for(D=0;D<X.length;D++)O=X[D],M.indexOf(O)===-1&&N.indexOf(O)===-1?U.push(O):Y.push(O);for(D=0;D<M.length;D++)O=M[D],X.indexOf(O)===-1&&W.push(O);var I=U.length,B=0,G=this._eventData,H=this._eventContainer;if(G.cancelled=!1,I>0){for(this.sortGameObjects(U,w),D=0;D<I&&(O=U[D],!(!(!O.input||!O.input.enabled)&&(V.resetCursor(O.input),O.emit(l.GAMEOBJECT_POINTER_OUT,w,H),B++,G.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,w,O,H),G.cancelled||!this.isActive()))));D++);(!G.cancelled||this.isActive())&&this.emit(l.POINTER_OUT,w,U)}if(I=W.length,G.cancelled=!1,I>0){for(this.sortGameObjects(W,w),D=0;D<I&&(O=W[D],!(!(!O.input||!O.input.enabled)&&(V.setCursor(O.input),O.emit(l.GAMEOBJECT_POINTER_OVER,w,O.input.localX,O.input.localY,H),B++,G.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,w,O,H),G.cancelled||!this.isActive()))));D++);!G.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,w,W)}return X=Y.concat(W),this._over[w.id]=this.sortGameObjects(X,w),B},processUpEvents:function(w){var M=this._temp,D=this._eventData,O=this._eventContainer;D.cancelled=!1;for(var U=0;U<M.length;U++){var W=M[U];if(!(!W.input||!W.input.enabled)&&(W.emit(l.GAMEOBJECT_POINTER_UP,w,W.input.localX,W.input.localY,O),D.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(l.GAMEOBJECT_UP,w,W,O),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(w.upElement===this.manager.game.canvas?this.emit(l.POINTER_UP,w,M):this.emit(l.POINTER_UP_OUTSIDE,w)),M.length},forceDownState:function(w,M){this.forceState(w,M,l.GAMEOBJECT_POINTER_DOWN,l.GAMEOBJECT_DOWN,!1)},forceUpState:function(w,M){this.forceState(w,M,l.GAMEOBJECT_POINTER_UP,l.GAMEOBJECT_UP,!1)},forceOverState:function(w,M){this.forceState(w,M,l.GAMEOBJECT_POINTER_OVER,l.GAMEOBJECT_OVER,!0)},forceOutState:function(w,M){this.forceState(w,M,l.GAMEOBJECT_POINTER_OUT,l.GAMEOBJECT_OUT,!1)},forceState:function(w,M,D,O,U){var W=this._eventData,Y=this._eventContainer;W.cancelled=!1,M.input&&M.input.enabled&&(M.emit(D,w,M.input.localX,M.input.localY,Y),U&&this.setCursor(M.input),!W.cancelled&&this.isActive()&&M.input&&M.input.enabled&&this.emit(O,w,M,Y))},queueForInsertion:function(w){return this._pendingInsertion.indexOf(w)===-1&&this._list.indexOf(w)===-1&&this._pendingInsertion.push(w),this},queueForRemoval:function(w){return this._pendingRemoval.push(w),this},setDraggable:function(w,M){M===void 0&&(M=!0),Array.isArray(w)||(w=[w]);for(var D=0;D<w.length;D++){var O=w[D];O.input.draggable=M;var U=this._draggable.indexOf(O);M&&U===-1?this._draggable.push(O):!M&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(w){w===void 0&&(w=1);var M=this.systems.textures;return e(M,w)},setHitArea:function(w,M,D){if(M===void 0)return this.setHitAreaFromTexture(w);Array.isArray(w)||(w=[w]);var O=!1,U=!1,W=!1,Y=!1,X=!1,N=!0;if(g(M)&&Object.keys(M).length){var V=M,I=w.some(function(Z){return Z.hasOwnProperty("faces")});if(!I){M=f(V,"hitArea",null),D=f(V,"hitAreaCallback",null),X=f(V,"pixelPerfect",!1);var B=f(V,"alphaTolerance",1);X&&(M={},D=this.makePixelPerfect(B))}O=f(V,"draggable",!1),U=f(V,"dropZone",!1),W=f(V,"cursor",!1),Y=f(V,"useHandCursor",!1),(!M||!D)&&(this.setHitAreaFromTexture(w),N=!1)}else typeof M=="function"&&!D&&(D=M,M={});for(var G=0;G<w.length;G++){var H=w[G];if(X&&H.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var k=H.input?H.input:n(H,M,D);k.customHitArea=N,k.dropZone=U,k.cursor=Y?"pointer":W,H.input=k,O&&this.setDraggable(H),this.queueForInsertion(H)}return this},setHitAreaCircle:function(w,M,D,O,U){U===void 0&&(U=v);var W=new h(M,D,O);return this.setHitArea(w,W,U)},setHitAreaEllipse:function(w,M,D,O,U,W){W===void 0&&(W=i);var Y=new o(M,D,O,U);return this.setHitArea(w,Y,W)},setHitAreaFromTexture:function(w,M){M===void 0&&(M=T),Array.isArray(w)||(w=[w]);for(var D=0;D<w.length;D++){var O=w[D],U=O.frame,W=0,Y=0;if(O.width?(W=O.width,Y=O.height):U&&(W=U.realWidth,Y=U.realHeight),O.type==="Container"&&(W===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&Y!==0&&(O.input=n(O,new y(0,0,W,Y),M),this.queueForInsertion(O))}return this},setHitAreaRectangle:function(w,M,D,O,U,W){W===void 0&&(W=T);var Y=new y(M,D,O,U);return this.setHitArea(w,Y,W)},setHitAreaTriangle:function(w,M,D,O,U,W,Y,X){X===void 0&&(X=P);var N=new C(M,D,O,U,W,Y);return this.setHitArea(w,N,X)},enableDebug:function(w,M){M===void 0&&(M=65280);var D=w.input;if(!D||!D.hitArea)return this;var O=D.hitArea,U=O.type,W=D.hitAreaDebug,Y=this.systems.add,X=this.systems.updateList;W&&(X.remove(W),W.destroy(),W=null);var N=0,V=0;switch(U){case d.CIRCLE:W=Y.arc(0,0,O.radius),N=O.x-O.radius,V=O.y-O.radius;break;case d.ELLIPSE:W=Y.ellipse(0,0,O.width,O.height),N=O.x-O.width/2,V=O.y-O.height/2;break;case d.LINE:W=Y.line(0,0,O.x1,O.y1,O.x2,O.y2);break;case d.POLYGON:W=Y.polygon(0,0,O.points);break;case d.RECTANGLE:W=Y.rectangle(0,0,O.width,O.height),N=O.x,V=O.y;break;case d.TRIANGLE:W=Y.triangle(0,0,O.x1,O.y1,O.x2,O.y2,O.x3,O.y3);break}return W&&(W.isFilled=!1,W.strokeColor=M,W.preUpdate=function(){W.setVisible(w.visible),W.setStrokeStyle(1/w.scale,W.strokeColor),W.setDisplayOrigin(w.displayOriginX,w.displayOriginY);var I=w.x,B=w.y,G=w.rotation,H=w.scaleX,k=w.scaleY;if(w.parentContainer){var Z=w.getWorldTransformMatrix();I=Z.tx,B=Z.ty,G=Z.rotation,H=Z.scaleX,k=Z.scaleY}W.setRotation(G),W.setScale(H,k),W.setPosition(I+N*H,B+V*k),W.setScrollFactor(w.scrollFactorX,w.scrollFactorY),W.setDepth(w.depth)},X.add(W),D.hitAreaDebug=W),this},removeDebug:function(w){var M=w.input;if(M&&M.hitAreaDebug){var D=M.hitAreaDebug;D.destroy(),M.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(w){return this.pollRate=w,this._pollTimer=0,this},setGlobalTopOnly:function(w){return this.manager.globalTopOnly=w,this},setTopOnly:function(w){return this.topOnly=w,this},sortGameObjects:function(w,M){if(w.length<2||!M.camera)return w;var D=M.camera.renderList;return w.sort(function(O,U){var W=Math.max(D.indexOf(O),0),Y=Math.max(D.indexOf(U),0);return Y-W})},sortDropZones:function(w){return w.length<2?w:(this.scene.sys.depthSort(),w.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(w,M){if(!w.parentContainer&&!M.parentContainer)return this.displayList.getIndex(M)-this.displayList.getIndex(w);if(w.parentContainer===M.parentContainer)return M.parentContainer.getIndex(M)-w.parentContainer.getIndex(w);if(w.parentContainer===M)return-1;if(M.parentContainer===w)return 1;for(var D=w.getIndexList(),O=M.getIndexList(),U=Math.min(D.length,O.length),W=0;W<U;W++){var Y=D[W],X=O[W];if(Y!==X)return X-Y}return O.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(w){return this.manager.addPointer(w)},setDefaultCursor:function(w){return this.manager.setDefaultCursor(w),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(l.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var w=0;w<10;w++)this._drag[w]=[],this._over[w]=[];this.removeAllListeners();var M=this.manager;M.canvas.style.cursor=M.defaultCursor;var D=this.systems.events;D.off(S.TRANSITION_START,this.transitionIn,this),D.off(S.TRANSITION_OUT,this.transitionOut,this),D.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(S.PRE_UPDATE,this.preUpdate,this),M.events.off(l.GAME_OUT,this.onGameOut,this),M.events.off(l.GAME_OVER,this.onGameOver,this),D.off(S.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var w=this.manager.pointers,M=0;M<w.length;M++)w[M].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(l.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});m.register("InputPlugin",b,"input"),p.exports=b},89639:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),v={},a={};a.register=function(r,n,e,s,o){v[r]={plugin:n,mapping:e,settingsKey:s,configKey:o}},a.getPlugin=function(r){return v[r]},a.install=function(r){var n=r.scene.sys,e=n.settings.input,s=n.game.config;for(var o in v){var i=v[o].plugin,l=v[o].mapping,u=v[o].settingsKey,f=v[o].configKey;h(e,u,s[f])&&(r[l]=new i(r))}},a.remove=function(r){v.hasOwnProperty(r)&&delete v[r]},p.exports=a},42515:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31040),v=t(83419),a=t(20339),r=t(43855),n=t(47235),e=t(26099),s=t(25892),o=new v({initialize:function(l,u){this.manager=l,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var l=i.getWorldPoint(this.x,this.y);return this.worldX=l.x,this.worldY=l.y,this},positionToCamera:function(i,l){return i.getWorldPoint(this.x,this.y,l)},updateMotion:function(){var i=this.position.x,l=this.position.y,u=this.midPoint.x,f=this.midPoint.y;if(!(i===u&&l===f)){var d=n(this.motionFactor,u,i),c=n(this.motionFactor,f,l);r(d,i,.1)&&(d=i),r(c,l,.1)&&(c=l),this.midPoint.set(d,c);var g=i-d,m=l-c;this.velocity.set(g,m),this.angle=h(d,c,i,l),this.distance=Math.sqrt(g*g+m*m)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,l){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=l,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=l.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,l){this.event=l,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=l.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,l){i===void 0&&(i=10),l===void 0&&(l=[]);for(var u=this.prevPosition.x,f=this.prevPosition.y,d=this.position.x,c=this.position.y,g=0;g<i;g++){var m=1/i*g;l[g]={x:n(m,u,d),y:n(m,f,c)}}return l},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=o},93301:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=x},7179:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},85375:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},39843:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},23388:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},16133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},27829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},53904:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},56058:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},2642:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},88171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},36147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},71692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},96149:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},81285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},74048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},21322:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},49378:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},86754:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},86433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},60709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},24081:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},11172:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},18907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},95579:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},35368:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},26972:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},47078:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},73802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},56718:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},25936:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},27503:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},50852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},96438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},59152:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},47777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},27957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},19444:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},54251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},18667:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},27192:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},24652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},45132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},44512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},15757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},41637:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},93802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8214:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n){this.pad=r,this.events=r.events,this.index=n,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=v},28884:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(92734),a=new h({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var n=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,n,this,r),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,n,this,r),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=a},99125:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97421),v=t(28884),a=t(83419),r=t(50792),n=t(26099),e=new a({Extends:r,initialize:function(o,i){r.call(this),this.manager=o,this.pad=i,this.id=i.id,this.index=i.index;for(var l=[],u=0;u<i.buttons.length;u++)l.push(new v(this,u));this.buttons=l;var f=[];for(u=0;u<i.axes.length;u++)f.push(new h(this,u));this.axes=f,this.vibration=i.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=l[14]?l[14]:d,this._LCRight=l[15]?l[15]:d,this._LCTop=l[12]?l[12]:d,this._LCBottom=l[13]?l[13]:d,this._RCLeft=l[2]?l[2]:d,this._RCRight=l[1]?l[1]:d,this._RCTop=l[3]?l[3]:d,this._RCBottom=l[0]?l[0]:d,this._FBLeftTop=l[4]?l[4]:d,this._FBLeftBottom=l[6]?l[6]:d,this._FBRightTop=l[5]?l[5]:d,this._FBRightBottom=l[7]?l[7]:d;var c={value:0};this._HAxisLeft=f[0]?f[0]:c,this._VAxisLeft=f[1]?f[1]:c,this._HAxisRight=f[2]?f[2]:c,this._VAxisRight=f[3]?f[3]:c,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var o=0;o<this.axes.length;o++)this.axes[o].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var o,i=this.buttons,l=s.buttons,u=i.length;for(o=0;o<u;o++)i[o].update(l[o].value);var f=this.axes,d=s.axes;for(u=f.length,o=0;o<u;o++)f[o].update(d[o]);u>=2&&(this.leftStick.set(f[0].getValue(),f[1].getValue()),u>=4&&this.rightStick.set(f[2].getValue(),f[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},56654:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(92734),r=t(99125),n=t(35154),e=t(89639),s=t(8214),o=new h({Extends:v,initialize:function(l){v.call(this),this.scene=l.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=l,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,l.pluginEvents.once(s.BOOT,this.boot,this),l.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,l=this.settings.input,u=i.config;this.enabled=n(l,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=n(l,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,l=this.target,u=function(f){f.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(f))};this.onGamepadHandler=u,l.addEventListener("gamepadconnected",u,!1),l.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var l=this.gamepads,u=0;u<i.length;u++){var f=i[u];if(f){var d=f.id,c=f.index,g=l[c];if(g)g.id!==d?(g.destroy(),l[c]=new r(this,f)):g.update(f);else{var m=new r(this,f);l[c]=m,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=m):this._pad3=m:this._pad2=m:this._pad1=m}}}},getAll:function(){for(var i=[],l=this.gamepads,u=0;u<l.length;u++)l[u]&&i.push(l[u]);return i},getPad:function(i){for(var l=this.gamepads,u=0;u<l.length;u++)if(l[u]&&l[u].index===i)return l[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var l=this.queue.splice(0,i),u=0;u<i;u++){var f=l[u],d=this.getPad(f.gamepad.index);f.type==="gamepadconnected"?this.emit(a.CONNECTED,d,f):f.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,f)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",o,"gamepad","gamepad","inputGamepad"),p.exports=o},89651:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},7629:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},42206:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},86544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},94784:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},14325:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},92734:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93301),v=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=v(!1,a,h),p.exports=a},78970:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),v=t(83419),a=t(8443),r=t(8214),n=t(46032),e=t(29747),s=new v({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputKeyboard,this.target=o.inputKeyboardEventTarget,this.addCapture(o.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var o=this;this.onKeyDown=function(l){if(!(l.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(l),o.manager.events.emit(r.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;o.preventDefault&&!u&&o.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}},this.onKeyUp=function(l){if(!(l.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(l),o.manager.events.emit(r.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;o.preventDefault&&!u&&o.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var o=this.target;o.removeEventListener("keydown",this.onKeyDown,!1),o.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,l=0;l<o.length;l++){var u=o[l];typeof u=="string"&&(u=n[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,l=0;l<o.length;l++){var u=o[l];typeof u=="string"&&(u=n[u.toUpperCase()]),h(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},28846:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(95922),r=t(8443),n=t(35154),e=t(8214),s=t(89639),o=t(30472),i=t(46032),l=t(87960),u=t(74600),f=t(44594),d=t(56583),c=new h({Extends:v,initialize:function(m){v.call(this),this.game=m.systems.game,this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.manager=m.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,m.pluginEvents.once(e.BOOT,this.boot,this),m.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=n(g,"keyboard",!0);var m=n(g,"keyboard.capture",null);m&&this.addCaptures(m),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(f.PAUSE,this.resetKeys,this),this.scene.sys.events.on(f.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(g,m,y){m===void 0&&(m=!0),y===void 0&&(y=!1);var T={};if(typeof g=="string"){g=g.split(",");for(var S=0;S<g.length;S++){var C=g[S].trim();C&&(T[C]=this.addKey(C,m,y))}}else for(var P in g)T[P]=this.addKey(g[P],m,y);return T},addKey:function(g,m,y){m===void 0&&(m=!0),y===void 0&&(y=!1);var T=this.keys;if(g instanceof o){var S=T.indexOf(g);return S>-1?T[S]=g:T[g.keyCode]=g,m&&this.addCapture(g.keyCode),g.setEmitOnRepeat(y),g}return typeof g=="string"&&(g=i[g.toUpperCase()]),T[g]||(T[g]=new o(this,g),m&&this.addCapture(g),T[g].setEmitOnRepeat(y)),T[g]},removeKey:function(g,m,y){m===void 0&&(m=!1),y===void 0&&(y=!1);var T=this.keys,S;if(g instanceof o){var C=T.indexOf(g);C>-1&&(S=this.keys[C],this.keys[C]=void 0)}else typeof g=="string"&&(g=i[g.toUpperCase()]);return T[g]&&(S=T[g],T[g]=void 0),S&&(S.plugin=null,y&&this.removeCapture(S.keyCode),m&&S.destroy()),this},removeAllKeys:function(g,m){g===void 0&&(g=!1),m===void 0&&(m=!1);for(var y=this.keys,T=0;T<y.length;T++){var S=y[T];S&&(y[T]=void 0,m&&this.removeCapture(S.keyCode),g&&S.destroy())}return this},createCombo:function(g,m){return new l(this,g,m)},checkDown:function(g,m){if(m===void 0&&(m=0),this.enabled&&g.isDown){var y=d(this.time-g.timeDown,m);if(y>g._tick)return g._tick=y,!0}return!1},update:function(){var g=this.manager.queue,m=g.length;if(!(!this.isActive()||m===0))for(var y=this.keys,T=0;T<m;T++){var S=g[T],C=S.keyCode,P=y[C],b=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(C===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=C,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(P&&(b=P.isDown,P.onDown(S)),!S.cancelled&&(!P||!b)&&(u[C]&&this.emit(a.KEY_DOWN+u[C],S),S.cancelled||this.emit(a.ANY_KEY_DOWN,S))):(P&&P.onUp(S),S.cancelled||(u[C]&&this.emit(a.KEY_UP+u[C],S),S.cancelled||this.emit(a.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(f.PAUSE,this.resetKeys,this),this.scene.sys.events.off(f.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),p.exports=c},66970:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};p.exports=x},87960:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95922),a=t(95540),r=t(68769),n=t(92803),e=new h({initialize:function(o,i,l){if(l===void 0&&(l={}),i.length<2)return!1;this.manager=o,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var f=i[u];typeof f=="string"?this.keyCodes.push(f.toUpperCase().charCodeAt(0)):typeof f=="number"?this.keyCodes.push(f):f.hasOwnProperty("keyCode")&&this.keyCodes.push(f.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(l,"resetOnWrongKey",!0),this.maxKeyDelay=a(l,"maxKeyDelay",0),this.resetOnMatch=a(l,"resetOnMatch",!1),this.deleteOnMatch=a(l,"deleteOnMatch",!1);var d=this,c=function(g){if(!(d.matched||!d.enabled)){var m=r(g,d);m&&(d.manager.emit(v.COMBO_MATCH,d,g),d.resetOnMatch?n(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=c,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},68769:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66970),v=function(a,r){if(r.matched)return!0;var n=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=s&&(e=!0,n=h(a,r))}else e=!0,n=h(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),n&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),n};p.exports=v},92803:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=x},92612:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},23345:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},21957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},44743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},3771:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},46358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},75674:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},95922:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<h};p.exports=x},90229:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=x},38796:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=x},30472:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(95922),r=new h({Extends:v,initialize:function(e,s){v.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},46032:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=x},74600:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46032),v={};for(var a in h)v[h[a]]=a;p.exports=v},41170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<h};p.exports=x},85098:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(89357),a=t(8214),r=t(29747),n=new h({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var s=this,o=this.manager,i=o.canvas,l=window&&window.focus&&o.game.config.autoFocus;this.onMouseMove=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseMove(f),s.preventDefaultMove&&f.preventDefault())},this.onMouseDown=function(f){l&&window.focus(),!f.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseDown(f),s.preventDefaultDown&&f.target===i&&f.preventDefault())},this.onMouseDownWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&s.enabled&&o&&o.enabled&&f.target!==i&&o.onMouseDown(f)},this.onMouseUp=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseUp(f),s.preventDefaultUp&&f.target===i&&f.preventDefault())},this.onMouseUpWindow=function(f){f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents||!f.defaultPrevented&&s.enabled&&o&&o.enabled&&f.target!==i&&o.onMouseUp(f)},this.onMouseOver=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOver(f)},this.onMouseOut=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOut(f)},this.onMouseWheel=function(f){!f.defaultPrevented&&s.enabled&&o&&o.enabled&&o.onMouseWheel(f),s.preventDefaultWheel&&f.target===i&&f.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&o.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(f){var d=s.target;s.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,o.onPointerLockChange(f)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=n},87078:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(85098)}},36210:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(8214),a=t(29747),r=new h({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(n){var e=this,s=this.manager,o=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){i&&window.focus(),!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(d),e.capture&&d.cancelable&&d.target===o&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==o&&s.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(d),e.capture&&d.cancelable&&d.target===o&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&d.target!==o&&s.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(d)};var l=this.capture,u={passive:!0},f={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,l?f:u),n.addEventListener("touchmove",this.onTouchMove,l?f:u),n.addEventListener("touchend",this.onTouchEnd,l?f:u),n.addEventListener("touchcancel",this.onTouchCancel,l?f:u),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,f),window.top.addEventListener("touchend",this.onTouchEndWindow,f),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,f)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,f),window.addEventListener("touchend",this.onTouchEndWindow,f),window.addEventListener("touchcancel",this.onTouchCancelWindow,f),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},95618:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(36210)}},41299:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(54899),r=t(95540),n=t(98356),e=t(3374),s=t(84376),o=t(92638),i=new h({initialize:function(u,f){if(this.loader=u,this.cache=r(f,"cache",!1),this.type=r(f,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(f,"key",!1);var d=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var c=r(f,"url");c===void 0?c=u.path+d+"."+r(f,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(c=u.path+c),this.url=c,this.src="",this.xhrSettings=o(r(f,"responseType",void 0)),r(f,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(f,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(f,"config",{}),this.multiFile,this.linkFile,this.base64=typeof c=="string"&&c.indexOf("data:")===0,this.retryAttempts=r(f,"maxRetries",u.maxRetries)},setLink:function(l){this.linkFile=l,l.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===v.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=v.FILE_LOADING,this.src=n(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=s(this,this.loader.xhr)}},onLoad:function(l,u){var f=l.responseURL&&this.loader.localSchemes.some(function(g){return l.responseURL.indexOf(g)===0}),d=f&&u.target.status===0,c=!(u.target&&u.target.status!==200)||d;l.readyState===4&&l.status>=400&&l.status<=599&&(c=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onBase64Load:function(l){this.xhrLoader=l,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(l){l.lengthComputable&&(this.bytesLoaded=l.loaded,this.bytesTotal=l.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(l){if(this.state!==v.FILE_PENDING_DESTROY){l===void 0&&(l=this.data);var u=this.key,f=this.type;this.loader.emit(a.FILE_COMPLETE,u,f,l),this.loader.emit(a.FILE_KEY_COMPLETE+f+"-"+u,u,f,l),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(l,u,f){if(typeof URL=="function")l.src=URL.createObjectURL(u);else{var d=new FileReader;d.onload=function(){l.removeAttribute("crossOrigin"),l.src="data:"+(u.type||f)+";base64,"+d.result.split(",")[1]},d.onerror=l.onerror,d.readAsDataURL(u)}},i.revokeObjectURL=function(l){typeof URL=="function"&&URL.revokeObjectURL(l.src)},p.exports=i},74099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={install:function(h){for(var v in x)h[v]=x[v]},register:function(h,v){x[h]=v},destroy:function(){x={}}};p.exports=t},98356:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};p.exports=x},74261:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(35072),r=t(50792),n=t(54899),e=t(74099),s=t(95540),o=t(35154),i=t(41212),l=t(37277),u=t(44594),f=t(92638),d=new h({Extends:r,initialize:function(g){r.call(this);var m=g.sys.game.config,y=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(y,"baseURL",m.loaderBaseURL)),this.setPath(s(y,"path",m.loaderPath)),this.setPrefix(s(y,"prefix",m.loaderPrefix)),this.maxParallelDownloads=s(y,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=f(s(y,"responseType",m.loaderResponseType),s(y,"async",m.loaderAsync),s(y,"user",m.loaderUser),s(y,"password",m.loaderPassword),s(y,"timeout",m.loaderTimeout),s(y,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=s(y,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=s(y,"imageLoadType",m.loaderImageLoadType),this.localSchemes=s(y,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=s(y,"maxRetries",m.loaderMaxRetries),g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.baseURL=c,this},setPath:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.path=c,this},setPrefix:function(c){return c===void 0&&(c=""),this.prefix=c,this},setCORS:function(c){return this.crossOrigin=c,this},addFile:function(c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++){var m=c[g];this.keyExists(m)||(this.list.set(m),this.emit(n.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(c){var g=c.hasCacheConflict();return g||this.list.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1}),this.queue.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1})),g},addPack:function(c,g){if(typeof g=="string"){var m=o(c,g);m&&(c={packKey:m})}var y=0,T=this.baseURL,S=this.path,C=this.prefix;for(var P in c)if(Object.prototype.hasOwnProperty.call(c,P)){var b=c[P],w=s(b,"baseURL",T),M=s(b,"path",S),D=s(b,"prefix",C),O=s(b,"files",null),U=s(b,"defaultType","void");if(Array.isArray(O)){this.setBaseURL(w),this.setPath(M),this.setPrefix(D);for(var W=0;W<O.length;W++){var Y=O[W],X=Y.hasOwnProperty("type")?Y.type:U;this[X]&&(this[X](Y),y++)}}}return this.setBaseURL(T),this.setPath(S),this.setPrefix(C),y>0},removePack:function(c,g){var m=this.systems.anims,y=this.cacheManager,T=this.textureManager,S={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},C;if(i(c))C=c;else if(C=y.json.get(c),!C){console.warn("Asset Pack not found in JSON cache:",c);return}g&&(C={_:C[g]});for(var P in C){var b=C[P],w=s(b,"prefix",""),M=s(b,"files"),D=s(b,"defaultType");if(Array.isArray(M))for(var O=0;O<M.length;O++){var U=M[O],W=U.hasOwnProperty("type")?U.type:D;if(!W){console.warn("No type:",U);continue}var Y=w+U.key;if(W==="animation"&&m.remove(Y),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(T.remove(Y),!S[W]))){if(W==="pack"){this.removePack(Y,U.dataKey);continue}if(W==="spine"){var X=y.custom.spine.get(Y);if(!X)continue;var N=X.prefix===void 0?"":X.prefix;y.custom.spine.remove(Y);var V=y.custom.spineTextures.get(Y);if(!V)continue;y.custom.spineTextures.remove(Y);for(var I=0;I<V.pages.length;I++){var B=V.pages[I],G=N+B.name,H=Y+":"+G;T.exists(H)?T.remove(H):T.remove(G)}}var k=S[W];if(k!==null){if(!k){console.warn("Unknown type:",W);continue}var Z=y[k];Z.remove(Y)}}}}},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(c){if((c.state===v.FILE_POPULATED||c.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(c),this.list.delete(c),c.crossOrigin||(c.crossOrigin=this.crossOrigin),c.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(c,g){this.inflight&&(this.inflight.delete(c),this.updateProgress(),g?(this.totalComplete++,this.queue.set(c),this.emit(n.FILE_LOAD,c),c.onProcess()):(this.totalFailed++,this._deleteQueue.set(c),this.emit(n.FILE_LOAD_ERROR,c),this.fileProcessComplete(c)))},fileProcessComplete:function(c){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(c.state===v.FILE_ERRORED?c.multiFile&&c.multiFile.onFileFailed(c):c.state===v.FILE_COMPLETE&&(c.multiFile?c.multiFile.isReadyToProcess()&&(c.multiFile.addToCache(),c.multiFile.pendingDestroy()):(c.addToCache(),c.pendingDestroy())),this.queue.delete(c),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(c){this._deleteQueue.set(c)},saveJSON:function(c,g){return this.save(JSON.stringify(c),g)},save:function(c,g,m){g===void 0&&(g="file.json"),m===void 0&&(m="application/json");var y=new Blob([c],{type:m}),T=URL.createObjectURL(y),S=document.createElement("a");return S.download=g,S.textContent="Download "+g,S.href=T,S.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var c=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(s(g,"baseURL",c.loaderBaseURL)),this.setPath(s(g,"path",c.loaderPath)),this.setPrefix(s(g,"prefix",c.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",d,"load"),p.exports=d},3374:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),v=t(92638),a=function(r,n){var e=r===void 0?v():h({},r);if(n)for(var s in n)n[s]!==void 0&&(e[s]=n[s]);return e};p.exports=a},26430:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(54899),r=new h({initialize:function(e,s,o,i){var l=[];i.forEach(function(d){d&&l.push(d)}),this.loader=e,this.type=s,this.key=o;var u=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+u),this.multiKeyIndex=e.multiKeyIndex++,this.files=l,this.state=v.FILE_PENDING,this.complete=!1,this.pending=l.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<l.length;f++)l[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,n,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},84376:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(3374),v=function(a,r){var n=h(r,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),s={responseText:atob(e)};a.onBase64Load(s);return}var o=new XMLHttpRequest;if(o.open("GET",a.src,n.async,n.user,n.password),o.responseType=a.xhrSettings.responseType,o.timeout=n.timeout,n.headers)for(var i in n.headers)o.setRequestHeader(i,n.headers[i]);return n.header&&n.headerValue&&o.setRequestHeader(n.header,n.headerValue),n.requestedWith&&o.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&o.overrideMimeType(n.overrideMimeType),n.withCredentials&&(o.withCredentials=!0),o.onload=a.onLoad.bind(a,o),o.onerror=a.onError.bind(a,o),o.onprogress=a.onProgress.bind(a),o.ontimeout=a.onError.bind(a,o),o.send(),o};p.exports=v},92638:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r,n){return t===void 0&&(t=""),h===void 0&&(h=!0),v===void 0&&(v=""),a===void 0&&(a=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:t,async:h,user:v,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};p.exports=x},23906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=x},42155:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},38991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},27540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},87464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},94486:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},13035:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},38144:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},97520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},85595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},55680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},54899:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(518),r=t(54899),n=new h({Extends:a,initialize:function(s,o,i,l,u){a.call(this,s,o,i,l,u),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,s,o,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new n(this,e[l]));else this.addFile(new n(this,e,s,i,o));return this}),p.exports=n},76272:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new h({Extends:s,initialize:function(l,u,f,d,c,g){var m,y;if(n(u)){var T=u;u=a(T,"key"),m=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new e(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else m=new r(l,u,f,c),y=new e(l,u,d,g);m.linkFile?s.call(this,l,"atlasjson",u,[m,y,m.linkFile]):s.call(this,l,"atlasjson",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),l.addToCache(),this.complete=!0}}});v.register("aseprite",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),p.exports=o},38734:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new h({Extends:s,initialize:function(l,u,f,d,c,g){var m,y;if(n(u)){var T=u;u=a(T,"key"),m=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new e(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else m=new r(l,u,f,c),y=new e(l,u,d,g);m.linkFile?s.call(this,l,"atlasjson",u,[m,y,m.linkFile]):s.call(this,l,"atlasjson",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),this.complete=!0}}});v.register("atlas",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),p.exports=o},74599:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(57318),o=new h({Extends:e,initialize:function(l,u,f,d,c,g){var m,y;if(n(u)){var T=u;u=a(T,"key"),m=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new s(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","xml"),xhrSettings:a(T,"atlasXhrSettings")})}else m=new r(l,u,f,c),y=new s(l,u,d,g);m.linkFile?e.call(this,l,"atlasxml",u,[m,y,m.linkFile]):e.call(this,l,"atlasxml",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,l.data,u),this.complete=!0}}});v.register("atlasXML",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),p.exports=o},21097:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(89749),s=t(41212),o=new h({Extends:a,initialize:function(l,u,f,d,c){if(s(u)){var g=u;u=n(g,"key"),d=n(g,"xhrSettings"),c=n(g,"context",c)}var m={type:"audio",cache:l.cacheManager.audio,extension:f.type,responseType:"arraybuffer",key:u,url:f.url,xhrSettings:d,config:{context:c}};a.call(this,l,m)},onProcess:function(){this.state=v.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(l){i.data=l,i.onProcessComplete()},function(l){console.error("Error decoding audio: "+i.key+" - ",l?l.message:null),i.onProcessError()}),this.config.context=null}});o.create=function(i,l,u,f,d){var c=i.systems.game,g=c.config.audio,m=c.device.audio;s(l)&&(u=n(l,"url",[]),f=n(l,"config",{}));var y=o.getAudioURL(c,u);return y?m.webAudio&&!g.disableWebAudio?new o(i,l,y,d,c.sound.context):new e(i,l,y,f):(console.warn('No audio URLs for "%s" can play on this device',l),null)},o.getAudioURL=function(i,l){Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var f=n(l[u],"url",l[u]);if(f.indexOf("blob:")===0||f.indexOf("data:")===0)return{url:f,type:""};var d=f.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=n(l[u],"type",d?d[1]:"").toLowerCase(),i.device.audio[d])return{url:f,type:d}}return null},r.register("audio",function(i,l,u,f){var d=this.systems.game,c=d.config.audio,g=d.device.audio;if(c.noAudio||!g.webAudio&&!g.audioData)return this;var m;if(Array.isArray(i))for(var y=0;y<i.length;y++)m=o.create(this,i[y]),m&&this.addFile(m);else m=o.create(this,i,l,u,f),m&&this.addFile(m);return this}),p.exports=o},89524:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21097),v=t(83419),a=t(74099),r=t(95540),n=t(41212),e=t(518),s=t(26430),o=new v({Extends:s,initialize:function(l,u,f,d,c,g,m){if(n(u)){var y=u;u=r(y,"key"),f=r(y,"jsonURL"),d=r(y,"audioURL"),c=r(y,"audioConfig"),g=r(y,"audioXhrSettings"),m=r(y,"jsonXhrSettings")}var T;if(!d)T=new e(l,u,f,m),s.call(this,l,"audiosprite",u,[T]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=g;else{var S=h.create(l,u,d,c,g);S&&(T=new e(l,u,f,m),s.call(this,l,"audiosprite",u,[S,T]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,f=r(this.config,"audioConfig"),d=r(this.config,"audioXhrSettings"),c=h.create(this.loader,i.key,u,f,d);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1];i.addToCache(),l.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,l,u,f,d,c){var g=this.systems.game,m=g.config.audio,y=g.device.audio;if(m&&m.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(i))for(var S=0;S<i.length;S++)T=new o(this,i[S]),T.files&&this.addFile(T.files);else T=new o(this,i,l,u,f,d,c),T.files&&this.addFile(T.files);return this})},85722:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d){var c="bin";if(e(l)){var g=l;l=n(g,"key"),u=n(g,"url"),f=n(g,"xhrSettings"),c=n(g,"extension",c),d=n(g,"dataType",d)}var m={type:"binary",cache:i.cacheManager.binary,extension:c,responseType:"arraybuffer",key:l,url:u,xhrSettings:f,config:{dataType:d}};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING;var o=this.config.dataType;this.data=o?new o(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(o,i,l,u){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,u,l));return this}),p.exports=s},97025:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(21859),o=t(57318),i=new h({Extends:e,initialize:function(u,f,d,c,g,m){var y,T;if(n(f)){var S=f;f=a(S,"key"),y=new r(u,{key:f,url:a(S,"textureURL"),extension:a(S,"textureExtension","png"),normalMap:a(S,"normalMap"),xhrSettings:a(S,"textureXhrSettings")}),T=new o(u,{key:f,url:a(S,"fontDataURL"),extension:a(S,"fontDataExtension","xml"),xhrSettings:a(S,"fontDataXhrSettings")})}else y=new r(u,f,d,g),T=new o(u,f,c,m);y.linkFile?e.call(this,u,"bitmapfont",f,[y,T,y.linkFile]):e.call(this,u,"bitmapfont",f,[y,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1];l.addToCache();var f=l.cache.get(l.key),d=s(u.data,l.cache.getFrame(l.key),0,0,f);this.loader.cacheManager.bitmapFont.add(l.key,{data:d,texture:l.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(l,u,f,d,c){var g;if(Array.isArray(l))for(var m=0;m<l.length;m++)g=new i(this,l[m]),this.addFile(g.files);else g=new i(this,l,u,f,d,c),this.addFile(g.files);return this}),p.exports=i},16024:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="css";if(e(l)){var c=l;l=n(c,"key"),u=n(c,"url"),f=n(c,"xhrSettings"),d=n(c,"extension",d)}var g={type:"script",cache:!1,extension:d,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),p.exports=s},69559:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38734),v=t(85722),a=t(83419),r=t(74099),n=t(95540),e=t(19550),s=t(41212),o=t(518),i=t(31403),l=t(46975),u=t(59327),f=t(26430),d=t(82038),c=t(55222),g=new a({Extends:f,initialize:function(y,T,S,C){if(S.multiAtlasURL){var P=new o(y,{key:T,url:S.multiAtlasURL,xhrSettings:C,config:S});f.call(this,y,"texture",T,[P])}else{var b=S.textureURL.substr(S.textureURL.length-3);S.type||(S.type=b.toLowerCase()==="ktx"?"KTX":"PVR");var w=new v(y,{key:T,url:S.textureURL,extension:b,xhrSettings:C,config:S});if(S.atlasURL){var M=new o(y,{key:T,url:S.atlasURL,xhrSettings:C,config:S});f.call(this,y,"texture",T,[w,M])}else f.call(this,y,"texture",T,[w])}this.config=S},onFileComplete:function(m){var y=this.files.indexOf(m);if(y!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(m.type==="json"&&m.data.hasOwnProperty("textures")){var T=m.data.textures,S=this.config,C=this.loader,P=C.baseURL,b=C.path,w=C.prefix,M=n(S,"multiBaseURL",this.baseURL),D=n(S,"multiPath",this.path),O=n(S,"prefix",this.prefix),U=n(S,"textureXhrSettings");M&&C.setBaseURL(M),D&&C.setPath(D),O&&C.setPrefix(O);for(var W=0;W<T.length;W++){var Y=T[W].image,X="CMA"+this.multiKeyIndex+"_"+Y,N=new v(C,X,Y,U);if(this.addToMultiFile(N),C.addFile(N),T[W].normalMap){var V=new v(C,X,T[W].normalMap,U);V.type="normalMap",N.setLink(V),this.addToMultiFile(V),C.addFile(V)}}C.setBaseURL(P),C.setPath(b),C.setPrefix(w)}}},addToCache:function(){function m(M){console.warn('Compressed Texture Invalid: "'+P.key+'". '+M)}if(this.isReadyToProcess()){var y=this.config;if(y.multiAtlasURL)this.addMultiToCache();else{var T=this.loader.systems.renderer,S=this.loader.textureManager,C,P=this.files[0],b=this.files[1];if(y.type==="PVR"?C=d(P.data):y.type==="KTX"&&(C=i(P.data),C||m("KTX file contains unsupported format.")),C&&!c(C)&&(m("Texture dimensions failed verification. Check the texture format specifications for "+y.format+" 0x"+C.internalFormat.toString(16)+"."),C=null),C&&!T.supportsCompressedTexture(y.format,C.internalFormat)&&(m("Texture format "+y.format+" with internal format "+C.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),C=null),C){C.format=T.getCompressedTextureName(y.format,C.internalFormat);var w=b&&b.data?b.data:null;S.addCompressedTexture(P.key,C,w)}}this.complete=!0}},addMultiToCache:function(){for(var m=this.config,y=this.files[0],T=[],S=[],C=[],P=this.loader.systems.renderer,b=this.loader.textureManager,w,M=1;M<this.files.length;M++){var D=this.files[M];if(D.type!=="normalMap")for(var O=D.key.indexOf("_"),U=D.key.substr(O+1),W=D.data,Y=0;Y<y.data.textures.length;Y++){var X=y.data.textures[Y];if(X.image===U){m.type==="PVR"?w=d(W):m.type==="KTX"&&(w=i(W)),w&&P.supportsCompressedTexture(m.format,w.internalFormat)&&(w.format=P.getCompressedTextureName(m.format,w.internalFormat),S.push(w),T.push(X),D.linkFile&&C.push(D.linkFile.data));break}}}C.length===0&&(C=void 0),b.addAtlasJSONArray(this.key,S,T,C),this.complete=!0}});r.register("texture",function(m,y,T){var S=this.systems.renderer,C=function(b,w,M,D){var O={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(w)){var U=w;w=n(U,"key"),M=n(U,"url"),D=n(U,"xhrSettings")}var W=!1;for(var Y in M)if(S.supportsCompressedTexture(Y)){var X=M[Y];typeof X=="string"?O.textureURL=X:O=l(X,O),O.format=Y.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",w);else if(O.format==="IMG"){var N,V;O.multiAtlasURL?(V=new u(b,w,O.multiAtlasURL,O.multiPath,O.multiBaseURL,D),N=V.files):O.atlasURL?(V=new h(b,w,O.textureURL,O.atlasURL,D),N=V.files):N=new e(b,w,O.textureURL,D),b.addFile(N)}else{var I=new g(b,w,O,D);b.addFile(I.files)}};if(Array.isArray(m))for(var P=0;P<m.length;P++)C(this,m[P]);else C(this,m,y,T);return this}),p.exports=g},87674:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(98356),s=t(41212),o=new h({Extends:a,initialize:function(l,u,f,d,c,g){var m="ttf";if(s(u)){var y=u;u=n(y,"key"),f=n(y,"url"),d=n(y,"format","truetype"),c=n(y,"descriptors",null),g=n(y,"xhrSettings"),m=n(y,"extension",m)}else d===void 0&&(d="truetype");var T={type:"font",cache:!1,extension:m,responseType:"text",key:u,url:f,xhrSettings:g};a.call(this,l,T),this.data={format:d,descriptors:c},this.state=v.FILE_POPULATED},onProcess:function(){this.state=v.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var i,l=this.key,u="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(l,u,this.data.descriptors):i=new FontFace(l,u);var f=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),f.onProcessComplete()}).catch(function(){console.warn("Font failed to load",u),f.onProcessComplete()})}});r.register("font",function(i,l,u,f,d){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new o(this,i[c]));else this.addFile(new o(this,i,l,u,f,d));return this}),p.exports=o},47931:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(73894),o=new h({Extends:a,initialize:function(l,u,f,d,c){var g="glsl";if(e(u)){var m=u;u=n(m,"key"),f=n(m,"url"),d=n(m,"shaderType","fragment"),c=n(m,"xhrSettings"),g=n(m,"extension",g)}else d===void 0&&(d="fragment");var y={type:"glsl",cache:l.cacheManager.shader,extension:g,responseType:"text",key:u,url:f,config:{shaderType:d},xhrSettings:c};a.call(this,l,y)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),l=this.extractBlock(i,0);if(l)for(;l;){var u=this.getShaderName(l.header),f=this.getShaderType(l.header),d=this.getShaderUniforms(l.header),c=l.shader;if(this.cache.has(u)){var g=this.cache.get(u);f==="fragment"?g.fragmentSrc=c:g.vertexSrc=c,g.uniforms||(g.uniforms=d)}else f==="fragment"?this.cache.add(u,new s(u,c,"",d)):this.cache.add(u,new s(u,"",c,d));l=this.extractBlock(i,l.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var l={},u=0;u<i.length;u++){var f=i[u].trim();if(f.substring(0,8)==="uniform."){var d=f.indexOf(":");if(d){var c=f.substring(8,d);try{l[c]=JSON.parse(f.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return l},extractBlock:function(i,l){for(var u=-1,f=-1,d=-1,c=!1,g=!1,m=[],y=[],T=l;T<i.length;T++){var S=i[T].trim();if(S==="---")if(u===-1)u=T,c=!0;else if(c)f=T,c=!1,g=!0;else{g=!1;break}else c?m.push(S):g&&(y.push(S),d=T)}return!c&&f!==-1?{header:m,shader:y.join(`
`),offset:d}:null}});r.register("glsl",function(i,l,u,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,l,u,f));return this}),p.exports=o},89749:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(54899),a=t(41299),r=t(95540),n=t(98356),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){if(e(l)){var d=l;l=r(d,"key"),f=r(d,"config",f)}var c={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:l,url:u.url,config:f};a.call(this,i,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var o=0;o<this.data.length;o++){var i=this.data[o];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(o){var i=o.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var o=this.config&&this.config.instances||1;this.filesTotal=o,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<o;i++){var l=new Audio;l.dataset||(l.dataset={}),l.dataset.name=this.key+("0"+i).slice(-2),l.dataset.used="false",this.locked?l.dataset.locked="true":(l.dataset.locked="false",l.preload="auto",l.oncanplaythrough=this.onProgress.bind(this),l.onerror=this.onError.bind(this)),this.data.push(l)}for(i=0;i<this.data.length;i++)l=this.data[i],l.src=n(this,this.loader.baseURL),this.locked||l.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=s},88470:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="html";if(e(l)){var c=l;l=n(c,"key"),u=n(c,"url"),f=n(c,"xhrSettings"),d=n(c,"extension",d)}var g={type:"text",cache:i.cacheManager.html,extension:d,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),p.exports=s},14643:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d,c){f===void 0&&(f=512),d===void 0&&(d=512);var g="html";if(e(l)){var m=l;l=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),f=n(m,"width",f),d=n(m,"height",d)}var y={type:"html",cache:i.textureManager,extension:g,responseType:"text",key:l,url:u,xhrSettings:c,config:{width:f,height:d}};a.call(this,i,y)},onProcess:function(){this.state=v.FILE_PROCESSING;var o=this.config.width,i=this.config.height,l=[];l.push('<svg width="'+o+'px" height="'+i+'px" viewBox="0 0 '+o+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),l.push('<foreignObject width="100%" height="100%">'),l.push('<body xmlns="http://www.w3.org/1999/xhtml">'),l.push(this.xhrLoader.responseText),l.push("</body>"),l.push("</foreignObject>"),l.push("</svg>");var u=[l.join(`
`)],f=this;try{var d=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{f.state=v.FILE_ERRORED,f.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(f.data),f.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(o,i,l,u,f){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,l,u,f));return this}),p.exports=s},19550:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(98356),o=new h({Extends:a,initialize:function i(l,u,f,d,c){var g="png",m;if(e(u)){var y=u;u=n(y,"key"),f=n(y,"url"),m=n(y,"normalMap"),d=n(y,"xhrSettings"),g=n(y,"extension",g),c=n(y,"frameConfig")}Array.isArray(f)&&(m=f[1],f=f[0]);var T={type:"image",cache:l.textureManager,extension:g,responseType:"blob",key:u,url:f,xhrSettings:d,config:c};if(a.call(this,l,T),m){var S=new i(l,this.key,m,d,c);S.type="normalMap",this.setLink(S),l.addFile(S)}this.useImageElementLoad=l.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=v.FILE_PROCESSING,i===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=v.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=v.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),p.exports=o},518:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(35154),s=t(41212),o=new h({Extends:a,initialize:function(l,u,f,d,c){var g="json";if(s(u)){var m=u;u=n(m,"key"),f=n(m,"url"),d=n(m,"xhrSettings"),g=n(m,"extension",g),c=n(m,"dataKey",c)}var y={type:"json",cache:l.cacheManager.json,extension:g,responseType:"text",key:u,url:f,xhrSettings:d,config:c};a.call(this,l,y),s(f)&&(c?this.data=e(f,c):this.data=f,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var l=this.config;typeof l=="string"?this.data=e(i,l,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,l,u,f){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,l,f,u));return this}),p.exports=o},59327:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new h({Extends:s,initialize:function(l,u,f,d,c,g,m){if(n(u)){var y=u;u=a(y,"key"),a(y,"url",!1)?f=a(y,"url"):f=a(y,"atlasURL"),g=a(y,"xhrSettings"),d=a(y,"path"),c=a(y,"baseURL"),m=a(y,"textureXhrSettings")}var T=new e(l,u,f,g);s.call(this,l,"multiatlas",u,[T]),this.config.path=d,this.config.baseURL=c,this.config.textureXhrSettings=m},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,f=this.config,d=this.loader,c=d.baseURL,g=d.path,m=d.prefix,y=a(f,"baseURL",this.baseURL),T=a(f,"path",this.path),S=a(f,"prefix",this.prefix),C=a(f,"textureXhrSettings");d.setBaseURL(y),d.setPath(T),d.setPrefix(S);for(var P=0;P<u.length;P++){var b=u[P].image,w="MA"+this.multiKeyIndex+"_"+b,M=new r(d,w,b,C);if(this.addToMultiFile(M),d.addFile(M),u[P].normalMap){var D=new r(d,w,u[P].normalMap,C);D.type="normalMap",M.setLink(D),this.addToMultiFile(D),d.addFile(D)}}d.setBaseURL(c),d.setPath(g),d.setPrefix(m)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],l=[],u=[],f=[],d=1;d<this.files.length;d++){var c=this.files[d];if(c.type!=="normalMap")for(var g=c.key.indexOf("_"),m=c.key.substr(g+1),y=c.data,T=0;T<i.data.textures.length;T++){var S=i.data.textures[T];if(S.image===m){u.push(y),l.push(S),c.linkFile&&f.push(c.linkFile.data);break}}}f.length===0&&(f=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,l,f),this.complete=!0}}});v.register("multiatlas",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),p.exports=o},99297:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(34328),s=new h({Extends:n,initialize:function(i,l,u,f){var d="js",c=[];if(r(l)){var g=l;l=a(g,"key"),u=a(g,"url"),f=a(g,"xhrSettings"),d=a(g,"extension",d)}Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var y=new e(i,{key:l+"_"+m.toString(),url:u[m],extension:d,xhrSettings:f});y.onProcess=function(){this.onProcessComplete()},c.push(y)}n.call(this,i,"scripts",l,c)},addToCache:function(){if(this.isReadyToProcess()){for(var o=0;o<this.files.length;o++){var i=this.files[o];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});v.register("scripts",function(o,i,l){var u;if(Array.isArray(o))for(var f=0;f<o.length;f++)u=new s(this,o[f]),this.addFile(u.files);else u=new s(this,o,i,l),this.addFile(u.files);return this}),p.exports=s},41846:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(85048),s=t(61485),o=t(78776),i=new h({Extends:n,initialize:function(u,f,d,c,g,m){var y,T,S=u.cacheManager.obj;if(r(f)){var C=f;f=a(C,"key"),y=new o(u,{key:f,type:"obj",cache:S,url:a(C,"url"),extension:a(C,"extension","obj"),xhrSettings:a(C,"xhrSettings"),config:{flipUV:a(C,"flipUV",g)}}),c=a(C,"matURL"),c&&(T=new o(u,{key:f,type:"mat",cache:S,url:c,extension:a(C,"matExtension","mat"),xhrSettings:a(C,"xhrSettings")}))}else y=new o(u,{key:f,url:d,type:"obj",cache:S,extension:"obj",xhrSettings:m,config:{flipUV:g}}),c&&(T=new o(u,{key:f,url:c,type:"mat",cache:S,extension:"mat",xhrSettings:m}));n.call(this,u,"obj",f,[y,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1],f=e(l.data,l.config.flipUV);u&&(f.materials=s(u.data)),l.cache.add(l.key,f),this.complete=!0}}});v.register("obj",function(l,u,f,d,c){var g;if(Array.isArray(l))for(var m=0;m<l.length;m++)g=new i(this,l[m]),this.addFile(g.files);else g=new i(this,l,u,f,d,c),this.addFile(g.files);return this}),p.exports=i},58610:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(74099),r=t(518),n=new h({Extends:r,initialize:function(s,o,i,l,u){r.call(this,s,o,i,l,u),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,s,o,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new n(this,e[l]));else this.addFile(new n(this,e,s,i,o));return this}),p.exports=n},48988:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d,c){var g="js";if(e(l)){var m=l;l=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),f=n(m,"start"),d=n(m,"mapping")}var y={type:"plugin",cache:!1,extension:g,responseType:"text",key:l,url:u,xhrSettings:c,config:{start:f,mapping:d}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,l=n(i,"start",!1),u=n(i,"mapping",null);if(this.state===v.FILE_POPULATED)o.install(this.key,this.data,l,u);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var f=o.install(this.key,window[this.key],l,u);(l||u)&&(this.loader.systems[u]=f,this.loader.scene[u]=f)}this.onProcessComplete()}});r.register("plugin",function(o,i,l,u,f){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,l,u,f));return this}),p.exports=s},67397:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d){var c="svg";if(e(l)){var g=l;l=n(g,"key"),u=n(g,"url"),f=n(g,"svgConfig",{}),d=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"svg",cache:i.textureManager,extension:c,responseType:"text",key:l,url:u,xhrSettings:d,config:{width:n(f,"width"),height:n(f,"height"),scale:n(f,"scale")}};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING;var o=this.xhrLoader.responseText,i=[o],l=this.config.width,u=this.config.height,f=this.config.scale;t:if(l&&u||f){var d=null,c=new DOMParser;d=c.parseFromString(o,"text/xml");var g=d.getElementsByTagName("svg")[0],m=g.hasAttribute("viewBox"),y=parseFloat(g.getAttribute("width")),T=parseFloat(g.getAttribute("height"));if(!m&&y&&T)g.setAttribute("viewBox","0  0 "+y+" "+T);else if(m&&!y&&!T){var S=g.getAttribute("viewBox").split(/\s+|,/);y=S[2],T=S[3]}if(f)if(y&&T)l=y*f,u=T*f;else break t;g.setAttribute("width",l.toString()+"px"),g.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(g)]}try{var C=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var P=this,b=!1;this.data.onload=function(){b||a.revokeObjectURL(P.data),P.onProcessComplete()},this.data.onerror=function(){b?P.onProcessError():(b=!0,a.revokeObjectURL(P.data),P.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,C,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(o,i,l,u){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,l,u));return this}),p.exports=s},88423:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="js";if(e(l)){var c=l;l=n(c,"key"),u=n(c,"url"),f=n(c,"xhrSettings"),d=n(c,"extension",d)}var g={type:"text",extension:d,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(o)),this.complete=!0}});r.register("sceneFile",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),p.exports=s},56812:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d,c){var g="js";if(e(l)){var m=l;l=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),f=n(m,"systemKey"),d=n(m,"sceneKey")}var y={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:l,url:u,xhrSettings:c,config:{systemKey:f,sceneKey:d}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,l=this.key,u=n(i,"systemKey",l),f=n(i,"sceneKey",l);this.state===v.FILE_POPULATED?o.installScenePlugin(u,this.data,f,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),o.installScenePlugin(u,window[this.key],f,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(o,i,l,u,f){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,l,u,f));return this}),p.exports=s},34328:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f,d){var c="js";if(e(l)){var g=l;l=n(g,"key"),u=n(g,"url"),f=n(g,"type","script"),d=n(g,"xhrSettings"),c=n(g,"extension",c)}else f===void 0&&(f="script");var m={type:f,cache:!1,extension:c,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(o,i,l,u){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,l,u));return this}),p.exports=s},85035:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(74099),r=t(19550),n=new h({Extends:r,initialize:function(s,o,i,l,u){r.call(this,s,o,i,u,l),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,s,o,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new n(this,e[l]));else this.addFile(new n(this,e,s,o,i));return this}),p.exports=n},78776:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new h({Extends:a,initialize:function(i,l,u,f){var d="text",c="txt",g=i.cacheManager.text;if(e(l)){var m=l;l=n(m,"key"),u=n(m,"url"),f=n(m,"xhrSettings"),c=n(m,"extension",c),d=n(m,"type",d),g=n(m,"cache",g)}var y={type:d,cache:g,extension:c,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,y)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(o,i,l){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,l));return this}),p.exports=s},49477:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(80341),o=new h({Extends:a,initialize:function(l,u,f,d){var c="csv";if(e(u)){var g=u;u=n(g,"key"),f=n(g,"url"),d=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"tilemapCSV",cache:l.cacheManager.tilemap,extension:c,responseType:"text",key:u,url:f,xhrSettings:d};a.call(this,l,m),this.tilemapFormat=s.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),p.exports=o},40807:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(518),r=t(80341),n=new h({Extends:a,initialize:function(s,o,i,l){a.call(this,s,o,i,l),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,o));return this}),p.exports=n},56775:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(518),r=t(80341),n=new h({Extends:a,initialize:function(s,o,i,l){a.call(this,s,o,i,l),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,o));return this}),p.exports=n},25771:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(78776),o=new h({Extends:e,initialize:function(l,u,f,d,c,g){var m,y;if(n(u)){var T=u;u=a(T,"key"),m=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new s(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","txt"),xhrSettings:a(T,"atlasXhrSettings")})}else m=new r(l,u,f,c),y=new s(l,u,d,g);m.linkFile?e.call(this,l,"unityatlas",u,[m,y,m.linkFile]):e.call(this,l,"unityatlas",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,l.data,u),this.complete=!0}}});v.register("unityAtlas",function(i,l,u,f,d){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,l,u,f,d),this.addFile(c.files);return this}),p.exports=o},33720:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(98356),e=t(95540),s=t(41212),o=new h({Extends:a,initialize:function(l,u,f,d){if(d===void 0&&(d=!1),s(u)){var c=u;u=e(c,"key"),f=e(c,"url",[]),d=e(c,"noAudio",!1)}var g=l.systems.game.device.video.getVideoURL(f);g||console.warn("VideoFile: No supported format for "+u);var m={type:"video",cache:l.cacheManager.video,extension:g.type,key:u,url:g.url,config:{noAudio:d}};a.call(this,l,m)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),p.exports=o},57318:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(56836),o=new h({Extends:a,initialize:function(l,u,f,d){var c="xml";if(e(u)){var g=u;u=n(g,"key"),f=n(g,"url"),d=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"xml",cache:l.cacheManager.xml,extension:c,responseType:"text",key:u,url:f,xhrSettings:d};a.call(this,l,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,l,u){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,l,u));return this}),p.exports=o},64589:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23906),v=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=v(!1,a,h),p.exports=a},53307:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var h=0,v=0;v<t.length;v++)h+=+t[v];return h/t.length};p.exports=x},85710:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6411),v=function(a,r){return h(a)/h(r)/h(a-r)};p.exports=v},30976:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};p.exports=x},87842:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){var n=(a-h)*.5,e=(r-v)*.5,s=t*t,o=t*s;return(2*v-2*a+n+e)*o+(-3*v+3*a-2*n-e)*s+n*t+v};p.exports=x},26302:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){h===void 0&&(h=0),v===void 0&&(v=10);var a=Math.pow(v,-h);return Math.ceil(t*a)/a};p.exports=x},45319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return Math.max(h,Math.min(v,t))};p.exports=x},39506:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=function(a){return a*h.DEG_TO_RAD};p.exports=v},61241:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return Math.abs(t-h)};p.exports=x},38857:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(37867),r=t(29747),n=new a,e=new v({initialize:function s(o,i,l,u){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=s.DefaultOrder),this._x=o,this._y=i,this._z=l,this._order=u,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,o,i,l){return l===void 0&&(l=this._order),this._x=s,this._y=o,this._z=i,this._order=l,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,o,i){return o===void 0&&(o=this._order),i===void 0&&(i=!1),n.fromQuat(s),this.setFromRotationMatrix(n,o,i)},setFromRotationMatrix:function(s,o,i){o===void 0&&(o=this._order),i===void 0&&(i=!1);var l=s.val,u=l[0],f=l[4],d=l[8],c=l[1],g=l[5],m=l[9],y=l[2],T=l[6],S=l[10],C=0,P=0,b=0,w=.99999;switch(o){case"XYZ":{P=Math.asin(h(d,-1,1)),Math.abs(d)<w?(C=Math.atan2(-m,S),b=Math.atan2(-f,u)):C=Math.atan2(T,g);break}case"YXZ":{C=Math.asin(-h(m,-1,1)),Math.abs(m)<w?(P=Math.atan2(d,S),b=Math.atan2(c,g)):P=Math.atan2(-y,u);break}case"ZXY":{C=Math.asin(h(T,-1,1)),Math.abs(T)<w?(P=Math.atan2(-y,S),b=Math.atan2(-f,g)):b=Math.atan2(c,u);break}case"ZYX":{P=Math.asin(-h(y,-1,1)),Math.abs(y)<w?(C=Math.atan2(T,S),b=Math.atan2(c,u)):b=Math.atan2(-f,g);break}case"YZX":{b=Math.asin(h(c,-1,1)),Math.abs(c)<w?(C=Math.atan2(-m,g),P=Math.atan2(-y,u)):P=Math.atan2(d,S);break}case"XZY":{b=Math.asin(-h(f,-1,1)),Math.abs(f)<w?(C=Math.atan2(T,g),P=Math.atan2(d,u)):C=Math.atan2(-m,S);break}}return this._x=C,this._y=P,this._z=b,this._order=o,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},6411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};p.exports=x},99472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return Math.random()*(h-t)+t};p.exports=x},77623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){h===void 0&&(h=0),v===void 0&&(v=10);var a=Math.pow(v,-h);return Math.floor(t*a)/a};p.exports=x},62945:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=function(a,r,n){return a=h(a,0,1),(n-r)*a+r};p.exports=v},38265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t/h/1e3};p.exports=x},78702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=x},94883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=x},28915:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return(h-t)*v+t};p.exports=x},94908:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return v===void 0&&(v=0),t.clone().lerp(h,v)};p.exports=x},94434:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new v(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,n=a.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this},fromMat4:function(a){var r=a.val,n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[4],n[4]=r[5],n[5]=r[6],n[6]=r[8],n[7]=r[9],n[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],n=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=n,a[7]=e,this},invert:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],l=a[6],u=a[7],f=a[8],d=f*o-i*u,c=-f*s+i*l,g=u*s-o*l,m=r*d+n*c+e*g;return m?(m=1/m,a[0]=d*m,a[1]=(-f*n+e*u)*m,a[2]=(i*n-e*o)*m,a[3]=c*m,a[4]=(f*r-e*l)*m,a[5]=(-i*r+e*s)*m,a[6]=g*m,a[7]=(-u*r+n*l)*m,a[8]=(o*r-n*s)*m,this):null},adjoint:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],l=a[6],u=a[7],f=a[8];return a[0]=o*f-i*u,a[1]=e*u-n*f,a[2]=n*i-e*o,a[3]=i*l-s*f,a[4]=r*f-e*l,a[5]=e*s-r*i,a[6]=s*u-o*l,a[7]=n*l-r*u,a[8]=r*o-n*s,this},determinant:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],l=a[6],u=a[7],f=a[8];return r*(f*o-i*u)+n*(-f*s+i*l)+e*(u*s-o*l)},multiply:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],o=r[3],i=r[4],l=r[5],u=r[6],f=r[7],d=r[8],c=a.val,g=c[0],m=c[1],y=c[2],T=c[3],S=c[4],C=c[5],P=c[6],b=c[7],w=c[8];return r[0]=g*n+m*o+y*u,r[1]=g*e+m*i+y*f,r[2]=g*s+m*l+y*d,r[3]=T*n+S*o+C*u,r[4]=T*e+S*i+C*f,r[5]=T*s+S*l+C*d,r[6]=P*n+b*o+w*u,r[7]=P*e+b*i+w*f,r[8]=P*s+b*l+w*d,this},translate:function(a){var r=this.val,n=a.x,e=a.y;return r[6]=n*r[0]+e*r[3]+r[6],r[7]=n*r[1]+e*r[4]+r[7],r[8]=n*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],o=r[3],i=r[4],l=r[5],u=Math.sin(a),f=Math.cos(a);return r[0]=f*n+u*o,r[1]=f*e+u*i,r[2]=f*s+u*l,r[3]=f*o-u*n,r[4]=f*i-u*e,r[5]=f*l-u*s,this},scale:function(a){var r=this.val,n=a.x,e=a.y;return r[0]=n*r[0],r[1]=n*r[1],r[2]=n*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,n=a.y,e=a.z,s=a.w,o=r+r,i=n+n,l=e+e,u=r*o,f=r*i,d=r*l,c=n*i,g=n*l,m=e*l,y=s*o,T=s*i,S=s*l,C=this.val;return C[0]=1-(c+m),C[3]=f+S,C[6]=d-T,C[1]=f-S,C[4]=1-(u+m),C[7]=g+y,C[2]=d+T,C[5]=g-y,C[8]=1-(u+c),this},normalFromMat4:function(a){var r=a.val,n=this.val,e=r[0],s=r[1],o=r[2],i=r[3],l=r[4],u=r[5],f=r[6],d=r[7],c=r[8],g=r[9],m=r[10],y=r[11],T=r[12],S=r[13],C=r[14],P=r[15],b=e*u-s*l,w=e*f-o*l,M=e*d-i*l,D=s*f-o*u,O=s*d-i*u,U=o*d-i*f,W=c*S-g*T,Y=c*C-m*T,X=c*P-y*T,N=g*C-m*S,V=g*P-y*S,I=m*P-y*C,B=b*I-w*V+M*N+D*X-O*Y+U*W;return B?(B=1/B,n[0]=(u*I-f*V+d*N)*B,n[1]=(f*X-l*I-d*Y)*B,n[2]=(l*V-u*X+d*W)*B,n[3]=(o*V-s*I-i*N)*B,n[4]=(e*I-o*X+i*Y)*B,n[5]=(s*X-e*V-i*W)*B,n[6]=(S*U-C*O+P*D)*B,n[7]=(C*M-T*U-P*w)*B,n[8]=(T*O-S*M+P*b)*B,this):null}});p.exports=v},37867:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(25836),a=1e-6,r=new h({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new r(this)},set:function(l){return this.copy(l)},setValues:function(l,u,f,d,c,g,m,y,T,S,C,P,b,w,M,D){var O=this.val;return O[0]=l,O[1]=u,O[2]=f,O[3]=d,O[4]=c,O[5]=g,O[6]=m,O[7]=y,O[8]=T,O[9]=S,O[10]=C,O[11]=P,O[12]=b,O[13]=w,O[14]=M,O[15]=D,this},copy:function(l){var u=l.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(l){return this.setValues(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(l,u,f){var d=n.fromQuat(f),c=d.val,g=u.x,m=u.y,y=u.z;return this.setValues(c[0]*g,c[1]*g,c[2]*g,0,c[4]*m,c[5]*m,c[6]*m,0,c[8]*y,c[9]*y,c[10]*y,0,l.x,l.y,l.z,1)},xyz:function(l,u,f){this.identity();var d=this.val;return d[12]=l,d[13]=u,d[14]=f,this},scaling:function(l,u,f){this.zero();var d=this.val;return d[0]=l,d[5]=u,d[10]=f,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var l=this.val,u=l[1],f=l[2],d=l[3],c=l[6],g=l[7],m=l[11];return l[1]=l[4],l[2]=l[8],l[3]=l[12],l[4]=u,l[6]=l[9],l[7]=l[13],l[8]=f,l[9]=c,l[11]=l[14],l[12]=d,l[13]=g,l[14]=m,this},getInverse:function(l){return this.copy(l),this.invert()},invert:function(){var l=this.val,u=l[0],f=l[1],d=l[2],c=l[3],g=l[4],m=l[5],y=l[6],T=l[7],S=l[8],C=l[9],P=l[10],b=l[11],w=l[12],M=l[13],D=l[14],O=l[15],U=u*m-f*g,W=u*y-d*g,Y=u*T-c*g,X=f*y-d*m,N=f*T-c*m,V=d*T-c*y,I=S*M-C*w,B=S*D-P*w,G=S*O-b*w,H=C*D-P*M,k=C*O-b*M,Z=P*O-b*D,J=U*Z-W*k+Y*H+X*G-N*B+V*I;return J?(J=1/J,this.setValues((m*Z-y*k+T*H)*J,(d*k-f*Z-c*H)*J,(M*V-D*N+O*X)*J,(P*N-C*V-b*X)*J,(y*G-g*Z-T*B)*J,(u*Z-d*G+c*B)*J,(D*Y-w*V-O*W)*J,(S*V-P*Y+b*W)*J,(g*k-m*G+T*I)*J,(f*G-u*k-c*I)*J,(w*N-M*Y+O*U)*J,(C*Y-S*N-b*U)*J,(m*B-g*H-y*I)*J,(u*H-f*B+d*I)*J,(M*W-w*X-D*U)*J,(S*X-C*W+P*U)*J)):this},adjoint:function(){var l=this.val,u=l[0],f=l[1],d=l[2],c=l[3],g=l[4],m=l[5],y=l[6],T=l[7],S=l[8],C=l[9],P=l[10],b=l[11],w=l[12],M=l[13],D=l[14],O=l[15];return this.setValues(m*(P*O-b*D)-C*(y*O-T*D)+M*(y*b-T*P),-(f*(P*O-b*D)-C*(d*O-c*D)+M*(d*b-c*P)),f*(y*O-T*D)-m*(d*O-c*D)+M*(d*T-c*y),-(f*(y*b-T*P)-m*(d*b-c*P)+C*(d*T-c*y)),-(g*(P*O-b*D)-S*(y*O-T*D)+w*(y*b-T*P)),u*(P*O-b*D)-S*(d*O-c*D)+w*(d*b-c*P),-(u*(y*O-T*D)-g*(d*O-c*D)+w*(d*T-c*y)),u*(y*b-T*P)-g*(d*b-c*P)+S*(d*T-c*y),g*(C*O-b*M)-S*(m*O-T*M)+w*(m*b-T*C),-(u*(C*O-b*M)-S*(f*O-c*M)+w*(f*b-c*C)),u*(m*O-T*M)-g*(f*O-c*M)+w*(f*T-c*m),-(u*(m*b-T*C)-g*(f*b-c*C)+S*(f*T-c*m)),-(g*(C*D-P*M)-S*(m*D-y*M)+w*(m*P-y*C)),u*(C*D-P*M)-S*(f*D-d*M)+w*(f*P-d*C),-(u*(m*D-y*M)-g*(f*D-d*M)+w*(f*y-d*m)),u*(m*P-y*C)-g*(f*P-d*C)+S*(f*y-d*m))},determinant:function(){var l=this.val,u=l[0],f=l[1],d=l[2],c=l[3],g=l[4],m=l[5],y=l[6],T=l[7],S=l[8],C=l[9],P=l[10],b=l[11],w=l[12],M=l[13],D=l[14],O=l[15],U=u*m-f*g,W=u*y-d*g,Y=u*T-c*g,X=f*y-d*m,N=f*T-c*m,V=d*T-c*y,I=S*M-C*w,B=S*D-P*w,G=S*O-b*w,H=C*D-P*M,k=C*O-b*M,Z=P*O-b*D;return U*Z-W*k+Y*H+X*G-N*B+V*I},multiply:function(l){var u=this.val,f=u[0],d=u[1],c=u[2],g=u[3],m=u[4],y=u[5],T=u[6],S=u[7],C=u[8],P=u[9],b=u[10],w=u[11],M=u[12],D=u[13],O=u[14],U=u[15],W=l.val,Y=W[0],X=W[1],N=W[2],V=W[3];return u[0]=Y*f+X*m+N*C+V*M,u[1]=Y*d+X*y+N*P+V*D,u[2]=Y*c+X*T+N*b+V*O,u[3]=Y*g+X*S+N*w+V*U,Y=W[4],X=W[5],N=W[6],V=W[7],u[4]=Y*f+X*m+N*C+V*M,u[5]=Y*d+X*y+N*P+V*D,u[6]=Y*c+X*T+N*b+V*O,u[7]=Y*g+X*S+N*w+V*U,Y=W[8],X=W[9],N=W[10],V=W[11],u[8]=Y*f+X*m+N*C+V*M,u[9]=Y*d+X*y+N*P+V*D,u[10]=Y*c+X*T+N*b+V*O,u[11]=Y*g+X*S+N*w+V*U,Y=W[12],X=W[13],N=W[14],V=W[15],u[12]=Y*f+X*m+N*C+V*M,u[13]=Y*d+X*y+N*P+V*D,u[14]=Y*c+X*T+N*b+V*O,u[15]=Y*g+X*S+N*w+V*U,this},multiplyLocal:function(l){var u=this.val,f=l.val;return this.setValues(u[0]*f[0]+u[1]*f[4]+u[2]*f[8]+u[3]*f[12],u[0]*f[1]+u[1]*f[5]+u[2]*f[9]+u[3]*f[13],u[0]*f[2]+u[1]*f[6]+u[2]*f[10]+u[3]*f[14],u[0]*f[3]+u[1]*f[7]+u[2]*f[11]+u[3]*f[15],u[4]*f[0]+u[5]*f[4]+u[6]*f[8]+u[7]*f[12],u[4]*f[1]+u[5]*f[5]+u[6]*f[9]+u[7]*f[13],u[4]*f[2]+u[5]*f[6]+u[6]*f[10]+u[7]*f[14],u[4]*f[3]+u[5]*f[7]+u[6]*f[11]+u[7]*f[15],u[8]*f[0]+u[9]*f[4]+u[10]*f[8]+u[11]*f[12],u[8]*f[1]+u[9]*f[5]+u[10]*f[9]+u[11]*f[13],u[8]*f[2]+u[9]*f[6]+u[10]*f[10]+u[11]*f[14],u[8]*f[3]+u[9]*f[7]+u[10]*f[11]+u[11]*f[15],u[12]*f[0]+u[13]*f[4]+u[14]*f[8]+u[15]*f[12],u[12]*f[1]+u[13]*f[5]+u[14]*f[9]+u[15]*f[13],u[12]*f[2]+u[13]*f[6]+u[14]*f[10]+u[15]*f[14],u[12]*f[3]+u[13]*f[7]+u[14]*f[11]+u[15]*f[15])},premultiply:function(l){return this.multiplyMatrices(l,this)},multiplyMatrices:function(l,u){var f=l.val,d=u.val,c=f[0],g=f[4],m=f[8],y=f[12],T=f[1],S=f[5],C=f[9],P=f[13],b=f[2],w=f[6],M=f[10],D=f[14],O=f[3],U=f[7],W=f[11],Y=f[15],X=d[0],N=d[4],V=d[8],I=d[12],B=d[1],G=d[5],H=d[9],k=d[13],Z=d[2],J=d[6],j=d[10],_=d[14],tt=d[3],et=d[7],rt=d[11],at=d[15];return this.setValues(c*X+g*B+m*Z+y*tt,T*X+S*B+C*Z+P*tt,b*X+w*B+M*Z+D*tt,O*X+U*B+W*Z+Y*tt,c*N+g*G+m*J+y*et,T*N+S*G+C*J+P*et,b*N+w*G+M*J+D*et,O*N+U*G+W*J+Y*et,c*V+g*H+m*j+y*rt,T*V+S*H+C*j+P*rt,b*V+w*H+M*j+D*rt,O*V+U*H+W*j+Y*rt,c*I+g*k+m*_+y*at,T*I+S*k+C*_+P*at,b*I+w*k+M*_+D*at,O*I+U*k+W*_+Y*at)},translate:function(l){return this.translateXYZ(l.x,l.y,l.z)},translateXYZ:function(l,u,f){var d=this.val;return d[12]=d[0]*l+d[4]*u+d[8]*f+d[12],d[13]=d[1]*l+d[5]*u+d[9]*f+d[13],d[14]=d[2]*l+d[6]*u+d[10]*f+d[14],d[15]=d[3]*l+d[7]*u+d[11]*f+d[15],this},scale:function(l){return this.scaleXYZ(l.x,l.y,l.z)},scaleXYZ:function(l,u,f){var d=this.val;return d[0]=d[0]*l,d[1]=d[1]*l,d[2]=d[2]*l,d[3]=d[3]*l,d[4]=d[4]*u,d[5]=d[5]*u,d[6]=d[6]*u,d[7]=d[7]*u,d[8]=d[8]*f,d[9]=d[9]*f,d[10]=d[10]*f,d[11]=d[11]*f,this},makeRotationAxis:function(l,u){var f=Math.cos(u),d=Math.sin(u),c=1-f,g=l.x,m=l.y,y=l.z,T=c*g,S=c*m;return this.setValues(T*g+f,T*m-d*y,T*y+d*m,0,T*m+d*y,S*m+f,S*y-d*g,0,T*y-d*m,S*y+d*g,c*y*y+f,0,0,0,0,1)},rotate:function(l,u){var f=this.val,d=u.x,c=u.y,g=u.z,m=Math.sqrt(d*d+c*c+g*g);if(Math.abs(m)<a)return this;m=1/m,d*=m,c*=m,g*=m;var y=Math.sin(l),T=Math.cos(l),S=1-T,C=f[0],P=f[1],b=f[2],w=f[3],M=f[4],D=f[5],O=f[6],U=f[7],W=f[8],Y=f[9],X=f[10],N=f[11],V=f[12],I=f[13],B=f[14],G=f[15],H=d*d*S+T,k=c*d*S+g*y,Z=g*d*S-c*y,J=d*c*S-g*y,j=c*c*S+T,_=g*c*S+d*y,tt=d*g*S+c*y,et=c*g*S-d*y,rt=g*g*S+T;return this.setValues(C*H+M*k+W*Z,P*H+D*k+Y*Z,b*H+O*k+X*Z,w*H+U*k+N*Z,C*J+M*j+W*_,P*J+D*j+Y*_,b*J+O*j+X*_,w*J+U*j+N*_,C*tt+M*et+W*rt,P*tt+D*et+Y*rt,b*tt+O*et+X*rt,w*tt+U*et+N*rt,V,I,B,G)},rotateX:function(l){var u=this.val,f=Math.sin(l),d=Math.cos(l),c=u[4],g=u[5],m=u[6],y=u[7],T=u[8],S=u[9],C=u[10],P=u[11];return u[4]=c*d+T*f,u[5]=g*d+S*f,u[6]=m*d+C*f,u[7]=y*d+P*f,u[8]=T*d-c*f,u[9]=S*d-g*f,u[10]=C*d-m*f,u[11]=P*d-y*f,this},rotateY:function(l){var u=this.val,f=Math.sin(l),d=Math.cos(l),c=u[0],g=u[1],m=u[2],y=u[3],T=u[8],S=u[9],C=u[10],P=u[11];return u[0]=c*d-T*f,u[1]=g*d-S*f,u[2]=m*d-C*f,u[3]=y*d-P*f,u[8]=c*f+T*d,u[9]=g*f+S*d,u[10]=m*f+C*d,u[11]=y*f+P*d,this},rotateZ:function(l){var u=this.val,f=Math.sin(l),d=Math.cos(l),c=u[0],g=u[1],m=u[2],y=u[3],T=u[4],S=u[5],C=u[6],P=u[7];return u[0]=c*d+T*f,u[1]=g*d+S*f,u[2]=m*d+C*f,u[3]=y*d+P*f,u[4]=T*d-c*f,u[5]=S*d-g*f,u[6]=C*d-m*f,u[7]=P*d-y*f,this},fromRotationTranslation:function(l,u){var f=l.x,d=l.y,c=l.z,g=l.w,m=f+f,y=d+d,T=c+c,S=f*m,C=f*y,P=f*T,b=d*y,w=d*T,M=c*T,D=g*m,O=g*y,U=g*T;return this.setValues(1-(b+M),C+U,P-O,0,C-U,1-(S+M),w+D,0,P+O,w-D,1-(S+b),0,u.x,u.y,u.z,1)},fromQuat:function(l){var u=l.x,f=l.y,d=l.z,c=l.w,g=u+u,m=f+f,y=d+d,T=u*g,S=u*m,C=u*y,P=f*m,b=f*y,w=d*y,M=c*g,D=c*m,O=c*y;return this.setValues(1-(P+w),S+O,C-D,0,S-O,1-(T+w),b+M,0,C+D,b-M,1-(T+P),0,0,0,0,1)},frustum:function(l,u,f,d,c,g){var m=1/(u-l),y=1/(d-f),T=1/(c-g);return this.setValues(c*2*m,0,0,0,0,c*2*y,0,0,(u+l)*m,(d+f)*y,(g+c)*T,-1,0,0,g*c*2*T,0)},perspective:function(l,u,f,d){var c=1/Math.tan(l/2),g=1/(f-d);return this.setValues(c/u,0,0,0,0,c,0,0,0,0,(d+f)*g,-1,0,0,2*d*f*g,0)},perspectiveLH:function(l,u,f,d){return this.setValues(2*f/l,0,0,0,0,2*f/u,0,0,0,0,-d/(f-d),1,0,0,f*d/(f-d),0)},ortho:function(l,u,f,d,c,g){var m=l-u,y=f-d,T=c-g;return m=m===0?m:1/m,y=y===0?y:1/y,T=T===0?T:1/T,this.setValues(-2*m,0,0,0,0,-2*y,0,0,0,0,2*T,0,(l+u)*m,(d+f)*y,(g+c)*T,1)},lookAtRH:function(l,u,f){var d=this.val;return i.subVectors(l,u),i.lengthSq()===0&&(i.z=1),i.normalize(),s.crossVectors(f,i),s.lengthSq()===0&&(Math.abs(f.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(f,i)),s.normalize(),o.crossVectors(i,s),d[0]=s.x,d[1]=s.y,d[2]=s.z,d[4]=o.x,d[5]=o.y,d[6]=o.z,d[8]=i.x,d[9]=i.y,d[10]=i.z,this},lookAt:function(l,u,f){var d=l.x,c=l.y,g=l.z,m=f.x,y=f.y,T=f.z,S=u.x,C=u.y,P=u.z;if(Math.abs(d-S)<a&&Math.abs(c-C)<a&&Math.abs(g-P)<a)return this.identity();var b=d-S,w=c-C,M=g-P,D=1/Math.sqrt(b*b+w*w+M*M);b*=D,w*=D,M*=D;var O=y*M-T*w,U=T*b-m*M,W=m*w-y*b;D=Math.sqrt(O*O+U*U+W*W),D?(D=1/D,O*=D,U*=D,W*=D):(O=0,U=0,W=0);var Y=w*W-M*U,X=M*O-b*W,N=b*U-w*O;return D=Math.sqrt(Y*Y+X*X+N*N),D?(D=1/D,Y*=D,X*=D,N*=D):(Y=0,X=0,N=0),this.setValues(O,Y,b,0,U,X,w,0,W,N,M,0,-(O*d+U*c+W*g),-(Y*d+X*c+N*g),-(b*d+w*c+M*g),1)},yawPitchRoll:function(l,u,f){this.zero(),n.zero(),e.zero();var d=this.val,c=n.val,g=e.val,m=Math.sin(f),y=Math.cos(f);return d[10]=1,d[15]=1,d[0]=y,d[1]=m,d[4]=-m,d[5]=y,m=Math.sin(u),y=Math.cos(u),c[0]=1,c[15]=1,c[5]=y,c[10]=y,c[9]=-m,c[6]=m,m=Math.sin(l),y=Math.cos(l),g[5]=1,g[15]=1,g[0]=y,g[2]=-m,g[8]=m,g[10]=y,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(l,u,f,d,c){return this.yawPitchRoll(l.y,l.x,l.z),n.scaling(f.x,f.y,f.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(n),this.multiplyLocal(e),d&&this.multiplyLocal(d),c&&this.multiplyLocal(c),this},multiplyToMat4:function(l,u){var f=this.val,d=l.val,c=f[0],g=f[1],m=f[2],y=f[3],T=f[4],S=f[5],C=f[6],P=f[7],b=f[8],w=f[9],M=f[10],D=f[11],O=f[12],U=f[13],W=f[14],Y=f[15],X=d[0],N=d[1],V=d[2],I=d[3],B=d[4],G=d[5],H=d[6],k=d[7],Z=d[8],J=d[9],j=d[10],_=d[11],tt=d[12],et=d[13],rt=d[14],at=d[15];return u.setValues(X*c+N*T+V*b+I*O,N*g+N*S+V*w+I*U,V*m+N*C+V*M+I*W,I*y+N*P+V*D+I*Y,B*c+G*T+H*b+k*O,B*g+G*S+H*w+k*U,B*m+G*C+H*M+k*W,B*y+G*P+H*D+k*Y,Z*c+J*T+j*b+_*O,Z*g+J*S+j*w+_*U,Z*m+J*C+j*M+_*W,Z*y+J*P+j*D+_*Y,tt*c+et*T+rt*b+at*O,tt*g+et*S+rt*w+at*U,tt*m+et*C+rt*M+at*W,tt*y+et*P+rt*D+at*Y)},fromRotationXYTranslation:function(l,u,f){var d=u.x,c=u.y,g=u.z,m=Math.sin(l.x),y=Math.cos(l.x),T=Math.sin(l.y),S=Math.cos(l.y),C=d,P=c,b=g,w=-m,M=0-w*T,D=0-y*T,O=w*S,U=y*S;return f||(C=S*d+T*g,P=M*d+y*c+O*g,b=D*d+m*c+U*g),this.setValues(S,M,D,0,0,y,m,0,T,O,U,0,C,P,b,1)},getMaxScaleOnAxis:function(){var l=this.val,u=l[0]*l[0]+l[1]*l[1]+l[2]*l[2],f=l[4]*l[4]+l[5]*l[5]+l[6]*l[6],d=l[8]*l[8]+l[9]*l[9]+l[10]*l[10];return Math.sqrt(Math.max(u,f,d))}}),n=new r,e=new r,s=new v,o=new v,i=new v;p.exports=r},86883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return Math.min(t+h,v)};p.exports=x},50040:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=t.length;if(h===0)return 0;t.sort(function(a,r){return a-r});var v=Math.floor(h/2);return h%2===0?(t[v]+t[v-1])/2:t[v]};p.exports=x},37204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return Math.max(t-h,v)};p.exports=x},65201:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){v===void 0&&(v=h+1);var r=(t-h)/(v-h);return r>1?a!==void 0?(r=(a-t)/(a-v),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=x},15746:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(94434),a=t(29747),r=t(25836),n=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),o=new r(1,0,0),i=new r(0,1,0),l=new r,u=new v,f=new h({initialize:function(c,g,m,y){this.onChangeCallback=a,this.set(c,g,m,y)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,c,g,m,y){return y===void 0&&(y=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=c||0,this._z=g||0,this._w=m||0),y&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,c=this.y,g=this.z,m=this.w;return Math.sqrt(d*d+c*c+g*g+m*m)},lengthSq:function(){var d=this.x,c=this.y,g=this.z,m=this.w;return d*d+c*c+g*g+m*m},normalize:function(){var d=this.x,c=this.y,g=this.z,m=this.w,y=d*d+c*c+g*g+m*m;return y>0&&(y=1/Math.sqrt(y),this._x=d*y,this._y=c*y,this._z=g*y,this._w=m*y),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,c){c===void 0&&(c=0);var g=this.x,m=this.y,y=this.z,T=this.w;return this.set(g+c*(d.x-g),m+c*(d.y-m),y+c*(d.z-y),T+c*(d.w-T))},rotationTo:function(d,c){var g=d.x*c.x+d.y*c.y+d.z*c.z;return g<-.999999?(l.copy(o).cross(d).length()<n&&l.copy(i).cross(d),l.normalize(),this.setAxisAngle(l,Math.PI)):g>.999999?this.set(0,0,0,1):(l.copy(d).cross(c),this._x=l.x,this._y=l.y,this._z=l.z,this._w=1+g,this.normalize())},setAxes:function(d,c,g){var m=u.val;return m[0]=c.x,m[3]=c.y,m[6]=c.z,m[1]=g.x,m[4]=g.y,m[7]=g.z,m[2]=-d.x,m[5]=-d.y,m[8]=-d.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,c){c=c*.5;var g=Math.sin(c);return this.set(g*d.x,g*d.y,g*d.z,Math.cos(c))},multiply:function(d){var c=this.x,g=this.y,m=this.z,y=this.w,T=d.x,S=d.y,C=d.z,P=d.w;return this.set(c*P+y*T+g*C-m*S,g*P+y*S+m*T-c*C,m*P+y*C+c*S-g*T,y*P-c*T-g*S-m*C)},slerp:function(d,c){var g=this.x,m=this.y,y=this.z,T=this.w,S=d.x,C=d.y,P=d.z,b=d.w,w=g*S+m*C+y*P+T*b;w<0&&(w=-w,S=-S,C=-C,P=-P,b=-b);var M=1-c,D=c;if(1-w>n){var O=Math.acos(w),U=Math.sin(O);M=Math.sin((1-c)*O)/U,D=Math.sin(c*O)/U}return this.set(M*g+D*S,M*m+D*C,M*y+D*P,M*T+D*b)},invert:function(){var d=this.x,c=this.y,g=this.z,m=this.w,y=d*d+c*c+g*g+m*m,T=y?1/y:0;return this.set(-d*T,-c*T,-g*T,m*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S+y*T,g*S+m*T,m*S-g*T,y*S-c*T)},rotateY:function(d){d*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S-m*T,g*S+y*T,m*S+c*T,y*S-g*T)},rotateZ:function(d){d*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(c*S+g*T,g*S-c*T,m*S+y*T,y*S-m*T)},calculateW:function(){var d=this.x,c=this.y,g=this.z;return this.w=-Math.sqrt(1-d*d-c*c-g*g),this},setFromEuler:function(d,c){var g=d.x/2,m=d.y/2,y=d.z/2,T=Math.cos(g),S=Math.cos(m),C=Math.cos(y),P=Math.sin(g),b=Math.sin(m),w=Math.sin(y);switch(d.order){case"XYZ":{this.set(P*S*C+T*b*w,T*b*C-P*S*w,T*S*w+P*b*C,T*S*C-P*b*w,c);break}case"YXZ":{this.set(P*S*C+T*b*w,T*b*C-P*S*w,T*S*w-P*b*C,T*S*C+P*b*w,c);break}case"ZXY":{this.set(P*S*C-T*b*w,T*b*C+P*S*w,T*S*w+P*b*C,T*S*C-P*b*w,c);break}case"ZYX":{this.set(P*S*C-T*b*w,T*b*C+P*S*w,T*S*w-P*b*C,T*S*C+P*b*w,c);break}case"YZX":{this.set(P*S*C+T*b*w,T*b*C+P*S*w,T*S*w-P*b*C,T*S*C-P*b*w,c);break}case"XZY":{this.set(P*S*C-T*b*w,T*b*C-P*S*w,T*S*w+P*b*C,T*S*C+P*b*w,c);break}}return this},setFromRotationMatrix:function(d){var c=d.val,g=c[0],m=c[4],y=c[8],T=c[1],S=c[5],C=c[9],P=c[2],b=c[6],w=c[10],M=g+S+w,D;return M>0?(D=.5/Math.sqrt(M+1),this.set((b-C)*D,(y-P)*D,(T-m)*D,.25/D)):g>S&&g>w?(D=2*Math.sqrt(1+g-S-w),this.set(.25*D,(m+T)/D,(y+P)/D,(b-C)/D)):S>w?(D=2*Math.sqrt(1+S-g-w),this.set((m+T)/D,.25*D,(C+b)/D,(y-P)/D)):(D=2*Math.sqrt(1+w-g-S),this.set((y+P)/D,(C+b)/D,.25*D,(T-m)/D)),this},fromMat3:function(d){var c=d.val,g=c[0]+c[4]+c[8],m;if(g>0)m=Math.sqrt(g+1),this.w=.5*m,m=.5/m,this._x=(c[7]-c[5])*m,this._y=(c[2]-c[6])*m,this._z=(c[3]-c[1])*m;else{var y=0;c[4]>c[0]&&(y=1),c[8]>c[y*3+y]&&(y=2);var T=e[y],S=e[T];m=Math.sqrt(c[y*3+y]-c[T*3+T]-c[S*3+S]+1),s[y]=.5*m,m=.5/m,s[T]=(c[T*3+y]+c[y*3+T])*m,s[S]=(c[S*3+y]+c[y*3+S])*m,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(c[S*3+T]-c[T*3+S])*m}return this.onChangeCallback(this),this}});p.exports=f},43396:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=function(a){return a*h.RAD_TO_DEG};p.exports=v},74362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*h,t.y=Math.sin(v)*h,t};p.exports=x},60706:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=1);var v=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*h;return t.x=Math.cos(v)*r,t.y=Math.sin(v)*r,t.z=a*h,t};p.exports=x},67421:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};p.exports=x},36305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.x,a=t.y;return t.x=v*Math.cos(h)-a*Math.sin(h),t.y=v*Math.sin(h)+a*Math.cos(h),t};p.exports=x},11520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=Math.cos(a),n=Math.sin(a),e=t.x-h,s=t.y-v;return t.x=e*r-s*n+h,t.y=e*n+s*r+v,t};p.exports=x},1163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){var n=a+Math.atan2(t.y-v,t.x-h);return t.x=h+r*Math.cos(n),t.y=v+r*Math.sin(n),t};p.exports=x},70336:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){return t.x=h+r*Math.cos(a),t.y=v+r*Math.sin(a),t};p.exports=x},72678:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25836),v=t(37867),a=t(15746),r=new v,n=new a,e=new h,s=function(o,i,l){return n.setAxisAngle(i,l),r.fromRotationTranslation(n,e.set(0,0,0)),o.transformMat4(r)};p.exports=s},2284:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=x},41013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){h===void 0&&(h=0),v===void 0&&(v=10);var a=Math.pow(v,-h);return Math.round(t*a)/a};p.exports=x},16922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){h===void 0&&(h=1),v===void 0&&(v=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],n=[],e=0;e<t;e++)v-=h*a,h+=v*a,r[e]=v,n[e]=h;return{sin:n,cos:r,length:t}};p.exports=x},7602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t<=h?0:t>=v?1:(t=(t-h)/(v-h),t*t*(3-2*t))};p.exports=x},54261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t=Math.max(0,Math.min(1,(t-h)/(v-h))),t*t*t*(t*(t*6-15)+10)};p.exports=x},44408:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e){e===void 0&&(e=new h);var s=0,o=0,i=r*n;return a>0&&a<=i&&(a>r-1?(o=Math.floor(a/r),s=a-o*r):s=a),e.set(s,o)};p.exports=v},85955:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s,o,i,l){l===void 0&&(l=new h);var u=Math.sin(s),f=Math.cos(s),d=f*o,c=u*o,g=-u*i,m=f*i,y=1/(d*m+g*-c);return l.x=m*y*a+-g*y*r+(e*g-n*m)*y,l.y=d*y*r+-c*y*a+(-e*d+n*c)*y,l};p.exports=v},26099:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(43855),a=new h({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setTo:function(r,n){return this.set(r,n)},setToPolar:function(r,n){return n==null&&(n=1),this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,n){return v(this.x,r.x,n)&&v(this.y,r.y,n)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var n=r.x-this.x,e=r.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(r){var n=r.x-this.x,e=r.y-this.y;return n*n+e*e},length:function(){var r=this.x,n=this.y;return Math.sqrt(r*r+n*n)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,n=this.y;return r*r+n*n},normalize:function(){var r=this.x,n=this.y,e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,n){n===void 0&&(n=0);var e=this.x,s=this.y;return this.x=e+n*(r.x-e),this.y=s+n*(r.y-s),this},transformMat3:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[3]*e+s[6],this.y=s[1]*n+s[4]*e+s[7],this},transformMat4:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[4]*e+s[12],this.y=s[1]*n+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var n=this.length();return n&&n>r&&this.scale(r/n),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var n=Math.cos(r),e=Math.sin(r);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(r){var n=this.dot(r)/r.dot(r);return this.copy(r).scale(n)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),p.exports=a},25836:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},subVectors:function(a,r){return this.x=a.x-r.x,this.y=a.y-r.y,this.z=a.z-r.z,this},crossVectors:function(a,r){var n=a.x,e=a.y,s=a.z,o=r.x,i=r.y,l=r.z;return this.x=e*l-s*i,this.y=s*o-n*l,this.z=n*i-e*o,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,n){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=n||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+n*n+e*e)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return r*r+n*n+e*e},length:function(){var a=this.x,r=this.y,n=this.z;return Math.sqrt(a*a+r*r+n*n)},lengthSq:function(){var a=this.x,r=this.y,n=this.z;return a*a+r*r+n*n},normalize:function(){var a=this.x,r=this.y,n=this.z,e=a*a+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=n*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z;return this.x=n*i-e*o,this.y=e*s-r*i,this.z=r*o-n*s,this},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this},applyMatrix3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[3]*n+s[6]*e,this.y=s[1]*r+s[4]*n+s[7]*e,this.z=s[2]*r+s[5]*n+s[8]*e,this},applyMatrix4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=1/(s[3]*r+s[7]*n+s[11]*e+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*e+s[12])*o,this.y=(s[1]*r+s[5]*n+s[9]*e+s[13])*o,this.z=(s[2]*r+s[6]*n+s[10]*e+s[14])*o,this},transformMat3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=r*s[0]+n*s[3]+e*s[6],this.y=r*s[1]+n*s[4]+e*s[7],this.z=r*s[2]+n*s[5]+e*s[8],this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[4]*n+s[8]*e+s[12],this.y=s[1]*r+s[5]*n+s[9]*e+s[13],this.z=s[2]*r+s[6]*n+s[10]*e+s[14],this},transformCoordinates:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=r*s[0]+n*s[4]+e*s[8]+s[12],i=r*s[1]+n*s[5]+e*s[9]+s[13],l=r*s[2]+n*s[6]+e*s[10]+s[14],u=r*s[3]+n*s[7]+e*s[11]+s[15];return this.x=o/u,this.y=i/u,this.z=l/u,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z,l=a.w,u=l*r+o*e-i*n,f=l*n+i*r-s*e,d=l*e+s*n-o*r,c=-s*r-o*n-i*e;return this.x=u*l+c*-s+f*-i-d*-o,this.y=f*l+c*-o+d*-s-u*-i,this.z=d*l+c*-i+u*-o-f*-s,this},project:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=s[0],i=s[1],l=s[2],u=s[3],f=s[4],d=s[5],c=s[6],g=s[7],m=s[8],y=s[9],T=s[10],S=s[11],C=s[12],P=s[13],b=s[14],w=s[15],M=1/(r*u+n*g+e*S+w);return this.x=(r*o+n*f+e*m+C)*M,this.y=(r*i+n*d+e*y+P)*M,this.z=(r*l+n*c+e*T+b)*M,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var n=a.x,e=a.y,s=a.z,o=a.w,i=this.x-n,l=o-this.y-1-e,u=this.z;return this.x=2*i/s-1,this.y=2*l/o-1,this.z=2*u-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),p.exports=v},61369:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=e||0,this.w=s||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,n,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=n||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return Math.sqrt(a*a+r*r+n*n+e*e)},lengthSq:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return a*a+r*r+n*n+e*e},normalize:function(){var a=this.x,r=this.y,n=this.z,e=this.w,s=a*a+r*r+n*n+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=a*s,this.y=r*s,this.z=n*s,this.w=e*s),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z,o=this.w;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this.w=o+r*(a.w-o),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return Math.sqrt(r*r+n*n+e*e+s*s)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return r*r+n*n+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=this.w,o=a.val;return this.x=o[0]*r+o[4]*n+o[8]*e+o[12]*s,this.y=o[1]*r+o[5]*n+o[9]*e+o[13]*s,this.z=o[2]*r+o[6]*n+o[10]*e+o[14]*s,this.w=o[3]*r+o[7]*n+o[11]*e+o[15]*s,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z,l=a.w,u=l*r+o*e-i*n,f=l*n+i*r-s*e,d=l*e+s*n-o*r,c=-s*r-o*n-i*e;return this.x=u*l+c*-s+f*-i-d*-o,this.y=f*l+c*-o+d*-s-u*-i,this.z=d*l+c*-i+u*-o-f*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,p.exports=v},60417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return Math.abs(t-h)<=v};p.exports=x},15994:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=v-h;return h+((t-h)%a+a)%a};p.exports=x},31040:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return Math.atan2(a-h,v-t)};p.exports=x},55495:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};p.exports=x},128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};p.exports=x},41273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return Math.atan2(v-t,a-h)};p.exports=x},1432:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=function(a){return a>Math.PI&&(a-=h.PI2),Math.abs(((a+h.TAU)%h.PI2-h.PI2)%h.PI2)};p.exports=v},12407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=x},53993:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),v=function(){return h(-Math.PI,Math.PI)};p.exports=v},86564:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99472),v=function(){return h(-180,180)};p.exports=v},90154:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12407),v=function(a){return h(a+Math.PI)};p.exports=v},48736:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=function(a,r,n){return n===void 0&&(n=.05),a===r||(Math.abs(r-a)<=n||Math.abs(r-a)>=h.PI2-n?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=h.PI2:r-=h.PI2),r>a?a+=n:r<a&&(a-=n))),a};p.exports=v},61430:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=h-t;if(v===0)return 0;var a=Math.floor((v- -180)/360);return v-a*360};p.exports=x},86554:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),v=function(a){return h(a,-Math.PI,Math.PI)};p.exports=v},30954:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15994),v=function(a){return h(a,-180,180)};p.exports=v},25588:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=x},20339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=t-v,n=h-a;return Math.sqrt(r*r+n*n)};p.exports=x},52816:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.x-h.x,a=t.y-h.y;return Math.sqrt(v*v+a*a)};p.exports=x},64559:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.x-h.x,a=t.y-h.y;return v*v+a*a};p.exports=x},82340:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return Math.max(Math.abs(t-v),Math.abs(h-a))};p.exports=x},14390:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(v-t,r)+Math.pow(a-h,r))};p.exports=x},2243:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return Math.abs(t-v)+Math.abs(h-a)};p.exports=x},89774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=t-v,n=h-a;return r*r+n*n};p.exports=x},50994:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54178),v=t(41521),a=t(79980),r=t(85433),n=t(99140),e=t(48857),s=t(81596),o=t(59133),i=t(98516),l=t(35248),u=t(82500),f=t(49752);p.exports={Power0:s,Power1:o.Out,Power2:r.Out,Power3:i.Out,Power4:l.Out,Linear:s,Quad:o.Out,Cubic:r.Out,Quart:i.Out,Quint:l.Out,Sine:u.Out,Expo:e.Out,Circ:a.Out,Elastic:n.Out,Back:h.Out,Bounce:v.Out,Stepped:f,"Quad.easeIn":o.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":l.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":n.In,"Back.easeIn":h.In,"Bounce.easeIn":v.In,"Quad.easeOut":o.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":l.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":n.Out,"Back.easeOut":h.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":o.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":l.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":v.InOut}},1639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};p.exports=x},50099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=1.70158);var v=h*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};p.exports=x},41286:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};p.exports=x},54178:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=x},41788:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};p.exports=x},69905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=x},41521:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.sqrt(1-t*t)};p.exports=x},4177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=x},57512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(1- --t*t)};p.exports=x},79980:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t};p.exports=x},82820:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=x},35033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t+1};p.exports=x},85433:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(h===void 0&&(h=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return h<1?h=1:a=v*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v))};p.exports=x},50665:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(h===void 0&&(h=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return h<1?h=1:a=v*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)*.5+1};p.exports=x},7744:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(h===void 0&&(h=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return h<1?h=1:a=v*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/v)+1};p.exports=x},99140:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=x},87844:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=x},89433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.pow(2,-10*t)};p.exports=x},48857:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t};p.exports=x},81596:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(7147)},34826:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t};p.exports=x},20544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=x},92029:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*(2-t)};p.exports=x},59133:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t};p.exports=x},78137:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=x},45840:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1- --t*t*t*t};p.exports=x},98516:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t*t};p.exports=x},16509:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=x},17868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t*t*t+1};p.exports=x},35248:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=x},34025:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=x},52768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=x},82500:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};p.exports=x},49752:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(72251)},75698:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};p.exports=x},43855:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return v===void 0&&(v=1e-4),Math.abs(t-h)<v};p.exports=x},25777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};p.exports=x},5470:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return v===void 0&&(v=1e-4),t>h-v};p.exports=x},94977:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return v===void 0&&(v=1e-4),t<h+v};p.exports=x},48379:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36383),v=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=v(!1,a,h),p.exports=a},89318:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85710),v=function(a,r){for(var n=0,e=a.length-1,s=0;s<=e;s++)n+=Math.pow(1-r,e-s)*Math.pow(r,s)*a[s]*h(e,s);return n};p.exports=v},77259:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87842),v=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return a[0]===a[n]?(r<0&&(s=Math.floor(e=n*(1+r))),h(e-s,a[(s-1+n)%n],a[s],a[(s+1)%n],a[(s+2)%n])):r<0?a[0]-(h(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[n]-(h(e-n,a[n],a[n],a[n-1],a[n-1])-a[n]):h(e-s,a[s?s-1:0],a[s],a[n<s+1?n:s+1],a[n<s+2?n:s+2])};p.exports=v},36316:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(r,n){var e=1-r;return e*e*e*n}function t(r,n){var e=1-r;return 3*e*e*r*n}function h(r,n){return 3*(1-r)*r*r*n}function v(r,n){return r*r*r*n}var a=function(r,n,e,s,o){return x(r,n)+t(r,e)+h(r,s)+v(r,o)};p.exports=a},28392:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28915),v=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return r<0?h(a[0],a[1],e):r>1?h(a[n],a[n-1],n-e):h(a[s],a[s+1>n?n:s+1],e-s)};p.exports=v},32112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,r){var n=1-a;return n*n*r}function t(a,r){return 2*(1-a)*a*r}function h(a,r){return a*a*r}var v=function(a,r,n,e){return x(a,r)+t(a,n)+h(a,e)};p.exports=v},47235:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7602),v=function(a,r,n){return r+(n-r)*h(a,0,1)};p.exports=v},50178:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(54261),v=function(a,r,n){return r+(n-r)*h(a,0,1)};p.exports=v},38289:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};p.exports=x},50030:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};p.exports=x},81230:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0&&(t&t-1)===0};p.exports=x},49001:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,n=this.n;a=a.toString();for(var e=0;e<a.length;e++)n+=a.charCodeAt(e),r=.02519603282416938*n,n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var n=a[r];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,n=r;n>0;n--){var e=Math.floor(this.frac()*(n+1)),s=a[e];a[e]=a[n],a[n]=s}return a}});p.exports=v},63448:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return v===void 0&&(v=0),h===0?t:(t-=v,t=h*Math.ceil(t/h),a?(v+t)/h:v+t)};p.exports=x},56583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return v===void 0&&(v=0),h===0?t:(t-=v,t=h*Math.floor(t/h),a?(v+t)/h:v+t)};p.exports=x},77720:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){return v===void 0&&(v=0),h===0?t:(t-=v,t=h*Math.round(t/h),a?(v+t)/h:v+t)};p.exports=x},73697:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var h=t(8054),v=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=v(!1,a,h),p.exports=a,t.g.Phaser=a},71289:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(92209),a=t(88571),r=new h({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,s,o,i,l){a.call(this,e,s,o,i,l),this.body=null}});p.exports=r},86689:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(39506),a=t(20339),r=t(89774),n=t(66022),e=t(95540),s=t(46975),o=t(72441),i=t(47956),l=t(37277),u=t(44594),f=t(26099),d=t(82248),c=new h({initialize:function(m){this.scene=m,this.systems=m.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,m.sys.events.once(u.BOOT,this.boot,this),m.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new n(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(u.UPDATE,this.world.update,this.world),g.on(u.POST_UPDATE,this.world.postUpdate,this.world),g.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,m=this.systems.settings.physics,y=s(e(m,"arcade",{}),e(g,"arcade",{}));return y},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(g,m,y,T,S){return y===void 0&&(y=null),T===void 0&&(T=null),S===void 0&&(S=y),this.world.collideObjects(g,m,y,T,S,!0)},collide:function(g,m,y,T,S){return y===void 0&&(y=null),T===void 0&&(T=null),S===void 0&&(S=y),this.world.collideObjects(g,m,y,T,S,!1)},collideTiles:function(g,m,y,T,S){return this.world.collideTiles(g,m,y,T,S)},overlapTiles:function(g,m,y,T,S){return this.world.overlapTiles(g,m,y,T,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,m,y,T,S,C){T===void 0&&(T=60);var P=Math.atan2(y-g.y,m-g.x);return g.body.acceleration.setToPolar(P,T),S!==void 0&&C!==void 0&&g.body.maxVelocity.set(S,C),P},accelerateToObject:function(g,m,y,T,S){return this.accelerateTo(g,m.x,m.y,y,T,S)},closest:function(g,m){m||(m=this.world.bodies.entries);for(var y=Number.MAX_VALUE,T=null,S=g.x,C=g.y,P=m.length,b=0;b<P;b++){var w=m[b],M=w.body||w;if(!(g===w||g===M||g===M.gameObject||g===M.center)){var D=r(S,C,M.center.x,M.center.y);D<y&&(T=w,y=D)}}return T},furthest:function(g,m){m||(m=this.world.bodies.entries);for(var y=-1,T=null,S=g.x,C=g.y,P=m.length,b=0;b<P;b++){var w=m[b],M=w.body||w;if(!(g===w||g===M||g===M.gameObject||g===M.center)){var D=r(S,C,M.center.x,M.center.y);D>y&&(T=w,y=D)}}return T},moveTo:function(g,m,y,T,S){T===void 0&&(T=60),S===void 0&&(S=0);var C=Math.atan2(y-g.y,m-g.x);return S>0&&(T=a(g.x,g.y,m,y)/(S/1e3)),g.body.velocity.setToPolar(C,T),C},moveToObject:function(g,m,y,T){return this.moveTo(g,m.x,m.y,y,T)},velocityFromAngle:function(g,m,y){return m===void 0&&(m=60),y===void 0&&(y=new f),y.setToPolar(v(g),m)},velocityFromRotation:function(g,m,y){return m===void 0&&(m=60),y===void 0&&(y=new f),y.setToPolar(g,m)},overlapRect:function(g,m,y,T,S,C){return i(this.world,g,m,y,T,S,C)},overlapCirc:function(g,m,y,T,S){return o(this.world,g,m,y,T,S)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(u.UPDATE,this.world.update,this.world),g.off(u.POST_UPDATE,this.world.postUpdate,this.world),g.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});l.register("ArcadePhysics",c,"arcadePhysics"),p.exports=c},13759:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(92209),a=t(68287),r=new h({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,s,o,i,l){a.call(this,e,s,o,i,l),this.body=null}});p.exports=r},37742:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(78389),a=t(37747),r=t(63012),n=t(43396),e=t(87841),s=t(37303),o=t(95829),i=t(26099),l=new h({Mixins:[v],initialize:function(f,d){var c=64,g=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=d!==void 0;y&&d.displayWidth&&(c=d.displayWidth,g=d.displayHeight),y||(d=m),this.world=f,this.gameObject=y?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=f.defaults.debugShowBody,this.debugShowVelocity=f.defaults.debugShowVelocity,this.debugBodyColor=f.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=c,this.height=g,this.sourceWidth=c,this.sourceHeight=g,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(g/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=f.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,f=this.transform;if(u.parentContainer){var d=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);f.x=d.tx,f.y=d.ty,f.rotation=n(d.rotation),f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY}else f.x=u.x,f.y=u.y,f.rotation=u.angle,f.scaleX=u.scaleX,f.scaleY=u.scaleY,f.displayOriginX=u.displayOriginX,f.displayOriginY=u.displayOriginY;var c=!1;if(this.syncBounds){var g=u.getBounds(this._bounds);this.width=g.width,this.height=g.height,c=!0}else{var m=Math.abs(f.scaleX),y=Math.abs(f.scaleY);(this._sx!==m||this._sy!==y)&&(this.width=this.sourceWidth*m,this.height=this.sourceHeight*y,this._sx=m,this._sy=y,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var f=this.wasTouching,d=this.touching,c=this.blocked;u?o(!0,f):(f.none=d.none,f.up=d.up,f.down=d.down,f.left=d.left,f.right=d.right),o(!0,d),o(!0,c),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,f){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var d=this.position;this.prev.x=d.x,this.prev.y=d.y,this.prevFrame.x=d.x,this.prevFrame.y=d.y}u&&this.update(f)},update:function(u){var f=this.prev,d=this.position,c=this.velocity;if(f.set(d.x,d.y),!this.moves){this._dx=d.x-f.x,this._dy=d.y-f.y;return}if(this.directControl){var g=this.autoFrame;c.set((d.x-g.x)/u,(d.y-g.y)/u),this.world.updateMotion(this,u),this._dx=d.x-g.x,this._dy=d.y-g.y}else this.world.updateMotion(this,u),this.newVelocity.set(c.x*u,c.y*u),d.add(this.newVelocity),this._dx=d.x-f.x,this._dy=d.y-f.y;var m=c.x,y=c.y;if(this.updateCenter(),this.angle=Math.atan2(y,m),this.speed=Math.sqrt(m*m+y*y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var T=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,T.up,T.down,T.left,T.right)}},postUpdate:function(){var u=this.position,f=u.x-this.prevFrame.x,d=u.y-this.prevFrame.y,c=this.gameObject;if(this.moves){var g=this.deltaMax.x,m=this.deltaMax.y;g!==0&&f!==0&&(f<0&&f<-g?f=-g:f>0&&f>g&&(f=g)),m!==0&&d!==0&&(d<0&&d<-m?d=-m:d>0&&d>m&&(d=m)),c&&(c.x+=f,c.y+=d)}f<0?this.facing=a.FACING_LEFT:f>0&&(this.facing=a.FACING_RIGHT),d<0?this.facing=a.FACING_UP:d>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&c&&(c.angle+=this.deltaZ()),this._tx=f,this._ty=d,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,f=this.velocity,d=this.blocked,c=this.customBoundsRectangle,g=this.world.checkCollision,m=this.worldBounce?-this.worldBounce.x:-this.bounce.x,y=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return u.x<c.x&&g.left?(u.x=c.x,f.x*=m,d.left=!0,T=!0):this.right>c.right&&g.right&&(u.x=c.right-this.width,f.x*=m,d.right=!0,T=!0),u.y<c.y&&g.up?(u.y=c.y,f.y*=y,d.up=!0,T=!0):this.bottom>c.bottom&&g.down&&(u.y=c.bottom-this.height,f.y*=y,d.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(u,f){return f===void 0&&(f=u),this.offset.set(u,f),this},setGameObject:function(u,f){if(f===void 0&&(f=!0),!u||!u.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),u.body&&d.disable(u),this.gameObject=u,u.body=this,this.setSize(),this.enable=f,this},setSize:function(u,f,d){d===void 0&&(d=!0);var c=this.gameObject;if(c&&(!u&&c.frame&&(u=c.frame.realWidth),!f&&c.frame&&(f=c.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=f,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&c&&c.getCenter){var g=(c.width-u)/2,m=(c.height-f)/2;this.offset.set(g,m)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,f,d){return f===void 0&&(f=this.offset.x),d===void 0&&(d=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,d),this.updateCenter()):this.isCircle=!1,this},reset:function(u,f){this.stop();var d=this.gameObject;d&&(d.setPosition(u,f),this.rotation=d.angle,this.preRotation=d.angle);var c=this.position;d&&d.getTopLeft?d.getTopLeft(c):c.set(u,f),this.prev.copy(c),this.prevFrame.copy(c),this.autoFrame.copy(c),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,f){if(!this.isCircle)return s(this,u,f);if(this.radius>0&&u>=this.left&&u<=this.right&&f>=this.top&&f<=this.bottom){var d=(this.center.x-u)*(this.center.x-u),c=(this.center.y-f)*(this.center.y-f);return d+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var f=this.position,d=f.x+this.halfWidth,c=f.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(d,c,this.width/2):(this.checkCollision.up&&u.lineBetween(f.x,f.y,f.x+this.width,f.y),this.checkCollision.right&&u.lineBetween(f.x+this.width,f.y,f.x+this.width,f.y+this.height),this.checkCollision.down&&u.lineBetween(f.x,f.y+this.height,f.x+this.width,f.y+this.height),this.checkCollision.left&&u.lineBetween(f.x,f.y,f.x,f.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(d,c,d+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,f,d,c){u===void 0&&(u=!0),this.collideWorldBounds=u;var g=f!==void 0,m=d!==void 0;return(g||m)&&(this.worldBounce||(this.worldBounce=new i),g&&(this.worldBounce.x=f),m&&(this.worldBounce.y=d)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(u,f){return this.velocity.set(u,f),u=this.velocity.x,f=this.velocity.y,this.speed=Math.sqrt(u*u+f*f),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,f){return this.maxVelocity.set(u,f),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,f){return this.slideFactor.set(u,f),this},setBounce:function(u,f){return this.bounce.set(u,f),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,f){return this.acceleration.set(u,f),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,f){return this.drag.set(u,f),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,f){return this.gravity.set(u,f),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,f){return this.friction.set(u,f),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,f,d,c){this.x+=u,this.updateCenter(),f!==null&&(this.velocity.x=f*this.slideFactor.x);var g=this.blocked;d&&(g.left=!0,g.none=!1),c&&(g.right=!0,g.none=!1)},processY:function(u,f,d,c){this.y+=u,this.updateCenter(),f!==null&&(this.velocity.y=f*this.slideFactor.y);var g=this.blocked;d&&(g.up=!0,g.none=!1),c&&(g.down=!0,g.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=l},79342:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e,s,o,i,l){this.world=r,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=s,this.collideCallback=o,this.processCallback=i,this.callbackContext=l},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=v},66022:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71289),v=t(13759),a=t(37742),r=t(83419),n=t(37747),e=t(60758),s=t(72624),o=t(71464),i=new r({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(l,u,f,d,c){return this.world.addCollider(l,u,f,d,c)},overlap:function(l,u,f,d,c){return this.world.addOverlap(l,u,f,d,c)},existing:function(l,u){var f=u?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(l,f),l},staticImage:function(l,u,f,d){var c=new h(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},image:function(l,u,f,d){var c=new h(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticSprite:function(l,u,f,d){var c=new v(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},sprite:function(l,u,f,d){var c=new v(this.scene,l,u,f,d);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticGroup:function(l,u){return this.sys.updateList.add(new o(this.world,this.world.scene,l,u))},group:function(l,u){return this.sys.updateList.add(new e(this.world,this.world.scene,l,u))},body:function(l,u,f,d){var c=new a(this.world);return c.position.set(l,u),f&&d&&c.setSize(f,d),this.world.add(c,n.DYNAMIC_BODY),c},staticBody:function(l,u,f,d){var c=new s(this.world);return c.position.set(l,u),f&&d&&c.setSize(f,d),this.world.add(c,n.STATIC_BODY),c},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=i},79599:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=0;if(!Array.isArray(t))h=t;else for(var v=0;v<t.length;v++)h|=t[v];return h};p.exports=x},64897:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),v=function(a,r,n,e){var s=0,o=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(s=a.right-r.x,s>o&&!n||a.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===h.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===h.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(s=a.x-r.width-r.x,-s>o&&!n||a.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===h.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===h.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=s,r.overlapX=s,s};p.exports=v},45170:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),v=function(a,r,n,e){var s=0,o=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(s=a.bottom-r.y,s>o&&!n||a.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===h.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===h.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(s=a.y-r.bottom,-s>o&&!n||a.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===h.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===h.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=s,r.overlapY=s,s};p.exports=v},60758:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),v=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),o=new v({Extends:e,Mixins:[a],initialize:function(l,u,f,d){if(!f&&!d)d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(s(f))d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&s(f[0])){var c=this;f.forEach(function(g){g.internalCreateCallback=c.createCallbackHandler,g.internalRemoveCallback=c.removeCallbackHandler,g.classType=n(g,"classType",h)}),d=null}else d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=l,d&&(d.classType=n(d,"classType",h)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:n(d,"collideWorldBounds",!1),setBoundsRectangle:n(d,"customBoundsRectangle",null),setAccelerationX:n(d,"accelerationX",0),setAccelerationY:n(d,"accelerationY",0),setAllowDrag:n(d,"allowDrag",!0),setAllowGravity:n(d,"allowGravity",!0),setAllowRotation:n(d,"allowRotation",!0),setDamping:n(d,"useDamping",!1),setBounceX:n(d,"bounceX",0),setBounceY:n(d,"bounceY",0),setDragX:n(d,"dragX",0),setDragY:n(d,"dragY",0),setEnable:n(d,"enable",!0),setGravityX:n(d,"gravityX",0),setGravityY:n(d,"gravityY",0),setFrictionX:n(d,"frictionX",0),setFrictionY:n(d,"frictionY",0),setMaxSpeed:n(d,"maxSpeed",-1),setMaxVelocityX:n(d,"maxVelocityX",1e4),setMaxVelocityY:n(d,"maxVelocityY",1e4),setVelocityX:n(d,"velocityX",0),setVelocityY:n(d,"velocityY",0),setAngularVelocity:n(d,"angularVelocity",0),setAngularAcceleration:n(d,"angularAcceleration",0),setAngularDrag:n(d,"angularDrag",0),setMass:n(d,"mass",1),setImmovable:n(d,"immovable",!1)},e.call(this,u,f,d),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var l=i.body;for(var u in this.defaults)l[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,l,u){u===void 0&&(u=0);for(var f=this.getChildren(),d=0;d<f.length;d++)f[d].body.velocity.set(i+d*u,l+d*u);return this},setVelocityX:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.x=i+f*l;return this},setVelocityY:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),f=0;f<u.length;f++)u[f].body.velocity.y=i+f*l;return this}});p.exports=o},3017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,h,v,a,r,n,e,s,o,i,l,u,f,d,c,g,m=function(b,w,M){x=b,t=w;var D=x.velocity.x,O=t.velocity.x;return h=x.pushable,s=x._dx<0,o=x._dx>0,i=x._dx===0,d=Math.abs(x.right-t.x)<=Math.abs(t.right-x.x),n=O-D*x.bounce.x,v=t.pushable,l=t._dx<0,u=t._dx>0,f=t._dx===0,c=!d,e=D-O*t.bounce.x,g=Math.abs(M),y()},y=function(){return o&&d&&t.blocked.right?(x.processX(-g,n,!1,!0),1):s&&c&&t.blocked.left?(x.processX(g,n,!0),1):u&&c&&x.blocked.right?(t.processX(-g,e,!1,!0),2):l&&d&&x.blocked.left?(t.processX(g,e,!0),2):0},T=function(){var b=x.velocity.x,w=t.velocity.x,M=Math.sqrt(w*w*t.mass/x.mass)*(w>0?1:-1),D=Math.sqrt(b*b*x.mass/t.mass)*(b>0?1:-1),O=(M+D)*.5;return M-=O,D-=O,a=O+M*x.bounce.x,r=O+D*t.bounce.x,s&&c?S(0):l&&d?S(1):o&&d?S(2):u&&c?S(3):!1},S=function(b){if(h&&v)g*=.5,b===0||b===3?(x.processX(g,a),t.processX(-g,r)):(x.processX(-g,a),t.processX(g,r));else if(h&&!v)b===0||b===3?x.processX(g,n,!0):x.processX(-g,n,!1,!0);else if(!h&&v)b===0||b===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var w=g*.5;b===0?f?(x.processX(g,0,!0),t.processX(0,null,!1,!0)):u?(x.processX(w,0,!0),t.processX(-w,0,!1,!0)):(x.processX(w,t.velocity.x,!0),t.processX(-w,null,!1,!0)):b===1?i?(x.processX(0,null,!1,!0),t.processX(g,0,!0)):o?(x.processX(-w,0,!1,!0),t.processX(w,0,!0)):(x.processX(-w,null,!1,!0),t.processX(w,x.velocity.x,!0)):b===2?f?(x.processX(-g,0,!1,!0),t.processX(0,null,!0)):l?(x.processX(-w,0,!1,!0),t.processX(w,0,!0)):(x.processX(-w,t.velocity.x,!1,!0),t.processX(w,null,!0)):b===3&&(i?(x.processX(0,null,!0),t.processX(-g,0,!1,!0)):s?(x.processX(w,0,!0),t.processX(-w,0,!1,!0)):(x.processX(w,t.velocity.y,!0),t.processX(-w,null,!1,!0)))}return!0},C=function(b){if(b===1?t.velocity.x=0:d?t.processX(g,e,!0):t.processX(-g,e,!1,!0),x.moves){var w=x.directControl?x.y-x.autoFrame.y:x.y-x.prev.y;t.y+=w*x.friction.y,t._dy=t.y-t.prev.y}},P=function(b){if(b===2?x.velocity.x=0:c?x.processX(g,n,!0):x.processX(-g,n,!1,!0),t.moves){var w=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;x.y+=w*t.friction.y,x._dy=x.y-x.prev.y}};p.exports={BlockCheck:y,Check:T,Set:m,Run:S,RunImmovableBody1:C,RunImmovableBody2:P}},47962:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,h,v,a,r,n,e,s,o,i,l,u,f,d,c,g,m=function(b,w,M){x=b,t=w;var D=x.velocity.y,O=t.velocity.y;return h=x.pushable,s=x._dy<0,o=x._dy>0,i=x._dy===0,d=Math.abs(x.bottom-t.y)<=Math.abs(t.bottom-x.y),n=O-D*x.bounce.y,v=t.pushable,l=t._dy<0,u=t._dy>0,f=t._dy===0,c=!d,e=D-O*t.bounce.y,g=Math.abs(M),y()},y=function(){return o&&d&&t.blocked.down?(x.processY(-g,n,!1,!0),1):s&&c&&t.blocked.up?(x.processY(g,n,!0),1):u&&c&&x.blocked.down?(t.processY(-g,e,!1,!0),2):l&&d&&x.blocked.up?(t.processY(g,e,!0),2):0},T=function(){var b=x.velocity.y,w=t.velocity.y,M=Math.sqrt(w*w*t.mass/x.mass)*(w>0?1:-1),D=Math.sqrt(b*b*x.mass/t.mass)*(b>0?1:-1),O=(M+D)*.5;return M-=O,D-=O,a=O+M*x.bounce.y,r=O+D*t.bounce.y,s&&c?S(0):l&&d?S(1):o&&d?S(2):u&&c?S(3):!1},S=function(b){if(h&&v)g*=.5,b===0||b===3?(x.processY(g,a),t.processY(-g,r)):(x.processY(-g,a),t.processY(g,r));else if(h&&!v)b===0||b===3?x.processY(g,n,!0):x.processY(-g,n,!1,!0);else if(!h&&v)b===0||b===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var w=g*.5;b===0?f?(x.processY(g,0,!0),t.processY(0,null,!1,!0)):u?(x.processY(w,0,!0),t.processY(-w,0,!1,!0)):(x.processY(w,t.velocity.y,!0),t.processY(-w,null,!1,!0)):b===1?i?(x.processY(0,null,!1,!0),t.processY(g,0,!0)):o?(x.processY(-w,0,!1,!0),t.processY(w,0,!0)):(x.processY(-w,null,!1,!0),t.processY(w,x.velocity.y,!0)):b===2?f?(x.processY(-g,0,!1,!0),t.processY(0,null,!0)):l?(x.processY(-w,0,!1,!0),t.processY(w,0,!0)):(x.processY(-w,t.velocity.y,!1,!0),t.processY(w,null,!0)):b===3&&(i?(x.processY(0,null,!0),t.processY(-g,0,!1,!0)):s?(x.processY(w,0,!0),t.processY(-w,0,!1,!0)):(x.processY(w,t.velocity.y,!0),t.processY(-w,null,!1,!0)))}return!0},C=function(b){if(b===1?t.velocity.y=0:d?t.processY(g,e,!0):t.processY(-g,e,!1,!0),x.moves){var w=x.directControl?x.x-x.autoFrame.x:x.x-x.prev.x;t.x+=w*x.friction.x,t._dx=t.x-t.prev.x}},P=function(b){if(b===2?x.velocity.y=0:c?x.processY(g,n,!0):x.processY(-g,n,!1,!0),t.moves){var w=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;x.x+=w*t.friction.x,x._dx=x.x-x.prev.x}};p.exports={BlockCheck:y,Check:T,Set:m,Run:S,RunImmovableBody1:C,RunImmovableBody2:P}},14087:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(64897),v=t(3017),a=function(r,n,e,s,o){o===void 0&&(o=h(r,n,e,s));var i=r.immovable,l=n.immovable;if(e||o===0||i&&l||r.customSeparateX||n.customSeparateX)return o!==0||r.embedded&&n.embedded;var u=v.Set(r,n,o);return!i&&!l?u>0?!0:v.Check():(i?v.RunImmovableBody1(u):l&&v.RunImmovableBody2(u),!0)};p.exports=a},89936:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45170),v=t(47962),a=function(r,n,e,s,o){o===void 0&&(o=h(r,n,e,s));var i=r.immovable,l=n.immovable;if(e||o===0||i&&l||r.customSeparateY||n.customSeparateY)return o!==0||r.embedded&&n.embedded;var u=v.Set(r,n,o);return!i&&!l?u>0?!0:v.Check():(i?v.RunImmovableBody1(u):l&&v.RunImmovableBody2(u),!0)};p.exports=a},95829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===void 0&&(h={}),h.none=t,h.up=!1,h.down=!1,h.left=!1,h.right=!1,t||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};p.exports=x},72624:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87902),v=t(83419),a=t(78389),r=t(37747),n=t(37303),e=t(95829),s=t(26099),o=new v({Mixins:[a],initialize:function(l,u){var f=64,d=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=u!==void 0;g&&u.displayWidth&&(f=u.displayWidth,d=u.displayHeight),g||(u=c),this.world=l,this.gameObject=g?u:void 0,this.isBody=!0,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(u.x-f*u.originX,u.y-d*u.originY),this.width=f,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,l,u){if(l===void 0&&(l=!0),u===void 0&&(u=!0),!i||!i.hasTransformComponent)return this;var f=this.world;return this.gameObject&&this.gameObject.body&&(f.disable(this.gameObject),this.gameObject.body=null),i.body&&f.disable(i),this.gameObject=i,i.body=this,this.setSize(),l&&this.updateFromGameObject(),this.enable=u,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,l){return l===void 0&&(l=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,l,u){u===void 0&&(u=!0);var f=this.gameObject;if(f&&f.frame&&(i||(i=f.frame.realWidth),l||(l=f.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=l,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(l/2),u&&f&&f.getCenter){var d=f.displayWidth/2,c=f.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,l,u){return l===void 0&&(l=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,l){var u=this.gameObject;i===void 0&&(i=u.x),l===void 0&&(l=u.y),this.world.staticTree.remove(this),u.setPosition(i,l),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,l){return this.isCircle?h(this,i,l):n(this,i,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var l=this.position,u=l.x+this.halfWidth,f=l.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,f,this.width/2):i.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=o},71464:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13759),v=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),o=new v({Extends:e,Mixins:[a],initialize:function(l,u,f,d){!f&&!d?d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:s(f)?(d=f,f=null,d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=n(d,"classType",h)):Array.isArray(f)&&s(f[0])?(d=f,f=null,d.forEach(function(c){c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=n(c,"classType",h)})):d={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=l,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,u,f,d),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,l=0;l<i.length;l++)i[l].body.reset();return this}});p.exports=o},82248:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55495),v=t(37742),a=t(45319),r=t(83419),n=t(79342),e=t(37747),s=t(20339),o=t(52816),i=t(50792),l=t(63012),u=t(43855),f=t(5470),d=t(94977),c=t(64897),g=t(45170),m=t(96523),y=t(35154),T=t(36383),S=t(25774),C=t(96602),P=t(87841),b=t(59542),w=t(40012),M=t(14087),D=t(89936),O=t(35072),U=t(72624),W=t(2483),Y=t(61340),X=t(26099),N=t(15994),V=new r({Extends:i,initialize:function(B,G){i.call(this),this.scene=B,this.bodies=new O,this.staticBodies=new O,this.pendingDestroy=new O,this.colliders=new S,this.gravity=new X(y(G,"gravity.x",0),y(G,"gravity.y",0)),this.bounds=new P(y(G,"x",0),y(G,"y",0),y(G,"width",B.sys.scale.width),y(G,"height",B.sys.scale.height)),this.checkCollision={up:y(G,"checkCollision.up",!0),down:y(G,"checkCollision.down",!0),left:y(G,"checkCollision.left",!0),right:y(G,"checkCollision.right",!0)},this.fps=y(G,"fps",60),this.fixedStep=y(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(G,"timeScale",1),this.OVERLAP_BIAS=y(G,"overlapBias",4),this.TILE_BIAS=y(G,"tileBias",16),this.forceX=y(G,"forceX",!1),this.isPaused=y(G,"isPaused",!1),this._total=0,this.drawDebug=y(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(G,"debugShowBody",!0),debugShowStaticBody:y(G,"debugShowStaticBody",!0),debugShowVelocity:y(G,"debugShowVelocity",!0),bodyDebugColor:y(G,"debugBodyColor",16711935),staticBodyDebugColor:y(G,"debugStaticBodyColor",255),velocityDebugColor:y(G,"debugVelocityColor",65280)},this.maxEntries=y(G,"maxEntries",16),this.useTree=y(G,"useTree",!0),this.tree=new b(this.maxEntries),this.staticTree=new b(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(I,B){B===void 0&&(B=e.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var G=0;G<I.length;G++){var H=I[G];if(H.isParent)for(var k=H.getChildren(),Z=0;Z<k.length;Z++){var J=k[Z];J.isParent?this.enable(J,B):this.enableBody(J,B)}else this.enableBody(H,B)}},enableBody:function(I,B){return B===void 0&&(B=e.DYNAMIC_BODY),I.hasTransformComponent&&(I.body||(B===e.DYNAMIC_BODY?I.body=new v(this,I):B===e.STATIC_BODY&&(I.body=new U(this,I))),this.add(I.body)),I},add:function(I){return I.physicsType===e.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===e.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var B=0;B<I.length;B++){var G=I[B];if(G.isParent)for(var H=G.getChildren(),k=0;k<H.length;k++){var Z=H[k];Z.isParent?this.disable(Z):this.disableBody(Z.body)}else this.disableBody(G.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===e.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,B,G,H,k,Z,J,j){return this.bounds.setTo(I,B,G,H),k!==void 0&&this.setBoundsCollision(k,Z,J,j),this},setBoundsCollision:function(I,B,G,H){return I===void 0&&(I=!0),B===void 0&&(B=!0),G===void 0&&(G=!0),H===void 0&&(H=!0),this.checkCollision.left=I,this.checkCollision.right=B,this.checkCollision.up=G,this.checkCollision.down=H,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(I,B,G,H,k){G===void 0&&(G=null),H===void 0&&(H=null),k===void 0&&(k=G);var Z=new n(this,!1,I,B,G,H,k);return this.colliders.add(Z),Z},addOverlap:function(I,B,G,H,k){G===void 0&&(G=null),H===void 0&&(H=null),k===void 0&&(k=G);var Z=new n(this,!0,I,B,G,H,k);return this.colliders.add(Z),Z},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,B){if(!(this.isPaused||this.bodies.size===0)){var G,H=this._frameTime,k=this._frameTimeMS*this.timeScale;this._elapsed+=B;var Z,J=this.bodies.entries,j=this._elapsed>=k;for(this.fixedStep||(H=B*.001,j=!0,this._elapsed=0),G=0;G<J.length;G++)Z=J[G],Z.enable&&Z.preUpdate(j,H);if(j){this._elapsed-=k,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(J));var _=this.colliders.update();for(G=0;G<_.length;G++){var tt=_[G];tt.active&&tt.update()}this.emit(l.WORLD_STEP,H)}for(;this._elapsed>=k;)this._elapsed-=k,this.step(H)}},step:function(I){var B,G,H=this.bodies.entries,k=H.length;for(B=0;B<k;B++)G=H[B],G.enable&&G.update(I);this.useTree&&(this.tree.clear(),this.tree.load(H));var Z=this.colliders.update();for(B=0;B<Z.length;B++){var J=Z[B];J.active&&J.update()}this.emit(l.WORLD_STEP,I),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var I,B,G=this.bodies.entries,H=G.length,k=this.bodies,Z=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,I=0;I<H;I++)B=G[I],B.enable&&B.postUpdate();if(this.drawDebug){var J=this.debugGraphic;for(J.clear(),I=0;I<H;I++)B=G[I],B.willDrawDebug()&&B.drawDebug(J);for(G=Z.entries,H=G.length,I=0;I<H;I++)B=G[I],B.willDrawDebug()&&B.drawDebug(J)}var j=this.pendingDestroy;if(j.size>0){var _=this.tree,tt=this.staticTree;for(G=j.entries,H=G.length,I=0;I<H;I++)B=G[I],B.physicsType===e.DYNAMIC_BODY?(_.remove(B),k.delete(B)):B.physicsType===e.STATIC_BODY&&(tt.remove(B),Z.delete(B)),B.world=void 0,B.gameObject=void 0;j.clear()}},updateMotion:function(I,B){I.allowRotation&&this.computeAngularVelocity(I,B),this.computeVelocity(I,B)},computeAngularVelocity:function(I,B){var G=I.angularVelocity,H=I.angularAcceleration,k=I.angularDrag,Z=I.maxAngular;H?G+=H*B:I.allowDrag&&k&&(k*=B,f(G-k,0,.1)?G-=k:d(G+k,0,.1)?G+=k:G=0),G=a(G,-Z,Z);var J=G-I.angularVelocity;I.angularVelocity+=J,I.rotation+=I.angularVelocity*B},computeVelocity:function(I,B){var G=I.velocity.x,H=I.acceleration.x,k=I.drag.x,Z=I.maxVelocity.x,J=I.velocity.y,j=I.acceleration.y,_=I.drag.y,tt=I.maxVelocity.y,et=I.speed,rt=I.maxSpeed,at=I.allowDrag,st=I.useDamping;I.allowGravity&&(G+=(this.gravity.x+I.gravity.x)*B,J+=(this.gravity.y+I.gravity.y)*B),H?G+=H*B:at&&k&&(st?(k=Math.pow(k,B),G*=k,et=Math.sqrt(G*G+J*J),u(et,0,.001)&&(G=0)):(k*=B,f(G-k,0,.01)?G-=k:d(G+k,0,.01)?G+=k:G=0)),j?J+=j*B:at&&_&&(st?(_=Math.pow(_,B),J*=_,et=Math.sqrt(G*G+J*J),u(et,0,.001)&&(J=0)):(_*=B,f(J-_,0,.01)?J-=_:d(J+_,0,.01)?J+=_:J=0)),G=a(G,-Z,Z),J=a(J,-tt,tt),I.velocity.set(G,J),rt>-1&&I.velocity.length()>rt&&(I.velocity.normalize().scale(rt),et=rt),I.speed=et},separate:function(I,B,G,H,k){var Z,J,j=!1,_=!0;if(!I.enable||!B.enable||I.checkCollision.none||B.checkCollision.none||!this.intersects(I,B)||G&&G.call(H,I.gameObject||I,B.gameObject||B)===!1)return j;if(I.isCircle||B.isCircle){var tt=this.separateCircle(I,B,k);tt.result?(j=!0,_=!1):(Z=tt.x,J=tt.y,_=!0)}if(_){var et=!1,rt=!1,at=this.OVERLAP_BIAS;k?(et=M(I,B,k,at,Z),rt=D(I,B,k,at,J)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(et=M(I,B,k,at,Z),this.intersects(I,B)&&(rt=D(I,B,k,at,J))):(rt=D(I,B,k,at,J),this.intersects(I,B)&&(et=M(I,B,k,at,Z))),j=et||rt}return j&&(k?(I.onOverlap||B.onOverlap)&&this.emit(l.OVERLAP,I.gameObject,B.gameObject,I,B):(I.onCollide||B.onCollide)&&this.emit(l.COLLIDE,I.gameObject,B.gameObject,I,B)),j},separateCircle:function(I,B,G){c(I,B,!1,0),g(I,B,!1,0);var H=I.isCircle,k=B.isCircle,Z=I.center,J=B.center,j=I.immovable,_=B.immovable,tt=I.velocity,et=B.velocity,rt=0,at=!0;if(H!==k){at=!1;var st=Z.x,ct=Z.y,pt=I.halfWidth,vt=B.position.x,nt=B.position.y,lt=B.right,ht=B.bottom;k&&(st=J.x,ct=J.y,pt=B.halfWidth,vt=I.position.x,nt=I.position.y,lt=I.right,ht=I.bottom),ct<nt?st<vt?rt=s(st,ct,vt,nt)-pt:st>lt&&(rt=s(st,ct,lt,nt)-pt):ct>ht&&(st<vt?rt=s(st,ct,vt,ht)-pt:st>lt&&(rt=s(st,ct,lt,ht)-pt)),rt*=-1}else rt=I.halfWidth+B.halfWidth-o(Z,J);I.overlapR=rt,B.overlapR=rt;var Tt=h(Z,J),wt=(rt+T.EPSILON)*Math.cos(Tt),It=(rt+T.EPSILON)*Math.sin(Tt),Ct={overlap:rt,result:!1,x:wt,y:It};if(G&&(!at||at&&rt!==0))return Ct.result=!0,Ct;if(!at&&rt===0||j&&_||I.customSeparateX||B.customSeparateX)return Ct.x=void 0,Ct.y=void 0,Ct;var At=!I.pushable&&!B.pushable;if(at){var Nt=Z.x-J.x,Ht=Z.y-J.y,Lt=Math.sqrt(Math.pow(Nt,2)+Math.pow(Ht,2)),zt=(J.x-Z.x)/Lt||0,Vt=(J.y-Z.y)/Lt||0,Jt=2*(tt.x*zt+tt.y*Vt-et.x*zt-et.y*Vt)/(I.mass+B.mass);(j||_||!I.pushable||!B.pushable)&&(Jt*=2),!j&&I.pushable&&(tt.x=tt.x-Jt/I.mass*zt,tt.y=tt.y-Jt/I.mass*Vt,tt.multiply(I.bounce)),!_&&B.pushable&&(et.x=et.x+Jt/B.mass*zt,et.y=et.y+Jt/B.mass*Vt,et.multiply(B.bounce)),!j&&!_&&(wt*=.5,It*=.5),(!j||I.pushable||At)&&(I.x-=wt,I.y-=It,I.updateCenter()),(!_||B.pushable||At)&&(B.x+=wt,B.y+=It,B.updateCenter()),Ct.result=!0}else(!j||I.pushable||At)&&(I.x-=wt,I.y-=It,I.updateCenter()),(!_||B.pushable||At)&&(B.x+=wt,B.y+=It,B.updateCenter()),Ct.x=void 0,Ct.y=void 0;return Ct},intersects:function(I,B){return I===B?!1:!I.isCircle&&!B.isCircle?!(I.right<=B.left||I.bottom<=B.top||I.left>=B.right||I.top>=B.bottom):I.isCircle?B.isCircle?o(I.center,B.center)<=I.halfWidth+B.halfWidth:this.circleBodyIntersects(I,B):this.circleBodyIntersects(B,I)},circleBodyIntersects:function(I,B){var G=a(I.center.x,B.left,B.right),H=a(I.center.y,B.top,B.bottom),k=(I.center.x-G)*(I.center.x-G),Z=(I.center.y-H)*(I.center.y-H);return k+Z<=I.halfWidth*I.halfWidth},overlap:function(I,B,G,H,k){return G===void 0&&(G=null),H===void 0&&(H=null),k===void 0&&(k=G),this.collideObjects(I,B,G,H,k,!0)},collide:function(I,B,G,H,k){return G===void 0&&(G=null),H===void 0&&(H=null),k===void 0&&(k=G),this.collideObjects(I,B,G,H,k,!1)},collideObjects:function(I,B,G,H,k,Z){var J,j;I.isParent&&(I.physicsType===void 0||B===void 0||I===B)&&(I=I.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var _=Array.isArray(I),tt=Array.isArray(B);if(this._total=0,!_&&!tt)this.collideHandler(I,B,G,H,k,Z);else if(!_&&tt)for(J=0;J<B.length;J++)this.collideHandler(I,B[J],G,H,k,Z);else if(_&&!tt)if(B)for(J=0;J<I.length;J++)this.collideHandler(I[J],B,G,H,k,Z);else for(J=0;J<I.length;J++){var et=I[J];for(j=J+1;j<I.length;j++)J!==j&&this.collideHandler(et,I[j],G,H,k,Z)}else for(J=0;J<I.length;J++)for(j=0;j<B.length;j++)this.collideHandler(I[J],B[j],G,H,k,Z);return this._total>0},collideHandler:function(I,B,G,H,k,Z){if(B===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,G,H,k,Z);if(!I||!B)return!1;if(I.body||I.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(I,B,G,H,k,Z);if(B.isParent)return this.collideSpriteVsGroup(I,B,G,H,k,Z);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(I,B,G,H,k,Z)}else if(I.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,I,G,H,k,Z);if(B.isParent)return this.collideGroupVsGroup(I,B,G,H,k,Z);if(B.isTilemap)return this.collideGroupVsTilemapLayer(I,B,G,H,k,Z)}else if(I.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,I,G,H,k,Z);if(B.isParent)return this.collideGroupVsTilemapLayer(B,I,G,H,k,Z)}},canCollide:function(I,B){return I&&B&&(I.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&I.collisionCategory)!==0},collideSpriteVsSprite:function(I,B,G,H,k,Z){var J=I.isBody?I:I.body,j=B.isBody?B:B.body;return this.canCollide(J,j)?(this.separate(J,j,H,k,Z)&&(G&&G.call(k,I,B),this._total++),!0):!1},collideSpriteVsGroup:function(I,B,G,H,k,Z){var J=I.isBody?I:I.body;if(!(B.getLength()===0||!J||!J.enable||J.checkCollision.none||!this.canCollide(J,B))){var j,_,tt;if(this.useTree||B.physicsType===e.STATIC_BODY){var et=this.treeMinMax;et.minX=J.left,et.minY=J.top,et.maxX=J.right,et.maxY=J.bottom;var rt=B.physicsType===e.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(_=rt.length,j=0;j<_;j++)tt=rt[j],!(J===tt||!tt.enable||tt.checkCollision.none||!B.contains(tt.gameObject))&&this.separate(J,tt,H,k,Z)&&(G&&G.call(k,J.gameObject,tt.gameObject),this._total++)}else{var at=B.getChildren(),st=B.children.entries.indexOf(I);for(_=at.length,j=0;j<_;j++)tt=at[j].body,!(!tt||j===st||!tt.enable)&&this.separate(J,tt,H,k,Z)&&(G&&G.call(k,J.gameObject,tt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(I,B,G,H,k,Z){if(!this.canCollide(I,B))return!1;var J=I.getChildren();if(J.length===0)return!1;for(var j=!1,_=0;_<J.length;_++)(J[_].body||J[_].isBody)&&this.collideSpriteVsTilemapLayer(J[_],B,G,H,k,Z)&&(j=!0);return j},collideTiles:function(I,B,G,H,k){return B.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,B,G,H,k,!1,!1)},overlapTiles:function(I,B,G,H,k){return B.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,B,G,H,k,!0,!1)},collideSpriteVsTilemapLayer:function(I,B,G,H,k,Z){var J=I.isBody?I:I.body;if(!J.enable||J.checkCollision.none||!this.canCollide(J,B))return!1;var j=B.layer,_=J.x-j.tileWidth*B.scaleX,tt=J.y-j.tileHeight*B.scaleY,et=J.width+j.tileWidth*B.scaleX,rt=J.height+j.tileHeight*B.scaleY,at=Z?null:this.tileFilterOptions,st=m(_,tt,et,rt,at,B.scene.cameras.main,B.layer);return st.length===0?!1:this.collideSpriteVsTilesHandler(I,st,G,H,k,Z,!0)},collideSpriteVsTilesHandler:function(I,B,G,H,k,Z,J){for(var j=I.isBody?I:I.body,_,tt={left:0,right:0,top:0,bottom:0},et,rt=!1,at=0;at<B.length;at++){_=B[at],et=_.tilemapLayer;var st=et.tileToWorldXY(_.x,_.y);tt.left=st.x,tt.top=st.y,tt.right=tt.left+_.width*et.scaleX,tt.bottom=tt.top+_.height*et.scaleY,W(tt,j)&&(!H||H.call(k,I,_))&&C(_,I)&&(Z||w(at,j,_,tt,et,this.TILE_BIAS,J))&&(this._total++,rt=!0,G&&G.call(k,I,_),Z&&j.onOverlap?this.emit(l.TILE_OVERLAP,I,_,j):j.onCollide&&this.emit(l.TILE_COLLIDE,I,_,j))}return rt},collideGroupVsGroup:function(I,B,G,H,k,Z){if(!(I.getLength()===0||B.getLength()===0||!this.canCollide(I,B)))for(var J=I.getChildren(),j=0;j<J.length;j++)this.collideSpriteVsGroup(J[j],B,G,H,k,Z)},wrap:function(I,B){I.body?this.wrapObject(I,B):I.getChildren?this.wrapArray(I.getChildren(),B):Array.isArray(I)?this.wrapArray(I,B):this.wrapObject(I,B)},wrapArray:function(I,B){for(var G=0;G<I.length;G++)this.wrapObject(I[G],B)},wrapObject:function(I,B){B===void 0&&(B=0),I.x=N(I.x,this.bounds.left-B,this.bounds.right+B),I.y=N(I.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=V},1093:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=x},59023:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=x},62069:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,v,a){return this.body.setCollideWorldBounds(t,h,v,a),this}};p.exports=x},78389:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79599),v={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=h(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=2147483647,this}};p.exports=v},87118:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(t,h,v){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=x},52819:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=x},4074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,h,v,a,r){return t&&this.body.reset(h,v),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=x},40831:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=x},26775:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=x},9437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=x},30621:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(t){return this.body.mass=t,this}};p.exports=x},72441:(p,x,t)=>{var h=t(47956),v=t(96503),a=t(2044),r=t(81491),n=function(e,s,o,i,l,u){var f=h(e,s-i,o-i,2*i,2*i,l,u);if(f.length===0)return f;for(var d=new v(s,o,i),c=new v,g=[],m=0;m<f.length;m++){var y=f[m];y.isCircle?(c.setTo(y.center.x,y.center.y,y.halfWidth),a(d,c)&&g.push(y)):r(d,y)&&g.push(y)}return g};p.exports=n},47956:p=>{var x=function(t,h,v,a,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var s=[],o=[],i=t.treeMinMax;if(i.minX=h,i.minY=v,i.maxX=h+a,i.maxY=v+r,e&&(o=t.staticTree.search(i)),n&&t.useTree)s=t.tree.search(i);else if(n){var l=t.bodies,u={position:{x:h,y:v},left:h,top:v,right:h+a,bottom:v+r,isCircle:!1},f=t.intersects;l.iterate(function(d){f(d,u)&&s.push(d)})}return o.concat(s)};p.exports=x},62121:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=x},29384:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,v){return this.body.setSize(t,h,v),this},setBodySize:function(t,h,v){return this.body.setSize(t,h,v),this},setCircle:function(t,h,v){return this.body.setCircle(t,h,v),this}};p.exports=x},15098:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};p.exports=x},92209:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=x},20009:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},36768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},60473:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},89954:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},61804:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},7161:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},34689:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},16006:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},63012:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37747),v=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=v(!1,a,h),p.exports=a},96602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};p.exports=x},36294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=x},67013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=x},40012:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21329),v=t(53442),a=t(2483),r=function(n,e,s,o,i,l,u){var f=o.left,d=o.top,c=o.right,g=o.bottom,m=s.faceLeft||s.faceRight,y=s.faceTop||s.faceBottom;if(u||(m=!0,y=!0),!m&&!y)return!1;var T=0,S=0,C=0,P=1;if(e.deltaAbsX()>e.deltaAbsY()?C=-1:e.deltaAbsX()<e.deltaAbsY()&&(P=-1),e.deltaX()!==0&&e.deltaY()!==0&&m&&y&&(C=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-f)),P=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-d))),C<P){if(m&&(T=h(e,s,f,c,l,u),T!==0&&!a(o,e)))return!0;y&&(S=v(e,s,d,g,l,u))}else{if(y&&(S=v(e,s,d,g,l,u),S!==0&&!a(o,e)))return!0;m&&(T=h(e,s,f,c,l,u))}return T!==0||S!==0};p.exports=r},21329:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36294),v=function(a,r,n,e,s,o){var i=0,l=r.faceLeft,u=r.faceRight,f=r.collideLeft,d=r.collideRight;return o||(l=!0,u=!0,f=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?u&&a.x<e&&(i=a.x-e,i<-s&&(i=0)):a.deltaX()>0&&f&&a.checkCollision.right&&l&&a.right>n&&(i=a.right-n,i>s&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:h(a,i)),i};p.exports=v},53442:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67013),v=function(a,r,n,e,s,o){var i=0,l=r.faceTop,u=r.faceBottom,f=r.collideUp,d=r.collideDown;return o||(l=!0,u=!0,f=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?u&&a.y<e&&(i=a.y-e,i<-s&&(i=0)):a.deltaY()>0&&f&&a.checkCollision.down&&l&&a.bottom>n&&(i=a.bottom-n,i>s&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:h(a,i)),i};p.exports=v},2483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};p.exports=x},55173:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};p.exports=h},44563:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(27064),Matter:t(3875)}},68174:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(26099),a=new h({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,o=r.bounds.max.y-r.bounds.min.y,i=s*r.centerOfMass.x,l=o*r.centerOfMass.y;return n.set(s/2,o/2),e.set(i-n.x,l-n.y),!0},getTopLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+s.x+o.x,e+s.y+o.y)}return!1},getTopCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+o.x,e+s.y+o.y)}return!1},getTopRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n-(s.x-o.x),e+s.y+o.y)}return!1},getLeftCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+s.x+o.x,e+o.y)}return!1},getCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.centerDiff;return new v(n+s.x,e+s.y)}return!1},getRightCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n-(s.x-o.x),e+o.y)}return!1},getBottomLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+s.x+o.x,e-(s.y-o.y))}return!1},getBottomCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+o.x,e-(s.y-o.y))}return!1},getBottomRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n-(s.x-o.x),e-(s.y-o.y))}return!1}});p.exports=a},19933:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6790);h.Body=t(22562),h.Composite=t(69351),h.World=t(4372),h.Collision=t(52284),h.Detector=t(81388),h.Pairs=t(99561),h.Pair=t(4506),h.Query=t(73296),h.Resolver=t(66272),h.Constraint=t(48140),h.Common=t(53402),h.Engine=t(48413),h.Events=t(35810),h.Sleeping=t(53614),h.Plugin=t(73832),h.Bodies=t(66280),h.Composites=t(74116),h.Axes=t(66615),h.Bounds=t(15647),h.Svg=t(74058),h.Vector=t(31725),h.Vertices=t(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,p.exports=h},28137:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),v=t(83419),a=t(74116),r=t(48140),n=t(74058),e=t(75803),s=t(23181),o=t(34803),i=t(73834),l=t(19496),u=t(85791),f=t(98713),d=t(41598),c=new v({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},rectangle:function(g,m,y,T,S){var C=h.rectangle(g,m,y,T,S);return this.world.add(C),C},trapezoid:function(g,m,y,T,S,C){var P=h.trapezoid(g,m,y,T,S,C);return this.world.add(P),P},circle:function(g,m,y,T,S){var C=h.circle(g,m,y,T,S);return this.world.add(C),C},polygon:function(g,m,y,T,S){var C=h.polygon(g,m,y,T,S);return this.world.add(C),C},fromVertices:function(g,m,y,T,S,C,P){typeof y=="string"&&(y=d.fromPath(y));var b=h.fromVertices(g,m,y,T,S,C,P);return this.world.add(b),b},fromPhysicsEditor:function(g,m,y,T,S){S===void 0&&(S=!0);var C=l.parseBody(g,m,y,T);return S&&!this.world.has(C)&&this.world.add(C),C},fromSVG:function(g,m,y,T,S,C){T===void 0&&(T=1),S===void 0&&(S={}),C===void 0&&(C=!0);for(var P=y.getElementsByTagName("path"),b=[],w=0;w<P.length;w++){var M=n.pathToVertices(P[w],30);T!==1&&d.scale(M,T,T),b.push(M)}var D=h.fromVertices(g,m,b,S);return C&&this.world.add(D),D},fromJSON:function(g,m,y,T,S){T===void 0&&(T={}),S===void 0&&(S=!0);var C=u.parseBody(g,m,y,T);return C&&S&&this.world.add(C),C},imageStack:function(g,m,y,T,S,C,P,b,w){P===void 0&&(P=0),b===void 0&&(b=0),w===void 0&&(w={});var M=this.world,D=this.sys.displayList;w.addToWorld=!1;var O=a.stack(y,T,S,C,P,b,function(U,W){var Y=new s(M,U,W,g,m,w);return D.add(Y),Y.body});return M.add(O),O},stack:function(g,m,y,T,S,C,P){var b=a.stack(g,m,y,T,S,C,P);return this.world.add(b),b},pyramid:function(g,m,y,T,S,C,P){var b=a.pyramid(g,m,y,T,S,C,P);return this.world.add(b),b},chain:function(g,m,y,T,S,C){return a.chain(g,m,y,T,S,C)},mesh:function(g,m,y,T,S){return a.mesh(g,m,y,T,S)},newtonsCradle:function(g,m,y,T,S){var C=a.newtonsCradle(g,m,y,T,S);return this.world.add(C),C},car:function(g,m,y,T,S){var C=a.car(g,m,y,T,S);return this.world.add(C),C},softBody:function(g,m,y,T,S,C,P,b,w,M){var D=a.softBody(g,m,y,T,S,C,P,b,w,M);return this.world.add(D),D},joint:function(g,m,y,T,S){return this.constraint(g,m,y,T,S)},spring:function(g,m,y,T,S){return this.constraint(g,m,y,T,S)},constraint:function(g,m,y,T,S){T===void 0&&(T=1),S===void 0&&(S={}),S.bodyA=g.type==="body"?g:g.body,S.bodyB=m.type==="body"?m:m.body,isNaN(y)||(S.length=y),S.stiffness=T;var C=r.create(S);return this.world.add(C),C},worldConstraint:function(g,m,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyB=g.type==="body"?g:g.body,isNaN(m)||(T.length=m),T.stiffness=y;var S=r.create(T);return this.world.add(S),S},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var m=new f(this.scene,this.world,g);return this.world.add(m.constraint),m},image:function(g,m,y,T,S){var C=new s(this.world,g,m,y,T,S);return this.sys.displayList.add(C),C},tileBody:function(g,m){return new i(this.world,g,m)},sprite:function(g,m,y,T,S){var C=new o(this.world,g,m,y,T,S);return this.sys.displayList.add(C),this.sys.updateList.add(C),C},gameObject:function(g,m,y){return e(this.world,g,m,y)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=c},75803:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31884),v=t(95540),a=t(26099);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,s,o,i){o===void 0&&(o={}),i===void 0&&(i=!0);var l=s.x,u=s.y;s.body={temp:!0,position:{x:l,y:u}};var f=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(f.forEach(function(c){for(var g in c)r(c[g])?Object.defineProperty(s,g,{get:c[g].get,set:c[g].set}):Object.defineProperty(s,g,{value:c[g]})}),s.world=e,s._tempVec2=new a(l,u),o.hasOwnProperty("type")&&o.type==="body")s.setExistingBody(o,i);else{var d=v(o,"shape",null);d||(d="rectangle"),o.addToWorld=i,s.setBody(d,o)}return s};p.exports=n},23181:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31884),a=t(95643),r=t(95540),n=t(88571),e=t(72699),s=t(26099),o=new h({Extends:n,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(l,u,f,d,c,g){a.call(this,l.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,c),this.setSizeToFrame(),this.setOrigin(),this.world=l,this._tempVec2=new s(u,f);var m=r(g,"shape",null);m?this.setBody(m,g):this.setRectangle(this.width,this.height,g),this.setPosition(u,f),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=o},42045:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60461),v=t(66615),a=t(66280),r=t(22562),n=t(68174),e=t(15647),s=t(83419),o=t(52284),i=t(53402),l=t(69351),u=t(74116),f=t(48140),d=t(81388),c=t(20339),g=t(28137),m=t(95540),y=t(35154),T=t(46975),S=t(4506),C=t(99561),P=t(37277),b=t(73296),w=t(66272),M=t(44594),D=t(74058),O=t(31725),U=t(41598),W=t(68243);i.setDecomp(t(55973));var Y=new s({initialize:function(N){this.scene=N,this.systems=N.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=l,this.collision=o,this.detector=d,this.pair=S,this.pairs=C,this.query=b,this.resolver=w,this.constraint=f,this.bodies=a,this.composites=u,this.axes=v,this.bounds=e,this.svg=D,this.vector=O,this.vertices=U,this.verts=U,this._tempVec2=O.create(),w._restingThresh=y(this.config,"restingThresh",4),w._restingThreshTangent=y(this.config,"restingThreshTangent",6),w._positionDampen=y(this.config,"positionDampen",.9),w._positionWarming=y(this.config,"positionWarming",.8),w._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),N.sys.events.once(M.BOOT,this.boot,this),N.sys.events.on(M.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new n,this.systems.events.once(M.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new g(this.world));var X=this.systems.events;X.on(M.UPDATE,this.world.update,this.world),X.on(M.POST_UPDATE,this.world.postUpdate,this.world),X.once(M.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,N=this.systems.settings.physics,V=T(m(N,"matter",{}),m(X,"matter",{}));return V},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,N){this.world.step(X,N)},containsPoint:function(X,N,V){X=this.getMatterBodies(X);var I=O.create(N,V),B=b.point(X,I);return B.length>0},intersectPoint:function(X,N,V){V=this.getMatterBodies(V);var I=O.create(X,N),B=[],G=b.point(V,I);return G.forEach(function(H){B.indexOf(H)===-1&&B.push(H)}),B},intersectRect:function(X,N,V,I,B,G){B===void 0&&(B=!1),G=this.getMatterBodies(G);var H={min:{x:X,y:N},max:{x:X+V,y:N+I}},k=[],Z=b.region(G,H,B);return Z.forEach(function(J){k.indexOf(J)===-1&&k.push(J)}),k},intersectRay:function(X,N,V,I,B,G){B===void 0&&(B=1),G=this.getMatterBodies(G);for(var H=[],k=b.ray(G,O.create(X,N),O.create(V,I),B),Z=0;Z<k.length;Z++)H.push(k[Z].body);return H},intersectBody:function(X,N){N=this.getMatterBodies(N);for(var V=[],I=b.collides(X,N),B=0;B<I.length;B++){var G=I[B];G.bodyA===X?V.push(G.bodyB):V.push(G.bodyA)}return V},overlap:function(X,N,V,I,B){V===void 0&&(V=null),I===void 0&&(I=null),B===void 0&&(B=V),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),N=this.getMatterBodies(N);for(var G=!1,H=0;H<X.length;H++)for(var k=X[H],Z=b.collides(k,N),J=0;J<Z.length;J++){var j=Z[J],_=j.bodyA.id===k.id?j.bodyB:j.bodyA;if(!I||I.call(B,k,_,j)){if(G=!0,V)V.call(B,k,_,j);else if(!I)return!0}}return G},setCollisionCategory:function(X,N){return X=this.getMatterBodies(X),X.forEach(function(V){V.collisionFilter.category=N}),this},setCollisionGroup:function(X,N){return X=this.getMatterBodies(X),X.forEach(function(V){V.collisionFilter.group=N}),this},setCollidesWith:function(X,N){X=this.getMatterBodies(X);var V=0;if(!Array.isArray(N))V=N;else for(var I=0;I<N.length;I++)V|=N[I];return X.forEach(function(B){B.collisionFilter.mask=V}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var N=[],V=0;V<X.length;V++){var I=X[V].hasOwnProperty("body")?X[V].body:X[V];N.push(I)}return N},setVelocity:function(X,N,V){X=this.getMatterBodies(X);var I=this._tempVec2;return I.x=N,I.y=V,X.forEach(function(B){r.setVelocity(B,I)}),this},setVelocityX:function(X,N){X=this.getMatterBodies(X);var V=this._tempVec2;return V.x=N,X.forEach(function(I){V.y=I.velocity.y,r.setVelocity(I,V)}),this},setVelocityY:function(X,N){X=this.getMatterBodies(X);var V=this._tempVec2;return V.y=N,X.forEach(function(I){V.x=I.velocity.x,r.setVelocity(I,V)}),this},setAngularVelocity:function(X,N){return X=this.getMatterBodies(X),X.forEach(function(V){r.setAngularVelocity(V,N)}),this},applyForce:function(X,N){X=this.getMatterBodies(X);var V=this._tempVec2;return X.forEach(function(I){V.x=I.position.x,V.y=I.position.y,r.applyForce(I,V,N)}),this},applyForceFromPosition:function(X,N,V,I){X=this.getMatterBodies(X);var B=this._tempVec2;return X.forEach(function(G){I===void 0&&(I=G.angle),B.x=V*Math.cos(I),B.y=V*Math.sin(I),r.applyForce(G,N,B)}),this},applyForceFromAngle:function(X,N,V){X=this.getMatterBodies(X);var I=this._tempVec2;return X.forEach(function(B){V===void 0&&(V=B.angle),I.x=N*Math.cos(V),I.y=N*Math.sin(V),r.applyForce(B,{x:B.position.x,y:B.position.y},I)}),this},getConstraintLength:function(X){var N=X.pointA.x,V=X.pointA.y,I=X.pointB.x,B=X.pointB.y;return X.bodyA&&(N+=X.bodyA.position.x,V+=X.bodyA.position.y),X.bodyB&&(I+=X.bodyB.position.x,B+=X.bodyB.position.y),c(N,V,I,B)},alignBody:function(X,N,V,I){X=X.hasOwnProperty("body")?X.body:X;var B;switch(I){case h.TOP_LEFT:case h.LEFT_TOP:B=this.bodyBounds.getTopLeft(X,N,V);break;case h.TOP_CENTER:B=this.bodyBounds.getTopCenter(X,N,V);break;case h.TOP_RIGHT:case h.RIGHT_TOP:B=this.bodyBounds.getTopRight(X,N,V);break;case h.LEFT_CENTER:B=this.bodyBounds.getLeftCenter(X,N,V);break;case h.CENTER:B=this.bodyBounds.getCenter(X,N,V);break;case h.RIGHT_CENTER:B=this.bodyBounds.getRightCenter(X,N,V);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:B=this.bodyBounds.getBottomLeft(X,N,V);break;case h.BOTTOM_CENTER:B=this.bodyBounds.getBottomCenter(X,N,V);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:B=this.bodyBounds.getBottomRight(X,N,V);break}return B&&r.setPosition(X,B),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(M.UPDATE,this.world.update,this.world),X.off(M.POST_UPDATE,this.world.postUpdate,this.world)),X.off(M.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.systems=null}});P.register("MatterPhysics",Y,"matterPhysics"),p.exports=Y},34803:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9674),v=t(83419),a=t(31884),r=t(95643),n=t(95540),e=t(72699),s=t(68287),o=t(26099),i=new v({Extends:s,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(u,f,d,c,g,m){r.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(c,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new o(f,d);var y=n(m,"shape",null);y?this.setBody(y,m):this.setRectangle(this.width,this.height,m),this.setPosition(f,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=i},73834:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),v=t(22562),a=t(83419),r=t(31884),n=t(62644),e=t(50792),s=t(95540),o=t(97022),i=t(41598),l=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(f,d,c){e.call(this),this.tile=d,this.world=f,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var g=s(c,"body",null),m=s(c,"addToWorld",!0);if(g)this.setBody(g,m);else{var y=d.getCollisionGroup(),T=s(y,"objects",[]);T.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}if(d.flipX||d.flipY){var S={x:d.getCenterX(),y:d.getCenterY()},C=d.flipX?-1:1,P=d.flipY?-1:1;v.scale(g,C,P,S)}},setFromTileRectangle:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);var f=this.tile.getBounds(),d=f.x+f.width/2,c=f.y+f.height/2,g=h.rectangle(d,c,f.width,f.height,u);return this.setBody(g,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);for(var f=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),g=this.tile.getTop(),m=this.tile.getCollisionGroup(),y=s(m,"objects",[]),T=[],S=0;S<y.length;S++){var C=y[S],P=c+C.x*f,b=g+C.y*d,w=C.width*f,M=C.height*d,D=null;if(C.rectangle)D=h.rectangle(P+w/2,b+M/2,w,M,u);else if(C.ellipse)D=h.circle(P+w/2,b+M/2,w/2,u);else if(C.polygon||C.polyline){var O=C.polygon?C.polygon:C.polyline,U=O.map(function(N){return{x:N.x*f,y:N.y*d}}),W=i.create(U),Y=i.centre(W);P+=Y.x,b+=Y.y,D=h.fromVertices(P,b,W,u)}D&&T.push(D)}if(T.length===1)this.setBody(T[0],u.addToWorld);else if(T.length>1){var X=n(u);X.parts=T,this.setBody(v.create(X),X.addToWorld)}return this},setBody:function(u,f){return f===void 0&&(f=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,f&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=l},19496:(p,x,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),v=t(22562),a=t(53402),r=t(95540),n=t(41598),e={parseBody:function(s,o,i,l){l===void 0&&(l={});for(var u=r(i,"fixtures",[]),f=[],d=0;d<u.length;d++)for(var c=this.parseFixture(u[d]),g=0;g<c.length;g++)f.push(c[g]);var m=a.clone(i,!0);a.extend(m,l,!0),delete m.fixtures,delete m.type;var y=v.create(m);return v.setParts(y,f),v.setPosition(y,{x:s,y:o}),y},parseFixture:function(s){var o=a.extend({},!1,s);delete o.circle,delete o.vertices;var i;if(s.circle){var l=r(s.circle,"x"),u=r(s.circle,"y"),f=r(s.circle,"radius");i=[h.circle(l,u,f,o)]}else s.vertices&&(i=this.parseVertices(s.vertices,o));return i},parseVertices:function(s,o){o===void 0&&(o={});for(var i=[],l=0;l<s.length;l++)n.clockwiseSort(s[l]),i.push(v.create(a.extend({position:n.centre(s[l]),vertices:s[l]},o)));return h.flagCoincidentParts(i)}};p.exports=e},85791:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),v=t(22562),a={parseBody:function(r,n,e,s){s===void 0&&(s={});var o,i=e.vertices;if(i.length===1)s.vertices=i[0],o=v.create(s),h.flagCoincidentParts(o.parts);else{for(var l=[],u=0;u<i.length;u++){var f=v.create({vertices:i[u]});l.push(f)}h.flagCoincidentParts(l),s.parts=l,o=v.create(s)}return o.label=e.label,v.setPosition(o,{x:r,y:n}),o}};p.exports=a},98713:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15647),v=t(83419),a=t(69351),r=t(48140),n=t(81388),e=t(1121),s=t(8214),o=t(46975),i=t(53614),l=t(26099),u=t(41598),f=new v({initialize:function(c,g,m){m===void 0&&(m={});var y={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new l,this.body=null,this.part=null,this.constraint=r.create(o(m,y)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(s.POINTER_DOWN,this.onDown,this),c.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var c=this.position,g=this.constraint;this.camera.getWorldPoint(d.x,d.y,c);for(var m=a.allBodies(this.world.localWorld),y=0;y<m.length;y++){var T=m[y];if(!T.ignorePointer&&h.contains(T.bounds,c)&&n.canCollide(T.collisionFilter,g.collisionFilter)&&this.hitTestBody(T,c))return this.world.emit(e.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(d,c){for(var g=this.constraint,m=d.parts.length,y=m>1?1:0,T=y;T<m;T++){var S=d.parts[T];if(u.contains(S.vertices,c))return g.pointA=c,g.pointB={x:c.x-d.position.x,y:c.y-d.position.y},g.bodyB=d,g.angleB=d.angle,i.set(d,!1),this.part=S,this.body=d,!0}return!1},update:function(){var d=this.pointer,c=this.body;if(!this.active||!d){c&&this.stopDrag();return}if(!d.isDown&&c){this.stopDrag();return}else if(d.isDown){if(!this.camera||!c&&!this.getBody(d))return;c=this.body;var g=this.position,m=this.constraint;this.camera.getWorldPoint(d.x,d.y,g),m.pointA.x=g.x,m.pointA.y=g.y,i.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var d=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});p.exports=f},68243:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),v=t(22562),a=t(83419),r=t(53402),n=t(69351),e=t(48413),s=t(50792),o=t(1121),i=t(95540),l=t(35154),u=t(22562),f=t(35810),d=t(73834),c=t(4372),g=t(13037),m=t(31725),y=new a({Extends:s,initialize:function(S,C){s.call(this),this.scene=S,this.engine=e.create(C),this.localWorld=this.engine.world;var P=l(C,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):P===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=l(C,"enabled",!0),this.getDelta=l(C,"getDelta",this.update60Hz);var b=i(C,"runner",{}),w=i(b,"fps",!1);w&&(b.delta=1e3/i(b,"fps",60)),this.runner=g.create(b),this.autoUpdate=l(C,"autoUpdate",!0);var M=l(C,"debug",!1);if(this.drawDebug=typeof M=="object"?!0:M,this.debugGraphic,this.debugConfig={showAxes:i(M,"showAxes",!1),showAngleIndicator:i(M,"showAngleIndicator",!1),angleColor:i(M,"angleColor",15208787),showBroadphase:i(M,"showBroadphase",!1),broadphaseColor:i(M,"broadphaseColor",16757760),showBounds:i(M,"showBounds",!1),boundsColor:i(M,"boundsColor",16777215),showVelocity:i(M,"showVelocity",!1),velocityColor:i(M,"velocityColor",44783),showCollisions:i(M,"showCollisions",!1),collisionColor:i(M,"collisionColor",16094476),showSeparations:i(M,"showSeparations",!1),separationColor:i(M,"separationColor",16753920),showBody:i(M,"showBody",!0),showStaticBody:i(M,"showStaticBody",!0),showInternalEdges:i(M,"showInternalEdges",!1),renderFill:i(M,"renderFill",!1),renderLine:i(M,"renderLine",!0),fillColor:i(M,"fillColor",1075465),fillOpacity:i(M,"fillOpacity",1),lineColor:i(M,"lineColor",2678297),lineOpacity:i(M,"lineOpacity",1),lineThickness:i(M,"lineThickness",1),staticFillColor:i(M,"staticFillColor",857979),staticLineColor:i(M,"staticLineColor",1255396),showSleeping:i(M,"showSleeping",!1),staticBodySleepOpacity:i(M,"staticBodySleepOpacity",.7),sleepFillColor:i(M,"sleepFillColor",4605510),sleepLineColor:i(M,"sleepLineColor",10066585),showSensors:i(M,"showSensors",!0),sensorFillColor:i(M,"sensorFillColor",857979),sensorLineColor:i(M,"sensorLineColor",1255396),showPositions:i(M,"showPositions",!0),positionSize:i(M,"positionSize",4),positionColor:i(M,"positionColor",14697178),showJoint:i(M,"showJoint",!0),jointColor:i(M,"jointColor",14737474),jointLineOpacity:i(M,"jointLineOpacity",1),jointLineThickness:i(M,"jointLineThickness",2),pinSize:i(M,"pinSize",4),pinColor:i(M,"pinColor",4382944),springColor:i(M,"springColor",14697184),anchorColor:i(M,"anchorColor",15724527),anchorSize:i(M,"anchorSize",4),showConvexHulls:i(M,"showConvexHulls",!1),hullColor:i(M,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(C,"setBounds",!1)){var D=C.setBounds;if(typeof D=="boolean")this.setBounds();else{var O=i(D,"x",0),U=i(D,"y",0),W=i(D,"width",S.sys.scale.width),Y=i(D,"height",S.sys.scale.height),X=i(D,"thickness",64),N=i(D,"left",!0),V=i(D,"right",!0),I=i(D,"top",!0),B=i(D,"bottom",!0);this.setBounds(O,U,W,Y,X,N,V,I,B)}}},setCompositeRenderStyle:function(T){var S=T.bodies,C=T.constraints,P=T.composites,b,w,M;for(b=0;b<S.length;b++)w=S[b],M=w.render,this.setBodyRenderStyle(w,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(b=0;b<C.length;b++)w=C[b],M=w.render,this.setConstraintRenderStyle(w,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(b=0;b<P.length;b++)w=P[b],this.setCompositeRenderStyle(w);return this},setBodyRenderStyle:function(T,S,C,P,b,w){var M=T.render,D=this.debugConfig;return M?(S==null&&(S=T.isStatic?D.staticLineColor:D.lineColor),C==null&&(C=D.lineOpacity),P==null&&(P=D.lineThickness),b==null&&(b=T.isStatic?D.staticFillColor:D.fillColor),w==null&&(w=D.fillOpacity),S!==!1&&(M.lineColor=S),C!==!1&&(M.lineOpacity=C),P!==!1&&(M.lineThickness=P),b!==!1&&(M.fillColor=b),w!==!1&&(M.fillOpacity=w),this):this},setConstraintRenderStyle:function(T,S,C,P,b,w,M){var D=T.render,O=this.debugConfig;if(!D)return this;if(S==null){var U=D.type;U==="line"?S=O.jointColor:U==="pin"?S=O.pinColor:U==="spring"&&(S=O.springColor)}return C==null&&(C=O.jointLineOpacity),P==null&&(P=O.jointLineThickness),b==null&&(b=O.pinSize),w==null&&(w=O.anchorColor),M==null&&(M=O.anchorSize),S!==!1&&(D.lineColor=S),C!==!1&&(D.lineOpacity=C),P!==!1&&(D.lineThickness=P),b!==!1&&(D.pinSize=b),w!==!1&&(D.anchorColor=w),M!==!1&&(D.anchorSize=M),this},setEventsProxy:function(){var T=this,S=this.engine,C=this.localWorld;this.drawDebug&&(f.on(C,"compositeModified",function(P){T.setCompositeRenderStyle(P)}),f.on(C,"beforeAdd",function(P){for(var b=[].concat(P.object),w=0;w<b.length;w++){var M=b[w],D=M.render;M.type==="body"?T.setBodyRenderStyle(M,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):M.type==="composite"?T.setCompositeRenderStyle(M):M.type==="constraint"&&T.setConstraintRenderStyle(M,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),f.on(C,"beforeAdd",function(P){T.emit(o.BEFORE_ADD,P)}),f.on(C,"afterAdd",function(P){T.emit(o.AFTER_ADD,P)}),f.on(C,"beforeRemove",function(P){T.emit(o.BEFORE_REMOVE,P)}),f.on(C,"afterRemove",function(P){T.emit(o.AFTER_REMOVE,P)}),f.on(S,"beforeUpdate",function(P){T.emit(o.BEFORE_UPDATE,P)}),f.on(S,"afterUpdate",function(P){T.emit(o.AFTER_UPDATE,P)}),f.on(S,"collisionStart",function(P){var b=P.pairs,w,M;b.length>0&&b.map(function(D){w=D.bodyA,M=D.bodyB,w.gameObject&&w.gameObject.emit("collide",w,M,D),M.gameObject&&M.gameObject.emit("collide",M,w,D),f.trigger(w,"onCollide",{pair:D}),f.trigger(M,"onCollide",{pair:D}),w.onCollideCallback&&w.onCollideCallback(D),M.onCollideCallback&&M.onCollideCallback(D),w.onCollideWith[M.id]&&w.onCollideWith[M.id](M,D),M.onCollideWith[w.id]&&M.onCollideWith[w.id](w,D)}),T.emit(o.COLLISION_START,P,w,M)}),f.on(S,"collisionActive",function(P){var b=P.pairs,w,M;b.length>0&&b.map(function(D){w=D.bodyA,M=D.bodyB,w.gameObject&&w.gameObject.emit("collideActive",w,M,D),M.gameObject&&M.gameObject.emit("collideActive",M,w,D),f.trigger(w,"onCollideActive",{pair:D}),f.trigger(M,"onCollideActive",{pair:D}),w.onCollideActiveCallback&&w.onCollideActiveCallback(D),M.onCollideActiveCallback&&M.onCollideActiveCallback(D)}),T.emit(o.COLLISION_ACTIVE,P,w,M)}),f.on(S,"collisionEnd",function(P){var b=P.pairs,w,M;b.length>0&&b.map(function(D){w=D.bodyA,M=D.bodyB,w.gameObject&&w.gameObject.emit("collideEnd",w,M,D),M.gameObject&&M.gameObject.emit("collideEnd",M,w,D),f.trigger(w,"onCollideEnd",{pair:D}),f.trigger(M,"onCollideEnd",{pair:D}),w.onCollideEndCallback&&w.onCollideEndCallback(D),M.onCollideEndCallback&&M.onCollideEndCallback(D)}),T.emit(o.COLLISION_END,P,w,M)})},setBounds:function(T,S,C,P,b,w,M,D,O){return T===void 0&&(T=0),S===void 0&&(S=0),C===void 0&&(C=this.scene.sys.scale.width),P===void 0&&(P=this.scene.sys.scale.height),b===void 0&&(b=64),w===void 0&&(w=!0),M===void 0&&(M=!0),D===void 0&&(D=!0),O===void 0&&(O=!0),this.updateWall(w,"left",T-b,S-b,b,P+b*2),this.updateWall(M,"right",T+C,S-b,b,P+b*2),this.updateWall(D,"top",T,S-b,C,b),this.updateWall(O,"bottom",T,S+P,C,b),this},updateWall:function(T,S,C,P,b,w){var M=this.walls[S];T?(M&&c.remove(this.localWorld,M),C+=b/2,P+=w/2,this.walls[S]=this.create(C,P,b,w,{isStatic:!0,friction:0,frictionStatic:0})):(M&&c.remove(this.localWorld,M),this.walls[S]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,S,C){return T===void 0&&(T=0),S===void 0&&(S=1),C===void 0&&(C=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=S,this.localWorld.gravity.scale=C,this},create:function(T,S,C,P,b){var w=h.rectangle(T,S,C,P,b);return c.add(this.localWorld,w),w},add:function(T){return c.add(this.localWorld,T),this},remove:function(T,S){Array.isArray(T)||(T=[T]);for(var C=0;C<T.length;C++){var P=T[C],b=P.body?P.body:P;n.remove(this.localWorld,b,S)}return this},removeConstraint:function(T,S){return n.remove(this.localWorld,T,S),this},convertTilemapLayer:function(T,S){var C=T.layer,P=T.getTilesWithin(0,0,C.width,C.height,{isColliding:!0});return this.convertTiles(P,S),this},convertTiles:function(T,S){if(T.length===0)return this;for(var C=0;C<T.length;C++)new d(this,T[C],S);return this},nextGroup:function(T){return u.nextGroup(T)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(o.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=r.now(),this.emit(o.RESUME),this},update:function(T){if(!(!this.enabled||!this.autoUpdate)){var S=this.engine,C=this.runner,P=r.now(),b=C.delta,w=0,M=T-C.timeLastTick;if((!M||!C.timeLastTick||M>Math.max(g._maxFrameDelta,C.maxFrameTime))&&(M=C.frameDelta||g._frameDeltaFallback),C.frameDeltaSmoothing){C.frameDeltaHistory.push(M),C.frameDeltaHistory=C.frameDeltaHistory.slice(-C.frameDeltaHistorySize);var D=C.frameDeltaHistory.slice(0).sort(),O=C.frameDeltaHistory.slice(D.length*g._smoothingLowerBound,D.length*g._smoothingUpperBound),U=g._mean(O);M=U||M}C.frameDeltaSnapping&&(M=1e3/Math.round(1e3/M)),C.frameDelta=M,C.timeLastTick=T,C.timeBuffer+=C.frameDelta,C.timeBuffer=r.clamp(C.timeBuffer,0,C.frameDelta+b*g._timeBufferMargin),C.lastUpdatesDeferred=0;for(var W=C.maxUpdates||Math.ceil(C.maxFrameTime/b),Y=r.now();b>0&&C.timeBuffer>=b*g._timeBufferMargin;){e.update(S,b),C.timeBuffer-=b,w+=1;var X=r.now()-P,N=r.now()-Y,V=X+g._elapsedNextEstimate*N/w;if(w>=W||V>C.maxFrameTime){C.lastUpdatesDeferred=Math.round(Math.max(0,C.timeBuffer/b-g._timeBufferMargin));break}}}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var S=T.hasOwnProperty("body")?T.body:T;return n.get(this.localWorld,S.id,S.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,S=this.engine,C=this.debugGraphic,P=n.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,C,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(P,C,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(P),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(P,C,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(P,C,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(S.pairs.list,C,T.separationColor),T.showCollisions&&this.renderCollisions(S.pairs.list,C,T.collisionColor)}},renderGrid:function(T,S,C,P){S.lineStyle(1,C,P);for(var b=r.keys(T.buckets),w=0;w<b.length;w++){var M=b[w];if(!(T.buckets[M].length<2)){var D=M.split(/C|R/);S.strokeRect(parseInt(D[1],10)*T.bucketWidth,parseInt(D[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,S,C){S.lineStyle(1,C,1);for(var P=0;P<T.length;P++){var b=T[P];if(b.isActive){var w=b.collision,M=w.bodyA,D=w.bodyB,O=M.position,U=D.position,W=w.penetration,Y=!M.isStatic&&!D.isStatic?4:1;D.isStatic&&(Y=0),S.lineBetween(U.x,U.y,U.x-W.x*Y,U.y-W.y*Y),Y=!M.isStatic&&!D.isStatic?4:1,M.isStatic&&(Y=0),S.lineBetween(O.x,O.y,O.x-W.x*Y,O.y-W.y*Y)}}return this},renderCollisions:function(T,S,C){S.lineStyle(1,C,.5),S.fillStyle(C,1);var P,b;for(P=0;P<T.length;P++)if(b=T[P],!!b.isActive)for(var w=0;w<b.contactCount;w++){var M=b.contacts[w],D=M.vertex;D&&S.fillRect(D.x-2,D.y-2,5,5)}for(P=0;P<T.length;P++)if(b=T[P],!!b.isActive){var O=b.collision,U=b.contacts;if(b.contactCount>0){var W=U[0].vertex.x,Y=U[0].vertex.y;b.contactCount===2&&(W=(U[0].vertex.x+U[1].vertex.x)/2,Y=(U[0].vertex.y+U[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?S.lineBetween(W-O.normal.x*8,Y-O.normal.y*8,W,Y):S.lineBetween(W+O.normal.x*8,Y+O.normal.y*8,W,Y)}}return this},renderBodyBounds:function(T,S,C,P){S.lineStyle(1,C,P);for(var b=0;b<T.length;b++){var w=T[b];if(w.render.visible){var M=w.bounds;if(M)S.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var D=w.parts,O=D.length>1?1:0;O<D.length;O++){var U=D[O];S.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(T,S,C,P,b){S.lineStyle(1,P,b);for(var w=0;w<T.length;w++){var M=T[w],D=M.parts;if(M.render.visible){var O,U,W;if(C)for(U=D.length>1?1:0;U<D.length;U++)for(O=D[U],W=0;W<O.axes.length;W++){var Y=O.axes[W];S.lineBetween(O.position.x,O.position.y,O.position.x+Y.x*20,O.position.y+Y.y*20)}else for(U=D.length>1?1:0;U<D.length;U++)for(O=D[U],W=0;W<O.axes.length;W++)S.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,S,C,P,b){S.lineStyle(b,C,P);for(var w=0;w<T.length;w++){var M=T[w];M.render.visible&&S.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},renderBodies:function(T){for(var S=this.debugGraphic,C=this.debugConfig,P=C.showBody,b=C.showStaticBody,w=C.showSleeping,M=C.showInternalEdges,D=C.showConvexHulls,O=C.renderFill,U=C.renderLine,W=C.staticBodySleepOpacity,Y=C.sleepFillColor,X=C.sleepLineColor,N=C.hullColor,V=0;V<T.length;V++){var I=T[V];if(I.render.visible&&!(!b&&I.isStatic||!P&&!I.isStatic)){var B=I.render.lineColor,G=I.render.lineOpacity,H=I.render.lineThickness,k=I.render.fillColor,Z=I.render.fillOpacity;w&&I.isSleeping&&(I.isStatic?(G*=W,Z*=W):(B=X,k=Y)),O||(k=null),U||(B=null),this.renderBody(I,S,M,B,G,H,k,Z);var J=I.parts.length;D&&J>1&&this.renderConvexHull(I,S,N,H)}}},renderBody:function(T,S,C,P,b,w,M,D){P===void 0&&(P=null),b===void 0&&(b=null),w===void 0&&(w=1),M===void 0&&(M=null),D===void 0&&(D=null);for(var O=this.debugConfig,U=O.sensorFillColor,W=O.sensorLineColor,Y=T.parts,X=Y.length,N=X>1?1:0;N<X;N++){var V=Y[N],I=V.render,B=I.opacity;if(!(!I.visible||B===0||V.isSensor&&!O.showSensors)){var G=V.circleRadius;if(S.beginPath(),V.isSensor?(M!==null&&S.fillStyle(U,D*B),P!==null&&S.lineStyle(w,W,b*B)):(M!==null&&S.fillStyle(M,D*B),P!==null&&S.lineStyle(w,P,b*B)),G)S.arc(V.position.x,V.position.y,G,0,2*Math.PI);else{var H=V.vertices,k=H.length;S.moveTo(H[0].x,H[0].y);for(var Z=1;Z<k;Z++){var J=H[Z];if(!H[Z-1].isInternal||C?S.lineTo(J.x,J.y):S.moveTo(J.x,J.y),Z<k&&J.isInternal&&!C){var j=(Z+1)%k;S.moveTo(H[j].x,H[j].y)}}S.closePath()}M!==null&&S.fillPath(),P!==null&&S.strokePath()}}if(O.showPositions&&!T.isStatic){var _=T.position.x,tt=T.position.y,et=Math.ceil(O.positionSize/2);S.fillStyle(O.positionColor,1),S.fillRect(_-et,tt-et,O.positionSize,O.positionSize)}return this},renderConvexHull:function(T,S,C,P){P===void 0&&(P=1);var b=T.parts,w=b.length;if(w>1){var M=T.vertices;S.lineStyle(P,C),S.beginPath(),S.moveTo(M[0].x,M[0].y);for(var D=1;D<M.length;D++)S.lineTo(M[D].x,M[D].y);S.lineTo(M[0].x,M[0].y),S.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,S=n.allConstraints(this.localWorld),C=0;C<S.length;C++){var P=S[C].render,b=P.lineColor,w=P.lineOpacity,M=P.lineThickness,D=P.pinSize,O=P.anchorColor,U=P.anchorSize;this.renderConstraint(S[C],T,b,w,M,D,O,U)}},renderConstraint:function(T,S,C,P,b,w,M,D){var O=T.render;if(!O.visible||!T.pointA||!T.pointB)return this;S.lineStyle(b,C,P);var U=T.bodyA,W=T.bodyB,Y,X;if(U?Y=m.add(U.position,T.pointA):Y=T.pointA,O.type==="pin")S.strokeCircle(Y.x,Y.y,w);else{if(W?X=m.add(W.position,T.pointB):X=T.pointB,S.beginPath(),S.moveTo(Y.x,Y.y),O.type==="spring")for(var N=m.sub(X,Y),V=m.perp(m.normalise(N)),I=Math.ceil(r.clamp(T.length/5,12,20)),B,G=1;G<I;G+=1)B=G%2===0?1:-1,S.lineTo(Y.x+N.x*(G/I)+V.x*B*4,Y.y+N.y*(G/I)+V.y*B*4);S.lineTo(X.x,X.y)}return S.strokePath(),O.anchors&&D>0&&(S.fillStyle(M),S.fillCircle(Y.x,Y.y,D),S.fillCircle(X.x,X.y,D)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){f.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=y},70410:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t){return this.body.restitution=t,this}};p.exports=x},66968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var v=0;v<t.length;v++)h|=t[v];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var a=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(a,h)}return this}};p.exports=x},51607:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),v={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return h.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=v},5436:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,h,v){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=x},39858:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=x},37302:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),v=t(26099),a={setMass:function(r){return h.setMass(this.body,r),this},setDensity:function(r){return h.setDensity(this.body,r),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=a},39132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=x},57772:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66280),v=t(22562),a=t(43855),r=t(95540),n=t(19496),e=t(85791),s=t(41598),o={setRectangle:function(i,l,u){return this.setBody({type:"rectangle",width:i,height:l},u)},setCircle:function(i,l){return this.setBody({type:"circle",radius:i},l)},setPolygon:function(i,l,u){return this.setBody({type:"polygon",sides:l,radius:i},u)},setTrapezoid:function(i,l,u,f){return this.setBody({type:"trapezoid",width:i,height:l,slope:u},f)},setExistingBody:function(i,l){l===void 0&&(l=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var f=this;if(i.destroy=function(){f.world.remove(f.body,!0),f.body.gameObject=null},l&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var d=i.render.sprite.xOffset,c=i.render.sprite.yOffset,g=i.centerOfMass.x,m=i.centerOfMass.y;if(a(g,.5)&&a(m,.5))this.setOrigin(d+.5,c+.5);else{var y=i.centerOffset.x,T=i.centerOffset.y;this.setOrigin(d+y/this.displayWidth,c+T/this.displayHeight)}}return this},setBody:function(i,l){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var f=r(i,"type","rectangle"),d=r(i,"x",this._tempVec2.x),c=r(i,"y",this._tempVec2.y),g=r(i,"width",this.width),m=r(i,"height",this.height);switch(f){case"rectangle":u=h.rectangle(d,c,g,m,l);break;case"circle":var y=r(i,"radius",Math.max(g,m)/2),T=r(i,"maxSides",25);u=h.circle(d,c,y,l,T);break;case"trapezoid":var S=r(i,"slope",.5);u=h.trapezoid(d,c,g,m,S,l);break;case"polygon":var C=r(i,"sides",5),P=r(i,"radius",Math.max(g,m)/2);u=h.polygon(d,c,C,P,l);break;case"fromVertices":case"fromVerts":var b=r(i,"verts",null);if(b)if(typeof b=="string"&&(b=s.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,b),u=this.body;else{var w=r(i,"flagInternal",!1),M=r(i,"removeCollinear",.01),D=r(i,"minimumArea",10);u=h.fromVertices(d,c,b,l,w,M,D)}break;case"fromPhysicsEditor":u=n.parseBody(d,c,i,l);break;case"fromPhysicsTracer":u=e.parseBody(d,c,i,l);break}return u&&this.setExistingBody(u,i.addToWorld),this}};p.exports=o},38083:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1121),v=t(53614),a=t(35810),r={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepStart",function(s){e.emit(h.SLEEP_START,s,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepEnd",function(s){e.emit(h.SLEEP_END,s,this)})}else a.off(this.body,"sleepEnd");return this}};p.exports=r},90556:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),v={setStatic:function(a){return h.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};p.exports=v},85436:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),v=t(36383),a=t(86554),r=t(30954),n=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),h.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this.setScale(s,s)}},scaleX:{get:function(){return this._scaleX},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=n,h.scale(this.body,o,i),h.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=n,h.scale(this.body,o,i),h.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*v.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=a(s),h.setAngle(this.body,this._rotation)}},setPosition:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this._tempVec2.set(s,o),h.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=a(s),h.setAngle(this.body,s),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,h.setAngle(this.body,this.rotation),this},setScale:function(s,o,i){s===void 0&&(s=1),o===void 0&&(o=s);var l=1/this._scaleX,u=1/this._scaleY;return this._scaleX=s,this._scaleY=o,h.scale(this.body,l,u,i),h.scale(this.body,s,o,i),this}};p.exports=e},42081:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22562),v={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(a){return h.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(a){return h.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};p.exports=v},31884:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},1213:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},25968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},67205:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},39438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},44823:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},92593:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},60128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},76861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},92362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},76408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},93971:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},5656:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},47861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},79099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},35906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},1121:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(p,x,t)=>{var h={};p.exports=h;var v=t(41598),a=t(31725),r=t(53614),n=t(53402),e=t(15647),s=t(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(i){var l={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=v.centre(i.vertices):i.hasOwnProperty("vertices")||(l.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=n.extend(l,i);return o(u,i),u.setOnCollideWith=function(f,d){return d?this.onCollideWith[f.id]=d:delete this.onCollideWith[f.id],this},u},h.nextGroup=function(i){return i?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var o=function(i,l){if(l=l||{},h.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),v.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),h.set(i,{axes:l.axes||i.axes,area:l.area||i.area,mass:l.mass||i.mass,inertia:l.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,f=i.centerOfMass,d=i.centerOffset,c=u.max.x-u.min.x,g=u.max.y-u.min.y;f.x=-(u.min.x-i.position.x)/c,f.y=-(u.min.y-i.position.y)/g,d.x=c*f.x,d.y=g*f.y}};h.set=function(i,l,u){var f;typeof l=="string"&&(f=l,l={},l[f]=u);for(f in l)if(Object.prototype.hasOwnProperty.call(l,f))switch(u=l[f],f){case"isStatic":h.setStatic(i,u);break;case"isSleeping":r.set(i,u);break;case"mass":h.setMass(i,u);break;case"density":h.setDensity(i,u);break;case"inertia":h.setInertia(i,u);break;case"vertices":h.setVertices(i,u);break;case"position":h.setPosition(i,u);break;case"angle":h.setAngle(i,u);break;case"velocity":h.setVelocity(i,u);break;case"angularVelocity":h.setAngularVelocity(i,u);break;case"speed":h.setSpeed(i,u);break;case"angularSpeed":h.setAngularSpeed(i,u);break;case"parts":h.setParts(i,u);break;case"centre":h.setCentre(i,u);break;default:i[f]=u}},h.setStatic=function(i,l){for(var u=0;u<i.parts.length;u++){var f=i.parts[u];l?(f.isStatic||(f._original={restitution:f.restitution,friction:f.friction,mass:f.mass,inertia:f.inertia,density:f.density,inverseMass:f.inverseMass,inverseInertia:f.inverseInertia}),f.restitution=0,f.friction=1,f.mass=f.inertia=f.density=1/0,f.inverseMass=f.inverseInertia=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.angularVelocity=0,f.speed=0,f.angularSpeed=0,f.motion=0):f._original&&(f.restitution=f._original.restitution,f.friction=f._original.friction,f.mass=f._original.mass,f.inertia=f._original.inertia,f.density=f._original.density,f.inverseMass=f._original.inverseMass,f.inverseInertia=f._original.inverseInertia,f._original=null),f.isStatic=l}},h.setMass=function(i,l){var u=i.inertia/(i.mass/6);i.inertia=u*(l/6),i.inverseInertia=1/i.inertia,i.mass=l,i.inverseMass=1/i.mass,i.density=i.mass/i.area},h.setDensity=function(i,l){h.setMass(i,l*i.area),i.density=l},h.setInertia=function(i,l){i.inertia=l,i.inverseInertia=1/i.inertia},h.setVertices=function(i,l){l[0].body===i?i.vertices=l:i.vertices=v.create(l,i),i.axes=s.fromVertices(i.vertices),i.area=v.area(i.vertices),h.setMass(i,i.density*i.area);var u=v.centre(i.vertices);v.translate(i.vertices,u,-1),h.setInertia(i,h._inertiaScale*v.inertia(i.vertices,i.mass)),v.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},h.setParts=function(i,l,u){var f;for(l=l.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,f=0;f<l.length;f++){var d=l[f];d!==i&&(d.parent=i,i.parts.push(d))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var c=[];for(f=0;f<l.length;f++)c=c.concat(l[f].vertices);v.clockwiseSort(c);var g=v.hull(c),m=v.centre(g);h.setVertices(i,g),v.translate(i.vertices,m)}var y=h._totalProperties(i),T=y.centre.x,S=y.centre.y,C=i.bounds,P=i.centerOfMass,b=i.centerOffset;e.update(C,i.vertices,i.velocity),P.x=-(C.min.x-T)/(C.max.x-C.min.x),P.y=-(C.min.y-S)/(C.max.y-C.min.y),b.x=T,b.y=S,i.area=y.area,i.parent=i,i.position.x=T,i.position.y=S,i.positionPrev.x=T,i.positionPrev.y=S,h.setMass(i,y.mass),h.setInertia(i,y.inertia),h.setPosition(i,y.centre)}},h.setCentre=function(i,l,u){u?(i.positionPrev.x+=l.x,i.positionPrev.y+=l.y,i.position.x+=l.x,i.position.y+=l.y):(i.positionPrev.x=l.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=l.y-(i.position.y-i.positionPrev.y),i.position.x=l.x,i.position.y=l.y)},h.setPosition=function(i,l,u){var f=a.sub(l,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=f.x,i.velocity.y=f.y,i.speed=a.magnitude(f)):(i.positionPrev.x+=f.x,i.positionPrev.y+=f.y);for(var d=0;d<i.parts.length;d++){var c=i.parts[d];c.position.x+=f.x,c.position.y+=f.y,v.translate(c.vertices,f),e.update(c.bounds,c.vertices,i.velocity)}},h.setAngle=function(i,l,u){var f=l-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=f,i.angularSpeed=Math.abs(f)):i.anglePrev+=f;for(var d=0;d<i.parts.length;d++){var c=i.parts[d];c.angle+=f,v.rotate(c.vertices,f,i.position),s.rotate(c.axes,f),e.update(c.bounds,c.vertices,i.velocity),d>0&&a.rotateAbout(c.position,f,i.position,c.position)}},h.setVelocity=function(i,l){var u=i.deltaTime/h._baseDelta;i.positionPrev.x=i.position.x-l.x*u,i.positionPrev.y=i.position.y-l.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=a.magnitude(i.velocity)},h.getVelocity=function(i){var l=h._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*l,y:(i.position.y-i.positionPrev.y)*l}},h.getSpeed=function(i){return a.magnitude(h.getVelocity(i))},h.setSpeed=function(i,l){h.setVelocity(i,a.mult(a.normalise(h.getVelocity(i)),l))},h.setAngularVelocity=function(i,l){var u=i.deltaTime/h._baseDelta;i.anglePrev=i.angle-l*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},h.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*h._baseDelta/i.deltaTime},h.getAngularSpeed=function(i){return Math.abs(h.getAngularVelocity(i))},h.setAngularSpeed=function(i,l){h.setAngularVelocity(i,n.sign(h.getAngularVelocity(i))*l)},h.translate=function(i,l,u){h.setPosition(i,a.add(i.position,l),u)},h.rotate=function(i,l,u,f){if(!u)h.setAngle(i,i.angle+l,f);else{var d=Math.cos(l),c=Math.sin(l),g=i.position.x-u.x,m=i.position.y-u.y;h.setPosition(i,{x:u.x+(g*d-m*c),y:u.y+(g*c+m*d)},f),h.setAngle(i,i.angle+l,f)}},h.scale=function(i,l,u,f){var d=0,c=0;f=f||i.position;for(var g=i.inertia===1/0,m=0;m<i.parts.length;m++){var y=i.parts[m];y.scale.x=l,y.scale.y=u,v.scale(y.vertices,l,u,f),y.axes=s.fromVertices(y.vertices),y.area=v.area(y.vertices),h.setMass(y,i.density*y.area),v.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),h.setInertia(y,h._inertiaScale*v.inertia(y.vertices,y.mass)),v.translate(y.vertices,{x:y.position.x,y:y.position.y}),m>0&&(d+=y.area,c+=y.inertia),y.position.x=f.x+(y.position.x-f.x)*l,y.position.y=f.y+(y.position.y-f.y)*u,e.update(y.bounds,y.vertices,i.velocity)}i.parts.length>1&&(i.area=d,i.isStatic||(h.setMass(i,i.density*d),h.setInertia(i,c))),i.circleRadius&&(l===u?i.circleRadius*=l:i.circleRadius=null),g&&h.setInertia(i,1/0)},h.update=function(i,l){l=(typeof l<"u"?l:16.666666666666668)*i.timeScale;var u=l*l,f=h._timeCorrection?l/(i.deltaTime||l):1,d=1-i.frictionAir*(l/n._baseDelta),c=(i.position.x-i.positionPrev.x)*f,g=(i.position.y-i.positionPrev.y)*f;i.velocity.x=c*d+i.force.x/i.mass*u,i.velocity.y=g*d+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=l,i.angularVelocity=(i.angle-i.anglePrev)*d*f+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var m=0;m<i.parts.length;m++){var y=i.parts[m];v.translate(y.vertices,i.velocity),m>0&&(y.position.x+=i.velocity.x,y.position.y+=i.velocity.y),i.angularVelocity!==0&&(v.rotate(y.vertices,i.angularVelocity,i.position),s.rotate(y.axes,i.angularVelocity),m>0&&a.rotateAbout(y.position,i.angularVelocity,i.position,y.position)),e.update(y.bounds,y.vertices,i.velocity)}},h.updateVelocities=function(i){var l=h._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*l,u.y=(i.position.y-i.positionPrev.y)*l,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*l,i.angularSpeed=Math.abs(i.angularVelocity)},h.applyForce=function(i,l,u){var f={x:l.x-i.position.x,y:l.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=f.x*u.y-f.y*u.x},h._totalProperties=function(i){for(var l={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var f=i.parts[u],d=f.mass!==1/0?f.mass:1;l.mass+=d,l.area+=f.area,l.inertia+=f.inertia,l.centre=a.add(l.centre,a.mult(f.position,d))}return l.centre=a.div(l.centre,l.mass),l},h.wrap=function(i,l){var u=e.wrap(i.bounds,l);return u&&h.translate(i,u),u}})()},69351:(p,x,t)=>{var h={};p.exports=h;var v=t(35810),a=t(53402),r=t(15647),n=t(22562);(function(){h.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},h.setModified=function(e,s,o,i){if(v.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),o&&e.parent&&h.setModified(e.parent,s,o,i),i)for(var l=0;l<e.composites.length;l++){var u=e.composites[l];h.setModified(u,s,o,i)}},h.add=function(e,s){var o=[].concat(s);v.trigger(e,"beforeAdd",{object:s});for(var i=0;i<o.length;i++){var l=o[i];switch(l.type){case"body":if(l.parent!==l){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(e,l);break;case"constraint":h.addConstraint(e,l);break;case"composite":h.addComposite(e,l);break;case"mouseConstraint":h.addConstraint(e,l.constraint);break}}return v.trigger(e,"afterAdd",{object:s}),e},h.remove=function(e,s,o){var i=[].concat(s);v.trigger(e,"beforeRemove",{object:s});for(var l=0;l<i.length;l++){var u=i[l];switch(u.type){case"body":h.removeBody(e,u,o);break;case"constraint":h.removeConstraint(e,u,o);break;case"composite":h.removeComposite(e,u,o);break;case"mouseConstraint":h.removeConstraint(e,u.constraint);break}}return v.trigger(e,"afterRemove",{object:s}),e},h.addComposite=function(e,s){return e.composites.push(s),s.parent=e,h.setModified(e,!0,!0,!1),e},h.removeComposite=function(e,s,o){var i=a.indexOf(e.composites,s);if(i!==-1){var l=h.allBodies(s);h.removeCompositeAt(e,i);for(var u=0;u<l.length;u++)l[u].sleepCounter=0}if(o)for(var u=0;u<e.composites.length;u++)h.removeComposite(e.composites[u],s,!0);return e},h.removeCompositeAt=function(e,s){return e.composites.splice(s,1),h.setModified(e,!0,!0,!1),e},h.addBody=function(e,s){return e.bodies.push(s),h.setModified(e,!0,!0,!1),e},h.removeBody=function(e,s,o){var i=a.indexOf(e.bodies,s);if(i!==-1&&(h.removeBodyAt(e,i),s.sleepCounter=0),o)for(var l=0;l<e.composites.length;l++)h.removeBody(e.composites[l],s,!0);return e},h.removeBodyAt=function(e,s){return e.bodies.splice(s,1),h.setModified(e,!0,!0,!1),e},h.addConstraint=function(e,s){return e.constraints.push(s),h.setModified(e,!0,!0,!1),e},h.removeConstraint=function(e,s,o){var i=a.indexOf(e.constraints,s);if(i!==-1&&h.removeConstraintAt(e,i),o)for(var l=0;l<e.composites.length;l++)h.removeConstraint(e.composites[l],s,!0);return e},h.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),h.setModified(e,!0,!0,!1),e},h.clear=function(e,s,o){if(o)for(var i=0;i<e.composites.length;i++)h.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(l){return l.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,h.setModified(e,!0,!0,!1),e},h.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),o=0;o<e.composites.length;o++)s=s.concat(h.allBodies(e.composites[o]));return e.cache&&(e.cache.allBodies=s),s},h.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),o=0;o<e.composites.length;o++)s=s.concat(h.allConstraints(e.composites[o]));return e.cache&&(e.cache.allConstraints=s),s},h.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),o=0;o<e.composites.length;o++)s=s.concat(h.allComposites(e.composites[o]));return e.cache&&(e.cache.allComposites=s),s},h.get=function(e,s,o){var i,l;switch(o){case"body":i=h.allBodies(e);break;case"constraint":i=h.allConstraints(e);break;case"composite":i=h.allComposites(e).concat(e);break}return i?(l=i.filter(function(u){return u.id.toString()===s.toString()}),l.length===0?null:l[0]):null},h.move=function(e,s,o){return h.remove(e,s),h.add(o,s),e},h.rebase=function(e){for(var s=h.allBodies(e).concat(h.allConstraints(e)).concat(h.allComposites(e)),o=0;o<s.length;o++)s[o].id=a.nextId();return e},h.translate=function(e,s,o){for(var i=o?h.allBodies(e):e.bodies,l=0;l<i.length;l++)n.translate(i[l],s);return e},h.rotate=function(e,s,o,i){for(var l=Math.cos(s),u=Math.sin(s),f=i?h.allBodies(e):e.bodies,d=0;d<f.length;d++){var c=f[d],g=c.position.x-o.x,m=c.position.y-o.y;n.setPosition(c,{x:o.x+(g*l-m*u),y:o.y+(g*u+m*l)}),n.rotate(c,s)}return e},h.scale=function(e,s,o,i,l){for(var u=l?h.allBodies(e):e.bodies,f=0;f<u.length;f++){var d=u[f],c=d.position.x-i.x,g=d.position.y-i.y;n.setPosition(d,{x:i.x+c*s,y:i.y+g*o}),n.scale(d,s,o)}return e},h.bounds=function(e){for(var s=h.allBodies(e),o=[],i=0;i<s.length;i+=1){var l=s[i];o.push(l.bounds.min,l.bounds.max)}return r.create(o)},h.wrap=function(e,s){var o=r.wrap(h.bounds(e),s);return o&&h.translate(e,o),o}})()},4372:(p,x,t)=>{var h={};p.exports=h;var v=t(69351);(function(){h.create=v.create,h.add=v.add,h.remove=v.remove,h.clear=v.clear,h.addComposite=v.addComposite,h.addBody=v.addBody,h.addConstraint=v.addConstraint})()},52284:(p,x,t)=>{var h={};p.exports=h;var v=t(41598),a=t(4506);(function(){var r=[],n={overlap:0,axis:null},e={overlap:0,axis:null};h.create=function(s,o){return{pair:null,collided:!1,bodyA:s,bodyB:o,parentA:s.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(s,o,i){if(h._overlapAxes(n,s.vertices,o.vertices,s.axes),n.overlap<=0||(h._overlapAxes(e,o.vertices,s.vertices,o.axes),e.overlap<=0))return null;var l=i&&i.table[a.id(s,o)],u;l?u=l.collision:(u=h.create(s,o),u.collided=!0,u.bodyA=s.id<o.id?s:o,u.bodyB=s.id<o.id?o:s,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),s=u.bodyA,o=u.bodyB;var f;n.overlap<e.overlap?f=n:f=e;var d=u.normal,c=u.tangent,g=u.penetration,m=u.supports,y=f.overlap,T=f.axis,S=T.x,C=T.y,P=o.position.x-s.position.x,b=o.position.y-s.position.y;S*P+C*b>=0&&(S=-S,C=-C),d.x=S,d.y=C,c.x=-C,c.y=S,g.x=S*y,g.y=C*y,u.depth=y;var w=h._findSupports(s,o,d,1),M=0;if(v.contains(s.vertices,w[0])&&(m[M++]=w[0]),v.contains(s.vertices,w[1])&&(m[M++]=w[1]),M<2){var D=h._findSupports(o,s,d,-1);v.contains(o.vertices,D[0])&&(m[M++]=D[0]),M<2&&v.contains(o.vertices,D[1])&&(m[M++]=D[1])}return M===0&&(m[M++]=w[0]),u.supportCount=M,u},h._overlapAxes=function(s,o,i,l){var u=o.length,f=i.length,d=o[0].x,c=o[0].y,g=i[0].x,m=i[0].y,y=l.length,T=Number.MAX_VALUE,S=0,C,P,b,w,M,D;for(M=0;M<y;M++){var O=l[M],U=O.x,W=O.y,Y=d*U+c*W,X=g*U+m*W,N=Y,V=X;for(D=1;D<u;D+=1)w=o[D].x*U+o[D].y*W,w>N?N=w:w<Y&&(Y=w);for(D=1;D<f;D+=1)w=i[D].x*U+i[D].y*W,w>V?V=w:w<X&&(X=w);if(P=N-X,b=V-Y,C=P<b?P:b,C<T&&(T=C,S=M,C<=0))break}s.axis=l[S],s.overlap=T},h._findSupports=function(s,o,i,l){var u=o.vertices,f=u.length,d=s.position.x,c=s.position.y,g=i.x*l,m=i.y*l,y=u[0],T=y,S=g*(d-T.x)+m*(c-T.y),C,P,b;for(b=1;b<f;b+=1)T=u[b],P=g*(d-T.x)+m*(c-T.y),P<S&&(S=P,y=T);return C=u[(f+y.index-1)%f],S=g*(d-C.x)+m*(c-C.y),T=u[(y.index+1)%f],g*(d-T.x)+m*(c-T.y)<S?(r[0]=y,r[1]=T,r):(r[0]=y,r[1]=C,r)}})()},43424:p=>{var x={};p.exports=x,function(){x.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(p,x,t)=>{var h={};p.exports=h;var v=t(53402),a=t(52284);(function(){h.create=function(r){var n={bodies:[],collisions:[],pairs:null};return v.extend(n,r)},h.setBodies=function(r,n){r.bodies=n.slice(0)},h.clear=function(r){r.bodies=[],r.collisions=[]},h.collisions=function(r){var n=r.pairs,e=r.bodies,s=e.length,o=h.canCollide,i=a.collides,l=r.collisions,u=0,f,d;for(e.sort(h._compareBoundsX),f=0;f<s;f++){var c=e[f],g=c.bounds,m=c.bounds.max.x,y=c.bounds.max.y,T=c.bounds.min.y,S=c.isStatic||c.isSleeping,C=c.parts.length,P=C===1;for(d=f+1;d<s;d++){var b=e[d],w=b.bounds;if(w.min.x>m)break;if(!(y<w.min.y||T>w.max.y)&&!(S&&(b.isStatic||b.isSleeping))&&o(c.collisionFilter,b.collisionFilter)){var M=b.parts.length;if(P&&M===1){var D=i(c,b,n);D&&(l[u++]=D)}else for(var O=C>1?1:0,U=M>1?1:0,W=O;W<C;W++)for(var Y=c.parts[W],g=Y.bounds,X=U;X<M;X++){var N=b.parts[X],w=N.bounds;if(!(g.min.x>w.max.x||g.max.x<w.min.x||g.max.y<w.min.y||g.min.y>w.max.y)){var D=i(Y,N,n);D&&(l[u++]=D)}}}}}return l.length!==u&&(l.length=u),l},h.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0},h._compareBoundsX=function(r,n){return r.bounds.min.x-n.bounds.min.x}})()},4506:(p,x,t)=>{var h={};p.exports=h;var v=t(43424);(function(){h.create=function(a,r){var n=a.bodyA,e=a.bodyB,s={id:h.id(n,e),bodyA:n,bodyB:e,collision:a,contacts:[v.create(),v.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(s,a,r),s},h.update=function(a,r,n){var e=r.supports,s=r.supportCount,o=a.contacts,i=r.parentA,l=r.parentB;a.isActive=!0,a.timeUpdated=n,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+l.inverseMass,a.friction=i.friction<l.friction?i.friction:l.friction,a.frictionStatic=i.frictionStatic>l.frictionStatic?i.frictionStatic:l.frictionStatic,a.restitution=i.restitution>l.restitution?i.restitution:l.restitution,a.slop=i.slop>l.slop?i.slop:l.slop,a.contactCount=s,r.pair=a;var u=e[0],f=o[0],d=e[1],c=o[1];(c.vertex===u||f.vertex===d)&&(o[1]=f,o[0]=f=c,c=o[1]),f.vertex=u,c.vertex=d},h.setActive=function(a,r,n){r?(a.isActive=!0,a.timeUpdated=n):(a.isActive=!1,a.contactCount=0)},h.id=function(a,r){return a.id<r.id?a.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+a.id.toString(36)}})()},99561:(p,x,t)=>{var h={};p.exports=h;var v=t(4506),a=t(53402);(function(){h.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},h.update=function(r,n,e){var s=v.update,o=v.create,i=v.setActive,l=r.table,u=r.list,f=u.length,d=f,c=r.collisionStart,g=r.collisionEnd,m=r.collisionActive,y=n.length,T=0,S=0,C=0,P,b,w;for(w=0;w<y;w++)P=n[w],b=P.pair,b?(b.isActive&&(m[C++]=b),s(b,P,e)):(b=o(P,e),l[b.id]=b,c[T++]=b,u[d++]=b);for(d=0,f=u.length,w=0;w<f;w++)b=u[w],b.timeUpdated>=e?u[d++]=b:(i(b,!1,e),b.collision.bodyA.sleepCounter>0&&b.collision.bodyB.sleepCounter>0?u[d++]=b:(g[S++]=b,delete l[b.id]));u.length!==d&&(u.length=d),c.length!==T&&(c.length=T),g.length!==S&&(g.length=S),m.length!==C&&(m.length=C)},h.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(p,x,t)=>{var h={};p.exports=h;var v=t(31725),a=t(52284),r=t(15647),n=t(66280),e=t(41598);(function(){h.collides=function(s,o){for(var i=[],l=o.length,u=s.bounds,f=a.collides,d=r.overlaps,c=0;c<l;c++){var g=o[c],m=g.parts.length,y=m===1?0:1;if(s!==g&&d(g.bounds,u))for(var T=y;T<m;T++){var S=g.parts[T];if(d(S.bounds,u)){var C=f(S,s);if(C){i.push(C);break}}}}return i},h.ray=function(s,o,i,l){l=l||1e-100;for(var u=v.angle(o,i),f=v.magnitude(v.sub(o,i)),d=(i.x+o.x)*.5,c=(i.y+o.y)*.5,g=n.rectangle(d,c,f,l,{angle:u}),m=h.collides(g,s),y=0;y<m.length;y+=1){var T=m[y];T.body=T.bodyB=T.bodyA}return m},h.region=function(s,o,i){for(var l=[],u=0;u<s.length;u++){var f=s[u],d=r.overlaps(f.bounds,o);(d&&!i||!d&&i)&&l.push(f)}return l},h.point=function(s,o){for(var i=[],l=0;l<s.length;l++){var u=s[l];if(r.contains(u.bounds,o))for(var f=u.parts.length===1?0:1;f<u.parts.length;f++){var d=u.parts[f];if(r.contains(d.bounds,o)&&e.contains(d.vertices,o)){i.push(u);break}}}return i}})()},66272:(p,x,t)=>{var h={};p.exports=h;var v=t(41598),a=t(53402),r=t(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(n){var e,s,o,i=n.length;for(e=0;e<i;e++)s=n[e],s.isActive&&(o=s.contactCount,s.collision.parentA.totalContacts+=o,s.collision.parentB.totalContacts+=o)},h.solvePosition=function(n,e,s){var o,i,l,u,f,d,c,g,m=h._positionDampen*(s||1),y=a.clamp(e/a._baseDelta,0,1),T=n.length;for(o=0;o<T;o++)i=n[o],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,f=l.parentB,d=l.normal,i.separation=l.depth+d.x*(f.positionImpulse.x-u.positionImpulse.x)+d.y*(f.positionImpulse.y-u.positionImpulse.y));for(o=0;o<T;o++)i=n[o],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,f=l.parentB,d=l.normal,g=i.separation-i.slop*y,(u.isStatic||f.isStatic)&&(g*=2),u.isStatic||u.isSleeping||(c=m/u.totalContacts,u.positionImpulse.x+=d.x*g*c,u.positionImpulse.y+=d.y*g*c),f.isStatic||f.isSleeping||(c=m/f.totalContacts,f.positionImpulse.x-=d.x*g*c,f.positionImpulse.y-=d.y*g*c))},h.postSolvePosition=function(n){for(var e=h._positionWarming,s=n.length,o=v.translate,i=r.update,l=0;l<s;l++){var u=n[l],f=u.positionImpulse,d=f.x,c=f.y,g=u.velocity;if(u.totalContacts=0,d!==0||c!==0){for(var m=0;m<u.parts.length;m++){var y=u.parts[m];o(y.vertices,f),i(y.bounds,y.vertices,g),y.position.x+=d,y.position.y+=c}u.positionPrev.x+=d,u.positionPrev.y+=c,d*g.x+c*g.y<0?(f.x=0,f.y=0):(f.x*=e,f.y*=e)}}},h.preSolveVelocity=function(n){var e=n.length,s,o;for(s=0;s<e;s++){var i=n[s];if(!(!i.isActive||i.isSensor)){var l=i.contacts,u=i.contactCount,f=i.collision,d=f.parentA,c=f.parentB,g=f.normal,m=f.tangent;for(o=0;o<u;o++){var y=l[o],T=y.vertex,S=y.normalImpulse,C=y.tangentImpulse;if(S!==0||C!==0){var P=g.x*S+m.x*C,b=g.y*S+m.y*C;d.isStatic||d.isSleeping||(d.positionPrev.x+=P*d.inverseMass,d.positionPrev.y+=b*d.inverseMass,d.anglePrev+=d.inverseInertia*((T.x-d.position.x)*b-(T.y-d.position.y)*P)),c.isStatic||c.isSleeping||(c.positionPrev.x-=P*c.inverseMass,c.positionPrev.y-=b*c.inverseMass,c.anglePrev-=c.inverseInertia*((T.x-c.position.x)*b-(T.y-c.position.y)*P))}}}}},h.solveVelocity=function(n,e){var s=e/a._baseDelta,o=s*s,i=o*s,l=-h._restingThresh*s,u=h._restingThreshTangent,f=h._frictionNormalMultiplier*s,d=h._frictionMaxStatic,c=n.length,g,m,y,T;for(y=0;y<c;y++){var S=n[y];if(!(!S.isActive||S.isSensor)){var C=S.collision,P=C.parentA,b=C.parentB,w=C.normal.x,M=C.normal.y,D=C.tangent.x,O=C.tangent.y,U=S.inverseMass,W=S.friction*S.frictionStatic*f,Y=S.contacts,X=S.contactCount,N=1/X,V=P.position.x-P.positionPrev.x,I=P.position.y-P.positionPrev.y,B=P.angle-P.anglePrev,G=b.position.x-b.positionPrev.x,H=b.position.y-b.positionPrev.y,k=b.angle-b.anglePrev;for(T=0;T<X;T++){var Z=Y[T],J=Z.vertex,j=J.x-P.position.x,_=J.y-P.position.y,tt=J.x-b.position.x,et=J.y-b.position.y,rt=V-_*B,at=I+j*B,st=G-et*k,ct=H+tt*k,pt=rt-st,vt=at-ct,nt=w*pt+M*vt,lt=D*pt+O*vt,ht=S.separation+nt,Tt=Math.min(ht,1);Tt=ht<0?0:Tt;var wt=Tt*W;lt<-wt||lt>wt?(m=lt>0?lt:-lt,g=S.friction*(lt>0?1:-1)*i,g<-m?g=-m:g>m&&(g=m)):(g=lt,m=d);var It=j*M-_*w,Ct=tt*M-et*w,At=N/(U+P.inverseInertia*It*It+b.inverseInertia*Ct*Ct),Nt=(1+S.restitution)*nt*At;if(g*=At,nt<l)Z.normalImpulse=0;else{var Ht=Z.normalImpulse;Z.normalImpulse+=Nt,Z.normalImpulse>0&&(Z.normalImpulse=0),Nt=Z.normalImpulse-Ht}if(lt<-u||lt>u)Z.tangentImpulse=0;else{var Lt=Z.tangentImpulse;Z.tangentImpulse+=g,Z.tangentImpulse<-m&&(Z.tangentImpulse=-m),Z.tangentImpulse>m&&(Z.tangentImpulse=m),g=Z.tangentImpulse-Lt}var zt=w*Nt+D*g,Vt=M*Nt+O*g;P.isStatic||P.isSleeping||(P.positionPrev.x+=zt*P.inverseMass,P.positionPrev.y+=Vt*P.inverseMass,P.anglePrev+=(j*Vt-_*zt)*P.inverseInertia),b.isStatic||b.isSleeping||(b.positionPrev.x-=zt*b.inverseMass,b.positionPrev.y-=Vt*b.inverseMass,b.anglePrev-=(tt*Vt-et*zt)*b.inverseInertia)}}}}})()},48140:(p,x,t)=>{var h={};p.exports=h;var v=t(41598),a=t(31725),r=t(53614),n=t(15647),e=t(66615),s=t(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(o){var i=o;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var l=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,f=a.magnitude(a.sub(l,u));i.length=typeof i.length<"u"?i.length:f,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(d.type="pin",d.anchors=!1):i.stiffness<.9&&(d.type="spring"),i.render=s.extend(d,i.render),i},h.preSolveAll=function(o){for(var i=0;i<o.length;i+=1){var l=o[i],u=l.constraintImpulse;l.isStatic||u.x===0&&u.y===0&&u.angle===0||(l.position.x+=u.x,l.position.y+=u.y,l.angle+=u.angle)}},h.solveAll=function(o,i){for(var l=s.clamp(i/s._baseDelta,0,1),u=0;u<o.length;u+=1){var f=o[u],d=!f.bodyA||f.bodyA&&f.bodyA.isStatic,c=!f.bodyB||f.bodyB&&f.bodyB.isStatic;(d||c)&&h.solve(o[u],l)}for(u=0;u<o.length;u+=1)f=o[u],d=!f.bodyA||f.bodyA&&f.bodyA.isStatic,c=!f.bodyB||f.bodyB&&f.bodyB.isStatic,!d&&!c&&h.solve(o[u],l)},h.solve=function(o,i){var l=o.bodyA,u=o.bodyB,f=o.pointA,d=o.pointB;if(!(!l&&!u)){l&&!l.isStatic&&(a.rotate(f,l.angle-o.angleA,f),o.angleA=l.angle),u&&!u.isStatic&&(a.rotate(d,u.angle-o.angleB,d),o.angleB=u.angle);var c=f,g=d;if(l&&(c=a.add(l.position,f)),u&&(g=a.add(u.position,d)),!(!c||!g)){var m=a.sub(c,g),y=a.magnitude(m);y<h._minLength&&(y=h._minLength);var T=(y-o.length)/y,S=o.stiffness>=1||o.length===0,C=S?o.stiffness*i:o.stiffness*i*i,P=o.damping*i,b=a.mult(m,T*C),w=(l?l.inverseMass:0)+(u?u.inverseMass:0),M=(l?l.inverseInertia:0)+(u?u.inverseInertia:0),D=w+M,O,U,W,Y,X;if(P>0){var N=a.create();W=a.div(m,y),X=a.sub(u&&a.sub(u.position,u.positionPrev)||N,l&&a.sub(l.position,l.positionPrev)||N),Y=a.dot(W,X)}l&&!l.isStatic&&(U=l.inverseMass/w,l.constraintImpulse.x-=b.x*U,l.constraintImpulse.y-=b.y*U,l.position.x-=b.x*U,l.position.y-=b.y*U,P>0&&(l.positionPrev.x-=P*W.x*Y*U,l.positionPrev.y-=P*W.y*Y*U),O=a.cross(f,b)/D*h._torqueDampen*l.inverseInertia*(1-o.angularStiffness),l.constraintImpulse.angle-=O,l.angle-=O),u&&!u.isStatic&&(U=u.inverseMass/w,u.constraintImpulse.x+=b.x*U,u.constraintImpulse.y+=b.y*U,u.position.x+=b.x*U,u.position.y+=b.y*U,P>0&&(u.positionPrev.x+=P*W.x*Y*U,u.positionPrev.y+=P*W.y*Y*U),O=a.cross(d,b)/D*h._torqueDampen*u.inverseInertia*(1-o.angularStiffness),u.constraintImpulse.angle+=O,u.angle+=O)}}},h.postSolveAll=function(o){for(var i=0;i<o.length;i++){var l=o[i],u=l.constraintImpulse;if(!(l.isStatic||u.x===0&&u.y===0&&u.angle===0)){r.set(l,!1);for(var f=0;f<l.parts.length;f++){var d=l.parts[f];v.translate(d.vertices,u),f>0&&(d.position.x+=u.x,d.position.y+=u.y),u.angle!==0&&(v.rotate(d.vertices,u.angle,l.position),e.rotate(d.axes,u.angle),f>0&&a.rotateAbout(d.position,u.angle,l.position,d.position)),n.update(d.bounds,d.vertices,l.velocity)}u.angle*=h._warming,u.x*=h._warming,u.y*=h._warming}}},h.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},h.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},h.currentLength=function(o){var i=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),l=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),u=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),f=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),d=i-u,c=l-f;return Math.sqrt(d*d+c*c)}})()},53402:(p,x,t)=>{var h={};p.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(a,r){var n,e;typeof r=="boolean"?(n=2,e=r):(n=1,e=!0);for(var s=n;s<arguments.length;s++){var o=arguments[s];if(o)for(var i in o)e&&o[i]&&o[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},h.extend(a[i],e,o[i])):a[i]=o[i]}return a},h.clone=function(a,r){return h.extend({},r,a)},h.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var n in a)r.push(n);return r},h.values=function(a){var r=[];if(Object.keys){for(var n=Object.keys(a),e=0;e<n.length;e++)r.push(a[n[e]]);return r}for(var s in a)r.push(a[s]);return r},h.get=function(a,r,n,e){r=r.split(".").slice(n,e);for(var s=0;s<r.length;s+=1)a=a[r[s]];return a},h.set=function(a,r,n,e,s){var o=r.split(".").slice(e,s);return h.get(a,r,0,-1)[o[o.length-1]]=n,n},h.shuffle=function(a){for(var r=a.length-1;r>0;r--){var n=Math.floor(h.random()*(r+1)),e=a[r];a[r]=a[n],a[n]=e}return a},h.choose=function(a){return a[Math.floor(h.random()*a.length)]},h.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},h.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},h.isFunction=function(a){return typeof a=="function"},h.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},h.isString=function(a){return toString.call(a)==="[object String]"},h.clamp=function(a,r,n){return a<r?r:a>n?n:a},h.sign=function(a){return a<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+v()*(r-a)};var v=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[a]||(h.warn(a),h._warnedOnce[a]=!0)},h.deprecated=function(a,r,n){a[r]=h.chain(function(){h.warnOnce(" deprecated ",n)},a[r])},h.nextId=function(){return h._nextId++},h.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var n=0;n<a.length;n++)if(a[n]===r)return n;return-1},h.map=function(a,r){if(a.map)return a.map(r);for(var n=[],e=0;e<a.length;e+=1)n.push(r(a[e]));return n},h.topologicalSort=function(a){var r=[],n=[],e=[];for(var s in a)!n[s]&&!e[s]&&h._topologicalSort(s,n,e,a,r);return r},h._topologicalSort=function(a,r,n,e,s){var o=e[a]||[];n[a]=!0;for(var i=0;i<o.length;i+=1){var l=o[i];n[l]||r[l]||h._topologicalSort(l,r,n,e,s)}n[a]=!1,r[a]=!0,s.push(a)},h.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?a.push.apply(a,n._chained):a.push(n)}var e=function(){for(var s,o=new Array(arguments.length),i=0,l=arguments.length;i<l;i++)o[i]=arguments[i];for(i=0;i<a.length;i+=1){var u=a[i].apply(s,o);typeof u<"u"&&(s=u)}return s};return e._chained=a,e},h.chainPathBefore=function(a,r,n){return h.set(a,r,h.chain(n,h.get(a,r)))},h.chainPathAfter=function(a,r,n){return h.set(a,r,h.chain(h.get(a,r),n))},h.setDecomp=function(a){h._decomp=a},h.getDecomp=function(){var a=h._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(p,x,t)=>{var h={};p.exports=h;var v=t(53614),a=t(66272),r=t(81388),n=t(99561),e=t(35810),s=t(69351),o=t(48140),i=t(53402),l=t(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(u){u=u||{};var f={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},d=i.extend(f,u);return d.world=u.world||s.create({label:"World"}),d.pairs=u.pairs||n.create(),d.detector=u.detector||r.create(),d.detector.pairs=d.pairs,d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},h.update=function(u,f){var d=i.now(),c=u.world,g=u.detector,m=u.pairs,y=u.timing,T=y.timestamp,S;f>h._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),f=typeof f<"u"?f:i._baseDelta,f*=y.timeScale,y.timestamp+=f,y.lastDelta=f;var C={timestamp:y.timestamp,delta:f};e.trigger(u,"beforeUpdate",C);var P=s.allBodies(c),b=s.allConstraints(c),w=s.allComposites(c);for(c.isModified&&(r.setBodies(g,P),s.setModified(c,!1,!1,!0)),u.enableSleeping&&v.update(P,f),h._bodiesApplyGravity(P,u.gravity),h.wrap(P,w),h.attractors(P),f>0&&h._bodiesUpdate(P,f),e.trigger(u,"beforeSolve",C),o.preSolveAll(P),S=0;S<u.constraintIterations;S++)o.solveAll(b,f);o.postSolveAll(P);var M=r.collisions(g);n.update(m,M,T),u.enableSleeping&&v.afterCollisions(m.list),m.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:m.collisionStart,timestamp:y.timestamp,delta:f});var D=i.clamp(20/u.positionIterations,0,1);for(a.preSolvePosition(m.list),S=0;S<u.positionIterations;S++)a.solvePosition(m.list,f,D);for(a.postSolvePosition(P),o.preSolveAll(P),S=0;S<u.constraintIterations;S++)o.solveAll(b,f);for(o.postSolveAll(P),a.preSolveVelocity(m.list),S=0;S<u.velocityIterations;S++)a.solveVelocity(m.list,f);return h._bodiesUpdateVelocities(P),m.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:m.collisionActive,timestamp:y.timestamp,delta:f}),m.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:m.collisionEnd,timestamp:y.timestamp,delta:f}),h._bodiesClearForces(P),e.trigger(u,"afterUpdate",C),u.timing.lastElapsed=i.now()-d,u},h.merge=function(u,f){if(i.extend(u,f),f.world){u.world=f.world,h.clear(u);for(var d=s.allBodies(u.world),c=0;c<d.length;c++){var g=d[c];v.set(g,!1),g.id=i.nextId()}}},h.clear=function(u){n.clear(u.pairs),r.clear(u.detector)},h._bodiesClearForces=function(u){for(var f=u.length,d=0;d<f;d++){var c=u[d];c.force.x=0,c.force.y=0,c.torque=0}},h._bodiesApplyGravity=function(u,f){var d=typeof f.scale<"u"?f.scale:.001,c=u.length;if(!(f.x===0&&f.y===0||d===0))for(var g=0;g<c;g++){var m=u[g];m.ignoreGravity||m.isStatic||m.isSleeping||(m.force.y+=m.mass*f.y*d,m.force.x+=m.mass*f.x*d)}},h._bodiesUpdate=function(u,f){for(var d=u.length,c=0;c<d;c++){var g=u[c];g.isStatic||g.isSleeping||l.update(g,f)}},h._bodiesUpdateVelocities=function(u){for(var f=u.length,d=0;d<f;d++)l.updateVelocities(u[d])},h.wrap=function(u,f){for(var d=0;d<u.length;d+=1){var c=u[d];c.wrapBounds!==null&&l.wrap(c,c.wrapBounds)}for(d=0;d<f.length;d+=1){var g=f[d];g.wrapBounds!==null&&s.wrap(g,g.wrapBounds)}},h.attractors=function(u){for(var f=0;f<u.length;f++){var d=u[f],c=d.attractors;if(c&&c.length>0)for(var g=0;g<u.length;g++){var m=u[g];if(f!==g)for(var y=0;y<c.length;y++){var T=c[y],S=T;i.isFunction(T)&&(S=T(d,m)),S&&l.applyForce(m,m.position,S)}}}}})()},35810:(p,x,t)=>{var h={};p.exports=h;var v=t(53402);(function(){h.on=function(a,r,n){for(var e=r.split(" "),s,o=0;o<e.length;o++)s=e[o],a.events=a.events||{},a.events[s]=a.events[s]||[],a.events[s].push(n);return n},h.off=function(a,r,n){if(!r){a.events={};return}typeof r=="function"&&(n=r,r=v.keys(a.events).join(" "));for(var e=r.split(" "),s=0;s<e.length;s++){var o=a.events[e[s]],i=[];if(n&&o)for(var l=0;l<o.length;l++)o[l]!==n&&i.push(o[l]);a.events[e[s]]=i}},h.trigger=function(a,r,n){var e,s,o,i,l=a.events;if(l&&v.keys(l).length>0){n||(n={}),e=r.split(" ");for(var u=0;u<e.length;u++)if(s=e[u],o=l[s],o){i=v.clone(n,!1),i.name=s,i.source=a;for(var f=0;f<o.length;f++)o[f].apply(a,[i])}}}})()},6790:(p,x,t)=>{var h={};p.exports=h;var v=t(73832),a=t(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){v.use(h,Array.prototype.slice.call(arguments))},h.before=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathBefore(h,r,n)},h.after=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathAfter(h,r,n)}})()},73832:(p,x,t)=>{var h={};p.exports=h;var v=t(53402);(function(){h._registry={},h.register=function(a){if(h.isPlugin(a)||v.warn("Plugin.register:",h.toString(a),"does not implement all required fields."),a.name in h._registry){var r=h._registry[a.name],n=h.versionParse(a.version).number,e=h.versionParse(r.version).number;n>e?(v.warn("Plugin.register:",h.toString(r),"was upgraded to",h.toString(a)),h._registry[a.name]=a):n<e?v.warn("Plugin.register:",h.toString(r),"can not be downgraded to",h.toString(a)):a!==r&&v.warn("Plugin.register:",h.toString(a),"is already registered to different plugin object")}else h._registry[a.name]=a;return a},h.resolve=function(a){return h._registry[h.dependencyParse(a).name]},h.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},h.isPlugin=function(a){return a&&a.name&&a.version&&a.install},h.isUsed=function(a,r){return a.used.indexOf(r)>-1},h.isFor=function(a,r){var n=a.for&&h.dependencyParse(a.for);return!a.for||r.name===n.name&&h.versionSatisfies(r.version,n.range)},h.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){v.warn("Plugin.use:",h.toString(a),"does not specify any dependencies to install.");return}for(var n=h.dependencies(a),e=v.topologicalSort(n),s=[],o=0;o<e.length;o+=1)if(e[o]!==a.name){var i=h.resolve(e[o]);if(!i){s.push(" "+e[o]);continue}h.isUsed(a,i.name)||(h.isFor(i,a)||(v.warn("Plugin.use:",h.toString(i),"is for",i.for,"but installed on",h.toString(a)+"."),i._warned=!0),i.install?i.install(a):(v.warn("Plugin.use:",h.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push(" "+h.toString(i)),delete i._warned):s.push(" "+h.toString(i)),a.used.push(i.name))}s.length>0&&!i.silent&&v.info(s.join("  "))},h.dependencies=function(a,r){var n=h.dependencyParse(a),e=n.name;if(r=r||{},!(e in r)){a=h.resolve(a)||a,r[e]=v.map(a.uses||[],function(o){h.isPlugin(o)&&h.register(o);var i=h.dependencyParse(o),l=h.resolve(o);return l&&!h.versionSatisfies(l.version,i.range)?(v.warn("Plugin.dependencies:",h.toString(l),"does not satisfy",h.toString(i),"used by",h.toString(n)+"."),l._warned=!0,a._warned=!0):l||(v.warn("Plugin.dependencies:",h.toString(o),"used by",h.toString(n),"could not be resolved."),a._warned=!0),i.name});for(var s=0;s<r[e].length;s+=1)h.dependencies(r[e][s],r);return r}},h.dependencyParse=function(a){if(v.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||v.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},h.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||v.warn("Plugin.versionParse:",a,"is not a valid version or range.");var n=r.exec(a),e=Number(n[4]),s=Number(n[5]),o=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:a,operator:n[1]||n[2]||"",major:e,minor:s,patch:o,parts:[e,s,o],prerelease:n[7],number:e*1e8+s*1e4+o}},h.versionSatisfies=function(a,r){r=r||"*";var n=h.versionParse(r),e=h.versionParse(a);if(n.isRange){if(n.operator==="*"||a==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return a===r||a==="*"}})()},13037:(p,x,t)=>{var h={};p.exports=h;var v=t(35810),a=t(48413),r=t(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(e){var s={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o=r.extend(s,e);return o.fps=0,o},h.run=function(e,s){return e.timeBuffer=h._frameDeltaFallback,function o(i){e.frameRequestId=h._onNextFrame(e,o),i&&e.enabled&&h.tick(e,s,i)}(),e},h.tick=function(e,s,o){var i=r.now(),l=e.delta,u=0,f=o-e.timeLastTick;if((!f||!e.timeLastTick||f>Math.max(h._maxFrameDelta,e.maxFrameTime))&&(f=e.frameDelta||h._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(f),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort(),c=e.frameDeltaHistory.slice(d.length*h._smoothingLowerBound,d.length*h._smoothingUpperBound),g=n(c);f=g||f}e.frameDeltaSnapping&&(f=1e3/Math.round(1e3/f)),e.frameDelta=f,e.timeLastTick=o,e.timeBuffer+=e.frameDelta,e.timeBuffer=r.clamp(e.timeBuffer,0,e.frameDelta+l*h._timeBufferMargin),e.lastUpdatesDeferred=0;var m=e.maxUpdates||Math.ceil(e.maxFrameTime/l),y={timestamp:s.timing.timestamp};v.trigger(e,"beforeTick",y),v.trigger(e,"tick",y);for(var T=r.now();l>0&&e.timeBuffer>=l*h._timeBufferMargin;){v.trigger(e,"beforeUpdate",y),a.update(s,l),v.trigger(e,"afterUpdate",y),e.timeBuffer-=l,u+=1;var S=r.now()-i,C=r.now()-T,P=S+h._elapsedNextEstimate*C/u;if(u>=m||P>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/l-h._timeBufferMargin));break}}s.timing.lastUpdatesPerFrame=u,v.trigger(e,"afterTick",y),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/l)>m?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(e){h._cancelNextFrame(e)},h._onNextFrame=function(e,s){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(s);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},h._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var n=function(e){for(var s=0,o=e.length,i=0;i<o;i+=1)s+=e[i];return s/o||0};h._mean=n})()},53614:(p,x,t)=>{var h={};p.exports=h;var v=t(22562),a=t(35810),r=t(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(n,e){for(var s=e/r._baseDelta,o=h._motionSleepThreshold,i=0;i<n.length;i++){var l=n[i],u=v.getSpeed(l),f=v.getAngularSpeed(l),d=u*u+f*f;if(l.force.x!==0||l.force.y!==0){h.set(l,!1);continue}var c=Math.min(l.motion,d),g=Math.max(l.motion,d);l.motion=h._minBias*c+(1-h._minBias)*g,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/s&&h.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},h.afterCollisions=function(n){for(var e=h._motionSleepThreshold,s=0;s<n.length;s++){var o=n[s];if(o.isActive){var i=o.collision,l=i.bodyA.parent,u=i.bodyB.parent;if(!(l.isSleeping&&u.isSleeping||l.isStatic||u.isStatic)&&(l.isSleeping||u.isSleeping)){var f=l.isSleeping&&!l.isStatic?l:u,d=f===l?u:l;!f.isStatic&&d.motion>e&&h.set(f,!1)}}}},h.set=function(n,e){var s=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,s||a.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,s&&a.trigger(n,"sleepEnd"))}})()},66280:(p,x,t)=>{var h={};p.exports=h;var v=t(41598),a=t(53402),r=t(22562),n=t(15647),e=t(31725);(function(){h.rectangle=function(s,o,i,l,u){u=u||{};var f={label:"Rectangle Body",position:{x:s,y:o},vertices:v.fromPath("L 0 0 L "+i+" 0 L "+i+" "+l+" L 0 "+l)};if(u.chamfer){var d=u.chamfer;f.vertices=v.chamfer(f.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete u.chamfer}return r.create(a.extend({},f,u))},h.trapezoid=function(s,o,i,l,u,f){f=f||{},u>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),u*=.5;var d=(1-u*2)*i,c=i*u,g=c+d,m=g+c,y;u<.5?y="L 0 0 L "+c+" "+-l+" L "+g+" "+-l+" L "+m+" 0":y="L 0 0 L "+g+" "+-l+" L "+m+" 0";var T={label:"Trapezoid Body",position:{x:s,y:o},vertices:v.fromPath(y)};if(f.chamfer){var S=f.chamfer;T.vertices=v.chamfer(T.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete f.chamfer}return r.create(a.extend({},T,f))},h.circle=function(s,o,i,l,u){l=l||{};var f={label:"Circle Body",circleRadius:i};u=u||25;var d=Math.ceil(Math.max(10,Math.min(u,i)));return d%2===1&&(d+=1),h.polygon(s,o,d,i,a.extend({},f,l))},h.polygon=function(s,o,i,l,u){if(u=u||{},i<3)return h.circle(s,o,l,u);for(var f=2*Math.PI/i,d="",c=f*.5,g=0;g<i;g+=1){var m=c+g*f,y=Math.cos(m)*l,T=Math.sin(m)*l;d+="L "+y.toFixed(3)+" "+T.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:s,y:o},vertices:v.fromPath(d)};if(u.chamfer){var C=u.chamfer;S.vertices=v.chamfer(S.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete u.chamfer}return r.create(a.extend({},S,u))},h.fromVertices=function(s,o,i,l,u,f,d,c){var g=a.getDecomp(),m,y,T,S,C,P,b,w,M,D,O;for(m=!!(g&&g.quickDecomp),l=l||{},T=[],u=typeof u<"u"?u:!1,f=typeof f<"u"?f:.01,d=typeof d<"u"?d:10,c=typeof c<"u"?c:.01,a.isArray(i[0])||(i=[i]),D=0;D<i.length;D+=1)if(P=i[D],S=v.isConvex(P),C=!S,C&&!m&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!m)S?P=v.clockwiseSort(P):P=v.hull(P),T.push({position:{x:s,y:o},vertices:P});else{var U=P.map(function(Z){return[Z.x,Z.y]});g.makeCCW(U),f!==!1&&g.removeCollinearPoints(U,f),c!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(U,c);var W=g.quickDecomp(U);for(b=0;b<W.length;b++){var Y=W[b],X=Y.map(function(Z){return{x:Z[0],y:Z[1]}});d>0&&v.area(X)<d||T.push({position:v.centre(X),vertices:X})}}for(b=0;b<T.length;b++)T[b]=r.create(a.extend(T[b],l));if(u){var N=5;for(b=0;b<T.length;b++){var V=T[b];for(w=b+1;w<T.length;w++){var I=T[w];if(n.overlaps(V.bounds,I.bounds)){var B=V.vertices,G=I.vertices;for(M=0;M<V.vertices.length;M++)for(O=0;O<I.vertices.length;O++){var H=e.magnitudeSquared(e.sub(B[(M+1)%B.length],G[O])),k=e.magnitudeSquared(e.sub(B[M],G[(O+1)%G.length]));H<N&&k<N&&(B[M].isInternal=!0,G[O].isInternal=!0)}}}}}return T.length>1?(y=r.create(a.extend({parts:T.slice(0)},l)),r.setPosition(y,{x:s,y:o}),y):T[0]},h.flagCoincidentParts=function(s,o){o===void 0&&(o=5);for(var i=0;i<s.length;i++)for(var l=s[i],u=i+1;u<s.length;u++){var f=s[u];if(n.overlaps(l.bounds,f.bounds))for(var d=l.vertices,c=f.vertices,g=0;g<l.vertices.length;g++)for(var m=0;m<f.vertices.length;m++){var y=e.magnitudeSquared(e.sub(d[(g+1)%d.length],c[m])),T=e.magnitudeSquared(e.sub(d[g],c[(m+1)%c.length]));y<o&&T<o&&(d[g].isInternal=!0,c[m].isInternal=!0)}}return s}})()},74116:(p,x,t)=>{var h={};p.exports=h;var v=t(69351),a=t(48140),r=t(53402),n=t(22562),e=t(66280);(function(){h.stack=function(s,o,i,l,u,f,d){for(var c=v.create({label:"Stack"}),g=s,m=o,y,T=0,S=0;S<l;S++){for(var C=0,P=0;P<i;P++){var b=d(g,m,P,S,y,T);if(b){var w=b.bounds.max.y-b.bounds.min.y,M=b.bounds.max.x-b.bounds.min.x;w>C&&(C=w),n.translate(b,{x:M*.5,y:w*.5}),g=b.bounds.max.x+u,v.addBody(c,b),y=b,T+=1}else g+=u}m+=C+f,g=s}return c},h.chain=function(s,o,i,l,u,f){for(var d=s.bodies,c=1;c<d.length;c++){var g=d[c-1],m=d[c],y=g.bounds.max.y-g.bounds.min.y,T=g.bounds.max.x-g.bounds.min.x,S=m.bounds.max.y-m.bounds.min.y,C=m.bounds.max.x-m.bounds.min.x,P={bodyA:g,pointA:{x:T*o,y:y*i},bodyB:m,pointB:{x:C*l,y:S*u}},b=r.extend(P,f);v.addConstraint(s,a.create(b))}return s.label+=" Chain",s},h.mesh=function(s,o,i,l,u){var f=s.bodies,d,c,g,m,y;for(d=0;d<i;d++){for(c=1;c<o;c++)g=f[c-1+d*o],m=f[c+d*o],v.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:m},u)));if(d>0)for(c=0;c<o;c++)g=f[c+(d-1)*o],m=f[c+d*o],v.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:m},u))),l&&c>0&&(y=f[c-1+(d-1)*o],v.addConstraint(s,a.create(r.extend({bodyA:y,bodyB:m},u)))),l&&c<o-1&&(y=f[c+1+(d-1)*o],v.addConstraint(s,a.create(r.extend({bodyA:y,bodyB:m},u))))}return s.label+=" Mesh",s},h.pyramid=function(s,o,i,l,u,f,d){return h.stack(s,o,i,l,u,f,function(c,g,m,y,T,S){var C=Math.min(l,Math.ceil(i/2)),P=T?T.bounds.max.x-T.bounds.min.x:0;if(!(y>C)){y=C-y;var b=y,w=i-1-y;if(!(m<b||m>w)){S===1&&n.translate(T,{x:(m+(i%2===1?1:-1))*P,y:0});var M=T?m*P:0;return d(s+M+m*u,g,m,y,T,S)}}})},h.newtonsCradle=function(s,o,i,l,u){for(var f=v.create({label:"Newtons Cradle"}),d=0;d<i;d++){var c=1.9,g=e.circle(s+d*(l*c),o+u,l,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=a.create({pointA:{x:s+d*(l*c),y:o},bodyB:g});v.addBody(f,g),v.addConstraint(f,m)}return f},h.car=function(s,o,i,l,u){var f=n.nextGroup(!0),d=20,c=-i*.5+d,g=i*.5-d,m=0,y=v.create({label:"Car"}),T=e.rectangle(s,o,i,l,{collisionFilter:{group:f},chamfer:{radius:l*.5},density:2e-4}),S=e.circle(s+c,o+m,u,{collisionFilter:{group:f},friction:.8}),C=e.circle(s+g,o+m,u,{collisionFilter:{group:f},friction:.8}),P=a.create({bodyB:T,pointB:{x:c,y:m},bodyA:S,stiffness:1,length:0}),b=a.create({bodyB:T,pointB:{x:g,y:m},bodyA:C,stiffness:1,length:0});return v.addBody(y,T),v.addBody(y,S),v.addBody(y,C),v.addConstraint(y,P),v.addConstraint(y,b),y},h.softBody=function(s,o,i,l,u,f,d,c,g,m){g=r.extend({inertia:1/0},g),m=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var y=h.stack(s,o,i,l,u,f,function(T,S){return e.circle(T,S,c,g)});return h.mesh(y,i,l,d,m),y.label="Soft Body",y}})()},66615:(p,x,t)=>{var h={};p.exports=h;var v=t(31725),a=t(53402);(function(){h.fromVertices=function(r){for(var n={},e=0;e<r.length;e++){var s=(e+1)%r.length,o=v.normalise({x:r[s].y-r[e].y,y:r[e].x-r[s].x}),i=o.y===0?1/0:o.x/o.y;i=i.toFixed(3).toString(),n[i]=o}return a.values(n)},h.rotate=function(r,n){if(n!==0)for(var e=Math.cos(n),s=Math.sin(n),o=0;o<r.length;o++){var i=r[o],l;l=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=l}}})()},15647:p=>{var x={};p.exports=x,function(){x.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&x.update(h,t),h},x.update=function(t,h,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<h.length;a++){var r=h[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},x.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},x.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},x.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},x.shift=function(t,h){var v=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+v,t.min.y=h.y,t.max.y=h.y+a},x.wrap=function(t,h,v){var a=null,r=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(t.min.x>h.max.x?a=h.min.x-t.max.x:t.max.x<h.min.x&&(a=h.max.x-t.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(t.min.y>h.max.y?r=h.min.y-t.max.y:t.max.y<h.min.y&&(r=h.max.y-t.min.y)),a!==null||r!==null)return{x:a||0,y:r||0}}}()},74058:(p,x,t)=>{var h={};p.exports=h,t(15647);var v=t(53402);(function(){h.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,s,o,i,l,u,f,d,c,g=[],m,y,T=0,S=0,C=0;r=r||15;var P=function(w,M,D){var O=D%2===1&&D>1;if(!d||w!=d.x||M!=d.y){d&&O?(m=d.x,y=d.y):(m=0,y=0);var U={x:m+w,y:y+M};(O||!d)&&(d=U),g.push(U),S=m+w,C=y+M}},b=function(w){var M=w.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":S=w.x,C=w.y;break;case"H":S=w.x;break;case"V":C=w.y;break}P(S,C,w.pathSegType)}};for(h._svgPathToAbsolute(a),s=a.getTotalLength(),l=[],n=0;n<a.pathSegList.numberOfItems;n+=1)l.push(a.pathSegList.getItem(n));for(u=l.concat();T<s;){if(c=a.getPathSegAtLength(T),i=l[c],i!=f){for(;u.length&&u[0]!=i;)b(u.shift());f=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=a.getPointAtLength(T),P(o.x,o.y,0);break}T+=r}for(n=0,e=u.length;n<e;++n)b(u[n]);return g},h._svgPathToAbsolute=function(a){for(var r,n,e,s,o,i,l=a.pathSegList,u=0,f=0,d=l.numberOfItems,c=0;c<d;++c){var g=l.getItem(c),m=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(m))"x"in g&&(u=g.x),"y"in g&&(f=g.y);else switch("x1"in g&&(e=u+g.x1),"x2"in g&&(o=u+g.x2),"y1"in g&&(s=f+g.y1),"y2"in g&&(i=f+g.y2),"x"in g&&(u+=g.x),"y"in g&&(f+=g.y),m){case"m":l.replaceItem(a.createSVGPathSegMovetoAbs(u,f),c);break;case"l":l.replaceItem(a.createSVGPathSegLinetoAbs(u,f),c);break;case"h":l.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(u),c);break;case"v":l.replaceItem(a.createSVGPathSegLinetoVerticalAbs(f),c);break;case"c":l.replaceItem(a.createSVGPathSegCurvetoCubicAbs(u,f,e,s,o,i),c);break;case"s":l.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(u,f,o,i),c);break;case"q":l.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(u,f,e,s),c);break;case"t":l.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(u,f),c);break;case"a":l.replaceItem(a.createSVGPathSegArcAbs(u,f,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),c);break;case"z":case"Z":u=r,f=n;break}(m=="M"||m=="m")&&(r=u,n=f)}}})()},31725:p=>{var x={};p.exports=x,function(){x.create=function(t,h){return{x:t||0,y:h||0}},x.clone=function(t){return{x:t.x,y:t.y}},x.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},x.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},x.rotate=function(t,h,v){var a=Math.cos(h),r=Math.sin(h);v||(v={});var n=t.x*a-t.y*r;return v.y=t.x*r+t.y*a,v.x=n,v},x.rotateAbout=function(t,h,v,a){var r=Math.cos(h),n=Math.sin(h);a||(a={});var e=v.x+((t.x-v.x)*r-(t.y-v.y)*n);return a.y=v.y+((t.x-v.x)*n+(t.y-v.y)*r),a.x=e,a},x.normalise=function(t){var h=x.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},x.dot=function(t,h){return t.x*h.x+t.y*h.y},x.cross=function(t,h){return t.x*h.y-t.y*h.x},x.cross3=function(t,h,v){return(h.x-t.x)*(v.y-t.y)-(h.y-t.y)*(v.x-t.x)},x.add=function(t,h,v){return v||(v={}),v.x=t.x+h.x,v.y=t.y+h.y,v},x.sub=function(t,h,v){return v||(v={}),v.x=t.x-h.x,v.y=t.y-h.y,v},x.mult=function(t,h){return{x:t.x*h,y:t.y*h}},x.div=function(t,h){return{x:t.x/h,y:t.y/h}},x.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},x.neg=function(t){return{x:-t.x,y:-t.y}},x.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(p,x,t)=>{var h={};p.exports=h;var v=t(31725),a=t(53402);(function(){h.create=function(r,n){for(var e=[],s=0;s<r.length;s++){var o=r[s],i={x:o.x,y:o.y,index:s,body:n,isInternal:!1};e.push(i)}return e},h.fromPath=function(r,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(e,function(o,i,l){s.push({x:parseFloat(i),y:parseFloat(l)})}),h.create(s,n)},h.centre=function(r){for(var n=h.area(r,!0),e={x:0,y:0},s,o,i,l=0;l<r.length;l++)i=(l+1)%r.length,s=v.cross(r[l],r[i]),o=v.mult(v.add(r[l],r[i]),s),e=v.add(e,o);return v.div(e,6*n)},h.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return v.div(n,r.length)},h.area=function(r,n){for(var e=0,s=r.length-1,o=0;o<r.length;o++)e+=(r[s].x-r[o].x)*(r[s].y+r[o].y),s=o;return n?e/2:Math.abs(e)/2},h.inertia=function(r,n){for(var e=0,s=0,o=r,i,l,u=0;u<o.length;u++)l=(u+1)%o.length,i=Math.abs(v.cross(o[l],o[u])),e+=i*(v.dot(o[l],o[l])+v.dot(o[l],o[u])+v.dot(o[u],o[u])),s+=i;return n/6*(e/s)},h.translate=function(r,n,e){e=typeof e<"u"?e:1;var s=r.length,o=n.x*e,i=n.y*e,l;for(l=0;l<s;l++)r[l].x+=o,r[l].y+=i;return r},h.rotate=function(r,n,e){if(n!==0){var s=Math.cos(n),o=Math.sin(n),i=e.x,l=e.y,u=r.length,f,d,c,g;for(g=0;g<u;g++)f=r[g],d=f.x-i,c=f.y-l,f.x=i+(d*s-c*o),f.y=l+(d*o+c*s);return r}},h.contains=function(r,n){for(var e=n.x,s=n.y,o=r.length,i=r[o-1],l,u=0;u<o;u++){if(l=r[u],(e-i.x)*(l.y-i.y)+(s-i.y)*(i.x-l.x)>0)return!1;i=l}return!0},h.scale=function(r,n,e,s){if(n===1&&e===1)return r;s=s||h.centre(r);for(var o,i,l=0;l<r.length;l++)o=r[l],i=v.sub(o,s),r[l].x=s.x+i.x*n,r[l].y=s.y+i.y*e;return r},h.chamfer=function(r,n,e,s,o){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,s=s||2,o=o||14;for(var i=[],l=0;l<r.length;l++){var u=r[l-1>=0?l-1:r.length-1],f=r[l],d=r[(l+1)%r.length],c=n[l<n.length?l:n.length-1];if(c===0){i.push(f);continue}var g=v.normalise({x:f.y-u.y,y:u.x-f.x}),m=v.normalise({x:d.y-f.y,y:f.x-d.x}),y=Math.sqrt(2*Math.pow(c,2)),T=v.mult(a.clone(g),c),S=v.normalise(v.mult(v.add(g,m),.5)),C=v.sub(f,v.mult(S,y)),P=e;e===-1&&(P=Math.pow(c,.32)*1.75),P=a.clamp(P,s,o),P%2===1&&(P+=1);for(var b=Math.acos(v.dot(g,m)),w=b/P,M=0;M<P;M++)i.push(v.add(v.rotate(T,w*M),C))}return i},h.clockwiseSort=function(r){var n=h.mean(r);return r.sort(function(e,s){return v.angle(n,e)-v.angle(n,s)}),r},h.isConvex=function(r){var n=0,e=r.length,s,o,i,l;if(e<3)return null;for(s=0;s<e;s++)if(o=(s+1)%e,i=(s+2)%e,l=(r[o].x-r[s].x)*(r[i].y-r[o].y),l-=(r[o].y-r[s].y)*(r[i].x-r[o].x),l<0?n|=1:l>0&&(n|=2),n===3)return!1;return n!==0?!0:null},h.hull=function(r){var n=[],e=[],s,o;for(r=r.slice(0),r.sort(function(i,l){var u=i.x-l.x;return u!==0?u:i.y-l.y}),o=0;o<r.length;o+=1){for(s=r[o];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(o=r.length-1;o>=0;o-=1){for(s=r[o];n.length>=2&&v.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}return n.pop(),e.pop(),n.concat(e)}})()},55973:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:b,quickDecomp:O,isSimple:M,removeCollinearPoints:U,removeDuplicatePoints:W,makeCCW:d};function x(N,V,I){I=I||0;var B=[0,0],G,H,k,Z,J,j,_;return G=N[1][1]-N[0][1],H=N[0][0]-N[1][0],k=G*N[0][0]+H*N[0][1],Z=V[1][1]-V[0][1],J=V[0][0]-V[1][0],j=Z*V[0][0]+J*V[0][1],_=G*J-Z*H,Y(_,0,I)||(B[0]=(J*k-H*j)/_,B[1]=(G*j-Z*k)/_),B}function t(N,V,I,B){var G=V[0]-N[0],H=V[1]-N[1],k=B[0]-I[0],Z=B[1]-I[1];if(k*H-Z*G===0)return!1;var J=(G*(I[1]-N[1])+H*(N[0]-I[0]))/(k*H-Z*G),j=(k*(N[1]-I[1])+Z*(I[0]-N[0]))/(Z*G-k*H);return J>=0&&J<=1&&j>=0&&j<=1}function h(N,V,I){return(V[0]-N[0])*(I[1]-N[1])-(I[0]-N[0])*(V[1]-N[1])}function v(N,V,I){return h(N,V,I)>0}function a(N,V,I){return h(N,V,I)>=0}function r(N,V,I){return h(N,V,I)<0}function n(N,V,I){return h(N,V,I)<=0}var e=[],s=[];function o(N,V,I,B){if(B){var G=e,H=s;G[0]=V[0]-N[0],G[1]=V[1]-N[1],H[0]=I[0]-V[0],H[1]=I[1]-V[1];var k=G[0]*H[0]+G[1]*H[1],Z=Math.sqrt(G[0]*G[0]+G[1]*G[1]),J=Math.sqrt(H[0]*H[0]+H[1]*H[1]),j=Math.acos(k/(Z*J));return j<B}else return h(N,V,I)===0}function i(N,V){var I=V[0]-N[0],B=V[1]-N[1];return I*I+B*B}function l(N,V){var I=N.length;return N[V<0?V%I+I:V%I]}function u(N){N.length=0}function f(N,V,I,B){for(var G=I;G<B;G++)N.push(V[G])}function d(N){for(var V=0,I=N,B=1;B<N.length;++B)(I[B][1]<I[V][1]||I[B][1]===I[V][1]&&I[B][0]>I[V][0])&&(V=B);return v(l(N,V-1),l(N,V),l(N,V+1))?!1:(c(N),!0)}function c(N){for(var V=[],I=N.length,B=0;B!==I;B++)V.push(N.pop());for(var B=0;B!==I;B++)N[B]=V[B]}function g(N,V){return r(l(N,V-1),l(N,V),l(N,V+1))}var m=[],y=[];function T(N,V,I){var B,G,H=m,k=y;if(a(l(N,V+1),l(N,V),l(N,I))&&n(l(N,V-1),l(N,V),l(N,I)))return!1;G=i(l(N,V),l(N,I));for(var Z=0;Z!==N.length;++Z)if(!((Z+1)%N.length===V||Z===V)&&a(l(N,V),l(N,I),l(N,Z+1))&&n(l(N,V),l(N,I),l(N,Z))&&(H[0]=l(N,V),H[1]=l(N,I),k[0]=l(N,Z),k[1]=l(N,Z+1),B=x(H,k),i(l(N,V),B)<G))return!1;return!0}function S(N,V,I){for(var B=0;B!==N.length;++B)if(!(B===V||B===I||(B+1)%N.length===V||(B+1)%N.length===I)&&t(l(N,V),l(N,I),l(N,B),l(N,B+1)))return!1;return!0}function C(N,V,I,B){var G=B||[];if(u(G),V<I)for(var H=V;H<=I;H++)G.push(N[H]);else{for(var H=0;H<=I;H++)G.push(N[H]);for(var H=V;H<N.length;H++)G.push(N[H])}return G}function P(N){for(var V=[],I=[],B=[],G=[],H=Number.MAX_VALUE,k=0;k<N.length;++k)if(g(N,k)){for(var Z=0;Z<N.length;++Z)if(T(N,k,Z)){I=P(C(N,k,Z,G)),B=P(C(N,Z,k,G));for(var J=0;J<B.length;J++)I.push(B[J]);I.length<H&&(V=I,H=I.length,V.push([l(N,k),l(N,Z)]))}}return V}function b(N){var V=P(N);return V.length>0?w(N,V):[N]}function w(N,V){if(V.length===0)return[N];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var I=[N],B=0;B<V.length;B++)for(var G=V[B],H=0;H<I.length;H++){var k=I[H],Z=w(k,G);if(Z){I.splice(H,1),I.push(Z[0],Z[1]);break}}return I}else{var G=V,B=N.indexOf(G[0]),H=N.indexOf(G[1]);return B!==-1&&H!==-1?[C(N,B,H),C(N,H,B)]:!1}}function M(N){var V=N,I;for(I=0;I<V.length-1;I++)for(var B=0;B<I-1;B++)if(t(V[I],V[I+1],V[B],V[B+1]))return!1;for(I=1;I<V.length-2;I++)if(t(V[0],V[V.length-1],V[I],V[I+1]))return!1;return!0}function D(N,V,I,B,G){G=G||0;var H=V[1]-N[1],k=N[0]-V[0],Z=H*N[0]+k*N[1],J=B[1]-I[1],j=I[0]-B[0],_=J*I[0]+j*I[1],tt=H*j-J*k;return Y(tt,0,G)?[0,0]:[(j*Z-k*_)/tt,(H*_-J*Z)/tt]}function O(N,V,I,B,G,H,k){H=H||100,k=k||0,G=G||25,V=typeof V<"u"?V:[],I=I||[],B=B||[];var Z=[0,0],J=[0,0],j=[0,0],_=0,tt=0,et=0,rt=0,at=0,st=0,ct=0,pt=[],vt=[],nt=N,lt=N;if(lt.length<3)return V;if(k++,k>H)return console.warn("quickDecomp: max level ("+H+") reached."),V;for(var ht=0;ht<N.length;++ht)if(g(nt,ht)){I.push(nt[ht]),_=tt=Number.MAX_VALUE;for(var Tt=0;Tt<N.length;++Tt)v(l(nt,ht-1),l(nt,ht),l(nt,Tt))&&n(l(nt,ht-1),l(nt,ht),l(nt,Tt-1))&&(j=D(l(nt,ht-1),l(nt,ht),l(nt,Tt),l(nt,Tt-1)),r(l(nt,ht+1),l(nt,ht),j)&&(et=i(nt[ht],j),et<tt&&(tt=et,J=j,st=Tt))),v(l(nt,ht+1),l(nt,ht),l(nt,Tt+1))&&n(l(nt,ht+1),l(nt,ht),l(nt,Tt))&&(j=D(l(nt,ht+1),l(nt,ht),l(nt,Tt),l(nt,Tt+1)),v(l(nt,ht-1),l(nt,ht),j)&&(et=i(nt[ht],j),et<_&&(_=et,Z=j,at=Tt)));if(st===(at+1)%N.length)j[0]=(J[0]+Z[0])/2,j[1]=(J[1]+Z[1])/2,B.push(j),ht<at?(f(pt,nt,ht,at+1),pt.push(j),vt.push(j),st!==0&&f(vt,nt,st,nt.length),f(vt,nt,0,ht+1)):(ht!==0&&f(pt,nt,ht,nt.length),f(pt,nt,0,at+1),pt.push(j),vt.push(j),f(vt,nt,st,ht+1));else{if(st>at&&(at+=N.length),rt=Number.MAX_VALUE,at<st)return V;for(var Tt=st;Tt<=at;++Tt)a(l(nt,ht-1),l(nt,ht),l(nt,Tt))&&n(l(nt,ht+1),l(nt,ht),l(nt,Tt))&&(et=i(l(nt,ht),l(nt,Tt)),et<rt&&S(nt,ht,Tt)&&(rt=et,ct=Tt%N.length));ht<ct?(f(pt,nt,ht,ct+1),ct!==0&&f(vt,nt,ct,lt.length),f(vt,nt,0,ht+1)):(ht!==0&&f(pt,nt,ht,lt.length),f(pt,nt,0,ct+1),f(vt,nt,ct,ht+1))}return pt.length<vt.length?(O(pt,V,I,B,G,H,k),O(vt,V,I,B,G,H,k)):(O(vt,V,I,B,G,H,k),O(pt,V,I,B,G,H,k)),V}return V.push(N),V}function U(N,V){for(var I=0,B=N.length-1;N.length>3&&B>=0;--B)o(l(N,B-1),l(N,B),l(N,B+1),V)&&(N.splice(B%N.length,1),I++);return I}function W(N,V){for(var I=N.length-1;I>=1;--I)for(var B=N[I],G=I-1;G>=0;--G)if(X(B,N[G],V)){N.splice(I,1);continue}}function Y(N,V,I){return I=I||0,Math.abs(N-V)<=I}function X(N,V,I){return Y(N[0],V[0],I)&&Y(N[1],V[1],I)}},52018:(p,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(83419),v=new h({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=v},42363:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=x},37277:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={},h={};h.register=function(v,a,r,n){n===void 0&&(n=!1),x[v]={plugin:a,mapping:r,custom:n}},h.registerCustom=function(v,a,r,n){t[v]={plugin:a,mapping:r,data:n}},h.hasCore=function(v){return x.hasOwnProperty(v)},h.hasCustom=function(v){return t.hasOwnProperty(v)},h.getCore=function(v){return x[v]},h.getCustom=function(v){return t[v]},h.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},h.remove=function(v){x.hasOwnProperty(v)&&delete x[v]},h.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},h.destroyCorePlugins=function(){for(var v in x)x.hasOwnProperty(v)&&delete x[v]},h.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},p.exports=h},77332:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(8443),a=t(50792),r=t(74099),n=t(44603),e=t(39429),s=t(95540),o=t(37277),i=t(72905),l=t(8054),u=new h({Extends:a,initialize:function(d){a.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted||d.config.renderType===l.HEADLESS?this.boot():d.events.once(v.BOOT,this.boot,this)},boot:function(){var f,d,c,g,m,y,T,S=this.game.config,C=S.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),f=0;f<C.length;f++)d=C[f],c=s(d,"key",null),g=s(d,"plugin",null),m=s(d,"start",!1),y=s(d,"mapping",null),T=s(d,"data",null),c&&(g?this.install(c,g,m,y,T):console.warn("Missing `plugin` for key: "+c));for(C=S.installScenePlugins,C=C.concat(this._pendingScene),f=0;f<C.length;f++)d=C[f],c=s(d,"key",null),g=s(d,"plugin",null),y=s(d,"mapping",null),c&&(g?this.installScenePlugin(c,g,y):console.warn("Missing `plugin` for key: "+c));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(f,d,c){var g,m,y,T=this.game,S=f.scene,C=f.settings.map,P=f.settings.isBooted;for(g=0;g<d.length;g++)m=d[g],T[m]?(f[m]=T[m],C.hasOwnProperty(m)&&(S[C[m]]=f[m])):m==="game"&&C.hasOwnProperty(m)&&(S[C[m]]=T);for(var b=0;b<c.length;b++)for(y=c[b],g=0;g<y.length;g++)if(m=y[g],!!o.hasCore(m)){var w=o.getCore(m),M=w.mapping,D=new w.plugin(S,this,M);f[M]=D,w.custom?S[M]=D:C.hasOwnProperty(M)&&(S[C[M]]=D),P&&D.boot()}for(y=this.plugins,g=0;g<y.length;g++){var O=y[g];O.mapping&&(S[O.mapping]=O.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,d,c,g,m){if(m===void 0&&(m=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(o.hasCore(f)||o.register(f,d,c,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!m&&o.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(g){var y=new d(g,this,f);g.sys[f]=y,c&&c!==""&&(g[c]=y),y.boot()}},install:function(f,d,c,g,m){if(c===void 0&&(c=!1),g===void 0&&(g=null),m===void 0&&(m=null),typeof d!="function")return console.warn("Invalid Plugin: "+f),null;if(o.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(g!==null&&(c=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:d,start:c,mapping:g,data:m});else if(o.registerCustom(f,d,g,m),c)return this.start(f);return null},getIndex:function(f){for(var d=this.plugins,c=0;c<d.length;c++){var g=d[c];if(g.key===f)return c}return-1},getEntry:function(f){var d=this.getIndex(f);if(d!==-1)return this.plugins[d]},isActive:function(f){var d=this.getEntry(f);return d&&d.active},start:function(f,d){d===void 0&&(d=f);var c=this.getEntry(d);return c&&!c.active?(c.active=!0,c.plugin.start()):c||(c=this.createEntry(f,d)),c?c.plugin:null},createEntry:function(f,d){var c=o.getCustom(f);if(c){var g=new c.plugin(this);c={key:d,plugin:g,active:!0,mapping:c.mapping,data:c.data},this.plugins.push(c),g.init(c.data),g.start()}return c},stop:function(f){var d=this.getEntry(f);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(f,d){d===void 0&&(d=!0);var c=this.getEntry(f);if(c)return c.plugin;var g=this.getClass(f);return g&&d?(c=this.createEntry(f,f),c?c.plugin:null):g||null},getClass:function(f){return o.getCustomClass(f)},removeGlobalPlugin:function(f){var d=this.getEntry(f);d&&i(this.plugins,d),o.removeCustom(f)},removeScenePlugin:function(f){i(this.scenePlugins,f),o.remove(f)},registerGameObject:function(f,d,c){return d&&e.register(f,d),c&&n.register(f,c),this},removeGameObject:function(f,d,c){return d===void 0&&(d=!0),c===void 0&&(c=!0),d&&e.remove(f),c&&n.remove(f),this},registerFileType:function(f,d,c){r.register(f,d),c&&c.sys.load&&(c.sys.load[f]=d)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();o.destroyCustomPlugins(),this.game.noReturn&&o.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=u},45145:(p,x,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(52018),v=t(83419),a=t(44594),r=new v({Extends:h,initialize:function(e,s,o){h.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=o,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},18922:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const x=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(a,r)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>h){const s=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,o=r-a;p(r,{presentationTime:r+s*1e3,expectedDisplayTime:r+o,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+o/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(s=>v(r,s))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(a=>v(x,a)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},10312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=x},68627:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19715),v=t(32880),a=t(83419),r=t(8054),n=t(50792),e=t(92503),s=t(56373),o=t(97480),i=t(69442),l=t(8443),u=t(61340),f=new a({Extends:n,initialize:function(c){n.call(this);var g=c.config;this.config={clearBeforeRender:g.clearBeforeRender,backgroundColor:g.backgroundColor,antialias:g.antialias,roundPixels:g.roundPixels,transparent:g.transparent},this.game=c,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=c.canvas;var m={alpha:g.transparent,desynchronized:g.desynchronized,willReadFrequently:!1};this.gameContext=g.context?g.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=g.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.isBooted=!1,this.init()},init:function(){var d=this.game;d.events.once(l.BOOT,function(){var c=this.config;if(!c.transparent){var g=this.gameContext,m=this.gameCanvas;g.fillStyle=c.backgroundColor.rgba,g.fillRect(0,0,m.width,m.height)}},this),d.textures.once(i.READY,this.boot,this)},boot:function(){var d=this.game,c=d.scale.baseSize;this.width=c.width,this.height=c.height,this.isBooted=!0,d.scale.on(o.RESIZE,this.onResize,this),this.resize(c.width,c.height)},onResize:function(d,c){(c.width!==this.width||c.height!==this.height)&&this.resize(c.width,c.height)},resize:function(d,c){this.width=d,this.height=c,this.emit(e.RESIZE,d,c)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,c=this.config,g=this.width,m=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),c.clearBeforeRender&&(d.clearRect(0,0,g,m),c.transparent||(d.fillStyle=c.backgroundColor.rgba,d.fillRect(0,0,g,m))),d.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(d,c,g){var m=c.length;this.emit(e.RENDER,d,g);var y=g.x,T=g.y,S=g.width,C=g.height,P=g.renderToTexture?g.context:d.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(y,T,S,C),P.clip()),g.emit(h.PRE_RENDER,g),this.currentContext=P;var b=g.mask;b&&b.preRenderCanvas(this,null,g._maskCamera),g.transparent||(P.fillStyle=g.backgroundColor.rgba,P.fillRect(y,T,S,C)),P.globalAlpha=g.alpha,P.globalCompositeOperation="source-over",this.drawCount+=m,g.renderToTexture&&g.emit(h.PRE_RENDER,g),g.matrix.copyToContext(P);for(var w=0;w<m;w++){var M=c[w];M.mask&&M.mask.preRenderCanvas(this,M,g),M.renderCanvas(this,M,g),M.mask&&M.mask.postRenderCanvas(this,M,g)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,g.flashEffect.postRenderCanvas(P),g.fadeEffect.postRenderCanvas(P),g.dirty=!1,b&&b.postRenderCanvas(this),P.restore(),g.renderToTexture&&(g.emit(h.POST_RENDER,g),g.renderToGame&&d.sys.context.drawImage(g.canvas,y,T)),g.emit(h.POST_RENDER,g)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(e.POST_RENDER);var c=this.snapshotState;c.callback&&(v(this.gameCanvas,c),c.callback=null)},snapshotCanvas:function(d,c,g,m,y,T,S,C,P){g===void 0&&(g=!1),this.snapshotArea(m,y,T,S,c,C,P);var b=this.snapshotState;return b.getPixel=g,v(d,b),b.callback=null,this},snapshot:function(d,c,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,c,g)},snapshotArea:function(d,c,g,m,y,T,S){var C=this.snapshotState;return C.callback=y,C.type=T,C.encoder=S,C.getPixel=!1,C.x=d,C.y=c,C.width=Math.min(g,this.gameCanvas.width),C.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(d,c,g){return this.snapshotArea(d,c,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(d,c,g,m){var y=g.alpha*d.alpha;if(y!==0){var T=this.currentContext,S=this._tempMatrix1,C=this._tempMatrix2,P=c.canvasData,b=P.x,w=P.y,M=c.cutWidth,D=c.cutHeight,O=c.customPivot,U=c.source.resolution,W=d.displayOriginX,Y=d.displayOriginY,X=-W+c.x,N=-Y+c.y;if(d.isCropped){var V=d._crop;(V.flipX!==d.flipX||V.flipY!==d.flipY)&&c.updateCropUVs(V,d.flipX,d.flipY),M=V.cw,D=V.ch,b=V.cx,w=V.cy,X=-W+V.x,N=-Y+V.y,d.flipX&&(X>=0?X=-(X+M):X<0&&(X=Math.abs(X)-M)),d.flipY&&(N>=0?N=-(N+D):N<0&&(N=Math.abs(N)-D))}var I=1,B=1;d.flipX&&(O||(X+=-c.realWidth+W*2),I=-1),d.flipY&&(O||(N+=-c.realHeight+Y*2),B=-1);var G=d.x,H=d.y;if(g.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),C.applyITRS(G,H,d.rotation,d.scaleX*I,d.scaleY*B),S.copyFrom(g.matrix),m?(S.multiplyWithOffset(m,-g.scrollX*d.scrollFactorX,-g.scrollY*d.scrollFactorY),C.e=G,C.f=H):(C.e-=g.scrollX*d.scrollFactorX,C.f-=g.scrollY*d.scrollFactorY),S.multiply(C),g.renderRoundPixels&&(S.e=Math.floor(S.e+.5),S.f=Math.floor(S.f+.5)),T.save(),S.setToContext(T),T.globalCompositeOperation=this.blendModes[d.blendMode],T.globalAlpha=y,T.imageSmoothingEnabled=!c.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,g),M>0&&D>0){var k=M/U,Z=D/U;g.roundPixels&&(X=Math.floor(X+.5),N=Math.floor(N+.5),k+=.5,Z+=.5),T.drawImage(c.source.image,b,w,M,D,X,N,k,Z)}d.mask&&d.mask.postRenderCanvas(this,d,g),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=f},55830:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),v=t(89289),a=function(){var r=[],n=v.supportNewBlendModes,e="source-over";return r[h.NORMAL]=e,r[h.ADD]="lighter",r[h.MULTIPLY]=n?"multiply":e,r[h.SCREEN]=n?"screen":e,r[h.OVERLAY]=n?"overlay":e,r[h.DARKEN]=n?"darken":e,r[h.LIGHTEN]=n?"lighten":e,r[h.COLOR_DODGE]=n?"color-dodge":e,r[h.COLOR_BURN]=n?"color-burn":e,r[h.HARD_LIGHT]=n?"hard-light":e,r[h.SOFT_LIGHT]=n?"soft-light":e,r[h.DIFFERENCE]=n?"difference":e,r[h.EXCLUSION]=n?"exclusion":e,r[h.HUE]=n?"hue":e,r[h.SATURATION]=n?"saturation":e,r[h.COLOR]=n?"color":e,r[h.LUMINOSITY]=n?"luminosity":e,r[h.ERASE]="destination-out",r[h.SOURCE_IN]="source-in",r[h.SOURCE_OUT]="source-out",r[h.SOURCE_ATOP]="source-atop",r[h.DESTINATION_OVER]="destination-over",r[h.DESTINATION_IN]="destination-in",r[h.DESTINATION_OUT]="destination-out",r[h.DESTINATION_ATOP]="destination-atop",r[h.LIGHTER]="lighter",r[h.COPY]="copy",r[h.XOR]="xor",r};p.exports=a},20926:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91296),v=function(a,r,n,e,s){var o=e.alpha*n.alpha;if(o<=0)return!1;var i=h(n,e,s).calc;return r.globalCompositeOperation=a.blendModes[n.blendMode],r.globalAlpha=o,r.save(),i.setToContext(r),r.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:a.antialias,!0};p.exports=v},63899:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="losewebgl"},6119:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},48070:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},15640:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},8912:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},87124:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="restorewebgl"},92503:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(92503),Snapshot:t(89966)},p.exports.Canvas=t(55830),p.exports.WebGL=t(4159)},32880:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),v=t(40987),a=t(95540),r=function(n,e){var s=a(e,"callback"),o=a(e,"type","image/png"),i=a(e,"encoder",.92),l=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),f=Math.floor(a(e,"width",n.width)),d=Math.floor(a(e,"height",n.height)),c=a(e,"getPixel",!1);if(c){var g=n.getContext("2d",{willReadFrequently:!1}),m=g.getImageData(l,u,1,1),y=m.data;s.call(null,new v(y[0],y[1],y[2],y[3]))}else if(l!==0||u!==0||f!==n.width||d!==n.height){var T=h.createWebGL(this,f,d),S=T.getContext("2d",{willReadFrequently:!0});f>0&&d>0&&S.drawImage(n,l,u,f,d,0,0,f,d);var C=new Image;C.onerror=function(){s.call(null),h.remove(T)},C.onload=function(){s.call(null,C),h.remove(T)},C.src=T.toDataURL(o,i)}else{var P=new Image;P.onerror=function(){s.call(null)},P.onload=function(){s.call(null,P)},P.src=n.toDataURL(o,i)}};p.exports=r},88815:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),v=t(40987),a=t(95540),r=function(n,e){var s=n,o=a(e,"callback"),i=a(e,"type","image/png"),l=a(e,"encoder",.92),u=Math.abs(Math.round(a(e,"x",0))),f=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),c=a(e,"isFramebuffer",!1),g=c?a(e,"bufferWidth",1):s.drawingBufferWidth,m=c?a(e,"bufferHeight",1):s.drawingBufferHeight;if(d){var y=new Uint8Array(4),T=c?f:m-f;s.readPixels(u,T,1,1,s.RGBA,s.UNSIGNED_BYTE,y),o.call(null,new v(y[0],y[1],y[2],y[3]))}else{var S=Math.floor(a(e,"width",g)),C=Math.floor(a(e,"height",m)),P=S*C*4,b=new Uint8Array(P);s.readPixels(u,m-f-C,S,C,s.RGBA,s.UNSIGNED_BYTE,b);for(var w=h.createWebGL(this,S,C),M=w.getContext("2d",{willReadFrequently:!0}),D=M.getImageData(0,0,S,C),O=D.data,U=0;U<C;U++)for(var W=0;W<S;W++){var Y=((C-U-1)*S+W)*4,X=c?P-(U*S+(S-W))*4:(U*S+W)*4;O[X+0]=b[Y+0],O[X+1]=b[Y+1],O[X+2]=b[Y+2],O[X+3]=b[Y+3]}M.putImageData(D,0,0);var N=new Image;N.onerror=function(){o.call(null),h.remove(w)},N.onload=function(){o.call(null,N),h.remove(w)},N.src=w.toDataURL(i,l)}};p.exports=r},89966:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(36060),a=t(90330),r=t(82264),n=t(95540),e=t(32302),s=t(63448),o=t(31302),i=t(58918),l=t(14811),u=t(92651),f=t(96569),d=t(56527),c=t(57516),g=t(43439),m=t(81041),y=t(12385),T=t(7589),S=t(95428),C=t(72905),P=new h({initialize:function(w){this.game=w.game,this.renderer=w,this.classes=new a([[v.UTILITY_PIPELINE,T],[v.MULTI_PIPELINE,c],[v.BITMAPMASK_PIPELINE,o],[v.SINGLE_PIPELINE,y],[v.ROPE_PIPELINE,m],[v.LIGHT_PIPELINE,f],[v.POINTLIGHT_PIPELINE,g],[v.MOBILE_PIPELINE,d]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(b,w,M){var D=this.renderer,O=this.renderTargets;this.frameInc=Math.floor(n(b,"frameInc",32));var U=D.width,W=D.height,Y=this.game.config.disablePreFX,X=this.game.config.disablePostFX;if(X||this.postPipelineClasses.setAll([[String(l.BARREL),i.Barrel],[String(l.BLOOM),i.Bloom],[String(l.BLUR),i.Blur],[String(l.BOKEH),i.Bokeh],[String(l.CIRCLE),i.Circle],[String(l.COLOR_MATRIX),i.ColorMatrix],[String(l.DISPLACEMENT),i.Displacement],[String(l.GLOW),i.Glow],[String(l.GRADIENT),i.Gradient],[String(l.PIXELATE),i.Pixelate],[String(l.SHADOW),i.Shadow],[String(l.SHINE),i.Shine],[String(l.VIGNETTE),i.Vignette],[String(l.WIPE),i.Wipe]]),!Y){this.classes.set(v.FX_PIPELINE,u);for(var N=Math.min(U,W),V=Math.ceil(N/this.frameInc),I=1;I<V;I++){var B=I*this.frameInc;O.push(new e(D,B,B)),O.push(new e(D,B,B)),O.push(new e(D,B,B)),this.maxDimension=B}O.push(new e(D,U,W,1,0,!0,!0)),O.push(new e(D,U,W,1,0,!0,!0)),O.push(new e(D,U,W,1,0,!0,!0))}var G,H,k=this,Z=this.game;if(this.classes.each(function(j,_){G=k.add(j,new _({game:Z})),j===v.UTILITY_PIPELINE&&(k.UTILITY_PIPELINE=G,k.fullFrame1=G.fullFrame1,k.fullFrame2=G.fullFrame2,k.halfFrame1=G.halfFrame1,k.halfFrame2=G.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),Y||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),b)for(H in b){var J=b[H];G=new J(Z),G.name=H,G.isPostFX?this.postPipelineClasses.set(H,J):this.has(H)||(this.classes.set(H,J),this.add(H,G))}this.default=this.get(w),M&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(b){var w=this.get(b);return w&&(this.default=w),w},add:function(b,w){if(w.isPostFX){console.warn(b+" is a Post Pipeline. Use `addPostPipeline` instead");return}var M=this.pipelines,D=this.renderer;return M.has(b)?console.warn("Pipeline exists: "+b):(w.name=b,w.manager=this,M.set(b,w)),w.hasBooted||w.boot(),D.width!==0&&D.height!==0&&!w.isPreFX&&w.resize(D.width,D.height),w},addPostPipeline:function(b,w){this.postPipelineClasses.has(b)||this.postPipelineClasses.set(b,w)},flush:function(){this.current&&this.current.flush()},has:function(b){var w=this.pipelines;return typeof b=="string"?w.has(b):!!w.contains(b)},get:function(b){var w=this.pipelines;if(typeof b=="string")return w.get(b);if(w.contains(b))return b},getPostPipeline:function(b,w,M){var D=this.postPipelineClasses,O,U="",W=typeof b;if(W==="string"||W==="number"?(O=D.get(b),U=b):W==="function"?(D.contains(b)&&(O=b),U=b.name):W==="object"&&(O=D.get(b.name),U=b.name),O){var Y=new O(this.game,M);return Y.name=U,w&&(Y.gameObject=w),this.postPipelineInstances.push(Y),Y}},removePostPipeline:function(b){C(this.postPipelineInstances,b)},remove:function(b,w,M){w===void 0&&(w=!0),M===void 0&&(M=!0),this.pipelines.delete(b),w&&this.classes.delete(b),M&&this.postPipelineClasses.delete(b)},set:function(b,w,M){if(!b.isPostFX)return this.isCurrent(b,M)||(this.flush(),this.current&&this.current.unbind(),this.current=b,b.bind(M)),b.updateProjectionMatrix(),b.onBind(w),b},preBatch:function(b){if(b.hasPostPipeline){this.flush();for(var w=b.postPipelines,M=w.length-1;M>=0;M--){var D=w[M];D.active&&D.preBatch(b)}}},postBatch:function(b){if(b.hasPostPipeline){this.flush();for(var w=b.postPipelines,M=0;M<w.length;M++){var D=w[M];D.active&&D.postBatch(b)}}},preBatchCamera:function(b){if(b.hasPostPipeline){this.flush();for(var w=b.postPipelines,M=w.length-1;M>=0;M--){var D=w[M];D.active&&D.preBatch(b)}}},postBatchCamera:function(b){if(b.hasPostPipeline){this.flush();for(var w=b.postPipelines,M=0;M<w.length;M++){var D=w[M];D.active&&D.postBatch(b)}}},isCurrent:function(b,w){var M=this.renderer,D=this.current;return D&&!w&&(w=D.currentShader),!(D!==b||w.program!==M.currentProgram)},copyFrame:function(b,w,M,D,O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(b,w,M,D,O),this},copyToGame:function(b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(b),this},drawFrame:function(b,w,M,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(b,w,M,D),this},blendFrames:function(b,w,M,D,O){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(b,w,M,D,O),this},blendFramesAdditive:function(b,w,M,D,O){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(b,w,M,D,O),this},clearFrame:function(b,w){return this.UTILITY_PIPELINE.clearFrame(b,w),this},blitFrame:function(b,w,M,D,O,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(b,w,M,D,O,U),this},copyFrameRect:function(b,w,M,D,O,U,W,Y){return this.UTILITY_PIPELINE.copyFrameRect(b,w,M,D,O,U,W,Y),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(b){return this.UTILITY_PIPELINE.bind(b)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(b,w){w.restoreContext()}),S(this.postPipelineInstances,function(b){b.restoreContext()})},rebind:function(b){b===void 0&&this.previous&&(b=this.previous);var w=this.renderer,M=w.gl;M.disable(M.DEPTH_TEST),M.disable(M.CULL_FACE),w.hasActiveStencilMask()?M.clear(M.DEPTH_BUFFER_BIT):(M.disable(M.STENCIL_TEST),M.clear(M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)),M.viewport(0,0,w.width,w.height),w.currentProgram=null,w.setBlendMode(0,!0);var D=w.vaoExtension;D&&D.bindVertexArrayOES(null);var O=this.pipelines.entries;for(var U in O)O[U].glReset=!0;b&&(this.current=b,b.rebind())},clear:function(){var b=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,b.currentProgram=null,b.setBlendMode(0,!0);var w=b.vaoExtension;w&&w.bindVertexArrayOES(null)},getRenderTarget:function(b){var w=this.renderTargets,M=3;if(b>this.maxDimension)return this.targetIndex=w.length-M,w[this.targetIndex];var D=(s(b,this.frameInc,0,!0)-1)*M;return this.targetIndex=D,w[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=P},32302:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(92503),a=new h({initialize:function(n,e,s,o,i,l,u,f,d){o===void 0&&(o=1),i===void 0&&(i=0),l===void 0&&(l=!0),u===void 0&&(u=!1),f===void 0&&(f=!0),d===void 0&&(d=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=o,this.minFilter=i,this.autoClear=l,this.autoResize=!0,this.hasDepthBuffer=f,this.forceClamp=d,this.init(e,s),u?this.renderer.on(v.RESIZE,this.resize,this):this.autoResize=!1},init:function(r,n){var e=this.renderer;this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,n){if(this.autoResize&&this.willResize(r,n)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n}return this},willResize:function(r,n){return typeof r!="number"||typeof n!="number"?!1:(r=Math.round(r*this.scale),n=Math.round(n*this.scale),r=Math.max(r,1),n=Math.max(n,1),r!==this.width||n!==this.height)},bind:function(r,n,e){r===void 0&&(r=!1);var s=this.renderer;if(r&&s.flush(),n&&e&&this.resize(n,e),s.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var o=this.renderer.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(r,n,e,s){var o=this.renderer,i=o.gl;o.pushFramebuffer(this.framebuffer),r!==void 0&&n!==void 0&&e!==void 0&&s!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(r,n,e,s)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),o.popFramebuffer(),o.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var n=this.renderer;return r&&n.flush(),n.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(v.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=a},70554:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(x,t,h,v){var a=(x*255|0)&255,r=(t*255|0)&255,n=(h*255|0)&255,e=(v*255|0)&255;return(e<<24|a<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(x,t){var h=(t*255|0)&255;return(h<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,t){var h=(x>>16|0)&255,v=(x>>8|0)&255,a=(x|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|v<<8|h)>>>0},getFloatsFromUintRGB:function(x){var t=(x>>16|0)&255,h=(x>>8|0)&255,v=(x|0)&255;return[t/255,h/255,v/255]},checkShaderMax:function(x,t){var h=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(x,t){if(!x)return"";for(var h="",v=0;v<t;v++)v>0&&(h+=`
	else `),v<t-1&&(h+="if (outTexId < "+v+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",h+=`
	}`;return x=x.replace(/%count%/gi,t.toString()),x.replace(/%forloop%/gi,h)},setGlowQuality:function(x,t,h,v){return h===void 0&&(h=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/h/v).toFixed(7)),x=x.replace(/__DIST__/gi,v.toFixed(0)+".0"),x}}},29100:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(62644),a=t(50792),r=t(77085),n=t(95540),e=t(37867),s=t(92503),o=t(32302),i=t(70554),l=t(38683),u=new h({Extends:a,initialize:function(d){a.call(this);var c=d.game,g=c.renderer,m=g.gl;this.name=n(d,"name","WebGLPipeline"),this.game=c,this.renderer=g,this.manager,this.gl=m,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(d,"topology",m.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=n(d,"resizeUniform","")},boot:function(){var f,d=this.gl,c=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var m=this.renderTargets,y=n(c,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var T=g.width,S=g.height;if(typeof y=="number")for(f=0;f<y;f++)m.push(new o(g,T,S,1,0,!0));else if(Array.isArray(y))for(f=0;f<y.length;f++){var C=n(y[f],"scale",1),P=n(y[f],"minFilter",0),b=n(y[f],"autoClear",1),w=n(y[f],"autoResize",!1),M=n(y[f],"width",null),D=n(y[f],"height",M);M?m.push(new o(g,M,D,1,P,b,w)):m.push(new o(g,T,S,C,P,b,w))}m.length&&(this.currentRenderTarget=m[0]),this.setShadersFromConfig(c);var O=this.shaders,U=0;for(f=0;f<O.length;f++)O[f].vertexSize>U&&(U=O[f].vertexSize);var W=n(c,"batchSize",g.config.batchSize);this.vertexCapacity=W*6;var Y=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=Y,this.bytes=new Uint8Array(Y),this.vertexViewF32=new Float32Array(Y),this.vertexViewU32=new Uint32Array(Y);var X=n(c,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=g.createVertexBuffer(Y,d.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(Y.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),f=O.length-1;f>=0;f--)O[f].rebind();this.hasBooted=!0,g.on(s.RESIZE,this.resize,this),g.on(s.PRE_RENDER,this.onPreRender,this),g.on(s.RENDER,this.onRender,this),g.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(f,d,c){var g=this.renderer;if(f!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var m=this.setVertexBuffer(c);m&&!d&&(d=!0),f.bind(d,!1),this.currentShader=f}return this},getShaderByName:function(f){for(var d=this.shaders,c=0;c<d.length;c++)if(d[c].name===f)return d[c]},setShadersFromConfig:function(f){var d,c=this.shaders,g=this.renderer;for(d=0;d<c.length;d++)c[d].destroy();var m="vertShader",y="fragShader",T="attributes",S=n(f,m,null),C=i.parseFragmentShaderMaxTextures(n(f,y,null),g.maxTextures),P=n(f,T,null),b=n(f,"shaders",[]),w=b.length;if(w===0)S&&C&&(this.shaders=[new l(this,"default",S,C,v(P))]);else{var M=[];for(d=0;d<w;d++){var D=b[d],O,U,W,Y;if(typeof D=="string"?(O="default",U=S,W=i.parseFragmentShaderMaxTextures(D,g.maxTextures),Y=P):(O=n(D,"name","default"),U=n(D,m,S),W=i.parseFragmentShaderMaxTextures(n(D,y,C),g.maxTextures),Y=n(D,T,P)),O==="default"){var X=W.split(`
`),N=X[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(O=N.substring(20))}U&&W&&M.push(new l(this,O,U,W,v(Y)))}this.shaders=M}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(f){return this.currentBatch={start:this.vertexCount,count:0,texture:[f],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=f,this.batch.push(this.currentBatch),0},addTextureToBatch:function(f){var d=this.currentBatch;d&&(d.texture.push(f),d.unit++,d.maxUnit++)},pushBatch:function(f){if(!this.currentBatch||this.forceZero&&f!==this.currentTexture)return this.createBatch(f);if(f===this.currentTexture)return this.currentUnit;var d=this.currentBatch,c=d.texture.indexOf(f);return c===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(f):(d.unit++,d.maxUnit++,d.texture.push(f),this.currentUnit=d.unit,this.currentTexture=f,d.unit):(this.currentUnit=c,this.currentTexture=f,c)},setGameObject:function(f,d){return d===void 0&&(d=f.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(f){return f===void 0&&(f=0),this.vertexCount+f>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(f,d){(f!==this.width||d!==this.height)&&this.flush(),this.width=f,this.height=d;for(var c=this.renderTargets,g=0;g<c.length;g++)c[g].resize(f,d);return this.setProjectionMatrix(f,d),this.resizeUniform&&this.set2f(this.resizeUniform,f,d),this.emit(r.RESIZE,f,d,this),this.onResize(f,d),this},setProjectionMatrix:function(f,d){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=f,this.projectionHeight=d,c.ortho(0,f,d,0,-1e3,1e3);for(var g=this.shaders,m="uProjectionMatrix",y=0;y<g.length;y++){var T=g[y];T.hasUniform(m)&&(T.resetUniform(m),T.setMatrix4fv(m,!1,c.val,T))}return this},flipProjectionMatrix:function(f){f===void 0&&(f=!0);var d=this.projectionMatrix;if(!d)return this;var c=this.projectionWidth,g=this.projectionHeight;f?d.ortho(0,c,0,g,-1e3,1e3):d.ortho(0,c,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var f=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==f||this.projectionHeight!==d)&&this.setProjectionMatrix(f,d)}},bind:function(f){if(f===void 0&&(f=this.currentShader),this.glReset)return this.rebind(f);var d=!1,c=this.gl;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,d=!0),f.bind(d),this.currentShader=f,this.activeTextures.length=0,this.emit(r.BIND,this,f),this.onActive(f),this},rebind:function(f){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,c=d.length-1;c>=0;c--){var g=d[c].rebind();(!f||g===f)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var f=this.shaders,d=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,d&&this.setVertexBuffer();for(var c=0;c<f.length;c++){var g=f[c];g.syncUniforms(),d&&g.rebind()}},setVertexBuffer:function(f){if(f===void 0&&(f=this.vertexBuffer),f!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,f.webGLBuffer),this.activeBuffer=f,!0}return!1},preBatch:function(f){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(f),this},postBatch:function(f){return this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(f){if(f===void 0&&(f=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,f),this.onBeforeFlush(f);var d=this.gl,c=this.vertexCount,g=this.currentShader.vertexSize,m=this.topology;if(this.active){this.setVertexBuffer(),c===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,c*g));var y,T,S,C=this.batch,P=this.activeTextures;if(this.forceZero)for(P[0]||d.activeTexture(d.TEXTURE0),y=0;y<C.length;y++)T=C[y],S=T.texture[0],P[0]!==S&&(d.bindTexture(d.TEXTURE_2D,S.webGLTexture),P[0]=S),d.drawArrays(m,T.start,T.count);else for(y=0;y<C.length;y++){T=C[y];for(var b=0;b<=T.maxUnit;b++)S=T.texture[b],P[b]!==S&&(d.activeTexture(d.TEXTURE0+b),d.bindTexture(d.TEXTURE_2D,S.webGLTexture),P[b]=S);d.drawArrays(m,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,f),this.onAfterFlush(f)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(f,d,c,g,m,y,T){var S=this.vertexViewF32,C=this.vertexViewU32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++P]=f,S[++P]=d,S[++P]=c,S[++P]=g,S[++P]=m,S[++P]=y,C[++P]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(f,d,c,g,m,y,T,S,C,P,b,w,M,D,O,U,W,Y,X,N){N===void 0&&(N=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(N=this.setTexture2D(X));var I=this.vertexViewF32,B=this.vertexViewU32,G=this.vertexCount*this.currentShader.vertexComponentCount-1;return I[++G]=d,I[++G]=c,I[++G]=P,I[++G]=b,I[++G]=N,I[++G]=Y,B[++G]=D,I[++G]=g,I[++G]=m,I[++G]=P,I[++G]=M,I[++G]=N,I[++G]=Y,B[++G]=U,I[++G]=y,I[++G]=T,I[++G]=w,I[++G]=M,I[++G]=N,I[++G]=Y,B[++G]=W,I[++G]=d,I[++G]=c,I[++G]=P,I[++G]=b,I[++G]=N,I[++G]=Y,B[++G]=D,I[++G]=y,I[++G]=T,I[++G]=w,I[++G]=M,I[++G]=N,I[++G]=Y,B[++G]=W,I[++G]=S,I[++G]=C,I[++G]=w,I[++G]=b,I[++G]=N,I[++G]=Y,B[++G]=O,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),V},batchTri:function(f,d,c,g,m,y,T,S,C,P,b,w,M,D,O,U,W){W===void 0&&(W=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(W=this.setTexture2D(U));var X=this.vertexViewF32,N=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++V]=d,X[++V]=c,X[++V]=S,X[++V]=C,X[++V]=W,X[++V]=O,N[++V]=w,X[++V]=g,X[++V]=m,X[++V]=S,X[++V]=b,X[++V]=W,X[++V]=O,N[++V]=M,X[++V]=y,X[++V]=T,X[++V]=P,X[++V]=b,X[++V]=W,X[++V]=O,N[++V]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(f),Y},drawFillRect:function(f,d,c,g,m,y,T,S){T===void 0&&(T=this.renderer.whiteTexture),S===void 0&&(S=!0),f=Math.floor(f),d=Math.floor(d);var C=Math.floor(f+c),P=Math.floor(d+g),b=this.setTexture2D(T),w=i.getTintAppendFloatAlphaAndSwap(m,y),M=0,D=0,O=1,U=1;S&&(D=1,U=0),this.batchQuad(null,f,d,f,P,C,P,C,d,M,D,O,U,w,w,w,w,0,T,b)},setTexture2D:function(f){return f===void 0&&(f=this.renderer.whiteTexture),this.pushBatch(f)},bindTexture:function(f,d){d===void 0&&(d=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+d),c.bindTexture(c.TEXTURE_2D,f.webGLTexture),this},bindRenderTarget:function(f,d){return this.bindTexture(f.texture,d)},setTime:function(f,d){return this.set1f(f,this.game.loop.getDuration(),d),this},setBoolean:function(f,d,c){return c===void 0&&(c=this.currentShader),c.setBoolean(f,d),this},set1f:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1f(f,d),this},set2f:function(f,d,c,g){return g===void 0&&(g=this.currentShader),g.set2f(f,d,c),this},set3f:function(f,d,c,g,m){return m===void 0&&(m=this.currentShader),m.set3f(f,d,c,g),this},set4f:function(f,d,c,g,m,y){return y===void 0&&(y=this.currentShader),y.set4f(f,d,c,g,m),this},set1fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1fv(f,d),this},set2fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set2fv(f,d),this},set3fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set3fv(f,d),this},set4fv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set4fv(f,d),this},set1iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1iv(f,d),this},set2iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set2iv(f,d),this},set3iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set3iv(f,d),this},set4iv:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set4iv(f,d),this},set1i:function(f,d,c){return c===void 0&&(c=this.currentShader),c.set1i(f,d),this},set2i:function(f,d,c,g){return g===void 0&&(g=this.currentShader),g.set2i(f,d,c),this},set3i:function(f,d,c,g,m){return m===void 0&&(m=this.currentShader),m.set3i(f,d,c,g),this},set4i:function(f,d,c,g,m,y){return y===void 0&&(y=this.currentShader),y.set4i(f,d,c,g,m),this},setMatrix2fv:function(f,d,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(f,d,c),this},setMatrix3fv:function(f,d,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(f,d,c),this},setMatrix4fv:function(f,d,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(f,d,c),this},destroy:function(){this.emit(r.DESTROY,this);var f,d=this.shaders;for(f=0;f<d.length;f++)d[f].destroy();var c=this.renderTargets;for(f=0;f<c.length;f++)c[f].destroy();var g=this.renderer;return g.deleteBuffer(this.vertexBuffer),g.off(s.RESIZE,this.resize,this),g.off(s.PRE_RENDER,this.onPreRender,this),g.off(s.RENDER,this.onRender,this),g.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=u},74797:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95428),v=t(72905),a=t(19715),r=t(83419),n=t(8054),e=t(50792),s=t(92503),o=t(50030),i=t(37867),l=t(29747),u=t(7530),f=t(32302),d=t(97480),c=t(69442),g=t(70554),m=t(88815),y=t(26128),T=t(1482),S=t(82751),C=t(84387),P=t(93567),b=t(57183),w=new r({Extends:e,initialize:function(D){e.call(this);var O=D.config,U={alpha:O.transparent,desynchronized:O.desynchronized,depth:!0,antialias:O.antialiasGL,premultipliedAlpha:O.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:O.failIfMajorPerformanceCaveat,powerPreference:O.powerPreference,preserveDrawingBuffer:O.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:O.clearBeforeRender,antialias:O.antialias,backgroundColor:O.backgroundColor,contextCreation:U,roundPixels:O.roundPixels,maxTextures:O.maxTextures,maxTextureSize:O.maxTextureSize,batchSize:O.batchSize,maxLights:O.maxLights,mipmapFilter:O.mipmapFilter},this.game=D,this.type=n.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=l,this.contextRestoredHandler=l,this.previousContextLostHandler=l,this.previousContextRestoredHandler=l,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(M){var D,O=this.game,U=this.canvas,W=M.backgroundColor;if(O.config.context?D=O.config.context:D=U.getContext("webgl",M.contextCreation)||U.getContext("experimental-webgl",M.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),O.context=D;for(var Y=0;Y<=27;Y++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!M.maxTextures||M.maxTextures===-1)&&(M.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),M.maxTextureSize||(M.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var X=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return X.indexOf(M.mipmapFilter)!==-1&&(this.mipmapFilter=D[M.mipmapFilter]),this.maxTextures=g.checkShaderMax(D,M.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(n.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),O.textures.once(c.READY,this.boot,this),this},boot:function(){var M=this.game,D=this.pipelines,O=M.scale.baseSize,U=O.width,W=O.height;this.width=U,this.height=W,this.isBooted=!0,this.renderTarget=new f(this,U,W,1,0,!0,!0),this.maskTarget=new f(this,U,W,1,0,!0,!0),this.maskSource=new f(this,U,W,1,0,!0,!0);var Y=M.config;D.boot(Y.pipeline,Y.defaultPipeline,Y.autoMobilePipeline),this.blankTexture=M.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=M.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=M.textures.getFrame("__WHITE").glTexture;var X=this.gl;X.bindFramebuffer(X.FRAMEBUFFER,null),X.enable(X.SCISSOR_TEST),M.scale.on(d.RESIZE,this.onResize,this),this.resize(U,W)},setExtensions:function(){var M=this.gl,D=M.getSupportedExtensions();this.supportedExtensions=D;var O="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(O)>-1?M.getExtension(O):null;var U="OES_vertex_array_object";this.vaoExtension=D.indexOf(U)>-1?M.getExtension(U):null},setContextHandlers:function(M,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof M=="function"?this.contextLostHandler=M.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(M){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(s.LOSE_WEBGL,this),M.preventDefault()},dispatchContextRestored:function(M){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(n.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var O=function(U){U.createResource()};h(this.glTextureWrappers,O),h(this.glBufferWrappers,O),h(this.glFramebufferWrappers,O),h(this.glProgramWrappers,O),h(this.glAttribLocationWrappers,O),h(this.glUniformLocationWrappers,O),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(s.RESTORE_WEBGL,this),M.preventDefault()},createTemporaryTextures:function(){for(var M=this.gl,D=0;D<this.maxTextures;D++){var O=M.createTexture();M.activeTexture(M.TEXTURE0+D),M.bindTexture(M.TEXTURE_2D,O),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,1,1,0,M.RGBA,M.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(M,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(M,D,O){},stopCapture:function(){},onCapture:function(M){},onResize:function(M,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(M,D){M===void 0&&(M=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,M,D),this.setProjectionMatrix(M,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(M,D){var O=this.gl;return this.width=M,this.height=D,this.setProjectionMatrix(M,D),O.viewport(0,0,M,D),this.drawingBufferHeight=O.drawingBufferHeight,O.scissor(0,O.drawingBufferHeight-D,M,D),this.defaultScissor[2]=M,this.defaultScissor[3]=D,this.emit(s.RESIZE,M,D),this},getCompressedTextures:function(){var M="WEBGL_compressed_texture_",D="WEBKIT_"+M,O="EXT_texture_compression_",U=function(Y,X){var N=Y.getExtension(M+X)||Y.getExtension(D+X)||Y.getExtension(O+X);if(N){var V={};for(var I in N)V[N[I]]=I;return V}},W=this.gl;return{ETC:U(W,"etc"),ETC1:U(W,"etc1"),ATC:U(W,"atc"),ASTC:U(W,"astc"),BPTC:U(W,"bptc"),RGTC:U(W,"rgtc"),PVRTC:U(W,"pvrtc"),S3TC:U(W,"s3tc"),S3TCSRGB:U(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(M,D){var O=this.compression[M.toUpperCase()];if(D in O)return O[D]},supportsCompressedTexture:function(M,D){var O=this.compression[M.toUpperCase()];return O?D?D in O:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(M,D){return(M!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=M,this.projectionHeight=D,this.projectionMatrix.ortho(0,M,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(M){return this.supportedExtensions?this.supportedExtensions.indexOf(M):!1},getExtension:function(M){return this.hasExtension(M)?(M in this.extensions||(this.extensions[M]=this.gl.getExtension(M)),this.extensions[M]):null},flush:function(){this.pipelines.flush()},pushScissor:function(M,D,O,U,W){W===void 0&&(W=this.drawingBufferHeight);var Y=this.scissorStack,X=[M,D,O,U];return Y.push(X),this.setScissor(M,D,O,U,W),this.currentScissor=X,X},setScissor:function(M,D,O,U,W){W===void 0&&(W=this.drawingBufferHeight);var Y=this.gl,X=this.currentScissor,N=O>0&&U>0;if(X&&N){var V=X[0],I=X[1],B=X[2],G=X[3];N=V!==M||I!==D||B!==O||G!==U}N&&(this.flush(),Y.scissor(M,W-D-U,O,U))},resetScissor:function(){var M=this.gl;M.enable(M.SCISSOR_TEST);var D=this.currentScissor;if(D){var O=D[0],U=D[1],W=D[2],Y=D[3];W>0&&Y>0&&M.scissor(O,this.drawingBufferHeight-U-Y,W,Y)}},popScissor:function(){var M=this.scissorStack;M.pop();var D=M[M.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var M=this.currentMask.mask,D=this.currentCameraMask.mask;return M&&M.isStencil||D&&D.isStencil},resetViewport:function(){var M=this.gl;M.viewport(0,0,this.width,this.height),this.drawingBufferHeight=M.drawingBufferHeight},setBlendMode:function(M,D){D===void 0&&(D=!1);var O=this.gl,U=this.blendModes[M];return D||M!==n.BlendModes.SKIP_CHECK&&this.currentBlendMode!==M?(this.flush(),O.enable(O.BLEND),O.blendEquation(U.equation),U.func.length>2?O.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):O.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=M,!0):!1},addBlendMode:function(M,D){var O=this.blendModes.push({func:M,equation:D});return O-1},updateBlendMode:function(M,D,O){return this.blendModes[M]&&(this.blendModes[M].func=D,O&&(this.blendModes[M].equation=O)),this},removeBlendMode:function(M){return M>17&&this.blendModes[M]&&this.blendModes.splice(M,1),this},pushFramebuffer:function(M,D,O,U,W){return M===this.currentFramebuffer?this:(this.fboStack.push(M),this.setFramebuffer(M,D,O,U,W))},setFramebuffer:function(M,D,O,U,W){if(D===void 0&&(D=!1),O===void 0&&(O=!0),U===void 0&&(U=null),W===void 0&&(W=!1),M===this.currentFramebuffer)return this;var Y=this.gl,X=this.width,N=this.height;return M&&M.renderTexture&&O?(X=M.renderTexture.width,N=M.renderTexture.height):this.flush(),M?Y.bindFramebuffer(Y.FRAMEBUFFER,M.webGLFramebuffer):Y.bindFramebuffer(Y.FRAMEBUFFER,null),O&&Y.viewport(0,0,X,N),U&&Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,U.webGLTexture,0),W&&(Y.clearColor(0,0,0,0),Y.clear(Y.COLOR_BUFFER_BIT)),D&&(M?(this.drawingBufferHeight=N,this.pushScissor(0,0,X,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=M,this},popFramebuffer:function(M,D){M===void 0&&(M=!1),D===void 0&&(D=!0);var O=this.fboStack;O.pop();var U=O[O.length-1];return U||(U=null),this.setFramebuffer(U,M,D),U},restoreFramebuffer:function(M,D){M===void 0&&(M=!1),D===void 0&&(D=!0);var O=this.fboStack,U=O[O.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,M,D)},setProgram:function(M){return M!==this.currentProgram?(this.flush(),this.gl.useProgram(M.webGLProgram),this.currentProgram=M,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(M,D,O,U,W){W===void 0&&(W=!1);var Y=this.gl,X=Y.NEAREST,N=Y.NEAREST,V=Y.CLAMP_TO_EDGE,I=null;D=M?M.width:D,O=M?M.height:O;var B=o(D,O);if(B&&!W&&(V=Y.REPEAT),U===n.ScaleModes.LINEAR&&this.config.antialias){var G=M&&M.compressed,H=!G&&B||G&&M.mipmaps.length>1;X=this.mipmapFilter&&H?this.mipmapFilter:Y.LINEAR,N=Y.LINEAR}return!M&&typeof D=="number"&&typeof O=="number"?I=this.createTexture2D(0,X,N,V,V,Y.RGBA,null,D,O):I=this.createTexture2D(0,X,N,V,V,Y.RGBA,M),I},createTexture2D:function(M,D,O,U,W,Y,X,N,V,I,B,G){typeof N!="number"&&(N=X?X.width:1),typeof V!="number"&&(V=X?X.height:1);var H=new S(this.gl,M,D,O,U,W,Y,X,N,V,I,B,G);return this.glTextureWrappers.push(H),H},createFramebuffer:function(M,D,O,U){this.currentFramebuffer=null;var W=new C(this.gl,M,D,O,U);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(M,D){var O=this.gl;O&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==M&&(this.currentMask.mask=M,this.currentMask.camera=D))},drawBitmapMask:function(M,D,O){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),M.renderWebGL(this,M,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,W=this.getCurrentStencilMask();W?(U.enable(U.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(O),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(M,D){var O=new T(this.gl,M,D);return this.glProgramWrappers.push(O),O},createVertexBuffer:function(M,D){var O=this.gl,U=new y(O,M,O.ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},createAttribLocation:function(M,D){var O=new P(this.gl,M,D);return this.glAttribLocationWrappers.push(O),O},createUniformLocation:function(M,D){var O=new b(this.gl,M,D);return this.glUniformLocationWrappers.push(O),O},createIndexBuffer:function(M,D){var O=this.gl,U=new y(O,M,O.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},deleteTexture:function(M){if(M)return v(this.glTextureWrappers,M),M.destroy(),this},deleteFramebuffer:function(M){return M?(v(this.fboStack,M),v(this.glFramebufferWrappers,M),M.destroy(),this):this},deleteProgram:function(M){return M&&(v(this.glProgramWrappers,M),M.destroy()),this},deleteAttribLocation:function(M){return M&&(v(this.glAttribLocationWrappers,M),M.destroy()),this},deleteUniformLocation:function(M){return M&&(v(this.glUniformLocationWrappers,M),M.destroy()),this},deleteBuffer:function(M){return M?(v(this.glBufferWrappers,M),M.destroy(),this):this},preRenderCamera:function(M){var D=M.x,O=M.y,U=M.width,W=M.height,Y=M.backgroundColor;if(M.emit(a.PRE_RENDER,M),this.pipelines.preBatchCamera(M),this.pushScissor(D,O,U,W),M.mask&&(this.currentCameraMask.mask=M.mask,this.currentCameraMask.camera=M._maskCamera,M.mask.preRenderWebGL(this,M,M._maskCamera)),Y.alphaGL>0){var X=this.pipelines.setMulti();X.drawFillRect(D,O,U,W,g.getTintFromFloats(Y.blueGL,Y.greenGL,Y.redGL,1),Y.alphaGL)}},getCurrentStencilMask:function(){var M=null,D=this.maskStack,O=this.currentCameraMask;return D.length>0?M=D[D.length-1]:O.mask&&O.mask.isStencil&&(M=O),M},postRenderCamera:function(M){var D=M.flashEffect,O=M.fadeEffect;if(D.isRunning||O.isRunning||O.isComplete){var U=this.pipelines.setMulti();D.postRenderWebGL(U,g.getTintFromFloats),O.postRenderWebGL(U,g.getTintFromFloats)}M.dirty=!1,this.popScissor(),M.mask&&(this.currentCameraMask.mask=null,M.mask.postRenderWebGL(this,M._maskCamera)),this.pipelines.postBatchCamera(M),M.emit(a.POST_RENDER,M)},preRender:function(){if(!this.contextLost){var M=this.gl;if(M.bindFramebuffer(M.FRAMEBUFFER,null),this.emit(s.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;M.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)}M.enable(M.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&M.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(s.PRE_RENDER)}},render:function(M,D,O){if(!this.contextLost){var U=D.length;if(this.emit(s.RENDER,M,O),this.preRenderCamera(O),U===0){this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(O);return}this.currentType="";for(var W=this.currentMask,Y=0;Y<U;Y++){this.finalType=Y===U-1;var X=D[Y],N=X.mask;W=this.currentMask,W.mask&&W.mask!==N&&W.mask.postRenderWebGL(this,W.camera),N&&W.mask!==N&&N.preRenderWebGL(this,X,O),X.blendMode!==this.currentBlendMode&&this.setBlendMode(X.blendMode);var V=X.type;V!==this.currentType&&(this.newType=!0,this.currentType=V),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[Y+1].type===this.currentType,X.renderWebGL(this,X,O),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(O)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(s.POST_RENDER);var M=this.snapshotState;M.callback&&(m(this.gl,M),M.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var M=this.gl,D=this.getCurrentStencilMask();if(D){var O=D.mask;M.enable(M.STENCIL_TEST),O.invertAlpha?M.stencilFunc(M.NOTEQUAL,O.level,255):M.stencilFunc(M.EQUAL,O.level,255)}},snapshot:function(M,D,O){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,M,D,O)},snapshotArea:function(M,D,O,U,W,Y,X){var N=this.snapshotState;return N.callback=W,N.type=Y,N.encoder=X,N.getPixel=!1,N.x=M,N.y=D,N.width=O,N.height=U,this},snapshotPixel:function(M,D,O){return this.snapshotArea(M,D,1,1,O),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(M,D,O,U,W,Y,X,N,V,I,B){W===void 0&&(W=!1),Y===void 0&&(Y=0),X===void 0&&(X=0),N===void 0&&(N=D),V===void 0&&(V=O),I==="pixel"&&(W=!0,I="image/png");var G=this.currentFramebuffer;this.snapshotArea(Y,X,N,V,U,I,B);var H=this.snapshotState;return H.getPixel=W,H.isFramebuffer=!0,H.bufferWidth=D,H.bufferHeight=O,H.width=Math.min(H.width,D),H.height=Math.min(H.height,O),this.setFramebuffer(M),m(this.gl,H),this.setFramebuffer(G),H.callback=null,H.isFramebuffer=!1,this},canvasToTexture:function(M,D,O,U){O===void 0&&(O=!1),U===void 0&&(U=!1);var W=this.gl,Y=W.NEAREST,X=W.NEAREST,N=M.width,V=M.height,I=W.CLAMP_TO_EDGE,B=o(N,V);return!O&&B&&(I=W.REPEAT),this.config.antialias&&(Y=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,X=W.LINEAR),D?(D.update(M,N,V,U,I,I,Y,X,D.format),D):this.createTexture2D(0,Y,X,I,I,W.RGBA,M,N,V,!0,!1,U)},createCanvasTexture:function(M,D,O){return D===void 0&&(D=!1),O===void 0&&(O=!1),this.canvasToTexture(M,null,D,O)},updateCanvasTexture:function(M,D,O,U){return O===void 0&&(O=!1),U===void 0&&(U=!1),this.canvasToTexture(M,D,U,O)},videoToTexture:function(M,D,O,U){O===void 0&&(O=!1),U===void 0&&(U=!1);var W=this.gl,Y=W.NEAREST,X=W.NEAREST,N=M.videoWidth,V=M.videoHeight,I=W.CLAMP_TO_EDGE,B=o(N,V);return!O&&B&&(I=W.REPEAT),this.config.antialias&&(Y=B&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,X=W.LINEAR),D?(D.update(M,N,V,U,I,I,Y,X,D.format),D):this.createTexture2D(0,Y,X,I,I,W.RGBA,M,N,V,!0,!0,U)},createVideoTexture:function(M,D,O){return D===void 0&&(D=!1),O===void 0&&(O=!1),this.videoToTexture(M,null,D,O)},updateVideoTexture:function(M,D,O,U){return O===void 0&&(O=!1),U===void 0&&(U=!1),this.videoToTexture(M,D,U,O)},createUint8ArrayTexture:function(M,D,O){var U=this.gl,W=U.NEAREST,Y=U.NEAREST,X=U.CLAMP_TO_EDGE,N=o(D,O);return N&&(X=U.REPEAT),this.createTexture2D(0,W,Y,X,X,U.RGBA,M,D,O)},setTextureFilter:function(M,D){var O=this.gl,U=D===0?O.LINEAR:O.NEAREST;O.activeTexture(O.TEXTURE0);var W=O.getParameter(O.TEXTURE_BINDING_2D);return O.bindTexture(O.TEXTURE_2D,M.webGLTexture),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,U),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,U),M.minFilter=U,M.magFilter=U,W&&O.bindTexture(O.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var M=function(D){D.destroy()};h(this.glAttribLocationWrappers,M),h(this.glBufferWrappers,M),h(this.glFramebufferWrappers,M),h(this.glProgramWrappers,M),h(this.glTextureWrappers,M),h(this.glUniformLocationWrappers,M),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=w},38683:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95428),a=t(95540),r=t(14500),n=new h({initialize:function(s,o,i,l,u){this.pipeline=s,this.name=o,this.renderer=s.renderer,this.gl=this.renderer.gl,this.fragSrc=l,this.vertSrc=i,this.program=this.renderer.createProgram(i,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(e){var s=0,o=0,i=[];this.vertexComponentCount=0;for(var l=0;l<e.length;l++){var u=e[l],f=u.name,d=a(u,"size",1),c=a(u,"type",r.FLOAT),g=c.enum,m=c.size,y=!!u.normalized;i.push({name:f,size:d,type:g,normalized:y,offset:o,enabled:!1,location:-1}),m===4?s+=d:s++,o+=d*m}this.vertexSize=o,this.vertexComponentCount=s,this.attributes=i},bind:function(e,s){return e===void 0&&(e=!1),s===void 0&&(s=!1),s&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var s=this.gl,o=this.renderer,i=this.vertexSize,l=this.attributes,u=this.program,f=0;f<l.length;f++){var d=l[f],c=d.size,g=d.type,m=d.offset,y=d.enabled,T=d.location,S=!!d.normalized;if(e){T!==-1&&o.deleteAttribLocation(T);var C=this.renderer.createAttribLocation(u,d.name);C.webGLAttribLocation>=0?(s.enableVertexAttribArray(C.webGLAttribLocation),s.vertexAttribPointer(C.webGLAttribLocation,c,g,S,i,m),d.enabled=!0,d.location=C):C.webGLAttribLocation!==-1&&s.disableVertexAttribArray(C.webGLAttribLocation)}else y?s.vertexAttribPointer(T.webGLAttribLocation,c,g,S,i,m):!y&&T!==-1&&T.webGLAttribLocation>-1&&(s.disableVertexAttribArray(T.webGLAttribLocation),d.location=-1)}return this},createUniforms:function(){var e=this.gl,s=this.program,o=this.uniforms,i,l,u,f=e.getProgramParameter(s.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<f;i++){var d=e.getActiveUniform(s.webGLProgram,i);if(d){l=d.name,u=this.renderer.createUniformLocation(s,l),u!==null&&(o[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var c=l.indexOf("[");c>0&&(l=l.substr(0,c),o.hasOwnProperty(l)||(u=this.renderer.createUniformLocation(s,l),u!==null&&(o[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var s in this.uniforms){var o=this.uniforms[s];o.setter&&o.setter.call(e,o.location.webGLUniformLocation,o.value1,o.value2,o.value3,o.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var s=this.uniforms[e];return s&&(s.value1=null,s.value2=null,s.value3=null,s.value4=null),this},setUniform1:function(e,s,o,i){var l=this.uniforms[s];return l?((i||l.value1!==o)&&(l.setter||(l.setter=e),l.value1=o,this.renderer.setProgram(this.program),e.call(this.gl,l.location.webGLUniformLocation,o),this.pipeline.currentShader=this),this):this},setUniform2:function(e,s,o,i,l){var u=this.uniforms[s];return u?((l||u.value1!==o||u.value2!==i)&&(u.setter||(u.setter=e),u.value1=o,u.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,o,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,s,o,i,l,u){var f=this.uniforms[s];return f?((u||f.value1!==o||f.value2!==i||f.value3!==l)&&(f.setter||(f.setter=e),f.value1=o,f.value2=i,f.value3=l,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,o,i,l),this.pipeline.currentShader=this),this):this},setUniform4:function(e,s,o,i,l,u,f){var d=this.uniforms[s];return d?((f||d.value1!==o||d.value2!==i||d.value3!==l||d.value4!==u)&&(d.setter||(d.setter=e),d.value1=o,d.value2=i,d.value3=l,d.value4=u,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,o,i,l,u),this.pipeline.currentShader=this),this):this},setBoolean:function(e,s){return this.setUniform1(this.gl.uniform1i,e,Number(s))},set1f:function(e,s){return this.setUniform1(this.gl.uniform1f,e,s)},set2f:function(e,s,o){return this.setUniform2(this.gl.uniform2f,e,s,o)},set3f:function(e,s,o,i){return this.setUniform3(this.gl.uniform3f,e,s,o,i)},set4f:function(e,s,o,i,l){return this.setUniform4(this.gl.uniform4f,e,s,o,i,l)},set1fv:function(e,s){return this.setUniform1(this.gl.uniform1fv,e,s,!0)},set2fv:function(e,s){return this.setUniform1(this.gl.uniform2fv,e,s,!0)},set3fv:function(e,s){return this.setUniform1(this.gl.uniform3fv,e,s,!0)},set4fv:function(e,s){return this.setUniform1(this.gl.uniform4fv,e,s,!0)},set1iv:function(e,s){return this.setUniform1(this.gl.uniform1iv,e,s,!0)},set2iv:function(e,s){return this.setUniform1(this.gl.uniform2iv,e,s,!0)},set3iv:function(e,s){return this.setUniform1(this.gl.uniform3iv,e,s,!0)},set4iv:function(e,s){return this.setUniform1(this.gl.uniform4iv,e,s,!0)},set1i:function(e,s){return this.setUniform1(this.gl.uniform1i,e,s)},set2i:function(e,s,o){return this.setUniform2(this.gl.uniform2i,e,s,o)},set3i:function(e,s,o,i){return this.setUniform3(this.gl.uniform3i,e,s,o,i)},set4i:function(e,s,o,i,l){return this.setUniform4(this.gl.uniform4i,e,s,o,i,l)},setMatrix2fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix2fv,e,s,o,!0)},setMatrix3fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix3fv,e,s,o,!0)},setMatrix4fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix4fv,e,s,o,!0)},createProgram:function(e,s){return e===void 0&&(e=this.vertSrc),s===void 0&&(s=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=s,this.program=this.renderer.createProgram(e,s),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;v(this.uniforms,function(s){e.deleteUniformLocation(s.location)}),this.uniforms=null,v(this.attributes,function(s){e.deleteAttribLocation(s.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});p.exports=n},14500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=x},4159:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14500),v=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=v(!1,a,h),p.exports=a},31302:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(78908),r=t(85191),n=t(14500),e=t(29100),s=new h({Extends:e,initialize:function(i){i.fragShader=v(i,"fragShader",a),i.vertShader=v(i,"vertShader",r),i.batchSize=v(i,"batchSize",1),i.vertices=v(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=v(i,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(o,i){e.prototype.resize.call(this,o,i),this.set2f("uResolution",o,i)},beginMask:function(o,i,l){this.renderer.beginBitmapMask(o,l)},endMask:function(o,i,l){var u=this.gl,f=this.renderer,d=o.bitmapMask;d&&u&&(f.drawBitmapMask(d,i,this),l&&this.set2f("uResolution",l.width,l.height),this.set1i("uInvertMaskAlpha",o.invertAlpha),u.drawArrays(this.topology,0,3),l&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});p.exports=s},92651:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(58918),a=t(14811),r=t(95540),n=t(43558),e=t(89350),s=t(70554),o=new h({Extends:n,initialize:function(l){l.shaders=[s.setGlowQuality(e.FXGlowFrag,l.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,l);var u=this.game;this.glow=new v.Glow(u),this.shadow=new v.Shadow(u),this.pixelate=new v.Pixelate(u),this.vignette=new v.Vignette(u),this.shine=new v.Shine(u),this.gradient=new v.Gradient(u),this.circle=new v.Circle(u),this.barrel=new v.Barrel(u),this.wipe=new v.Wipe(u),this.bokeh=new v.Bokeh(u);var f=[];f[a.GLOW]=this.onGlow,f[a.SHADOW]=this.onShadow,f[a.PIXELATE]=this.onPixelate,f[a.VIGNETTE]=this.onVignette,f[a.SHINE]=this.onShine,f[a.BLUR]=this.onBlur,f[a.GRADIENT]=this.onGradient,f[a.BLOOM]=this.onBloom,f[a.COLOR_MATRIX]=this.onColorMatrix,f[a.CIRCLE]=this.onCircle,f[a.BARREL]=this.onBarrel,f[a.DISPLACEMENT]=this.onDisplacement,f[a.WIPE]=this.onWipe,f[a.BOKEH]=this.onBokeh,this.fxHandlers=f,this.source,this.target,this.swap},onDraw:function(i,l,u){this.source=i,this.target=l,this.swap=u;var f=i.width,d=i.height,c=this.tempSprite,g=this.fxHandlers;if(c&&c.preFX)for(var m=c.preFX.list,y=0;y<m.length;y++){var T=m[y];T.active&&g[T.type].call(this,T,f,d)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,l=this.target;this.copy(i,l),this.source=l,this.target=i},onGlow:function(i,l,u){var f=this.shaders[a.GLOW];this.setShader(f),this.glow.onPreRender(i,f,l,u),this.runDraw()},onShadow:function(i){var l=this.shaders[a.SHADOW];this.setShader(l),this.shadow.onPreRender(i,l),this.runDraw()},onPixelate:function(i,l,u){var f=this.shaders[a.PIXELATE];this.setShader(f),this.pixelate.onPreRender(i,f,l,u),this.runDraw()},onVignette:function(i){var l=this.shaders[a.VIGNETTE];this.setShader(l),this.vignette.onPreRender(i,l),this.runDraw()},onShine:function(i,l,u){var f=this.shaders[a.SHINE];this.setShader(f),this.shine.onPreRender(i,f,l,u),this.runDraw()},onBlur:function(i,l,u){var f=r(i,"quality"),d=this.shaders[a.BLUR+f];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",l,u),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var c=r(i,"x"),g=r(i,"y"),m=r(i,"steps"),y=0;y<m;y++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(i){var l=this.shaders[a.GRADIENT];this.setShader(l),this.gradient.onPreRender(i,l),this.runDraw()},onBloom:function(i,l,u){var f=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(f),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var d=2/l*r(i,"offsetX"),c=2/u*r(i,"offsetY"),g=r(i,"steps"),m=0;m<g;m++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,c),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,l,u){var f=this.shaders[a.CIRCLE];this.setShader(f),this.circle.onPreRender(i,f,l,u),this.runDraw()},onBarrel:function(i){var l=this.shaders[a.BARREL];this.setShader(l),this.barrel.onPreRender(i,l),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var l=this.shaders[a.WIPE];this.setShader(l),this.wipe.onPreRender(i,l),this.runDraw()},onBokeh:function(i,l,u){var f=this.shaders[a.BOKEH];this.setShader(f),this.bokeh.onPreRender(i,f,l,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});p.exports=o},96569:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(31063),r=t(57516),n=t(61340),e=t(26099),s=t(29100),o=new h({Extends:r,initialize:function(l){var u=v(l,"fragShader",a);l.fragShader=u.replace("%LIGHT_COUNT%",l.game.renderer.config.maxLights),r.call(this,l),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){s.prototype.boot.call(this)},onRender:function(i,l){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var f=u.getLights(l),d=f.length;this.lightsActive=!0;var c,g=this.renderer,m=g.height,y=l.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",l.x,l.y,l.rotation,l.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",d),c=0;c<d;c++){var S=f[c].light,C=S.color,P="uLights["+c+"].";y.transformPoint(S.x,S.y,T),this.set2f(P+"position",T.x-l.scrollX*S.scrollFactorX*l.zoom,m-(T.y-l.scrollY*S.scrollFactorY*l.zoom)),this.set3f(P+"color",C.r,C.g,C.b),this.set1f(P+"intensity",S.intensity),this.set1f(P+"radius",S.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var l=this.inverseRotationMatrix;if(i){var u=-i,f=Math.cos(u),d=Math.sin(u);l[1]=d,l[3]=-d,l[0]=l[4]=f}else l[0]=l[4]=1,l[1]=l[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,l),this.currentNormalMapRotation=i}},setTexture2D:function(i,l){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var f=this.getNormalMap(l);this.isNewNormalMap(i,f)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(f),this.currentNormalMap=f);var d=0;if(l&&l.parentContainer){var c=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=c.rotationNormalized}else l&&(d=l.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(f)),this.setNormalMapRotation(d),0},setGameObject:function(i,l){l===void 0&&(l=i.frame);var u=l.glTexture,f=this.getNormalMap(i);if(this.isNewNormalMap(u,f)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(f),this.currentNormalMap=f),i.parentContainer){var d=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(f)),0},isNewNormalMap:function(i,l){return this.currentTexture!==i||this.currentNormalMap!==l},getNormalMap:function(i){var l;if(i)i.displayTexture?l=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?l=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?l=i.tileset[0].image.dataSource[0]:l=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return l?l.glTexture:this.renderer.normalTexture},batchSprite:function(i,l,u){this.lightsActive&&r.prototype.batchSprite.call(this,i,l,u)},batchTexture:function(i,l,u,f,d,c,g,m,y,T,S,C,P,b,w,M,D,O,U,W,Y,X,N,V,I,B,G,H,k,Z,J,j){this.lightsActive&&r.prototype.batchTexture.call(this,i,l,u,f,d,c,g,m,y,T,S,C,P,b,w,M,D,O,U,W,Y,X,N,V,I,B,G,H,k,Z,J,j)},batchTextureFrame:function(i,l,u,f,d,c,g){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,l,u,f,d,c,g)}});p.exports=o},56527:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(14500),s=t(29100),o=new h({Extends:a,initialize:function(l){l.fragShader=v(l,"fragShader",r),l.vertShader=v(l,"vertShader",n),l.attributes=v(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),l.forceZero=!0,l.resizeUniform="uResolution",a.call(this,l)},boot:function(){s.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});p.exports=o},57516:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(94811),a=t(95540),r=t(98840),n=t(44667),e=t(61340),s=t(70554),o=t(14500),i=t(29100),l=new h({Extends:i,initialize:function(f){var d=f.game.renderer,c=a(f,"fragShader",r);f.fragShader=s.parseFragmentShaderMaxTextures(c,d.maxTextures),f.vertShader=a(f,"vertShader",n),f.attributes=a(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),f.resizeUniform="uResolution",i.call(this,f),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height)},batchSprite:function(u,f,d){this.manager.set(this,u);var c=this._tempMatrix1,g=this._tempMatrix2,m=this._tempMatrix3,y=u.frame,T=y.glTexture,S=y.u0,C=y.v0,P=y.u1,b=y.v1,w=y.x,M=y.y,D=y.cutWidth,O=y.cutHeight,U=y.customPivot,W=u.displayOriginX,Y=u.displayOriginY,X=-W+w,N=-Y+M;if(u.isCropped){var V=u._crop;(V.flipX!==u.flipX||V.flipY!==u.flipY)&&y.updateCropUVs(V,u.flipX,u.flipY),S=V.u0,C=V.v0,P=V.u1,b=V.v1,D=V.width,O=V.height,w=V.x,M=V.y,X=-W+w,N=-Y+M}var I=1,B=1;u.flipX&&(U||(X+=-y.realWidth+W*2),I=-1),u.flipY&&(U||(N+=-y.realHeight+Y*2),B=-1);var G=u.x,H=u.y;f.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),g.applyITRS(G,H,u.rotation,u.scaleX*I,u.scaleY*B),c.copyFrom(f.matrix),d?(c.multiplyWithOffset(d,-f.scrollX*u.scrollFactorX,-f.scrollY*u.scrollFactorY),g.e=G,g.f=H):(g.e-=f.scrollX*u.scrollFactorX,g.f-=f.scrollY*u.scrollFactorY),c.multiply(g,m);var k=m.setQuad(X,N,X+D,N+O,f.renderRoundPixels),Z=s.getTintAppendFloatAlpha,J=f.alpha,j=Z(u.tintTopLeft,J*u._alphaTL),_=Z(u.tintTopRight,J*u._alphaTR),tt=Z(u.tintBottomLeft,J*u._alphaBL),et=Z(u.tintBottomRight,J*u._alphaBR);this.shouldFlush(6)&&this.flush();var rt=this.setGameObject(u,y);this.manager.preBatch(u),this.batchQuad(u,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],S,C,P,b,j,_,tt,et,u.tintFill,T,rt),this.manager.postBatch(u)},batchTexture:function(u,f,d,c,g,m,y,T,S,C,P,b,w,M,D,O,U,W,Y,X,N,V,I,B,G,H,k,Z,J,j,_,tt,et){et===void 0&&(et=!1),this.manager.set(this,u);var rt=this._tempMatrix1,at=this._tempMatrix2,st=this._tempMatrix3,ct=W/d+k,pt=Y/c+Z,vt=(W+X)/d+k,nt=(Y+N)/c+Z,lt=y,ht=T,Tt=-O,wt=-U;if(u.isCropped){var It=u._crop,Ct=It.width,At=It.height;lt=Ct,ht=At,y=Ct,T=At,W=It.x,Y=It.y;var Nt=W,Ht=Y;b&&(Nt=X-It.x-Ct),w&&(Ht=N-It.y-At),ct=Nt/d+k,pt=Ht/c+Z,vt=(Nt+Ct)/d+k,nt=(Ht+At)/c+Z,Tt=-O+W,wt=-U+Y}w=w^(!_&&f.isRenderTexture?1:0),b&&(lt*=-1,Tt+=y),w&&(ht*=-1,wt+=T),J.roundPixels&&(g=Math.floor(g),m=Math.floor(m)),at.applyITRS(g,m,P,S,C),rt.copyFrom(J.matrix),j?(rt.multiplyWithOffset(j,-J.scrollX*M,-J.scrollY*D),at.e=g,at.f=m):(at.e-=J.scrollX*M,at.f-=J.scrollY*D),rt.multiply(at,st);var Lt=st.setQuad(Tt,wt,Tt+lt,wt+ht,J.renderRoundPixels);tt==null&&(tt=this.setTexture2D(f)),u&&!et&&this.manager.preBatch(u),this.batchQuad(u,Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5],Lt[6],Lt[7],ct,pt,vt,nt,V,I,B,G,H,f,tt),u&&!et&&this.manager.postBatch(u)},batchTextureFrame:function(u,f,d,c,g,m,y){this.manager.set(this);var T=this._tempMatrix1.copyFrom(m),S=this._tempMatrix2;y?T.multiply(y,S):S=T;var C=S.setQuad(f,d,f+u.width,d+u.height),P=this.setTexture2D(u.source.glTexture);c=s.getTintAppendFloatAlpha(c,g),this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],u.u0,u.v0,u.u1,u.v1,c,c,c,c,0,u.glTexture,P)},batchFillRect:function(u,f,d,c,g,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(g,y);var T=y.setQuad(u,f,u+d,f+c),S=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,S.TL,S.TR,S.BL,S.BR,2)},batchFillTriangle:function(u,f,d,c,g,m,y,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(y,S);var C=S.getX(u,f),P=S.getY(u,f),b=S.getX(d,c),w=S.getY(d,c),M=S.getX(g,m),D=S.getY(g,m),O=this.fillTint;this.batchTri(null,C,P,b,w,M,D,0,0,1,1,O.TL,O.TR,O.BL,2)},batchStrokeTriangle:function(u,f,d,c,g,m,y,T,S){var C=this.tempTriangle;C[0].x=u,C[0].y=f,C[0].width=y,C[1].x=d,C[1].y=c,C[1].width=y,C[2].x=g,C[2].y=m,C[2].width=y,C[3].x=u,C[3].y=f,C[3].width=y,this.batchStrokePath(C,y,!1,T,S)},batchFillPath:function(u,f,d){this.renderer.pipelines.set(this);var c=this.calcMatrix;d&&d.multiply(f,c);for(var g=u.length,m=this.polygonCache,y,T,S=this.fillTint.TL,C=this.fillTint.TR,P=this.fillTint.BL,b=0;b<g;++b)T=u[b],m.push(T.x,T.y);y=v(m),g=y.length;for(var w=0;w<g;w+=3){var M=y[w+0]*2,D=y[w+1]*2,O=y[w+2]*2,U=m[M+0],W=m[M+1],Y=m[D+0],X=m[D+1],N=m[O+0],V=m[O+1],I=c.getX(U,W),B=c.getY(U,W),G=c.getX(Y,X),H=c.getY(Y,X),k=c.getX(N,V),Z=c.getY(N,V);this.batchTri(null,I,B,G,H,k,Z,0,0,1,1,S,C,P,2)}m.length=0},batchStrokePath:function(u,f,d,c,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var m=u.length-1,y=0;y<m;y++){var T=u[y],S=u[y+1];this.batchLine(T.x,T.y,S.x,S.y,T.width/2,S.width/2,f,y,!d&&y===m-1,c,g)}},batchLine:function(u,f,d,c,g,m,y,T,S,C,P){this.renderer.pipelines.set(this);var b=this.calcMatrix;P&&P.multiply(C,b);var w=d-u,M=c-f,D=Math.sqrt(w*w+M*M);if(D!==0){var O=g*(c-f)/D,U=g*(u-d)/D,W=m*(c-f)/D,Y=m*(u-d)/D,X=d-W,N=c-Y,V=u-O,I=f-U,B=d+W,G=c+Y,H=u+O,k=f+U,Z=b.getX(X,N),J=b.getY(X,N),j=b.getX(V,I),_=b.getY(V,I),tt=b.getX(B,G),et=b.getY(B,G),rt=b.getX(H,k),at=b.getY(H,k),st=this.strokeTint,ct=st.TL,pt=st.TR,vt=st.BL,nt=st.BR;if(this.batchQuad(null,rt,at,j,_,Z,J,tt,et,0,0,1,1,ct,pt,vt,nt,2),!(y<=2)){var lt=this.prevQuad,ht=this.firstQuad;T>0&&lt[4]?this.batchQuad(null,rt,at,j,_,lt[0],lt[1],lt[2],lt[3],0,0,1,1,ct,pt,vt,nt,2):(ht[0]=rt,ht[1]=at,ht[2]=j,ht[3]=_,ht[4]=1),S&&ht[4]?this.batchQuad(null,Z,J,tt,et,ht[0],ht[1],ht[2],ht[3],0,0,1,1,ct,pt,vt,nt,2):(lt[0]=Z,lt[1]=J,lt[2]=tt,lt[3]=et,lt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});p.exports=l},43439:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(4127),r=t(89924),n=t(29100),e=new h({Extends:n,initialize:function(o){o.vertShader=v(o,"vertShader",r),o.fragShader=v(o,"fragShader",a),o.attributes=v(o,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,o)},onRender:function(s,o){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",o.zoom)},batchPointLight:function(s,o,i,l,u,f,d,c,g,m,y,T){var S=s.color,C=s.intensity,P=s.radius,b=s.attenuation,w=S.r*C,M=S.g*C,D=S.b*C,O=o.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,l,y,T,P,b,w,M,D,O),this.batchLightVert(u,f,y,T,P,b,w,M,D,O),this.batchLightVert(d,c,y,T,P,b,w,M,D,O),this.batchLightVert(i,l,y,T,P,b,w,M,D,O),this.batchLightVert(d,c,y,T,P,b,w,M,D,O),this.batchLightVert(g,m,y,T,P,b,w,M,D,O),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,o,i,l,u,f,d,c,g,m){var y=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++T]=s,y[++T]=o,y[++T]=i,y[++T]=l,y[++T]=u,y[++T]=f,y[++T]=d,y[++T]=c,y[++T]=g,y[++T]=m,this.vertexCount++}});p.exports=e},84057:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(89422),a=t(95540),r=t(27681),n=t(49627),e=t(29100),s=new h({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",n),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var o=this.manager.UTILITY_PIPELINE;this.fullFrame1=o.fullFrame1,this.fullFrame2=o.fullFrame2,this.halfFrame1=o.halfFrame1,this.halfFrame2=o.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var l=this.renderTargets,u=0;u<l.length;u++)l[u].autoResize=!0},postBatch:function(o){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(o),this},onDraw:function(o){this.bindAndDraw(o)},getController:function(o){return o!==void 0?o:this.controller?this.controller:this},copySprite:function(o,i,l){l===void 0&&(l=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,o.texture.webGLTexture);var f=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),l&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,f))},copyFrame:function(o,i,l,u,f){this.manager.copyFrame(o,i,l,u,f)},copyToGame:function(o){this.manager.copyToGame(o)},drawFrame:function(o,i,l){this.manager.drawFrame(o,i,l,this.colorMatrix)},blendFrames:function(o,i,l,u,f){this.manager.blendFrames(o,i,l,u,f)},blendFramesAdditive:function(o,i,l,u,f){this.manager.blendFramesAdditive(o,i,l,u,f)},clearFrame:function(o,i){this.manager.clearFrame(o,i)},blitFrame:function(o,i,l,u,f,d){this.manager.blitFrame(o,i,l,u,f,d)},copyFrameRect:function(o,i,l,u,f,d,c,g){this.manager.copyFrameRect(o,i,l,u,f,d,c,g)},bindAndDraw:function(o,i,l,u,f){l===void 0&&(l=!0),u===void 0&&(u=!0);var d=this.gl,c=this.renderer;this.bind(f),this.set1i("uMainSampler",0),i?(d.viewport(0,0,i.width,i.height),d.bindFramebuffer(d.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i.texture.webGLTexture,0),l&&(u?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1),c.currentFramebuffer||d.viewport(0,0,c.width,c.height)),c.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,o.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),i&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,c.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});p.exports=s},43558:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),v=t(67502),a=t(83419),r=t(96293),n=t(95540),e=t(57516),s=t(27681),o=t(87841),i=t(32302),l=t(45561),u=t(60722),f=t(29100),d=new a({Extends:e,initialize:function(g){var m=n(g,"fragShader",s),y=n(g,"vertShader",u),T=n(g,"drawShader",s),S=[{name:"DrawSprite",fragShader:l,vertShader:u},{name:"CopySprite",fragShader:m,vertShader:y},{name:"DrawGame",fragShader:T,vertShader:u},{name:"ColorMatrix",fragShader:r}],C=n(g,"shaders",[]);g.shaders=S.concat(C),g.vertShader||(g.vertShader=y),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new o,this.targetBounds=new o,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){f.prototype.boot.call(this);var c=this.shaders,g=this.renderer;this.drawSpriteShader=c[0],this.copyShader=c[1],this.gameShader=c[2],this.colorMatrixShader=c[3],this.fsTarget=new i(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var m=new ArrayBuffer(168);this.quadVertexData=m,this.quadVertexViewF32=new Float32Array(m),this.quadVertexBuffer=g.createVertexBuffer(m,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader,this.set2f("uResolution",g.width,g.height)},onResize:function(c,g){var m=this.quadVertexViewF32;m[1]=g,m[22]=g,m[14]=c,m[28]=c,m[35]=c,m[36]=g},batchQuad:function(c,g,m,y,T,S,C,P,b,w,M,D,O,U,W,Y,X,N,V){var I=Math.min(g,y,S,P),B=Math.min(m,T,C,b),G=Math.max(g,y,S,P),H=Math.max(m,T,C,b),k=G-I,Z=H-B,J=this.spriteBounds.setTo(I,B,k,Z),j=c?c.preFX.padding:0,_=k+j*2,tt=Z+j*2,et=Math.abs(Math.max(_,tt)),rt=this.manager.getRenderTarget(et),at=this.targetBounds.setTo(0,0,rt.width,rt.height);v(at,Math.round(J.centerX),Math.round(J.centerY)),this.tempSprite=c;var st=this.gl,ct=this.renderer;ct.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ct.width,ct.height),this.flipProjectionMatrix(!0),c&&(this.onDrawSprite(c,rt),c.preFX.onFX(this));var pt=this.fsTarget;return this.flush(),st.viewport(0,0,ct.width,ct.height),st.bindFramebuffer(st.FRAMEBUFFER,pt.framebuffer.webGLFramebuffer),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,pt.texture.webGLTexture,0),st.clearColor(0,0,0,0),st.clear(st.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(g,m,w,M,0,N,U),this.batchVert(y,T,w,O,0,N,Y),this.batchVert(S,C,D,O,0,N,X),this.batchVert(g,m,w,M,0,N,U),this.batchVert(S,C,D,O,0,N,X),this.batchVert(P,b,D,M,0,N,W),this.flush(),this.flipProjectionMatrix(!1),st.activeTexture(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,rt.texture.webGLTexture),st.copyTexSubImage2D(st.TEXTURE_2D,0,0,0,at.x,at.y,at.width,at.height),st.bindFramebuffer(st.FRAMEBUFFER,null),st.bindTexture(st.TEXTURE_2D,null),this.onBatch(c),this.currentShader=this.copyShader,this.onDraw(rt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(c,g,m,y,T,S,C){m===void 0&&(m=!0),y===void 0&&(y=!0),T===void 0&&(T=!1),C===void 0&&(C=this.copyShader);var P=this.gl,b=this.tempSprite;S&&(C=this.colorMatrixShader),this.currentShader=C;var w=this.setVertexBuffer(this.quadVertexBuffer);C.bind(w,!1);var M=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",M.width,M.height),b.preFX.onFXCopy(this),this.onCopySprite(c,g,b),S&&(this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture.webGLTexture),c.height>g.height)P.viewport(0,0,c.width,c.height),this.setTargetUVs(c,g);else{var D=g.height-c.height;P.viewport(0,D,c.width,c.height),this.resetUVs()}if(P.bindFramebuffer(P.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,g.texture.webGLTexture,0),m&&(P.clearColor(0,0,0,+!y),P.clear(P.COLOR_BUFFER_BIT)),T){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),T&&this.renderer.setBlendMode(O),P.bindFramebuffer(P.FRAMEBUFFER,null)},copy:function(c,g){var m=this.gl;this.set1i("uMainSampler",0),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,c.texture.webGLTexture),m.viewport(0,0,c.width,c.height),this.setUVs(0,0,0,1,1,1,1,0),m.bindFramebuffer(m.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,g.texture.webGLTexture,0),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.quadVertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null)},blendFrames:function(c,g,m,y,T){this.manager.blendFrames(c,g,m,y,T)},blendFramesAdditive:function(c,g,m,y,T){this.manager.blendFramesAdditive(c,g,m,y,T)},drawToGame:function(c){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(c)},copyToGame:function(c){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(c)},bindAndDraw:function(c){var g=this.gl,m=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(c.texture);var y=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,S=this.targetBounds.y,C=T+c.width,P=S+c.height,b=y.getX(T,S),w=y.getX(T,P),M=y.getX(C,P),D=y.getX(C,S),O=y.getY(T,S),U=y.getY(T,P),W=y.getY(C,P),Y=y.getY(C,S),X=16777215;this.batchVert(b,O,0,0,0,0,X),this.batchVert(w,U,0,1,0,0,X),this.batchVert(M,W,1,1,0,0,X),this.batchVert(b,O,0,0,0,0,X),this.batchVert(M,W,1,1,0,0,X),this.batchVert(D,Y,1,0,0,0,X),m.restoreFramebuffer(!1,!0),m.currentFramebuffer||g.viewport(0,0,m.width,m.height),m.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(c){this.drawToGame(c)},setUVs:function(c,g,m,y,T,S,C,P){var b=this.quadVertexViewF32;b[2]=c,b[3]=g,b[9]=m,b[10]=y,b[16]=T,b[17]=S,b[23]=c,b[24]=g,b[30]=T,b[31]=S,b[37]=C,b[38]=P},setTargetUVs:function(c,g){var m=g.height/c.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=d},81041:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(57516),r=new h({Extends:a,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),a.call(this,e)}});p.exports=r},12385:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(29100),s=new h({Extends:a,initialize:function(i){i.fragShader=v(i,"fragShader",r),i.vertShader=v(i,"vertShader",n),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var o=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",o.width,o.height)}});p.exports=s},7589:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35407),v=t(10312),a=t(83419),r=t(89422),n=t(96293),e=t(36682),s=t(95540),o=t(48247),i=t(49627),l=t(29100),u=new a({Extends:l,initialize:function(d){d.renderTarget=s(d,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),d.vertShader=s(d,"vertShader",i),d.shaders=s(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:o},{name:"ColorMatrix",fragShader:n}]),d.attributes=s(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,l.call(this,d),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){l.prototype.boot.call(this);var f=this.shaders,d=this.renderTargets;this.copyShader=f[0],this.addShader=f[1],this.linearShader=f[2],this.colorMatrixShader=f[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(f,d,c,g,m){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0);var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,f.texture.webGLTexture),d?(y.viewport(0,0,d.width,d.height),y.bindFramebuffer(y.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,d.texture.webGLTexture,0)):y.viewport(0,0,f.width,f.height),g&&(m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blitFrame:function(f,d,c,g,m,y,T){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0),y===void 0&&(y=!1),T===void 0&&(T=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,f.texture.webGLTexture),f.height>d.height)S.viewport(0,0,f.width,f.height),this.setTargetUVs(f,d);else{var C=d.height-f.height;S.viewport(0,C,f.width,f.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture.webGLTexture,0),g&&(m?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),y){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}T&&this.flipY(),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),y&&this.renderer.setBlendMode(P),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(f,d,c,g,m,y,T,S){T===void 0&&(T=!0),S===void 0&&(S=!0);var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,f.texture.webGLTexture,0),T&&(S?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),C.copyTexSubImage2D(C.TEXTURE_2D,0,0,0,c,g,m,y),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},copyToGame:function(f){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,f.texture.webGLTexture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(f,d,c,g){c===void 0&&(c=!0),g===void 0&&(g=this.colorMatrix);var m=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,f.texture.webGLTexture),d?(m.viewport(0,0,d.width,d.height),m.bindFramebuffer(m.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,d.texture.webGLTexture,0)):m.viewport(0,0,f.width,f.height),c?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blendFrames:function(f,d,c,g,m,y){g===void 0&&(g=1),m===void 0&&(m=!0),y===void 0&&(y=this.linearShader);var T=this.gl;this.setShader(y),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,f.texture.webGLTexture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),c?(T.bindFramebuffer(T.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,c.texture.webGLTexture,0),T.viewport(0,0,c.width,c.height)):T.viewport(0,0,f.width,f.height),m?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(f,d,c,g,m){this.blendFrames(f,d,c,g,m,this.addShader)},clearFrame:function(f,d){d===void 0&&(d=!0);var c=this.gl;c.viewport(0,0,f.width,f.height),c.bindFramebuffer(c.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),d?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,g.webGLFramebuffer)},setUVs:function(f,d,c,g,m,y,T,S){var C=this.vertexViewF32;C[2]=f,C[3]=d,C[6]=c,C[7]=g,C[10]=m,C[11]=y,C[14]=f,C[15]=d,C[18]=m,C[19]=y,C[22]=T,C[23]=S},setTargetUVs:function(f,d){var c=d.height/f.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=u},36060:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=x},84817:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},36712:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},40285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},65918:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},92852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},56072:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},57566:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},77085:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(99155),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});p.exports=r},67329:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(24400),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1,o=this.fullFrame2;this.copyFrame(n,o);for(var i=2/n.width*e.offsetX,l=2/n.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(n,s),this.set2f("offset",0,l),this.copySprite(s,n);this.blendFrames(o,n,s,e.strength),this.copyToGame(s)}});p.exports=r},8861:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(41514),a=t(51078),r=t(94328),n=t(84057),e=new h({Extends:n,initialize:function(o){n.call(this,{game:o,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var o=this.getController(),i=this.gl,l=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[o.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",o.strength),this.set3fv("color",o.glcolor);for(var f=0;f<o.steps;f++)this.set2f("offset",o.x,0),this.copySprite(s,l),this.set2f("offset",0,o.y),this.copySprite(l,s);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});p.exports=e},51051:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(90610),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},89428:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(91899),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},88904:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(84057),a=new h({Extends:v,initialize:function(n){v.call(this,{game:n})},onDraw:function(r){var n=this.fullFrame1;this.controller?this.manager.drawFrame(r,n,!0,this.controller):this.drawFrame(r,n),this.copyToGame(n)}});p.exports=a},63563:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(47838),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,s),this.copyToGame(s)}});p.exports=r},94045:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=t(98656),r=t(84057),n=t(70554),e=new h({Extends:r,initialize:function(o,i){var l=v(i,"quality",.1),u=v(i,"distance",10);r.call(this,{game:o,fragShader:n.setGlowQuality(a,o,l,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,o,i,l){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,o),this.set1f("innerStrength",s.innerStrength,o),this.set4fv("glowColor",s.glcolor,o),this.setBoolean("knockout",s.knockout,o),i&&l&&this.set2f("resolution",i,l,o)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=e},74088:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(70463),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});p.exports=r},99636:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50831),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("amount",n.amount,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},34700:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(92595),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var s=n.samples;this.set1i("samples",s,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/s,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});p.exports=r},91157:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(72464),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,s,o){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},27797:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(39249),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});p.exports=r},67603:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(2878),a=t(84057),r=new h({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var s=n.progress,o=n.wipeWidth,i=n.direction,l=n.axis;this.set4f("config",s,o,i,l,e),this.setBoolean("reveal",n.reveal,e)}});p.exports=r},58918:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};p.exports=h},96615:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36060),v=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=v(!1,a,h),p.exports=a},35407:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(p,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(p,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e){this.webGLAttribLocation=-1,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});p.exports=v},26128:(p,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e,s){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=n,this.bufferType=e,this.bufferUsage=s,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var r=this.bufferType,n=a.createBuffer();this.webGLBuffer=n,a.bindBuffer(r,this.webGLBuffer),a.bufferData(r,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(r,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});p.exports=v},84387:(p,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new h({initialize:function(n,e,s,o,i){this.webGLFramebuffer=null,this.gl=n,this.width=e,this.height=s,this.renderTexture=o,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var n=this.renderTexture,e=0,s=r.createFramebuffer();if(this.webGLFramebuffer=s,r.bindFramebuffer(r.FRAMEBUFFER,s),n.isRenderTexture=!0,n.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n.webGLTexture,0),e=r.checkFramebufferStatus(r.FRAMEBUFFER),e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[e]||e));if(this.addDepthStencilBuffer){var o=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,o),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var n=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(n));var e=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&r.deleteRenderbuffer(e),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});p.exports=a},1482:(p,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e){this.webGLProgram=null,this.gl=r,this.vertexSource=n,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=a.createProgram(),n=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(n,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(n),a.compileShader(e);var s=`Shader failed:
`;if(!a.getShaderParameter(n,a.COMPILE_STATUS))throw new Error("Vertex "+s+a.getShaderInfoLog(n));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+s+a.getShaderInfoLog(e));if(a.attachShader(r,n),a.attachShader(r,e),a.linkProgram(r),!a.getProgramParameter(r,a.LINK_STATUS))throw new Error("Link "+s+a.getProgramInfoLog(r));a.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});p.exports=v},82751:(p,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50030),a=new h({initialize:function(n,e,s,o,i,l,u,f,d,c,g,m,y){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=n,this.mipLevel=e,this.minFilter=s,this.magFilter=o,this.wrapT=i,this.wrapS=l,this.format=u,this.pixels=f,this.width=d,this.height=c,this.pma=g??!0,this.forceSize=!!m,this.flipY=!!y,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var n=r.createTexture();n.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=n,this._processTexture()}},update:function(r,n,e,s,o,i,l,u,f){if(!(n===0||e===0)){this.pixels=r,this.width=n,this.height=e,this.flipY=s,this.wrapS=o,this.wrapT=i,this.minFilter=l,this.magFilter=u,this.format=f;var d=this.gl;d.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var n=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,s=this.mipLevel,o=this.width,i=this.height,l=this.format,u=!1;if(e==null)r.texImage2D(r.TEXTURE_2D,s,l,o,i,0,l,r.UNSIGNED_BYTE,null),u=v(o,i);else if(e.compressed){o=e.width,i=e.height,u=e.generateMipmap;for(var f=0;f<e.mipmaps.length;f++)r.compressedTexImage2D(r.TEXTURE_2D,f,e.internalFormat,e.mipmaps[f].width,e.mipmaps[f].height,0,e.mipmaps[f].data)}else e instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,s,l,o,i,0,l,r.UNSIGNED_BYTE,e),u=v(o,i)):(this.forceSize||(o=e.width,i=e.height),r.texImage2D(r.TEXTURE_2D,s,l,l,r.UNSIGNED_BYTE,e),u=v(o,i));u&&r.generateMipmap(r.TEXTURE_2D),n?r.bindTexture(r.TEXTURE_2D,n):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});p.exports=a},57183:(p,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e){this.webGLUniformLocation=null,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});p.exports=v},9503:(p,x,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};p.exports=h},76531:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13560),v=t(83419),a=t(50792),r=t(97480),n=t(8443),e=t(57811),s=t(74403),o=t(45818),i=t(29747),l=t(87841),u=t(86555),f=t(56583),d=t(26099),c=t(38058),g=new v({Extends:a,initialize:function(y){a.call(this),this.game=y,this.canvas,this.canvasBounds=new l,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var m=this.game;this.canvas=m.canvas,this.fullscreen=m.device.fullscreen;var y=this.scaleMode;y!==h.SCALE_MODE.RESIZE&&y!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(y),y===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),m.events.on(n.PRE_STEP,this.step,this),m.events.once(n.READY,this.refresh,this),m.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(m){this.getParent(m),this.getParentBounds();var y=m.width,T=m.height,S=m.scaleMode,C=m.zoom,P=m.autoRound;if(typeof y=="string")if(y.substr(-1)!=="%")y=parseInt(y,10);else{var b=this.parentSize.width;b===0&&(b=window.innerWidth);var w=parseInt(y,10)/100;y=Math.floor(b*w)}if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var M=this.parentSize.height;M===0&&(M=window.innerHeight);var D=parseInt(T,10)/100;T=Math.floor(M*D)}this.scaleMode=S,this.autoRound=P,this.autoCenter=m.autoCenter,this.resizeInterval=m.resizeInterval,P&&(y=Math.floor(y),T=Math.floor(T)),this.gameSize.setSize(y,T),C===h.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,T),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),m.minWidth>0&&this.displaySize.setMin(m.minWidth*C,m.minHeight*C),m.maxWidth>0&&this.displaySize.setMax(m.maxWidth*C,m.maxHeight*C),this.displaySize.setSize(y,T),(m.snapWidth>0||m.snapHeight>0)&&this.displaySize.setSnap(m.snapWidth,m.snapHeight),this.orientation=o(y,T)},getParent:function(m){var y=m.parent;if(y!==null){if(this.parent=s(y),this.parentIsWindow=this.parent===document.body,m.expandParent&&m.scaleMode!==h.SCALE_MODE.NONE){var T=this.parent.getBoundingClientRect();(this.parentIsWindow||T.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",T=this.parent.getBoundingClientRect(),!this.parentIsWindow&&T.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}m.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(m.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var m=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=e(!0));var T=y.width,S=y.height;if(m.width!==T||m.height!==S)return m.setSize(T,S),!0;if(this.canvas){var C=this.canvasBounds,P=this.canvas.getBoundingClientRect();if(P.x!==C.x||P.y!==C.y)return!0}return!1},lockOrientation:function(m){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,m):!1},setParentSize:function(m,y){return this.parentSize.setSize(m,y),this.refresh()},setGameSize:function(m,y){var T=this.autoRound;T&&(m=Math.floor(m),y=Math.floor(y));var S=this.width,C=this.height;return this.gameSize.resize(m,y),this.baseSize.resize(m,y),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(m/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,C)},resize:function(m,y){var T=this.zoom,S=this.autoRound;S&&(m=Math.floor(m),y=Math.floor(y));var C=this.width,P=this.height;this.gameSize.resize(m,y),this.baseSize.resize(m,y),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(m*T,y*T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var b=this.canvas.style,w=m*T,M=y*T;return S&&(w=Math.floor(w),M=Math.floor(M)),(w!==m||M!==y)&&(b.width=w+"px",b.height=M+"px"),this.refresh(C,P)},setZoom:function(m){return this.zoom=m,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(m,y){return m===void 0&&(m=0),y===void 0&&(y=m),this.displaySize.setSnap(m,y),this.refresh()},refresh:function(m,y){m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var T=this.game.domContainer;if(T){this.baseSize.setCSS(T);var S=this.canvas.style,C=T.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=S.marginLeft,C.marginTop=S.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,m,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var m=o(this.width,this.height);m!==this.orientation&&(this.orientation=m,this.emit(r.ORIENTATION_CHANGE,m))}},updateScale:function(){var m=this.canvas.style,y=this.gameSize.width,T=this.gameSize.height,S,C,P=this.zoom,b=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(y*P,T*P),S=this.displaySize.width,C=this.displaySize.height,b&&(S=Math.floor(S),C=Math.floor(C)),this._resetZoom&&(m.width=S+"px",m.height=C+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,C=this.displaySize.height,b&&(S=Math.floor(S),C=Math.floor(C)),this.canvas.width=S,this.canvas.height=C;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var w=this.game.config.width,M=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,C=this.displaySize.height,b&&(S=Math.floor(S),C=Math.floor(C)),m.width=S+"px",m.height=C+"px";var D=this.parentSize.width/w,O=this.parentSize.height/M;D<O&&D!==0?this.baseSize.setSize(w,this.parentSize.height/D):O!==0&&this.baseSize.setSize(this.displaySize.width/O,M),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),S=this.baseSize.width,C=this.baseSize.height,b&&(S=Math.floor(S),C=Math.floor(C)),this.canvas.width=S,this.canvas.height=C}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,C=this.displaySize.height,b&&(S=Math.floor(S),C=Math.floor(C)),m.width=S+"px",m.height=C+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var m=f(this.parentSize.width,this.gameSize.width,0,!0),y=f(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(m,y),1)},updateCenter:function(){var m=this.autoCenter;if(m!==h.CENTER.NO_CENTER){var y=this.canvas,T=y.style,S=y.getBoundingClientRect(),C=S.width,P=S.height,b=Math.floor((this.parentSize.width-C)/2),w=Math.floor((this.parentSize.height-P)/2);m===h.CENTER.CENTER_HORIZONTALLY?w=0:m===h.CENTER.CENTER_VERTICALLY&&(b=0),T.marginLeft=b+"px",T.marginTop=w+"px"}},updateBounds:function(){var m=this.canvasBounds,y=this.canvas.getBoundingClientRect();m.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),m.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),m.width=y.width,m.height=y.height},transformX:function(m){return(m-this.canvasBounds.left)*this.displayScale.x},transformY:function(m){return(m-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(m){m===void 0&&(m={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var T=this.getFullscreenTarget();y.keyboard?T[y.request](Element.ALLOW_KEYBOARD_INPUT):T[y.request](m)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(m){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,m)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var m=document.createElement("div");m.style.margin="0",m.style.padding="0",m.style.width="100%",m.style.height="100%",this.fullscreenTarget=m,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var m=this.fullscreenTarget;if(m&&m.parentNode){var y=m.parentNode;y.insertBefore(this.canvas,m),y.removeChild(m)}}},stopFullscreen:function(){var m=this.fullscreen;if(!m.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;m.active&&document[m.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(m){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(m)},startListeners:function(){var m=this,y=this.domlisteners;if(y.orientationChange=function(){m.updateBounds(),m._checkOrientation=!0,m.dirty=!0,m.refresh()},y.windowResize=function(){m.updateBounds(),m.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",y.orientationChange,!1):window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(S){return m.onFullScreenChange(S)},y.fullScreenError=function(S){return m.onFullScreenError(S)};var T=["webkit","moz",""];T.forEach(function(S){document.addEventListener(S+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(m,y){m instanceof c||(y=m,m=void 0),y===void 0&&(y=new l);var T=this.baseSize,S=this.parentSize,C=this.canvasBounds,P=this.displayScale,b=C.x>=0?0:-(C.x*P.x),w=C.y>=0?0:-(C.y*P.y),M;S.width>=C.width?M=T.width:M=T.width-(C.width-S.width)*P.x;var D;return S.height>=C.height?D=T.height:D=T.height-(C.height-S.height)*P.y,y.setTo(b,w,M,D),m&&(y.width/=m.zoomX,y.height/=m.zoomY,y.centerX=m.centerX+m.scrollX,y.centerY=m.centerY+m.scrollY),y},step:function(m,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var m=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",m.orientationChange,!1):window.removeEventListener("orientationchange",m.orientationChange,!1),window.removeEventListener("resize",m.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(T){document.removeEventListener(T+"fullscreenchange",m.fullScreenChange,!1),document.removeEventListener(T+"fullscreenerror",m.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",m.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=g},64743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};p.exports=h},56139:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},2336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},47412:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},51452:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},20666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},47945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},97480:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),v=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=h(!1,a,v.CENTER),a=h(!1,a,v.ORIENTATION),a=h(!1,a,v.SCALE_MODE),a=h(!1,a,v.ZOOM),p.exports=a},27397:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=t(35355),a=function(r){var n=r.game.config.defaultPhysicsSystem,e=h(r.settings,"physics",!1);if(!(!n&&!e)){var s=[];if(n&&s.push(v(n+"Physics")),e)for(var o in e)o=v(o.concat("Physics")),s.indexOf(o)===-1&&s.push(o);return s}};p.exports=a},52106:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=function(a){var r=a.plugins.getDefaultScenePlugins(),n=h(a.settings,"plugins",!1);return Array.isArray(n)?n:r||[]};p.exports=v},87033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=x},97482:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(2368),a=new h({initialize:function(n){this.sys=new v(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=a},60903:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(89993),a=t(44594),r=t(8443),n=t(35154),e=t(54899),s=t(29747),o=t(97482),i=t(2368),l=new h({initialize:function(f,d){if(this.game=f,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)this._pending.push({key:"default",scene:d[c],autoStart:c===0,data:{}})}f.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new o),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var u,f,d,c;for(u=0;u<this._pending.length;u++){f=this._pending[u],d=f.key,c=f.scene;var g;c instanceof o?g=this.createSceneFromInstance(d,c):typeof c=="object"?g=this.createSceneFromObject(d,c):typeof c=="function"&&(g=this.createSceneFromFunction(d,c)),d=g.sys.settings.key,this.keys[d]=g,this.scenes.push(g),this._data[d]&&(g.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(f.autoStart=!0)),(f.autoStart||g.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)f=this._start[u],this.start(f);this._start.length=0}},processQueue:function(){var u=this._pending.length,f=this._queue.length;if(!(u===0&&f===0)){var d,c;if(u){for(d=0;d<u;d++)c=this._pending[d],this.add(c.key,c.scene,c.autoStart,c.data);for(d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)c=this._queue[d],this[c.op](c.keyA,c.keyB,c.data);this._queue.length=0}},add:function(u,f,d,c){if(d===void 0&&(d=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:f,autoStart:d,data:c}),this.isBooted||(this._data[u]={data:c}),null;u=this.getKey(u,f);var g;return f instanceof o?g=this.createSceneFromInstance(u,f):typeof f=="object"?(f.key=u,g=this.createSceneFromObject(u,f)):typeof f=="function"&&(g=this.createSceneFromFunction(u,f)),g.sys.settings.data=c,u=g.sys.settings.key,this.keys[u]=g,this.scenes.push(g),(d||g.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),g},remove:function(u){if(this.isProcessing)return this.queueOp("remove",u);var f=this.getScene(u);if(!f||f.sys.isTransitioning())return this;var d=this.scenes.indexOf(f),c=f.sys.settings.key;return d>-1&&(delete this.keys[c],this.scenes.splice(d,1),this._start.indexOf(c)>-1&&(d=this._start.indexOf(c),this._start.splice(d,1)),f.sys.destroy()),this},bootScene:function(u){var f=u.sys,d=f.settings;f.sceneUpdate=s,u.init&&(u.init.call(u,d.data),d.status=v.INIT,d.isTransition&&f.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var c;f.load&&(c=f.load,c.reset()),c&&u.preload?(u.preload.call(u),d.status=v.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start()):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,f){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var c=this.scenes[d].sys;c.settings.status>v.START&&c.settings.status<=v.RUNNING&&c.step(u,f),c.scenePlugin&&c.scenePlugin._target&&c.scenePlugin.step(u,f)}},render:function(u){for(var f=0;f<this.scenes.length;f++){var d=this.scenes[f].sys;d.settings.visible&&d.settings.status>=v.LOADING&&d.settings.status<v.SLEEPING&&d.render(u)}this.isProcessing=!1},create:function(u){var f=u.sys,d=f.settings;u.create&&(d.status=v.CREATING,u.create.call(u,d.data),d.status===v.DESTROYED)||(d.isTransition&&f.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),u.update&&(f.sceneUpdate=u.update),d.status=v.RUNNING,f.events.emit(a.CREATE,u))},createSceneFromFunction:function(u,f){var d=new f;if(d instanceof o){var c=d.sys.settings.key;if(c!==""&&(u=c),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return this.createSceneFromInstance(u,d)}else return d.sys=new i(d),d.sys.settings.key=u,d.sys.init(this.game),d},createSceneFromInstance:function(u,f){var d=f.sys.settings.key;return d===""&&(f.sys.settings.key=u),f.sys.init(this.game),f},createSceneFromObject:function(u,f){var d=new o(f),c=d.sys.settings.key;c!==""?u=c:d.sys.settings.key=u,d.sys.init(this.game);for(var g=["init","preload","create","update","render"],m=0;m<g.length;m++){var y=n(f,g[m],null);y&&(d[g[m]]=y)}if(f.hasOwnProperty("extend")){for(var T in f.extend)if(f.extend.hasOwnProperty(T)){var S=f.extend[T];T==="data"&&d.hasOwnProperty("data")&&typeof S=="object"?d.data.merge(S):T!=="sys"&&(d[T]=S)}}return d},getKey:function(u,f){if(u||(u="default"),typeof f=="function")return u;if(f instanceof o?u=f.sys.settings.key:typeof f=="object"&&f.hasOwnProperty("key")&&(u=f.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return u},getScenes:function(u,f){u===void 0&&(u=!0),f===void 0&&(f=!1);for(var d=[],c=this.scenes,g=0;g<c.length;g++){var m=c[g];m&&(!u||u&&m.sys.isActive())&&d.push(m)}return f?d.reverse():d},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var f=0;f<this.scenes.length;f++)if(u===this.scenes[f])return u;return null},isActive:function(u){var f=this.getScene(u);return f?f.sys.isActive():null},isPaused:function(u){var f=this.getScene(u);return f?f.sys.isPaused():null},isVisible:function(u){var f=this.getScene(u);return f?f.sys.isVisible():null},isSleeping:function(u){var f=this.getScene(u);return f?f.sys.isSleeping():null},pause:function(u,f){var d=this.getScene(u);return d&&d.sys.pause(f),this},resume:function(u,f){var d=this.getScene(u);return d&&d.sys.resume(f),this},sleep:function(u,f){var d=this.getScene(u);return d&&!d.sys.isTransitioning()&&d.sys.sleep(f),this},wake:function(u,f){var d=this.getScene(u);return d&&d.sys.wake(f),this},run:function(u,f){var d=this.getScene(u);if(!d){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===u){this.queueOp("start",u,f);break}return this}d.sys.isSleeping()?d.sys.wake(f):d.sys.isPaused()?d.sys.resume(f):this.start(u,f)},start:function(u,f){if(!this.isBooted)return this._data[u]={autoStart:!0,data:f},this;var d=this.getScene(u);if(!d)return console.warn("Scene key not found: "+u),this;var c=d.sys,g=c.settings.status;if(g>=v.START&&g<=v.CREATING)return this;if(g>=v.RUNNING&&g<=v.SLEEPING)c.shutdown(),c.sceneUpdate=s,c.start(f);else{c.sceneUpdate=s,c.start(f);var m;if(c.load&&(m=c.load),m&&c.settings.hasOwnProperty("pack")&&(m.reset(),m.addPack({payload:c.settings.pack})))return c.settings.status=v.LOADING,m.once(e.COMPLETE,this.payloadComplete,this),m.start(),this}return this.bootScene(d),this},stop:function(u,f){var d=this.getScene(u);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==v.SHUTDOWN){var c=d.sys.load;c&&(c.off(e.COMPLETE,this.loadComplete,this),c.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(f)}return this},switch:function(u,f,d){var c=this.getScene(u),g=this.getScene(f);return c&&g&&c!==g&&(this.sleep(u),this.isSleeping(f)?this.wake(f,d):this.start(f,d)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var f=this.getScene(u);return this.scenes.indexOf(f)},bringToTop:function(u){if(this.isProcessing)return this.queueOp("bringToTop",u);var f=this.getIndex(u),d=this.scenes;if(f!==-1&&f<d.length){var c=this.getScene(u);d.splice(f,1),d.push(c)}return this},sendToBack:function(u){if(this.isProcessing)return this.queueOp("sendToBack",u);var f=this.getIndex(u);if(f!==-1&&f>0){var d=this.getScene(u);this.scenes.splice(f,1),this.scenes.unshift(d)}return this},moveDown:function(u){if(this.isProcessing)return this.queueOp("moveDown",u);var f=this.getIndex(u);if(f>0){var d=f-1,c=this.getScene(u),g=this.getAt(d);this.scenes[f]=g,this.scenes[d]=c}return this},moveUp:function(u){if(this.isProcessing)return this.queueOp("moveUp",u);var f=this.getIndex(u);if(f<this.scenes.length-1){var d=f+1,c=this.getScene(u),g=this.getAt(d);this.scenes[f]=g,this.scenes[d]=c}return this},moveAbove:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("moveAbove",u,f);var d=this.getIndex(u),c=this.getIndex(f);if(d!==-1&&c!==-1&&c<d){var g=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(d+(c>d),0,g)}return this},moveBelow:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("moveBelow",u,f);var d=this.getIndex(u),c=this.getIndex(f);if(d!==-1&&c!==-1&&c>d){var g=this.getAt(c);this.scenes.splice(c,1),d===0?this.scenes.unshift(g):this.scenes.splice(d-(c<d),0,g)}return this},queueOp:function(u,f,d,c){return this._queue.push({op:u,keyA:f,keyB:d,data:c}),this},swapPosition:function(u,f){if(u===f)return this;if(this.isProcessing)return this.queueOp("swapPosition",u,f);var d=this.getIndex(u),c=this.getIndex(f);if(d!==c&&d!==-1&&c!==-1){var g=this.getAt(d);this.scenes[d]=this.scenes[c],this.scenes[c]=g}return this},dump:function(){for(var u=[],f=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys,g=c.settings.visible&&(c.settings.status===v.RUNNING||c.settings.status===v.PAUSED)?"[*] ":"[-] ";g+=c.settings.key+" ("+f[c.settings.status]+")",u.push(g)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var f=this.scenes[u].sys;f.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=l},52209:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(44594),r=t(95540),n=t(37277),e=new v({initialize:function(o){this.scene=o,this.systems=o.sys,this.settings=o.sys.settings,this.key=o.sys.settings.key,this.manager=o.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,o),this},restart:function(s){var o=this.key;return this.manager.queueOp("stop",o),this.manager.queueOp("start",o,s),this},transition:function(s){s===void 0&&(s={});var o=r(s,"target",!1),i=this.manager.getScene(o);if(!o||!this.checkValidTransition(i))return!1;var l=r(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=l,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var u=r(s,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var f=r(s,"allowInput",!1);this.settings.transitionAllowInput=f;var d=i.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=l,d.transitionAllowInput=f,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,o):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,o),i.sys.isSleeping()?i.sys.wake(r(s,"data")):this.manager.start(o,r(s,"data"));var c=r(s,"onStart",null),g=r(s,"onStartScope",this.scene);return c&&c.call(g,this.scene,i,l),this.systems.events.emit(a.TRANSITION_OUT,i,l),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,o){this._elapsed+=o,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,o=this._target.sys.settings;s.events.emit(a.TRANSITION_COMPLETE,this.scene),o.isTransition=!1,o.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,o,i,l){return this.manager.add(s,o,i,l)},launch:function(s,o){return s&&s!==this.key&&this.manager.queueOp("start",s,o),this},run:function(s,o){return s&&s!==this.key&&this.manager.queueOp("run",s,o),this},pause:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,o),this},resume:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,o),this},sleep:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,o),this},wake:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,o),this},switch:function(s,o){return s!==this.key&&this.manager.queueOp("switch",this.key,s,o),this},stop:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,o),this},setActive:function(s,o,i){o===void 0&&(o=this.key);var l=this.manager.getScene(o);return l&&l.sys.setActive(s,i),this},setVisible:function(s,o){o===void 0&&(o=this.key);var i=this.manager.getScene(o);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.swapPosition(s,o),this},moveAbove:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveAbove(s,o),this},moveBelow:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveBelow(s,o),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var o=this.manager.getScene(s);if(o)return o.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(a.SHUTDOWN,this.shutdown,this),s.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),p.exports=e},55681:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),v=t(35154),a=t(46975),r=t(87033),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:h.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",a(r,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};p.exports=n},2368:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(89993),a=t(42363),r=t(44594),n=t(27397),e=t(52106),s=t(29747),o=t(55681),i=new h({initialize:function(u,f){this.scene=u,this.game,this.renderer,this.config=f,this.settings=o.create(f),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(l){this.settings.status=v.INIT,this.sceneUpdate=s,this.game=l,this.renderer=l.renderer,this.canvas=l.canvas,this.context=l.context;var u=l.plugins;this.plugins=u,u.addToScene(this,a.Global,[a.CoreScene,e(this),n(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(l,u){var f=this.events;f.emit(r.PRE_UPDATE,l,u),f.emit(r.UPDATE,l,u),this.sceneUpdate.call(this.scene,l,u),f.emit(r.POST_UPDATE,l,u)},render:function(l){var u=this.displayList;u.depthSort(),this.events.emit(r.PRE_RENDER,l),this.cameras.render(l,u),this.events.emit(r.RENDER,l)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(l){var u=this.settings,f=this.getStatus();return f!==v.CREATING&&f!==v.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=v.PAUSED,u.active=!1,this.events.emit(r.PAUSE,this,l)),this},resume:function(l){var u=this.events,f=this.settings;return this.settings.active||(f.status=v.RUNNING,f.active=!0,u.emit(r.RESUME,this,l)),this},sleep:function(l){var u=this.settings,f=this.getStatus();return f!==v.CREATING&&f!==v.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=v.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(r.SLEEP,this,l)),this},wake:function(l){var u=this.events,f=this.settings;return f.status=v.RUNNING,f.active=!0,f.visible=!0,u.emit(r.WAKE,this,l),f.isTransition&&u.emit(r.TRANSITION_WAKE,f.transitionFrom,f.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var l=this.settings.status;return l>v.PENDING&&l<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(l){return this.settings.visible=l,this},setActive:function(l,u){return l?this.resume(u):this.pause(u)},start:function(l){var u=this.events,f=this.settings;l&&(f.data=l),f.status=v.START,f.active=!0,f.visible=!0,u.emit(r.START,this),u.emit(r.READY,this,l)},shutdown:function(l){var u=this.events,f=this.settings;u.off(r.TRANSITION_INIT),u.off(r.TRANSITION_START),u.off(r.TRANSITION_COMPLETE),u.off(r.TRANSITION_OUT),f.status=v.SHUTDOWN,f.active=!1,f.visible=!1,u.emit(r.SHUTDOWN,this,l)},destroy:function(){var l=this.events,u=this.settings;u.status=v.DESTROYED,u.active=!1,u.visible=!1,l.emit(r.DESTROY,this),l.removeAllListeners();for(var f=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<f.length;d++)this[f[d]]=null}});p.exports=i},89993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=x},69830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},7919:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},46763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},11763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},71555:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},36735:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},3809:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},90716:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},58262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},91633:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},10319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},87132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},81961:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},90194:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},6265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},33178:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},43063:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},11259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},61611:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},45209:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},22966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},21747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},44594:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89993),v=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=v(!1,a,h),p.exports=a},30341:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(14463),r=t(79291),n=t(29747),e=new h({Extends:v,initialize:function(o,i,l){v.call(this),this.manager=o,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,l),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var o=this.markers[s];return o?(this.markers[s]=null,o):null},play:function(s,o){if(s===void 0&&(s=""),typeof s=="object"&&(o=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,o),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,o=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,o);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},85034:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(41786),a=t(50792),r=t(14463),n=t(8443),e=t(46710),s=t(58731),o=t(29747),i=t(26099),l=new h({Extends:a,initialize:function(f){a.call(this),this.game=f,this.jsonCache=f.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i;var d=f.events;d.on(n.BLUR,this.onGameBlur,this),d.on(n.FOCUS,this.onGameFocus,this),d.on(n.PRE_STEP,this.update,this),d.once(n.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(u,f){f===void 0&&(f={});var d=this.add(u,f);d.spritemap=this.jsonCache.get(u).spritemap;for(var c in d.spritemap)if(d.spritemap.hasOwnProperty(c)){var g=v(f),m=d.spritemap[c];g.loop=m.hasOwnProperty("loop")?m.loop:!1,d.addMarker({name:c,start:m.start,duration:m.end-m.start,config:g})}return d},get:function(u){return s(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,f){var d=this.add(u);return d.once(r.COMPLETE,d.destroy,d),f?f.name?(d.addMarker(f),d.play(f.name)):d.play(f):d.play()},playAudioSprite:function(u,f,d){var c=this.addAudioSprite(u);return c.once(r.COMPLETE,c.destroy,c),c.play(f,d)},remove:function(u){var f=this.sounds.indexOf(u);return f!==-1?(u.destroy(),this.sounds.splice(f,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var f=0,d=this.sounds.length-1;d>=0;d--){var c=this.sounds[d];c.key===u&&(c.destroy(),this.sounds.splice(d,1),f++)}return f},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:o,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(u){var f=0;return this.getAll(u).forEach(function(d){d.stop()&&f++}),f},isPlaying:function(u){var f=this.sounds,d=f.length-1,c;if(u===void 0){for(;d>=0;d--)if(c=this.sounds[d],c.isPlaying)return!0}else for(;d>=0;d--)if(c=this.sounds[d],c.key===u&&c.isPlaying)return!0;return!1},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,f){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(c){c.update(u,f)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,f){var d=this;this.sounds.forEach(function(c,g){c&&!c.pendingRemove&&u.call(f||d,c,g,d.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(r.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(f){f.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,u)}}});p.exports=l},14747:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33684),v=t(25960),a=t(57490),r={create:function(n){var e=n.config.audio,s=n.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new v(n):s.webAudio&&!e.disableWebAudio?new a(n):new h(n)}};p.exports=r},19723:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},98882:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},57506:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},73146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},11305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},40577:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},30333:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},20394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},21802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},1299:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},99190:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},97125:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},89259:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},79986:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},17586:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},19618:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},42306:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},10387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},48959:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},9960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},19180:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},98328:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},50401:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},52498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},14463:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),v=t(83419),a=t(14463),r=t(45319),n=new v({Extends:h,initialize:function(s,o,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(o),!this.tags)throw new Error('No cached audio asset with key "'+o);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,s,o,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!h.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,o=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=o,this.audio.currentTime=o,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var o=[];this.manager.forEachActiveSound(function(l){l.key===this.key&&l.audio&&o.push(l)},this),o.sort(function(l,u){return l.loop===u.loop?u.seek/u.duration-l.seek/l.duration:l.loop?1:-1});var i=o[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,o=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=o-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-o),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=o){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},33684:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),v=t(83419),a=t(14463),r=t(64895),n=new v({Extends:h,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,s)},add:function(e,s){var o=new r(this,e,s);return this.sounds.push(o),o},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(l,u){for(var f=0;f<u.length;f++)if(u[f].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,o=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",i);var l=[];if(e.game.cache.audio.entries.each(function(f,d){for(var c=0;c<d.length;c++){var g=d[c];g.dataset.locked==="true"&&l.push(g)}return!0}),l.length!==0){var u=l[l.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,l.forEach(function(f){f.dataset.locked="false"}),e.unlocked=!0},l.forEach(function(f){f.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var l=this.lockedActionsQueue.shift();l.sound[l.prop].apply?l.sound[l.prop].apply(l.sound,l.value||[]):l.sound[l.prop]=l.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,o){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:o}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});p.exports=n},23717:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),v=t(83419),a=t(50792),r=t(79291),n=t(29747),e=function(){return!1},s=function(){return null},o=function(){return this},i=new v({Extends:a,initialize:function(u,f,d){d===void 0&&(d={}),a.call(this),this.manager=u,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:o,setVolume:o,setRate:o,setDetune:o,setSeek:o,setLoop:o,setPan:o,applyConfig:s,resetConfig:s,update:n,calculateRate:s,destroy:function(){h.prototype.destroy.call(this)}});p.exports=i},25960:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85034),v=t(83419),a=t(50792),r=t(4603),n=t(29747),e=new v({Extends:a,initialize:function(o){a.call(this),this.game=o,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,o){var i=new r(this,s,o);return this.sounds.push(i),i},addAudioSprite:function(s,o){var i=this.add(s,o);return i.spritemap={},i},get:function(s){return h.prototype.get.call(this,s)},getAll:function(s){return h.prototype.getAll.call(this,s)},play:function(s,o){return!1},playAudioSprite:function(s,o,i){return!1},remove:function(s){return h.prototype.remove.call(this,s)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(s){return h.prototype.removeByKey.call(this,s)},stopByKey:function(s){return h.prototype.stopByKey.call(this,s)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(s,o){h.prototype.forEachActiveSound.call(this,s,o)},destroy:function(){h.prototype.destroy.call(this)}});p.exports=e},71741:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30341),v=t(83419),a=t(14463),r=t(95540),n=new v({Extends:h,initialize:function(s,o,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(o),!this.audioBuffer)throw new Error('Audio key "'+o+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,s,o,i)},play:function(e,s){return h.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,o=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,l=this.duration-e;this.playTime=o-e,this.startTime=o,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,o),Math.max(0,i),Math.max(0,l)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,o=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,o))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(o){var i=o.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=r(e,"panningModel","equalpower"),s.distanceModel=r(e,"distanceModel","inverse"),s.orientationX.value=r(e,"orientationX",0),s.orientationY.value=r(e,"orientationY",0),s.orientationZ.value=r(e,"orientationZ",-1),s.refDistance=r(e,"refDistance",1),s.maxDistance=r(e,"maxDistance",1e4),s.rolloffFactor=r(e,"rolloffFactor",1),s.coneInnerAngle=r(e,"coneInnerAngle",360),s.coneOuterAngle=r(e,"coneOuterAngle",0),s.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(s.positionX.value=r(e,"x",0),s.positionY.value=r(e,"y",0),s.positionZ.value=r(e,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),s=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var o=0;s<this.rateUpdates.length-1?o=this.rateUpdates[s+1].time:o=this.manager.context.currentTime-this.playTime,e+=(o-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var o=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+o.time+(this.duration-e)/o.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},57490:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53134),v=t(85034),a=t(83419),r=t(14463),n=t(8443),e=t(71741),s=t(95540),o=new a({Extends:v,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",v.call(this,l),this.locked&&(l.isBooted?this.unlock():l.events.once(n.BOOT,this.unlock,this)),l.events.on(n.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var i=this.context;window.setTimeout(function(){i&&(i.suspend(),i.resume())},100)},createAudioContext:function(i){var l=i.config.audio;if(l.context)return l.context.resume(),l.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,l){var u=new e(this,i,l);return this.sounds.push(u),u},decodeAudio:function(i,l){var u;Array.isArray(i)?u=i:u=[{key:i,data:l}];for(var f=this.game.cache.audio,d=u.length,c=0;c<u.length;c++){var g=u[c],m=g.key,y=g.data;typeof y=="string"&&(y=h(y));var T=(function(C,P){f.add(C,P),this.emit(r.DECODED,C),d--,d===0&&this.emit(r.DECODED_ALL)}).bind(this,m),S=(function(C,P){console.error("Error decoding audio: "+C+" - ",P?P.message:""),d--,d===0&&this.emit(r.DECODED_ALL)}).bind(this,m);this.context.decodeAudioData(y,T,S)}},setListenerPosition:function(i,l){return i===void 0&&(i=this.game.scale.width/2),l===void 0&&(l=this.game.scale.height/2),this.listenerPosition.set(i,l),this},unlock:function(){var i=this,l=document.body,u=function f(){if(i.context&&l){var d=l.removeEventListener.bind(l);i.context.resume().then(function(){d("touchstart",f),d("touchend",f),d("mousedown",f),d("mouseup",f),d("keydown",f),i.unlocked=!0},function(){d("touchstart",f),d("touchend",f),d("mousedown",f),d("mouseup",f),d("keydown",f)})}};l&&(l.addEventListener("touchstart",u,!1),l.addEventListener("touchend",u,!1),l.addEventListener("mousedown",u,!1),l.addEventListener("mouseup",u,!1),l.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,l){var u=this.context.listener;if(u&&u.positionX!==void 0){var f=s(this.listenerPosition,"x",null),d=s(this.listenerPosition,"y",null);f&&f!==this._spatialx&&(this._spatialx=u.positionX.value=f),d&&d!==this._spatialy&&(this._spatialy=u.positionY.value=d)}v.prototype.update.call(this,i,l),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}this.game.events.off(n.VISIBLE,this.onGameVisible,this),v.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});p.exports=o},73162:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37105),v=t(83419),a=t(29747),r=t(19186),n=new v({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,s){return s?h.Add(this.list,e):h.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,o){return o?h.AddAt(this.list,e,s):h.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(o,i){return o[e]-i[e]}),r(this.list,s),this):this},getByName:function(e){return h.GetFirst(this.list,"name",e)},getRandom:function(e,s){return h.GetRandom(this.list,e,s)},getFirst:function(e,s,o,i){return h.GetFirst(this.list,e,s,o,i)},getAll:function(e,s,o,i){return h.GetAll(this.list,e,s,o,i)},count:function(e,s){return h.CountAllMatching(this.list,e,s)},swap:function(e,s){h.Swap(this.list,e,s)},moveTo:function(e,s){return h.MoveTo(this.list,e,s)},moveAbove:function(e,s){return h.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return h.MoveBelow(this.list,e,s)},remove:function(e,s){return s?h.Remove(this.list,e):h.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?h.RemoveAt(this.list,e):h.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,o){return o?h.RemoveBetween(this.list,e,s):h.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return h.BringToTop(this.list,e)},sendToBack:function(e){return h.SendToBack(this.list,e)},moveUp:function(e){return h.MoveUp(this.list,e),e},moveDown:function(e){return h.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(e,s){return h.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,o,i){return h.SetAll(this.list,e,s,o,i),this},each:function(e,s){for(var o=[null],i=2;i<arguments.length;i++)o.push(arguments[i]);for(i=0;i<this.list.length;i++)o[0]=this.list[i],e.apply(s,o)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=n},90330:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var n in r)if(a(n,r[n])===!1)break;return this},contains:function(a){var r=this.entries;for(var n in r)if(r[n]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var n=this.entries,e=a.entries;for(var s in e)n.hasOwnProperty(s)&&r?n[s]=e[s]:this.set(s,e[s]);return this}});p.exports=v},25774:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(82348),r=new h({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,s=e.indexOf(n);s!==-1&&e.splice(s,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,s=n.length;s--;)e.push(n[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,s,o;for(s=0;s<n.length;s++){o=n[s];var i=e.indexOf(o);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,o))}for(n.length=0,n=this._pending,s=0;s<n.length;s++)o=n[s],(!this.checkQueue||this.checkQueue&&e.indexOf(o)===-1)&&(e.push(o),this.emit(a.PROCESS_QUEUE_ADD,o));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},59542:(p,x,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43886);function v(y){if(!(this instanceof v))return new v(y);this._maxEntries=Math.max(4,y||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(y){var T=this.data,S=[],C=this.toBBox;if(!c(y,T))return S;for(var P=[],b,w,M,D;T;){for(b=0,w=T.children.length;b<w;b++)M=T.children[b],D=T.leaf?C(M):M,c(y,D)&&(T.leaf?S.push(M):d(y,D)?this._all(M,S):P.push(M));T=P.pop()}return S},collides:function(y){var T=this.data,S=this.toBBox;if(!c(y,T))return!1;for(var C=[],P,b,w,M;T;){for(P=0,b=T.children.length;P<b;P++)if(w=T.children[P],M=T.leaf?S(w):w,c(y,M)){if(T.leaf||d(y,M))return!0;C.push(w)}T=C.pop()}return!1},load:function(y){if(!(y&&y.length))return this;if(y.length<this._minEntries){for(var T=0,S=y.length;T<S;T++)this.insert(y[T]);return this}var C=this._build(y.slice(),0,y.length-1,0);if(!this.data.children.length)this.data=C;else if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var P=this.data;this.data=C,C=P}this._insert(C,this.data.height-C.height-1,!0)}return this},insert:function(y){return y&&this._insert(y,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(y,T){if(!y)return this;for(var S=this.data,C=this.toBBox(y),P=[],b=[],w,M,D,O;S||P.length;){if(S||(S=P.pop(),M=P[P.length-1],w=b.pop(),O=!0),S.leaf&&(D=a(y,S.children,T),D!==-1))return S.children.splice(D,1),P.push(S),this._condense(P),this;!O&&!S.leaf&&d(S,C)?(P.push(S),b.push(w),w=0,M=S,S=S.children[0]):M?(w++,S=M.children[w],O=!1):S=null}return this},toBBox:function(y){return y},compareMinX:s,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(y){return this.data=y,this},_all:function(y,T){for(var S=[];y;)y.leaf?T.push.apply(T,y.children):S.push.apply(S,y.children),y=S.pop();return T},_build:function(y,T,S,C){var P=S-T+1,b=this._maxEntries,w;if(P<=b)return w=g(y.slice(T,S+1)),r(w,this.toBBox),w;C||(C=Math.ceil(Math.log(P)/Math.log(b)),b=Math.ceil(P/Math.pow(b,C-1))),w=g([]),w.leaf=!1,w.height=C;var M=Math.ceil(P/b),D=M*Math.ceil(Math.sqrt(b)),O,U,W,Y;for(m(y,T,S,D,this.compareMinX),O=T;O<=S;O+=D)for(W=Math.min(O+D-1,S),m(y,O,W,M,this.compareMinY),U=O;U<=W;U+=M)Y=Math.min(U+M-1,W),w.children.push(this._build(y,U,Y,C-1));return r(w,this.toBBox),w},_chooseSubtree:function(y,T,S,C){for(var P,b,w,M,D,O,U,W;C.push(T),!(T.leaf||C.length-1===S);){for(U=W=1/0,P=0,b=T.children.length;P<b;P++)w=T.children[P],D=i(w),O=u(y,w)-D,O<W?(W=O,U=D<U?D:U,M=w):O===W&&D<U&&(U=D,M=w);T=M||T.children[0]}return T},_insert:function(y,T,S){var C=this.toBBox,P=S?y:C(y),b=[],w=this._chooseSubtree(P,this.data,T,b);for(w.children.push(y),e(w,P);T>=0&&b[T].children.length>this._maxEntries;)this._split(b,T),T--;this._adjustParentBBoxes(P,b,T)},_split:function(y,T){var S=y[T],C=S.children.length,P=this._minEntries;this._chooseSplitAxis(S,P,C);var b=this._chooseSplitIndex(S,P,C),w=g(S.children.splice(b,S.children.length-b));w.height=S.height,w.leaf=S.leaf,r(S,this.toBBox),r(w,this.toBBox),T?y[T-1].children.push(w):this._splitRoot(S,w)},_splitRoot:function(y,T){this.data=g([y,T]),this.data.height=y.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(y,T,S){var C,P,b,w,M,D,O,U;for(D=O=1/0,C=T;C<=S-T;C++)P=n(y,0,C,this.toBBox),b=n(y,C,S,this.toBBox),w=f(P,b),M=i(P)+i(b),w<D?(D=w,U=C,O=M<O?M:O):w===D&&M<O&&(O=M,U=C);return U},_chooseSplitAxis:function(y,T,S){var C=y.leaf?this.compareMinX:s,P=y.leaf?this.compareMinY:o,b=this._allDistMargin(y,T,S,C),w=this._allDistMargin(y,T,S,P);b<w&&y.children.sort(C)},_allDistMargin:function(y,T,S,C){y.children.sort(C);var P=this.toBBox,b=n(y,0,T,P),w=n(y,S-T,S,P),M=l(b)+l(w),D,O;for(D=T;D<S-T;D++)O=y.children[D],e(b,y.leaf?P(O):O),M+=l(b);for(D=S-T-1;D>=T;D--)O=y.children[D],e(w,y.leaf?P(O):O),M+=l(w);return M},_adjustParentBBoxes:function(y,T,S){for(var C=S;C>=0;C--)e(T[C],y)},_condense:function(y){for(var T=y.length-1,S;T>=0;T--)y[T].children.length===0?T>0?(S=y[T-1].children,S.splice(S.indexOf(y[T]),1)):this.clear():r(y[T],this.toBBox)},compareMinX:function(y,T){return y.left-T.left},compareMinY:function(y,T){return y.top-T.top},toBBox:function(y){return{minX:y.left,minY:y.top,maxX:y.right,maxY:y.bottom}}};function a(y,T,S){if(!S)return T.indexOf(y);for(var C=0;C<T.length;C++)if(S(y,T[C]))return C;return-1}function r(y,T){n(y,0,y.children.length,T,y)}function n(y,T,S,C,P){P||(P=g(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var b=T,w;b<S;b++)w=y.children[b],e(P,y.leaf?C(w):w);return P}function e(y,T){return y.minX=Math.min(y.minX,T.minX),y.minY=Math.min(y.minY,T.minY),y.maxX=Math.max(y.maxX,T.maxX),y.maxY=Math.max(y.maxY,T.maxY),y}function s(y,T){return y.minX-T.minX}function o(y,T){return y.minY-T.minY}function i(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function l(y){return y.maxX-y.minX+(y.maxY-y.minY)}function u(y,T){return(Math.max(T.maxX,y.maxX)-Math.min(T.minX,y.minX))*(Math.max(T.maxY,y.maxY)-Math.min(T.minY,y.minY))}function f(y,T){var S=Math.max(y.minX,T.minX),C=Math.max(y.minY,T.minY),P=Math.min(y.maxX,T.maxX),b=Math.min(y.maxY,T.maxY);return Math.max(0,P-S)*Math.max(0,b-C)}function d(y,T){return y.minX<=T.minX&&y.minY<=T.minY&&T.maxX<=y.maxX&&T.maxY<=y.maxY}function c(y,T){return T.minX<=y.maxX&&T.minY<=y.maxY&&T.maxX>=y.minX&&T.maxY>=y.minY}function g(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(y,T,S,C,P){for(var b=[T,S],w;b.length;)S=b.pop(),T=b.pop(),!(S-T<=C)&&(w=T+Math.ceil((S-T)/C/2)*C,h(y,w,T,S,P),b.push(T,w,w,S))}p.exports=v},35072:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var n,e=this.entries.slice(),s=e.length;if(r)for(n=0;n<s&&a.call(r,e[n],n)!==!1;n++);else for(n=0;n<s&&a(e[n],n)!==!1;n++);return this},iterate:function(a,r){var n,e=this.entries.length;if(r)for(n=0;n<e&&a.call(r,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&a(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(a){var r,n=[];for(r=1;r<arguments.length;r++)n.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var s=this.entries[r];s[a].apply(s,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new v;return a.entries.forEach(function(n){r.set(n)}),this.entries.forEach(function(n){r.set(n)}),r},intersect:function(a){var r=new v;return this.entries.forEach(function(n){a.contains(n)&&r.set(n)}),r},difference:function(a){var r=new v;return this.entries.forEach(function(n){a.contains(n)||r.set(n)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});p.exports=v},86555:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45319),v=t(83419),a=t(56583),r=t(26099),n=new v({initialize:function(s,o,i,l){s===void 0&&(s=0),o===void 0&&(o=s),i===void 0&&(i=0),l===void 0&&(l=null),this._width=s,this._height=o,this._parent=l,this.aspectMode=i,this.aspectRatio=o===0?1:s/o,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=h(e,0,this.maxWidth),this.minHeight=h(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=h(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,s,!0);break;case n.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=h(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=h(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,o){e===void 0&&(e=0),s===void 0&&(s=e),o===void 0&&(o=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,l=s===0?1:e/s;return o&&this.aspectRatio>l||!o&&this.aspectRatio<l?(e=a(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=a(s,i.y),e=s*this.aspectRatio)):(o&&this.aspectRatio<l||!o&&this.aspectRatio>l)&&(s=a(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=a(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,p.exports=n},15238:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},56187:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},82348:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(45319),a=t(40987),r=t(8054),n=t(50030),e=t(79237),s=new h({Extends:e,initialize:function(i,l,u,f,d){e.call(this,i,l,u,f,d),this.add("__BASE",0,0,0,f,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=f,this.height=d,this.imageData=this.context.getImageData(0,0,f,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(o,i,l,u){return u===void 0&&(u=!0),this.context.drawImage(l,o,i),u&&this.update(),this},drawFrame:function(o,i,l,u,f){l===void 0&&(l=0),u===void 0&&(u=0),f===void 0&&(f=!0);var d=this.manager.getFrame(o,i);if(d){var c=d.canvasData,g=d.cutWidth,m=d.cutHeight,y=d.source.resolution;this.context.drawImage(d.source.image,c.x,c.y,g,m,l,u,g/y,m/y),f&&this.update()}return this},setPixel:function(o,i,l,u,f,d){d===void 0&&(d=255),o=Math.abs(Math.floor(o)),i=Math.abs(Math.floor(i));var c=this.getIndex(o,i);if(c>-1){var g=this.context.getImageData(o,i,1,1);g.data[0]=l,g.data[1]=u,g.data[2]=f,g.data[3]=d,this.context.putImageData(g,o,i)}return this},putData:function(o,i,l,u,f,d,c){return u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=o.width),c===void 0&&(c=o.height),this.context.putImageData(o,i,l,u,f,d,c),this},getData:function(o,i,l,u){o=v(Math.floor(o),0,this.width-1),i=v(Math.floor(i),0,this.height-1),l=v(l,1,this.width-o),u=v(u,1,this.height-i);var f=this.context.getImageData(o,i,l,u);return f},getPixel:function(o,i,l){l||(l=new a);var u=this.getIndex(o,i);if(u>-1){var f=this.data,d=f[u+0],c=f[u+1],g=f[u+2],m=f[u+3];l.setTo(d,c,g,m)}return l},getPixels:function(o,i,l,u){o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=l),o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i));for(var f=v(o,0,this.width),d=v(o+l,0,this.width),c=v(i,0,this.height),g=v(i+u,0,this.height),m=new a,y=[],T=c;T<g;T++){for(var S=[],C=f;C<d;C++)m=this.getPixel(C,T,m),S.push({x:C,y:T,color:m.color,alpha:m.alphaGL});y.push(S)}return y},getIndex:function(o,i){return o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i)),o<this.width&&i<this.height?(o+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(o,i,l,u,f){return o===void 0&&(o=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=this.height),f===void 0&&(f=!0),this.context.clearRect(o,i,l,u),f&&this.update(),this},setSize:function(o,i){return i===void 0&&(i=o),(o!==this.width||i!==this.height)&&(this.canvas.width=o,this.canvas.height=i,this._source.width=o,this._source.height=i,this._source.isPowerOf2=n(o,i),this.frames.__BASE.setSize(o,i,0,0),this.width=o,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=s},81320:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10312),v=t(38058),a=t(27919),r=t(83419),n=t(8054),e=t(4327),s=t(95540),o=t(36060),i=t(32302),l=t(79237),u=t(70554),f=new r({Extends:l,initialize:function(c,g,m,y,T){m===void 0&&(m=256),y===void 0&&(y=256),T===void 0&&(T=!0),this.type="DynamicTexture";var S=c.game.renderer,C=S&&S.type===n.CANVAS,P=C?a.create2D(this,m,y):[this];l.call(this,c,g,P,m,y),this.add("__BASE",0,0,0,m,y),this.renderer=S,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=C?P:null,this.context=C?P.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,m,y).setScene(c.game.scene.systemScene,!1),this.renderTarget=C?null:new i(S,m,y,1,0,!1,!1,!0,!1),this.pipeline=C?null:S.pipelines.get(o.SINGLE_PIPELINE),this.setSize(m,y,T)},setSize:function(d,c,g){c===void 0&&(c=d),g===void 0&&(g=!0),g&&(d=Math.floor(d),c=Math.floor(c),d%2!==0&&d++,c%2!==0&&c++);var m=this.get(),y=m.source;if(d!==this.width||c!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=c);var T=this.renderTarget;T&&(T.willResize(d,c)&&T.resize(d,c),T.texture!==y.glTexture&&this.renderer.deleteTexture(y.glTexture),this.setFromRenderTarget()),this.camera.setSize(d,c),y.width=d,y.height=c,m.setSize(d,c),this.width=d,this.height=c}else{var S=this.getSourceImage();m.cutX+d>S.width&&(d=S.width-m.cutX),m.cutY+c>S.height&&(c=S.height-m.cutY),m.setSize(d,c,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var d=this.get(),c=d.source,g=this.renderTarget;return c.isRenderTexture=!0,c.isGLTexture=!0,c.glTexture=g.texture,this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,c,g,m,y,T){var S=this.camera,C=this.renderer;c===void 0&&(c=1),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height);var P=d>>16&255,b=d>>8&255,w=d&255,M=this.renderTarget;if(S.preRender(),M){M.bind(!0);var D=this.pipeline.manager.set(this.pipeline),O=C.width/M.width,U=C.height/M.height,W=M.height-(m+T);D.drawFillRect(g*O,W*U,y*O,T*U,u.getTintFromFloats(w/255,b/255,P/255,1),c),M.unbind(!0)}else{var Y=this.context;C.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+P+","+b+","+w+","+c+")",Y.fillRect(g,m,y,T),C.setContext()}return this.dirty=!0,this},clear:function(d,c,g,m){if(this.dirty){var y=this.context,T=this.renderTarget;T?T.clear(d,c,g,m):y&&(d!==void 0&&c!==void 0&&g!==void 0&&m!==void 0?y.clearRect(d,c,g,m):(y.save(),y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,this.width,this.height),y.restore())),this.dirty=!1}return this},stamp:function(d,c,g,m,y){g===void 0&&(g=0),m===void 0&&(m=0);var T=s(y,"alpha",1),S=s(y,"tint",16777215),C=s(y,"angle",0),P=s(y,"rotation",0),b=s(y,"scale",1),w=s(y,"scaleX",b),M=s(y,"scaleY",b),D=s(y,"originX",.5),O=s(y,"originY",.5),U=s(y,"blendMode",0),W=s(y,"erase",!1),Y=s(y,"skipBatch",!1),X=this.manager.resetStamp(T,S);return X.setAngle(0),C!==0?X.setAngle(C):P!==0&&X.setRotation(P),X.setScale(w,M),X.setTexture(d,c),X.setOrigin(D,O),X.setBlendMode(U),W&&(this._eraseMode=!0),Y?this.batchGameObject(X,g,m):this.draw(X,g,m),W&&(this._eraseMode=!1),this},erase:function(d,c,g){return this._eraseMode=!0,this.draw(d,c,g),this._eraseMode=!1,this},draw:function(d,c,g,m,y){return this.beginDraw(),this.batchDraw(d,c,g,m,y),this.endDraw(),this},drawFrame:function(d,c,g,m,y,T){return this.beginDraw(),this.batchDrawFrame(d,c,g,m,y,T),this.endDraw(),this},repeat:function(d,c,g,m,y,T,S,C,P){if(g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height),S===void 0&&(S=1),C===void 0&&(C=16777215),P===void 0&&(P=!1),d instanceof e?c=d:c=this.manager.getFrame(d,c),!c)return this;var b=this.manager.resetStamp(S,C);b.setFrame(c),b.setOrigin(0);var w=c.width,M=c.height;y=Math.floor(y),T=Math.floor(T);var D=Math.ceil(y/w),O=Math.ceil(T/M),U=D*w-y,W=O*M-T;U>0&&(U=w-U),W>0&&(W=M-W),g<0&&(D+=Math.ceil(Math.abs(g)/w)),m<0&&(O+=Math.ceil(Math.abs(m)/M));var Y=g,X=m,N=!1,V=this.manager.stampCrop.setTo(0,0,w,M);P||this.beginDraw();for(var I=0;I<O;I++){if(X+M<0){X+=M;continue}for(var B=0;B<D;B++){if(N=!1,Y+w<0){Y+=w;continue}else Y<0&&(N=!0,V.width=w+Y,V.x=w-V.width);X<0&&(N=!0,V.height=M+X,V.y=M-V.height),U>0&&B===D-1&&(N=!0,V.width=U),W>0&&I===O-1&&(N=!0,V.height=W),N&&b.setCrop(V),this.batchGameObject(b,Y,X),b.isCropped=!1,V.setTo(0,0,w,M),Y+=w}Y=g,X+=M}return P||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,c=this.renderer,g=this.renderTarget;d.preRender(),g?c.beginCapture(g.width,g.height):c.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,c,g,m,y){return Array.isArray(d)||(d=[d]),this.batchList(d,c,g,m,y),this},batchDrawFrame:function(d,c,g,m,y,T){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=1),T===void 0&&(T=16777215);var S=this.manager.getFrame(d,c);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,g,m,T,y,this.camera.matrix,null):this.batchTextureFrame(S,g,m,y,T)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var c=this.renderer,g=this.renderTarget;if(g){var m=c.endCapture(),y=c.pipelines.setUtility();y.blitFrame(m,g,1,!1,!1,d,this.isSpriteTexture),c.resetScissor(),c.resetViewport()}else c.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,c,g,m,y){var T=d.length;if(T!==0)for(var S=0;S<T;S++){var C=d[S];!C||C===this||(C.renderWebGL||C.renderCanvas?this.batchGameObject(C,c,g):C.isParent||C.list?this.batchGroup(C.getChildren(),c,g):typeof C=="string"?this.batchTextureFrameKey(C,null,c,g,m,y):C instanceof e?this.batchTextureFrame(C,c,g,m,y):Array.isArray(C)&&this.batchList(C,c,g,m,y))}},batchGroup:function(d,c,g){c===void 0&&(c=0),g===void 0&&(g=0);for(var m=0;m<d.length;m++){var y=d[m];y.willRender(this.camera)&&this.batchGameObject(y,y.x+c,y.y+g)}},batchGameObject:function(d,c,g){c===void 0&&(c=d.x),g===void 0&&(g=d.y);var m=d.x,y=d.y,T=this.camera,S=this.renderer,C=this._eraseMode,P=d.mask;if(d.setPosition(c,g),this.canvas){if(C){var b=d.blendMode;d.blendMode=h.ERASE}P&&P.preRenderCanvas(S,d,T),d.renderCanvas(S,d,T,null),P&&P.postRenderCanvas(S,d,T),C&&(d.blendMode=b)}else S&&(P&&P.preRenderWebGL(S,d,T),C||S.setBlendMode(d.blendMode),d.renderWebGL(S,d,T),P&&P.postRenderWebGL(S,T,this.renderTarget));d.setPosition(m,y)},batchTextureFrameKey:function(d,c,g,m,y,T){var S=this.manager.getFrame(d,c);S&&this.batchTextureFrame(S,g,m,y,T)},batchTextureFrame:function(d,c,g,m,y){c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=1),y===void 0&&(y=16777215);var T=this.camera.matrix,S=this.renderTarget;if(S)this.pipeline.batchTextureFrame(d,c,g,y,m,T,null);else{var C=this.context,P=d.canvasData,b=d.source.image;C.save(),C.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",C.globalAlpha=m,T.setToContext(C),P.width>0&&P.height>0&&C.drawImage(b,P.x,P.y,P.width,P.height,c,g,P.width,P.height),C.restore()}},snapshotArea:function(d,c,g,m,y,T,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,d,c,g,m,T,S):this.renderer.snapshotCanvas(this.canvas,y,!1,d,c,g,m,T,S),this},snapshot:function(d,c,g){return this.snapshotArea(0,0,this.width,this.height,d,c,g)},snapshotPixel:function(d,c,g){return this.snapshotArea(d,c,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,c,g,m){var y=this.manager.resetStamp();y.setTexture(this),y.setOrigin(0),y.renderWebGL(d,y,g,m)},renderCanvas:function(){},destroy:function(){var d=this.manager.stamp;d&&d.texture===this&&this.manager.resetStamp(),l.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});p.exports=f},4327:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(45319),a=t(79291),r=new h({initialize:function(e,s,o,i,l,u,f){this.texture=e,this.name=s,this.source=e.source[o],this.sourceIndex=o,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,f,i,l)},setCutPosition:function(n,e){return n===void 0&&(n=0),e===void 0&&(e=0),this.cutX=n,this.cutY=e,this.updateUVs()},setCutSize:function(n,e){return this.cutWidth=n,this.cutHeight=e,this.updateUVs()},setSize:function(n,e,s,o){s===void 0&&(s=0),o===void 0&&(o=0),this.setCutPosition(s,o),this.setCutSize(n,e),this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var i=this.data,l=i.cut;l.x=s,l.y=o,l.w=n,l.h=e,l.r=s+n,l.b=o+e,i.sourceSize.w=n,i.sourceSize.h=e,i.spriteSourceSize.w=n,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(n*n+e*e);var u=i.drawImage;return u.x=s,u.y=o,u.width=n,u.height=e,this.updateUVs()},setTrim:function(n,e,s,o,i,l){var u=this.data,f=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=n,u.sourceSize.h=e,f.x=s,f.y=o,f.w=i,f.h=l,f.r=s+i,f.b=o+l,this.x=s,this.y=o,this.width=i,this.height=l,this.halfWidth=i*.5,this.halfHeight=l*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(l/2),this.updateUVs()},setScale9:function(n,e,s,o){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&o===this.height,i.scale9Borders.x=n,i.scale9Borders.y=e,i.scale9Borders.w=s,i.scale9Borders.h=o,this},setCropUVs:function(n,e,s,o,i,l,u){var f=this.cutX,d=this.cutY,c=this.cutWidth,g=this.cutHeight,m=this.realWidth,y=this.realHeight;e=v(e,0,m),s=v(s,0,y),o=v(o,0,m-e),i=v(i,0,y-s);var T=f+e,S=d+s,C=o,P=i,b=this.data;if(b.trim){var w=b.spriteSourceSize;o=v(o,0,w.x+c-e),i=v(i,0,w.y+g-s);var M=e+o,D=s+i,O=!(w.r<e||w.b<s||w.x>M||w.y>D);if(O){var U=Math.max(w.x,e),W=Math.max(w.y,s),Y=Math.min(w.r,M)-U,X=Math.min(w.b,D)-W;C=Y,P=X,l?T=f+(c-(U-w.x)-Y):T=f+(U-w.x),u?S=d+(g-(W-w.y)-X):S=d+(W-w.y),e=U,s=W,o=Y,i=X}else T=0,S=0,C=0,P=0}else l&&(T=f+(c-e-o)),u&&(S=d+(g-s-i));var N=this.source.width,V=this.source.height;return n.u0=Math.max(0,T/N),n.v0=Math.max(0,S/V),n.u1=Math.min(1,(T+C)/N),n.v1=Math.min(1,(S+P)/V),n.x=e,n.y=s,n.cx=T,n.cy=S,n.cw=C,n.ch=P,n.width=o,n.height=i,n.flipX=l,n.flipY=u,n},updateCropUVs:function(n,e,s){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,s)},setUVs:function(n,e,s,o,i,l){var u=this.data.drawImage;return u.width=n,u.height=e,this.u0=s,this.v0=o,this.u1=i,this.v1=l,this},updateUVs:function(){var n=this.cutX,e=this.cutY,s=this.cutWidth,o=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=o;var l=this.source.width,u=this.source.height;return this.u0=n/l,this.v0=e/u,this.u1=(n+s)/l,this.v1=(e+o)/u,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new r(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=a(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},79237:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(4327),a=t(11876),r='Texture "%s" has no frame "%s"',n=new h({initialize:function(s,o,i,l,u){Array.isArray(i)||(i=[i]),this.manager=s,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var f=0;f<i.length;f++)this.source.push(new a(this,i[f],l,u))},add:function(e,s,o,i,l,u){if(this.has(e))return null;var f=new v(this,e,s,o,i,l,u);return this.frames[e]=f,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,f},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(r,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var o=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var l=this.frames[i];l.sourceIndex===e&&o.push(l)}return o},getFrameBounds:function(e){e===void 0&&(e=0);for(var s=this.getFramesFromTextureSource(e,!0),o=s[0],i=o.cutX,l=o.cutY,u=o.cutX+o.cutWidth,f=o.cutY+o.cutHeight,d=1;d<s.length;d++){var c=s[d];c.cutX<i&&(i=c.cutX),c.cutY<l&&(l=c.cutY),c.cutX+c.cutWidth>u&&(u=c.cutX+c.cutWidth),c.cutY+c.cutHeight>f&&(f=c.cutY+c.cutHeight)}return{x:i,y:l,width:u-i,height:f-l}},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var o=s.indexOf("__BASE");o!==-1&&s.splice(o,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],o;return s?o=s.sourceIndex:(console.warn(r,this.key,e),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var o=this.source[s];this.dataSource.push(new a(this,e[s],o.width,o.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,o=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<o.length;e++)o[e]&&o[e].destroy();for(var i in this.frames){var l=this.frames[i];l&&l.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=n},17130:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),v=t(57382),a=t(83419),r=t(40987),n=t(8054),e=t(81320),s=t(50792),o=t(69442),i=t(4327),l=t(8443),u=t(99584),f=t(35154),d=t(88571),c=t(41212),g=t(61309),m=t(87841),y=t(79237),T=new a({Extends:s,initialize:function(C){s.call(this),this.game=C,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new m,this.silentWarnings=!1,C.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(o.LOAD,this.updatePending,this),this.on(o.ERROR,this.updatePending,this);var S=this.game.config;S.defaultImage!==null&&this.addBase64("__DEFAULT",S.defaultImage),S.missingImage!==null&&this.addBase64("__MISSING",S.missingImage),S.whiteImage!==null&&this.addBase64("__WHITE",S.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(l.DESTROY,this.destroy,this),this.game.events.once(l.SYSTEM_READY,function(C){this.stamp=new d(C).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(o.LOAD),this.off(o.ERROR),this.emit(o.READY))},checkKey:function(S){return!S||typeof S!="string"||this.exists(S)?(this.silentWarnings||console.error("Texture key already in use: "+S),!1):!0},remove:function(S){if(typeof S=="string")if(this.exists(S))S=this.get(S);else return this.silentWarnings||console.warn("No texture found matching key: "+S),this;var C=S.key;return this.list.hasOwnProperty(C)&&(S.destroy(),this.emit(o.REMOVE,C),this.emit(o.REMOVE_KEY+C)),this},removeKey:function(S){return this.list.hasOwnProperty(S)&&delete this.list[S],this},addBase64:function(S,C){if(this.checkKey(S)){var P=this,b=new Image;b.onerror=function(){P.emit(o.ERROR,S)},b.onload=function(){var w=P.create(S,b);w&&(g.Image(w,0),P.emit(o.ADD,S,w),P.emit(o.ADD_KEY+S,w),P.emit(o.LOAD,S,w))},b.src=C}return this},getBase64:function(S,C,P,b){P===void 0&&(P="image/png"),b===void 0&&(b=.92);var w="",M=this.getFrame(S,C);if(M&&(M.source.isRenderTexture||M.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(M){var D=M.canvasData,O=h.create2D(this,D.width,D.height),U=O.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&U.drawImage(M.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),w=O.toDataURL(P,b),h.remove(O)}return w},addImage:function(S,C,P){var b=null;return this.checkKey(S)&&(b=this.create(S,C),g.Image(b,0),P&&b.setDataSource(P),this.emit(o.ADD,S,b),this.emit(o.ADD_KEY+S,b)),b},addGLTexture:function(S,C){var P=null;if(this.checkKey(S)){var b=C.width,w=C.height;P=this.create(S,C,b,w),P.add("__BASE",0,0,0,b,w),this.emit(o.ADD,S,P),this.emit(o.ADD_KEY+S,P)}return P},addCompressedTexture:function(S,C,P){var b=null;if(this.checkKey(S)){if(b=this.create(S,C),b.add("__BASE",0,0,0,C.width,C.height),P){var w=function(D,O,U){Array.isArray(U.textures)||Array.isArray(U.frames)?g.JSONArray(D,O,U):g.JSONHash(D,O,U)};if(Array.isArray(P))for(var M=0;M<P.length;M++)w(b,M,P[M]);else w(b,0,P)}this.emit(o.ADD,S,b),this.emit(o.ADD_KEY+S,b)}return b},addRenderTexture:function(S,C){var P=null;return this.checkKey(S)&&(P=this.create(S,C),P.add("__BASE",0,0,0,C.width,C.height),this.emit(o.ADD,S,P),this.emit(o.ADD_KEY+S,P)),P},generate:function(S,C){if(this.checkKey(S)){var P=h.create(this,1,1);return C.canvas=P,u(C),this.addCanvas(S,P)}else return null},createCanvas:function(S,C,P){if(C===void 0&&(C=256),P===void 0&&(P=256),this.checkKey(S)){var b=h.create(this,C,P,n.CANVAS,!0);return this.addCanvas(S,b)}return null},addCanvas:function(S,C,P){P===void 0&&(P=!1);var b=null;return P?b=new v(this,S,C,C.width,C.height):this.checkKey(S)&&(b=new v(this,S,C,C.width,C.height),this.list[S]=b,this.emit(o.ADD,S,b),this.emit(o.ADD_KEY+S,b)),b},addDynamicTexture:function(S,C,P){var b=null;return typeof S=="string"&&!this.exists(S)?b=new e(this,S,C,P):(b=S,S=b.key),this.checkKey(S)?(this.list[S]=b,this.emit(o.ADD,S,b),this.emit(o.ADD_KEY+S,b)):b=null,b},addAtlas:function(S,C,P,b){return Array.isArray(P.textures)||Array.isArray(P.frames)?this.addAtlasJSONArray(S,C,P,b):this.addAtlasJSONHash(S,C,P,b)},addAtlasJSONArray:function(S,C,P,b){var w=null;if(C instanceof y?(S=C.key,w=C):this.checkKey(S)&&(w=this.create(S,C)),w){if(Array.isArray(P))for(var M=P.length===1,D=0;D<w.source.length;D++){var O=M?P[0]:P[D];g.JSONArray(w,D,O)}else g.JSONArray(w,0,P);b&&w.setDataSource(b),this.emit(o.ADD,S,w),this.emit(o.ADD_KEY+S,w)}return w},addAtlasJSONHash:function(S,C,P,b){var w=null;if(C instanceof y?(S=C.key,w=C):this.checkKey(S)&&(w=this.create(S,C)),w){if(Array.isArray(P))for(var M=0;M<P.length;M++)g.JSONHash(w,M,P[M]);else g.JSONHash(w,0,P);b&&w.setDataSource(b),this.emit(o.ADD,S,w),this.emit(o.ADD_KEY+S,w)}return w},addAtlasXML:function(S,C,P,b){var w=null;return C instanceof y?(S=C.key,w=C):this.checkKey(S)&&(w=this.create(S,C)),w&&(g.AtlasXML(w,0,P),b&&w.setDataSource(b),this.emit(o.ADD,S,w),this.emit(o.ADD_KEY+S,w)),w},addUnityAtlas:function(S,C,P,b){var w=null;return C instanceof y?(S=C.key,w=C):this.checkKey(S)&&(w=this.create(S,C)),w&&(g.UnityYAML(w,0,P),b&&w.setDataSource(b),this.emit(o.ADD,S,w),this.emit(o.ADD_KEY+S,w)),w},addSpriteSheet:function(S,C,P,b){var w=null;if(C instanceof y?(S=C.key,w=C):this.checkKey(S)&&(w=this.create(S,C)),w){var M=w.source[0].width,D=w.source[0].height;g.SpriteSheet(w,0,0,0,M,D,P),b&&w.setDataSource(b),this.emit(o.ADD,S,w),this.emit(o.ADD_KEY+S,w)}return w},addSpriteSheetFromAtlas:function(S,C){if(!this.checkKey(S))return null;var P=f(C,"atlas",null),b=f(C,"frame",null);if(!(!P||!b)){var w=this.get(P),M=w.get(b);if(M){var D=M.source.image;D||(D=M.source.glTexture);var O=this.create(S,D);return M.trimmed?g.SpriteSheetFromAtlas(O,M,C):g.SpriteSheet(O,0,M.cutX,M.cutY,M.cutWidth,M.cutHeight,C),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O),O}}},addUint8Array:function(S,C,P,b){if(!this.checkKey(S)||C.length/4!==P*b)return null;var w=this.create(S,C,P,b);return w.add("__BASE",0,0,0,P,b),this.emit(o.ADD,S,w),this.emit(o.ADD_KEY+S,w),w},create:function(S,C,P,b){var w=null;return this.checkKey(S)&&(w=new y(this,S,C,P,b),this.list[S]=w),w},exists:function(S){return this.list.hasOwnProperty(S)},get:function(S){return S===void 0&&(S="__DEFAULT"),this.list[S]?this.list[S]:S instanceof y?S:S instanceof i?S.texture:this.list.__MISSING},cloneFrame:function(S,C){if(this.list[S])return this.list[S].get(C).clone()},getFrame:function(S,C){if(this.list[S])return this.list[S].get(C)},parseFrame:function(S){if(S){if(typeof S=="string")return this.getFrame(S);if(Array.isArray(S)&&S.length===2)return this.getFrame(S[0],S[1]);if(c(S))return this.getFrame(S.key,S.frame);if(S instanceof y)return S.get();if(S instanceof i)return S}else return},getTextureKeys:function(){var S=[];for(var C in this.list)C!=="__DEFAULT"&&C!=="__MISSING"&&C!=="__WHITE"&&C!=="__NORMAL"&&S.push(C);return S},getPixel:function(S,C,P,b){var w=this.getFrame(P,b);if(w){S-=w.x,C-=w.y;var M=w.data.cut;if(S+=M.x,C+=M.y,S>=M.x&&S<M.r&&C>=M.y&&C<M.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(w.source.image,S,C,1,1,0,0,1,1);var O=D.getImageData(0,0,1,1);return new r(O.data[0],O.data[1],O.data[2],O.data[3])}}return null},getPixelAlpha:function(S,C,P,b){var w=this.getFrame(P,b);if(w){S-=w.x,C-=w.y;var M=w.data.cut;if(S+=M.x,C+=M.y,S>=M.x&&S<M.r&&C>=M.y&&C<M.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(w.source.image,S,C,1,1,0,0,1,1);var O=D.getImageData(0,0,1,1);return O.data[3]}}return null},setTexture:function(S,C,P){return this.list[C]&&(S.texture=this.list[C],S.frame=S.texture.get(P)),S},renameTexture:function(S,C){var P=this.get(S);return P&&S!==C?(P.key=C,this.list[C]=P,delete this.list[S],!0):!1},each:function(S,C){for(var P=[null],b=1;b<arguments.length;b++)P.push(arguments[b]);for(var w in this.list)P[0]=this.list[w],S.apply(C,P)},resetStamp:function(S,C){S===void 0&&(S=1),C===void 0&&(C=16777215);var P=this.stamp;return P.setCrop(),P.setPosition(0),P.setAngle(0),P.setScale(1),P.setAlpha(S),P.setTint(C),P.setTexture("__WHITE"),P},destroy:function(){for(var S in this.list)this.list[S].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});p.exports=T},11876:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27919),v=t(83419),a=t(50030),r=t(29795),n=t(82751),e=new v({initialize:function(o,i,l,u,f){f===void 0&&(f=!1);var d=o.manager.game;this.renderer=d.renderer,this.texture=o,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=l||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof n,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(d)},init:function(s){var o=this.renderer;if(o){var i=this.source;if(o.gl){var l=this.image,u=this.flipY,f=this.width,d=this.height,c=this.scaleMode;this.isCanvas?this.glTexture=o.createCanvasTexture(l,!1,u):this.isVideo?this.glTexture=o.createVideoTexture(l,!1,u):this.isRenderTexture?this.glTexture=o.createTextureFromSource(null,f,d,c):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=o.createTextureFromSource(i,void 0,void 0,c):i instanceof Uint8Array?this.glTexture=o.createUint8ArrayTexture(i,f,d,c):this.glTexture=o.createTextureFromSource(l,f,d,c)}else this.isRenderTexture&&(this.image=i.canvas)}s.config.antialias||this.setFilter(1)},setFilter:function(s){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,s),this.scaleMode=s},setFlipY:function(s){return s===void 0&&(s=!0),s===this.flipY?this:(this.flipY=s,this.update(),this)},update:function(){var s=this.renderer,o=this.image,i=this.flipY,l=s.gl;l&&this.isCanvas?s.updateCanvasTexture(o,this.glTexture,i):l&&this.isVideo&&s.updateVideoTexture(o,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=e},19673:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};p.exports=x},44538:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},63486:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},94851:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},29099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},8678:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},86415:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},30879:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},69442:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),v=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:v,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=h(!1,a,v),p.exports=a},89905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[h];t.add("__BASE",h,0,0,a.width,a.height);for(var r=v.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var s=r[e].attributes,o=s.name.value,i=parseInt(s.x.value,10),l=parseInt(s.y.value,10),u=parseInt(s.width.value,10),f=parseInt(s.height.value,10);if(n=t.add(o,h,i,l,u,f),s.frameX){var d=Math.abs(parseInt(s.frameX.value,10)),c=Math.abs(parseInt(s.frameY.value,10)),g=parseInt(s.frameWidth.value,10),m=parseInt(s.frameHeight.value,10);n.setTrim(u,f,d,c,g,m)}}return t};p.exports=x},72893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.source[h];return t.add("__BASE",h,0,0,v.width,v.height),t};p.exports=x},4832:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.source[h];return t.add("__BASE",h,0,0,v.width,v.height),t};p.exports=x},78566:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),v=function(a,r,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var s=Array.isArray(n.textures)?n.textures[r].frames:n.frames,o,i=0;i<s.length;i++){var l=s[i];if(o=a.add(l.filename,r,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+l.filename);continue}l.trimmed&&o.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=l.anchor||l.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),l.scale9Borders&&o.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),o.customData=h(l)}for(var f in n)f!=="frames"&&(Array.isArray(n[f])?a.customData[f]=n[f].slice(0):a.customData[f]=n[f]);return a};p.exports=v},39711:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),v=function(a,r,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var s=n.frames,o;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];if(o=a.add(i,r,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+i);continue}l.trimmed&&o.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=l.anchor||l.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),l.scale9Borders&&o.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),o.customData=h(l)}for(var f in n)f!=="frames"&&(Array.isArray(n[f])?a.customData[f]=n[f].slice(0):a.customData[f]=n[f]);return a};p.exports=v},31403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],v,a=new Uint8Array(t,0,12);for(v=0;v<a.length;v++)if(a[v]!==h[v]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*r),e=n.getUint32(0,!0)===67305985,s=n.getUint32(1*r,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var o=n.getUint32(4*r,e),i=n.getUint32(6*r,e),l=n.getUint32(7*r,e),u=Math.max(1,n.getUint32(11*r,e)),f=n.getUint32(12*r,e),d=new Array(u),c=12+13*4+f,g=i,m=l;for(v=0;v<u;v++){var y=new Int32Array(t,c,1)[0];c+=4,d[v]={data:new Uint8Array(t,c,y),width:g,height:m},g=Math.max(1,g>>1),m=Math.max(1,m>>1),c+=y}return{mipmaps:d,width:i,height:l,internalFormat:o,compressed:!0,generateMipmap:!1}};p.exports=x},82038:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(C,P,b,w,M,D,O){return O===void 0&&(O=16),Math.floor((C+b)/M)*Math.floor((P+w)/D)*O}function t(C,P){return C=Math.max(C,16),P=Math.max(P,8),C*P/4}function h(C,P){return C=Math.max(C,8),P=Math.max(P,8),C*P/2}function v(C,P){return Math.ceil(C/4)*Math.ceil(P/4)*16}function a(C,P){return x(C,P,3,3,4,4,8)}function r(C,P){return x(C,P,3,3,4,4)}function n(C,P){return x(C,P,4,3,5,4)}function e(C,P){return x(C,P,4,4,5,5)}function s(C,P){return x(C,P,5,4,6,5)}function o(C,P){return x(C,P,5,5,6,6)}function i(C,P){return x(C,P,7,4,8,5)}function l(C,P){return x(C,P,7,5,8,6)}function u(C,P){return x(C,P,7,7,8,8)}function f(C,P){return x(C,P,9,4,10,5)}function d(C,P){return x(C,P,9,5,10,6)}function c(C,P){return x(C,P,9,7,10,8)}function g(C,P){return x(C,P,9,9,10,10)}function m(C,P){return x(C,P,11,9,12,10)}function y(C,P){return x(C,P,11,11,12,12)}var T={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:n,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:s,glFormat:[37811,37843]},31:{sizeFunc:o,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:l,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:f,glFormat:[37816,37848]},36:{sizeFunc:d,glFormat:[37817,37849]},37:{sizeFunc:c,glFormat:[37818,37850]},38:{sizeFunc:g,glFormat:[37819,37851]},39:{sizeFunc:m,glFormat:[37820,37852]},40:{sizeFunc:y,glFormat:[37821,37853]}},S=function(C){for(var P=new Uint32Array(C,0,13),b=P[0],w=b===55727696,M=w?P[2]:P[3],D=P[4],O=T[M].glFormat[D],U=T[M].sizeFunc,W=P[11],Y=P[7],X=P[6],N=52+P[12],V=new Uint8Array(C,N),I=new Array(W),B=0,G=Y,H=X,k=0;k<W;k++){var Z=U(G,H);I[k]={data:new Uint8Array(V.buffer,V.byteOffset+B,Z),width:G,height:H},G=Math.max(1,G>>1),H=Math.max(1,H>>1),B+=Z}return{mipmaps:I,width:Y,height:X,internalFormat:O,compressed:!0,generateMipmap:!1}};p.exports=S},75549:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=function(a,r,n,e,s,o,i){var l=h(i,"frameWidth",null),u=h(i,"frameHeight",l);if(l===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var f=a.source[r];a.add("__BASE",r,0,0,f.width,f.height);var d=h(i,"startFrame",0),c=h(i,"endFrame",-1),g=h(i,"margin",0),m=h(i,"spacing",0),y=Math.floor((s-g+m)/(l+m)),T=Math.floor((o-g+m)/(u+m)),S=y*T;S===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>S||d<-S)&&(d=0),d<0&&(d=S+d),(c===-1||c>S||c<d)&&(c=S);for(var C=g,P=g,b=0,w=0,M=0,D=0;D<S;D++){b=0,w=0;var O=C+l,U=P+u;O>s&&(b=O-s),U>o&&(w=U-o),D>=d&&D<=c&&(a.add(M,r,n+C,e+P,l-b,u-w),M++),C+=l+m,C+l>s&&(C=g,P+=u+m)}return a};p.exports=v},47534:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=function(a,r,n){var e=h(n,"frameWidth",null),s=h(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=a.source[0];a.add("__BASE",0,0,0,o.width,o.height),h(n,"startFrame",0),h(n,"endFrame",-1);for(var i=h(n,"margin",0),l=h(n,"spacing",0),u=r.cutX,f=r.cutY,d=r.cutWidth,c=r.cutHeight,g=r.realWidth,m=r.realHeight,y=Math.floor((g-i+l)/(e+l)),T=Math.floor((m-i+l)/(s+l)),S=r.x,C=e-S,P=e-(g-d-S),b=r.y,w=s-b,M=s-(m-c-b),D,O=i,U=i,W=0,Y=0,X=0;X<T;X++){for(var N=X===0,V=X===T-1,I=0;I<y;I++){var B=I===0,G=I===y-1;if(D=a.add(W,Y,u+O,f+U,e,s),B||N||G||V){var H=B?S:0,k=N?b:0,Z=0,J=0;B&&(Z+=e-C),G&&(Z+=e-P),N&&(J+=s-w),V&&(J+=s-M);var j=e-Z,_=s-J;D.cutWidth=j,D.cutHeight=_,D.setTrim(e,s,H,k,j,_)}O+=l,B?O+=C:G?O+=P:O+=e,W++}O=i,U+=l,N?U+=w:V?U+=M:U+=s}return a};p.exports=v},86147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,t=function(v,a,r,n){var e=x-n.y-n.height;v.add(r,a,n.x,e,n.width,n.height)},h=function(v,a,r){var n=v.source[a];v.add("__BASE",a,0,0,n.width,n.height),x=n.height;for(var e=r.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",i="",l={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var f=e[u].match(s);if(f){var d=f[1]==="- ",c=f[2],g=f[3];if(d&&(i!==o&&(t(v,a,i,l),o=i),l={x:0,y:0,width:0,height:0}),c==="name"){i=g;continue}switch(c){case"x":case"y":case"width":case"height":l[c]=parseInt(g,10);break}}}return i!==o&&t(v,a,i,l),v};p.exports=h},55222:(p,x,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50030),v=function(o){for(var i=o.mipmaps,l=1;l<i.length;l++){var u=i[l].width,f=i[l].height;if(!h(u,f))return console.warn("Mip level "+l+" is not a power-of-two size: "+u+"x"+f),!1}var d=s[o.internalFormat];return d?d(o):(console.warn("No format checker found for internal format "+o.internalFormat+". Assuming valid."),!0)};function a(o){for(var i=o.mipmaps,l=0;l<i.length;l++){var u=i[l].width,f=i[l].height;if((u<<l)%4!==0||(f<<l)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+l+" is "+u+"x"+f),!1}return!0}function r(){return!0}function n(o){var i=o.mipmaps,l=i[0];return h(l.width,l.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+l.width+"x"+l.height),!1)}function e(o){var i=o.mipmaps,l=i[0];return l.width%4!==0||l.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+l.width+"x"+l.height+" pixels"),!1):!0}var s={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:n,35841:n,35842:n,35843:n,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};p.exports=v},61309:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r,n,e,s,o,i,l){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),o===void 0&&(o=0),i===void 0&&(i=0),this.name=r,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=o|0,this.imageSpacing=i|0,this.properties=l||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r,n,e){return this.images.push({gid:a,image:r,width:n,height:e}),this.total++,this}});p.exports=v},27462:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=new h({initialize:function(r){if(this.gids=[],r!==void 0)for(var n=0;n<r.length;++n)for(var e=r[n],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(r){var n=r.getTileData(a.gid);if(n)return n.type}}},setTextureAndFrame:function(a,r,n,e){if(r===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(r===null&&s.image!==void 0&&(r=s.image.key),n===null&&(n=e.gid-s.firstgid),a.scene.textures.getFrame(r,n)||(r=null,n=null))}a.setTexture(r,n)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var n=this.gids[r.gid];n!==void 0&&this.setFromJSON(a,n.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++){var e=r[n];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var s in r)a[s]!==void 0?a[s]=r[s]:a.setData(s,r[s])}}});p.exports=v},31989:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),v=t(87010),a=t(46177),r=t(49075),n=function(e,s,o,i,l,u,f,d){o===void 0&&(o=32),i===void 0&&(i=32),l===void 0&&(l=10),u===void 0&&(u=10),d===void 0&&(d=!1);var c=null;if(Array.isArray(f)){var g=s!==void 0?s:"map";c=a(g,h.ARRAY_2D,f,o,i,d)}else if(s!==void 0){var m=e.cache.tilemap.get(s);m?c=a(s,m.format,m.data,o,i,d):console.warn("No map data found for key "+s)}return c===null&&(c=new v({tileWidth:o,tileHeight:i,width:l,height:u})),new r(e,c)};p.exports=n},23029:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(31401),a=t(91907),r=t(62644),n=t(93232),e=new h({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(o,i,l,u,f,d,c,g){this.layer=o,this.index=i,this.x=l,this.y=u,this.width=f,this.height=d,this.right,this.bottom,this.baseWidth=c!==void 0?c:f,this.baseHeight=g!==void 0?g:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(s,o){return!(s<this.pixelX||o<this.pixelY||s>this.right||o>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=r(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var o=this.tilemapLayer;return o?this.getLeft(s)+this.width*o.scaleX:this.getLeft(s)+this.width},getTop:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var o=this.tilemapLayer;return o?this.getTop(s)+this.height*o.scaleY:this.getTop(s)+this.height},getBounds:function(s,o){return o===void 0&&(o=new n),o.x=this.getLeft(s),o.y=this.getTop(s),o.width=this.getRight(s)-o.x,o.height=this.getBottom(s)-o.y,o},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,o,i,l){return!(i<=this.pixelX||l<=this.pixelY||s>=this.right||o>=this.bottom)},isInteresting:function(s,o){return s&&o?this.canCollide||this.hasInterestingFace:s?this.collides:o?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var o=this.tilemapLayer;o&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,o,i,l,u){if(o===void 0&&(o=s),i===void 0&&(i=s),l===void 0&&(l=s),u===void 0&&(u=!0),this.collideLeft=s,this.collideRight=o,this.collideUp=i,this.collideDown=l,this.faceLeft=s,this.faceRight=o,this.faceTop=i,this.faceBottom=l,u){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,o){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=o),this},setSize:function(s,o,i,l){return s!==void 0&&(this.width=s),o!==void 0&&(this.height=o),i!==void 0&&(this.baseWidth=i),l!==void 0&&(this.baseHeight=l),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===a.HEXAGONAL){var o=this.layer.staggerAxis,i=this.layer.staggerIndex,l=this.layer.hexSideLength,u,f;o==="y"?(f=(this.baseHeight-l)/2+l,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*f):o==="x"&&(u=(this.baseWidth-l)/2+l,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var o=s.gidMap[this.index];if(o)return o}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});p.exports=e},49075:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84101),v=t(83419),a=t(39506),r=t(80341),n=t(95540),e=t(14977),s=t(27462),o=t(91907),i=t(36305),l=t(19133),u=t(68287),f=t(23029),d=t(81086),c=t(20442),g=t(33629),m=new v({initialize:function(T,S){this.scene=T,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tiles=S.tiles,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var C=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(C),WorldToTileX:d.GetWorldToTileXFunction(C),WorldToTileY:d.GetWorldToTileYFunction(C),TileToWorldXY:d.GetTileToWorldXYFunction(C),TileToWorldX:d.GetTileToWorldXFunction(C),TileToWorldY:d.GetTileToWorldYFunction(C),GetTileCorners:d.GetTileCornersFunction(C)}},setRenderOrder:function(y){var T=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=T[y]),T.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,T,S,C,P,b,w,M){if(y===void 0)return null;T==null&&(T=y);var D=this.scene.sys.textures;if(!D.exists(T))return console.warn('Texture key "%s" not found',T),null;var O=D.get(T),U=this.getTilesetIndex(y);if(U===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',y,this.tilesets),null;var W=this.tilesets[U];return W?((S||C)&&W.setTileSize(S,C),(P||b)&&W.setSpacing(P,b),W.setImage(O),W):(S===void 0&&(S=this.tileWidth),C===void 0&&(C=this.tileHeight),P===void 0&&(P=0),b===void 0&&(b=0),w===void 0&&(w=0),M===void 0&&(M={x:0,y:0}),W=new g(y,w,S,C,P,b,void 0,void 0,M),W.setImage(O),this.tilesets.push(W),this.tiles=h(this),W)},copy:function(y,T,S,C,P,b,w,M){return M=this.getLayer(M),M!==null?(d.Copy(y,T,S,C,P,b,w,M),this):null},createBlankLayer:function(y,T,S,C,P,b,w,M){S===void 0&&(S=0),C===void 0&&(C=0),P===void 0&&(P=this.width),b===void 0&&(b=this.height),w===void 0&&(w=this.tileWidth),M===void 0&&(M=this.tileHeight);var D=this.getLayerIndex(y);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var O=new e({name:y,tileWidth:w,tileHeight:M,width:P,height:b,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,W=0;W<b;W++){U=[];for(var Y=0;Y<P;Y++)U.push(new f(O,-1,Y,W,w,M,this.tileWidth,this.tileHeight));O.data.push(U)}this.layers.push(O),this.currentLayerIndex=this.layers.length-1;var X=new c(this.scene,this,this.currentLayerIndex,T,S,C);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(y,T,S,C){var P=this.getLayerIndex(y);if(P===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var b=this.layers[P];if(b.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=P,S===void 0&&(S=b.x),C===void 0&&(C=b.y);var w=new c(this.scene,this,P,T,S,C);return w.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(w),w},createFromObjects:function(y,T,S){S===void 0&&(S=!0);var C=[],P=this.getObjectLayer(y);if(!P)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),C;var b=new s(S?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var w=P.objects,M=0;M<T.length;M++){var D=T[M],O=n(D,"id",null),U=n(D,"gid",null),W=n(D,"name",null),Y=n(D,"type",null);b.enabled=!n(D,"ignoreTileset",null);for(var X,N=[],V=0;V<w.length;V++)X=w[V],(O===null&&U===null&&W===null&&Y===null||O!==null&&X.id===O||U!==null&&X.gid===U||W!==null&&X.name===W||Y!==null&&b.getTypeIncludingTile(X)===Y)&&N.push(X);for(var I=n(D,"classType",u),B=n(D,"scene",this.scene),G=n(D,"container",null),H=n(D,"key",null),k=n(D,"frame",null),Z=0;Z<N.length;Z++){X=N[Z];var J=new I(B);if(J.setName(X.name),J.setPosition(X.x,X.y),b.setTextureAndFrame(J,H,k,X),X.width&&(J.displayWidth=X.width),X.height&&(J.displayHeight=X.height),this.orientation===o.ISOMETRIC){var j=this.tileWidth/this.tileHeight,_={x:J.x-J.y,y:(J.x+J.y)/j};J.x=_.x,J.y=_.y}var tt={x:J.originX*X.width,y:(J.originY-(X.gid?1:0))*X.height};if(X.rotation){var et=a(X.rotation);i(tt,et),J.rotation=et}J.x+=tt.x,J.y+=tt.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&J.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||(J.visible=!1),b.setPropertiesFromTiledObject(J,X),G?G.add(J):B.add.existing(J),C.push(J)}}return C},createFromTiles:function(y,T,S,C,P,b){return b=this.getLayer(b),b===null?null:d.CreateFromTiles(y,T,S,C,P,b)},fill:function(y,T,S,C,P,b,w){return b===void 0&&(b=!0),w=this.getLayer(w),w===null?null:(d.Fill(y,T,S,C,P,b,w),this)},filterObjects:function(y,T,S){if(typeof y=="string"){var C=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+C),null}return y.objects.filter(T,S)},filterTiles:function(y,T,S,C,P,b,w,M){return M=this.getLayer(M),M===null?null:d.FilterTiles(y,T,S,C,P,b,w,M)},findByIndex:function(y,T,S,C){return C=this.getLayer(C),C===null?null:d.FindByIndex(y,T,S,C)},findObject:function(y,T,S){if(typeof y=="string"){var C=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+C),null}return y.objects.find(T,S)||null},findTile:function(y,T,S,C,P,b,w,M){return M=this.getLayer(M),M===null?null:d.FindTile(y,T,S,C,P,b,w,M)},forEachTile:function(y,T,S,C,P,b,w,M){return M=this.getLayer(M),M===null?null:(d.ForEachTile(y,T,S,C,P,b,w,M),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,T){for(var S=0;S<y.length;S++)if(y[S].name===T)return S;return null},getLayer:function(y){var T=this.getLayerIndex(y);return T!==null?this.layers[T]:null},getObjectLayer:function(y){var T=this.getIndex(this.objects,y);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof c&&y.tilemap===this?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,T,S,C){return C=this.getLayer(C),C===null?null:d.GetTileAt(y,T,S,C)},getTileAtWorldXY:function(y,T,S,C,P){return P=this.getLayer(P),P===null?null:d.GetTileAtWorldXY(y,T,S,C,P)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,T,S,C,P,b){return b=this.getLayer(b),b===null?null:d.GetTilesWithin(y,T,S,C,P,b)},getTilesWithinShape:function(y,T,S,C){return C=this.getLayer(C),C===null?null:d.GetTilesWithinShape(y,T,S,C)},getTilesWithinWorldXY:function(y,T,S,C,P,b,w){return w=this.getLayer(w),w===null?null:d.GetTilesWithinWorldXY(y,T,S,C,P,b,w)},getTileset:function(y){var T=this.getIndex(this.tilesets,y);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,T,S){return S=this.getLayer(S),S===null?null:d.HasTileAt(y,T,S)},hasTileAtWorldXY:function(y,T,S,C){return C=this.getLayer(C),C===null?null:d.HasTileAtWorldXY(y,T,S,C)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,T,S,C,P){return C===void 0&&(C=!0),P=this.getLayer(P),P===null?null:d.PutTileAt(y,T,S,C,P)},putTileAtWorldXY:function(y,T,S,C,P,b){return C===void 0&&(C=!0),b=this.getLayer(b),b===null?null:d.PutTileAtWorldXY(y,T,S,C,P,b)},putTilesAt:function(y,T,S,C,P){return C===void 0&&(C=!0),P=this.getLayer(P),P===null?null:(d.PutTilesAt(y,T,S,C,P),this)},randomize:function(y,T,S,C,P,b){return b=this.getLayer(b),b===null?null:(d.Randomize(y,T,S,C,P,b),this)},calculateFacesAt:function(y,T,S){return S=this.getLayer(S),S===null?null:(d.CalculateFacesAt(y,T,S),this)},calculateFacesWithin:function(y,T,S,C,P){return P=this.getLayer(P),P===null?null:(d.CalculateFacesWithin(y,T,S,C,P),this)},removeLayer:function(y){var T=this.getLayerIndex(y);if(T!==null){l(this.layers,T);for(var S=T;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var T=this.getLayerIndex(y);return T!==null?(y=this.layers[T],y.tilemapLayer.destroy(),l(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,T=0;T<y.length;T++)y[T].tilemapLayer&&y[T].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,T,S){T===void 0&&(T=-1),S===void 0&&(S=!0);var C=[];Array.isArray(y)||(y=[y]);for(var P=0;P<y.length;P++){var b=y[P];C.push(this.removeTileAt(b.x,b.y,!0,S,b.tilemapLayer)),T>-1&&this.putTileAt(T,b.x,b.y,S,b.tilemapLayer)}return C},removeTileAt:function(y,T,S,C,P){return S===void 0&&(S=!0),C===void 0&&(C=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAt(y,T,S,C,P)},removeTileAtWorldXY:function(y,T,S,C,P,b){return S===void 0&&(S=!0),C===void 0&&(C=!0),b=this.getLayer(b),b===null?null:d.RemoveTileAtWorldXY(y,T,S,C,P,b)},renderDebug:function(y,T,S){return S=this.getLayer(S),S===null?null:(this.orientation===o.ORTHOGONAL&&d.RenderDebug(y,T,S),this)},renderDebugFull:function(y,T){for(var S=this.layers,C=0;C<S.length;C++)d.RenderDebug(y,T,S[C]);return this},replaceByIndex:function(y,T,S,C,P,b,w){return w=this.getLayer(w),w===null?null:(d.ReplaceByIndex(y,T,S,C,P,b,w),this)},setCollision:function(y,T,S,C,P){return T===void 0&&(T=!0),S===void 0&&(S=!0),P===void 0&&(P=!0),C=this.getLayer(C),C===null?null:(d.SetCollision(y,T,S,C,P),this)},setCollisionBetween:function(y,T,S,C,P){return S===void 0&&(S=!0),C===void 0&&(C=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionBetween(y,T,S,C,P),this)},setCollisionByProperty:function(y,T,S,C){return T===void 0&&(T=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionByProperty(y,T,S,C),this)},setCollisionByExclusion:function(y,T,S,C){return T===void 0&&(T=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionByExclusion(y,T,S,C),this)},setCollisionFromCollisionGroup:function(y,T,S){return y===void 0&&(y=!0),T===void 0&&(T=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionFromCollisionGroup(y,T,S),this)},setTileIndexCallback:function(y,T,S,C){return C=this.getLayer(C),C===null?null:(d.SetTileIndexCallback(y,T,S,C),this)},setTileLocationCallback:function(y,T,S,C,P,b,w){return w=this.getLayer(w),w===null?null:(d.SetTileLocationCallback(y,T,S,C,P,b,w),this)},setLayer:function(y){var T=this.getLayerIndex(y);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(y,T){this.tileWidth=y,this.tileHeight=T,this.widthInPixels=this.width*y,this.heightInPixels=this.height*T;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=y,this.layers[S].baseTileHeight=T;for(var C=this.layers[S].data,P=this.layers[S].width,b=this.layers[S].height,w=0;w<b;w++)for(var M=0;M<P;M++){var D=C[w][M];D!==null&&D.setSize(void 0,void 0,y,T)}}return this},setLayerTileSize:function(y,T,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=y,S.tileHeight=T;for(var C=S.data,P=S.width,b=S.height,w=0;w<b;w++)for(var M=0;M<P;M++){var D=C[w][M];D!==null&&D.setSize(y,T)}return this},shuffle:function(y,T,S,C,P){return P=this.getLayer(P),P===null?null:(d.Shuffle(y,T,S,C,P),this)},swapByIndex:function(y,T,S,C,P,b,w){return w=this.getLayer(w),w===null?null:(d.SwapByIndex(y,T,S,C,P,b,w),this)},tileToWorldX:function(y,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(y,T,S)},tileToWorldY:function(y,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(y,T,S)},tileToWorldXY:function(y,T,S,C,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldXY(y,T,S,C,P)},getTileCorners:function(y,T,S,C){return C=this.getLayer(C),C===null?null:this._convert.GetTileCorners(y,T,S,C)},weightedRandomize:function(y,T,S,C,P,b){return b=this.getLayer(b),b===null?null:(d.WeightedRandomize(T,S,C,P,y,b),this)},worldToTileX:function(y,T,S,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileX(y,T,S,C)},worldToTileY:function(y,T,S,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileY(y,T,S,C)},worldToTileXY:function(y,T,S,C,P,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileXY(y,T,S,C,P,b)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=m},45939:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44603),v=t(31989);h.register("tilemap",function(a){var r=a!==void 0?a:{};return v(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39429),v=t(31989);h.register("tilemap",function(a,r,n,e,s,o,i){return a===null&&(a=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),s===null&&(s=void 0),v(this.scene,a,r,n,e,s,o,i)})},20442:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(78389),a=t(31401),r=t(95643),n=t(81086),e=t(19218),s=t(26099),o=new h({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,v,e],initialize:function(l,u,f,d,c,g){r.call(this,l,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=f,this.layer=u.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new s,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(c,g),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var l=[],u=[],f=this.tilemap;Array.isArray(i)||(i=[i]);for(var d=0;d<i.length;d++){var c=i[d];if(typeof c=="string"&&(c=f.getTileset(c)),c){u.push(c);for(var g=c.firstgid,m=0;m<c.total;m++)l[g+m]=c}}this.gidMap=l,this.tileset=u},setRenderOrder:function(i){var l=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=l.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,l){return n.CalculateFacesAt(i,l,this.layer),this},calculateFacesWithin:function(i,l,u,f){return n.CalculateFacesWithin(i,l,u,f,this.layer),this},createFromTiles:function(i,l,u,f,d){return n.CreateFromTiles(i,l,u,f,d,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,l,u,f,d,c,g){return n.Copy(i,l,u,f,d,c,g,this.layer),this},fill:function(i,l,u,f,d,c){return n.Fill(i,l,u,f,d,c,this.layer),this},filterTiles:function(i,l,u,f,d,c,g){return n.FilterTiles(i,l,u,f,d,c,g,this.layer)},findByIndex:function(i,l,u){return n.FindByIndex(i,l,u,this.layer)},findTile:function(i,l,u,f,d,c,g){return n.FindTile(i,l,u,f,d,c,g,this.layer)},forEachTile:function(i,l,u,f,d,c,g){return n.ForEachTile(i,l,u,f,d,c,g,this.layer),this},setTint:function(i,l,u,f,d,c){i===void 0&&(i=16777215);var g=function(m){m.tint=i,m.tintFill=!1};return this.forEachTile(g,this,l,u,f,d,c)},setTintFill:function(i,l,u,f,d,c){i===void 0&&(i=16777215);var g=function(m){m.tint=i,m.tintFill=!0};return this.forEachTile(g,this,l,u,f,d,c)},getTileAt:function(i,l,u){return n.GetTileAt(i,l,u,this.layer)},getTileAtWorldXY:function(i,l,u,f){return n.GetTileAtWorldXY(i,l,u,f,this.layer)},getIsoTileAtWorldXY:function(i,l,u,f,d){u===void 0&&(u=!0);var c=this.tempVec;return n.IsometricWorldToTileXY(i,l,!0,c,d,this.layer,u),this.getTileAt(c.x,c.y,f)},getTilesWithin:function(i,l,u,f,d){return n.GetTilesWithin(i,l,u,f,d,this.layer)},getTilesWithinShape:function(i,l,u){return n.GetTilesWithinShape(i,l,u,this.layer)},getTilesWithinWorldXY:function(i,l,u,f,d,c){return n.GetTilesWithinWorldXY(i,l,u,f,d,c,this.layer)},hasTileAt:function(i,l){return n.HasTileAt(i,l,this.layer)},hasTileAtWorldXY:function(i,l,u){return n.HasTileAtWorldXY(i,l,u,this.layer)},putTileAt:function(i,l,u,f){return n.PutTileAt(i,l,u,f,this.layer)},putTileAtWorldXY:function(i,l,u,f,d){return n.PutTileAtWorldXY(i,l,u,f,d,this.layer)},putTilesAt:function(i,l,u,f){return n.PutTilesAt(i,l,u,f,this.layer),this},randomize:function(i,l,u,f,d){return n.Randomize(i,l,u,f,d,this.layer),this},removeTileAt:function(i,l,u,f){return n.RemoveTileAt(i,l,u,f,this.layer)},removeTileAtWorldXY:function(i,l,u,f,d){return n.RemoveTileAtWorldXY(i,l,u,f,d,this.layer)},renderDebug:function(i,l){return n.RenderDebug(i,l,this.layer),this},replaceByIndex:function(i,l,u,f,d,c){return n.ReplaceByIndex(i,l,u,f,d,c,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=1),this.cullPaddingX=i,this.cullPaddingY=l,this},setCollision:function(i,l,u,f){return n.SetCollision(i,l,u,this.layer,f),this},setCollisionBetween:function(i,l,u,f){return n.SetCollisionBetween(i,l,u,f,this.layer),this},setCollisionByProperty:function(i,l,u){return n.SetCollisionByProperty(i,l,u,this.layer),this},setCollisionByExclusion:function(i,l,u){return n.SetCollisionByExclusion(i,l,u,this.layer),this},setCollisionFromCollisionGroup:function(i,l){return n.SetCollisionFromCollisionGroup(i,l,this.layer),this},setTileIndexCallback:function(i,l,u){return n.SetTileIndexCallback(i,l,u,this.layer),this},setTileLocationCallback:function(i,l,u,f,d,c){return n.SetTileLocationCallback(i,l,u,f,d,c,this.layer),this},shuffle:function(i,l,u,f){return n.Shuffle(i,l,u,f,this.layer),this},swapByIndex:function(i,l,u,f,d,c){return n.SwapByIndex(i,l,u,f,d,c,this.layer),this},tileToWorldX:function(i,l){return this.tilemap.tileToWorldX(i,l,this)},tileToWorldY:function(i,l){return this.tilemap.tileToWorldY(i,l,this)},tileToWorldXY:function(i,l,u,f){return this.tilemap.tileToWorldXY(i,l,u,f,this)},getTileCorners:function(i,l,u){return this.tilemap.getTileCorners(i,l,u,this)},weightedRandomize:function(i,l,u,f,d){return n.WeightedRandomize(l,u,f,d,i,this.layer),this},worldToTileX:function(i,l,u){return this.tilemap.worldToTileX(i,l,u,this)},worldToTileY:function(i,l,u){return this.tilemap.worldToTileY(i,l,u,this)},worldToTileXY:function(i,l,u,f,d){return this.tilemap.worldToTileXY(i,l,u,f,d,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});p.exports=o},16153:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61340),v=new h,a=new h,r=new h,n=function(e,s,o,i){var l=s.cull(o),u=l.length,f=o.alpha*s.alpha;if(!(u===0||f<=0)){var d=v,c=a,g=r;c.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),d.copyFrom(o.matrix);var m=e.currentContext,y=s.gidMap;m.save(),i?(d.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),c.e=s.x,c.f=s.y,d.multiply(c,g),g.copyToContext(m)):(c.e-=o.scrollX*s.scrollFactorX,c.f-=o.scrollY*s.scrollFactorY,c.copyToContext(m)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(m.imageSmoothingEnabled=!1);for(var T=0;T<u;T++){var S=l[T],C=y[S.index];if(C){var P=C.image.getSourceImage(),b=C.getTileTextureCoordinates(S.index),w=C.tileWidth,M=C.tileHeight;if(!(b===null||w===0||M===0)){var D=w*.5,O=M*.5;b.x+=C.tileOffset.x,b.y+=C.tileOffset.y,m.save(),m.translate(S.pixelX+D,S.pixelY+O),S.rotation!==0&&m.rotate(S.rotation),(S.flipX||S.flipY)&&m.scale(S.flipX?-1:1,S.flipY?-1:1),m.globalAlpha=f*S.alpha,m.drawImage(P,b.x,b.y,w,M,-D,-O,w,M),m.restore()}}}m.restore()}};p.exports=n},19218:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29747),v=h,a=h;v=t(99558),a=t(16153),p.exports={renderWebGL:v,renderCanvas:a}},99558:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70554),v=function(a,r,n){var e=r.cull(n),s=e.length,o=n.alpha*r.alpha;if(!(s===0||o<=0)){var i=r.gidMap,l=a.pipelines.set(r.pipeline,r),u=h.getTintAppendFloatAlpha,f=r.scrollFactorX,d=r.scrollFactorY,c=r.x,g=r.y,m=r.scaleX,y=r.scaleY;a.pipelines.preBatch(r);for(var T=0;T<s;T++){var S=e[T],C=i[S.index];if(C){var P=C.getTileTextureCoordinates(S.index),b=C.tileWidth,w=C.tileHeight;if(!(!P||b===0||w===0)){var M=b*.5,D=w*.5,O=C.glTexture,U=l.setTexture2D(O,r),W=b,Y=w,X=P.x,N=P.y,V=C.tileOffset.x,I=C.tileOffset.y,B=u(S.tint,o*S.alpha);l.batchTexture(r,O,O.width,O.height,c+S.pixelX*m+(M*m-V),g+S.pixelY*y+(D*y-I),b,w,m,y,S.rotation,S.flipX,S.flipY,f,d,M,D,X,N,W,Y,B,B,B,B,S.tintFill,0,0,n,null,!0,U,!0)}}}a.pipelines.postBatch(r)}};p.exports=v},33629:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(26099),a=new h({initialize:function(n,e,s,o,i,l,u,f,d){(s===void 0||s<=0)&&(s=32),(o===void 0||o<=0)&&(o=32),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u={}),f===void 0&&(f={}),this.name=n,this.firstgid=e,this.tileWidth=s,this.tileHeight=o,this.tileMargin=i,this.tileSpacing=l,this.tileProperties=u,this.tileData=f,this.tileOffset=new v,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var n=this.getTileData(r);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var n=r.get(),e=r.getFrameBounds();return this.glTexture=n.source.glTexture,n.width>e.width||n.height>e.height?this.updateTileData(n.width,n.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(r,n){return r!==void 0&&(this.tileWidth=r),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,n){return r!==void 0&&(this.tileMargin=r),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=0);var o=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(o%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),o=Math.floor(o),i=Math.floor(i),this.rows=o,this.columns=i,this.total=o*i,this.texCoordinates.length=0;for(var l=this.tileMargin+e,u=this.tileMargin+s,f=0;f<this.rows;f++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:l,y:u}),l+=this.tileWidth+this.tileSpacing;l=this.tileMargin+e,u+=this.tileHeight+this.tileSpacing}return this}});p.exports=a},72023:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),v=function(a,r,n){var e=h(a,r,!0,n),s=h(a,r-1,!0,n),o=h(a,r+1,!0,n),i=h(a-1,r,!0,n),l=h(a+1,r,!0,n),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(u&&(e.faceTop=!1),s.faceBottom=!u),o&&o.collides&&(u&&(e.faceBottom=!1),o.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),l&&l.collides&&(u&&(e.faceRight=!1),l.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};p.exports=v},42573:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),v=t(7386),a=function(r,n,e,s,o){for(var i=null,l=null,u=null,f=null,d=v(r,n,e,s,null,o),c=0;c<d.length;c++){var g=d[c];g&&(g.collides?(i=h(g.x,g.y-1,!0,o),l=h(g.x,g.y+1,!0,o),u=h(g.x-1,g.y,!0,o),f=h(g.x+1,g.y,!0,o),g.faceTop=!(i&&i.collides),g.faceBottom=!(l&&l.collides),g.faceLeft=!(u&&u.collides),g.faceRight=!(f&&f.collides)):g.resetFaces())}};p.exports=a},33528:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=new h,a=function(r,n,e,s){var o=e.tilemapLayer,i=o.cullPaddingX,l=o.cullPaddingY,u=o.tilemap.tileToWorldXY(r,n,v,s,o);return u.x>s.worldView.x+o.scaleX*e.tileWidth*(-i-.5)&&u.x<s.worldView.right+o.scaleX*e.tileWidth*(i-.5)&&u.y>s.worldView.y+o.scaleY*e.tileHeight*(-l-1)&&u.y<s.worldView.bottom+o.scaleY*e.tileHeight*(l-.5)};p.exports=a},1785:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),v=t(7386),a=t(62991),r=t(23029),n=function(e,s,o,i,l,u,f,d){f===void 0&&(f=!0);var c=v(e,s,o,i,null,d),g=[];c.forEach(function(b){var w=new r(b.layer,b.index,b.x,b.y,b.width,b.height,b.baseWidth,b.baseHeight);w.copy(b),g.push(w)});for(var m=l-e,y=u-s,T=0;T<g.length;T++){var S=g[T],C=S.x+m,P=S.y+y;a(C,P,d)&&d.data[P][C]&&(S.x=C,S.y=P,S.updatePixelXY(),d.data[P][C]=S)}f&&h(l-1,u-1,o+2,i+2,d),c.length=0,g.length=0};p.exports=n},78419:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62644),v=t(7386),a=t(27987),r=function(n,e,s,o,i,l){s||(s={}),Array.isArray(n)||(n=[n]);var u=l.tilemapLayer;o||(o=u.scene),i||(i=o.cameras.main);var f=l.width,d=l.height,c=v(0,0,f,d,null,l),g=[],m,y=function(P,b,w){for(var M=0;M<w.length;M++){var D=w[M];P.hasOwnProperty(D)||(P[D]=b[D])}};for(m=0;m<c.length;m++){var T=c[m],S=h(s);if(n.indexOf(T.index)!==-1){var C=u.tileToWorldXY(T.x,T.y,void 0,i,l);S.x=C.x,S.y=C.y,y(S,T,["rotation","flipX","flipY","alpha","visible","tint"]),S.hasOwnProperty("origin")||(S.x+=T.width*.5,S.y+=T.height*.5),S.hasOwnProperty("useSpriteSheet")&&(S.key=T.tileset.image,S.frame=T.index-1),g.push(o.make.sprite(S))}}if(Array.isArray(e))for(m=0;m<n.length;m++)a(n[m],e[m],0,0,f,d,l);else if(e!==null)for(m=0;m<n.length;m++)a(n[m],e,0,0,f,d,l);return g};p.exports=r},19545:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87841),v=t(63448),a=t(56583),r=new h,n=function(e,s){var o=e.tilemapLayer.tilemap,i=e.tilemapLayer,l=Math.floor(o.tileWidth*i.scaleX),u=Math.floor(o.tileHeight*i.scaleY),f=a(s.worldView.x-i.x,l,0,!0)-i.cullPaddingX,d=v(s.worldView.right-i.x,l,0,!0)+i.cullPaddingX,c=a(s.worldView.y-i.y,u,0,!0)-i.cullPaddingY,g=v(s.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return r.setTo(f,c,d-f,g-c)};p.exports=n},30003:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19545),v=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=h(r,n);return(o.skipCull||o.scrollFactorX!==1||o.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=a},35137:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=t(42573),a=t(20576),r=function(n,e,s,o,i,l,u){for(var f=u.collideIndexes.indexOf(n)!==-1,d=h(e,s,o,i,null,u),c=0;c<d.length;c++)d[c].index=n,a(d[c],f);l&&v(e-1,s-1,o+2,i+2,u)};p.exports=r},40253:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=function(a,r,n,e,s,o,i,l){var u=h(n,e,s,o,i,l);return u.filter(a,r)};p.exports=v},52692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){h===void 0&&(h=0),v===void 0&&(v=!1);var r=0,n,e,s;if(v){for(e=a.height-1;e>=0;e--)for(n=a.width-1;n>=0;n--)if(s=a.data[e][n],s&&s.index===t){if(r===h)return s;r+=1}}else for(e=0;e<a.height;e++)for(n=0;n<a.width;n++)if(s=a.data[e][n],s&&s.index===t){if(r===h)return s;r+=1}return null};p.exports=x},66151:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=function(a,r,n,e,s,o,i,l){var u=h(n,e,s,o,i,l);return u.find(a,r)||null};p.exports=v},97560:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=function(a,r,n,e,s,o,i,l){var u=h(n,e,s,o,i,l);u.forEach(a,r)};p.exports=v},43305:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(30003),a=t(9474),r=t(14018),n=t(29747),e=t(54503),s=function(o){return o===h.ORTHOGONAL?v:o===h.HEXAGONAL?a:o===h.STAGGERED?e:o===h.ISOMETRIC?r:n};p.exports=s},7423:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),v=function(a,r,n,e){if(h(a,r,e)){var s=e.data[r][a]||null;return s?s.index===-1?n?s:null:s:null}else return null};p.exports=v},60540:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7423),v=t(26099),a=new v,r=function(n,e,s,o,i){return i.tilemapLayer.worldToTileXY(n,e,!0,a,o),h(a.x,a.y,s,i)};p.exports=r},55826:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e){var s=e.baseTileWidth,o=e.baseTileHeight,i=e.tilemapLayer,l=0,u=0;i&&(n||(n=i.scene.cameras.main),l=i.x+n.scrollX*(1-i.scrollFactorX),u=i.y+n.scrollY*(1-i.scrollFactorY),s*=i.scaleX,o*=i.scaleY);var f=l+a*s,d=u+r*o;return[new h(f,d),new h(f+s,d),new h(f+s,d+o),new h(f,d+o)]};p.exports=v},11758:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(27229),a=t(29747),r=t(55826),n=function(e){return e===h.ORTHOGONAL?r:e===h.ISOMETRIC?a:e===h.HEXAGONAL?v:(e===h.STAGGERED,a)};p.exports=n},39167:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(29747),a=t(97281),r=function(n){return n===h.ORTHOGONAL?a:v};p.exports=r},62e3:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(19951),a=t(14127),r=t(29747),n=t(97202),e=t(70326),s=function(o){return o===h.ORTHOGONAL?e:o===h.ISOMETRIC?a:o===h.HEXAGONAL?v:o===h.STAGGERED?n:r};p.exports=s},5984:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(29747),a=t(28054),r=t(29650),n=function(e){return e===h.ORTHOGONAL?r:e===h.STAGGERED?a:v};p.exports=n},7386:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=function(a,r,n,e,s,o){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=o.width),e===void 0&&(e=o.height),s||(s={});var i=h(s,"isNotEmpty",!1),l=h(s,"isColliding",!1),u=h(s,"hasInterestingFace",!1);a<0&&(n+=a,a=0),r<0&&(e+=r,r=0),a+n>o.width&&(n=Math.max(o.width-a,0)),r+e>o.height&&(e=Math.max(o.height-r,0));for(var f=[],d=r;d<r+e;d++)for(var c=a;c<a+n;c++){var g=o.data[d][c];if(g!==null){if(i&&g.index===-1||l&&!g.collides||u&&!g.hasInterestingFace)continue;f.push(g)}}return f};p.exports=v},91141:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55738),v=t(7386),a=t(91865),r=t(29747),n=t(26099),e=t(91907),s=function(f,d){return a.RectangleToTriangle(d,f)},o=new n,i=new n,l=new n,u=function(f,d,c,g){if(g.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(f===void 0)return[];var m=r;f instanceof h.Circle?m=a.CircleToRectangle:f instanceof h.Rectangle?m=a.RectangleToRectangle:f instanceof h.Triangle?m=s:f instanceof h.Line&&(m=a.LineToRectangle),g.tilemapLayer.worldToTileXY(f.left,f.top,!0,i,c);var y=i.x,T=i.y;g.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,l,c);var S=Math.ceil(l.x),C=Math.ceil(l.y),P=Math.max(S-y,1),b=Math.max(C-T,1),w=v(y,T,P,b,d,g),M=g.tileWidth,D=g.tileHeight;g.tilemapLayer&&(M*=g.tilemapLayer.scaleX,D*=g.tilemapLayer.scaleY);for(var O=[],U=new h.Rectangle(0,0,M,D),W=0;W<w.length;W++){var Y=w[W];g.tilemapLayer.tileToWorldXY(Y.x,Y.y,o,c),U.x=o.x,U.y=o.y,m(f,U)&&O.push(Y)}return O};p.exports=u},96523:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=t(26099),a=new v,r=new v,n=function(e,s,o,i,l,u,f){var d=f.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,s,!0,a,u,f);var c=a.x,g=a.y;d(e+o,s+i,!1,r,u,f);var m=Math.ceil(r.x),y=Math.ceil(r.y);return h(c,g,m-c,y-g,l,f)};p.exports=n},96113:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(20242),a=t(10095),r=function(n){return n===h.ORTHOGONAL?a:v};p.exports=r},16926:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(86625),a=t(96897),r=t(29747),n=t(15108),e=t(85896),s=function(o){return o===h.ORTHOGONAL?e:o===h.ISOMETRIC?a:o===h.HEXAGONAL?v:o===h.STAGGERED?n:r};p.exports=s},55762:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=t(20242),a=t(51900),r=t(63288),n=function(e){return e===h.ORTHOGONAL?r:e===h.STAGGERED?a:v};p.exports=n},45091:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62991),v=function(a,r,n){if(h(a,r,n)){var e=n.data[r][a];return e!==null&&e.index>-1}else return!1};p.exports=v},24152:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45091),v=t(26099),a=new v,r=function(n,e,s,o){o.tilemapLayer.worldToTileXY(n,e,!0,a,s);var i=a.x,l=a.y;return h(i,l,o)};p.exports=r},90454:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),v=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),l=r.hexSideLength,u,f,d,c;if(r.staggerAxis==="y"){var g=(i-l)/2+l;u=v(n.worldView.x-s.x,o,0,!0)-s.cullPaddingX,f=h(n.worldView.right-s.x,o,0,!0)+s.cullPaddingX,d=v(n.worldView.y-s.y,g,0,!0)-s.cullPaddingY,c=h(n.worldView.bottom-s.y,g,0,!0)+s.cullPaddingY}else{var m=(o-l)/2+l;u=v(n.worldView.x-s.x,m,0,!0)-s.cullPaddingX,f=h(n.worldView.right-s.x,m,0,!0)+s.cullPaddingX,d=v(n.worldView.y-s.y,i,0,!0)-s.cullPaddingY,c=h(n.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:u,right:f,top:d,bottom:c}};p.exports=a},9474:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90454),v=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=h(r,n);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=a},27229:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19951),v=t(26099),a=new v,r=function(n,e,s,o){var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(i*=u.scaleX,l*=u.scaleY);var f=h(n,e,a,s,o),d=[],c=.5773502691896257,g,m;o.staggerAxis==="y"?(g=c*i,m=l/2):(g=i/2,m=c*l);for(var y=0;y<6;y++){var T=2*Math.PI*(.5-y)/6;d.push(new v(f.x+g*Math.cos(T),f.y+m*Math.sin(T)))}return d};p.exports=r},19951:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s){n||(n=new h);var o=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,f=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),f=l.y+e.scrollY*(1-l.scrollFactorY),o*=l.scaleX,i*=l.scaleY);var d=o/2,c=i/2,g,m,y=s.staggerAxis,T=s.staggerIndex;return y==="y"?(g=u+o*a+o,m=f+1.5*r*c+c,r%2===0&&(T==="odd"?g-=d:g+=d)):y==="x"&&T==="odd"&&(g=u+1.5*a*d+d,m=f+i*a+i,a%2===0&&(T==="odd"?m-=c:m+=c)),n.set(g,m)};p.exports=v},86625:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s,o){e||(e=new h);var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var f=.5773502691896257,d=-.3333333333333333,c=0,g=.6666666666666666,m=i/2,y=l/2,T,S,C,P,b;o.staggerAxis==="y"?(T=(a-m)/(f*i),S=(r-y)/y,C=f*T+d*S,P=c*T+g*S):(T=(a-m)/m,S=(r-y)/(f*l),C=d*T+f*S,P=g*T+c*S),b=-C-P;var w=Math.round(C),M=Math.round(P),D=Math.round(b),O=Math.abs(w-C),U=Math.abs(M-P),W=Math.abs(D-b);O>U&&O>W?w=-M-D:U>W&&(M=-w-D);var Y,X=M;return o.staggerIndex==="odd"?Y=X%2===0?M/2+w:M/2+w-.5:Y=X%2===0?M/2+w:M/2+w+.5,e.set(Y,X)};p.exports=v},62991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t>=0&&t<v.width&&h>=0&&h<v.height};p.exports=x},14018:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33528),v=function(a,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var s=a.tilemapLayer,o=a.data,i=a.width,l=a.height,u=s.skipCull,f=0,d=i,c=0,g=l,m,y,T;if(e===0)for(y=c;y<g;y++)for(m=f;m<d;m++)T=o[y][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(m,y,a,r)||n.push(T));else if(e===1)for(y=c;y<g;y++)for(m=d;m>=f;m--)T=o[y][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(m,y,a,r)||n.push(T));else if(e===2)for(y=g;y>=c;y--)for(m=f;m<d;m++)T=o[y][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(m,y,a,r)||n.push(T));else if(e===3)for(y=g;y>=c;y--)for(m=d;m>=f;m--)T=o[y][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!h(m,y,a,r)||n.push(T));return s.tilesDrawn=n.length,s.tilesTotal=i*l,n};p.exports=v},14127:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s){n||(n=new h);var o=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,f=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),o*=l.scaleX,f=l.y+e.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var d=u+(a-r)*(o/2),c=f+(a+r)*(i/2);return n.set(d,c)};p.exports=v},96897:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s,o,i){e||(e=new h);var l=o.baseTileWidth,u=o.baseTileHeight,f=o.tilemapLayer;f&&(s||(s=f.scene.cameras.main),r=r-(f.y+s.scrollY*(1-f.scrollFactorY)),u*=f.scaleY,a=a-(f.x+s.scrollX*(1-f.scrollFactorX)),l*=f.scaleX);var d=l/2,c=u/2;a=a-d,i||(r=r-u);var g=.5*(a/d+r/c),m=.5*(-a/d+r/c);return n&&(g=Math.floor(g),m=Math.floor(m)),e.set(g,m)};p.exports=v},71558:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),v=t(62991),a=t(72023),r=t(20576),n=function(e,s,o,i,l){if(i===void 0&&(i=!0),!v(s,o,l))return null;var u,f=l.data[o][s],d=f&&f.collides;e instanceof h?(l.data[o][s]===null&&(l.data[o][s]=new h(l,e.index,s,o,l.tileWidth,l.tileHeight)),l.data[o][s].copy(e)):(u=e,l.data[o][s]===null?l.data[o][s]=new h(l,u,s,o,l.tileWidth,l.tileHeight):l.data[o][s].index=u);var c=l.data[o][s],g=l.collideIndexes.indexOf(c.index)!==-1;if(u=e instanceof h?e.index:e,u===-1)c.width=l.tileWidth,c.height=l.tileHeight;else{var m=l.tilemapLayer.tilemap,y=m.tiles,T=y[u][2],S=m.tilesets[T];c.width=S.tileWidth,c.height=S.tileHeight}return r(c,g),i&&d!==c.collides&&a(s,o,l),c};p.exports=n},26303:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71558),v=t(26099),a=new v,r=function(n,e,s,o,i,l){return l.tilemapLayer.worldToTileXY(e,s,!0,a,i,l),h(n,a.x,a.y,o,l)};p.exports=r},14051:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42573),v=t(71558),a=function(r,n,e,s,o){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,l=r[0].length,u=0;u<i;u++)for(var f=0;f<l;f++){var d=r[u][f];v(d,n+f,e+u,!1,o)}s&&h(n-1,e-1,l+2,i+2,o)};p.exports=a},77389:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=t(26546),a=function(r,n,e,s,o,i){var l,u=h(r,n,e,s,{},i);if(!o)for(o=[],l=0;l<u.length;l++)o.indexOf(u[l].index)===-1&&o.push(u[l].index);for(l=0;l<u.length;l++)u[l].index=v(o)};p.exports=a},63557:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23029),v=t(62991),a=t(72023),r=function(n,e,s,o,i){if(s===void 0&&(s=!0),o===void 0&&(o=!0),!v(n,e,i))return null;var l=i.data[e][n];if(l)i.data[e][n]=s?null:new h(i,-1,n,e,i.tileWidth,i.tileHeight);else return null;return o&&l&&l.collides&&a(n,e,i),l};p.exports=r},94178:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63557),v=t(26099),a=new v,r=function(n,e,s,o,i,l){return l.tilemapLayer.worldToTileXY(n,e,!0,a,i,l),h(a.x,a.y,s,o,l)};p.exports=r},15533:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=t(3956),a=new v(105,210,231,150),r=new v(243,134,48,200),n=new v(40,39,37,150),e=function(s,o,i){o===void 0&&(o={});var l=o.tileColor!==void 0?o.tileColor:a,u=o.collidingTileColor!==void 0?o.collidingTileColor:r,f=o.faceColor!==void 0?o.faceColor:n,d=h(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<d.length;c++){var g=d[c],m=g.tileset?g.tileset.tileOffset:{x:0,y:0},y=g.width,T=g.height,S=g.pixelX-m.x,C=g.pixelY-m.y,P=g.collides?u:l;P!==null&&(s.fillStyle(P.color,P.alpha/255),s.fillRect(S,C,y,T)),S+=1,C+=1,y-=2,T-=2,f!==null&&(s.lineStyle(1,f.color,f.alpha/255),g.faceTop&&s.lineBetween(S,C,S+y,C),g.faceRight&&s.lineBetween(S+y,C,S+y,C+T),g.faceBottom&&s.lineBetween(S,C+T,S+y,C+T),g.faceLeft&&s.lineBetween(S,C,S,C+T))}};p.exports=e},27987:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=function(a,r,n,e,s,o,i){for(var l=h(n,e,s,o,null,i),u=0;u<l.length;u++)l[u]&&l[u].index===a&&(l[u].index=r)};p.exports=v},32483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=t.data,n=t.width,e=t.height,s=t.tilemapLayer,o=Math.max(0,h.left),i=Math.min(n,h.right),l=Math.max(0,h.top),u=Math.min(e,h.bottom),f,d,c;if(v===0)for(d=l;d<u;d++)for(f=o;r[d]&&f<i;f++)c=r[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===1)for(d=l;d<u;d++)for(f=i;r[d]&&f>=o;f--)c=r[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===2)for(d=u;d>=l;d--)for(f=o;r[d]&&f<i;f++)c=r[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===3)for(d=u;d>=l;d--)for(f=i;r[d]&&f>=o;f--)c=r[d][f],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);return s.tilesDrawn=a.length,s.tilesTotal=n*e,a};p.exports=x},57068:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),v=t(42573),a=t(9589),r=function(n,e,s,o,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++)a(n[l],e,o);if(i)for(var u=0;u<o.height;u++)for(var f=0;f<o.width;f++){var d=o.data[u][f];d&&n.indexOf(d.index)!==-1&&h(d,e)}s&&v(0,0,o.width,o.height,o)};p.exports=r},37266:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),v=t(42573),a=t(9589),r=function(n,e,s,o,i,l){if(s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),!(n>e)){for(var u=n;u<=e;u++)a(u,s,i);if(l)for(var f=0;f<i.height;f++)for(var d=0;d<i.width;d++){var c=i.data[f][d];c&&c.index>=n&&c.index<=e&&h(c,s)}o&&v(0,0,i.width,i.height,i)}};p.exports=r},75661:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),v=t(42573),a=t(9589),r=function(n,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(n)||(n=[n]);for(var i=0;i<o.height;i++)for(var l=0;l<o.width;l++){var u=o.data[i][l];u&&n.indexOf(u.index)===-1&&(h(u,e),a(u.index,e,o))}s&&v(0,0,o.width,o.height,o)};p.exports=r},64740:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),v=t(42573),a=t(97022),r=function(n,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<o.height;i++)for(var l=0;l<o.width;l++){var u=o.data[i][l];if(u){for(var f in n)if(a(u.properties,f)){var d=n[f];Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++)u.properties[f]===d[c]&&h(u,e)}}}s&&v(0,0,o.width,o.height,o)};p.exports=r},63307:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20576),v=t(42573),a=function(r,n,e){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var s=0;s<e.height;s++)for(var o=0;o<e.width;o++){var i=e.data[s][o];if(i){var l=i.getCollisionGroup();l&&l.objects&&l.objects.length>0&&h(i,r)}}n&&v(0,0,e.width,e.height,e)};p.exports=a},9589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=v.collideIndexes.indexOf(t);h&&a===-1?v.collideIndexes.push(t):!h&&a!==-1&&v.collideIndexes.splice(a,1)};p.exports=x},20576:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=x},79583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){if(typeof t=="number")a.callbacks[t]=h!==null?{callback:h,callbackContext:v}:void 0;else for(var r=0,n=t.length;r<n;r++)a.callbacks[t[r]]=h!==null?{callback:h,callbackContext:v}:void 0};p.exports=x},93254:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=function(a,r,n,e,s,o,i){for(var l=h(a,r,n,e,null,i),u=0;u<l.length;u++)l[u].setCollisionCallback(s,o)};p.exports=v},32903:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=t(33680),a=function(r,n,e,s,o){var i=h(r,n,e,s,null,o),l=i.map(function(f){return f.index});v(l);for(var u=0;u<i.length;u++)i[u].index=l[u]};p.exports=a},61325:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63448),v=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),l=v(n.worldView.x-s.x,o,0,!0)-s.cullPaddingX,u=h(n.worldView.right-s.x,o,0,!0)+s.cullPaddingX,f=v(n.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,d=h(n.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:l,right:u,top:f,bottom:d}};p.exports=a},54503:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61325),v=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=h(r,n);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=a},97202:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s){n||(n=new h);var o=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,f=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),o*=l.scaleX,f=l.y+e.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var d=u+a*o+r%2*(o/2),c=f+r*(i/2);return n.set(d,c)};p.exports=v},28054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=v.baseTileHeight,r=v.tilemapLayer,n=0;return r&&(h===void 0&&(h=r.scene.cameras.main),n=r.y+h.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*(a/2)+a};p.exports=x},15108:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s,o){e||(e=new h);var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),l*=u.scaleY,a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var f=n?Math.floor(r/(l/2)):r/(l/2),d=n?Math.floor((a+f%2*.5*i)/i):(a+f%2*.5*i)/i;return e.set(d,f)};p.exports=v},51900:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=a.baseTileHeight,n=a.tilemapLayer;return n&&(v||(v=n.scene.cameras.main),t=t-(n.y+v.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),h?Math.floor(t/(r/2)):t/(r/2)};p.exports=x},86560:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=function(a,r,n,e,s,o,i){for(var l=h(n,e,s,o,null,i),u=0;u<l.length;u++)l[u]&&(l[u].index===a?l[u].index=r:l[u].index===r&&(l[u].index=a))};p.exports=v},97281:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=v.baseTileWidth,r=v.tilemapLayer,n=0;return r&&(h||(h=r.scene.cameras.main),n=r.x+h.scrollX*(1-r.scrollFactorX),a*=r.scaleX),n+t*a};p.exports=x},70326:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97281),v=t(29650),a=t(26099),r=function(n,e,s,o,i){return s||(s=new a(0,0)),s.x=h(n,o,i),s.y=v(e,o,i),s};p.exports=r},29650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=v.baseTileHeight,r=v.tilemapLayer,n=0;return r&&(h||(h=r.scene.cameras.main),n=r.y+h.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*a};p.exports=x},77366:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(7386),v=t(75508),a=function(r,n,e,s,o,i){if(o){var l,u=h(r,n,e,s,null,i),f=0;for(l=0;l<o.length;l++)f+=o[l].weight;if(!(f<=0))for(l=0;l<u.length;l++){for(var d=v.RND.frac()*f,c=0,g=-1,m=0;m<o.length;m++)if(c+=o[m].weight,d<=c){var y=o[m].index;g=Array.isArray(y)?y[Math.floor(v.RND.frac()*y.length)]:y;break}u[l].index=g}}};p.exports=a},10095:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),v=t(26099),a=new v,r=function(n,e,s,o){return h(n,0,e,a,s,o),a.x};p.exports=r},85896:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26099),v=function(a,r,n,e,s,o){n===void 0&&(n=!0),e||(e=new h);var i=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var f=a/i,d=r/l;return n&&(f=Math.floor(f),d=Math.floor(d)),e.set(f,d)};p.exports=v},63288:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85896),v=t(26099),a=new v,r=function(n,e,s,o){return h(0,n,e,a,s,o),a.y};p.exports=r},81086:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(91907)};p.exports=h},62501:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),v=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=h(!1,a,v.ORIENTATION),p.exports=a},14977:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(91907),a=t(95540),r=new h({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},87010:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(91907),a=t(95540),r=new h({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},48700:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=new h({initialize:function(n){n===void 0&&(n={}),this.name=v(n,"name","object layer"),this.id=v(n,"id",0),this.opacity=v(n,"opacity",1),this.properties=v(n,"properties",{}),this.propertyTypes=v(n,"propertytypes",{}),this.type=v(n,"type","objectgroup"),this.visible=v(n,"visible",!0),this.objects=v(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=a},6641:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91907),v=function(a){return a=a.toLowerCase(),a==="isometric"?h.ISOMETRIC:a==="staggered"?h.STAGGERED:a==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};p.exports=v},46177:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),v=t(2342),a=t(82593),r=t(46594),n=t(87021),e=function(s,o,i,l,u,f){var d;switch(o){case h.ARRAY_2D:d=v(s,i,l,u,f);break;case h.CSV:d=a(s,i,l,u,f);break;case h.TILED_JSON:d=r(s,i,f);break;case h.WELTMEISTER:d=n(s,i,f);break;default:console.warn("Unrecognized tilemap data format: "+o),d=null}return d};p.exports=e},2342:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),v=t(14977),a=t(87010),r=t(23029),n=function(e,s,o,i,l){for(var u=new v({tileWidth:o,tileHeight:i}),f=new a({name:e,tileWidth:o,tileHeight:i,format:h.ARRAY_2D,layers:[u]}),d=[],c=s.length,g=0,m=0;m<s.length;m++){d[m]=[];for(var y=s[m],T=0;T<y.length;T++){var S=parseInt(y[T],10);isNaN(S)||S===-1?d[m][T]=l?null:new r(u,-1,T,m,o,i):d[m][T]=new r(u,S,T,m,o,i)}g===0&&(g=y.length)}return f.width=u.width=g,f.height=u.height=c,f.widthInPixels=u.widthInPixels=g*o,f.heightInPixels=u.heightInPixels=c*i,u.data=d,f};p.exports=n},82593:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),v=t(2342),a=function(r,n,e,s,o){var i=n.trim().split(`
`).map(function(u){return u.split(",")}),l=v(r,i,e,s,o);return l.format=h.CSV,l};p.exports=a},6656:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14977),v=t(23029),a=function(r,n){for(var e=[],s=0;s<r.layer.length;s++){for(var o=r.layer[s],i=new h({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:o.visible===1}),l=[],u=[],f=0;f<o.data.length;f++){for(var d=0;d<o.data[f].length;d++){var c=o.data[f][d]-1,g;c>-1?g=new v(i,c,d,f,o.tilesize,o.tilesize):g=n?null:new v(i,-1,d,f,o.tilesize,o.tilesize),l.push(g)}u.push(l),l=[]}i.data=u,e.push(i)}return e};p.exports=a},96483:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),v=function(a){for(var r=[],n=[],e=0;e<a.layer.length;e++){var s=a.layer[e],o=s.tilesetName;o!==""&&n.indexOf(o)===-1&&(n.push(o),r.push(new h(o,0,s.tilesize,s.tilesize,0,0)))}return r};p.exports=v},87021:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(80341),v=t(87010),a=t(6656),r=t(96483),n=function(e,s,o){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,l=0,u=0;u<s.layer.length;u++)s.layer[u].width>i&&(i=s.layer[u].width),s.layer[u].height>l&&(l=s.layer[u].height);var f=new v({width:i,height:l,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:h.WELTMEISTER});return f.layers=a(s,o),f.tilesets=r(s),f};p.exports=n},52833:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79291),v=function(a){for(var r,n,e,s,o,i=0;i<a.layers.length;i++){r=a.layers[i],s=null;for(var l=0;l<r.data.length;l++){o=r.data[l];for(var u=0;u<o.length;u++)n=o[u],!(n===null||n.index<0)&&(e=a.tiles[n.index][2],s=a.tilesets[e],n.width=s.tileWidth,n.height=s.tileHeight,s.tileProperties&&s.tileProperties[n.index-s.firstgid]&&(n.properties=h(n.properties,s.tileProperties[n.index-s.firstgid])))}}};p.exports=v},41868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var h=window.atob(t),v=h.length,a=new Array(v/4),r=0;r<v;r+=4)a[r/4]=(h.charCodeAt(r)|h.charCodeAt(r+1)<<8|h.charCodeAt(r+2)<<16|h.charCodeAt(r+3)<<24)>>>0;return a};p.exports=x},84101:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),v=function(a){var r,n,e=[];for(r=0;r<a.imageCollections.length;r++)for(var s=a.imageCollections[r],o=s.images,i=0;i<o.length;i++){var l=o[i],u={x:0,y:l.height-a.tileHeight};n=new h(l.image,l.gid,l.width,l.height,0,0,null,null,u),n.updateTileData(l.width,l.height),a.tilesets.push(n)}for(r=0;r<a.tilesets.length;r++){n=a.tilesets[r];for(var f=n.tileMargin,d=n.tileMargin,c=0,g=0,m=0,y=n.firstgid;y<n.firstgid+n.total&&(e[y]=[f,d,r],f+=n.tileWidth+n.tileSpacing,c++,!(c===n.total||(g++,g===n.columns&&(f=n.tileMargin,d+=n.tileHeight+n.tileSpacing,g=0,m++,m===n.rows))));y++);}return e};p.exports=v},79677:(p,x,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=function(a,r,n){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+h(r,"startx",0)*a.tilewidth+h(r,"offsetx",0),s=r.y+h(r,"starty",0)*a.tileheight+h(r,"offsety",0);return{i:0,layers:r.layers,name:n.name+r.name+"/",opacity:n.opacity*r.opacity,visible:n.visible&&r.visible,x:n.x+e,y:n.y+s}};p.exports=v},29920:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,t=1073741824,h=536870912,v=function(a){var r=!!(a&x),n=!!(a&t),e=!!(a&h);a=a&536870911;var s=0,o=!1;return r&&n&&e?(s=Math.PI/2,o=!0):r&&n&&!e?(s=Math.PI,o=!1):r&&!n&&e?(s=Math.PI/2,o=!1):r&&!n&&!e?(s=0,o=!0):!r&&n&&e?(s=3*Math.PI/2,o=!1):!r&&n&&!e?(s=Math.PI,o=!0):!r&&!n&&e?(s=3*Math.PI/2,o=!0):!r&&!n&&!e&&(s=0,o=!1),{gid:a,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:s,flipped:o}};p.exports=v},12635:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=t(79677),a=function(r){for(var n=[],e=[],s=v(r);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var o=s.layers[s.i];if(s.i++,o.type!=="imagelayer"){if(o.type==="group"){var i=v(r,o,s);e.push(s),s=i}continue}var l=h(o,"offsetx",0)+h(o,"startx",0),u=h(o,"offsety",0)+h(o,"starty",0);n.push({name:s.name+o.name,image:o.image,x:s.x+l+o.x,y:s.y+u+o.y,alpha:s.opacity*o.opacity,visible:s.visible&&o.visible,properties:h(o,"properties",{})})}return n};p.exports=a},46594:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51233),v=t(84101),a=t(91907),r=t(62644),n=t(80341),e=t(6641),s=t(87010),o=t(12635),i=t(22611),l=t(28200),u=t(24619),f=function(d,c,g){var m=r(c),y=new s({width:m.width,height:m.height,name:d,tileWidth:m.tilewidth,tileHeight:m.tileheight,orientation:e(m.orientation),format:n.TILED_JSON,version:m.version,properties:m.properties,renderOrder:m.renderorder,infinite:m.infinite});if(y.orientation===a.HEXAGONAL)if(y.hexSideLength=m.hexsidelength,y.staggerAxis=m.staggeraxis,y.staggerIndex=m.staggerindex,y.staggerAxis==="y"){var T=(y.tileHeight-y.hexSideLength)/2;y.widthInPixels=y.tileWidth*(y.width+.5),y.heightInPixels=y.height*(y.hexSideLength+T)+T}else{var S=(y.tileWidth-y.hexSideLength)/2;y.widthInPixels=y.width*(y.hexSideLength+S)+S,y.heightInPixels=y.tileHeight*(y.height+.5)}y.layers=l(m,g),y.images=o(m);var C=u(m);return y.tilesets=C.tilesets,y.imageCollections=C.imageCollections,y.objects=i(m),y.tiles=v(y),h(y),y};p.exports=f},52205:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18254),v=t(29920),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,s,o){s===void 0&&(s=0),o===void 0&&(o=0);var i=h(e,r);if(i.x+=s,i.y+=o,e.gid){var l=v(e.gid);i.gid=l.gid,i.flippedHorizontal=l.flippedHorizontal,i.flippedVertical=l.flippedVertical,i.flippedAntiDiagonal=l.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};p.exports=n},22611:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95540),v=t(52205),a=t(48700),r=t(79677),n=function(e){for(var s=[],o=[],i=r(e);i.i<i.layers.length||o.length>0;){if(i.i>=i.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=o.pop();continue}var l=i.layers[i.i];if(i.i++,l.opacity*=i.opacity,l.visible=i.visible&&l.visible,l.type!=="objectgroup"){if(l.type==="group"){var u=r(e,l,i);o.push(i),i=u}continue}l.name=i.name+l.name;for(var f=i.x+h(l,"startx",0)+h(l,"offsetx",0),d=i.y+h(l,"starty",0)+h(l,"offsety",0),c=[],g=0;g<l.objects.length;g++){var m=v(l.objects[g],f,d);c.push(m)}var y=new a(l);y.objects=c,s.push(y)}return s};p.exports=n},28200:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41868),v=t(91907),a=t(79677),r=t(6641),n=t(95540),e=t(14977),s=t(29920),o=t(23029),i=function(l,u){for(var f=n(l,"infinite",!1),d=[],c=[],g=a(l);g.i<g.layers.length||c.length>0;){if(g.i>=g.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=c.pop();continue}var m=g.layers[g.i];if(g.i++,m.type!=="tilelayer"){if(m.type==="group"){var y=a(l,m,g);c.push(g),g=y}continue}if(m.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+m.name+"'");continue}else if(m.encoding&&m.encoding==="base64"){if(m.chunks)for(var T=0;T<m.chunks.length;T++)m.chunks[T].data=h(m.chunks[T].data);m.data&&(m.data=h(m.data)),delete m.encoding}var S,C,P,b,w,M,D=[],O=0;if(f){var U=n(m,"startx",0)+m.x,W=n(m,"starty",0)+m.y;S=new e({name:g.name+m.name,id:m.id,x:g.x+n(m,"offsetx",0)+U*l.tilewidth,y:g.y+n(m,"offsety",0)+W*l.tileheight,width:m.width,height:m.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:n(m,"properties",[]),orientation:r(l.orientation)}),S.orientation===v.HEXAGONAL&&(S.hexSideLength=l.hexsidelength,S.staggerAxis=l.staggeraxis,S.staggerIndex=l.staggerindex,S.staggerAxis==="y"?(w=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+w)+w):(M=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+M)+M,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var Y=0;Y<m.height;Y++){D[Y]=[null];for(var X=0;X<m.width;X++)D[Y][X]=null}for(Y=0,_=m.chunks.length;Y<_;Y++)for(var N=m.chunks[Y],V=N.x-U,I=N.y-W,B=0,G=0,H=N.data.length;G<H;G++){var k=O+V,Z=B+I;C=s(N.data[G]),C.gid>0?(P=new o(S,C.gid,k,Z,l.tilewidth,l.tileheight),P.rotation=C.rotation,P.flipX=C.flipped,D[Z][k]=P):(b=u?null:new o(S,-1,k,Z,l.tilewidth,l.tileheight),D[Z][k]=b),O++,O===N.width&&(B++,O=0)}}else{S=new e({name:g.name+m.name,id:m.id,x:g.x+n(m,"offsetx",0)+m.x,y:g.y+n(m,"offsety",0)+m.y,width:m.width,height:m.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:n(m,"properties",[]),orientation:r(l.orientation)}),S.orientation===v.HEXAGONAL&&(S.hexSideLength=l.hexsidelength,S.staggerAxis=l.staggeraxis,S.staggerIndex=l.staggerindex,S.staggerAxis==="y"?(w=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+w)+w):(M=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+M)+M,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var J=[],j=0,_=m.data.length;j<_;j++)C=s(m.data[j]),C.gid>0?(P=new o(S,C.gid,O,D.length,l.tilewidth,l.tileheight),P.rotation=C.rotation,P.flipX=C.flipped,J.push(P)):(b=u?null:new o(S,-1,O,D.length,l.tilewidth,l.tileheight),J.push(b)),O++,O===m.width&&(D.push(J),O=0,J=[])}S.data=D,d.push(S)}return d};p.exports=i},24619:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33629),v=t(16536),a=t(52205),r=t(57880),n=function(e){for(var s=[],o=[],i=null,l,u=0;u<e.tilesets.length;u++){var f=e.tilesets[u];if(f.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(f.image){var d=new h(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,void 0,void 0,f.tileoffset);if(e.version>1){var c=void 0,g=void 0;if(Array.isArray(f.tiles)){c=c||{},g=g||{};for(var m=0;m<f.tiles.length;m++){var y=f.tiles[m];if(y.properties){var T={};y.properties.forEach(function(Y){T[Y.name]=Y.value}),g[y.id]=T}if(y.objectgroup&&((c[y.id]||(c[y.id]={})).objectgroup=y.objectgroup,y.objectgroup.objects)){var S=y.objectgroup.objects.map(function(Y){return a(Y)});c[y.id].objectgroup.objects=S}y.animation&&((c[y.id]||(c[y.id]={})).animation=y.animation),y.type&&((c[y.id]||(c[y.id]={})).type=y.type)}}Array.isArray(f.wangsets)&&(c=c||{},g=g||{},r(f.wangsets,c)),c&&(d.tileData=c,d.tileProperties=g)}else if(f.tileproperties&&(d.tileProperties=f.tileproperties),f.tiles){d.tileData=f.tiles;for(l in d.tileData){var C=d.tileData[l].objectgroup;if(C&&C.objects){var P=C.objects.map(function(Y){return a(Y)});d.tileData[l].objectgroup.objects=P}}}d.updateTileData(f.imagewidth,f.imageheight),s.push(d)}else{var b=new v(f.name,f.firstgid,f.tilewidth,f.tileheight,f.margin,f.spacing,f.properties),w=0;for(m=0;m<f.tiles.length;m++){y=f.tiles[m];var M=y.image,D=parseInt(y.id,10),O=f.firstgid+D,U=y.imagewidth,W=y.imageheight;b.addImage(O,M,U,W),w=Math.max(D,w)}b.maxId=w,o.push(b)}i&&(i.lastgid=f.firstgid-1),i=f}return{tilesets:s,imageCollections:o}};p.exports=n},57880:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){for(var v=0;v<t.length;v++){var a=t[v],r=v;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var n={},e={},s,o,i;if(Array.isArray(a.edgecolors))for(s=0;s<a.edgecolors.length;s++)i=1+s,o=a.edgecolors[s],o.name!==""&&(n[i]=o.name);if(Array.isArray(a.cornercolors))for(s=0;s<a.cornercolors.length;s++)i=1+s,o=a.cornercolors[s],o.name!==""&&(e[i]=o.name);if(Array.isArray(a.colors))for(s=0;s<a.colors.length;s++)o=a.colors[s],i=1+s,o.name!==""&&(n[i]=e[i]=o.name);for(var l=[n,e,n,e,n,e,n,e],u=0;u<a.wangtiles.length;u++){var f=a.wangtiles[u],d=h[f.tileid]||(h[f.tileid]={});d=d.wangid||(d.wangid={});for(var c=[],g=0;g<Math.min(l.length,f.wangid.length);g++){if(o=f.wangid[g],o===0){c.push(void 0);continue}var m=l[g][o];if(m!==void 0){c.push(m);continue}c.push(o)}d[r]=c}}}};p.exports=x},96761:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(37277),a=t(44594),r=t(94880),n=t(72905),e=new h({initialize:function(o){this.scene=o,this.systems=o.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(a.PRE_UPDATE,this.preUpdate,this),s.on(a.UPDATE,this.update,this),s.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var o;if(s instanceof r){if(o=s,this.removeEvent(o),o.elapsed=o.startAt,o.hasDispatched=!1,o.repeatCount=o.repeat===-1||o.loop?999999999999:o.repeat,o.delay<=0&&o.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else o=new r(s);return this._pendingInsertion.push(o),o},delayedCall:function(s,o,i,l){return this.addEvent({delay:s,callback:o,args:i,callbackScope:l})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=s[o];n(this._pendingRemoval,i),n(this._pendingInsertion,i),n(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,o=this._pendingInsertion.length;if(!(s===0&&o===0)){var i,l;for(i=0;i<s;i++){l=this._pendingRemoval[i];var u=this._active.indexOf(l);u>-1&&this._active.splice(u,1),l.destroy()}for(i=0;i<o;i++)l=this._pendingInsertion[i],this._active.push(l);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,o){if(this.now=s,!this.paused){o*=this.timeScale;for(var i=0;i<this._active.length;i++){var l=this._active[i];if(!l.paused&&(l.elapsed+=o*l.timeScale,l.elapsed>=l.delay)){var u=l.elapsed-l.delay;if(l.elapsed=l.delay,!l.hasDispatched&&l.callback&&(l.hasDispatched=!0,l.callback.apply(l.callbackScope,l.args)),l.repeatCount>0){if(l.repeatCount--,u>=l.delay)for(;u>=l.delay&&l.repeatCount>0;)l.callback&&l.callback.apply(l.callbackScope,l.args),u-=l.delay,l.repeatCount--;l.elapsed=u,l.hasDispatched=!1}else l.hasDispatched&&this._pendingRemoval.push(l)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var o=this.systems.events;o.off(a.PRE_UPDATE,this.preUpdate,this),o.off(a.UPDATE,this.update,this),o.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),p.exports=e},96120:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(39429),r=t(95540),n=t(44594),e=t(89809),s=new h({Extends:v,initialize:function(i,l){v.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(n.PRE_UPDATE,this.preUpdate,this),u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.destroy,this),l&&this.add(l)},preUpdate:function(o,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var o,i=this.events,l=!1,u=this.systems,f;for(o=0;o<i.length;o++){var d=i[o];if(!d.complete&&d.time<=this.elapsed){if(d.complete=!0,this.totalComplete++,f=d.target?d.target:this,d.if&&!d.if.call(f,d))continue;if(d.once&&(l=!0),d.set&&d.target)for(var c in d.set)d.target[c]=d.set[c];this.iteration&&d.repeat++,d.loop&&d.repeat&&d.loop.call(f),d.tween&&(d.tweenInstance=u.tweens.add(d.tween)),d.sound&&(typeof d.sound=="string"?u.sound.play(d.sound):u.sound.play(d.sound.key,d.sound.config)),d.event&&this.emit(d.event,f),d.run&&d.run.call(f),d.stop&&this.stop()}}if(l)for(o=0;o<i.length;o++)i[o].complete&&i[o].once&&(i.splice(o,1),o--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(o){return o===void 0&&(o=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,o&&this.reset(),this},pause:function(){this.paused=!0;for(var o=this.events,i=0;i<o.length;i++){var l=o[i];l.tweenInstance&&(l.tweenInstance.paused=!0)}return this},repeat:function(o){return(o===void 0||o===!0)&&(o=-1),o===!1&&(o=0),this.loop=o,this},resume:function(){this.paused=!1;for(var o=this.events,i=0;i<o.length;i++){var l=o[i];l.tweenInstance&&(l.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(o){o===void 0&&(o=!1),this.elapsed=0,o||(this.iteration=0);for(var i=this.events,l=0;l<i.length;l++){var u=i[l];u.complete=!1,o||(u.repeat=0),u.tweenInstance&&u.tweenInstance.stop()}return this.play(!1)},add:function(o){Array.isArray(o)||(o=[o]);var i=this.events,l=0;i.length>0&&(l=i[i.length-1].time);for(var u=0;u<o.length;u++){var f=o[u],d=r(f,"at",0),c=r(f,"in",null);c!==null&&(d=this.elapsed+c);var g=r(f,"from",null);g!==null&&(d=l+g),i.push({complete:!1,time:d,repeat:0,if:r(f,"if",null),run:r(f,"run",null),loop:r(f,"loop",null),event:r(f,"event",null),target:r(f,"target",null),set:r(f,"set",null),tween:r(f,"tween",null),sound:r(f,"sound",null),once:r(f,"once",!1),stop:r(f,"stop",!1)}),l=d}return this.complete=!1,this},clear:function(){for(var o=this.events,i=0;i<o.length;i++){var l=o[i];l.tweenInstance&&l.tweenInstance.stop()}return o=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var o=Math.min(this.totalComplete,this.events.length);return o/this.events.length},destroy:function(){var o=this.systems.events;o.off(n.PRE_UPDATE,this.preUpdate,this),o.off(n.UPDATE,this.update,this),o.off(n.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});a.register("timeline",function(o){return new s(this.scene,o)}),p.exports=s},94880:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(95540),a=new h({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(r){if(this.delay=v(r,"delay",0),this.repeat=v(r,"repeat",0),this.loop=v(r,"loop",!1),this.callback=v(r,"callback",void 0),this.callbackScope=v(r,"callbackScope",this),this.args=v(r,"args",[]),this.timeScale=v(r,"timeScale",1),this.startAt=v(r,"startAt",0),this.paused=v(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=a},35945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},89809:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(35945)}},90291:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),v=t(83419),a=t(43491),r=t(88032),n=t(37277),e=t(44594),s=t(93109),o=t(86081),i=t(8357),l=t(43960),u=t(26012),f=new v({initialize:function(c){this.scene=c,this.events=c.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var c=[],g=0;g<d.length;g++){var m=d[g];m instanceof o||m instanceof l?c.push(m):Array.isArray(m.tweens)?c.push(u(this,m)):c.push(i(this,m))}return c.length===1?c[0]:c},add:function(d){var c=d,g=this.tweens;return c instanceof o||c instanceof l||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),g.push(c.reset()),c},addMultiple:function(d){for(var c,g=[],m=this.tweens,y=0;y<d.length;y++)c=d[y],c instanceof o||c instanceof l||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),m.push(c.reset()),g.push(c);return g},chain:function(d){var c=u(this,d);return this.tweens.push(c.init()),c},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var c=r(this,d);return this.tweens.push(c.reset()),c},stagger:function(d,c){return s(d,c)},setLagSmooth:function(d,c){return d===void 0&&(d=1/1e-8),c===void 0&&(c=0),this.maxLag=d,this.lagSkip=Math.min(c,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var c=Date.now()-this.prevTime;c>this.maxLag&&(this.startTime+=c-this.lagSkip),this.prevTime+=c;var g=this.prevTime-this.startTime,m=g-this.nextTime,y=g-this.time*1e3;return m>0||d?(g/=1e3,this.time=g,this.nextTime+=m+(m>=this.gap?4:this.gap-m)):y=0,y},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var c=this.getDelta(d);if(!(c<=0)){this.processing=!0;var g,m,y=[],T=this.tweens;for(g=0;g<T.length;g++)m=T[g],m.update(c)&&y.push(m);var S=y.length;if(S&&T.length>0){for(g=0;g<S;g++){m=y[g];var C=T.indexOf(m);C>-1&&(m.isPendingRemove()||m.isDestroyed())&&(T.splice(C,1),m.destroy())}y.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(h(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,c){var g,m=[null];for(g=1;g<arguments.length;g++)m.push(arguments[g]);return this.tweens.forEach(function(y){m[0]=y,d.apply(c,m)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var c=[],g=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var m=d.length,y=0;y<g.length;y++)for(var T=g[y],S=0;S<m;S++)!T.isDestroyed()&&T.hasTarget(d[S])&&c.push(T);return c},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var c=this.tweens,g,m=0;m<c.length;m++)if(g=c[m],g.isPlaying()&&g.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,c=0;c<d.length;c++)d[c].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var c=this.getTweensOf(d),g=0;g<c.length;g++)c[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",f,"tweens"),p.exports=f},57355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){return t&&t.hasOwnProperty(h)?t[h]:v};p.exports=x},6113:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62640),v=t(35355),a=function(r,n){var e=h.Power0;if(typeof r=="string")if(h.hasOwnProperty(r))e=h[r];else{var s="";if(r.indexOf(".")){s=r.substring(r.indexOf(".")+1);var o=s.toLowerCase();o==="in"?s="easeIn":o==="out"?s="easeOut":o==="inout"&&(s="easeInOut")}r=v(r.substring(0,r.indexOf(".")+1)+s),h.hasOwnProperty(r)&&(e=h[r])}else typeof r=="function"&&(e=r);if(!n)return e;var i=n.slice(0);return i.unshift(0),function(l){return i[0]=l,e.apply(this,i)}};p.exports=a},91389:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89318),v=t(77259),a=t(28392),r={bezier:h,catmull:v,catmullrom:v,linear:a},n=function(e){if(e===null)return null;var s=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(s=r[e]):typeof e=="function"&&(s=e),s};p.exports=n},55292:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a;if(t.hasOwnProperty(h)){var r=typeof t[h];r==="function"?a=function(n,e,s,o,i,l){return t[h](n,e,s,o,i,l)}:a=function(){return t[h]}}else typeof v=="function"?a=v:a=function(){return v};return a};p.exports=x},82985:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81076),v=function(a){var r,n=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&n.push({key:r,value:a.props[r]});else for(r in a)h.indexOf(r)===-1&&r.substring(0,1)!=="_"&&n.push({key:r,value:a[r]});return n};p.exports=v},62329:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),v=function(a){var r=h(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=v},17777:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30976),v=t(99472);function a(o){return!!o.getActive&&typeof o.getActive=="function"}function r(o){return!!o.getStart&&typeof o.getStart=="function"}function n(o){return!!o.getEnd&&typeof o.getEnd=="function"}function e(o){return r(o)||n(o)||a(o)}var s=function(o,i){var l,u=function(Y,X,N){return N},f=function(Y,X,N){return N},d=null,c=typeof i;if(c==="number")u=function(){return i};else if(Array.isArray(i))f=function(){return i[0]},u=function(){return i[i.length-1]};else if(c==="string"){var g=i.toLowerCase(),m=g.substring(0,6)==="random",y=g.substring(0,3)==="int";if(m||y){var T=g.indexOf("("),S=g.indexOf(")"),C=g.indexOf(",");if(T&&S&&C){var P=parseFloat(g.substring(T+1,C)),b=parseFloat(g.substring(C+1,S));m?u=function(){return v(P,b)}:u=function(){return h(P,b)}}else throw new Error("invalid random() format")}else{g=g[0];var w=parseFloat(i.substr(2));switch(g){case"+":u=function(Y,X,N){return N+w};break;case"-":u=function(Y,X,N){return N-w};break;case"*":u=function(Y,X,N){return N*w};break;case"/":u=function(Y,X,N){return N/w};break;default:u=function(){return parseFloat(i)}}}}else if(c==="function")u=i;else if(c==="object")if(e(i))a(i)&&(d=i.getActive),n(i)&&(u=i.getEnd),r(i)&&(f=i.getStart);else if(i.hasOwnProperty("value"))l=s(o,i.value);else{var M=i.hasOwnProperty("to"),D=i.hasOwnProperty("from"),O=i.hasOwnProperty("start");if(M&&(D||O)){if(l=s(o,i.to),O){var U=s(o,i.start);l.getActive=U.getEnd}if(D){var W=s(o,i.from);l.getStart=W.getEnd}}}return l||(l={getActive:d,getEnd:u,getStart:f}),l};p.exports=s},88032:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),v=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(55292),o=t(35154),i=t(17777),l=t(269),u=t(86081),f=function(d,c,g){if(c instanceof u)return c.parent=d,c;g===void 0?g=v:g=l(v,g);var m=e(c,"from",0),y=e(c,"to",1),T=[{value:m}],S=e(c,"delay",g.delay),C=e(c,"easeParams",g.easeParams),P=e(c,"ease",g.ease),b=i("value",y),w=new u(d,T),M=w.add(0,"value",b.getEnd,b.getStart,b.getActive,n(e(c,"ease",P),e(c,"easeParams",C)),s(c,"delay",S),e(c,"duration",g.duration),r(c,"yoyo",g.yoyo),e(c,"hold",g.hold),e(c,"repeat",g.repeat),e(c,"repeatDelay",g.repeatDelay),!1,!1);M.start=m,M.current=m,w.completeDelay=a(c,"completeDelay",0),w.loop=Math.round(a(c,"loop",0)),w.loopDelay=Math.round(a(c,"loopDelay",0)),w.paused=r(c,"paused",!1),w.persist=r(c,"persist",!1),w.isNumberTween=!0,w.callbackScope=o(c,"callbackScope",w);for(var D=h.TYPES,O=0;O<D.length;O++){var U=D[O],W=o(c,U,!1);if(W){var Y=o(c,U+"Params",[]);w.setCallback(U,W,Y)}}return w};p.exports=f},93109:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6113),v=t(35154),a=t(36383),r=function(n,e){e===void 0&&(e={});var s,o=v(e,"start",0),i=v(e,"ease",null),l=v(e,"grid",null),u=v(e,"from",0),f=u==="first",d=u==="center",c=u==="last",g=typeof u=="number",m=Array.isArray(n),y=parseFloat(m?n[0]:n),T=m?parseFloat(n[1]):0,S=Math.max(y,T);if(m&&(o+=y),l){var C=l[0],P=l[1],b=0,w=0,M=0,D=0,O=[];c?(b=C-1,w=P-1):g?(b=u%C,w=Math.floor(u/C)):d&&(b=(C-1)/2,w=(P-1)/2);for(var U=a.MIN_SAFE_INTEGER,W=0;W<P;W++){O[W]=[];for(var Y=0;Y<C;Y++){M=b-Y,D=w-W;var X=Math.sqrt(M*M+D*D);X>U&&(U=X),O[W][Y]=X}}}var N=i?h(i):null;return l?s=function(V,I,B,G){var H=0,k=G%C,Z=Math.floor(G/C);k>=0&&k<C&&Z>=0&&Z<P&&(H=O[Z][k]);var J;if(m){var j=T-y;N?J=H/U*j*N(H/U):J=H/U*j}else N?J=H*y*N(H/U):J=H*y;return J+o}:s=function(V,I,B,G,H){H--;var k;f?k=G:d?k=Math.abs(H/2-G):c?k=H-G:g&&(k=Math.abs(u-G));var Z;if(m){var J;d?J=(T-y)/H*(k*2):J=(T-y)/H*k,N?Z=J*N(k/H):Z=J}else N?Z=H*S*N(k/H):Z=k*y;return Z+o},s};p.exports=r},8357:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),v=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(91389),o=t(55292),i=t(82985),l=t(62329),u=t(35154),f=t(17777),d=t(269),c=t(86081),g=function(m,y,T){if(y instanceof c)return y.parent=m,y;T===void 0?T=v:T=d(v,T);var S=l(y);!S&&T.targets&&(S=T.targets);for(var C=i(y),P=e(y,"delay",T.delay),b=e(y,"duration",T.duration),w=e(y,"easeParams",T.easeParams),M=e(y,"ease",T.ease),D=e(y,"hold",T.hold),O=e(y,"repeat",T.repeat),U=e(y,"repeatDelay",T.repeatDelay),W=r(y,"yoyo",T.yoyo),Y=r(y,"flipX",T.flipX),X=r(y,"flipY",T.flipY),N=e(y,"interpolation",T.interpolation),V=function(et,rt,at,st){if(at==="texture"){var ct=st,pt=void 0;Array.isArray(st)?(ct=st[0],pt=st[1]):st.hasOwnProperty("value")?(ct=st.value,Array.isArray(st.value)?(ct=st.value[0],pt=st.value[1]):typeof st.value=="string"&&(ct=st.value)):typeof st=="string"&&(ct=st),et.addFrame(rt,ct,pt,o(st,"delay",P),e(st,"duration",b),e(st,"hold",D),e(st,"repeat",O),e(st,"repeatDelay",U),r(st,"flipX",Y),r(st,"flipY",X))}else{var vt=f(at,st),nt=s(e(st,"interpolation",N));et.add(rt,at,vt.getEnd,vt.getStart,vt.getActive,n(e(st,"ease",M),e(st,"easeParams",w)),o(st,"delay",P),e(st,"duration",b),r(st,"yoyo",W),e(st,"hold",D),e(st,"repeat",O),e(st,"repeatDelay",U),r(st,"flipX",Y),r(st,"flipY",X),nt,nt?st:null)}},I=new c(m,S),B=0;B<C.length;B++)for(var G=C[B].key,H=C[B].value,k=0;k<S.length;k++)G==="scale"&&!S[k].hasOwnProperty("scale")?(V(I,k,"scaleX",H),V(I,k,"scaleY",H)):V(I,k,G,H);I.completeDelay=a(y,"completeDelay",0),I.loop=Math.round(a(y,"loop",0)),I.loopDelay=Math.round(a(y,"loopDelay",0)),I.paused=r(y,"paused",!1),I.persist=r(y,"persist",!1),I.callbackScope=e(y,"callbackScope",I);for(var Z=h.TYPES,J=0;J<Z.length;J++){var j=Z[J],_=u(y,j,!1);if(_){var tt=u(y,j+"Params",[]);I.setCallback(j,_,tt)}}return I};p.exports=g},26012:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),v=t(23568),a=t(57355),r=t(62329),n=t(35154),e=t(8357),s=t(43960),o=function(i,l){if(l instanceof s)return l.parent=i,l;var u=new s(i);u.startDelay=n(l,"delay",0),u.completeDelay=v(l,"completeDelay",0),u.loop=Math.round(v(l,"loop",n(l,"repeat",0))),u.loopDelay=Math.round(v(l,"loopDelay",n(l,"repeatDelay",0))),u.paused=a(l,"paused",!1),u.persist=a(l,"persist",!1),u.callbackScope=n(l,"callbackScope",u);var f,d=h.TYPES;for(f=0;f<d.length;f++){var c=d[f],g=n(l,c,!1);if(g){var m=n(l,c+"Params",[]);u.setCallback(c,g,m)}}var y=n(l,"tweens",null);if(Array.isArray(y)){var T=[],S=r(l),C=void 0;for(S&&(C={targets:S}),f=0;f<y.length;f++)T.push(e(u,y[f],C));u.add(T)}return u};p.exports=o},30231:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},98540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},67233:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},2859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},98336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},25764:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},32193:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},84371:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},70766:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},55659:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},842:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};p.exports=h},70402:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(50792),a=t(842),r=t(86353),n=new h({Extends:v,initialize:function(s){v.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,o){return o===void 0&&(o=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:o}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=n},95042:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83419),v=t(842),a=t(86353),r=new h({initialize:function(e,s,o,i,l,u,f,d,c,g){this.tween=e,this.targetIndex=s,this.duration=i<=0?.01:i,this.totalDuration=0,this.delay=0,this.getDelay=o,this.yoyo=l,this.hold=u,this.repeat=f,this.repeatDelay=d,this.repeatCounter=0,this.flipX=c,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,s=this.targetIndex,o=n.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(o,i,0,s,e,n),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var l=this.duration+this.hold;this.yoyo&&(l+=this.duration);var u=l+this.repeatDelay;this.totalDuration=this.delay+l,this.repeat===-1?(this.totalDuration+=u*a.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,s){var o=this.tween,i=o.totalTargets,l=this.targetIndex,u=o.targets[l],f=this.key,d=f!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),d&&(e||s)&&(this.start=this.getStartValue(u,f,this.start,l,i,o)),s){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(u,f,this.start,l,i,o)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,d&&(this.current=this.start,u[f]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},69902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=x},81076:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70402),v=t(83419),a=t(842),r=t(44603),n=t(39429),e=t(36383),s=t(86353),o=t(48177),i=t(42220),l=new v({Extends:h,initialize:function(f,d){h.call(this,f),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(u,f,d,c,g,m,y,T,S,C,P,b,w,M,D,O){var U=new o(this,u,f,d,c,g,m,y,T,S,C,P,b,w,M,D,O);return this.totalData=this.data.push(U),U},addFrame:function(u,f,d,c,g,m,y,T,S,C){var P=new i(this,u,f,d,c,g,m,y,T,S,C);return this.totalData=this.data.push(P),P},getValue:function(u){u===void 0&&(u=0);var f=null;return this.data&&(f=this.data[u].current),f},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,f,d){if(d===void 0&&(d=!1),u!=="texture")for(var c=0;c<this.totalData;c++){var g=this.data[c];g.key===u&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=f,d&&(g.start=g.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,f,d){if(u===void 0&&(u=0),f===void 0&&(f=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var c=this.paused;if(this.paused=!1,u>0){for(var g=Math.floor(u/f),m=u-g*f,y=0;y<g;y++)this.update(f);m>0&&this.update(m)}return this.paused=c,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var f=this.data,d=0;d<this.totalData;d++)f[d].reset(u);this.duration=Math.max(this.duration,.01);var c=this.duration,g=this.completeDelay,m=this.loopCounter,y=this.loopDelay;m>0?this.totalDuration=c+g+(c+y)*m:this.totalDuration=c+g},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),u=0));var f=!1;if(this.isActive())for(var d=this.data,c=0;c<this.totalData;c++)d[c].update(u)&&(f=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),f||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,f){if(!this.isSeeking){if(this.emit(u,this,this.targets),!this.callbacks)return;var d=this.callbacks[f];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(u){return this.scene.sys.tweens.add(u)}),r.register("tween",function(u){return this.scene.sys.tweens.create(u)}),p.exports=l},43960:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72905),v=t(70402),a=t(83419),r=t(842),n=t(44603),e=t(39429),s=t(86353),o=new a({Extends:v,initialize:function(l){v.call(this,l),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var l=this.parent.create(i);Array.isArray(l)||(l=[l]);for(var u=this.data,f=0;f<l.length;f++){var d=l[f];d.parent=this,u.push(d.reset())}return this.totalData=u.length,this},remove:function(i){return h(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var l=this.data,u=0;u<this.totalData;u++)if(l[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,l=this.totalData,u=0;u<l;u++)i[u].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(i*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(i),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(i),!1;this.hasStarted||(this.startDelay-=i,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(r.TWEEN_START,"onStart"),i=0));var l=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),l=this.isPendingRemove(),l&&this.persist&&(this.setFinishedState(),l=!1)),l},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,l){this.emit(i,this);var u=this.callbacks[l];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),n.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),p.exports=o},48177:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),v=t(45319),a=t(83419),r=t(842),n=new a({Extends:h,initialize:function(s,o,i,l,u,f,d,c,g,m,y,T,S,C,P,b,w){h.call(this,s,o,c,g,m,y,T,S,C,P),this.key=i,this.getActiveValue=f,this.getEndValue=l,this.getStartValue=u,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=b,this.interpolationData=w},reset:function(e){h.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],o=this.key;e&&(s[o]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[o]=this.getActiveValue(s,o,0))},update:function(e){var s=this.tween,o=s.totalTargets,i=this.targetIndex,l=s.targets[i],u=this.key;if(!l)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(l,u,l[u],i,o,s),this.end=this.getEndValue(l,u,this.start,i,o,s),this.current=this.start,l[u]=this.start,this.setPlayingForwardState(),!0;var f=this.isPlayingForward(),d=this.isPlayingBackward();if(f||d){var c=this.elapsed,g=this.duration,m=0,y=!1;c+=e,c>=g?(m=c-g,c=g,y=!0):c<0&&(c=0);var T=v(c/g,0,1);this.elapsed=c,this.progress=T,this.previous=this.current,f||(T=1-T);var S=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,S):this.current=this.start+(this.end-this.start)*S,l[u]=this.current,y&&(f?(s.isNumberTween&&(this.current=this.end,l[u]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(s.isNumberTween&&(this.current=this.start,l[u]=this.current),this.setStateFromStart(m))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],l=this.key,u=this.current,f=this.previous;o.emit(e,o,l,i,u,f);var d=o.callbacks[s];d&&d.func.apply(o.callbackScope,[o,i,l,u,f].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=n},42220:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95042),v=t(45319),a=t(83419),r=t(842),n=new a({Extends:h,initialize:function(s,o,i,l,u,f,d,c,g,m,y){h.call(this,s,o,u,f,!1,d,c,g,m,y),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=l,this.yoyo=c!==0},reset:function(e){h.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,o=this.targetIndex,i=s.targets[o];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),u=this.isPlayingBackward();if(l||u){var f=this.elapsed,d=this.duration,c=0,g=!1;f+=e,f>=d?(c=f-d,f=d,g=!0):f<0&&(f=0);var m=v(f/d,0,1);this.elapsed=f,this.progress=m,g&&(l?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(c))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],l=this.key;o.emit(e,o,l,i);var u=o.callbacks[s];u&&u.func.apply(o.callbackScope,[o,i,l].concat(u.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=n},86353:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=x},83419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,s){var o=s?n[e]:Object.getOwnPropertyDescriptor(n,e);return!s&&o.value&&typeof o.value=="object"&&(o=o.value),o&&x(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function h(n,e){var s=Object.getOwnPropertyDescriptor(n,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function v(n,e,s,o){for(var i in e)if(e.hasOwnProperty(i)){var l=t(e,i,s);if(l!==!1){var u=o||n;if(h(u.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,i,l)}else n.prototype[i]=e[i]}}function a(n,e){if(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)v(n,e[s].prototype||e[s])}}function r(n){n||(n={});var e,s;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var o=n.Extends;e=function(){o.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,s=n.Extends,delete n.Extends):e.prototype.constructor=e;var i=null;return n.Mixins&&(i=n.Mixins,delete n.Mixins),a(e,i),v(e,n,!0,s),e}r.extend=v,r.mixin=a,r.ignoreFinals=!1,p.exports=r},29747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};p.exports=x},20242:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};p.exports=x},71146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r){if(r===void 0&&(r=t),v>0){var n=v-t.length;if(n<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),a&&a.call(r,h),h):null;for(var e=h.length-1;e>=0;)t.indexOf(h[e])!==-1&&h.splice(e,1),e--;if(e=h.length,e===0)return null;v>0&&e>n&&(h.splice(n),e=n);for(var s=0;s<e;s++){var o=h[s];t.push(o),a&&a.call(r,o)}return h};p.exports=x},51067:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a,r,n){if(v===void 0&&(v=0),n===void 0&&(n=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(v,0,h),r&&r.call(n,h),h):null;for(var s=h.length-1;s>=0;)t.indexOf(h[s])!==-1&&h.pop(),s--;if(s=h.length,s===0)return null;a>0&&s>e&&(h.splice(e),s=e);for(var o=s-1;o>=0;o--){var i=h[o];t.splice(v,0,i),r&&r.call(n,i)}return h};p.exports=x},66905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.indexOf(h);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(h)),h};p.exports=x},21612:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),v=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=0;if(h(a,e,s))for(var i=e;i<s;i++){var l=a[i];l[r]===n&&o++}return o};p.exports=v},95428:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],h.apply(v,r);return t};p.exports=x},36914:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),v=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),h(a,e,s)){var o,i=[null];for(o=5;o<arguments.length;o++)i.push(arguments[o]);for(o=e;o<s;o++)i[0]=a[o],r.apply(n,i)}return a};p.exports=v},81957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(h.length){if(h.length===1)return h[0]}else return NaN;var a=1,r,n;if(v){if(t<h[0][v])return h[0];for(;h[a][v]<t;)a++}else for(;h[a]<t;)a++;return a>h.length&&(a=h.length),v?(r=h[a-1][v],n=h[a][v],n-t<=t-r?h[a]:h[a-1]):(r=h[a-1],n=h[a],n-t<=t-r?n:r)};p.exports=x},43491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?x(t[v],h):h.push(t[v]);return h};p.exports=x},46710:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),v=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=[];if(h(a,e,s))for(var i=e;i<s;i++){var l=a[i];(!r||r&&n===void 0&&l.hasOwnProperty(r)||r&&n!==void 0&&l[r]===n)&&o.push(l)}return o};p.exports=v},58731:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),v=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),e!==-1){if(h(a,e,s))for(var o=e;o<s;o++){var i=a[o];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}}else if(h(a,0,s))for(var o=s;o>=0;o--){var i=a[o];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}return null};p.exports=v},26546:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){h===void 0&&(h=0),v===void 0&&(v=t.length);var a=h+Math.floor(Math.random()*v);return t[a]===void 0?null:t[a]};p.exports=x},85835:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(h===v)return t;var a=t.indexOf(h),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r=t.indexOf(v),t.splice(r+1,0,h)),t};p.exports=x},83371:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(h===v)return t;var a=t.indexOf(h),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(h):t.splice(r,0,h)),t};p.exports=x},70864:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.indexOf(h);if(v>0){var a=t[v-1],r=t.indexOf(a);t[v]=a,t[r]=h}return t};p.exports=x},69693:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=t.indexOf(h);if(a===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return a!==v&&(t.splice(a,1),t.splice(v,0,h)),h};p.exports=x},40853:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.indexOf(h);if(v!==-1&&v<t.length-1){var a=t[v+1],r=t.indexOf(a);t[v]=a,t[r]=h}return t};p.exports=x},20283:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=[],n,e=!1;if((v||a)&&(e=!0,v||(v=""),a||(a="")),h<t)for(n=t;n>=h;n--)e?r.push(v+n.toString()+a):r.push(n);else for(n=t;n<=h;n++)e?r.push(v+n.toString()+a):r.push(n);return r};p.exports=x},593:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2284),v=function(a,r,n){a===void 0&&(a=0),r===void 0&&(r=null),n===void 0&&(n=1),r===null&&(r=a,a=0);for(var e=[],s=Math.max(h((r-a)/(n||1)),0),o=0;o<s;o++)e.push(a),a+=n;return e};p.exports=v},43886:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(v,a,r){var n=v[a];v[a]=v[r],v[r]=n}function t(v,a){return v<a?-1:v>a?1:0}var h=function(v,a,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=v.length-1),e===void 0&&(e=t);n>r;){if(n-r>600){var s=n-r+1,o=a-r+1,i=Math.log(s),l=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*l*(s-l)/s)*(o-s/2<0?-1:1),f=Math.max(r,Math.floor(a-o*l/s+u)),d=Math.min(n,Math.floor(a+(s-o)*l/s+u));h(v,a,f,d,e)}var c=v[a],g=r,m=n;for(x(v,r,a),e(v[n],c)>0&&x(v,r,n);g<m;){for(x(v,g,m),g++,m--;e(v[g],c)<0;)g++;for(;e(v[m],c)>0;)m--}e(v[r],c)===0?x(v,r,m):(m++,x(v,m,n)),m<=a&&(r=m+1),a<=m&&(n=m-1)}};p.exports=h},88492:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),v=t(33680),a=function(n,e,s){for(var o=[],i=0;i<n.length;i++)for(var l=0;l<e.length;l++)for(var u=0;u<s;u++)o.push({a:n[i],b:e[l]});return o},r=function(n,e,s){var o=h(s,"max",0),i=h(s,"qty",1),l=h(s,"random",!1),u=h(s,"randomB",!1),f=h(s,"repeat",0),d=h(s,"yoyo",!1),c=[];if(u&&v(e),f===-1)if(o===0)f=0;else{var g=n.length*e.length*i;d&&(g*=2),f=Math.ceil(o/g)}for(var m=0;m<=f;m++){var y=a(n,e,i);l&&v(y),c=c.concat(y),d&&(y.reverse(),c=c.concat(y))}return o&&c.splice(o),c};p.exports=r},72905:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),v=function(a,r,n,e){e===void 0&&(e=a);var s;if(!Array.isArray(r))return s=a.indexOf(r),s!==-1?(h(a,s),n&&n.call(e,r),r):null;for(var o=r.length-1,i=[];o>=0;){var l=r[o];s=a.indexOf(l),s!==-1&&(h(a,s),i.push(l),n&&n.call(e,l)),o--}return i};p.exports=v},60248:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),v=function(a,r,n,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var s=h(a,r);return n&&n.call(e,s),s};p.exports=v},81409:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),v=function(a,r,n,e,s){if(r===void 0&&(r=0),n===void 0&&(n=a.length),s===void 0&&(s=a),h(a,r,n)){var o=n-r,i=a.splice(r,o);if(e)for(var l=0;l<i.length;l++){var u=i[l];e.call(s,u)}return i}else return[]};p.exports=v},31856:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19133),v=function(a,r,n){r===void 0&&(r=0),n===void 0&&(n=a.length);var e=r+Math.floor(Math.random()*n);return h(a,e)};p.exports=v},42169:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=t.indexOf(h),r=t.indexOf(v);return a!==-1&&r===-1?(t[a]=v,!0):!1};p.exports=x},86003:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=1);for(var v=null,a=0;a<h;a++)v=t.shift(),t.push(v);return v};p.exports=x},49498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){h===void 0&&(h=1);for(var v=null,a=0;a<h;a++)v=t.pop(),t.unshift(v);return v};p.exports=x},82011:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){var r=t.length;if(h<0||h>=r||h>=v||v>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=x},89545:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){var v=t.indexOf(h);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(h)),h};p.exports=x},17810:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82011),v=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),h(a,e,s))for(var o=e;o<s;o++){var i=a[o];i.hasOwnProperty(r)&&(i[r]=n)}return a};p.exports=v},33680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var h=t.length-1;h>0;h--){var v=Math.floor(Math.random()*(h+1)),a=t[h];t[h]=t[v],t[v]=a}return t};p.exports=x},90126:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h=/\D/g;return t.sort(function(v,a){return parseInt(v.replace(h,""),10)-parseInt(a.replace(h,""),10)}),t};p.exports=x},19133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){if(!(h>=t.length)){for(var v=t.length-1,a=t[h],r=h;r<v;r++)t[r]=t[r+1];return t.length=v,a}};p.exports=x},19186:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82264);function v(e,s){return String(e).localeCompare(s)}function a(e,s){var o=e.length;if(o<=1)return e;for(var i=new Array(o),l=1;l<o;l*=2){r(e,s,l,i);var u=e;e=i,i=u}return e}function r(e,s,o,i){var l=e.length,u=0,f=o*2,d,c,g,m,y;for(d=0;d<l;d+=f)for(c=d+o,g=c+o,c>l&&(c=l),g>l&&(g=l),m=d,y=c;;)if(m<c&&y<g)s(e[m],e[y])<=0?i[u++]=e[m++]:i[u++]=e[y++];else if(m<c)i[u++]=e[m++];else if(y<g)i[u++]=e[y++];else break}var n=function(e,s){if(s===void 0&&(s=v),!e||e.length<2)return e;if(h.features.stableSort)return e.sort(s);var o=a(e,s);return o!==e&&r(o,null,e.length,e),e};p.exports=n},25630:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(h===v)return t;var a=t.indexOf(h),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=v,t[r]=h,t};p.exports=x},37105:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,v=1;v<t.length;v++)if(t[v].length!==h)return!1;return!0};p.exports=x},63362:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41836),v=t(86922),a=function(r){var n="";if(!v(r))return n;for(var e=0;e<r.length;e++){for(var s=0;s<r[e].length;s++){var o=r[e][s].toString();o!=="undefined"?n+=h(o,2):n+="?",s<r[e].length-1&&(n+=" |")}if(e<r.length-1){n+=`
`;for(var i=0;i<r[e].length;i++)n+="---",i<r[e].length-1&&(n+="+");n+=`
`}}return n};p.exports=a},92598:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.reverse()};p.exports=x},21224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};p.exports=x},98717:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),v=function(a){return h(a,180)};p.exports=v},44657:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),v=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=h(a,90);return a};p.exports=v},37829:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86922),v=t(2429),a=function(r,n){if(n===void 0&&(n=90),!h(r))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")r=v(r),r.reverse();else if(n===-90||n===270||n==="rotateRight")r.reverse(),r=v(r);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=a},92632:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37829),v=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=h(a,-90);return a};p.exports=v},69512:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86003),v=t(49498),a=function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?h(r,Math.abs(e)):v(r,e)),n!==0)for(var s=0;s<r.length;s++){var o=r[s];n<0?h(o,Math.abs(n)):v(o,n)}return r};p.exports=a},2429:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var h=t.length,v=t[0].length,a=new Array(v),r=0;r<v;r++){a[r]=new Array(h);for(var n=h-1;n>-1;n--)a[r][n]=t[n][r]}return a};p.exports=x},54915:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,v){for(var a=new Uint8Array(h),r=a.length,n=v?"data:"+v+";base64,":"",e=0;e<r;e+=3)n+=x[a[e]>>2],n+=x[(a[e]&3)<<4|a[e+1]>>4],n+=x[(a[e+1]&15)<<2|a[e+2]>>6],n+=x[a[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};p.exports=t},53134:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<x.length;h++)t[x.charCodeAt(h)]=h;var v=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,n=r*.75,e=0,s,o,i,l;a[r-1]==="="&&(n--,a[r-2]==="="&&n--);for(var u=new ArrayBuffer(n),f=new Uint8Array(u),d=0;d<r;d+=4)s=t[a.charCodeAt(d)],o=t[a.charCodeAt(d+1)],i=t[a.charCodeAt(d+2)],l=t[a.charCodeAt(d+3)],f[e++]=s<<2|o>>4,f[e++]=(o&15)<<4|i>>2,f[e++]=(i&3)<<6|l&63;return u};p.exports=v},65839:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h={};for(var v in t)Array.isArray(t[v])?h[v]=t[v].slice(0):h[v]=t[v];return h};p.exports=x},62644:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var h,v,a;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(a in t)v=t[a],h[a]=x(v);return h};p.exports=x},79291:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41212),v=function(){var a,r,n,e,s,o,i=arguments[0]||{},l=1,u=arguments.length,f=!1;for(typeof i=="boolean"&&(f=i,i=arguments[1]||{},l=2),u===l&&(i=this,--l);l<u;l++)if((a=arguments[l])!=null)for(r in a)n=i[r],e=a[r],i!==e&&(f&&e&&(h(e)||(s=Array.isArray(e)))?(s?(s=!1,o=n&&Array.isArray(n)?n:[]):o=n&&h(n)?n:{},i[r]=v(f,o,e)):e!==void 0&&(i[r]=e));return i};p.exports=v},23568:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75508),v=t(35154),a=function(r,n,e){var s=v(r,n,null);if(s===null)return e;if(Array.isArray(s))return h.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return h.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return h.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(n);return s};p.exports=a},95540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){var a=typeof t;return!t||a==="number"||a==="string"?v:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:v};p.exports=x},82840:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35154),v=t(45319),a=function(r,n,e,s,o){o===void 0&&(o=e);var i=h(r,n,o);return v(i,e,s)};p.exports=a},35154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){if(!t&&!a||typeof t=="number")return v;if(t&&t.hasOwnProperty(h))return t[h];if(a&&a.hasOwnProperty(h))return a[h];if(h.indexOf(".")!==-1){for(var r=h.split("."),n=t,e=a,s=v,o=v,i=!0,l=!0,u=0;u<r.length;u++)n&&n.hasOwnProperty(r[u])?(s=n[r[u]],n=n[r[u]]):i=!1,e&&e.hasOwnProperty(r[u])?(o=e[r[u]],e=e[r[u]]):l=!1;return i?s:l?o:v}else return v};p.exports=x},69036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){for(var v=0;v<h.length;v++)if(!t.hasOwnProperty(h[v]))return!1;return!0};p.exports=x},1985:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){for(var v=0;v<h.length;v++)if(t.hasOwnProperty(h[v]))return!0;return!1};p.exports=x},97022:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.hasOwnProperty(h)};p.exports=x},41212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=x},46975:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),v=function(a,r){var n=h(a);for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e]);return n};p.exports=v},269:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(41786),v=function(a,r){var n=h(a);for(var e in r)n.hasOwnProperty(e)&&(n[e]=r[e]);return n};p.exports=v},18254:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97022),v=function(a,r){for(var n={},e=0;e<r.length;e++){var s=r[e];h(a,s)&&(n[s]=a[s])}return n};p.exports=v},61622:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=v,!0;if(h.indexOf(".")!==-1){for(var a=h.split("."),r=t,n=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))n=r,r=r[a[e]];else return!1;return n[a[a.length-1]]=v,!0}return!1};p.exports=x},1183:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return t.replace(/%([0-9]+)/g,function(v,a){return h[Number(a)-1]})};p.exports=x},41836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h,v,a){h===void 0&&(h=0),v===void 0&&(v=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(h+1>=t.length)switch(a){case 1:t=new Array(h+1-t.length).join(v)+t;break;case 3:var n=Math.ceil((r=h-t.length)/2),e=r-n;t=new Array(e+1).join(v)+t+new Array(n+1).join(v);break;default:t=t+new Array(h+1-t.length).join(v);break}return t};p.exports=x},33628:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,h){return h===0?t.slice(1):t.slice(0,h)+t.slice(h+1)};p.exports=x},27671:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.split("").reverse().join("")};p.exports=x},45650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,v=t==="x"?h:h&3|8;return v.toString(16)})};p.exports=x},35355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=x},31749:(p,x,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},L={};function F(p){var x=L[p];if(x!==void 0)return x.exports;var t=L[p]={exports:{}};return A[p](t,t.exports,F),t.exports}F.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var z=F(85454);return z})())})(Zn);var re=Zn.exports;const gt=mr(re);var Rt,mt,Vn,Ue=(Vn=class{constructor(R){Pt(this,Rt);Pt(this,mt,0);ft(this,Rt,new DataView(R.buffer)),ft(this,mt,R.byteOffset)}get offset(){return q(this,mt)}readUInt8Array(){const R=this.readU32(),E=new Uint8Array(q(this,Rt).buffer,q(this,mt),R);return ft(this,mt,q(this,mt)+R),E}readBool(){const R=q(this,Rt).getUint8(q(this,mt));return ft(this,mt,q(this,mt)+1),R!==0}readByte(){const R=q(this,Rt).getUint8(q(this,mt));return ft(this,mt,q(this,mt)+1),R}readBytes(R){const E=new DataView(q(this,Rt).buffer,q(this,mt),R);return ft(this,mt,q(this,mt)+R),new Uint8Array(E.buffer)}readI8(){const R=q(this,Rt).getInt8(q(this,mt));return ft(this,mt,q(this,mt)+1),R}readU8(){const R=q(this,Rt).getUint8(q(this,mt));return ft(this,mt,q(this,mt)+1),R}readI16(){const R=q(this,Rt).getInt16(q(this,mt),!0);return ft(this,mt,q(this,mt)+2),R}readU16(){const R=q(this,Rt).getUint16(q(this,mt),!0);return ft(this,mt,q(this,mt)+2),R}readI32(){const R=q(this,Rt).getInt32(q(this,mt),!0);return ft(this,mt,q(this,mt)+4),R}readU32(){const R=q(this,Rt).getUint32(q(this,mt),!0);return ft(this,mt,q(this,mt)+4),R}readI64(){const R=q(this,Rt).getBigInt64(q(this,mt),!0);return ft(this,mt,q(this,mt)+8),R}readU64(){const R=q(this,Rt).getBigUint64(q(this,mt),!0);return ft(this,mt,q(this,mt)+8),R}readU128(){const R=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigUint64(q(this,mt)+8,!0);return ft(this,mt,q(this,mt)+16),(E<<BigInt(64))+R}readI128(){const R=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigInt64(q(this,mt)+8,!0);return ft(this,mt,q(this,mt)+16),(E<<BigInt(64))+R}readU256(){const R=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigUint64(q(this,mt)+8,!0),A=q(this,Rt).getBigUint64(q(this,mt)+16,!0),L=q(this,Rt).getBigUint64(q(this,mt)+24,!0);return ft(this,mt,q(this,mt)+32),(L<<BigInt(3*64))+(A<<BigInt(2*64))+(E<<BigInt(1*64))+R}readI256(){const R=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigUint64(q(this,mt)+8,!0),A=q(this,Rt).getBigUint64(q(this,mt)+16,!0),L=q(this,Rt).getBigInt64(q(this,mt)+24,!0);return ft(this,mt,q(this,mt)+32),(L<<BigInt(3*64))+(A<<BigInt(2*64))+(E<<BigInt(1*64))+R}readF32(){const R=q(this,Rt).getFloat32(q(this,mt),!0);return ft(this,mt,q(this,mt)+4),R}readF64(){const R=q(this,Rt).getFloat64(q(this,mt),!0);return ft(this,mt,q(this,mt)+8),R}readString(){const R=this.readU32(),E=new Uint8Array(q(this,Rt).buffer,q(this,mt),R),L=new TextDecoder("utf-8").decode(E);return ft(this,mt,q(this,mt)+R),L}},Rt=new WeakMap,mt=new WeakMap,Vn),ee,Bt,yt,Yt,Kt,Wn,Ut=(Wn=class{constructor(R){Pt(this,Yt);Pt(this,ee);Pt(this,Bt);Pt(this,yt,0);ft(this,ee,new Uint8Array(R)),ft(this,Bt,new DataView(q(this,ee).buffer))}getBuffer(){return q(this,ee).slice(0,q(this,yt))}writeUInt8Array(R){const E=R.length;dt(this,Yt,Kt).call(this,4+E),this.writeU32(E),q(this,ee).set(R,q(this,yt)),ft(this,yt,q(this,yt)+R.length)}writeBool(R){dt(this,Yt,Kt).call(this,1),q(this,Bt).setUint8(q(this,yt),R?1:0),ft(this,yt,q(this,yt)+1)}writeByte(R){dt(this,Yt,Kt).call(this,1),q(this,Bt).setUint8(q(this,yt),R),ft(this,yt,q(this,yt)+1)}writeI8(R){dt(this,Yt,Kt).call(this,1),q(this,Bt).setInt8(q(this,yt),R),ft(this,yt,q(this,yt)+1)}writeU8(R){dt(this,Yt,Kt).call(this,1),q(this,Bt).setUint8(q(this,yt),R),ft(this,yt,q(this,yt)+1)}writeI16(R){dt(this,Yt,Kt).call(this,2),q(this,Bt).setInt16(q(this,yt),R,!0),ft(this,yt,q(this,yt)+2)}writeU16(R){dt(this,Yt,Kt).call(this,2),q(this,Bt).setUint16(q(this,yt),R,!0),ft(this,yt,q(this,yt)+2)}writeI32(R){dt(this,Yt,Kt).call(this,4),q(this,Bt).setInt32(q(this,yt),R,!0),ft(this,yt,q(this,yt)+4)}writeU32(R){dt(this,Yt,Kt).call(this,4),q(this,Bt).setUint32(q(this,yt),R,!0),ft(this,yt,q(this,yt)+4)}writeI64(R){dt(this,Yt,Kt).call(this,8),q(this,Bt).setBigInt64(q(this,yt),R,!0),ft(this,yt,q(this,yt)+8)}writeU64(R){dt(this,Yt,Kt).call(this,8),q(this,Bt).setBigUint64(q(this,yt),R,!0),ft(this,yt,q(this,yt)+8)}writeU128(R){dt(this,Yt,Kt).call(this,16);const E=R&BigInt("0xFFFFFFFFFFFFFFFF"),A=R>>BigInt(64);q(this,Bt).setBigUint64(q(this,yt),E,!0),q(this,Bt).setBigUint64(q(this,yt)+8,A,!0),ft(this,yt,q(this,yt)+16)}writeI128(R){dt(this,Yt,Kt).call(this,16);const E=R&BigInt("0xFFFFFFFFFFFFFFFF"),A=R>>BigInt(64);q(this,Bt).setBigInt64(q(this,yt),E,!0),q(this,Bt).setBigInt64(q(this,yt)+8,A,!0),ft(this,yt,q(this,yt)+16)}writeU256(R){dt(this,Yt,Kt).call(this,32);const E=BigInt("0xFFFFFFFFFFFFFFFF"),A=R&E,L=R>>BigInt(64*1)&E,F=R>>BigInt(64*2)&E,z=R>>BigInt(64*3);q(this,Bt).setBigUint64(q(this,yt)+8*0,A,!0),q(this,Bt).setBigUint64(q(this,yt)+8*1,L,!0),q(this,Bt).setBigUint64(q(this,yt)+8*2,F,!0),q(this,Bt).setBigUint64(q(this,yt)+8*3,z,!0),ft(this,yt,q(this,yt)+32)}writeI256(R){dt(this,Yt,Kt).call(this,32);const E=BigInt("0xFFFFFFFFFFFFFFFF"),A=R&E,L=R>>BigInt(64*1)&E,F=R>>BigInt(64*2)&E,z=R>>BigInt(64*3);q(this,Bt).setBigUint64(q(this,yt)+8*0,A,!0),q(this,Bt).setBigUint64(q(this,yt)+8*1,L,!0),q(this,Bt).setBigUint64(q(this,yt)+8*2,F,!0),q(this,Bt).setBigInt64(q(this,yt)+8*3,z,!0),ft(this,yt,q(this,yt)+32)}writeF32(R){dt(this,Yt,Kt).call(this,4),q(this,Bt).setFloat32(q(this,yt),R,!0),ft(this,yt,q(this,yt)+4)}writeF64(R){dt(this,Yt,Kt).call(this,8),q(this,Bt).setFloat64(q(this,yt),R,!0),ft(this,yt,q(this,yt)+8)}writeString(R){const A=new TextEncoder().encode(R);this.writeU32(A.length),dt(this,Yt,Kt).call(this,A.length),q(this,ee).set(A,q(this,yt)),ft(this,yt,q(this,yt)+A.length)}},ee=new WeakMap,Bt=new WeakMap,yt=new WeakMap,Yt=new WeakSet,Kt=function(R){const E=q(this,yt)+R+1;if(E<=q(this,ee).length)return;let A=q(this,ee).length*2;A<E&&(A=E);const L=new Uint8Array(A);L.set(q(this,ee)),ft(this,ee,L),ft(this,Bt,new DataView(q(this,ee).buffer))},Wn);function Mt(R,E){if(R===E)return!0;if(typeof R!="object"||R===null||typeof E!="object"||E===null)return!1;const A=Object.keys(R),L=Object.keys(E);if(A.length!==L.length)return!1;for(let F of A)if(!L.includes(F)||!Mt(R[F],E[F]))return!1;return!0}function Jn(R){return Array.prototype.map.call(R.reverse(),E=>("00"+E.toString(16)).slice(-2)).join("")}function yr(R){if(R.length!=16)throw new Error(`Uint8Array is not 16 bytes long: ${R}`);return new Ue(R).readU128()}function xr(R){if(R.length!=32)throw new Error(`Uint8Array is not 32 bytes long: [${R}]`);return new Ue(R).readU256()}function Qn(R){R.startsWith("0x")&&(R=R.slice(2));let E=R.match(/.{1,2}/g)||[],A=Uint8Array.from(E.map(L=>parseInt(L,16)));return A.length!=32?new Uint8Array(0):A.reverse()}function Tr(R){return yr(Qn(R))}function Sr(R){return xr(Qn(R))}function jn(R){let E=new Ut(16);return E.writeU128(R),E.getBuffer()}function Cr(R){return Jn(jn(R))}function qn(R){let E=new Ut(32);return E.writeU256(R),E.getBuffer()}function Er(R){return Jn(qn(R))}var cs=class xi{constructor(E){K(this,"data");this.data=E}get __connection_id__(){return this.data}isZero(){return this.data===BigInt(0)}static nullIfZero(E){return E.isZero()?null:E}static random(){function E(){return Math.floor(Math.random()*255)}let A=BigInt(0);for(let L=0;L<16;L++)A=A<<BigInt(8)|BigInt(E());return new xi(A)}isEqual(E){return this.data==E.data}toHexString(){return Cr(this.data)}toUint8Array(){return jn(this.data)}static fromString(E){return new xi(Tr(E))}static fromStringOrNull(E){let A=xi.fromString(E);return A.isZero()?null:A}},ue,Ar=(ue=class{constructor(E){K(this,"__time_duration_micros__");this.__time_duration_micros__=E}get micros(){return this.__time_duration_micros__}get millis(){return Number(this.micros/ue.MICROS_PER_MILLIS)}static fromMillis(E){return new ue(BigInt(E)*ue.MICROS_PER_MILLIS)}},K(ue,"MICROS_PER_MILLIS",1000n),ue),ne,Pr=(ne=class{constructor(E){K(this,"__timestamp_micros_since_unix_epoch__");this.__timestamp_micros_since_unix_epoch__=E}get microsSinceUnixEpoch(){return this.__timestamp_micros_since_unix_epoch__}static now(){return ne.fromDate(new Date)}static fromDate(E){const A=E.getTime(),L=BigInt(A)*ne.MICROS_PER_MILLIS;return new ne(L)}toDate(){const A=this.__timestamp_micros_since_unix_epoch__/ne.MICROS_PER_MILLIS;if(A>BigInt(Number.MAX_SAFE_INTEGER)||A<BigInt(Number.MIN_SAFE_INTEGER))throw new RangeError("Timestamp is outside of the representable range of JS's Date");return new Date(Number(A))}},K(ne,"MICROS_PER_MILLIS",1000n),K(ne,"UNIX_EPOCH",new ne(0n)),ne),wr=class _n{constructor(E){K(this,"data");this.data=typeof E=="string"?Sr(E):E}get __identity__(){return this.data}isEqual(E){return this.toHexString()===E.toHexString()}toHexString(){return Er(this.data)}toUint8Array(){return qn(this.data)}static fromString(E){return new _n(E)}},ps;(R=>{function E(){return $.createSumType([new ot("Interval",$.createU64Type()),new ot("Time",$.createU64Type())])}R.getAlgebraicType=E;function A(F){switch(F.tag){case"Interval":return{Interval:F.value};case"Time":return{Time:F.value};default:throw"unreachable"}}R.serialize=A,R.Interval=F=>({tag:"Interval",value:F}),R.Time=F=>({tag:"Time",value:F});function L(F){let z=F.asSumValue();switch(z.tag){case 0:return{tag:"Interval",value:z.value.asBigInt()};case 1:return{tag:"Time",value:z.value.asBigInt()};default:throw"unreachable"}}R.fromValue=L})(ps||(ps={}));var Mr=ps,ot=class{constructor(R,E){K(this,"name");K(this,"algebraicType");this.name=R,this.algebraicType=E}},br=class{constructor(R){K(this,"variants");K(this,"serialize",(R,E)=>{if(this.variants.length==2&&this.variants[0].name==="some"&&this.variants[1].name==="none")E?(R.writeByte(0),this.variants[0].algebraicType.serialize(R,E)):R.writeByte(1);else{let A=E.tag;const L=this.variants.findIndex(F=>F.name===A);if(L<0)throw`Can't serialize a sum type, couldn't find ${E.tag} tag`;R.writeU8(L),this.variants[L].algebraicType.serialize(R,E.value)}});K(this,"deserialize",R=>{let E=R.readU8();if(this.variants.length==2&&this.variants[0].name==="some"&&this.variants[1].name==="none"){if(E===0)return this.variants[0].algebraicType.deserialize(R);if(E===1)return;throw`Can't deserialize an option type, couldn't find ${E} tag`}else{let A=this.variants[E],L=A.algebraicType.deserialize(R);return{tag:A.name,value:L}}});this.variants=R}},Q=class{constructor(R,E){K(this,"name");K(this,"algebraicType");this.name=R,this.algebraicType=E}},Fr=class{constructor(R){K(this,"elements");K(this,"serialize",(R,E)=>{for(let A of this.elements)A.algebraicType.serialize(R,E[A.name])});K(this,"deserialize",R=>{let E={};if(this.elements.length===1){if(this.elements[0].name==="__time_duration_micros__")return new Ar(R.readI64());if(this.elements[0].name==="__timestamp_micros_since_unix_epoch__")return new Pr(R.readI64());if(this.elements[0].name==="__identity__")return new wr(R.readU256());if(this.elements[0].name==="__connection_id__")return new cs(R.readU128())}for(let A of this.elements)E[A.name]=A.algebraicType.deserialize(R);return E});this.elements=R}isEmpty(){return this.elements.length===0}},Rr=class{constructor(R,E){K(this,"keyType");K(this,"valueType");this.keyType=R,this.valueType=E}},Zt,Ne,Gt,Me,Wt,vs,gs,ms,$=(Me=class{constructor(){Pt(this,Zt);K(this,"type");K(this,"type_")}get product(){if(this.type!==ut.ProductType)throw"product type was requested, but the type is not ProductType";return this.type_}set product(E){dt(this,Zt,Ne).call(this,ut.ProductType,E)}get sum(){if(this.type!==ut.SumType)throw"sum type was requested, but the type is not SumType";return this.type_}set sum(E){dt(this,Zt,Ne).call(this,ut.SumType,E)}get array(){if(this.type!==ut.ArrayType)throw"array type was requested, but the type is not ArrayType";return this.type_}set array(E){dt(this,Zt,Ne).call(this,ut.ArrayType,E)}get map(){if(this.type!==ut.MapType)throw"map type was requested, but the type is not MapType";return this.type_}set map(E){dt(this,Zt,Ne).call(this,ut.MapType,E)}static createProductType(E){return dt(this,Gt,Wt).call(this,ut.ProductType,new Fr(E))}static createSumType(E){return dt(this,Gt,Wt).call(this,ut.SumType,new br(E))}static createArrayType(E){return dt(this,Gt,Wt).call(this,ut.ArrayType,E)}static createMapType(E,A){return dt(this,Gt,Wt).call(this,ut.MapType,new Rr(E,A))}static createBoolType(){return dt(this,Gt,Wt).call(this,ut.Bool,null)}static createI8Type(){return dt(this,Gt,Wt).call(this,ut.I8,null)}static createU8Type(){return dt(this,Gt,Wt).call(this,ut.U8,null)}static createI16Type(){return dt(this,Gt,Wt).call(this,ut.I16,null)}static createU16Type(){return dt(this,Gt,Wt).call(this,ut.U16,null)}static createI32Type(){return dt(this,Gt,Wt).call(this,ut.I32,null)}static createU32Type(){return dt(this,Gt,Wt).call(this,ut.U32,null)}static createI64Type(){return dt(this,Gt,Wt).call(this,ut.I64,null)}static createU64Type(){return dt(this,Gt,Wt).call(this,ut.U64,null)}static createI128Type(){return dt(this,Gt,Wt).call(this,ut.I128,null)}static createU128Type(){return dt(this,Gt,Wt).call(this,ut.U128,null)}static createI256Type(){return dt(this,Gt,Wt).call(this,ut.I256,null)}static createU256Type(){return dt(this,Gt,Wt).call(this,ut.U256,null)}static createF32Type(){return dt(this,Gt,Wt).call(this,ut.F32,null)}static createF64Type(){return dt(this,Gt,Wt).call(this,ut.F64,null)}static createStringType(){return dt(this,Gt,Wt).call(this,ut.String,null)}static createBytesType(){return this.createArrayType(this.createU8Type())}static createOptionType(E){return this.createSumType([new ot("some",E),new ot("none",this.createProductType([]))])}static createIdentityType(){return this.createProductType([new Q("__identity__",this.createU256Type())])}static createConnectionIdType(){return this.createProductType([new Q("__connection_id__",this.createU128Type())])}static createScheduleAtType(){return Mr.getAlgebraicType()}static createTimestampType(){return this.createProductType([new Q("__timestamp_micros_since_unix_epoch__",this.createI64Type())])}static createTimeDurationType(){return this.createProductType([new Q("__time_duration_micros__",this.createI64Type())])}isProductType(){return this.type===ut.ProductType}isSumType(){return this.type===ut.SumType}isArrayType(){return this.type===ut.ArrayType}isMapType(){return this.type===ut.MapType}isIdentity(){return dt(this,Zt,gs).call(this,"__identity__")}isConnectionId(){return dt(this,Zt,gs).call(this,"__connection_id__")}isScheduleAt(){return this.isSumType()&&this.sum.variants.length===2&&this.sum.variants[0].name==="Interval"&&this.sum.variants[0].algebraicType.type===ut.U64&&this.sum.variants[1].name==="Time"&&this.sum.variants[1].algebraicType.type===ut.U64}isTimestamp(){return dt(this,Zt,ms).call(this,"__timestamp_micros_since_unix_epoch__")}isTimeDuration(){return dt(this,Zt,ms).call(this,"__time_duration_micros__")}serialize(E,A){switch(this.type){case ut.ProductType:this.product.serialize(E,A);break;case ut.SumType:this.sum.serialize(E,A);break;case ut.ArrayType:if(dt(this,Zt,vs).call(this))E.writeUInt8Array(A);else{const L=this.array;E.writeU32(A.length);for(let F of A)L.serialize(E,F)}break;case ut.MapType:throw new Error("not implemented");case ut.Bool:E.writeBool(A);break;case ut.I8:E.writeI8(A);break;case ut.U8:E.writeU8(A);break;case ut.I16:E.writeI16(A);break;case ut.U16:E.writeU16(A);break;case ut.I32:E.writeI32(A);break;case ut.U32:E.writeU32(A);break;case ut.I64:E.writeI64(A);break;case ut.U64:E.writeU64(A);break;case ut.I128:E.writeI128(A);break;case ut.U128:E.writeU128(A);break;case ut.I256:E.writeI256(A);break;case ut.U256:E.writeU256(A);break;case ut.F32:E.writeF32(A);break;case ut.F64:E.writeF64(A);break;case ut.String:E.writeString(A);break;default:throw new Error(`not implemented, ${this.type}`)}}deserialize(E){switch(this.type){case ut.ProductType:return this.product.deserialize(E);case ut.SumType:return this.sum.deserialize(E);case ut.ArrayType:if(dt(this,Zt,vs).call(this))return E.readUInt8Array();{const A=this.array,L=E.readU32();let F=[];for(let z=0;z<L;z++)F.push(A.deserialize(E));return F}case ut.MapType:throw new Error("not implemented");case ut.Bool:return E.readBool();case ut.I8:return E.readI8();case ut.U8:return E.readU8();case ut.I16:return E.readI16();case ut.U16:return E.readU16();case ut.I32:return E.readI32();case ut.U32:return E.readU32();case ut.I64:return E.readI64();case ut.U64:return E.readU64();case ut.I128:return E.readI128();case ut.U128:return E.readU128();case ut.U256:return E.readU256();case ut.F32:return E.readF32();case ut.F64:return E.readF64();case ut.String:return E.readString();default:throw new Error(`not implemented, ${this.type}`)}}},Zt=new WeakSet,Ne=function(E,A){this.type_=A,this.type=A===void 0?ut.None:E},Gt=new WeakSet,Wt=function(E,A){var F;let L=new Me;return dt(F=L,Zt,Ne).call(F,E,A),L},vs=function(){return this.isArrayType()&&this.array.type==ut.U8},gs=function(E){return this.isProductType()&&this.product.elements.length===1&&(this.product.elements[0].algebraicType.type==ut.U128||this.product.elements[0].algebraicType.type==ut.U256)&&this.product.elements[0].name===E},ms=function(E){return this.isProductType()&&this.product.elements.length===1&&this.product.elements[0].algebraicType.type===ut.I64&&this.product.elements[0].name===E},Pt(Me,Gt),Me);(R=>{(E=>{E.SumType="SumType",E.ProductType="ProductType",E.ArrayType="ArrayType",E.MapType="MapType",E.Bool="Bool",E.I8="I8",E.U8="U8",E.I16="I16",E.U16="U16",E.I32="I32",E.U32="U32",E.I64="I64",E.U64="U64",E.I128="I128",E.U128="U128",E.I256="I256",E.U256="U256",E.F32="F32",E.F64="F64",E.String="String",E.None="None"})(R.Type||(R.Type={}))})($||($={}));var ut=$.Type;function Lr(R,E){const A=new Ue(E);return R.deserialize(A)}var ys;(R=>{R.FixedSize=F=>({tag:"FixedSize",value:F}),R.RowOffsets=F=>({tag:"RowOffsets",value:F});function E(){return $.createSumType([new ot("FixedSize",$.createU16Type()),new ot("RowOffsets",$.createArrayType($.createU64Type()))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ys||(ys={}));var ii;(R=>{function E(){return $.createProductType([new Q("sizeHint",ys.getTypeScriptAlgebraicType()),new Q("rowsData",$.createArrayType($.createU8Type()))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ii||(ii={}));var xs;(R=>{function E(){return $.createProductType([new Q("reducer",$.createStringType()),new Q("args",$.createArrayType($.createU8Type())),new Q("requestId",$.createU32Type()),new Q("flags",$.createU8Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(xs||(xs={}));var Ts;(R=>{function E(){return $.createProductType([new Q("queryStrings",$.createArrayType($.createStringType())),new Q("requestId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ts||(Ts={}));var Ss;(R=>{function E(){return $.createProductType([new Q("messageId",$.createArrayType($.createU8Type())),new Q("queryString",$.createStringType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ss||(Ss={}));var oe;(R=>{function E(){return $.createProductType([new Q("id",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(oe||(oe={}));var Cs;(R=>{function E(){return $.createProductType([new Q("query",$.createStringType()),new Q("requestId",$.createU32Type()),new Q("queryId",oe.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Cs||(Cs={}));var Es;(R=>{function E(){return $.createProductType([new Q("queryStrings",$.createArrayType($.createStringType())),new Q("requestId",$.createU32Type()),new Q("queryId",oe.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Es||(Es={}));var As;(R=>{function E(){return $.createProductType([new Q("requestId",$.createU32Type()),new Q("queryId",oe.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(As||(As={}));var Ps;(R=>{function E(){return $.createProductType([new Q("requestId",$.createU32Type()),new Q("queryId",oe.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ps||(Ps={}));var ze;(R=>{R.CallReducer=F=>({tag:"CallReducer",value:F}),R.Subscribe=F=>({tag:"Subscribe",value:F}),R.OneOffQuery=F=>({tag:"OneOffQuery",value:F}),R.SubscribeSingle=F=>({tag:"SubscribeSingle",value:F}),R.SubscribeMulti=F=>({tag:"SubscribeMulti",value:F}),R.Unsubscribe=F=>({tag:"Unsubscribe",value:F}),R.UnsubscribeMulti=F=>({tag:"UnsubscribeMulti",value:F});function E(){return $.createSumType([new ot("CallReducer",xs.getTypeScriptAlgebraicType()),new ot("Subscribe",Ts.getTypeScriptAlgebraicType()),new ot("OneOffQuery",Ss.getTypeScriptAlgebraicType()),new ot("SubscribeSingle",Cs.getTypeScriptAlgebraicType()),new ot("SubscribeMulti",Es.getTypeScriptAlgebraicType()),new ot("Unsubscribe",As.getTypeScriptAlgebraicType()),new ot("UnsubscribeMulti",Ps.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ze||(ze={}));var Si;(R=>{function E(){return $.createProductType([new Q("deletes",ii.getTypeScriptAlgebraicType()),new Q("inserts",ii.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Si||(Si={}));var ws;(R=>{R.Uncompressed=F=>({tag:"Uncompressed",value:F}),R.Brotli=F=>({tag:"Brotli",value:F}),R.Gzip=F=>({tag:"Gzip",value:F});function E(){return $.createSumType([new ot("Uncompressed",Si.getTypeScriptAlgebraicType()),new ot("Brotli",$.createArrayType($.createU8Type())),new ot("Gzip",$.createArrayType($.createU8Type()))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ws||(ws={}));var Ci;(R=>{function E(){return $.createProductType([new Q("tableId",$.createU32Type()),new Q("tableName",$.createStringType()),new Q("numRows",$.createU64Type()),new Q("updates",$.createArrayType(ws.getTypeScriptAlgebraicType()))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ci||(Ci={}));var De;(R=>{function E(){return $.createProductType([new Q("tables",$.createArrayType(Ci.getTypeScriptAlgebraicType()))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(De||(De={}));var Ms;(R=>{function E(){return $.createProductType([new Q("quanta",$.createU128Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ms||(Ms={}));var bs;(R=>{function E(){return $.createProductType([new Q("identity",$.createIdentityType()),new Q("token",$.createStringType()),new Q("connectionId",$.createConnectionIdType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(bs||(bs={}));var Fs;(R=>{function E(){return $.createProductType([new Q("databaseUpdate",De.getTypeScriptAlgebraicType()),new Q("requestId",$.createU32Type()),new Q("totalHostExecutionDuration",$.createTimeDurationType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Fs||(Fs={}));var Rs;(R=>{function E(){return $.createProductType([new Q("tableName",$.createStringType()),new Q("rows",ii.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Rs||(Rs={}));var Ls;(R=>{function E(){return $.createProductType([new Q("messageId",$.createArrayType($.createU8Type())),new Q("error",$.createOptionType($.createStringType())),new Q("tables",$.createArrayType(Rs.getTypeScriptAlgebraicType())),new Q("totalHostExecutionDuration",$.createTimeDurationType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ls||(Ls={}));var Ds;(R=>{function E(){return $.createProductType([new Q("reducerName",$.createStringType()),new Q("reducerId",$.createU32Type()),new Q("args",$.createArrayType($.createU8Type())),new Q("requestId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ds||(Ds={}));var Os;(R=>{R.Committed=F=>({tag:"Committed",value:F}),R.Failed=F=>({tag:"Failed",value:F}),R.OutOfEnergy={tag:"OutOfEnergy"};function E(){return $.createSumType([new ot("Committed",De.getTypeScriptAlgebraicType()),new ot("Failed",$.createStringType()),new ot("OutOfEnergy",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Os||(Os={}));var Bs;(R=>{function E(){return $.createProductType([new Q("status",Os.getTypeScriptAlgebraicType()),new Q("timestamp",$.createTimestampType()),new Q("callerIdentity",$.createIdentityType()),new Q("callerConnectionId",$.createConnectionIdType()),new Q("reducerCall",Ds.getTypeScriptAlgebraicType()),new Q("energyQuantaUsed",Ms.getTypeScriptAlgebraicType()),new Q("totalHostExecutionDuration",$.createTimeDurationType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Bs||(Bs={}));var Is;(R=>{function E(){return $.createProductType([new Q("requestId",$.createU32Type()),new Q("update",De.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Is||(Is={}));var Ei;(R=>{function E(){return $.createProductType([new Q("tableId",$.createU32Type()),new Q("tableName",$.createStringType()),new Q("tableRows",Ci.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ei||(Ei={}));var Ns;(R=>{function E(){return $.createProductType([new Q("requestId",$.createU32Type()),new Q("totalHostExecutionDurationMicros",$.createU64Type()),new Q("queryId",oe.getTypeScriptAlgebraicType()),new Q("rows",Ei.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ns||(Ns={}));var zs;(R=>{function E(){return $.createProductType([new Q("requestId",$.createU32Type()),new Q("totalHostExecutionDurationMicros",$.createU64Type()),new Q("queryId",oe.getTypeScriptAlgebraicType()),new Q("rows",Ei.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(zs||(zs={}));var Us;(R=>{function E(){return $.createProductType([new Q("totalHostExecutionDurationMicros",$.createU64Type()),new Q("requestId",$.createOptionType($.createU32Type())),new Q("queryId",$.createOptionType($.createU32Type())),new Q("tableId",$.createOptionType($.createU32Type())),new Q("error",$.createStringType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Us||(Us={}));var Gs;(R=>{function E(){return $.createProductType([new Q("requestId",$.createU32Type()),new Q("totalHostExecutionDurationMicros",$.createU64Type()),new Q("queryId",oe.getTypeScriptAlgebraicType()),new Q("update",De.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Gs||(Gs={}));var Vs;(R=>{function E(){return $.createProductType([new Q("requestId",$.createU32Type()),new Q("totalHostExecutionDurationMicros",$.createU64Type()),new Q("queryId",oe.getTypeScriptAlgebraicType()),new Q("update",De.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Vs||(Vs={}));var Ws;(R=>{R.InitialSubscription=F=>({tag:"InitialSubscription",value:F}),R.TransactionUpdate=F=>({tag:"TransactionUpdate",value:F}),R.TransactionUpdateLight=F=>({tag:"TransactionUpdateLight",value:F}),R.IdentityToken=F=>({tag:"IdentityToken",value:F}),R.OneOffQueryResponse=F=>({tag:"OneOffQueryResponse",value:F}),R.SubscribeApplied=F=>({tag:"SubscribeApplied",value:F}),R.UnsubscribeApplied=F=>({tag:"UnsubscribeApplied",value:F}),R.SubscriptionError=F=>({tag:"SubscriptionError",value:F}),R.SubscribeMultiApplied=F=>({tag:"SubscribeMultiApplied",value:F}),R.UnsubscribeMultiApplied=F=>({tag:"UnsubscribeMultiApplied",value:F});function E(){return $.createSumType([new ot("InitialSubscription",Fs.getTypeScriptAlgebraicType()),new ot("TransactionUpdate",Bs.getTypeScriptAlgebraicType()),new ot("TransactionUpdateLight",Is.getTypeScriptAlgebraicType()),new ot("IdentityToken",bs.getTypeScriptAlgebraicType()),new ot("OneOffQueryResponse",Ls.getTypeScriptAlgebraicType()),new ot("SubscribeApplied",Ns.getTypeScriptAlgebraicType()),new ot("UnsubscribeApplied",zs.getTypeScriptAlgebraicType()),new ot("SubscriptionError",Us.getTypeScriptAlgebraicType()),new ot("SubscribeMultiApplied",Gs.getTypeScriptAlgebraicType()),new ot("UnsubscribeMultiApplied",Vs.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ws||(Ws={}));var be,Xn,as=(Xn=class{constructor(){Pt(this,be,new Map)}on(R,E){let A=q(this,be).get(R);A||(A=new Set,q(this,be).set(R,A)),A.add(E)}off(R,E){let A=q(this,be).get(R);A&&A.delete(E)}emit(R,...E){let A=q(this,be).get(R);if(A)for(let L of A)L(...E)}},be=new WeakMap,Xn),ie,Fe,_e,Yn,Sn=(Yn=class{constructor(){Pt(this,Fe);Pt(this,ie,[])}set(R,E){const A=q(this,ie).findIndex(({key:L})=>dt(this,Fe,_e).call(this,L,R));A>-1?q(this,ie)[A].value=E:q(this,ie).push({key:R,value:E})}get(R){const E=q(this,ie).find(({key:A})=>dt(this,Fe,_e).call(this,A,R));return E?E.value:void 0}delete(R){const E=q(this,ie).findIndex(({key:A})=>dt(this,Fe,_e).call(this,A,R));return E>-1?(q(this,ie).splice(E,1),!0):!1}has(R){return q(this,ie).some(({key:E})=>dt(this,Fe,_e).call(this,E,R))}values(){return q(this,ie).map(R=>R.value)}entries(){return q(this,ie)}[Symbol.iterator](){let R=0;const E=q(this,ie);return{next(){return R<E.length?{value:E[R++],done:!1}:{value:null,done:!0}}}}},ie=new WeakMap,Fe=new WeakSet,_e=function(R,E){return R&&typeof R=="object"&&"isEqual"in R?R.isEqual(E):R===E},Yn),Dr={component:"",info:"",warn:"",error:"",debug:""},Or={component:"color: #fff; background-color: #8D6FDD; padding: 2px 5px; border-radius: 3px;",info:"color: #fff; background-color: #007bff; padding: 2px 5px; border-radius: 3px;",warn:"color: #fff; background-color: #ffc107; padding: 2px 5px; border-radius: 3px;",error:"color: #fff; background-color: #dc3545; padding: 2px 5px; border-radius: 3px;",debug:"color: #fff; background-color: #28a745; padding: 2px 5px; border-radius: 3px;"},Br={component:"color: #8D6FDD;",info:"color: #007bff;",warn:"color: #ffc107;",error:"color: #dc3545;",debug:"color: #28a745;"},we=(R,E)=>{console.log(`%c${Dr[R]} ${R.toUpperCase()}%c ${E}`,Or[R],Br[R])},Ir=class{constructor(R){K(this,"rows");K(this,"tableTypeInfo");K(this,"emitter");K(this,"applyOperations",(R,E)=>{const A=[];if(this.tableTypeInfo.primaryKey!==void 0){const L=this.tableTypeInfo.primaryKey,F=new Sn,z=new Sn;for(const p of R)if(p.type==="insert"){const[x,t]=F.get(p.row[L])||[p,0];F.set(p.row[L],[p,t+1])}else{const[x,t]=z.get(p.row[L])||[p,0];z.set(p.row[L],[p,t+1])}for(const{key:p,value:[x,t]}of F){const h=z.get(p);if(h){const[v,a]=h,r=t-a,n=this.update(E,x,v,r);n&&A.push(n),z.delete(p)}else{const v=this.insert(E,x,t);v&&A.push(v)}}for(const[p,x]of z.values()){const t=this.delete(E,p,x);t&&A.push(t)}}else for(const L of R)if(L.type==="insert"){const F=this.insert(E,L);F&&A.push(F)}else{const F=this.delete(E,L);F&&A.push(F)}return A});K(this,"update",(R,E,A,L=0)=>{const[F,z]=this.rows.get(A.rowId)||[A.row,0],p=Math.max(1,z+L);return this.rows.delete(A.rowId),this.rows.set(E.rowId,[E.row,p]),z===0?(we("error","Updating a row that was not present in the cache"),{type:"insert",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("insert",R,E.row)}}):(z+L<=0&&we("error","Negative reference count for row"),{type:"update",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("update",R,F,E.row)}})});K(this,"insert",(R,E,A=1)=>{const[L,F]=this.rows.get(E.rowId)||[E.row,0];if(this.rows.set(E.rowId,[E.row,F+A]),F===0)return{type:"insert",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("insert",R,E.row)}}});K(this,"delete",(R,E,A=1)=>{const[L,F]=this.rows.get(E.rowId)||[E.row,0];if(F===0){we("warn","Deleting a row that was not present in the cache");return}if(F<=A)return this.rows.delete(E.rowId),{type:"delete",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("delete",R,E.row)}};this.rows.set(E.rowId,[E.row,F-A])});K(this,"onInsert",R=>{this.emitter.on("insert",R)});K(this,"onDelete",R=>{this.emitter.on("delete",R)});K(this,"onUpdate",R=>{this.emitter.on("update",R)});K(this,"removeOnInsert",R=>{this.emitter.off("insert",R)});K(this,"removeOnDelete",R=>{this.emitter.off("delete",R)});K(this,"removeOnUpdate",R=>{this.emitter.off("update",R)});this.tableTypeInfo=R,this.rows=new Map,this.emitter=new as}count(){return this.rows.size}iter(){return Array.from(this.rows.values()).map(([R])=>R)}},Nr=class{constructor(){K(this,"tables");this.tables=new Map}getTable(R){const E=this.tables.get(R);if(!E)throw console.error("The table has not been registered for this client. Please register the table before using it. If you have registered global tables using the SpacetimeDBClient.registerTables() or `registerTable()` method, please make sure that is executed first!"),new Error(`Table ${R} does not exist`);return E}getOrCreateTable(R){let E;return this.tables.has(R.tableName)?E=this.tables.get(R.tableName):(E=new Ir(R),this.tables.set(R.tableName,E)),E}};async function tr(R,E,A=128*1024){let L=0;const F=new ReadableStream({pull(n){if(L<R.length){const e=R.subarray(L,Math.min(L+A,R.length));n.enqueue(e),L+=A}else n.close()}}),z=new DecompressionStream(E),x=F.pipeThrough(z).getReader(),t=[];let h=0,v;for(;!(v=await x.read()).done;)t.push(v.value),h+=v.value.length;const a=new Uint8Array(h);let r=0;for(const n of t)a.set(n,r),r+=n.length;return a}var Ge,de,er,ir,Xs,Ve,zr=(Ve=class{constructor(E){Pt(this,de);K(this,"onclose");K(this,"onopen");K(this,"onmessage");K(this,"onerror");Pt(this,Ge);this.onmessage=void 0,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,E.onmessage=dt(this,de,er).bind(this),E.onerror=dt(this,de,Xs).bind(this),E.onclose=dt(this,de,Xs).bind(this),E.onopen=dt(this,de,ir).bind(this),E.binaryType="arraybuffer",ft(this,Ge,E)}send(E){q(this,Ge).send(E)}close(){q(this,Ge).close()}static async createWebSocketFn({url:E,wsProtocol:A,authToken:L,compression:F,lightMode:z}){const p=new Headers;let x;if(x=WebSocket,L){p.set("Authorization",`Bearer ${L}`);const h=new URL("/v1/identity/websocket-token",E);h.protocol=E.protocol==="wss:"?"https:":"http:";const v=await fetch(h,{method:"POST",headers:p});if(v.ok){const{token:a}=await v.json();E.searchParams.set("token",a)}}E.searchParams.set("compression",F==="gzip"?"Gzip":"None"),z&&E.searchParams.set("light","true");const t=new x(E,A);return new Ve(t)}},Ge=new WeakMap,de=new WeakSet,er=async function(E){var F;const A=new Uint8Array(E.data);let L;if(A[0]===0)L=A.slice(1);else{if(A[0]===1)throw new Error("Brotli Compression not supported. Please use gzip or none compression in withCompression method on DbConnection.");if(A[0]===2)L=await tr(A.slice(1),"gzip");else throw new Error("Unexpected Compression Algorithm. Please use `gzip` or `none`")}(F=this.onmessage)==null||F.call(this,{data:L})},ir=function(E){var A;(A=this.onopen)==null||A.call(this,E)},Xs=function(E){var A;(A=this.onerror)==null||A.call(this,E)},Ve),We,Xe,ss,ni,Re,ri,ai,Ye,Hn,Ur=(Hn=class{constructor(R,E){Pt(this,We);Pt(this,Xe);Pt(this,ss);Pt(this,ni);Pt(this,Re,new as);Pt(this,ri,"gzip");Pt(this,ai,!1);Pt(this,Ye);this.remoteModule=R,this.dbConnectionConstructor=E,ft(this,Ye,zr.createWebSocketFn)}withUri(R){return ft(this,We,new URL(R)),this}withModuleName(R){return ft(this,Xe,R),this}withToken(R){return ft(this,ni,R),this}withWSFn(R){return ft(this,Ye,R),this}withCompression(R){return ft(this,ri,R),this}withLightMode(R){return ft(this,ai,R),this}onConnect(R){return q(this,Re).on("connect",R),this}onConnectError(R){return q(this,Re).on("connectError",R),this}onDisconnect(R){return q(this,Re).on("disconnect",R),this}build(){if(!q(this,We))throw new Error("URI is required to connect to SpacetimeDB");if(!q(this,Xe))throw new Error("Database name or address is required to connect to SpacetimeDB");return this.dbConnectionConstructor(new nr({uri:q(this,We),nameOrAddress:q(this,Xe),identity:q(this,ss),token:q(this,ni),emitter:q(this,Re),compression:q(this,ri),lightMode:q(this,ai),createWSFn:q(this,Ye),remoteModule:this.remoteModule}))}},We=new WeakMap,Xe=new WeakMap,ss=new WeakMap,ni=new WeakMap,Re=new WeakMap,ri=new WeakMap,ai=new WeakMap,Ye=new WeakMap,Hn),oi,li,Kn,sr=(Kn=class{constructor(R){Pt(this,oi);Pt(this,li);this.db=R}onApplied(R){return ft(this,oi,R),this}onError(R){return ft(this,li,R),this}subscribe(R){const E=Array.isArray(R)?R:[R];if(E.length===0)throw new Error("Subscriptions must have at least one query");return new Vr(this.db,E,q(this,oi),q(this,li))}subscribeToAllTables(){this.subscribe("SELECT * FROM *")}},oi=new WeakMap,li=new WeakMap,Kn),Gr=class{constructor(){K(this,"subscriptions",new Map)}},He,Le,ce,pe,ve,kn,Vr=(kn=class{constructor(R,E,A,L){Pt(this,He);Pt(this,Le,!1);Pt(this,ce,!1);Pt(this,pe,!1);Pt(this,ve,new as);this.db=R,q(this,ve).on("applied",F=>{ft(this,pe,!0),A&&A(F)}),q(this,ve).on("error",(F,z)=>{ft(this,pe,!1),ft(this,ce,!0),L&&L(F,z)}),ft(this,He,this.db.registerSubscription(this,q(this,ve),E))}unsubscribe(){if(q(this,Le))throw new Error("Unsubscribe has already been called");ft(this,Le,!0),this.db.unregisterSubscription(q(this,He)),q(this,ve).on("end",R=>{ft(this,ce,!0),ft(this,pe,!1)})}unsubscribeThen(R){if(q(this,ce))throw new Error("Subscription has already ended");if(q(this,Le))throw new Error("Unsubscribe has already been called");ft(this,Le,!0),this.db.unregisterSubscription(q(this,He)),q(this,ve).on("end",E=>{ft(this,ce,!0),ft(this,pe,!1),R(E)})}isEnded(){return q(this,ce)}isActive(){return q(this,pe)}},He=new WeakMap,Le=new WeakMap,ce=new WeakMap,pe=new WeakMap,ve=new WeakMap,kn);function Wr(R){switch(R){case"FullUpdate":return 0;case"NoSuccessNotify":return 1}}var hi,jt,Ke,ns,$t,ui,ae,rs,Ot,rr,Ti,ar,Ae,or,lr,hr,Xr,Yr,Hr,Kr,kr,$r,Zr,$n,nr=($n=class{constructor({uri:R,nameOrAddress:E,identity:A,token:L,emitter:F,remoteModule:z,createWSFn:p,compression:x,lightMode:t}){Pt(this,Ot);K(this,"isActive",!1);K(this,"identity");K(this,"token");K(this,"db");K(this,"reducers");K(this,"setReducerFlags");K(this,"connectionId",cs.random());Pt(this,hi,0);Pt(this,jt);Pt(this,Ke,new as);Pt(this,ns);Pt(this,$t);Pt(this,ui,Promise.resolve());Pt(this,ae,new Gr);K(this,"clientCache");K(this,"ws");K(this,"wsPromise");Pt(this,rs,()=>{const R=q(this,hi);return ft(this,hi,q(this,hi)+1),R});K(this,"subscriptionBuilder",()=>new sr(this));we("info","Connecting to SpacetimeDB WS...");let h=new URL(`v1/database/${E}/subscribe`,R);/^wss?:/.test(R.protocol)||(h.protocol="ws:"),this.identity=A,this.token=L,ft(this,$t,z),ft(this,jt,F);let v=this.connectionId.toHexString();h.searchParams.set("connection_id",v),this.clientCache=new Nr,this.db=q(this,$t).dbViewConstructor(this),this.setReducerFlags=q(this,$t).setReducerFlagsConstructor(),this.reducers=q(this,$t).reducersConstructor(this,this.setReducerFlags),this.wsPromise=p({url:h,wsProtocol:"v1.bsatn.spacetimedb",authToken:L,compression:x,lightMode:t}).then(a=>(this.ws=a,this.ws.onclose=()=>{q(this,jt).emit("disconnect",this)},this.ws.onerror=r=>{q(this,jt).emit("connectError",this,r)},this.ws.onopen=dt(this,Ot,ar).bind(this),this.ws.onmessage=dt(this,Ot,lr).bind(this),a)).catch(a=>{throw we("error","Error connecting to SpacetimeDB WS"),dt(this,Ot,hr).call(this,"connectError",a),a})}registerSubscription(R,E,A){const L=q(this,rs).call(this);return q(this,ae).subscriptions.set(L,{handle:R,emitter:E}),dt(this,Ot,Ti).call(this,ze.SubscribeMulti({queryStrings:A,queryId:{id:L},requestId:0})),L}unregisterSubscription(R){dt(this,Ot,Ti).call(this,ze.UnsubscribeMulti({queryId:{id:R},requestId:0}))}callReducer(R,E,A){const L=ze.CallReducer({reducer:R,args:E,requestId:0,flags:Wr(A)});dt(this,Ot,Ti).call(this,L)}disconnect(){this.wsPromise.then(R=>{R.close()})}onReducer(R,E){q(this,Ke).on(R,E)}offReducer(R,E){q(this,Ke).off(R,E)}},hi=new WeakMap,jt=new WeakMap,Ke=new WeakMap,ns=new WeakMap,$t=new WeakMap,ui=new WeakMap,ae=new WeakMap,rs=new WeakMap,Ot=new WeakSet,rr=async function(R){const E=(F,z,p)=>{const x=p.rowsData,t=new Ue(x),h=[],v=q(this,$t).tables[z].rowType;for(;t.offset<x.length+x.byteOffset;){const a=v.deserialize(t),r=JSON.stringify(a,(n,e)=>typeof e=="bigint"?e.toString():e);h.push({type:F,rowId:r,row:a})}return h},A=async F=>{const z=F.tableName;let p=[];for(const x of F.updates){let t;if(x.tag==="Gzip"){const h=await tr(x.value,"gzip");t=Si.deserialize(new Ue(h))}else{if(x.tag==="Brotli")throw new Error("Brotli compression not supported. Please use gzip or none compression in withCompression method on DbConnection.");t=x.value}p=p.concat(E("insert",z,t.inserts)),p=p.concat(E("delete",z,t.deletes))}return{tableName:z,operations:p}},L=async F=>{const z=[];for(const p of F.tables)z.push(await A(p));return z};switch(R.tag){case"InitialSubscription":{const F=R.value.databaseUpdate;return{tag:"InitialSubscription",tableUpdates:await L(F)}}case"TransactionUpdateLight":{const F=R.value.update;return{tag:"TransactionUpdateLight",tableUpdates:await L(F)}}case"TransactionUpdate":{const F=R.value,z=F.callerIdentity,p=cs.nullIfZero(F.callerConnectionId),x=F.reducerCall.reducerName,t=F.reducerCall.args,h=F.energyQuantaUsed;let v,a="";switch(F.status.tag){case"Committed":v=await L(F.status.value);break;case"Failed":v=[],a=F.status.value;break;case"OutOfEnergy":v=[];break}if(x==="<none>"){console.error(`Received an error from the database: ${a}`);return}let r;return x!==""&&(r={reducerName:x,args:t}),{tag:"TransactionUpdate",tableUpdates:v,identity:z,connectionId:p,reducerInfo:r,status:F.status,energyConsumed:h.quanta,message:a,timestamp:F.timestamp}}case"IdentityToken":return{tag:"IdentityToken",identity:R.value.identity,token:R.value.token,connectionId:R.value.connectionId};case"OneOffQueryResponse":throw new Error(`TypeScript SDK never sends one-off queries, but got OneOffQueryResponse ${R}`);case"SubscribeMultiApplied":{const F=await L(R.value.update);return{tag:"SubscribeApplied",queryId:R.value.queryId.id,tableUpdates:F}}case"UnsubscribeMultiApplied":{const F=await L(R.value.update);return{tag:"UnsubscribeApplied",queryId:R.value.queryId.id,tableUpdates:F}}case"SubscriptionError":return{tag:"SubscriptionError",queryId:R.value.queryId,error:R.value.error}}},Ti=function(R){this.wsPromise.then(E=>{const A=new Ut(1024);ze.serialize(A,R);const L=A.getBuffer();E.send(L)})},ar=function(){this.isActive=!0},Ae=function(R,E){const A=[];for(let L of R){const F=L.tableName,z=q(this,$t).tables[F],p=this.clientCache.getOrCreateTable(z);A.push(...p.applyOperations(L.operations,E))}return A},or=async function(R){var L,F;const E=Lr(Ws,R),A=await dt(this,Ot,rr).call(this,E);if(A)switch(A.tag){case"InitialSubscription":{let z={tag:"SubscribeApplied"};const p=q(this,$t).eventContextConstructor(this,z),{event:x,...t}=p,h=dt(this,Ot,Ae).call(this,A.tableUpdates,p);q(this,jt)&&((L=q(this,ns))==null||L.call(this,t));for(const v of h)v.cb();break}case"TransactionUpdateLight":{let z={tag:"UnknownTransaction"};const p=q(this,$t).eventContextConstructor(this,z),x=dt(this,Ot,Ae).call(this,A.tableUpdates,p);for(const t of x)t.cb();break}case"TransactionUpdate":{let z=A.reducerInfo,p=!1,x,t;if(!z)p=!0;else{t=q(this,$t).reducers[z.reducerName];try{const s=new Ue(z.args);x=t.argsType.deserialize(s)}catch{console.debug("Failed to deserialize reducer arguments"),p=!0}}if(p){const s={tag:"UnknownTransaction"},o=q(this,$t).eventContextConstructor(this,s),i=dt(this,Ot,Ae).call(this,A.tableUpdates,o);for(const l of i)l.cb();return}z=z,t=t;const h={callerIdentity:A.identity,status:A.status,callerConnectionId:A.connectionId,timestamp:A.timestamp,energyConsumed:A.energyConsumed,reducer:{name:z.reducerName,args:x}},v={tag:"Reducer",value:h},a=q(this,$t).eventContextConstructor(this,v),r={...a,event:h},n=dt(this,Ot,Ae).call(this,A.tableUpdates,a),e=[];t.argsType.product.elements.forEach((s,o)=>{e.push(x[s.name])}),q(this,Ke).emit(z.reducerName,r,...e);for(const s of n)s.cb();break}case"IdentityToken":{this.identity=A.identity,!this.token&&A.token&&(this.token=A.token),this.connectionId=A.connectionId,q(this,jt).emit("connect",this,this.identity,this.token);break}case"SubscribeApplied":{const z=q(this,ae).subscriptions.get(A.queryId);if(z===void 0){we("error",`Received SubscribeApplied for unknown queryId ${A.queryId}.`);break}const p={tag:"SubscribeApplied"},x=q(this,$t).eventContextConstructor(this,p),{event:t,...h}=x,v=dt(this,Ot,Ae).call(this,A.tableUpdates,x);z==null||z.emitter.emit("applied",h);for(const a of v)a.cb();break}case"UnsubscribeApplied":{const z=q(this,ae).subscriptions.get(A.queryId);if(z===void 0){we("error",`Received UnsubscribeApplied for unknown queryId ${A.queryId}.`);break}const p={tag:"UnsubscribeApplied"},x=q(this,$t).eventContextConstructor(this,p),{event:t,...h}=x,v=dt(this,Ot,Ae).call(this,A.tableUpdates,x);z==null||z.emitter.emit("end",h),q(this,ae).subscriptions.delete(A.queryId);for(const a of v)a.cb();break}case"SubscriptionError":{const z=Error(A.error),p={tag:"Error",value:z},t={...q(this,$t).eventContextConstructor(this,p),event:z};A.queryId!==void 0?((F=q(this,ae).subscriptions.get(A.queryId))==null||F.emitter.emit("error",t,z),q(this,ae).subscriptions.delete(A.queryId)):(console.error("Received an error message without a queryId: ",z),q(this,ae).subscriptions.forEach(({emitter:h})=>{h.emit("error",t,z)}))}}},lr=function(R){ft(this,ui,q(this,ui).then(()=>dt(this,Ot,or).call(this,R.data)))},hr=function(R,E){q(this,jt).on(R,E)},Xr=function(R,E){q(this,jt).off(R,E)},Yr=function(R){q(this,jt).on("connect",R)},Hr=function(R){q(this,jt).on("disconnect",R)},Kr=function(R){q(this,jt).on("connectError",R)},kr=function(R){q(this,jt).off("connect",R)},$r=function(R){q(this,jt).off("disconnect",R)},Zr=function(R){q(this,jt).off("connectError",R)},$n),Ai;(R=>{function E(){return $.createProductType([new Q("accountName",$.createStringType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ai||(Ai={}));var Pi;(R=>{function E(){return $.createProductType([new Q("accountName",$.createStringType()),new Q("questTypeId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Pi||(Pi={}));var wi;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(wi||(wi={}));var Mi;(R=>{function E(){return $.createProductType([new Q("timer",wi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Mi||(Mi={}));var bi;(R=>{function E(){return $.createProductType([new Q("playerId",$.createU32Type()),new Q("upgradeIndex",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(bi||(bi={}));var Fi;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("scheduledAt",$.createScheduleAtType()),new Q("activeAttackId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Fi||(Fi={}));var Ri;(R=>{function E(){return $.createProductType([new Q("cleanup",Fi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ri||(Ri={}));var Li;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("scheduledAt",$.createScheduleAtType()),new Q("activeBossAttackId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Li||(Li={}));var Di;(R=>{function E(){return $.createProductType([new Q("cleanup",Li.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Di||(Di={}));var Oi;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("damageId",$.createU32Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Oi||(Oi={}));var Bi;(R=>{function E(){return $.createProductType([new Q("cleanup",Oi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Bi||(Bi={}));var Ys;(R=>{function E(){return $.createProductType([])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ys||(Ys={}));var Ii;(R=>{function E(){return $.createProductType([new Q("bossTypeIndex",$.createI32Type()),new Q("spawnPhaseTwo",$.createBoolType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ii||(Ii={}));var Ni;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ni||(Ni={}));var zi;(R=>{function E(){return $.createProductType([new Q("timer",Ni.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(zi||(zi={}));var bt;(R=>{R.Sword={tag:"Sword"},R.Wand={tag:"Wand"},R.Knives={tag:"Knives"},R.Shield={tag:"Shield"},R.Football={tag:"Football"},R.Cards={tag:"Cards"},R.Dumbbell={tag:"Dumbbell"},R.Garlic={tag:"Garlic"},R.BossBolt={tag:"BossBolt"},R.BossJorgeBolt={tag:"BossJorgeBolt"},R.BossBjornBolt={tag:"BossBjornBolt"},R.WormSpit={tag:"WormSpit"},R.ScorpionSting={tag:"ScorpionSting"},R.Shuriken={tag:"Shuriken"},R.FireSword={tag:"FireSword"},R.HolyHammer={tag:"HolyHammer"},R.MagicDagger={tag:"MagicDagger"},R.ThrowingShield={tag:"ThrowingShield"},R.EnergyOrb={tag:"EnergyOrb"};function E(){return $.createSumType([new ot("Sword",$.createProductType([])),new ot("Wand",$.createProductType([])),new ot("Knives",$.createProductType([])),new ot("Shield",$.createProductType([])),new ot("Football",$.createProductType([])),new ot("Cards",$.createProductType([])),new ot("Dumbbell",$.createProductType([])),new ot("Garlic",$.createProductType([])),new ot("BossBolt",$.createProductType([])),new ot("BossJorgeBolt",$.createProductType([])),new ot("BossBjornBolt",$.createProductType([])),new ot("WormSpit",$.createProductType([])),new ot("ScorpionSting",$.createProductType([])),new ot("Shuriken",$.createProductType([])),new ot("FireSword",$.createProductType([])),new ot("HolyHammer",$.createProductType([])),new ot("MagicDagger",$.createProductType([])),new ot("ThrowingShield",$.createProductType([])),new ot("EnergyOrb",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(bt||(bt={}));var Ui;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("playerId",$.createU32Type()),new Q("attackType",bt.getTypeScriptAlgebraicType()),new Q("remainingShots",$.createU32Type()),new Q("parameterU",$.createU32Type()),new Q("parameterI",$.createI32Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ui||(Ui={}));var Gi;(R=>{function E(){return $.createProductType([new Q("burstCooldown",Ui.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Gi||(Gi={}));var Hs;(R=>{function E(){return $.createProductType([])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Hs||(Hs={}));var Ks;(R=>{function E(){return $.createProductType([])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ks||(Ks={}));var Vi;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Vi||(Vi={}));var Wi;(R=>{function E(){return $.createProductType([new Q("timer",Vi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Wi||(Wi={}));var Xi;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Xi||(Xi={}));var Yi;(R=>{function E(){return $.createProductType([new Q("scheduler",Xi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Yi||(Yi={}));var Hi;(R=>{function E(){return $.createProductType([new Q("poisonId",$.createU64Type()),new Q("playerId",$.createU32Type()),new Q("originalSpeed",$.createF32Type()),new Q("poisonedSpeed",$.createF32Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Hi||(Hi={}));var Ki;(R=>{function E(){return $.createProductType([new Q("poisonEffect",Hi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ki||(Ki={}));var ki;(R=>{function E(){return $.createProductType([new Q("playerId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ki||(ki={}));var ks;(R=>{function E(){return $.createProductType([])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ks||(ks={}));var $i;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("playerId",$.createU32Type()),new Q("attackType",bt.getTypeScriptAlgebraicType()),new Q("skillLevel",$.createU32Type()),new Q("parameterU",$.createU32Type()),new Q("parameterI",$.createI32Type()),new Q("duration",$.createU32Type()),new Q("projectiles",$.createU32Type()),new Q("fireDelay",$.createU32Type()),new Q("speed",$.createF32Type()),new Q("piercing",$.createBoolType()),new Q("radius",$.createF32Type()),new Q("damage",$.createU32Type()),new Q("armorPiercing",$.createU32Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})($i||($i={}));var Zi;(R=>{function E(){return $.createProductType([new Q("attack",$i.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Zi||(Zi={}));var Ji;(R=>{function E(){return $.createProductType([new Q("name",$.createStringType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Ji||(Ji={}));var Qi;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Qi||(Qi={}));var ji;(R=>{function E(){return $.createProductType([new Q("timer",Qi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ji||(ji={}));var si;(R=>{function E(){return $.createProductType([new Q("x",$.createF32Type()),new Q("y",$.createF32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(si||(si={}));var kt;(R=>{R.Rat={tag:"Rat"},R.Slime={tag:"Slime"},R.Orc={tag:"Orc"},R.Wolf={tag:"Wolf"},R.Worm={tag:"Worm"},R.Scorpion={tag:"Scorpion"},R.FinalBossPhase1={tag:"FinalBossPhase1"},R.FinalBossPhase2={tag:"FinalBossPhase2"},R.FinalBossJorgePhase1={tag:"FinalBossJorgePhase1"},R.FinalBossJorgePhase2={tag:"FinalBossJorgePhase2"},R.FinalBossBjornPhase1={tag:"FinalBossBjornPhase1"},R.FinalBossBjornPhase2={tag:"FinalBossBjornPhase2"},R.FinalBossSimonPhase1={tag:"FinalBossSimonPhase1"},R.FinalBossSimonPhase2={tag:"FinalBossSimonPhase2"};function E(){return $.createSumType([new ot("Rat",$.createProductType([])),new ot("Slime",$.createProductType([])),new ot("Orc",$.createProductType([])),new ot("Wolf",$.createProductType([])),new ot("Worm",$.createProductType([])),new ot("Scorpion",$.createProductType([])),new ot("FinalBossPhase1",$.createProductType([])),new ot("FinalBossPhase2",$.createProductType([])),new ot("FinalBossJorgePhase1",$.createProductType([])),new ot("FinalBossJorgePhase2",$.createProductType([])),new ot("FinalBossBjornPhase1",$.createProductType([])),new ot("FinalBossBjornPhase2",$.createProductType([])),new ot("FinalBossSimonPhase1",$.createProductType([])),new ot("FinalBossSimonPhase2",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(kt||(kt={}));var qi;(R=>{function E(){return $.createProductType([new Q("scheduledId",$.createU64Type()),new Q("position",si.getTypeScriptAlgebraicType()),new Q("monsterType",kt.getTypeScriptAlgebraicType()),new Q("targetEntityId",$.createU32Type()),new Q("scheduledAt",$.createScheduleAtType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(qi||(qi={}));var _i;(R=>{function E(){return $.createProductType([new Q("spawner",qi.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(_i||(_i={}));var ts;(R=>{function E(){return $.createProductType([new Q("classId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ts||(ts={}));var $s;(R=>{function E(){return $.createProductType([])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})($s||($s={}));var es;(R=>{function E(){return $.createProductType([new Q("dirX",$.createF32Type()),new Q("dirY",$.createF32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(es||(es={}));class Jr{constructor(E){K(this,"tableCache");K(this,"identity",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.identity,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Qr{constructor(E){K(this,"tableCache");K(this,"achievementsId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.achievementsId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class jr{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class qr{constructor(E){K(this,"tableCache");K(this,"activeAttackId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.activeAttackId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class _r{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ta{constructor(E){K(this,"tableCache");K(this,"activeBossAttackId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.activeBossAttackId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ea{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ia{constructor(E){K(this,"tableCache");K(this,"attackId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.attackId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class sa{constructor(E){K(this,"tableCache");K(this,"bestiaryId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.bestiaryId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class na{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ra{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class aa{constructor(E){K(this,"tableCache");K(this,"chosenUpgradeId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.chosenUpgradeId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class oa{constructor(E){K(this,"tableCache");K(this,"classId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.classId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class la{constructor(E){K(this,"tableCache");K(this,"id",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.id,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ha{constructor(E){K(this,"tableCache");K(this,"playerId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.playerId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ua{constructor(E){K(this,"tableCache");K(this,"entityId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.entityId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class da{constructor(E){K(this,"tableCache");K(this,"configId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.configId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class fa{constructor(E){K(this,"tableCache");K(this,"questId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.questId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ca{constructor(E){K(this,"tableCache");K(this,"id",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.id,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class pa{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class va{constructor(E){K(this,"tableCache");K(this,"gemId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.gemId,E))return A}});K(this,"entityId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.entityId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ga{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ma{constructor(E){K(this,"tableCache");K(this,"damageId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.damageId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ya{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class xa{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Ta{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Sa{constructor(E){K(this,"tableCache");K(this,"monsterId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.monsterId,E))return A}});K(this,"entityId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.entityId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Ca{constructor(E){K(this,"tableCache");K(this,"playerId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.playerId,E))return A}});K(this,"entityId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.entityId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Ea{constructor(E){K(this,"tableCache");K(this,"poisonId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.poisonId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Aa{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.scheduledId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Pa{constructor(E){K(this,"tableCache");K(this,"upgradeId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.upgradeId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class wa{constructor(E){K(this,"tableCache");K(this,"worldId",{find:E=>{for(let A of this.tableCache.iter())if(Mt(A.worldId,E))return A}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}var Zs;(R=>{function E(){return $.createProductType([new Q("identity",$.createIdentityType()),new Q("name",$.createStringType()),new Q("currentPlayerId",$.createU32Type()),new Q("lastLogin",$.createTimestampType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Zs||(Zs={}));var Js;(R=>{R.SlimeSlayer={tag:"SlimeSlayer"},R.RatSlayer={tag:"RatSlayer"},R.WormSlayer={tag:"WormSlayer"},R.ScorpionSlayer={tag:"ScorpionSlayer"},R.OrcHunter={tag:"OrcHunter"},R.WolfHunter={tag:"WolfHunter"},R.DefeatJorge={tag:"DefeatJorge"},R.DefeatBjrn={tag:"DefeatBjrn"},R.DefeatSimon={tag:"DefeatSimon"},R.WeaponArsenal={tag:"WeaponArsenal"},R.Expert={tag:"Expert"},R.Survivor={tag:"Survivor"};function E(){return $.createSumType([new ot("SlimeSlayer",$.createProductType([])),new ot("RatSlayer",$.createProductType([])),new ot("WormSlayer",$.createProductType([])),new ot("ScorpionSlayer",$.createProductType([])),new ot("OrcHunter",$.createProductType([])),new ot("WolfHunter",$.createProductType([])),new ot("DefeatJorge",$.createProductType([])),new ot("DefeatBjrn",$.createProductType([])),new ot("DefeatSimon",$.createProductType([])),new ot("WeaponArsenal",$.createProductType([])),new ot("Expert",$.createProductType([])),new ot("Survivor",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Js||(Js={}));var Qs;(R=>{function E(){return $.createProductType([new Q("achievementsId",$.createU32Type()),new Q("accountIdentity",$.createIdentityType()),new Q("achievementTypeType",Js.getTypeScriptAlgebraicType()),new Q("titleKey",$.createStringType()),new Q("descriptionKey",$.createStringType()),new Q("spritePath",$.createStringType()),new Q("progress",$.createU32Type()),new Q("target",$.createU32Type()),new Q("isCompleted",$.createBoolType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(Qs||(Qs={}));var js;(R=>{function E(){return $.createProductType([new Q("activeAttackId",$.createU32Type()),new Q("entityId",$.createU32Type()),new Q("playerId",$.createU32Type()),new Q("attackType",bt.getTypeScriptAlgebraicType()),new Q("idWithinBurst",$.createU32Type()),new Q("parameterU",$.createU32Type()),new Q("parameterI",$.createI32Type()),new Q("ticksElapsed",$.createU32Type()),new Q("damage",$.createU32Type()),new Q("radius",$.createF32Type()),new Q("piercing",$.createBoolType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(js||(js={}));var qs;(R=>{function E(){return $.createProductType([new Q("activeBossAttackId",$.createU32Type()),new Q("entityId",$.createU32Type()),new Q("bossMonsterId",$.createU32Type()),new Q("attackType",bt.getTypeScriptAlgebraicType()),new Q("idWithinBurst",$.createU32Type()),new Q("parameterU",$.createU32Type()),new Q("ticksElapsed",$.createU32Type()),new Q("damage",$.createU32Type()),new Q("radius",$.createF32Type()),new Q("piercing",$.createBoolType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(qs||(qs={}));var _s;(R=>{function E(){return $.createProductType([new Q("attackId",$.createU32Type()),new Q("attackType",bt.getTypeScriptAlgebraicType()),new Q("name",$.createStringType()),new Q("cooldown",$.createU32Type()),new Q("duration",$.createU32Type()),new Q("projectiles",$.createU32Type()),new Q("fireDelay",$.createU32Type()),new Q("speed",$.createF32Type()),new Q("piercing",$.createBoolType()),new Q("radius",$.createF32Type()),new Q("damage",$.createU32Type()),new Q("armorPiercing",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(_s||(_s={}));var tn;(R=>{function E(){return $.createProductType([new Q("bestiaryId",$.createU32Type()),new Q("monsterType",kt.getTypeScriptAlgebraicType()),new Q("maxHp",$.createU32Type()),new Q("speed",$.createF32Type()),new Q("exp",$.createU32Type()),new Q("atk",$.createF32Type()),new Q("radius",$.createF32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(tn||(tn={}));var is;(R=>{R.MaxHp={tag:"MaxHp"},R.HpRegen={tag:"HpRegen"},R.Speed={tag:"Speed"},R.Armor={tag:"Armor"},R.AttackSword={tag:"AttackSword"},R.AttackWand={tag:"AttackWand"},R.AttackKnives={tag:"AttackKnives"},R.AttackShield={tag:"AttackShield"},R.AttackFootball={tag:"AttackFootball"},R.AttackCards={tag:"AttackCards"},R.AttackDumbbell={tag:"AttackDumbbell"},R.AttackGarlic={tag:"AttackGarlic"};function E(){return $.createSumType([new ot("MaxHp",$.createProductType([])),new ot("HpRegen",$.createProductType([])),new ot("Speed",$.createProductType([])),new ot("Armor",$.createProductType([])),new ot("AttackSword",$.createProductType([])),new ot("AttackWand",$.createProductType([])),new ot("AttackKnives",$.createProductType([])),new ot("AttackShield",$.createProductType([])),new ot("AttackFootball",$.createProductType([])),new ot("AttackCards",$.createProductType([])),new ot("AttackDumbbell",$.createProductType([])),new ot("AttackGarlic",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(is||(is={}));var en;(R=>{function E(){return $.createProductType([new Q("chosenUpgradeId",$.createU32Type()),new Q("playerId",$.createU32Type()),new Q("upgradeType",is.getTypeScriptAlgebraicType()),new Q("isAttackUpgrade",$.createBoolType()),new Q("value",$.createU32Type()),new Q("attackType",$.createU32Type()),new Q("damage",$.createU32Type()),new Q("cooldownRatio",$.createU32Type()),new Q("projectiles",$.createU32Type()),new Q("speed",$.createU32Type()),new Q("radius",$.createU32Type()),new Q("isNewAttack",$.createBoolType()),new Q("isCombinationTrigger",$.createBoolType()),new Q("firstWeaponToCombine",bt.getTypeScriptAlgebraicType()),new Q("secondWeaponToCombine",bt.getTypeScriptAlgebraicType()),new Q("combinedWeaponResult",bt.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(en||(en={}));var ke;(R=>{R.Fighter={tag:"Fighter"},R.Rogue={tag:"Rogue"},R.Mage={tag:"Mage"},R.Paladin={tag:"Paladin"},R.Football={tag:"Football"},R.Gambler={tag:"Gambler"},R.Athlete={tag:"Athlete"},R.Gourmand={tag:"Gourmand"};function E(){return $.createSumType([new ot("Fighter",$.createProductType([])),new ot("Rogue",$.createProductType([])),new ot("Mage",$.createProductType([])),new ot("Paladin",$.createProductType([])),new ot("Football",$.createProductType([])),new ot("Gambler",$.createProductType([])),new ot("Athlete",$.createProductType([])),new ot("Gourmand",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ke||(ke={}));const Qt=ke;var sn;(R=>{function E(){return $.createProductType([new Q("classId",$.createU32Type()),new Q("playerClass",ke.getTypeScriptAlgebraicType()),new Q("maxHp",$.createI32Type()),new Q("armor",$.createI32Type()),new Q("speed",$.createF32Type()),new Q("startingAttackType",bt.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(sn||(sn={}));var nn;(R=>{function E(){return $.createProductType([new Q("id",$.createU32Type()),new Q("worldSize",$.createU32Type()),new Q("gameTickRate",$.createU32Type()),new Q("maxMonsters",$.createU32Type()),new Q("playerSpawnGracePeriod",$.createU32Type()),new Q("monsterHitCleanupDelay",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(nn||(nn={}));var rn;(R=>{function E(){return $.createProductType([new Q("playerId",$.createU32Type()),new Q("name",$.createStringType()),new Q("isTrueSurvivor",$.createBoolType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(rn||(rn={}));var an;(R=>{function E(){return $.createProductType([new Q("entityId",$.createU32Type()),new Q("position",si.getTypeScriptAlgebraicType()),new Q("direction",si.getTypeScriptAlgebraicType()),new Q("isMoving",$.createBoolType()),new Q("radius",$.createF32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(an||(an={}));var on;(R=>{function E(){return $.createProductType([new Q("configId",$.createU32Type()),new Q("expSmallGem",$.createU32Type()),new Q("expMediumGem",$.createU32Type()),new Q("expLargeGem",$.createU32Type()),new Q("expHugeGem",$.createU32Type()),new Q("baseExpPerLevel",$.createU32Type()),new Q("levelExpFactor",$.createF32Type()),new Q("gemRadius",$.createF32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(on||(on={}));var ln;(R=>{function E(){return $.createProductType([new Q("id",$.createU32Type()),new Q("bossActive",$.createBoolType()),new Q("bossPhase",$.createU32Type()),new Q("bossMonsterId",$.createU32Type()),new Q("normalSpawningPaused",$.createBoolType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(ln||(ln={}));var hn;(R=>{R.Small={tag:"Small"},R.Medium={tag:"Medium"},R.Large={tag:"Large"},R.Huge={tag:"Huge"};function E(){return $.createSumType([new ot("Small",$.createProductType([])),new ot("Medium",$.createProductType([])),new ot("Large",$.createProductType([])),new ot("Huge",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(hn||(hn={}));var un;(R=>{function E(){return $.createProductType([new Q("gemId",$.createU32Type()),new Q("entityId",$.createU32Type()),new Q("level",hn.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(un||(un={}));var dn;(R=>{function E(){return $.createProductType([new Q("damageId",$.createU32Type()),new Q("monsterId",$.createU32Type()),new Q("attackEntityId",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(dn||(dn={}));var fn;(R=>{function E(){return $.createProductType([new Q("monsterId",$.createU32Type()),new Q("entityId",$.createU32Type()),new Q("bestiaryId",kt.getTypeScriptAlgebraicType()),new Q("hp",$.createU32Type()),new Q("maxHp",$.createU32Type()),new Q("atk",$.createF32Type()),new Q("speed",$.createF32Type()),new Q("targetEntityId",$.createU32Type()),new Q("lastDamagerIdentity",$.createIdentityType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(fn||(fn={}));var cn;(R=>{function E(){return $.createProductType([new Q("playerId",$.createU32Type()),new Q("entityId",$.createU32Type()),new Q("name",$.createStringType()),new Q("spawnGracePeriodRemaining",$.createU32Type()),new Q("playerClass",ke.getTypeScriptAlgebraicType()),new Q("level",$.createU32Type()),new Q("exp",$.createU32Type()),new Q("expForNextLevel",$.createU32Type()),new Q("maxHp",$.createF32Type()),new Q("hp",$.createF32Type()),new Q("hpRegen",$.createU32Type()),new Q("speed",$.createF32Type()),new Q("armor",$.createU32Type()),new Q("unspentUpgrades",$.createU32Type()),new Q("rerolls",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(cn||(cn={}));var fe;(R=>{R.Til={tag:"Til"},R.Marc={tag:"Marc"},R.Max={tag:"Max"},R.Chris={tag:"Chris"},R.Reroll={tag:"Reroll"};function E(){return $.createSumType([new ot("Til",$.createProductType([])),new ot("Marc",$.createProductType([])),new ot("Max",$.createProductType([])),new ot("Chris",$.createProductType([])),new ot("Reroll",$.createProductType([]))])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(fe||(fe={}));var pn;(R=>{function E(){return $.createProductType([new Q("questId",$.createU32Type()),new Q("accountIdentity",$.createIdentityType()),new Q("questTypeType",fe.getTypeScriptAlgebraicType()),new Q("isCompleted",$.createBoolType()),new Q("progress",$.createU32Type()),new Q("maxProgress",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(pn||(pn={}));var vn;(R=>{function E(){return $.createProductType([new Q("upgradeId",$.createU32Type()),new Q("playerId",$.createU32Type()),new Q("upgradeIndex",$.createU32Type()),new Q("upgradeType",is.getTypeScriptAlgebraicType()),new Q("isAttackUpgrade",$.createBoolType()),new Q("value",$.createU32Type()),new Q("attackType",$.createU32Type()),new Q("damage",$.createU32Type()),new Q("cooldownRatio",$.createU32Type()),new Q("projectiles",$.createU32Type()),new Q("speed",$.createU32Type()),new Q("radius",$.createU32Type()),new Q("isNewAttack",$.createBoolType()),new Q("isCombinationTrigger",$.createBoolType()),new Q("firstWeaponToCombine",bt.getTypeScriptAlgebraicType()),new Q("secondWeaponToCombine",bt.getTypeScriptAlgebraicType()),new Q("combinedWeaponResult",bt.getTypeScriptAlgebraicType())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(vn||(vn={}));var gn;(R=>{function E(){return $.createProductType([new Q("worldId",$.createU32Type()),new Q("tickCount",$.createU32Type())])}R.getTypeScriptAlgebraicType=E;function A(F,z){R.getTypeScriptAlgebraicType().serialize(F,z)}R.serialize=A;function L(F){return R.getTypeScriptAlgebraicType().deserialize(F)}R.deserialize=L})(gn||(gn={}));const Ft={tables:{account:{tableName:"account",rowType:Zs.getTypeScriptAlgebraicType(),primaryKey:"identity"},achievements:{tableName:"achievements",rowType:Qs.getTypeScriptAlgebraicType(),primaryKey:"achievementsId"},active_attack_cleanup:{tableName:"active_attack_cleanup",rowType:Fi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},active_attacks:{tableName:"active_attacks",rowType:js.getTypeScriptAlgebraicType(),primaryKey:"activeAttackId"},active_boss_attack_cleanup:{tableName:"active_boss_attack_cleanup",rowType:Li.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},active_boss_attacks:{tableName:"active_boss_attacks",rowType:qs.getTypeScriptAlgebraicType(),primaryKey:"activeBossAttackId"},attack_burst_cooldowns:{tableName:"attack_burst_cooldowns",rowType:Ui.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},attack_data:{tableName:"attack_data",rowType:_s.getTypeScriptAlgebraicType(),primaryKey:"attackId"},bestiary:{tableName:"bestiary",rowType:tn.getTypeScriptAlgebraicType(),primaryKey:"bestiaryId"},boss_attack_timer:{tableName:"boss_attack_timer",rowType:wi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},boss_spawn_timer:{tableName:"boss_spawn_timer",rowType:Qi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},chosen_upgrades:{tableName:"chosen_upgrades",rowType:en.getTypeScriptAlgebraicType(),primaryKey:"chosenUpgradeId"},class_data:{tableName:"class_data",rowType:sn.getTypeScriptAlgebraicType(),primaryKey:"classId"},config:{tableName:"config",rowType:nn.getTypeScriptAlgebraicType(),primaryKey:"id"},dead_players:{tableName:"dead_players",rowType:rn.getTypeScriptAlgebraicType(),primaryKey:"playerId"},entity:{tableName:"entity",rowType:an.getTypeScriptAlgebraicType(),primaryKey:"entityId"},exp_config:{tableName:"exp_config",rowType:on.getTypeScriptAlgebraicType(),primaryKey:"configId"},game_quests:{tableName:"game_quests",rowType:pn.getTypeScriptAlgebraicType(),primaryKey:"questId"},game_state:{tableName:"game_state",rowType:ln.getTypeScriptAlgebraicType(),primaryKey:"id"},game_tick_timer:{tableName:"game_tick_timer",rowType:Ni.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},gems:{tableName:"gems",rowType:un.getTypeScriptAlgebraicType(),primaryKey:"gemId"},health_regen_scheduler:{tableName:"health_regen_scheduler",rowType:Xi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_damage:{tableName:"monster_damage",rowType:dn.getTypeScriptAlgebraicType(),primaryKey:"damageId"},monster_hit_cleanup:{tableName:"monster_hit_cleanup",rowType:Oi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_spawn_timer:{tableName:"monster_spawn_timer",rowType:Vi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_spawners:{tableName:"monster_spawners",rowType:qi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monsters:{tableName:"monsters",rowType:fn.getTypeScriptAlgebraicType(),primaryKey:"monsterId"},player:{tableName:"player",rowType:cn.getTypeScriptAlgebraicType(),primaryKey:"playerId"},player_poison_effect:{tableName:"player_poison_effect",rowType:Hi.getTypeScriptAlgebraicType(),primaryKey:"poisonId"},player_scheduled_attacks:{tableName:"player_scheduled_attacks",rowType:$i.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},upgrade_options:{tableName:"upgrade_options",rowType:vn.getTypeScriptAlgebraicType(),primaryKey:"upgradeId"},world:{tableName:"world",rowType:gn.getTypeScriptAlgebraicType(),primaryKey:"worldId"}},reducers:{AdminCompleteAllMajorQuests:{reducerName:"AdminCompleteAllMajorQuests",argsType:Ai.getTypeScriptAlgebraicType()},AdminCompleteQuest:{reducerName:"AdminCompleteQuest",argsType:Pi.getTypeScriptAlgebraicType()},BossFireProjectile:{reducerName:"BossFireProjectile",argsType:Mi.getTypeScriptAlgebraicType()},ChooseUpgrade:{reducerName:"ChooseUpgrade",argsType:bi.getTypeScriptAlgebraicType()},CleanupActiveAttack:{reducerName:"CleanupActiveAttack",argsType:Ri.getTypeScriptAlgebraicType()},CleanupActiveBossAttack:{reducerName:"CleanupActiveBossAttack",argsType:Di.getTypeScriptAlgebraicType()},CleanupMonsterHitRecord:{reducerName:"CleanupMonsterHitRecord",argsType:Bi.getTypeScriptAlgebraicType()},ClientConnected:{reducerName:"ClientConnected",argsType:Ys.getTypeScriptAlgebraicType()},DebugSpawnBoss:{reducerName:"DebugSpawnBoss",argsType:Ii.getTypeScriptAlgebraicType()},GameTick:{reducerName:"GameTick",argsType:zi.getTypeScriptAlgebraicType()},HandleAttackBurstCooldown:{reducerName:"HandleAttackBurstCooldown",argsType:Gi.getTypeScriptAlgebraicType()},InitAttackData:{reducerName:"InitAttackData",argsType:Hs.getTypeScriptAlgebraicType()},InitHealthRegenSystem:{reducerName:"InitHealthRegenSystem",argsType:Ks.getTypeScriptAlgebraicType()},PreSpawnMonster:{reducerName:"PreSpawnMonster",argsType:Wi.getTypeScriptAlgebraicType()},ProcessHealthRegen:{reducerName:"ProcessHealthRegen",argsType:Yi.getTypeScriptAlgebraicType()},RemovePoisonEffect:{reducerName:"RemovePoisonEffect",argsType:Ki.getTypeScriptAlgebraicType()},RerollUpgrades:{reducerName:"RerollUpgrades",argsType:ki.getTypeScriptAlgebraicType()},ResetWorld:{reducerName:"ResetWorld",argsType:ks.getTypeScriptAlgebraicType()},ServerTriggerAttack:{reducerName:"ServerTriggerAttack",argsType:Zi.getTypeScriptAlgebraicType()},SetName:{reducerName:"SetName",argsType:Ji.getTypeScriptAlgebraicType()},SpawnBossPhaseOne:{reducerName:"SpawnBossPhaseOne",argsType:ji.getTypeScriptAlgebraicType()},SpawnMonster:{reducerName:"SpawnMonster",argsType:_i.getTypeScriptAlgebraicType()},SpawnPlayer:{reducerName:"SpawnPlayer",argsType:ts.getTypeScriptAlgebraicType()},UpdateLastLogin:{reducerName:"UpdateLastLogin",argsType:$s.getTypeScriptAlgebraicType()},UpdatePlayerDirection:{reducerName:"UpdatePlayerDirection",argsType:es.getTypeScriptAlgebraicType()}},eventContextConstructor:(R,E)=>({...R,event:E}),dbViewConstructor:R=>new Fa(R),reducersConstructor:(R,E)=>new Ma(R,E),setReducerFlagsConstructor:()=>new ba};class Ma{constructor(E,A){this.connection=E,this.setCallReducerFlags=A}adminCompleteAllMajorQuests(E){const A={accountName:E};let L=new Ut(1024);Ai.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("AdminCompleteAllMajorQuests",F,this.setCallReducerFlags.adminCompleteAllMajorQuestsFlags)}onAdminCompleteAllMajorQuests(E){this.connection.onReducer("AdminCompleteAllMajorQuests",E)}removeOnAdminCompleteAllMajorQuests(E){this.connection.offReducer("AdminCompleteAllMajorQuests",E)}adminCompleteQuest(E,A){const L={accountName:E,questTypeId:A};let F=new Ut(1024);Pi.getTypeScriptAlgebraicType().serialize(F,L);let z=F.getBuffer();this.connection.callReducer("AdminCompleteQuest",z,this.setCallReducerFlags.adminCompleteQuestFlags)}onAdminCompleteQuest(E){this.connection.onReducer("AdminCompleteQuest",E)}removeOnAdminCompleteQuest(E){this.connection.offReducer("AdminCompleteQuest",E)}bossFireProjectile(E){const A={timer:E};let L=new Ut(1024);Mi.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("BossFireProjectile",F,this.setCallReducerFlags.bossFireProjectileFlags)}onBossFireProjectile(E){this.connection.onReducer("BossFireProjectile",E)}removeOnBossFireProjectile(E){this.connection.offReducer("BossFireProjectile",E)}chooseUpgrade(E,A){const L={playerId:E,upgradeIndex:A};let F=new Ut(1024);bi.getTypeScriptAlgebraicType().serialize(F,L);let z=F.getBuffer();this.connection.callReducer("ChooseUpgrade",z,this.setCallReducerFlags.chooseUpgradeFlags)}onChooseUpgrade(E){this.connection.onReducer("ChooseUpgrade",E)}removeOnChooseUpgrade(E){this.connection.offReducer("ChooseUpgrade",E)}cleanupActiveAttack(E){const A={cleanup:E};let L=new Ut(1024);Ri.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("CleanupActiveAttack",F,this.setCallReducerFlags.cleanupActiveAttackFlags)}onCleanupActiveAttack(E){this.connection.onReducer("CleanupActiveAttack",E)}removeOnCleanupActiveAttack(E){this.connection.offReducer("CleanupActiveAttack",E)}cleanupActiveBossAttack(E){const A={cleanup:E};let L=new Ut(1024);Di.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("CleanupActiveBossAttack",F,this.setCallReducerFlags.cleanupActiveBossAttackFlags)}onCleanupActiveBossAttack(E){this.connection.onReducer("CleanupActiveBossAttack",E)}removeOnCleanupActiveBossAttack(E){this.connection.offReducer("CleanupActiveBossAttack",E)}cleanupMonsterHitRecord(E){const A={cleanup:E};let L=new Ut(1024);Bi.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("CleanupMonsterHitRecord",F,this.setCallReducerFlags.cleanupMonsterHitRecordFlags)}onCleanupMonsterHitRecord(E){this.connection.onReducer("CleanupMonsterHitRecord",E)}removeOnCleanupMonsterHitRecord(E){this.connection.offReducer("CleanupMonsterHitRecord",E)}onClientConnected(E){this.connection.onReducer("ClientConnected",E)}removeOnClientConnected(E){this.connection.offReducer("ClientConnected",E)}debugSpawnBoss(E,A){const L={bossTypeIndex:E,spawnPhaseTwo:A};let F=new Ut(1024);Ii.getTypeScriptAlgebraicType().serialize(F,L);let z=F.getBuffer();this.connection.callReducer("DebugSpawnBoss",z,this.setCallReducerFlags.debugSpawnBossFlags)}onDebugSpawnBoss(E){this.connection.onReducer("DebugSpawnBoss",E)}removeOnDebugSpawnBoss(E){this.connection.offReducer("DebugSpawnBoss",E)}gameTick(E){const A={timer:E};let L=new Ut(1024);zi.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("GameTick",F,this.setCallReducerFlags.gameTickFlags)}onGameTick(E){this.connection.onReducer("GameTick",E)}removeOnGameTick(E){this.connection.offReducer("GameTick",E)}handleAttackBurstCooldown(E){const A={burstCooldown:E};let L=new Ut(1024);Gi.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("HandleAttackBurstCooldown",F,this.setCallReducerFlags.handleAttackBurstCooldownFlags)}onHandleAttackBurstCooldown(E){this.connection.onReducer("HandleAttackBurstCooldown",E)}removeOnHandleAttackBurstCooldown(E){this.connection.offReducer("HandleAttackBurstCooldown",E)}initAttackData(){this.connection.callReducer("InitAttackData",new Uint8Array(0),this.setCallReducerFlags.initAttackDataFlags)}onInitAttackData(E){this.connection.onReducer("InitAttackData",E)}removeOnInitAttackData(E){this.connection.offReducer("InitAttackData",E)}initHealthRegenSystem(){this.connection.callReducer("InitHealthRegenSystem",new Uint8Array(0),this.setCallReducerFlags.initHealthRegenSystemFlags)}onInitHealthRegenSystem(E){this.connection.onReducer("InitHealthRegenSystem",E)}removeOnInitHealthRegenSystem(E){this.connection.offReducer("InitHealthRegenSystem",E)}preSpawnMonster(E){const A={timer:E};let L=new Ut(1024);Wi.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("PreSpawnMonster",F,this.setCallReducerFlags.preSpawnMonsterFlags)}onPreSpawnMonster(E){this.connection.onReducer("PreSpawnMonster",E)}removeOnPreSpawnMonster(E){this.connection.offReducer("PreSpawnMonster",E)}processHealthRegen(E){const A={scheduler:E};let L=new Ut(1024);Yi.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("ProcessHealthRegen",F,this.setCallReducerFlags.processHealthRegenFlags)}onProcessHealthRegen(E){this.connection.onReducer("ProcessHealthRegen",E)}removeOnProcessHealthRegen(E){this.connection.offReducer("ProcessHealthRegen",E)}removePoisonEffect(E){const A={poisonEffect:E};let L=new Ut(1024);Ki.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("RemovePoisonEffect",F,this.setCallReducerFlags.removePoisonEffectFlags)}onRemovePoisonEffect(E){this.connection.onReducer("RemovePoisonEffect",E)}removeOnRemovePoisonEffect(E){this.connection.offReducer("RemovePoisonEffect",E)}rerollUpgrades(E){const A={playerId:E};let L=new Ut(1024);ki.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("RerollUpgrades",F,this.setCallReducerFlags.rerollUpgradesFlags)}onRerollUpgrades(E){this.connection.onReducer("RerollUpgrades",E)}removeOnRerollUpgrades(E){this.connection.offReducer("RerollUpgrades",E)}resetWorld(){this.connection.callReducer("ResetWorld",new Uint8Array(0),this.setCallReducerFlags.resetWorldFlags)}onResetWorld(E){this.connection.onReducer("ResetWorld",E)}removeOnResetWorld(E){this.connection.offReducer("ResetWorld",E)}serverTriggerAttack(E){const A={attack:E};let L=new Ut(1024);Zi.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("ServerTriggerAttack",F,this.setCallReducerFlags.serverTriggerAttackFlags)}onServerTriggerAttack(E){this.connection.onReducer("ServerTriggerAttack",E)}removeOnServerTriggerAttack(E){this.connection.offReducer("ServerTriggerAttack",E)}setName(E){const A={name:E};let L=new Ut(1024);Ji.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("SetName",F,this.setCallReducerFlags.setNameFlags)}onSetName(E){this.connection.onReducer("SetName",E)}removeOnSetName(E){this.connection.offReducer("SetName",E)}spawnBossPhaseOne(E){const A={timer:E};let L=new Ut(1024);ji.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("SpawnBossPhaseOne",F,this.setCallReducerFlags.spawnBossPhaseOneFlags)}onSpawnBossPhaseOne(E){this.connection.onReducer("SpawnBossPhaseOne",E)}removeOnSpawnBossPhaseOne(E){this.connection.offReducer("SpawnBossPhaseOne",E)}spawnMonster(E){const A={spawner:E};let L=new Ut(1024);_i.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("SpawnMonster",F,this.setCallReducerFlags.spawnMonsterFlags)}onSpawnMonster(E){this.connection.onReducer("SpawnMonster",E)}removeOnSpawnMonster(E){this.connection.offReducer("SpawnMonster",E)}spawnPlayer(E){const A={classId:E};let L=new Ut(1024);ts.getTypeScriptAlgebraicType().serialize(L,A);let F=L.getBuffer();this.connection.callReducer("SpawnPlayer",F,this.setCallReducerFlags.spawnPlayerFlags)}onSpawnPlayer(E){this.connection.onReducer("SpawnPlayer",E)}removeOnSpawnPlayer(E){this.connection.offReducer("SpawnPlayer",E)}updateLastLogin(){this.connection.callReducer("UpdateLastLogin",new Uint8Array(0),this.setCallReducerFlags.updateLastLoginFlags)}onUpdateLastLogin(E){this.connection.onReducer("UpdateLastLogin",E)}removeOnUpdateLastLogin(E){this.connection.offReducer("UpdateLastLogin",E)}updatePlayerDirection(E,A){const L={dirX:E,dirY:A};let F=new Ut(1024);es.getTypeScriptAlgebraicType().serialize(F,L);let z=F.getBuffer();this.connection.callReducer("UpdatePlayerDirection",z,this.setCallReducerFlags.updatePlayerDirectionFlags)}onUpdatePlayerDirection(E){this.connection.onReducer("UpdatePlayerDirection",E)}removeOnUpdatePlayerDirection(E){this.connection.offReducer("UpdatePlayerDirection",E)}}class ba{constructor(){K(this,"adminCompleteAllMajorQuestsFlags","FullUpdate");K(this,"adminCompleteQuestFlags","FullUpdate");K(this,"bossFireProjectileFlags","FullUpdate");K(this,"chooseUpgradeFlags","FullUpdate");K(this,"cleanupActiveAttackFlags","FullUpdate");K(this,"cleanupActiveBossAttackFlags","FullUpdate");K(this,"cleanupMonsterHitRecordFlags","FullUpdate");K(this,"debugSpawnBossFlags","FullUpdate");K(this,"gameTickFlags","FullUpdate");K(this,"handleAttackBurstCooldownFlags","FullUpdate");K(this,"initAttackDataFlags","FullUpdate");K(this,"initHealthRegenSystemFlags","FullUpdate");K(this,"preSpawnMonsterFlags","FullUpdate");K(this,"processHealthRegenFlags","FullUpdate");K(this,"removePoisonEffectFlags","FullUpdate");K(this,"rerollUpgradesFlags","FullUpdate");K(this,"resetWorldFlags","FullUpdate");K(this,"serverTriggerAttackFlags","FullUpdate");K(this,"setNameFlags","FullUpdate");K(this,"spawnBossPhaseOneFlags","FullUpdate");K(this,"spawnMonsterFlags","FullUpdate");K(this,"spawnPlayerFlags","FullUpdate");K(this,"updateLastLoginFlags","FullUpdate");K(this,"updatePlayerDirectionFlags","FullUpdate")}adminCompleteAllMajorQuests(E){this.adminCompleteAllMajorQuestsFlags=E}adminCompleteQuest(E){this.adminCompleteQuestFlags=E}bossFireProjectile(E){this.bossFireProjectileFlags=E}chooseUpgrade(E){this.chooseUpgradeFlags=E}cleanupActiveAttack(E){this.cleanupActiveAttackFlags=E}cleanupActiveBossAttack(E){this.cleanupActiveBossAttackFlags=E}cleanupMonsterHitRecord(E){this.cleanupMonsterHitRecordFlags=E}debugSpawnBoss(E){this.debugSpawnBossFlags=E}gameTick(E){this.gameTickFlags=E}handleAttackBurstCooldown(E){this.handleAttackBurstCooldownFlags=E}initAttackData(E){this.initAttackDataFlags=E}initHealthRegenSystem(E){this.initHealthRegenSystemFlags=E}preSpawnMonster(E){this.preSpawnMonsterFlags=E}processHealthRegen(E){this.processHealthRegenFlags=E}removePoisonEffect(E){this.removePoisonEffectFlags=E}rerollUpgrades(E){this.rerollUpgradesFlags=E}resetWorld(E){this.resetWorldFlags=E}serverTriggerAttack(E){this.serverTriggerAttackFlags=E}setName(E){this.setNameFlags=E}spawnBossPhaseOne(E){this.spawnBossPhaseOneFlags=E}spawnMonster(E){this.spawnMonsterFlags=E}spawnPlayer(E){this.spawnPlayerFlags=E}updateLastLogin(E){this.updateLastLoginFlags=E}updatePlayerDirection(E){this.updatePlayerDirectionFlags=E}}class Fa{constructor(E){this.connection=E}get account(){return new Jr(this.connection.clientCache.getOrCreateTable(Ft.tables.account))}get achievements(){return new Qr(this.connection.clientCache.getOrCreateTable(Ft.tables.achievements))}get activeAttackCleanup(){return new jr(this.connection.clientCache.getOrCreateTable(Ft.tables.active_attack_cleanup))}get activeAttacks(){return new qr(this.connection.clientCache.getOrCreateTable(Ft.tables.active_attacks))}get activeBossAttackCleanup(){return new _r(this.connection.clientCache.getOrCreateTable(Ft.tables.active_boss_attack_cleanup))}get activeBossAttacks(){return new ta(this.connection.clientCache.getOrCreateTable(Ft.tables.active_boss_attacks))}get attackBurstCooldowns(){return new ea(this.connection.clientCache.getOrCreateTable(Ft.tables.attack_burst_cooldowns))}get attackData(){return new ia(this.connection.clientCache.getOrCreateTable(Ft.tables.attack_data))}get bestiary(){return new sa(this.connection.clientCache.getOrCreateTable(Ft.tables.bestiary))}get bossAttackTimer(){return new na(this.connection.clientCache.getOrCreateTable(Ft.tables.boss_attack_timer))}get bossSpawnTimer(){return new ra(this.connection.clientCache.getOrCreateTable(Ft.tables.boss_spawn_timer))}get chosenUpgrades(){return new aa(this.connection.clientCache.getOrCreateTable(Ft.tables.chosen_upgrades))}get classData(){return new oa(this.connection.clientCache.getOrCreateTable(Ft.tables.class_data))}get config(){return new la(this.connection.clientCache.getOrCreateTable(Ft.tables.config))}get deadPlayers(){return new ha(this.connection.clientCache.getOrCreateTable(Ft.tables.dead_players))}get entity(){return new ua(this.connection.clientCache.getOrCreateTable(Ft.tables.entity))}get expConfig(){return new da(this.connection.clientCache.getOrCreateTable(Ft.tables.exp_config))}get gameQuests(){return new fa(this.connection.clientCache.getOrCreateTable(Ft.tables.game_quests))}get gameState(){return new ca(this.connection.clientCache.getOrCreateTable(Ft.tables.game_state))}get gameTickTimer(){return new pa(this.connection.clientCache.getOrCreateTable(Ft.tables.game_tick_timer))}get gems(){return new va(this.connection.clientCache.getOrCreateTable(Ft.tables.gems))}get healthRegenScheduler(){return new ga(this.connection.clientCache.getOrCreateTable(Ft.tables.health_regen_scheduler))}get monsterDamage(){return new ma(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_damage))}get monsterHitCleanup(){return new ya(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_hit_cleanup))}get monsterSpawnTimer(){return new xa(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_spawn_timer))}get monsterSpawners(){return new Ta(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_spawners))}get monsters(){return new Sa(this.connection.clientCache.getOrCreateTable(Ft.tables.monsters))}get player(){return new Ca(this.connection.clientCache.getOrCreateTable(Ft.tables.player))}get playerPoisonEffect(){return new Ea(this.connection.clientCache.getOrCreateTable(Ft.tables.player_poison_effect))}get playerScheduledAttacks(){return new Aa(this.connection.clientCache.getOrCreateTable(Ft.tables.player_scheduled_attacks))}get upgradeOptions(){return new Pa(this.connection.clientCache.getOrCreateTable(Ft.tables.upgrade_options))}get world(){return new wa(this.connection.clientCache.getOrCreateTable(Ft.tables.world))}}class Ra extends sr{}class ur extends nr{constructor(){super(...arguments);K(this,"subscriptionBuilder",()=>new Ra(this))}}K(ur,"builder",()=>new Ur(Ft,A=>A));const hs={Rat:"monster_rat",Slime:"monster_slime",Orc:"monster_orc",Wolf:"monster_wolf",Worm:"monster_worm",Scorpion:"monster_scorpion",FinalBossJorgePhase1:"final_boss_jorge_phase_1",FinalBossJorgePhase2:"final_boss_jorge_phase_2",FinalBossBjornPhase1:"final_boss_bjorn_phase_1",FinalBossBjornPhase2:"final_boss_bjorn_phase_2",FinalBossSimonPhase1:"final_boss_simon_phase_1",FinalBossSimonPhase2:"final_boss_simon_phase_2"},La={Rat:-10,Slime:-12,Orc:12,Wolf:-5,Worm:-8,Scorpion:-9,FinalBossJorgePhase1:16,FinalBossJorgePhase2:20,FinalBossBjornPhase1:16,FinalBossBjornPhase2:20,FinalBossSimonPhase1:16,FinalBossSimonPhase2:20};var it=(R=>(R.CONNECTION_ESTABLISHED="connection_established",R.CONNECTION_LOST="connection_lost",R.SUBSCRIPTION_APPLIED="subscription_applied",R.ACCOUNT_CREATED="account_created",R.ACCOUNT_UPDATED="account_updated",R.NAME_SET="name_set",R.PLAYER_CREATED="player_created",R.PLAYER_UPDATED="player_updated",R.PLAYER_DELETED="player_deleted",R.PLAYER_DIED="player_died",R.ENTITY_CREATED="entity_created",R.ENTITY_UPDATED="entity_updated",R.ENTITY_DELETED="entity_deleted",R.MONSTER_CREATED="monster_created",R.MONSTER_UPDATED="monster_updated",R.MONSTER_DELETED="monster_deleted",R.ATTACK_CREATED="attack_created",R.ATTACK_UPDATED="attack_updated",R.ATTACK_DELETED="attack_deleted",R.LOADING_COMPLETE="loading_complete",R.LOADING_ERROR="loading_error",R.SCENE_READY="scene_ready",R.SCENE_TRANSITION_START="scene_transition_start",R.SCENE_TRANSITION_COMPLETE="scene_transition_complete",R.LAYOUT_READY="layout_ready",R.MOBILE_DETECTED="mobile_detected",R.BOSS_ATTACK_CREATED="BOSS_ATTACK_CREATED",R.BOSS_ATTACK_UPDATED="BOSS_ATTACK_UPDATED",R.BOSS_ATTACK_DELETED="BOSS_ATTACK_DELETED",R.GEM_CREATED="gem:created",R.GEM_UPDATED="gem:updated",R.GEM_DELETED="gem:deleted",R.GAME_STARTED="game_started",R.GAME_ENDED="game_ended",R.GAME_STATE_UPDATED="game_state:updated",R.BOSS_SPAWN_TIMER_CREATED="boss_spawn_timer:created",R.BOSS_SPAWN_TIMER_DELETED="boss_spawn_timer:deleted",R.BOSS_PHASE_CHANGED="boss_phase_changed",R.ACTIVE_ATTACK_CLEANUP_CREATED="ACTIVE_ATTACK_CLEANUP_CREATED",R.ACTIVE_ATTACK_CLEANUP_DELETED="ACTIVE_ATTACK_CLEANUP_DELETED",R.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED="ACTIVE_BOSS_ATTACK_CLEANUP_CREATED",R.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED="ACTIVE_BOSS_ATTACK_CLEANUP_DELETED",R.ATTACK_DATA_CREATED="ATTACK_DATA_CREATED",R.ATTACK_DATA_UPDATED="ATTACK_DATA_UPDATED",R.POISON_EFFECT_CREATED="poison_effect:created",R.POISON_EFFECT_DELETED="poison_effect:deleted",R))(it||{});const Da="shadow",Oa=.4,$e=40,Cn=4,En=12,us=1e3,Ba=-1,Ia=1,Na=1.1;class za{constructor(E,A){K(this,"scene");K(this,"spacetimeDBClient");K(this,"monsters",new Map);K(this,"pendingMonsters",new Map);K(this,"gameEvents");K(this,"bossPhase1Killed",!1);K(this,"timeOfBossPhase1Death",0);K(this,"bossMonsterId",0);K(this,"bossPosition",null);this.scene=E,this.spacetimeDBClient=A,this.gameEvents=window.gameEvents,console.log("MonsterManager constructed")}initializeMonsters(E){var A,L,F,z;if(!((L=(A=this.spacetimeDBClient)==null?void 0:A.sdkConnection)!=null&&L.db)){console.error("Cannot initialize monsters: database connection not available");return}console.log("MonsterManager initalizing monsters"),this.registerMonsterListeners(),this.registerEntityListeners();for(const p of(F=E.db)==null?void 0:F.monsters.iter()){const x=(z=E.db)==null?void 0:z.entity.entityId.find(p.entityId);x?this.createMonsterSprite(p,x.position):this.createOrUpdateMonster(p)}}registerMonsterListeners(){console.log("Registering monster listeners for MonsterManager"),this.gameEvents.on(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.gameEvents.on(it.MONSTER_UPDATED,(E,A,L)=>{this.createOrUpdateMonster(L)}),this.gameEvents.on(it.MONSTER_DELETED,(E,A)=>{this.removeMonster(A.monsterId)})}registerEntityListeners(){console.log("Registering entity event listeners for MonsterManager"),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityEvent,this)}handleEntityEvent(E,A){this.handleEntityUpdate(E,A)}handleEntityUpdate(E,A){var z,p,x;const L=this.pendingMonsters.get(A.entityId);if(L){const t=this.monsters.get(L.monsterId);return t?(t.x=A.position.x,t.y=A.position.y,t.setDepth(us+A.position.y),t.setData("targetX",A.position.x),t.setData("targetY",A.position.y),t.setData("lastUpdateTime",Date.now()),this.pendingMonsters.delete(A.entityId),this.applySimonBuffEffect(L),!0):(this.pendingMonsters.delete(A.entityId),this.createMonsterSprite(L,A.position),this.applySimonBuffEffect(L),!0)}const F=(p=(z=E.db)==null?void 0:z.monsters.entityId)==null?void 0:p.find(A.entityId);if(F){const t=this.monsters.get(F.monsterId);if(t){this.scene.tweens.killTweensOf(t);const h=this.getMonsterTypeName(F.bestiaryId);t.setData("targetX",A.position.x),t.setData("targetY",A.position.y),t.setData("lastUpdateTime",Date.now());const v=A.isMoving;return Math.pow(t.x-A.position.x,2)+Math.pow(t.y-A.position.y,2)>1e4?(t.x=A.position.x,t.y=A.position.y):v?this.scene.tweens.add({targets:t,x:A.position.x,y:A.position.y,duration:100,ease:"Linear"}):(t.x=A.position.x,t.y=A.position.y),t.setData("isMoving",v),t.setData("monsterType",h),t.setData("direction",{x:A.direction.x,y:A.direction.y}),this.applySimonBuffEffect(F),!0}else return this.createMonsterSprite(F,A.position),this.applySimonBuffEffect(F),!0}if(!F){for(const t of((x=E.db)==null?void 0:x.monsters.iter())||[])if(t.entityId===A.entityId)return this.createOrUpdateMonster(t),!0}return!1}getHealthBarColor(E){return E>.6?65280:E>.3?16776960:16711680}createOrUpdateMonster(E){var F,z;if(!((z=(F=this.spacetimeDBClient)==null?void 0:F.sdkConnection)!=null&&z.db)){console.error("Cannot create monster sprite: database connection not available");return}const A=this.monsters.get(E.monsterId);if(A&&(A.x!==0||A.y!==0)){const p=A.getData("currentHP")||E.maxHp;if(E.hp<p){const t=A.getByName("sprite");t&&(t.setTintFill(16711680),this.scene.time.delayedCall(100,()=>{t.clearTint()}))}const x=A.getByName("healthBar");if(x){const t=E.hp/E.maxHp;x.width=$e*t,x.fillColor=this.getHealthBarColor(t)}A.setData("currentHP",E.hp),this.applySimonBuffEffect(E);return}const L=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(E.entityId);L?(this.createMonsterSprite(E,L.position),this.applySimonBuffEffect(E)):(this.monsters.get(E.monsterId)||this.createMonsterSprite(E,{x:0,y:0}),this.pendingMonsters.set(E.entityId,E))}applySimonBuffEffect(E){const A=this.monsters.get(E.monsterId);if(!A)return;const L=this.getMonsterTypeName(E.bestiaryId);if(Ua(L)){const F=L==="FinalBossSimonPhase1"?120:150,z=L==="FinalBossSimonPhase1"?25:40,p=E.speed>F||E.atk>z,x=A.getByName("simonBuffEffect");if(x&&x.destroy(),this.scene.tweens.killTweensOf(A.getData("simonBuffTween")),p){const t=this.scene.add.sprite(0,-50,"attack_boss_simon");t.setOrigin(.5,.5),t.setScale(.7),t.setAlpha(.9),t.setName("simonBuffEffect"),A.add(t),A.setData("simonBuffTween",t),this.scene.tweens.add({targets:t,scale:.9,duration:500,yoyo:!0,repeat:3,ease:"Sine.easeInOut",onComplete:()=>{t&&t.destroy()}})}}}createMonsterSprite(E,A){const L=E.bestiaryId.tag,F=hs[L];if(console.log(`Creating monster sprite: type=${L}, spriteKey=${F}, position=(${A.x}, ${A.y})`),!F){console.error(`No sprite key defined for monster type: ${L}`);return}if(!this.scene.textures.exists(F)){console.error(`Missing texture for monster type: ${L}, key: ${F}`),console.log("Available textures:",this.scene.textures.list);return}if(this.monsters.has(E.monsterId)){const z=this.monsters.get(E.monsterId);if(z){z.setPosition(A.x,A.y),z.setDepth(us+A.y);const p=z.getAll();for(const x of p)if(x.name==="healthBar"){const t=x,h=E.maxHp,v=E.hp/h;t.width=$e*v,t.fillColor=this.getHealthBarColor(v),z.setData("currentHP",E.hp),z.setData("maxHP",E.maxHp);break}this.updateCollisionCircle(z,E.entityId)}}else try{console.log(`Creating new monster container for ${L} at (${A.x}, ${A.y})`);const z=us+A.y,p=this.scene.add.container(A.x,A.y),x=La[L]||8,t=this.scene.add.image(0,x,Da).setAlpha(Oa).setDepth(Ba);t.setScale(.7),console.log(`Added shadow for ${L}`);let h;try{h=this.scene.add.sprite(0,0,F),h.setDepth(0),h.name="sprite",Se(L)&&(console.log(`Setting up boss sprite: ${L} (ID: ${E.monsterId})`),console.log(`Boss data: HP=${E.hp}/${E.maxHp}, Entity ID=${E.entityId}`),h.setScale(1),h.setAlpha(1),h.setVisible(!0),console.log(`Boss sprite properties: visible=${h.visible}, alpha=${h.alpha}, scale=${h.scaleX}, texture=${h.texture.key}`),console.log(`Is boss sprite texture missing: ${h.texture.key==="__MISSING"}`)),console.log(`Added sprite for ${L}: visible=${h.visible}, alpha=${h.alpha}`)}catch(e){console.error(`Failed to create sprite for ${L}:`,e);return}const v=E.maxHp;p.setData("maxHP",v),p.setData("currentHP",E.hp),p.setData("entityId",E.entityId),p.setData("monsterId",E.monsterId),p.setData("monsterType",L);const a=this.scene.add.rectangle(0,-h.height/2-En,$e,Cn,0,.7);a.setDepth(Ia);const r=E.hp/v,n=this.scene.add.rectangle(-$e/2,-h.height/2-En,$e*r,Cn,this.getHealthBarColor(r),1);n.setOrigin(0,.5),n.setDepth(Na),n.name="healthBar",p.add([t,h,a,n]),p.setDepth(z),p.setSize(h.width,h.height),p.setAlpha(1),p.setVisible(!0),this.createCollisionCircle(p,E.entityId),this.monsters.set(E.monsterId,p),console.log(`Successfully created monster: ${L} (ID: ${E.monsterId})`),Se(L)&&(console.log(`BOSS CONTAINER: visible=${p.visible}, alpha=${p.alpha}, x=${p.x}, y=${p.y}, depth=${p.depth}`),console.log(`BOSS SPRITE: visible=${h.visible}, alpha=${h.alpha}`))}catch(z){console.error(`Failed to create monster sprite for ${L}:`,z)}}createCollisionCircle(E,A){}updateCollisionCircle(E,A){}getDefaultRadiusForMonster(E){switch(E.getData("monsterType")){case"Rat":return 24;case"Slime":return 30;case"Wolf":return 34;case"Worm":return 28;case"Orc":return 40;default:return 30}}removeMonster(E){console.log(`Removing monster: ${E}`);const A=this.monsters.get(E);if(A){const F=A.getData("monsterType");Se(F)?(console.log(`*** BOSS PHASE 1 DEFEATED (ID: ${E})! Waiting for phase 2 to spawn... ***`),this.bossPhase1Killed=!0,this.timeOfBossPhase1Death=Date.now(),this.bossMonsterId=E,this.bossPosition={x:A.x,y:A.y},console.log(`Boss position stored: (${this.bossPosition.x}, ${this.bossPosition.y})`),this.createBossTransformationEffect(A.x,A.y)):Se(F)&&console.log(`*** FINAL BOSS DEFEATED (ID: ${E})! GAME COMPLETE! ***`)}const L=this.monsters.get(E);L&&L.destroy(),this.monsters.delete(E)}getMonster(E){return this.monsters.get(E)}getAllMonsters(){return this.monsters}getMonsterCount(){return this.monsters.size}getPendingMonsterCount(){return this.pendingMonsters.size}update(E,A){this.checkForBossPhaseTransition(),this.monsters.forEach((L,F)=>{L.getData("targetX"),L.getData("targetY"),L.getData("lastUpdateTime"),L.getData("isMoving")})}unregisterListeners(){console.log("Unregistering event listeners for MonsterManager"),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.off(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.gameEvents.off(it.MONSTER_UPDATED),this.gameEvents.off(it.MONSTER_DELETED)}shutdown(){this.unregisterListeners()}handleMonsterCreated(E,A){var z,p;const L=(z=E.db)==null?void 0:z.entity.entityId.find(A.entityId),F=this.getMonsterTypeName(A.bestiaryId);if(console.log(`Monster created: ${A.monsterId}, type: ${F}, entity: ${A.entityId}`),Se(F)){console.log(`BOSS SPAWNED: ${F}`),console.log(`- Monster ID: ${A.monsterId}`),console.log(`- Entity ID: ${A.entityId}`),console.log(`- HP: ${A.hp}/${A.maxHp}`),console.log(`- Asset key: ${hs[F]}`),console.log(`- Texture exists: ${this.scene.textures.exists(hs[F])}`),console.log(L?`- Position: (${L.position.x}, ${L.position.y})`:"- WARNING: No entity data found for boss!"),console.log("All entities in database:");for(const x of((p=E.db)==null?void 0:p.entity.iter())||[])console.log(`- Entity ID: ${x.entityId}, Position: (${x.position.x}, ${x.position.y})`);if((F==="FinalBossJorgePhase2"||F==="FinalBossBjornPhase2"||F==="FinalBossSimonPhase2")&&(console.log("*** PHASE 2 OF THE BOSS HAS BEGUN! ***"),this.bossPhase1Killed)){const x=Date.now()-this.timeOfBossPhase1Death;console.log(`Phase transition took ${x}ms from phase 1 death to phase 2 spawn`),this.bossPhase1Killed=!1}this.debugLogAllSprites()}if(!L){console.warn(`Monster created but no entity found: ${A.monsterId} (type: ${F})`);return}if(Se(F)&&(console.log("Final Boss Phase 2 spawned - playing transformation effect"),this.createBossTransformationEffect(L.position.x,L.position.y)),this.createMonsterSprite(A,L.position),Se(F)){const x=this.monsters.get(A.monsterId);x?console.log(`Boss container after creation: visible=${x.visible}, alpha=${x.alpha}`):console.error("Failed to find boss container after creation!"),this.debugLogAllSprites()}}getMonsterTypeName(E){if(E&&typeof E=="object"&&"tag"in E)return E.tag;switch(E){case 0:return"Rat";case 1:return"Slime";case 2:return"Orc";case 3:return"FinalBossJorgePhase1";case 4:return"FinalBossJorgePhase2";case 5:return"FinalBossBjornPhase1";case 6:return"FinalBossBjornPhase2";case 7:return"FinalBossSimonPhase1";case 8:return"FinalBossSimonPhase2";default:return console.warn(`Unknown monster type: ${E}`),"Unknown"}}createBossTransformationEffect(E,A){console.log(`Creating boss transformation effect at (${E}, ${A})`);const L=this.scene.add.circle(E,A,150,16711680,.7);L.setDepth(10),this.scene.tweens.add({targets:L,alpha:0,radius:300,duration:1e3,ease:"Power2",onComplete:()=>{L.destroy()}});const F=this.scene.add.particles(E,A,"white_pixel",{speed:{min:100,max:300},angle:{min:0,max:360},scale:{start:2,end:0},blendMode:"ADD",lifespan:1e3,quantity:1,frequency:20,emitting:!1,tint:16711680});F.setDepth(9),F.explode(100,E,A),this.scene.time.delayedCall(1200,()=>{F.destroy()});const z=this.scene.add.text(E,A-100,"BOSS PHASE 2 INCOMING!",{fontSize:"32px",color:"#ff0000",stroke:"#000000",strokeThickness:4,fontStyle:"bold"}).setOrigin(.5);z.setDepth(10),this.scene.tweens.add({targets:z,y:A-200,alpha:0,duration:2e3,ease:"Power2",onComplete:()=>{z.destroy()}})}debugLogAllSprites(){console.log("=== ALL SPRITES IN SCENE ===");const E=this.scene.children.list.filter(A=>A instanceof gt.GameObjects.Sprite||A instanceof gt.GameObjects.Container);console.log(`Found ${E.length} sprites/containers`),E.forEach((A,L)=>{var F;if(A instanceof gt.GameObjects.Container){const z=A;console.log(`Container #${L}: x=${z.x}, y=${z.y}, visible=${z.visible}, alpha=${z.alpha}, depth=${z.depth}`),console.log(`  - Children: ${z.length}`),console.log(`  - Data: ${JSON.stringify((F=z.data)==null?void 0:F.getAll())}`)}else{const z=A;console.log(`Sprite #${L}: name=${z.name}, texture=${z.texture.key}, x=${z.x}, y=${z.y}, visible=${z.visible}, alpha=${z.alpha}`)}})}checkForBossPhaseTransition(){var A,L;const E=Date.now();this.bossPhase1Killed&&E-this.timeOfBossPhase1Death>5e3&&(console.error(`ERROR: Boss phase 1 was killed ${(E-this.timeOfBossPhase1Death)/1e3} seconds ago, but phase 2 has not spawned!`),console.log(`Boss phase 1 details - ID: ${this.bossMonsterId}, Position: (${(A=this.bossPosition)==null?void 0:A.x}, ${(L=this.bossPosition)==null?void 0:L.y})`),this.bossPhase1Killed=!1,console.log("Current active monsters:"),this.monsters.forEach((F,z)=>{const p=F.getData("monsterType");console.log(`- Monster ID: ${z}, Type: ${p}, Position: (${F.x}, ${F.y})`)}),console.log("BOSS PHASE 2 SPAWN FAILED - Please report this bug!"))}}function Se(R){return["FinalBossJorgePhase1","FinalBossJorgePhase2","FinalBossBjornPhase1","FinalBossBjornPhase2","FinalBossSimonPhase1","FinalBossSimonPhase2"].includes(R)}function Ua(R){return["FinalBossSimonPhase1","FinalBossSimonPhase2"].includes(R)}const Ga="monster_spawn_indicator",Va=34,Wa=54,Xa=1e3,Ya=.7,Ha=900;class Ka{constructor(E,A){K(this,"scene");K(this,"spacetimeDBClient");K(this,"spawnerIndicators",new Map);var F,z,p;this.scene=E,this.spacetimeDBClient=A,console.log("MonsterSpawnerManager constructed");const L=(F=this.spacetimeDBClient.sdkConnection)==null?void 0:F.db;L?((z=L.monsterSpawners)==null||z.onInsert(this.handleSpawnerInsert.bind(this)),(p=L.monsterSpawners)==null||p.onDelete(this.handleSpawnerDelete.bind(this))):console.error("Could not set up MonsterSpawnerManager database listeners (database not connected)")}handleSpawnerInsert(E,A){console.log(`New monster spawner at position (${A.position.x}, ${A.position.y}) for monster type: ${A.monsterType.tag}`),this.createSpawnerIndicator(A)}handleSpawnerDelete(E,A){console.log(`Monster spawner deleted: ${A.scheduledId}`),this.removeSpawnerIndicator(String(A.scheduledId))}createSpawnerIndicator(E){const A=String(E.scheduledId);if(this.spawnerIndicators.has(A)){console.log(`Indicator for spawner ${A} already exists`);return}const L=this.scene.add.sprite(E.position.x,E.position.y,Ga);L.setOrigin(Va/L.width,Wa/L.height),L.setScale(.1),L.setAlpha(Ya),L.setDepth(Ha+E.position.y),E.monsterType.tag.includes("Boss")&&L.setTint(16733525),this.spawnerIndicators.set(A,L),this.scene.tweens.add({targets:L,scale:1,duration:Xa,ease:"Elastic.Out",onComplete:()=>{this.scene.tweens.add({targets:L,scale:{from:.95,to:1.05},duration:700,yoyo:!0,repeat:-1,ease:"Sine.InOut"})}})}removeSpawnerIndicator(E){const A=this.spawnerIndicators.get(E);A&&this.scene.tweens.add({targets:A,alpha:0,scale:.1,duration:500,ease:"Power2",onComplete:()=>{A.destroy(),this.spawnerIndicators.delete(E)}})}destroy(){this.spawnerIndicators.forEach(E=>E.destroy()),this.spawnerIndicators.clear()}}const Ze=1/60,ka=!1;class $a{constructor(E,A){K(this,"scene");K(this,"attackGraphics",new Map);K(this,"localPlayerId",null);K(this,"localPlayerRadius",0);K(this,"spacetimeClient");K(this,"gameEvents");K(this,"gameTime",0);K(this,"debugCirclesEnabled",ka);this.scene=E,this.spacetimeClient=A,this.gameEvents=window.gameEvents,console.log("AttackManager initialized")}initializeAttacks(E){var A,L,F,z;if(!((L=(A=this.spacetimeClient)==null?void 0:A.sdkConnection)!=null&&L.db)){console.error("Cannot initialize attacks: database connection not available");return}console.log("AttackManager initalizing attacks"),this.registerAttackListeners();for(const p of(F=E.db)==null?void 0:F.activeAttacks.iter())this.createOrUpdateAttackGraphic(E,p);for(const p of(z=E.db)==null?void 0:z.activeBossAttacks.iter())this.createOrUpdateBossAttackGraphic(E,p)}registerAttackListeners(){this.gameEvents.on(it.ATTACK_CREATED,this.handleAttackInsert,this),this.gameEvents.on(it.ATTACK_UPDATED,this.handleAttackUpdate,this),this.gameEvents.on(it.ATTACK_DELETED,this.handleAttackDelete,this),this.gameEvents.on(it.BOSS_ATTACK_CREATED,this.handleBossAttackInsert,this),this.gameEvents.on(it.BOSS_ATTACK_UPDATED,this.handleBossAttackUpdate,this),this.gameEvents.on(it.BOSS_ATTACK_DELETED,this.handleBossAttackDelete,this),this.gameEvents.on(it.ACTIVE_ATTACK_CLEANUP_CREATED,this.handleAttackCleanupCreated,this),this.gameEvents.on(it.ACTIVE_ATTACK_CLEANUP_DELETED,this.handleAttackCleanupDeleted,this),this.gameEvents.on(it.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED,this.handleBossAttackCleanupCreated,this),this.gameEvents.on(it.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED,this.handleBossAttackCleanupDeleted,this),this.gameEvents.on(it.ATTACK_DATA_CREATED,this.handleAttackDataCreated,this),this.gameEvents.on(it.ATTACK_DATA_UPDATED,this.handleAttackDataUpdated,this)}unregisterAttackListeners(){this.gameEvents.off(it.ATTACK_CREATED,this.handleAttackInsert,this),this.gameEvents.off(it.ATTACK_UPDATED,this.handleAttackUpdate,this),this.gameEvents.off(it.ATTACK_DELETED,this.handleAttackDelete,this),this.gameEvents.off(it.BOSS_ATTACK_CREATED,this.handleBossAttackInsert,this),this.gameEvents.off(it.BOSS_ATTACK_UPDATED,this.handleBossAttackUpdate,this),this.gameEvents.off(it.BOSS_ATTACK_DELETED,this.handleBossAttackDelete,this)}setLocalPlayerId(E){this.localPlayerId=E,console.log(`AttackManager: Local player ID set to ${E}`)}setLocalPlayerRadius(E){this.localPlayerRadius=E}handleAttackInsert(E,A){this.createOrUpdateAttackGraphic(E,A)}handleAttackUpdate(E,A,L){this.createOrUpdateAttackGraphic(E,L)}handleAttackDelete(E,A){const L=this.attackGraphics.get(A.activeAttackId);L&&(L.graphic.destroy(),L.sprite&&L.sprite.destroy(),this.attackGraphics.delete(A.activeAttackId))}handleBossAttackInsert(E,A){console.log(`Boss attack created: ${A.activeBossAttackId} of type ${A.attackType.tag}`),this.createOrUpdateBossAttackGraphic(E,A)}handleBossAttackUpdate(E,A,L){console.log(`Boss attack updated: ${L.activeBossAttackId}`),this.createOrUpdateBossAttackGraphic(E,L)}handleBossAttackDelete(E,A){console.log(`Boss attack deleted: ${A.activeBossAttackId}`);const L=this.attackGraphics.get(A.activeBossAttackId);L&&(L.graphic.destroy(),L.sprite&&L.sprite.destroy(),this.attackGraphics.delete(A.activeBossAttackId))}createOrUpdateAttackGraphic(E,A){var a;if(!this.spacetimeClient.sdkConnection)return;const L=(a=E.db)==null?void 0:a.entity.entityId.find(A.entityId);if(!L){console.error(`Entity ${A.entityId} not found for attack ${A.activeAttackId}`);return}const F=this.findAttackDataByType(E,A.attackType);if(!F){console.error(`Attack data not found for type ${A.attackType.tag}`);return}const p=A.playerId===this.localPlayerId?.7:.4,x=A.attackType.tag==="Shield",t=A.attackType.tag;let h=this.attackGraphics.get(A.activeAttackId);if(h){h.serverPosition.set(L.position.x,L.position.y),h.lastUpdateTime=this.gameTime,h.ticksElapsed=A.ticksElapsed,h.attackType=t,h.radius=A.radius;const r=h.predictedPosition.x-L.position.x,n=h.predictedPosition.y-L.position.y,e=r*r+n*n;var v=Ze*h.speed*(Ze*h.speed);e>v&&h.predictedPosition.set(L.position.x,L.position.y)}else{const r=this.scene.add.graphics();r.setDepth(1.4);const n=this.createAttackSprite(t,L.position.x,L.position.y),e=new re.Math.Vector2(L.direction.x,L.direction.y);h={graphic:r,sprite:n,radius:A.radius,baseRadius:F.radius,alpha:p,lastUpdateTime:this.gameTime,predictedPosition:new re.Math.Vector2(L.position.x,L.position.y),serverPosition:new re.Math.Vector2(L.position.x,L.position.y),direction:e,speed:F.speed,isShield:x,playerId:A.playerId,parameterU:A.parameterU,ticksElapsed:A.ticksElapsed,attackType:t},this.attackGraphics.set(A.activeAttackId,h)}this.updateAttackGraphic(h)}createAttackSprite(E,A,L){let F="";const z=E.toLowerCase().replace(/\s+/g,"");switch(console.log(`Creating sprite for attack type: ${E} (normalized: ${z})`),z){case"sword":F="attack_sword";break;case"wand":F="attack_wand";break;case"knives":F="attack_knife";break;case"shield":F="attack_shield";break;case"football":F="attack_football";break;case"cards":F="attack_cards";break;case"dumbbell":F="attack_dumbbell";break;case"garlic":F="attack_garlic";break;case"bossjorgebolt":case"bossjorge":F="attack_boss_jorge";break;case"bossbjornbolt":case"bossbjorn":F="attack_boss_bjorn";break;case"bosssimonbolt":case"bosssimon":F="attack_boss_simon";break;case"wormspit":F="attack_spit";break;case"scorpionsting":F="attack_sting";break;case"shuriken":F="attack_shuriken";break;case"firesword":F="attack_fire_sword";break;case"holyhammer":F="attack_holy_hammer";break;case"magicdagger":F="attack_magic_dagger";break;case"throwingshield":F="attack_throwing_shield";break;case"energyorb":F="attack_energy_orb";break;default:console.warn(`Unknown attack type: ${E} (normalized: ${z}), attempting to guess sprite`);let x=z.replace(/([A-Z])/g,"_$1").toLowerCase();if(x.startsWith("_")&&(x=x.substring(1)),F="attack_"+x,!this.scene.textures.exists(F))return console.error(`Failed to find sprite for ${E} - tried ${F}`),null}const p=this.scene.add.sprite(A,L,F);return p.setDepth(1.5),p.setOrigin(.5,.5),p.setAlpha(1),z==="dumbbell"?p.setScale(1.5):z.includes("boss")?p.setScale(1):z==="football"?p.setScale(.6):z==="garlic"?p.setScale(.1):z==="scorpionsting"?(p.tint=15061247,p.setScale(.8)):p.setScale(1),p}updateAttackGraphic(E){const{graphic:A,sprite:L,radius:F,alpha:z,predictedPosition:p,serverPosition:x,direction:t,speed:h,ticksElapsed:v}=E;if(A.clear(),(this.debugCirclesEnabled||E.attackType==="Garlic")&&(A.lineStyle(1,16777215,z*.4),A.strokeCircle(0,0,F),E.attackType==="Garlic")){const a=1+Math.sin(v*.2)*.2;A.scale=a,this.createGarlicParticles(p.x,p.y)}if(E.attackType==="Dumbbell"&&L){const a=Math.max(.1,1-v*.1);A.fillStyle(0,a),A.fillCircle(0,F,F*.5)}if(A.setPosition(p.x,p.y),L){if(L.setPosition(p.x,p.y),E.attackType==="BossSimonBolt")return;if(E.attackType==="Dumbbell")return;if(E.attackType==="WormSpit"){if(L.setScale(1),t.length()>0){const a=Math.atan2(t.y,t.x),r=Math.sin(this.gameTime*.01)*.2;Math.abs(a)>Math.PI/2?(L.setRotation(0),L.setFlipX(!0),L.setFlipY(!1)):(L.setRotation(a+r),L.setFlipX(!1),L.setFlipY(!1))}Math.random()<.2&&this.createWormSpitParticles(p.x,p.y)}else if(E.attackType==="ScorpionSting"){if(t.length()>0){const r=Math.atan2(t.y,t.x);Math.abs(r)>Math.PI/2?(L.setRotation(0),L.setFlipX(!0),L.setFlipY(!1)):(L.setRotation(r),L.setFlipX(!1),L.setFlipY(!1));const n=Math.atan2(t.y,t.x);Math.abs(n)>Math.PI/2?L.flipX||L.setFlipX(!0):L.flipX&&L.setFlipX(!1)}const a=.8+Math.sin(this.gameTime*.01)*.2;L.setAlpha(a),Math.random()<.3&&this.createScorpionStingParticles(p.x,p.y)}else if(E.attackType==="MagicDagger")L.rotation+=.05;else if(E.isShield){const a=this.getPlayerPosition(E.playerId||0);if(a){const r=p.x-a.x,n=p.y-a.y,e=Math.atan2(n,r);L.setRotation(e)}}else if(t.length()>0){const a=Math.atan2(t.y,t.x);E.attackType==="Sword"||E.attackType==="Knives"||E.attackType==="FireSword"?Math.abs(a)>Math.PI/2?(L.setRotation(0),L.setFlipX(!0),L.setFlipY(!1)):(L.setRotation(a),L.setFlipX(!1),L.setFlipY(!1)):L.setRotation(a)}}}createGarlicParticles(E,A){if(!this.scene)return;const L=Array.from(this.attackGraphics.values()).find(h=>h.attackType==="Garlic");if(!L||Math.random()>.1*(L.radius/L.baseRadius))return;const F=L.radius/L.baseRadius,z=.3*F,p=Math.min(F*30,100),x=new re.Geom.Circle(0,0,L.radius*.8),t=this.scene.add.particles(E,A,"white_pixel",{speed:{min:p*.5,max:p},angle:{min:0,max:360},scale:{start:z,end:0},lifespan:800,tint:[13434828,10092441,6750054],blendMode:"ADD",gravityY:-20*F,quantity:Math.ceil(F),rotate:{min:-180,max:180},alpha:{start:.6,end:0},frequency:50,emitZone:{type:"random",source:x,quantity:Math.ceil(F),stepRate:50}});this.scene.time.delayedCall(800,()=>{t.destroy()})}createWormSpitParticles(E,A){if(!this.scene)return;const L=this.scene.add.particles(E,A,"white_pixel",{speed:{min:10,max:30},angle:{min:0,max:360},scale:{start:.5,end:.1},lifespan:300,tint:8978312,alpha:{start:.7,end:0},quantity:1,frequency:-1,blendMode:"ADD"});L.explode(3,E,A),this.scene.time.delayedCall(300,()=>{L.destroy()})}createScorpionStingParticles(E,A){if(!this.scene)return;const L=this.scene.add.particles(E,A,"white_pixel",{speed:{min:10,max:40},angle:{min:0,max:360},scale:{start:.6,end:.1},lifespan:400,tint:[6750054,3394611],alpha:{start:.8,end:0},quantity:2,frequency:-1,blendMode:"ADD"});L.explode(4,E,A),this.scene.time.delayedCall(400,()=>{L.destroy()})}findAttackDataByType(E,A){var F;const L=(F=E.db)==null?void 0:F.attackData.iter();for(const z of L)if(z.attackType.tag===A.tag)return z}getPlayerPosition(E){if(!this.spacetimeClient.sdkConnection)return null;const A=this.spacetimeClient.sdkConnection.db.player.playerId.find(E);if(!A)return null;const L=this.spacetimeClient.sdkConnection.db.entity.entityId.find(A.entityId);return L?new re.Math.Vector2(L.position.x,L.position.y):null}update(E,A){if(this.spacetimeClient.sdkConnection){E&&(this.gameTime=E);var L=Ze;A&&(L=A/1e3);for(const[r,n]of this.attackGraphics.entries())if(this.spacetimeClient.sdkConnection.db.activeAttacks.activeAttackId.find(r)){if(n.isShield){const s=this.getPlayerPosition(n.playerId||0);if(s){var F=(this.localPlayerRadius+n.radius)*2,z=n.predictedPosition.x-s.x,p=n.predictedPosition.y-s.y,x=Math.atan2(p,z),t=n.speed*L*Math.PI/180/2,h=x+t,v=s.x+Math.cos(h)*F,a=s.y+Math.sin(h)*F;n.predictedPosition.set(v,a),this.updateAttackGraphic(n)}}else if(n.attackType==="BossBjornBolt"&&n.parameterU===1){const s=this.getPlayerPosition(this.localPlayerId||0);if(s){const i=s.x-n.predictedPosition.x,l=s.y-n.predictedPosition.y,u=Math.sqrt(i*i+l*l);if(u>0){const f=i/u,d=l/u;n.direction.x=re.Math.Linear(n.direction.x,f,.1),n.direction.y=re.Math.Linear(n.direction.y,d,.1);const c=Math.sqrt(n.direction.x*n.direction.x+n.direction.y*n.direction.y);c>0&&(n.direction.x/=c,n.direction.y/=c)}}const o=n.speed*L;n.predictedPosition.x+=n.direction.x*o,n.predictedPosition.y+=n.direction.y*o,this.updateAttackGraphic(n)}else if(n.attackType==="BossSimonBolt"){const s=this.gameTime/1e3,o=20*(1+s*.1),l=s*5,u=Math.cos(l)*o,f=Math.sin(l)*o,d=n.speed*L;n.predictedPosition.x+=n.direction.x*d+u*L,n.predictedPosition.y+=n.direction.y*d+f*L,n.sprite&&n.sprite.setRotation(l),this.updateAttackGraphic(n)}else if(n.direction.length()>0){const s=n.speed*L;if(n.attackType==="Dumbbell"){if(n.direction.y+=200*L,n.predictedPosition.x+=n.direction.x*L,n.predictedPosition.y+=n.direction.y*L,n.sprite){n.sprite.setScale(1.5);const i=Math.min(.4,.1+n.direction.y*5e-4);n.graphic.clear(),n.graphic.fillStyle(0,i),n.graphic.fillCircle(n.predictedPosition.x,n.predictedPosition.y+n.radius,n.radius*.5)}}else if(n.attackType.includes("Boss")){const o=n.direction.normalize();n.predictedPosition.x+=o.x*s,n.predictedPosition.y+=o.y*s}else n.predictedPosition.x+=n.direction.x*s,n.predictedPosition.y+=n.direction.y*s;this.updateAttackGraphic(n)}}}}shutdown(){for(const E of this.attackGraphics.values())E.graphic.destroy(),E.sprite&&E.sprite.destroy();this.attackGraphics.clear(),this.unregisterAttackListeners()}setDebugCirclesEnabled(E){this.debugCirclesEnabled=E,console.log(`Attack debug circles ${E?"enabled":"disabled"}`);for(const A of this.attackGraphics.values())this.updateAttackGraphic(A)}createOrUpdateBossAttackGraphic(E,A){var t;if(!this.spacetimeClient.sdkConnection){console.error("Cannot create boss attack graphic: no connection");return}const L=(t=E.db)==null?void 0:t.entity.entityId.find(A.entityId);if(!L){console.error(`Entity ${A.entityId} not found for boss attack ${A.activeBossAttackId}`);return}console.log(`Creating/updating boss attack graphic for ${A.activeBossAttackId} at position (${L.position.x}, ${L.position.y})`);const F=this.findAttackDataByType(E,A.attackType);if(!F){console.error(`Attack data not found for type ${A.attackType.tag}`);return}const z=.4;let p=this.attackGraphics.get(A.activeBossAttackId);if(p){console.log(`Updating existing boss attack graphic for ${A.activeBossAttackId}`),p.serverPosition.set(L.position.x,L.position.y),p.lastUpdateTime=this.gameTime,p.ticksElapsed=A.ticksElapsed,p.attackType=A.attackType.tag,p.radius=A.radius;const h=p.predictedPosition.x-L.position.x,v=p.predictedPosition.y-L.position.y,a=h*h+v*v;var x=Ze*p.speed*(Ze*p.speed);a>x&&(console.log(`Correcting boss attack position for ${A.activeBossAttackId}`),p.predictedPosition.set(L.position.x,L.position.y))}else{console.log(`Creating new boss attack graphic for ${A.activeBossAttackId}`);const h=this.scene.add.graphics();h.setDepth(1.4);const v=this.createAttackSprite(A.attackType.tag,L.position.x,L.position.y);v||console.error(`Failed to create sprite for boss attack type ${A.attackType.tag}`);const a=new re.Math.Vector2(L.direction.x,L.direction.y);p={graphic:h,sprite:v,radius:A.radius,baseRadius:F.radius,alpha:z,lastUpdateTime:this.gameTime,predictedPosition:new re.Math.Vector2(L.position.x,L.position.y),serverPosition:new re.Math.Vector2(L.position.x,L.position.y),direction:a,speed:F.speed,isShield:!1,playerId:null,parameterU:A.parameterU,ticksElapsed:A.ticksElapsed,attackType:A.attackType.tag},v&&v.setRotation(Math.atan2(a.y,a.x)),this.attackGraphics.set(A.activeBossAttackId,p),console.log(`Created new boss attack graphic data for ${A.activeBossAttackId}`)}this.updateAttackGraphic(p)}handleAttackCleanupCreated(E,A){console.log("Attack cleanup created:",A)}handleAttackCleanupDeleted(E,A){console.log("Attack cleanup deleted:",A)}handleBossAttackCleanupCreated(E,A){console.log("Boss attack cleanup created:",A)}handleBossAttackCleanupDeleted(E,A){console.log("Boss attack cleanup deleted:",A)}handleAttackDataCreated(E,A){console.log("Attack data created:",A)}handleAttackDataUpdated(E,A,L){console.log("Attack data updated:",A,L)}}const An={Small:"gem_1",Medium:"gem_2",Large:"gem_3",Huge:"gem_4"},Je={HOVER_AMPLITUDE:5,HOVER_SPEED:1.5,COLLECTION_PARTICLES:8},Pn={Small:13756671,Medium:5898134,Large:16766553,Huge:16734629},Za="shadow",Ja=.4,di=1e3,Qa=-1,ei=class ei{constructor(E,A){K(this,"scene");K(this,"spacetimeDBClient");K(this,"gems",new Map);K(this,"pendingGems",new Map);K(this,"gameEvents");K(this,"particleEmitter");K(this,"gemManagerId");this.scene=E,this.spacetimeDBClient=A,this.gameEvents=window.gameEvents,ei.nextGemManagerId+=1,this.gemManagerId=ei.nextGemManagerId,console.log("GemManager constructed",this.gemManagerId),this.particleEmitter=this.scene.add.particles(0,0,"white_pixel",{speed:{min:50,max:150},scale:.6,blendMode:gt.BlendModes.ADD,lifespan:800,tint:16777215,quantity:Je.COLLECTION_PARTICLES}),this.particleEmitter.stop()}initializeGems(E){var A,L,F;if(!((L=(A=this.spacetimeDBClient)==null?void 0:A.sdkConnection)!=null&&L.db)){console.error("Cannot initialize gems: database connection not available");return}console.log("GemManager initializing gems",this.gemManagerId),this.registerGemListeners(),this.registerEntityListeners();for(const z of(F=E.db)==null?void 0:F.gems.iter()){const p=E.db.entity.entityId.find(z.entityId);p?this.createGemSprite(z,p.position):this.createOrUpdateGem(E,z)}}registerGemListeners(){console.log("Registering gem listeners for GemManager",this.gemManagerId),this.gameEvents.on(it.GEM_CREATED,(E,A)=>{this.createOrUpdateGem(E,A)}),this.gameEvents.on(it.GEM_UPDATED,(E,A,L)=>{this.createOrUpdateGem(E,L)}),this.gameEvents.on(it.GEM_DELETED,(E,A)=>{this.removeGem(A.gemId)})}registerEntityListeners(){console.log("Registering entity event listeners for GemManager",this.gemManagerId),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.on(it.ENTITY_UPDATED,this.handleEntityEvent,this)}handleEntityEvent(E,A){this.handleEntityUpdate(E,A)}handleEntityUpdate(E,A){var z;const L=this.pendingGems.get(A.entityId);if(L){const p=this.gems.get(L.gemId);return p?(p.x=A.position.x,p.y=A.position.y,p.setDepth(di+A.position.y),this.pendingGems.delete(A.entityId),!0):(this.pendingGems.delete(A.entityId),this.createGemSprite(L,A.position),!0)}const F=(z=E.db)==null?void 0:z.gems.entityId.find(A.entityId);if(F){const p=this.gems.get(F.gemId);if(p)return p.x=A.position.x,p.y=A.position.y,p.setDepth(di+A.position.y),!0}return!1}createOrUpdateGem(E,A){var z;if(this.gems.has(A.gemId))return;let L=null;const F=(z=E.db)==null?void 0:z.entity.entityId.find(A.entityId);F&&(L=F.position),L?this.createGemSprite(A,L):this.pendingGems.set(A.entityId,A)}createGemSprite(E,A){const L=A.x,F=A.y,z=this.scene.add.container(L,F),p=E.level;let x="Small";p&&typeof p=="object"&&p.tag?x=p.tag:typeof p=="number"&&(x=["Small","Medium","Large","Huge"][p]||"Small");const t=An[x]||An.Small;var h=L-4;const v=this.scene.add.image(h,F,Za);v.setAlpha(Ja),v.setScale(.5),v.setDepth(di+F+Qa);const a=this.scene.add.image(0,0,t);return z.add(a),z.setDepth(di+F),z.setData("gemId",E.gemId),z.setData("gemLevel",x),z.setData("entityId",E.entityId),z.setData("baseY",F),z.setData("shadow",v),z.setData("hoverOffset",Math.random()*Math.PI*2),this.scene.tweens.add({targets:z,scaleX:1,scaleY:1,duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.gems.set(E.gemId,z),z}createCollectionEffect(E){const A=E.getData("gemLevel"),L=Pn[A]||Pn.Small;this.particleEmitter.setPosition(E.x,E.y),this.particleEmitter.stop(),this.particleEmitter.setConfig({speed:{min:50,max:150},scale:.6,blendMode:gt.BlendModes.ADD,lifespan:800,tint:L,quantity:Je.COLLECTION_PARTICLES}),this.particleEmitter.explode(Je.COLLECTION_PARTICLES)}removeGem(E){const A=this.gems.get(E);if(A){this.createCollectionEffect(A);const L=A.getData("shadow");this.scene.tweens.add({targets:A,scaleX:0,scaleY:0,duration:200,ease:"Back.easeIn",onComplete:()=>{A.destroy(!0),L&&L.destroy(),this.gems.delete(E)}})}}getGem(E){return this.gems.get(E)}getAllGems(){return this.gems}getGemCount(){return this.gems.size}getPendingGemCount(){return this.pendingGems.size}update(E,A){for(const[L,F]of this.gems.entries()){const z=F.getData("baseY")||F.y,p=F.getData("hoverOffset")||0,x=z+Math.sin(E/1e3*Je.HOVER_SPEED+p)*Je.HOVER_AMPLITUDE;F.y=x}}unregisterListeners(){console.log("Unregistering event listeners for GemManager",this.gemManagerId),this.gameEvents.off(it.GEM_CREATED),this.gameEvents.off(it.GEM_UPDATED),this.gameEvents.off(it.GEM_DELETED),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.off(it.ENTITY_UPDATED,this.handleEntityEvent,this)}shutdown(){console.log("Shutting down GemManager",this.gemManagerId),this.unregisterListeners();for(const[E,A]of this.gems.entries()){const L=A.getData("shadow");L&&L.destroy(),A.destroy(!0)}this.gems.clear(),this.pendingGems.clear(),this.particleEmitter&&(this.particleEmitter.stop(),this.particleEmitter.destroy())}};K(ei,"nextGemManagerId",0);let mn=ei;const ja=300,qa=16711680,_a=.7,wn=1e3,to=.6,Mn=65280,eo=100,bn=new Map;function Fn(R){const E=Date.now(),A=bn.get(R)||0;if(E-A<eo)return;bn.set(R,E),R.setData("originalAlpha",1),R.setTint(qa),R.setAlpha(_a),R.getData("damageResetTimerKey")&&R.scene.time.removeEvent(R.getData("damageResetTimerKey"));const F=R.scene.time.delayedCall(ja,()=>{try{if(R&&R.active){const z=R.getData("originalAlpha")||1;R.clearTint(),R.alpha=z,R.setData("damageResetTimerKey",null)}}catch(z){console.error("Error resetting player damage effect:",z)}});R.setData("damageResetTimerKey",F)}function Rn(R,E){if(R.getData("isPoisoned"))return;R.setData("isPoisoned",!0),R.getData("originalSpeed")||R.setData("originalSpeed",R.getData("playerSpeed")||200);const A=R.getData("originalSpeed"),L=A*to;R.setData("playerSpeed",L);const F=E.add.particles(0,0,"white_pixel",{x:0,y:0,follow:R,scale:{start:.5,end:.1},speed:{min:10,max:30},lifespan:500,blendMode:"ADD",tint:Mn,frequency:50,emitting:!0});E.tweens.add({targets:R,alpha:.8,duration:200,yoyo:!0,repeat:4,ease:"Sine.InOut",onUpdate:()=>{R.setTint(Mn)}});const z=E.time.delayedCall(wn,()=>{try{R&&R.active&&(R.setData("playerSpeed",R.getData("originalSpeed")),R.setData("isPoisoned",!1),R.clearTint(),F.destroy(),console.log("Poison effect removed, speed restored"))}catch(p){console.error("Error removing poison effect:",p)}});R.setData("poisonTimerKey",z),console.log(`Scorpion poison applied: Speed reduced from ${A} to ${L} for ${wn}ms`)}const Ln=180,io=250,Dn=10,On=.8,Bn=.65,Ce=1e5,so=5,no=20,Ee={WEAPON_SCALE:1,WEAPON_MOVE_DURATION:800,MERGE_PAUSE_DURATION:400,RESULT_REVEAL_DURATION:600,ENERGY_STREAM_COUNT:12},ro={MaxHp:"upgrade_maxHP",HpRegen:"upgrade_regenHP",Speed:"upgrade_speed",Armor:"upgrade_armor",AttackSword:"attack_sword",AttackWand:"attack_wand",AttackKnives:"attack_knife",AttackShield:"attack_shield",AttackFootball:"attack_football",AttackCards:"attack_cards",AttackDumbbell:"attack_dumbbell",AttackGarlic:"attack_garlic"},ao={Sword:"attack_sword",Wand:"attack_wand",Knives:"attack_knife",Shield:"attack_shield",Football:"attack_football",Cards:"attack_cards",Dumbbell:"attack_dumbbell",Garlic:"attack_garlic",Shuriken:"attack_shuriken",FireSword:"attack_fire_sword",HolyHammer:"attack_holy_hammer",MagicDagger:"attack_magic_dagger",ThrowingShield:"attack_throwing_shield",EnergyOrb:"attack_energy_orb"},oo={Sword:"Sword",Wand:"Wand",Knives:"Knives",Shield:"Shield",Football:"Football",Cards:"Cards",Dumbbell:"Dumbbell",Garlic:"Garlic",Shuriken:"Shuriken",FireSword:"Fire Sword",HolyHammer:"Holy Hammer",MagicDagger:"Magic Dagger",ThrowingShield:"Throwing Shield",EnergyOrb:"Energy Orb"};class In{constructor(E,A,L){K(this,"scene");K(this,"spacetimeClient");K(this,"upgradeContainer");K(this,"combinationContainer");K(this,"cards",[]);K(this,"localPlayerId",0);K(this,"upgradeOptions",[]);K(this,"isVisible",!1);K(this,"keyListeners",[]);K(this,"rerollText",null);K(this,"isMobile",!1);K(this,"gameEvents");var F,z,p;this.scene=E,this.spacetimeClient=A,this.localPlayerId=L,this.gameEvents=window.gameEvents,this.isMobile=this.detectMobile(),console.log(`UpgradeUI initialized on ${this.isMobile?"mobile":"desktop"} device`),this.upgradeContainer=this.scene.add.container(0,0),this.upgradeContainer.setDepth(Ce),this.upgradeContainer.setVisible(!1),this.combinationContainer=this.scene.add.container(0,0),this.combinationContainer.setDepth(Ce),this.combinationContainer.setVisible(!1),this.keyListeners=[(F=this.scene.input.keyboard)==null?void 0:F.addKey(gt.Input.Keyboard.KeyCodes.ONE),(z=this.scene.input.keyboard)==null?void 0:z.addKey(gt.Input.Keyboard.KeyCodes.TWO),(p=this.scene.input.keyboard)==null?void 0:p.addKey(gt.Input.Keyboard.KeyCodes.THREE)].filter(x=>x!==void 0),this.registerCombinationEventListeners(),console.log("UpgradeUI initialized")}detectMobile(){const E=navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|windows phone/i.test(E)||window.innerWidth<=800}update(E,A){if(!this.isVisible)return;const L=this.scene.cameras.main;if(L){this.upgradeContainer.x=L.scrollX+L.width/2;const F=this.isMobile?so:no;this.upgradeContainer.y=L.scrollY+L.height-io/2-F}for(let F=0;F<this.keyListeners.length;F++)if(gt.Input.Keyboard.JustDown(this.keyListeners[F])){this.chooseUpgrade(F);break}}setUpgradeOptions(E){console.log("Setting upgrade options:",E),this.upgradeOptions=E,E.length>0?(this.createUpgradeCards(),this.showUpgradeUI()):this.hideUpgradeUI()}createUpgradeCards(){this.cards.forEach(z=>z.destroy()),this.cards=[];const E=this.isMobile?Ln*Bn:Ln*On,A=this.isMobile?Dn/2:Dn,F=-(this.upgradeOptions.length*E+(this.upgradeOptions.length-1)*A)/2+E/2;this.upgradeOptions.forEach((z,p)=>{const x=F+p*(E+A),t=this.createCard(x,0,z,p);this.cards.push(t),this.upgradeContainer.add(t)})}createCard(E,A,L,F){const z=this.scene.add.container(E,A),p=this.isMobile?Bn:On,x=this.scene.add.image(0,0,"card_blank");x.setScale(p),z.add(x),x.setInteractive({useHandCursor:!0}),x.on("pointerdown",()=>this.chooseUpgrade(F)),x.on("pointerover",()=>x.setTint(14540253)),x.on("pointerout",()=>x.clearTint());const t=this.scene.add.text(0,x.height*p,`${F+1}`,{fontSize:this.isMobile?"36px":"48px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:this.isMobile?3:4});t.setOrigin(.5),z.add(t);const h=L.upgradeType.tag,v=ro[h]||"white_pixel",a=this.isMobile?-10:-20,r=this.scene.add.image(0,a,v);r.setScale(this.isMobile?.65:.8),z.add(r);let n=this.getUpgradeDescription(L);(L.isCombinationTrigger||L.is_combination_trigger)&&(n="COMBO",console.log("Found combination trigger option:",L));const e=this.scene.add.text(0,x.height*p*.28,n,{fontSize:this.isMobile?"16px":"18px",fontFamily:"Arial",color:L.isCombinationTrigger||L.is_combination_trigger?"#FFD700":"#ffffff",stroke:"#000000",strokeThickness:this.isMobile?2:3,align:"center",wordWrap:{width:x.width*p*.85}});return e.setOrigin(.5),z.add(e),z}getUpgradeDescription(E){const A=E.upgradeType.tag;switch(A){case"MaxHp":return"HP";case"HpRegen":return"Regen";case"Speed":return"Speed";case"Armor":return"Armor"}return E.isNewAttack?"New":E.damage>0?"Atk":E.cooldownRatio>0?"CD":E.projectiles>0?"Count":E.speed>0?"Speed":E.radius>0?"Size":A}chooseUpgrade(E){var L;if(!this.isVisible||E>=this.upgradeOptions.length)return;console.log(`Choosing upgrade at index ${E}`);const A=this.upgradeOptions[E];if(A)if((L=this.spacetimeClient.sdkConnection)!=null&&L.reducers){this.spacetimeClient.sdkConnection.reducers.chooseUpgrade(this.localPlayerId,A.upgradeIndex),console.log(`Sent ChooseUpgrade reducer call for index ${A.upgradeIndex}`);const F=this.scene.registry.get("localPlayerSprite");this.createUpgradeAppliedEffect(F),this.hideUpgradeUI()}else console.error("Cannot choose upgrade: SpacetimeDB connection not available")}createUpgradeAppliedEffect(E){if(!E)return;console.log("Playing upgrade applied effect");const A=E.tintTopLeft;E.setTint(16777215);const L=this.scene.add.circle(E.x,E.y,E.width/1.5,65535,.7);L.setDepth(E.depth-1);const F=this.scene.add.particles(E.x,E.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:500,gravityY:-20,tint:65535,emitting:!1});F.explode(20,E.x,E.y),this.scene.time.delayedCall(100,()=>{E.setTint(65535),this.scene.time.delayedCall(200,()=>{E.setTint(A)})}),this.scene.tweens.add({targets:L,scale:2.5,alpha:0,duration:400,ease:"Sine.easeOut",onComplete:()=>{L.destroy()}}),this.scene.time.delayedCall(600,()=>{F.destroy()})}registerCombinationEventListeners(){this.spacetimeClient.sdkConnection&&this.spacetimeClient.sdkConnection.db.chosenUpgrades.onInsert((E,A)=>{if(console.log("ChosenUpgrade insert detected:",A),(A.isCombinationTrigger||A.is_combination_trigger)&&A.playerId===this.localPlayerId){console.log("Weapon combination detected with properties:","isCombinationTrigger:",A.isCombinationTrigger,"is_combination_trigger:",A.is_combination_trigger);const F=A.firstWeaponToCombine||A.first_weapon_to_combine,z=A.secondWeaponToCombine||A.second_weapon_to_combine,p=A.combinedWeaponResult||A.combined_weapon_result;this.handleWeaponCombination(F,z,p)}})}handleWeaponCombination(E,A,L){console.log("Local player received weapon combination trigger:",this.getWeaponDisplayName(E),"+",this.getWeaponDisplayName(A),"->",this.getWeaponDisplayName(L)),this.showWeaponCombinationNotification(E,A,L)}showWeaponCombinationNotification(E,A,L){console.log("Starting weapon combination animation..."),this.combinationContainer.removeAll(!0);const F=this.scene.cameras.main,{width:z,height:p}=this.scene.scale;this.combinationContainer.x=F.scrollX+z/2,this.combinationContainer.y=F.scrollY+p/2-100,console.log(`Combination container positioned at: ${this.combinationContainer.x}, ${this.combinationContainer.y}`);const x=this.scene.add.rectangle(0,0,600,250,0,.9);x.setStrokeStyle(6,16766720),x.setScale(.1),this.scene.tweens.add({targets:x,scaleX:1,scaleY:1,duration:400,ease:"Back.easeOut"});const t=this.scene.add.text(0,-100,"WEAPON FUSION!",{fontFamily:"Arial Black",fontSize:"32px",color:"#FFD700",stroke:"#000000",strokeThickness:6,fontStyle:"bold"}).setOrigin(.5);t.setScale(0),this.scene.tweens.add({targets:t,scaleX:1,scaleY:1,duration:500,delay:200,ease:"Elastic.easeOut"});const h=this.getWeaponAssetKey(E),v=this.getWeaponAssetKey(A),a=this.getWeaponAssetKey(L);console.log(`Weapon assets: ${h}, ${v} -> ${a}`);const r=this.scene.add.image(-200,0,h).setScale(Ee.WEAPON_SCALE).setAlpha(0),n=this.scene.add.image(200,0,v).setScale(Ee.WEAPON_SCALE).setAlpha(0),e=this.scene.add.image(0,0,a).setScale(0).setAlpha(0),s=this.scene.add.circle(-200,0,40,65535,.3),o=this.scene.add.circle(200,0,40,16739179,.3),i=this.scene.add.circle(0,0,60,16766720,.5).setScale(0);this.combinationContainer.add([x,t,s,o,i,r,n,e]),this.combinationContainer.setVisible(!0),this.combinationContainer.setDepth(Ce+10),this.combinationContainer.setAlpha(1),console.log("Combination container setup complete, starting animation..."),this.startFusionAnimation(r,n,e,s,o,i,E,A,L)}startFusionAnimation(E,A,L,F,z,p,x,t,h){console.log("Starting fusion animation phases...");const v=this.scene.cameras.main,{height:a}=this.scene.scale;console.log("Phase 1: Container appears"),this.scene.tweens.add({targets:this.combinationContainer,alpha:1,y:v.scrollY+a/2-50,duration:400,ease:"Power2.easeOut",onComplete:()=>{console.log("Phase 2: Weapons fade in"),this.scene.tweens.add({targets:[E,A],alpha:1,rotation:Math.PI*2,duration:600,ease:"Power2.easeOut"}),this.scene.tweens.add({targets:[F,z],scale:{from:1,to:1.5},alpha:{from:.3,to:.6},duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.scene.time.delayedCall(800,()=>{console.log("Phase 3: Weapons moving to center"),this.createEnergyStreams(E.x,E.y,A.x,A.y),this.scene.tweens.add({targets:[E,F],x:-50,rotation:E.rotation+Math.PI,duration:Ee.WEAPON_MOVE_DURATION,ease:"Power2.easeInOut"}),this.scene.tweens.add({targets:[A,z],x:50,rotation:A.rotation-Math.PI,duration:Ee.WEAPON_MOVE_DURATION,ease:"Power2.easeInOut",onComplete:()=>{console.log("Phase 4: Starting merge effect"),this.createMergeEffect(E,A,L,F,z,p,x,t,h)}})})}})}createEnergyStreams(E,A,L,F){for(let z=0;z<Ee.ENERGY_STREAM_COUNT;z++){const p=z*50;this.scene.time.delayedCall(p,()=>{const x=this.scene.add.circle(E,A,3,65535,.8);x.setBlendMode(gt.BlendModes.ADD),this.combinationContainer.add(x),this.scene.tweens.add({targets:x,x:L,y:F,scale:{from:1,to:.1},alpha:{from:.8,to:0},duration:400,ease:"Power2.easeOut",onComplete:()=>{x.destroy()}});const t=this.scene.add.circle(L,F,3,16739179,.8);t.setBlendMode(gt.BlendModes.ADD),this.combinationContainer.add(t),this.scene.tweens.add({targets:t,x:E,y:A,scale:{from:1,to:.1},alpha:{from:.8,to:0},duration:400,delay:100,ease:"Power2.easeOut",onComplete:()=>{t.destroy()}})})}}createMergeEffect(E,A,L,F,z,p,x,t,h){const v=this.scene.add.circle(0,0,100,16777215,.8);v.setBlendMode(gt.BlendModes.ADD),this.combinationContainer.add(v),this.scene.tweens.add({targets:v,scale:{from:.1,to:3},alpha:{from:.8,to:0},duration:500,ease:"Power3.easeOut",onComplete:()=>{v.destroy()}}),this.createFusionParticles(0,0),this.scene.tweens.add({targets:[E,A],x:0,y:0,scale:.1,alpha:0,rotation:`+=${Math.PI*3}`,duration:Ee.MERGE_PAUSE_DURATION,ease:"Power3.easeIn",onComplete:()=>{E.setVisible(!1),A.setVisible(!1),F.setVisible(!1),z.setVisible(!1),this.revealResultWeapon(L,p,x,t,h)}})}createFusionParticles(E,A){const L=this.combinationContainer.x+E,F=this.combinationContainer.y+A,z=this.scene.add.particles(L,F,"white_pixel",{speed:{min:100,max:300},scale:{start:1,end:0},blendMode:"ADD",tint:[16766720,65535,16739179,16777215],lifespan:1500,quantity:3,frequency:20,emitting:!0});z.setDepth(Ce+2);const p=this.scene.add.particles(L,F,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",tint:[65535,16766720],lifespan:2e3,quantity:2,frequency:30,emitting:!0,gravityY:-50,rotate:{min:0,max:360}});p.setDepth(Ce+1),this.scene.time.delayedCall(1e3,()=>{z.stop(),p.stop()}),this.scene.time.delayedCall(3e3,()=>{z.destroy(),p.destroy()})}revealResultWeapon(E,A,L,F,z){const p=this.getWeaponDisplayName(L),x=this.getWeaponDisplayName(F),t=this.getWeaponDisplayName(z),h=this.scene.add.text(0,80,`${p} + ${x}`,{fontFamily:"Arial",fontSize:"18px",color:"#CCCCCC",align:"center"}).setOrigin(.5).setAlpha(0),v=this.scene.add.text(0,100," TRANSFORMS INTO ",{fontFamily:"Arial",fontSize:"14px",color:"#FFD700",align:"center"}).setOrigin(.5).setAlpha(0),a=this.scene.add.text(0,130,t,{fontFamily:"Arial Black",fontSize:"28px",color:"#00FFFF",stroke:"#000000",strokeThickness:4,fontStyle:"bold"}).setOrigin(.5).setAlpha(0);this.combinationContainer.add([h,v,a]),E.setAlpha(1),A.setAlpha(1),this.scene.tweens.add({targets:[E,A],scale:{from:0,to:1.5},duration:Ee.RESULT_REVEAL_DURATION,ease:"Elastic.easeOut",onComplete:()=>{this.scene.tweens.add({targets:E,scale:1.2,duration:300,ease:"Power2.easeOut"}),this.scene.tweens.add({targets:A,scale:{from:1.5,to:2},alpha:{from:.5,to:.2},duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.scene.tweens.add({targets:h,alpha:1,y:70,duration:400,delay:200,ease:"Power2.easeOut"}),this.scene.tweens.add({targets:v,alpha:1,duration:400,delay:600,ease:"Power2.easeOut"}),this.scene.tweens.add({targets:a,alpha:1,scale:{from:.5,to:1},duration:500,delay:1e3,ease:"Back.easeOut"}),this.scene.time.delayedCall(1200,()=>{this.createCelebrationParticles(E.x,E.y)}),this.scene.time.delayedCall(6e3,()=>{this.scene.tweens.add({targets:this.combinationContainer,alpha:0,y:this.combinationContainer.y-100,duration:800,ease:"Power2.easeIn",onComplete:()=>{this.combinationContainer.setVisible(!1)}})})}createCelebrationParticles(E,A){const L=this.combinationContainer.x+E,F=this.combinationContainer.y+A,z=this.scene.add.particles(L,F,"white_pixel",{speed:{min:30,max:80},scale:{start:.8,end:0},blendMode:"ADD",tint:[16766720,16753920,16776960],lifespan:2e3,quantity:1,frequency:100,emitting:!0,gravityY:-20,alpha:{start:.8,end:0}});z.setDepth(Ce+3),this.scene.time.delayedCall(3e3,()=>{z.stop()}),this.scene.time.delayedCall(5e3,()=>{z.destroy()})}createCombinationParticles(E,A){this.createCelebrationParticles(E,A)}getWeaponAssetKey(E){const A=typeof E=="object"&&E.tag?E.tag:E;return ao[A]||"white_pixel"}getWeaponDisplayName(E){const A=typeof E=="object"&&E.tag?E.tag:E;return oo[A]||"Unknown Weapon"}forceCombinationVisible(){console.log("Forcing combination container visibility...");const E=this.scene.cameras.main,{width:A,height:L}=this.scene.scale;this.combinationContainer.x=E.scrollX+A/2,this.combinationContainer.y=E.scrollY+L/2,this.combinationContainer.setVisible(!0),this.combinationContainer.setAlpha(1),this.combinationContainer.setDepth(Ce+20),console.log(`Combination container forced to position: ${this.combinationContainer.x}, ${this.combinationContainer.y}`),console.log(`Combination container properties: visible=${this.combinationContainer.visible}, alpha=${this.combinationContainer.alpha}, depth=${this.combinationContainer.depth}`)}debugCombinationContainer(){var A,L,F,z,p,x,t;console.log("=== Combination Container Debug Info ==="),console.log(`Container exists: ${!!this.combinationContainer}`),console.log(`Container visible: ${(A=this.combinationContainer)==null?void 0:A.visible}`),console.log(`Container alpha: ${(L=this.combinationContainer)==null?void 0:L.alpha}`),console.log(`Container depth: ${(F=this.combinationContainer)==null?void 0:F.depth}`),console.log(`Container position: x=${(z=this.combinationContainer)==null?void 0:z.x}, y=${(p=this.combinationContainer)==null?void 0:p.y}`),console.log(`Container children count: ${((t=(x=this.combinationContainer)==null?void 0:x.list)==null?void 0:t.length)||0}`);const E=this.scene.cameras.main;if(E&&(console.log(`Camera position: scrollX=${E.scrollX}, scrollY=${E.scrollY}`),console.log(`Camera size: width=${E.width}, height=${E.height}`)),this.combinationContainer&&E){const h=this.combinationContainer.x>=E.scrollX-100&&this.combinationContainer.x<=E.scrollX+E.width+100&&this.combinationContainer.y>=E.scrollY-100&&this.combinationContainer.y<=E.scrollY+E.height+100;console.log(`Container in camera view: ${h}`)}console.log("=== End Debug Info ===")}showUpgradeUI(){this.isVisible=!0,this.upgradeContainer.setVisible(!0)}hideUpgradeUI(){this.isVisible=!1,this.upgradeContainer.setVisible(!1)}show(){this.showUpgradeUI()}hide(){this.hideUpgradeUI()}destroy(){this.keyListeners.forEach(E=>E.destroy()),this.cards.forEach(E=>E.destroy()),this.upgradeContainer.destroy(),this.combinationContainer.destroy()}}const lo=1e5;class ho{constructor(E,A,L){K(this,"scene");K(this,"spacetimeClient");K(this,"container");K(this,"rerollCountText");K(this,"localPlayerId",0);this.scene=E,this.spacetimeClient=A,this.localPlayerId=L,this.container=this.scene.add.container(0,0),this.container.setDepth(lo),this.rerollCountText=this.scene.add.text(0,0,"Rerolls: 0",{fontSize:"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:3}),this.rerollCountText.setOrigin(1,0),this.container.add(this.rerollCountText),this.updateRerollCount(),console.log("PlayerHUD initialized")}update(E,A){const L=this.scene.cameras.main;L&&(this.rerollCountText.x=L.scrollX+L.width-20,this.rerollCountText.y=L.scrollY+20),E%1e3<20&&this.updateRerollCount()}updateRerollCount(){var E;if((E=this.spacetimeClient.sdkConnection)!=null&&E.db){const A=this.spacetimeClient.sdkConnection.db.player.playerId.find(this.localPlayerId);A&&A.rerolls!==void 0&&this.rerollCountText.setText(`Rerolls: ${A.rerolls}`)}}destroy(){this.container.destroy()}}const uo=1e5,fo=60*1e3;class co{constructor(E,A){K(this,"scene");K(this,"spacetimeClient");K(this,"container");K(this,"timerText");K(this,"timerBackground");K(this,"gameEvents");K(this,"bossSpawnTime",null);K(this,"isTimerActive",!1);K(this,"flashAnimation",null);this.scene=E,this.spacetimeClient=A,this.gameEvents=window.gameEvents,this.container=this.scene.add.container(0,0),this.container.setDepth(uo);const L=this.scene.cameras.main;L&&(this.container.x=L.scrollX+L.width/2,this.container.y=L.scrollY+40),this.timerBackground=this.scene.add.rectangle(0,0,300,40,0,.7),this.timerBackground.setStrokeStyle(2,4473924),this.timerBackground.setOrigin(.5,.5),this.timerText=this.scene.add.text(0,0,"End of the world in: --:--",{fontSize:"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}),this.timerText.setOrigin(.5,.5),this.container.add([this.timerBackground,this.timerText]),this.container.setVisible(!1),this.registerEventListeners(),this.checkForExistingBossTimer()}registerEventListeners(){this.gameEvents.on(it.GAME_STATE_UPDATED,this.handleGameStateUpdated,this),this.gameEvents.on(it.BOSS_SPAWN_TIMER_CREATED,this.handleBossTimerCreated,this),this.gameEvents.on(it.MONSTER_CREATED,this.handleMonsterCreated,this)}handleGameStateUpdated(E,A,L){!A.bossActive&&L.bossActive&&(this.stopTimer(),this.container.setVisible(!1)),A.bossActive&&!L.bossActive&&(this.bossSpawnTime=null)}handleBossTimerCreated(E,A){var F;const L=this.extractTimestampFromTimer(A);if(L)this.bossSpawnTime=L,this.startTimer();else{if((F=A==null?void 0:A.scheduledAt)!=null&&F.value){const z=A.scheduledAt.value;if(typeof z=="bigint"||!isNaN(Number(z))){const p=Number(z)/1e3;this.bossSpawnTime=p,this.startTimer();return}}this.stopTimer(),this.container.setVisible(!1)}}handleMonsterCreated(E,A){if(A.bestiaryId&&A.bestiaryId.tag){const L=A.bestiaryId.tag;L==="FinalBossPhase1"||L==="FinalBossPhase2"?(this.stopTimer(),this.container.setVisible(!1)):this.checkForExistingBossTimer()}}startTimer(){if(!this.bossSpawnTime){this.container.setVisible(!1);return}this.isTimerActive=!0,this.container.setVisible(!0),this.container.visible||(this.container.visible=!0,this.container.alpha=1),this.bossSpawnTime<=Date.now()&&(this.timerText.setText("End of the world: IMMINENT!"),this.startWarningFlash(!0)),console.log(`Boss timer started. Boss will spawn at: ${new Date(this.bossSpawnTime).toLocaleTimeString()}`),console.log(`Timer container properties: visible=${this.container.visible}, alpha=${this.container.alpha}, x=${this.container.x}, y=${this.container.y}`)}stopTimer(){this.isTimerActive=!1,this.flashAnimation&&(this.flashAnimation.stop(),this.flashAnimation=null),this.timerText.setColor("#ffffff")}update(E,A){const L=this.scene.cameras.main;if(L&&(this.container.x=L.scrollX+L.width/2,this.container.y=L.scrollY+40),this.isTimerActive&&this.bossSpawnTime){const F=Date.now(),z=Math.max(0,this.bossSpawnTime-F);if(z<=0)this.timerText.setText("End of the world: IMMINENT!"),this.flashAnimation||this.startWarningFlash(!0);else{const p=Math.floor(z/6e4),x=Math.floor(z%6e4/1e3),t=`End of the world in: ${p}:${x.toString().padStart(2,"0")}`;this.timerText.setText(t),z<=fo&&!this.flashAnimation&&this.startWarningFlash(!1)}}}startWarningFlash(E){const A=E?"#ff0000":"#ffff00",L="#ffffff";this.flashAnimation=this.scene.tweens.add({targets:this.timerText,alpha:{from:1,to:.7},duration:E?300:500,ease:"Sine.InOut",yoyo:!0,repeat:-1,onYoyo:()=>{this.timerText.setColor(this.timerText.style.color===A?L:A)},onRepeat:()=>{this.timerText.setColor(this.timerText.style.color===A?L:A)}})}destroy(){this.gameEvents.off(it.GAME_STATE_UPDATED,this.handleGameStateUpdated,this),this.gameEvents.off(it.BOSS_SPAWN_TIMER_CREATED,this.handleBossTimerCreated,this),this.gameEvents.off(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.flashAnimation&&this.flashAnimation.stop(),this.container.destroy()}checkForExistingBossTimer(){var E,A,L,F;if((A=(E=this.spacetimeClient)==null?void 0:E.sdkConnection)!=null&&A.db)try{const z=Array.from(this.spacetimeClient.sdkConnection.db.bossSpawnTimer.iter());if(console.log("Raw timer data:",JSON.stringify(z,(p,x)=>typeof x=="bigint"?x.toString()+"n":x)),z.length>0){const p=z[0];if(console.log("Found existing boss timer:",p),console.log("Timer properties:",Object.keys(p)),(L=p==null?void 0:p.scheduledAt)!=null&&L.value&&(console.log("Direct value:",p.scheduledAt.value),console.log("Value type:",typeof p.scheduledAt.value)),p){const x=this.extractTimestampFromTimer(p);if(x)console.log("Successfully extracted timestamp:",x),console.log("Human readable date:",new Date(x).toLocaleString()),this.bossSpawnTime=x,this.startTimer(),console.log("Started boss timer from existing database entry");else{if(console.log("Failed to extract timestamp using standard method, trying fallbacks..."),(F=p==null?void 0:p.scheduledAt)!=null&&F.value){const t=p.scheduledAt.value;if(typeof t=="bigint"||!isNaN(Number(t))){const h=Number(t)/1e3;console.log("Fallback 1: Direct value conversion:",h),console.log("Human readable date:",new Date(h).toLocaleString()),this.bossSpawnTime=h,this.startTimer();return}}this.stopTimer(),this.container.setVisible(!1),console.log("Could not extract valid timestamp from timer, hiding boss timer UI")}}}else console.log("No existing boss spawn timer found, hiding timer UI"),this.stopTimer(),this.container.setVisible(!1)}catch(z){console.error("Error checking for existing boss timer:",z),this.stopTimer(),this.container.setVisible(!1)}}extractTimestampFromTimer(E){var A,L;try{if(console.log("Raw timer before stringification:",E),console.log("Raw scheduledAt:",E==null?void 0:E.scheduledAt),console.log("Raw value:",(A=E==null?void 0:E.scheduledAt)==null?void 0:A.value),(L=E==null?void 0:E.scheduledAt)!=null&&L.value&&(console.log("Value type:",typeof E.scheduledAt.value),console.log("Is BigInt:",typeof E.scheduledAt.value=="bigint")),console.log("Extracting timestamp from timer:",JSON.stringify(E,(z,p)=>typeof p=="bigint"?p.toString():p)),!E||!E.scheduledAt)return console.log("Timer or scheduledAt property is missing"),null;const F=E.scheduledAt;if(F.microsSinceUnixEpoch!==void 0){const z=F.microsSinceUnixEpoch;if(typeof z=="bigint")return Number(z)/1e3;if(typeof z=="number")return z/1e3}if(F.timeMs!==void 0)return typeof F.timeMs=="bigint"?Number(F.timeMs):F.timeMs;if(typeof F=="object"&&F.tag&&F.value&&F.tag==="Time"){const z=F.value;if(console.log("Processing Time tag with value:",z,"type:",typeof z),typeof z=="bigint")return console.log("Converting BigInt value to timestamp"),Number(z)/1e3;if(typeof z=="string")if(console.log("Found string timestamp:",z),z.endsWith("n")){const p=z.slice(0,-1);return console.log("Removed 'n' suffix, processing:",p),Number(p)/1e3}else return console.log("Processing as regular string number"),Number(z)/1e3;if(z&&typeof z=="object"&&z.microsSinceUnixEpoch!==void 0){const p=z.microsSinceUnixEpoch;if(typeof p=="bigint")return Number(p)/1e3;if(typeof p=="number")return p/1e3}if(z&&typeof z=="object"&&z.timeMs!==void 0)return typeof z.timeMs=="bigint"?Number(z.timeMs):z.timeMs;if(z){console.log("Attempting direct conversion of value");const p=Number(z);if(!isNaN(p)&&p>0)return console.log("Direct conversion succeeded:",p),p/1e3}}return console.log("Could not extract timestamp - unknown timer structure"),null}catch(F){return console.error("Error extracting timestamp:",F),null}}}const po=200,fi="grass_background",Oe="shadow",Qe=14,ds=.4,Nn=.2,vo=100,zn={fontSize:"16px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:3},qt=50,Be=6,te=18,_t=50,Ie=4,se=8,je=te+16,Dt=1e3,qe=-1,ci=2,pi=1,vi=1.1,gi=1,mi=1.1,go=49;class mo extends gt.Scene{constructor(){super("GameScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"playerInitialized",!1);K(this,"localPlayerSprite",null);K(this,"localPlayerNameText",null);K(this,"localPlayerShadow",null);K(this,"otherPlayers",new Map);K(this,"pendingPlayers",new Map);K(this,"monsterManager",null);K(this,"monsterSpawnerManager",null);K(this,"attackManager",null);K(this,"gemManager",null);K(this,"upgradeUI",null);K(this,"playerHUD",null);K(this,"bossTimerUI",null);K(this,"minimap",null);K(this,"localPlayerId",0);K(this,"cursors",null);K(this,"wasdKeys",null);K(this,"backgroundTile",null);K(this,"isPlayerDataReady",!1);K(this,"lastDirectionUpdateTime",0);K(this,"serverPosition",null);K(this,"currentDirection",new gt.Math.Vector2(0,0));K(this,"isMoving",!1);K(this,"tapTarget",null);K(this,"tapMarker",null);K(this,"isNearBoundary",{top:!1,right:!1,bottom:!1,left:!1});K(this,"gameOver",!1);this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("GameScene constructor called.")}preload(){console.log("GameScene preload started."),this.load.image("class_fighter","assets/class_fighter_1.png"),this.load.image("class_rogue","assets/class_rogue_1.png"),this.load.image("class_mage","assets/class_mage_1.png"),this.load.image("class_paladin","assets/class_paladin_1.png"),this.load.image("class_football","assets/class_football_1.png"),this.load.image("class_gambler","assets/class_gambler_1.png"),this.load.image("class_athlete","assets/class_athlete_1.png"),this.load.image("class_chef","assets/class_chef_1.png"),this.load.image(fi,"assets/grass.png"),this.load.image(Oe,"assets/shadow.png"),this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_wolf","assets/monster_wolf.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("monster_spawn_indicator","assets/monster_spawn_indicator.png"),this.load.image("final_boss_jorge_phase_1","assets/final_boss_jorge_phase_1.png"),this.load.image("final_boss_jorge_phase_2","assets/final_boss_jorge_phase_2.png"),this.load.image("final_boss_bjorn_phase_1","assets/final_boss_phase_bjrn_1.png"),this.load.image("final_boss_bjorn_phase_2","assets/final_boss_phase_bjrn_2.png"),this.load.image("final_boss_simon_phase_1","assets/final_boss_simon_phase_1.png"),this.load.image("final_boss_simon_phase_2","assets/final_boss_simon_phase_2.png"),this.load.image("attack_sword","assets/attack_sword.png"),this.load.image("attack_wand","assets/attack_wand.png"),this.load.image("attack_knife","assets/attack_knife.png"),this.load.image("attack_shield","assets/attack_shield.png"),this.load.image("attack_football","assets/attack_football.png"),this.load.image("attack_cards","assets/attack_cards.png"),this.load.image("attack_dumbbell","assets/attack_dumbbell.png"),this.load.image("attack_garlic","assets/attack_garlic.png"),this.load.image("attack_boss_jorge","assets/attack_boss_jorge.png"),this.load.image("attack_boss_bjorn","assets/attack_boss_bjrn.png"),this.load.image("attack_boss_simon","assets/attack_boss_simon.png"),this.load.image("attack_spit","assets/attack_spit.png"),this.load.image("attack_sting","assets/attack_sting.png"),this.load.image("attack_shuriken","assets/attack_shuriken.png"),this.load.image("attack_fire_sword","assets/attack_fire_sword.png"),this.load.image("attack_holy_hammer","assets/attack_holy_hammer.png"),this.load.image("attack_magic_dagger","assets/attack_magic_dagger.png"),this.load.image("attack_throwing_shield","assets/attack_throwing_shield.png"),this.load.image("attack_energy_orb","assets/attack_energy_orb.png"),this.load.image("card_blank","assets/card_blank.png"),this.load.image("upgrade_maxHP","assets/upgrade_maxHP.png"),this.load.image("upgrade_regenHP","assets/upgrade_regenHP.png"),this.load.image("upgrade_speed","assets/upgrade_speed.png"),this.load.image("upgrade_armor","assets/upgrade_armor.png"),this.load.image("gem_1","assets/gem_1.png"),this.load.image("gem_2","assets/gem_2.png"),this.load.image("gem_3","assets/gem_3.png"),this.load.image("gem_4","assets/gem_4.png"),this.load.image("white_pixel","assets/white_pixel.png"),this.load.on("loaderror",A=>{console.error(`Error loading asset: ${A.key} (${A.url})`,A),alert(`Failed to load game asset: ${A.key}. Check browser console for details.`)}),this.load.on("complete",()=>{console.log("All assets loaded. Checking existence:"),console.log("player_fighter:",this.textures.exists("player_fighter")),console.log("player_rogue:",this.textures.exists("player_rogue")),console.log("player_mage:",this.textures.exists("player_mage")),console.log("player_paladin:",this.textures.exists("player_paladin")),console.log("monster_rat:",this.textures.exists("monster_rat")),console.log("monster_slime:",this.textures.exists("monster_slime")),console.log("monster_orc:",this.textures.exists("monster_orc")),console.log("monster_wolf:",this.textures.exists("monster_wolf")),console.log("monster_worm:",this.textures.exists("monster_worm")),console.log("attack_sword:",this.textures.exists("attack_sword")),console.log("attack_wand:",this.textures.exists("attack_wand")),console.log("attack_knife:",this.textures.exists("attack_knife")),console.log("attack_shield:",this.textures.exists("attack_shield")),console.log(fi+":",this.textures.exists(fi)),console.log(Oe+":",this.textures.exists(Oe))}),console.log("GameScene preload finished. Started asset loading...")}create(){var x,t;console.log("GameScene create started."),console.log("Available textures:",Object.keys(this.textures.list)),this.cleanupLingeringUIElements(),this.cameras.main.setBackgroundColor("#336699"),this.registerEventListeners(),console.log("Game event listeners registered."),this.playerInitialized=!1,this.cursors=((x=this.input.keyboard)==null?void 0:x.createCursorKeys())??null,this.input.keyboard&&(this.wasdKeys={W:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.W),A:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.A),S:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.S),D:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.D)},this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.BACKTICK).on("down",this.toggleAttackDebugCircles,this),this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.R).on("down",this.rerollUpgrades,this)),console.log("Keyboard input set up."),this.bossTimerUI=new co(this,this.spacetimeDBClient),console.log("Boss timer UI initialized."),this.input.on("pointermove",h=>{h.isDown&&this.localPlayerSprite&&(this.tapTarget=new gt.Math.Vector2(h.worldX,h.worldY),this.updateTapMarker())}),this.input.on("pointerdown",h=>{this.localPlayerSprite&&(this.tapTarget=new gt.Math.Vector2(h.worldX,h.worldY),this.updateTapMarker())}),this.input.on("pointerup",()=>{}),console.log("Touch input set up.");const A=this.add.circle(0,0,32,16777215,.3),L=this.add.circle(0,0,16,65535,.5),F=this.add.graphics();F.lineStyle(4,16777215,.7),F.beginPath(),F.moveTo(-8,-8),F.lineTo(8,8),F.moveTo(8,-8),F.lineTo(-8,8),F.closePath(),F.strokePath();const z=this.add.container(0,0,[A,L,F]);this.tapMarker=z,this.tapMarker&&(this.tapMarker.setVisible(!1),this.tapMarker.setDepth(.5),this.tapMarker.setAlpha(.8)),console.log("Tap marker set up.");const p=2e4;this.backgroundTile=this.add.tileSprite(0,0,p,p,fi).setOrigin(0,0).setScrollFactor(1),this.physics.world.setBounds(0,0,p,p),console.log("Background and world bounds set up. World size:",p),console.log("Waiting for account login updated event to initialize game world..."),this.monsterManager=new za(this,this.spacetimeDBClient),this.attackManager=new $a(this,this.spacetimeDBClient),this.monsterSpawnerManager=new Ka(this,this.spacetimeDBClient),this.createMinimap(),(t=this.spacetimeDBClient.sdkConnection)==null||t.reducers.updateLastLogin()}registerEventListeners(){this.gameEvents.on(it.ACCOUNT_UPDATED,this.handleAccountUpdated,this),this.gameEvents.on(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.on(it.PLAYER_UPDATED,this.handlePlayerUpdated,this),this.gameEvents.on(it.PLAYER_DELETED,this.handlePlayerDeleted,this),this.gameEvents.on(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityCreated,this),this.gameEvents.on(it.ENTITY_UPDATED,this.handleEntityUpdated,this),this.gameEvents.on(it.ENTITY_DELETED,this.handleEntityDeleted,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.spacetimeDBClient.sdkConnection&&(this.spacetimeDBClient.sdkConnection.db.upgradeOptions.onInsert((A,L)=>this.handleUpgradeOptionCreated(A,L)),this.spacetimeDBClient.sdkConnection.db.upgradeOptions.onDelete((A,L)=>this.handleUpgradeOptionDeleted(A,L))),this.events.on("shutdown",this.shutdown,this)}handleAccountUpdated(A,L,F){console.log("Account updated event received in GameScene"),this.spacetimeDBClient.identity&&F.identity.isEqual(this.spacetimeDBClient.identity)?(this.gameOver&&(console.log("Resetting game state after death when rejoining"),this.gameOver=!1,this.playerInitialized=!1,this.isPlayerDataReady=!1,this.currentDirection.x=0,this.currentDirection.y=0,this.isMoving=!1,this.serverPosition=null,this.tapTarget=null,this.tapMarker&&(this.tapMarker.visible=!1)),console.log("Local account updated: ",F),this.playerInitialized?console.log("Game world already initialized, not reinitializing"):this.initializeGameWorld(A)):console.log("Other account updated: ",F)}handlePlayerCreated(A,L,F=!0){console.log("Player created event received in GameScene"),F?(console.log("Local player created:",L),this.initializeLocalPlayer(A,L)):(console.log("Other player created:",L),this.addOrUpdateOtherPlayer(L,A))}handlePlayerUpdated(A,L,F,z){z&&F.unspentUpgrades>L.unspentUpgrades&&(console.log("Player level up: upgrade points available:",F.unspentUpgrades),this.localPlayerSprite&&this.createLevelUpEffect(this.localPlayerSprite)),z?this.updateLocalPlayerAttributes(A,F):this.addOrUpdateOtherPlayer(F,A)}handlePlayerDeleted(A,L,F=!1){F?console.log("Local player deleted event received"):(console.log("Other player deleted:",L),this.removeOtherPlayer(L.playerId))}handlePlayerDied(A,L){var x,t;console.log("Player died event received in GameScene"),console.log("Local player died:",L),this.upgradeUI&&(console.log("Clearing upgrade UI for dying player"),this.upgradeUI.hide());const F=(x=A.db)==null?void 0:x.deadPlayers.playerId.find(L.playerId);console.log("Dead player record:",F);let z=!1;F&&(z=F.isTrueSurvivor),console.log("Final isTrueSurvivor value:",z);var p=(t=this.localPlayerSprite)==null?void 0:t.getCenter();p&&this.createDeathEffects(p.x,p.y),z?(console.log("Showing TRUE SURVIVOR victory screen!"),this.showVictoryScreen()):(console.log("Showing regular death screen"),this.showDeathScreen()),this.gameOver=!0}handleConnectionLost(A){console.log("Connection lost event received in GameScene");const{width:L,height:F}=this.scale;this.add.text(L/2,F/2,`CONNECTION LOST
Please refresh the page`,{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.disablePlayerControls()}initializeGameWorld(A){var t,h,v,a,r,n;if(console.log("Initializing game world elements..."),!this.spacetimeDBClient||!this.spacetimeDBClient.identity||!((t=this.spacetimeDBClient.sdkConnection)!=null&&t.db)){console.error("SpacetimeDB client, identity, or tables not available in initializeGameWorld.");return}const L=this.spacetimeDBClient.identity,F=(h=A.db)==null?void 0:h.account.identity.find(L);if(!F){console.error("Local account not found!");return}if(console.log("Local account found:",F),!F.currentPlayerId){console.error("Local account has no currentPlayerId!");return}var z=F.currentPlayerId,p=(v=A.db)==null?void 0:v.player.playerId.find(z);if(!p){var x=(a=A.db)==null?void 0:a.deadPlayers.playerId.find(z);if(x){console.error("Local player is dead! The game scene should not have been loaded.");return}const e=Array.from(((r=A.db)==null?void 0:r.player.iter())||[]);console.log("All players:",e),console.error("Local player data not found for playerID:",F.currentPlayerId);return}console.log("Local player data found during initialization:",p),this.initializeLocalPlayer(A,p),console.log("Performing initial player synchronization..."),this.syncPlayers(A),(n=this.monsterManager)==null||n.initializeMonsters(A),this.attackManager&&(this.attackManager.setLocalPlayerId(z),this.attackManager.initializeAttacks(A),console.log("Existing attacks checked")),this.gemManager=new mn(this,this.spacetimeDBClient),this.gemManager.initializeGems(A),console.log("Game world initialization complete.")}initializeLocalPlayer(A,L){var p,x;if(console.log("Initializing local player..."),this.playerInitialized){console.log("Local player already initialized, skipping...");return}this.localPlayerId=L.playerId,this.playerHUD=new ho(this,this.spacetimeDBClient,this.localPlayerId);const F=(p=A.db)==null?void 0:p.entity.entityId.find(L.entityId);if(!F){console.log("Entity data not found for local player, adding to pending players"),this.pendingPlayers.set(L.entityId,L);return}(x=this.attackManager)==null||x.setLocalPlayerRadius(F.radius),console.log("Found entity data for player:",F);const z=this.getClassSpriteKey(L.playerClass);if(this.localPlayerSprite){this.localPlayerSprite.setTexture(z),this.localPlayerSprite.setPosition(F.position.x,F.position.y);const t=this.localPlayerSprite.getData("healthBar"),h=this.localPlayerSprite.getData("healthBarBackground");if(t&&h){h.x=F.position.x,h.y=F.position.y-Math.floor(this.localPlayerSprite.height/2)-te,t.x=F.position.x-qt/2,t.y=F.position.y-Math.floor(this.localPlayerSprite.height/2)-te;const r=Math.max(0,Math.min(1,L.hp/L.maxHp));t.width=qt*r,this.localPlayerSprite.setData("hp",L.hp),this.localPlayerSprite.setData("maxHp",L.maxHp),console.log(`Updated health bar: ${L.hp}/${L.maxHp}`)}else console.warn("Health bar elements not found on existing sprite");const v=this.localPlayerSprite.getData("expBar"),a=this.localPlayerSprite.getData("expBarBackground");if(v&&a){a.x=F.position.x,a.y=F.position.y-Math.floor(this.localPlayerSprite.height/2)-se,v.x=F.position.x-_t/2,v.y=F.position.y-Math.floor(this.localPlayerSprite.height/2)-se;const r=L.expForNextLevel>0?Math.min(1,L.exp/L.expForNextLevel):0;v.width=_t*r,this.localPlayerSprite.setData("exp",L.exp),this.localPlayerSprite.setData("expForNextLevel",L.expForNextLevel),console.log(`Updated exp bar: ${L.exp}/${L.expForNextLevel}`)}else console.warn("Exp bar elements not found on existing sprite")}else{console.log("Creating new player sprite at position:",F.position),this.localPlayerSprite=this.physics.add.sprite(F.position.x,F.position.y,z),this.localPlayerSprite.setDepth(Dt+F.position.y),this.localPlayerShadow=this.add.image(F.position.x,F.position.y,Oe),this.localPlayerShadow.setAlpha(ds),this.localPlayerShadow.setDepth(Dt+F.position.y+qe),this.localPlayerNameText=this.add.text(F.position.x,F.position.y-Math.floor(this.localPlayerSprite.height/2)-je,`${L.name} (${L.level})`,{fontSize:"16px",color:"#FFFFFF",stroke:"#000000",strokeThickness:3,fontStyle:"bold"}).setOrigin(.5),this.localPlayerNameText.setDepth(Dt+F.position.y+ci);const t=F.position.x,h=F.position.y,v=this.add.rectangle(t,h-Math.floor(this.localPlayerSprite.height/2)-te,qt,Be,0,.7).setOrigin(.5,.5),a=this.add.rectangle(t-qt/2,h-Math.floor(this.localPlayerSprite.height/2)-te,qt*(L.hp/L.maxHp),Be,65280,1).setOrigin(0,.5),r=this.add.rectangle(t,h-Math.floor(this.localPlayerSprite.height/2)-se,_t,Ie,0,.7).setOrigin(.5,.5),n=L.expForNextLevel>0?Math.min(1,L.exp/L.expForNextLevel):0,e=this.add.rectangle(t-_t/2,h-Math.floor(this.localPlayerSprite.height/2)-se,_t*n,Ie,3447003,1).setOrigin(0,.5);v.setDepth(Dt+F.position.y+pi),a.setDepth(Dt+F.position.y+vi),r.setDepth(Dt+F.position.y+gi),e.setDepth(Dt+F.position.y+mi),this.localPlayerSprite.setData("healthBarBackground",v),this.localPlayerSprite.setData("healthBar",a),this.localPlayerSprite.setData("hp",L.hp),this.localPlayerSprite.setData("maxHp",L.maxHp),this.localPlayerSprite.setData("expBarBackground",r),this.localPlayerSprite.setData("expBar",e),this.localPlayerSprite.setData("exp",L.exp),this.localPlayerSprite.setData("expForNextLevel",L.expForNextLevel),console.log(`Created health bar for player: ${L.hp}/${L.maxHp}`),console.log(`Created exp bar for player: ${L.exp}/${L.expForNextLevel}`),this.localPlayerSprite.setCollideWorldBounds(!0),console.log("Setting camera to follow player"),this.cameras.main.startFollow(this.localPlayerSprite,!0,.5,.5),this.cameras.main.setZoom(1)}if(this.registry.set("localPlayerSprite",this.localPlayerSprite),this.serverPosition=new gt.Math.Vector2(F.position.x,F.position.y),this.currentDirection.x=F.direction.x,this.currentDirection.y=F.direction.y,this.isMoving=F.isMoving,this.playerInitialized=!0,this.isPlayerDataReady=!0,L.unspentUpgrades>0){const t=Array.from(A.db.upgradeOptions.iter()).filter(h=>h.playerId===this.localPlayerId);t.length>0?(console.log("Player has pending upgrades, initializing upgrade UI"),this.upgradeUI=new In(this,this.spacetimeDBClient,this.localPlayerId),this.upgradeUI.setUpgradeOptions(t)):console.log("No pending upgrades found for player")}else console.log("No pending upgrades found for player");console.log("Local player initialized successfully")}updateLocalPlayerAttributes(A,L){var p,x;const F=this.localPlayerNameText?parseInt(this.localPlayerNameText.text.split("(")[1].split(")")[0]):L.level;if(this.localPlayerNameText&&this.localPlayerNameText.text!==`${L.name} (${L.level})`&&(this.localPlayerNameText.setText(`${L.name} (${L.level})`),L.level>F&&this.localPlayerSprite&&this.createLevelUpEffect(this.localPlayerSprite)),this.localPlayerSprite){const t=this.localPlayerSprite.getData("hp"),h=this.localPlayerSprite.getData("maxHp");if(t!==L.hp||h!==L.maxHp){t!==void 0&&L.hp<t&&(Fn(this.localPlayerSprite),this.checkForScorpionDamage(this.localPlayerSprite)),this.localPlayerSprite.setData("hp",L.hp),this.localPlayerSprite.setData("maxHp",L.maxHp);const r=this.localPlayerSprite.getData("healthBar");if(r){const n=Math.max(0,Math.min(1,L.hp/L.maxHp));r.width=qt*n,n>.6?r.fillColor=65280:n>.3?r.fillColor=16776960:r.fillColor=16711680}}const v=this.localPlayerSprite.getData("exp"),a=this.localPlayerSprite.getData("expForNextLevel");if(v!==L.exp||a!==L.expForNextLevel){this.localPlayerSprite.setData("exp",L.exp),this.localPlayerSprite.setData("expForNextLevel",L.expForNextLevel);const r=this.localPlayerSprite.getData("expBar");if(r){const n=L.expForNextLevel>0?Math.min(1,L.exp/L.expForNextLevel):0;r.width=_t*n,v!==void 0&&L.exp>v&&this.tweens.add({targets:r,fillColor:65535,duration:200,yoyo:!0,onComplete:()=>{r.fillColor=3447003}})}}if(L.spawnGracePeriodRemaining>0){if(!this.localPlayerSprite.getData("graceActive")){if(this.localPlayerSprite.setData("graceActive",!0),!this.localPlayerSprite.getData("graceTween")){const r=this.tweens.add({targets:this.localPlayerSprite,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{var i;const n=Math.sin(this.time.now/200)*.5+.5,e=new gt.Display.Color(255,255,255),s=new gt.Display.Color(200,200,200),o=gt.Display.Color.Interpolate.ColorWithColor(e,s,100,Math.floor(n*100));(i=this.localPlayerSprite)==null||i.setTint(gt.Display.Color.GetColor(o.r,o.g,o.b))}});this.localPlayerSprite.setData("graceTween",r)}console.log("Grace period active: "+L.spawnGracePeriodRemaining)}}else if(this.localPlayerSprite.getData("graceActive")){this.localPlayerSprite.setData("graceActive",!1);const r=this.localPlayerSprite.getData("graceTween");r&&(r.stop(),this.localPlayerSprite.setData("graceTween",null)),this.localPlayerSprite.clearTint(),this.localPlayerSprite.alpha=1}}const z=(p=A.db)==null?void 0:p.entity.entityId.find(L.entityId);z&&this.serverPosition&&this.serverPosition.set(z.position.x,z.position.y),z&&((x=this.attackManager)==null||x.setLocalPlayerRadius(z.radius))}createLevelUpEffect(A){if(!A)return;console.log("Playing level up effect!");const L=this.add.text(A.x,A.y-100,"LEVEL UP!",{fontFamily:"Arial",fontSize:"32px",color:"#ffff00",stroke:"#000000",strokeThickness:6,fontStyle:"bold"});L.setOrigin(.5),L.setDepth(Dt+A.y+100),this.tweens.add({targets:L,y:L.y-80,alpha:{from:1,to:0},scale:{from:.5,to:2},duration:2e3,ease:"Power2",onComplete:()=>{L.destroy()}});const F=this.add.circle(A.x,A.y,A.width/1.5,16776960,.5);F.setDepth(Dt+A.y-1),this.tweens.add({targets:F,scale:3,alpha:0,duration:500,ease:"Sine.easeOut",onComplete:()=>{F.destroy()}});const z=this.add.particles(A.x,A.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:1e3,gravityY:-50,tint:16776960,emitting:!1});z.explode(30,A.x,A.y),this.time.delayedCall(700,()=>{z.destroy()});const p=A.tintTopLeft;A.setTint(16777215),this.time.delayedCall(200,()=>{A.setTint(p)})}handleEntityUpdate(A,L){var p,x,t,h,v,a,r,n;if((p=this.monsterManager)==null?void 0:p.handleEntityUpdate(A,L))return;let z;try{if((x=this.spacetimeDBClient)!=null&&x.identity){const e=(t=A.db)==null?void 0:t.account.identity.find(this.spacetimeDBClient.identity);if(e&&e.currentPlayerId>0){const s=(h=A.db)==null?void 0:h.player.playerId.find(e.currentPlayerId);s&&(z=s.entityId)}}}catch(e){console.error("Error getting local player entity ID:",e)}if(z===L.entityId){if(!this.localPlayerSprite){const e=Math.floor(L.position.x),s=Math.floor(L.position.y);let o="Player",i=ke.Fighter,l=1,u=100,f=100,d=0,c=100;try{if((v=this.spacetimeDBClient)!=null&&v.identity){const b=(a=A.db)==null?void 0:a.account.identity.find(this.spacetimeDBClient.identity);if(b&&b.currentPlayerId>0){const w=(r=A.db)==null?void 0:r.player.playerId.find(b.currentPlayerId);w&&(w.name&&(o=w.name),w.playerClass&&(i=w.playerClass),w.level&&(l=w.level),w.maxHp&&(u=w.maxHp),w.hp&&(f=w.hp),w.exp!==void 0&&(d=w.exp),w.expForNextLevel&&(c=w.expForNextLevel))}}}catch(b){console.error("Error getting player data:",b)}const g=this.getClassSpriteKey(i);this.localPlayerSprite=this.physics.add.sprite(e,s,g);const m=Dt+s;this.localPlayerNameText=this.add.text(e,s-Math.floor(this.localPlayerSprite.height/2)-je,`${o} (${l})`,zn).setOrigin(.5,.5),this.localPlayerNameText.setDepth(m+ci);const y=this.add.rectangle(e,s-Math.floor(this.localPlayerSprite.height/2)-te,qt,Be,0,.7).setOrigin(.5,.5),T=this.add.rectangle(e-qt/2,s-Math.floor(this.localPlayerSprite.height/2)-te,qt*(f/u),Be,65280,1).setOrigin(0,.5),S=this.add.rectangle(e,s-Math.floor(this.localPlayerSprite.height/2)-se,_t,Ie,0,.7).setOrigin(.5,.5),C=c>0?Math.min(1,d/c):0,P=this.add.rectangle(e-_t/2,s-Math.floor(this.localPlayerSprite.height/2)-se,_t*C,Ie,3447003,1).setOrigin(0,.5);y.setDepth(m+pi),T.setDepth(m+vi),S.setDepth(m+gi),P.setDepth(m+mi),this.localPlayerSprite.setData("healthBarBackground",y),this.localPlayerSprite.setData("healthBar",T),this.localPlayerSprite.setData("hp",f),this.localPlayerSprite.setData("maxHp",u),this.localPlayerSprite.setData("expBarBackground",S),this.localPlayerSprite.setData("expBar",P),this.localPlayerSprite.setData("exp",d),this.localPlayerSprite.setData("expForNextLevel",c),this.localPlayerShadow=this.add.image(e,s+Qe,Oe).setAlpha(ds).setDepth(m+qe),this.localPlayerSprite.setCollideWorldBounds(!0),this.cameras.main.startFollow(this.localPlayerSprite,!0,1,1),this.cameras.main.setRoundPixels(!0)}this.serverPosition===null?this.serverPosition=new gt.Math.Vector2(L.position.x,L.position.y):this.serverPosition.set(L.position.x,L.position.y)}else{let e=null;try{e=((n=A.db)==null?void 0:n.player.entityId.find(L.entityId))||null}catch(s){console.error("Error finding player for entity:",s)}if(e)try{this.otherPlayers.get(e.playerId)?this.updateOtherPlayerPosition(e.playerId,L.position.x,L.position.y):this.pendingPlayers.set(L.entityId,e)}catch(s){console.error("Error updating other player position:",s)}}}getClassSpriteKey(A){if(A&&typeof A=="object"&&"tag"in A){const L=A.tag;return{Fighter:"class_fighter",Rogue:"class_rogue",Mage:"class_mage",Paladin:"class_paladin",Football:"class_football",Gambler:"class_gambler",Athlete:"class_athlete",Gourmand:"class_chef"}[L]||"class_fighter"}return typeof A=="string"?{Fighter:"class_fighter",Rogue:"class_rogue",Mage:"class_mage",Paladin:"class_paladin",Football:"class_football",Gambler:"class_gambler",Athlete:"class_athlete",Gourmand:"class_chef"}[A]||"class_fighter":typeof A=="number"?["class_fighter","class_rogue","class_mage","class_paladin","class_football","class_gambler","class_athlete","class_chef"][A]||"class_fighter":(console.log("Using default fighter class"),"class_fighter_1")}createOtherPlayerSprite(A,L){if(this.otherPlayers.has(A.playerId)){this.updateOtherPlayerPosition(A.playerId,L.position.x,L.position.y);return}const F=Math.floor(L.position.x),z=Math.floor(L.position.y),p=Dt+z,x=this.add.image(0,Qe,Oe).setAlpha(ds).setDepth(qe),t=this.getClassSpriteKey(A.playerClass),h=this.add.sprite(0,0,t),v=`${A.name} (${A.level})`,a=this.add.text(0,-Math.floor(h.height/2)-je,v,zn).setOrigin(.5,.5),r=this.add.rectangle(0,-Math.floor(h.height/2)-te,qt,Be,0,.7).setOrigin(.5,.5),n=this.add.rectangle(-50/2,-Math.floor(h.height/2)-te,qt*(A.hp/A.maxHp),Be,65280,1).setOrigin(0,.5),e=this.add.rectangle(0,-Math.floor(h.height/2)-se,_t,Ie,0,.7).setOrigin(.5,.5),s=A.expForNextLevel>0?Math.min(1,A.exp/A.expForNextLevel):0,o=this.add.rectangle(-50/2,-Math.floor(h.height/2)-se,_t*s,Ie,3447003,1).setOrigin(0,.5),i=this.add.container(F,z,[x,h,a,r,n,e,o]);if(i.setData("entityId",L.entityId),i.setData("hp",A.hp),i.setData("maxHp",A.maxHp),i.setData("exp",A.exp),i.setData("expForNextLevel",A.expForNextLevel),i.setData("sprite",h),h.setName("sprite"),a.setName("nameText"),n.setName("healthBar"),r.setName("healthBarBackground"),o.setName("expBar"),e.setName("expBarBackground"),i.setDepth(p),this.otherPlayers.set(A.playerId,i),A.spawnGracePeriodRemaining>0){i.setData("graceActive",!0);const l=this.tweens.add({targets:h,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{const u=Math.sin(this.time.now/200)*.5+.5,f=new gt.Display.Color(255,255,255),d=new gt.Display.Color(200,200,200),c=gt.Display.Color.Interpolate.ColorWithColor(f,d,100,Math.floor(u*100));h.setTint(gt.Display.Color.GetColor(c.r,c.g,c.b))}});i.setData("graceTween",l),console.log(`Player ${A.name} has grace period: ${A.spawnGracePeriodRemaining}`)}}addOrUpdateOtherPlayer(A,L){var F,z,p;if((F=this.spacetimeDBClient)!=null&&F.identity){const x=(z=L.db)==null?void 0:z.account.identity.find(this.spacetimeDBClient.identity);if(x&&x.currentPlayerId===A.playerId)return;if(this.otherPlayers.has(A.playerId)){const t=this.otherPlayers.get(A.playerId);if(t){const h=t.getByName("nameText");if(h&&h.text!==`${A.name} (${A.level})`){const a=parseInt(h.text.split("(")[1].split(")")[0]);h.setText(`${A.name} (${A.level})`),A.level>a&&this.createOtherPlayerLevelUpEffect(t)}if(A.hp!==void 0&&A.maxHp!==void 0){const a=t.getData("hp")||A.maxHp;if(A.hp<a){const n=t.getByName("sprite");n&&(Fn(n),this.checkForOtherPlayerScorpionDamage(n,t))}t.setData("hp",A.hp),t.setData("maxHp",A.maxHp);const r=t.getByName("healthBar");if(r){const n=Math.max(0,Math.min(1,A.hp/A.maxHp));r.width=qt*n,r.x=-50/2}}if(A.exp!==void 0&&A.expForNextLevel!==void 0){const a=t.getData("exp")||0;t.getData("expForNextLevel"),t.setData("exp",A.exp),t.setData("expForNextLevel",A.expForNextLevel);const r=t.getByName("expBar");if(r){const n=A.expForNextLevel>0?Math.min(1,A.exp/A.expForNextLevel):0;r.width=_t*n,r.x=-50/2,A.exp>a&&this.tweens.add({targets:r,fillColor:65535,duration:200,yoyo:!0,onComplete:()=>{r.fillColor=3447003}})}}const v=t.getByName("sprite");if(v){if(A.spawnGracePeriodRemaining>0){if(!t.getData("graceActive")&&(t.setData("graceActive",!0),!t.getData("graceTween"))){const a=this.tweens.add({targets:v,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{const r=Math.sin(this.time.now/200)*.5+.5,n=new gt.Display.Color(255,255,255),e=new gt.Display.Color(200,200,200),s=gt.Display.Color.Interpolate.ColorWithColor(n,e,100,Math.floor(r*100));v.setTint(gt.Display.Color.GetColor(s.r,s.g,s.b))}});t.setData("graceTween",a)}}else if(t.getData("graceActive")){t.setData("graceActive",!1);const a=t.getData("graceTween");a&&(a.stop(),t.setData("graceTween",null)),v.clearTint(),v.alpha=1}}}}else if(A.entityId){const t=(p=L.db)==null?void 0:p.entity.entityId.find(A.entityId);t?this.createOtherPlayerSprite(A,t):this.pendingPlayers.set(A.entityId,A)}}}updateTapMarker(){if(!this.tapMarker){console.warn("Cannot update tap marker - it doesn't exist!");return}this.tapTarget?(this.tapMarker.setPosition(this.tapTarget.x,this.tapTarget.y+Qe+20),this.tapMarker.setVisible(!0),this.tweens.add({targets:this.tapMarker,scale:{from:.8,to:1},duration:300,ease:"Bounce.Out"})):this.tapMarker.setVisible(!1)}updateOtherPlayerPosition(A,L,F){const z=this.otherPlayers.get(A);z&&this.tweens.add({targets:z,x:Math.floor(L),y:Math.floor(F),duration:100,ease:"Linear",onUpdate:()=>{z.setDepth(Dt+z.y)}})}removeOtherPlayer(A){var F,z;const L=this.otherPlayers.get(A);if(L){const p=(F=this.minimap)==null?void 0:F.otherPlayerDots.get(A);p&&(p.destroy(),(z=this.minimap)==null||z.otherPlayerDots.delete(A)),L.destroy(),this.otherPlayers.delete(A)}}update(A,L){var v,a,r,n,e,s,o,i,l,u,f;if(!this.localPlayerSprite||!((a=(v=this.spacetimeDBClient)==null?void 0:v.sdkConnection)!=null&&a.db))return;let F=0,z=0,p=!1;if(this.cursors&&((r=this.cursors.left)!=null&&r.isDown&&(F-=1,p=!0),(n=this.cursors.right)!=null&&n.isDown&&(F+=1,p=!0),(e=this.cursors.up)!=null&&e.isDown&&(z-=1,p=!0),(s=this.cursors.down)!=null&&s.isDown&&(z+=1,p=!0)),this.wasdKeys&&(this.wasdKeys.A.isDown&&(F-=1,p=!0),this.wasdKeys.D.isDown&&(F+=1,p=!0),this.wasdKeys.W.isDown&&(z-=1,p=!0),this.wasdKeys.S.isDown&&(z+=1,p=!0)),p&&this.tapTarget&&(this.tapTarget=null,(o=this.tapMarker)==null||o.setVisible(!1)),F===0&&z===0&&this.tapTarget){const d=this.getPlayerEntityRadius(),c=this.clampToWorldBounds(this.tapTarget,d);(c.x!==this.tapTarget.x||c.y!==this.tapTarget.y)&&(this.tapTarget.set(c.x,c.y),this.updateTapMarker());const g=this.tapTarget.x-this.localPlayerSprite.x,m=this.tapTarget.y-this.localPlayerSprite.y,y=g*g+m*m;if(y>100){const T=Math.sqrt(y);F=g/T,z=m/T}else this.tapTarget=null,(i=this.tapMarker)==null||i.setVisible(!1)}const x=F!==0||z!==0,t=this.currentDirection.x!==F||this.currentDirection.y!==z,h=A-this.lastDirectionUpdateTime>vo;if((t||x&&h)&&(this.currentDirection.set(F,z),this.isMoving=x,this.gameOver||((l=this.spacetimeDBClient.sdkConnection)==null||l.reducers.updatePlayerDirection(F,z),this.lastDirectionUpdateTime=A)),this.isMoving){const d=po*(L/1e3),c=this.currentDirection.x*d,g=this.currentDirection.y*d,m=this.getPlayerEntityRadius(),y={x:this.localPlayerSprite.x+c,y:this.localPlayerSprite.y+g},T=this.clampToWorldBounds(y,m);(T.x!==y.x||T.y!==y.y)&&console.debug(`Movement clamped to boundary: (${y.x.toFixed(1)}, ${y.y.toFixed(1)})  (${T.x.toFixed(1)}, ${T.y.toFixed(1)})`),this.localPlayerSprite.x=T.x,this.localPlayerSprite.y=T.y,this.localPlayerSprite.setDepth(Dt+this.localPlayerSprite.y),this.localPlayerNameText&&(this.localPlayerNameText.x=this.localPlayerSprite.x,this.localPlayerNameText.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-je,this.localPlayerNameText.setDepth(Dt+this.localPlayerSprite.y+ci)),this.localPlayerShadow&&(this.localPlayerShadow.x=this.localPlayerSprite.x,this.localPlayerShadow.y=this.localPlayerSprite.y+Qe,this.localPlayerShadow.setDepth(Dt+this.localPlayerSprite.y+qe));const S=this.localPlayerSprite.getData("healthBarBackground"),C=this.localPlayerSprite.getData("healthBar");S&&C&&(S.x=this.localPlayerSprite.x,S.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-te,S.setDepth(Dt+this.localPlayerSprite.y+pi),C.x=this.localPlayerSprite.x-qt/2,C.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-te,C.setDepth(Dt+this.localPlayerSprite.y+vi));const P=this.localPlayerSprite.getData("expBarBackground"),b=this.localPlayerSprite.getData("expBar");P&&b&&(P.x=this.localPlayerSprite.x,P.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-se,P.setDepth(Dt+this.localPlayerSprite.y+gi),b.x=this.localPlayerSprite.x-_t/2,b.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-se,b.setDepth(Dt+this.localPlayerSprite.y+mi))}if(this.serverPosition&&this.localPlayerSprite){const d=this.getPlayerEntityRadius(),c=this.clampToWorldBounds(this.serverPosition,d),g=c.x-this.localPlayerSprite.x,m=c.y-this.localPlayerSprite.y;if(g*g+m*m>go){this.localPlayerSprite.x+=g*Nn,this.localPlayerSprite.y+=m*Nn,this.localPlayerSprite.setDepth(Dt+this.localPlayerSprite.y),this.localPlayerNameText&&(this.localPlayerNameText.x=this.localPlayerSprite.x,this.localPlayerNameText.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-je,this.localPlayerNameText.setDepth(Dt+this.localPlayerSprite.y+ci)),this.localPlayerShadow&&(this.localPlayerShadow.x=this.localPlayerSprite.x,this.localPlayerShadow.y=this.localPlayerSprite.y+Qe,this.localPlayerShadow.setDepth(Dt+this.localPlayerSprite.y+qe));const T=this.localPlayerSprite.getData("healthBarBackground"),S=this.localPlayerSprite.getData("healthBar");T&&S&&(T.x=this.localPlayerSprite.x,T.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-te,T.setDepth(Dt+this.localPlayerSprite.y+pi),S.x=this.localPlayerSprite.x-qt/2,S.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-te,S.setDepth(Dt+this.localPlayerSprite.y+vi));const C=this.localPlayerSprite.getData("expBarBackground"),P=this.localPlayerSprite.getData("expBar");C&&P&&(C.x=this.localPlayerSprite.x,C.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-se,C.setDepth(Dt+this.localPlayerSprite.y+gi),P.x=this.localPlayerSprite.x-_t/2,P.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-se,P.setDepth(Dt+this.localPlayerSprite.y+mi))}}this.otherPlayers.forEach(d=>{d.setDepth(Dt+d.y)}),(u=this.monsterManager)==null||u.update(A,L),(f=this.attackManager)==null||f.update(A,L),this.gemManager&&this.gemManager.update(A,L),this.upgradeUI&&this.upgradeUI.update(A,L),this.playerHUD&&this.playerHUD.update(A,L),this.bossTimerUI&&this.bossTimerUI.update(A,L),this.updateMinimap()}updateMinimap(){if(!this.minimap||!this.localPlayerSprite)return;const A=this.physics.world.bounds,L=this.minimap.background.width,F=this.localPlayerSprite.x/A.width,z=this.localPlayerSprite.y/A.height;this.minimap.playerDot.x=F*L,this.minimap.playerDot.y=z*L,this.otherPlayers.forEach((p,x)=>{var h;let t=(h=this.minimap)==null?void 0:h.otherPlayerDots.get(x);if(!t&&this.minimap&&(t=this.add.circle(0,0,5,65280,1),this.minimap.container.add(t),this.minimap.otherPlayerDots.set(x,t)),t){const v=p.x/A.width,a=p.y/A.height;t.x=v*L,t.y=a*L}})}syncPlayers(A){var z;if(console.log("Forcing player sync..."),!this.spacetimeDBClient||!this.spacetimeDBClient.identity||!((z=this.spacetimeDBClient.sdkConnection)!=null&&z.db)){console.error("Cannot sync players: SpacetimeDB client, identity, or tables not available");return}const L=this.spacetimeDBClient.identity,F=A.db.account.identity.find(L);if(!F){console.error("Local account not found during sync!");return}if(!this.localPlayerSprite&&F.currentPlayerId>0){const p=A.db.player.playerId.find(F.currentPlayerId);if(p){const x=A.db.entity.entityId.find(p.entityId);x?(console.log(`Creating local player during sync: ${p.name} at (${x.position.x}, ${x.position.y})`),this.handleEntityUpdate(A,x)):console.warn(`Entity data not found for local player (entityId: ${p.entityId})`)}else console.warn("Local player data not found in player table during sync")}for(const p of A.db.player.iter()){if(p.playerId===F.currentPlayerId)continue;const x=A.db.entity.entityId.find(p.entityId);x?this.otherPlayers.get(p.playerId)?this.updateOtherPlayerPosition(p.playerId,x.position.x,x.position.y):this.createOtherPlayerSprite(p,x):console.warn(`Entity data not found for player ${p.name} (entityId: ${p.entityId})`)}console.log(`Total tracked other players after sync: ${this.otherPlayers.size}`)}createDeathEffects(A,L){console.log(`Creating death effects at (${A}, ${L})`);const F=this.add.particles(A,L,"shadow",{speed:{min:50,max:200},angle:{min:0,max:360},scale:{start:.4,end:.1},lifespan:800,quantity:20,tint:16711680,gravityY:300,blendMode:"ADD",emitting:!1});F.setDepth(5e4),F.explode(30,A,L),this.time.delayedCall(1e3,()=>{F.destroy()})}showDeathScreen(){console.log("Showing death screen for local player");const{width:A,height:L}=this.scale,F=this.add.rectangle(0,0,A,L,0,.7).setOrigin(0,0).setScrollFactor(0).setDepth(1e5),z=this.add.text(A/2,L/2-50,"You are no Survivor",{fontFamily:"Arial",fontSize:"48px",color:"#FF0000",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001),p=this.add.text(A/2,L/2+50,"Choose a new character",{fontFamily:"Arial",fontSize:"24px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001);F.alpha=0,z.alpha=0,p.alpha=0,this.tweens.add({targets:[F,z,p],alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(3e3,()=>{console.log("Death screen timer complete, transitioning to ClassSelectScene"),this.scene.start("ClassSelectScene")})}}),this.disablePlayerControls()}disablePlayerControls(){this.tapTarget=null,this.tapMarker&&this.tapMarker.setVisible(!1),this.isMoving=!1,this.currentDirection.set(0,0),this.input&&(this.input.off("pointermove"),this.input.off("pointerdown"),this.input.off("pointerup"))}shutdown(){var A,L,F,z,p;console.log("GameScene shutting down..."),(A=this.monsterManager)==null||A.shutdown(),(L=this.monsterSpawnerManager)==null||L.destroy(),this.monsterSpawnerManager=null,(F=this.attackManager)==null||F.shutdown(),(z=this.gemManager)==null||z.shutdown(),this.gemManager=null,this.upgradeUI&&(this.upgradeUI.destroy(),this.upgradeUI=null),this.playerHUD&&(this.playerHUD.destroy(),this.playerHUD=null),this.bossTimerUI&&(this.bossTimerUI.destroy(),this.bossTimerUI=null),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.ACCOUNT_UPDATED,this.handleAccountUpdated,this),this.gameEvents.off(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.off(it.PLAYER_UPDATED,this.handlePlayerUpdated,this),this.gameEvents.off(it.PLAYER_DELETED,this.handlePlayerDeleted,this),this.gameEvents.off(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityCreated,this),this.gameEvents.off(it.ENTITY_UPDATED,this.handleEntityUpdated,this),this.gameEvents.off(it.ENTITY_DELETED,this.handleEntityDeleted,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.monsterManager&&this.monsterManager.unregisterListeners(),this.localPlayerSprite&&(this.localPlayerSprite.destroy(),this.localPlayerSprite=null),this.localPlayerShadow&&(this.localPlayerShadow.destroy(),this.localPlayerShadow=null),this.localPlayerNameText&&(this.localPlayerNameText.destroy(),this.localPlayerNameText=null);for(const[x,t]of this.otherPlayers)t.destroy();if(this.otherPlayers.clear(),this.tapTarget=null,this.tapMarker&&(this.tapMarker.destroy(),this.tapMarker=null),(p=this.input)!=null&&p.keyboard)try{this.input.keyboard.removeCapture(gt.Input.Keyboard.KeyCodes.BACKTICK),this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.BACKTICK)}catch(x){console.warn("Could not clean up debug key binding:",x)}this.minimap&&(this.minimap.container.destroy(),this.minimap=null),console.log("GameScene shutdown complete.")}handleEntityCreated(A,L){this.handleEntityUpdate(A,L)}handleEntityUpdated(A,L,F){this.handleEntityUpdate(A,F)}handleEntityDeleted(A,L){}cleanupLingeringUIElements(){console.log("GameScene: Cleaning up lingering UI elements from other scenes only");try{const A=document.getElementById("login-name-input");A&&A.parentNode&&(console.log("GameScene: Removing lingering login input"),A.remove());const L=document.getElementById("class-select-container");L&&L.parentNode&&(console.log("GameScene: Removing lingering class container"),L.remove())}catch(A){console.error("Error in GameScene cleanupLingeringUIElements:",A)}}getPlayerEntityRadius(){var L,F,z;let A=48;try{if((L=this.spacetimeDBClient)!=null&&L.identity&&((z=(F=this.spacetimeDBClient)==null?void 0:F.sdkConnection)!=null&&z.db)){const p=this.spacetimeDBClient.sdkConnection.db.account.identity.find(this.spacetimeDBClient.identity);if(p&&p.currentPlayerId>0){const x=this.spacetimeDBClient.sdkConnection.db.player.playerId.find(p.currentPlayerId);if(x&&x.entityId){const t=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(x.entityId);t&&t.radius&&(A=t.radius)}}}}catch(p){console.error("Error getting entity radius:",p)}return A}clampToWorldBounds(A,L){const F=this.physics.world.bounds,z=8;return{x:gt.Math.Clamp(A.x,F.x+L,F.right-L),y:gt.Math.Clamp(A.y,F.y+L+z,F.bottom-L-z)}}toggleAttackDebugCircles(){if(this.attackManager){this.attackManager.debugCirclesEnabled===void 0&&(this.attackManager.debugCirclesEnabled=!1);const A=!this.attackManager.debugCirclesEnabled;this.attackManager.debugCirclesEnabled=A,this.attackManager.setDebugCirclesEnabled(A),console.log(`Attack debug circles ${A?"enabled":"disabled"}`)}else console.log("Attack manager not initialized, can't toggle debug circles")}createOtherPlayerLevelUpEffect(A){if(!A)return;console.log("Playing level up effect for other player!");const L=A.getByName("sprite");if(!L)return;const F=this.add.text(A.x,A.y-100,"LEVEL UP!",{fontFamily:"Arial",fontSize:"28px",color:"#ffff00",stroke:"#000000",strokeThickness:5,fontStyle:"bold"});F.setOrigin(.5),F.setDepth(Dt+A.y+100),this.tweens.add({targets:F,y:F.y-80,alpha:{from:1,to:0},scale:{from:.5,to:2},duration:2e3,ease:"Power2",onComplete:()=>{F.destroy()}});const z=this.add.circle(A.x,A.y,L.width/1.5,16776960,.5);z.setDepth(Dt+A.y-1),this.tweens.add({targets:z,scale:3,alpha:0,duration:500,ease:"Sine.easeOut",onComplete:()=>{z.destroy()}});const p=this.add.particles(A.x,A.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:1e3,gravityY:-50,tint:16776960,emitting:!1});p.explode(30,A.x,A.y),this.time.delayedCall(700,()=>{p.destroy()});const x=L.tintTopLeft;L.setTint(16777215),this.time.delayedCall(200,()=>{L.setTint(x)})}handleUpgradeOptionCreated(A,L){var F;if(L.playerId===this.localPlayerId){if(console.log("Received upgrade option:",L),!this.upgradeUI&&this.localPlayerId>0&&(this.upgradeUI=new In(this,this.spacetimeDBClient,this.localPlayerId)),this.upgradeUI){const z=Array.from((F=A.db)==null?void 0:F.upgradeOptions.iter()).filter(p=>p.playerId===this.localPlayerId);this.upgradeUI.setUpgradeOptions(z)}}else console.log("Received upgrade option for other player:"+L.playerId+", local player id:"+this.localPlayerId)}handleUpgradeOptionDeleted(A,L){if(L.playerId===this.localPlayerId&&this.upgradeUI){const F=Array.from(A.db.upgradeOptions.iter()).filter(z=>z.playerId===this.localPlayerId);F.length===0?this.upgradeUI.hide():this.upgradeUI.setUpgradeOptions(F)}}rerollUpgrades(){var L;if(!((L=this.spacetimeDBClient.sdkConnection)!=null&&L.db)||this.localPlayerId<=0){console.log("Cannot reroll: Connection not available or player not initialized");return}const A=this.spacetimeDBClient.sdkConnection.db.player.playerId.find(this.localPlayerId);if(!A){console.log("Cannot reroll: Player data not found");return}if(A.unspentUpgrades<=0){console.log("Cannot reroll: No unspent upgrades available");return}if(A.rerolls<=0){console.log("Cannot reroll: No rerolls available");return}console.log("Rerolling upgrades..."),this.upgradeUI&&this.upgradeUI.hide(),this.localPlayerSprite&&this.createRerollEffect(this.localPlayerSprite),this.spacetimeDBClient.sdkConnection.reducers.rerollUpgrades(this.localPlayerId)}createRerollEffect(A){if(!A)return;console.log("Playing reroll effect!");const L=this.add.text(A.x,A.y-80,"REROLL!",{fontFamily:"Arial",fontSize:"28px",color:"#00ffff",stroke:"#000000",strokeThickness:5,fontStyle:"bold"});L.setOrigin(.5),L.setDepth(Dt+A.y+100),this.tweens.add({targets:L,y:L.y-50,alpha:{from:1,to:0},scale:{from:.8,to:1.5},duration:1e3,ease:"Power2",onComplete:()=>{L.destroy()}});const F=this.add.particles(A.x,A.y,"white_pixel",{speed:{min:80,max:180},scale:{start:.5,end:0},blendMode:"ADD",lifespan:800,gravityY:0,tint:65535,emitting:!1,emitCallback:p=>{const x=Math.random()*Math.PI*2,t=gt.Math.Between(80,180);gt.Math.Between(30,80),p.velocityX=Math.cos(x)*t,p.velocityY=Math.sin(x)*t,p.rotation=x}});F.explode(40,A.x,A.y);const z=A.tintTopLeft;A.setTint(65535),this.time.delayedCall(300,()=>{A.setTint(z)}),this.time.delayedCall(800,()=>{F.destroy()})}createMinimap(){const{width:A,height:L}=this.scale,F=150,z=20,p=.7,x=5,t=2,h=this.add.container(z,L-z-F),v=this.add.rectangle(0,0,F,F,0,.5).setOrigin(0),a=this.add.rectangle(0,0,F,F,16777215,.3).setOrigin(0);a.setStrokeStyle(t,16777215,.5);const r=this.add.circle(0,0,x,255,1);h.add([v,a,r]),h.setScrollFactor(0),h.setAlpha(p),this.minimap={container:h,background:v,playerDot:r,otherPlayerDots:new Map,border:a},console.log("Minimap created")}showVictoryScreen(){console.log("Showing True Survivor victory screen");const{width:A,height:L}=this.scale,F=this.add.rectangle(0,0,A,L,16777215,.7).setOrigin(0,0).setScrollFactor(0).setDepth(1e5),z=this.add.text(A/2,L/2-50,"YOU ARE A TRUE SURVIVOR",{fontFamily:"Arial",fontSize:"48px",color:"#FFD700",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001),p=this.add.text(A/2,L/2+50,"The Final Boss has been defeated!",{fontFamily:"Arial",fontSize:"24px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001);F.alpha=0,z.alpha=0,p.alpha=0,this.tweens.add({targets:[F,z,p],alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(5e3,()=>{console.log("Victory screen timer complete, transitioning to ClassSelectScene"),this.scene.start("ClassSelectScene")})}}),this.createVictoryParticles(),this.disablePlayerControls()}createVictoryParticles(){const{width:A,height:L}=this.scale,F=this.add.particles(0,0,"white_pixel",{x:{min:0,max:A},y:-50,quantity:2,lifespan:6e3,speedY:{min:100,max:300},speedX:{min:-100,max:100},scale:{start:.5,end:1},rotate:{start:0,end:360},tint:[16766720,16753920,16777215,14329120],frequency:50,emitting:!0}).setDepth(100002),z=this.add.particles(A/2,L/2,"white_pixel",{speed:{min:100,max:500},angle:{min:0,max:360},scale:{start:1,end:0},lifespan:2e3,blendMode:"ADD",tint:16766720,quantity:2,frequency:200,emitting:!0}).setDepth(100002);this.time.delayedCall(5e3,()=>{F.destroy(),z.destroy()})}checkForScorpionDamage(A){var L,F;if(!A.getData("isPoisoned")&&!(!this.monsterManager||!((F=(L=this.spacetimeDBClient)==null?void 0:L.sdkConnection)!=null&&F.db)))try{const z=Array.from(this.spacetimeDBClient.sdkConnection.db.monsters.iter()).filter(h=>h.bestiaryId===kt.Scorpion);if(z.length===0)return;const p=A.x,x=A.y;let t=!1;for(const h of z){const v=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(h.entityId);if(v){const a=p-v.position.x,r=x-v.position.y,n=a*a+r*r,e=v.radius*1.5;if(n<=e*e){t=!0;break}}}t&&(Rn(A,this),console.log("Player poisoned by scorpion!"))}catch(z){console.error("Error checking for scorpion damage:",z)}}checkForOtherPlayerScorpionDamage(A,L){var F,z;if(!L.getData("isPoisoned")&&!(!this.monsterManager||!((z=(F=this.spacetimeDBClient)==null?void 0:F.sdkConnection)!=null&&z.db)))try{if(!L.getData("entityId"))return;const x=L.x,t=L.y,h=60;for(const v of this.spacetimeDBClient.sdkConnection.db.monsters.iter()){if(!v.monsterType||v.monsterType.tag!=="Scorpion")continue;const a=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(v.entityId);if(!a)continue;const r=x-a.position.x,n=t-a.position.y;if(Math.sqrt(r*r+n*n)<=h){console.log(`Applying poison effect to other player at position (${x}, ${t})`),Rn(this,A,L.x,L.y),L.setData("isPoisoned",!0),this.time.delayedCall(3e3,()=>{L.setData("isPoisoned",!1)});break}}}catch(p){console.error("Error checking scorpion damage for other player:",p)}}testCombinationAnimation(){if(console.log("Testing weapon combination animation..."),!this.upgradeUI){console.error("UpgradeUI not initialized - cannot test combination animation");return}const A={tag:"Sword"},L={tag:"Wand"},F={tag:"FireSword"};this.upgradeUI.handleWeaponCombination(A,L,F),console.log("Combination animation test triggered!")}debugCombinationVisibility(){if(console.log("Debugging combination container visibility..."),!this.upgradeUI){console.error("UpgradeUI not initialized");return}this.upgradeUI.debugCombinationContainer(),this.upgradeUI.forceCombinationVisible()}}function xt(){const R=navigator.userAgent||navigator.vendor||window.opera,E=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,A=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,L=window.innerWidth<=1024&&window.innerWidth>480;return E.test(R)||A.test(R.substr(0,4))||L||window.innerWidth<=768}function Et(R){const E=window.innerWidth;let A=R;return E<=320?A=R*.7:E<=480?A=R*.8:E<=768?A=R*.9:A=R,`${A}px`}class yo extends gt.Scene{constructor(){super("LoginScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"statusText");K(this,"nameInput");K(this,"nameButton");K(this,"errorText");K(this,"loginContainer");K(this,"nameInputContainer");this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("LoginScene constructor called")}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){const{width:A,height:L}=this.scale;this.cameras.main.setBackgroundColor("#042E64"),this.cameras.main.fadeIn(500);try{this.textures.exists("title_bg")&&this.add.image(A/2,L/2,"title_bg").setDisplaySize(A,L).setDepth(0)}catch(z){console.error("Error loading background:",z)}this.loginContainer=this.add.container(A/2,L/2);const F=this.add.text(0,-150,"SURVIVE WITH FRIENDS",{fontFamily:"Arial Black",fontSize:xt()?"32px":"64px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:8}).setOrigin(.5);this.loginContainer.add(F),this.statusText=this.add.text(0,-80,"Connecting to server...",{fontFamily:"Arial",fontSize:xt()?"20px":"24px",color:"#ffffff",align:"center"}).setOrigin(.5),this.loginContainer.add(this.statusText),this.createHTMLElements(),this.errorText=this.add.text(0,200,"",{fontFamily:"Arial",fontSize:(xt(),"18px"),color:"#ff0000",align:"center"}).setOrigin(.5).setVisible(!1),this.loginContainer.add(this.errorText),this.registerEventListeners(),this.updateConnectionStatus(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createHTMLElements(){const A=document.getElementById("login-name-input-container");A&&A.remove(),document.querySelectorAll(".login-button").forEach(t=>t.remove());const F=xt(),{width:z,height:p}=this.scale;this.nameInputContainer=document.createElement("div"),this.nameInputContainer.id="login-name-input-container",this.nameInputContainer.className="login-input-container",this.nameInputContainer.style.position="absolute",this.nameInputContainer.style.left="50%",this.nameInputContainer.style.transform="translateX(-50%)",this.nameInputContainer.style.width=F?"80%":"300px",this.nameInputContainer.style.maxWidth="300px",this.nameInputContainer.style.display="none",this.nameInputContainer.style.zIndex="1000";const x=p*.4;if(this.nameInputContainer.style.top=`${x}px`,document.body.appendChild(this.nameInputContainer),this.nameInput=document.createElement("input"),this.nameInput.id="login-name-input",this.nameInput.type="text",this.nameInput.placeholder="Enter your name",this.nameInput.maxLength=16,this.nameInput.style.width="100%",this.nameInput.style.fontFamily="Arial",this.nameInput.style.fontSize=F?"18px":"16px",this.nameInput.style.padding=F?"15px":"10px",this.nameInput.style.textAlign="center",this.nameInput.style.borderRadius="8px",this.nameInput.style.marginBottom="15px",this.nameInput.style.boxSizing="border-box",this.nameInput.style.border="2px solid #34495e",this.nameInput.style.backgroundColor="#fff",this.nameInput.style.boxShadow="0 4px 8px rgba(0,0,0,0.1)",this.nameInputContainer.appendChild(this.nameInput),this.nameButton=document.createElement("button"),this.nameButton.textContent="Set Name",this.nameButton.className="login-button",this.nameButton.style.width="100%",this.nameButton.style.boxSizing="border-box",this.nameButton.style.fontFamily="Arial",this.nameButton.style.fontSize=F?"18px":"16px",this.nameButton.style.padding=F?"15px":"12px",this.nameButton.style.borderRadius="8px",this.nameButton.style.backgroundColor="#4CAF50",this.nameButton.style.color="white",this.nameButton.style.border="none",this.nameButton.style.cursor="pointer",this.nameButton.style.textAlign="center",this.nameButton.style.fontWeight="bold",this.nameButton.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)",this.nameInputContainer.appendChild(this.nameButton),F&&(this.nameInputContainer.style.backgroundColor="rgba(0,0,0,0.7)",this.nameInputContainer.style.padding="20px",this.nameInputContainer.style.borderRadius="12px",this.nameInputContainer.style.boxShadow="0 8px 16px rgba(0,0,0,0.3)"),this.nameButton.addEventListener("click",()=>this.setPlayerName()),this.nameInput.addEventListener("keypress",t=>{t.key==="Enter"&&this.setPlayerName()}),F){const t=x;window.visualViewport?window.visualViewport.addEventListener("resize",()=>{if(document.activeElement===this.nameInput)if(window.visualViewport.height<window.innerHeight*.75){const h=Math.max(p*.2,window.visualViewport.height*.25);this.nameInputContainer.style.top=`${h}px`}else this.nameInputContainer.style.top=`${t}px`}):(this.nameInput.addEventListener("focus",()=>{document.body.classList.add("keyboard-open");const h=Math.max(p*.25,t*.6);this.nameInputContainer.style.top=`${h}px`,setTimeout(()=>{document.activeElement===this.nameInput&&(this.nameInputContainer.style.top=`${h}px`)},300)}),this.nameInput.addEventListener("blur",()=>{document.body.classList.remove("keyboard-open"),this.nameInputContainer.style.top=`${t}px`}))}}positionHTMLElements(){}handleResize(){const{width:A,height:L}=this.scale,F=xt();if(this.loginContainer){this.loginContainer.setPosition(A/2,L/2);const z=this.loginContainer.getAt(0);z&&z.setFontSize(F?parseInt(Et(48)):64),this.statusText&&this.statusText.setFontSize(F?parseInt(Et(20)):24),this.errorText&&this.errorText.setFontSize(F?parseInt(Et(16)):18)}if(this.nameInputContainer){const z=L*.4;document.activeElement!==this.nameInput&&(this.nameInputContainer.style.top=`${z}px`),this.nameInputContainer.style.width=F?"80%":"300px"}}registerEventListeners(){this.gameEvents.on(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.on(it.ACCOUNT_CREATED,this.handleAccountCreated,this),this.gameEvents.on(it.NAME_SET,this.handleNameSet,this),this.gameEvents.on(it.LOADING_ERROR,this.handleLoadingError,this)}handleConnectionEstablished(){console.log("Connection established event received in LoginScene"),this.updateConnectionStatus()}handleConnectionLost(){console.log("Connection lost event received in LoginScene"),this.updateConnectionStatus(),this.statusText.setText("Disconnected. Please refresh the page."),this.hideAllInputs()}handleAccountCreated(A){console.log("Account created event received in LoginScene"),A.name||this.showNameInput()}handleNameSet(){console.log("Name set event received in LoginScene")}handleLoadingError(A){console.log("Loading error event received in LoginScene",A),this.showError(A)}updateConnectionStatus(){var A,L;if(this.spacetimeDBClient.isConnected){if(console.log("Connected to server in LoginScene"),this.statusText.setText(""),(L=(A=this.spacetimeDBClient.sdkConnection)==null?void 0:A.db)!=null&&L.account){const F=this.spacetimeDBClient.sdkConnection.db.account.identity.find(this.spacetimeDBClient.identity);if(F&&F.name){console.log("Already have an account with name in LoginScene, redirecting to SplashScene"),this.hideAllInputs(),this.scene.start("SplashScene");return}}this.showNameInput()}else this.statusText.setText("Connecting to server..."),this.hideAllInputs()}setPlayerName(){var L;const A=this.nameInput.value.trim();if(!A||A.length<1||A.length>16){this.showError("Please enter a valid name (1-16 characters)");return}this.hideAllInputs(),this.scene.start("LoadingScene",{message:"Initalizing Game...",nextScene:"PrologScene",timeoutDuration:1e4,waitingFor:"name"});try{(L=this.spacetimeDBClient.sdkConnection)!=null&&L.reducers?(console.log(`Setting name to: ${A}`),this.spacetimeDBClient.sdkConnection.reducers.setName(A)):(console.error("Cannot set name: SpacetimeDB reducers not available"),this.gameEvents.emit(it.LOADING_ERROR,"Connection to server failed"))}catch(F){console.error("Error setting name:",F),this.gameEvents.emit(it.LOADING_ERROR,"Failed to set your name")}}hideAllInputs(){this.nameInputContainer&&(this.nameInputContainer.style.display="none")}showNameInput(){this.nameInputContainer&&(this.nameInputContainer.style.display="block",setTimeout(()=>{this.nameInput&&this.nameInput.focus()},300))}showError(A){this.errorText.setText(A),this.errorText.setVisible(!0)}shutdown(){this.hideAllInputs(),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.off(it.ACCOUNT_CREATED,this.handleAccountCreated,this),this.gameEvents.off(it.NAME_SET,this.handleNameSet,this),this.gameEvents.off(it.LOADING_ERROR,this.handleLoadingError,this);try{let A=[],L=[];this.nameInputContainer&&A.push(this.nameInputContainer);const F=document.getElementById("login-name-input-container");F&&A.push(F),document.querySelectorAll(".login-button").forEach(z=>L.push(z)),A.forEach(z=>{z&&z.parentNode&&(console.log("Removing login input container element:",z.id),z.remove())}),L.forEach(z=>{z&&z.parentNode&&(console.log("Removing login button element:",z.className),z.remove())}),console.log("LoginScene HTML elements cleaned up")}catch(A){console.error("Error cleaning up LoginScene HTML elements:",A)}this.scale.off("resize",this.handleResize)}forceCleanupDOMElements(){console.log("LoginScene: Force cleaning up all DOM elements");try{this.nameInputContainer&&(this.nameInputContainer.style.display="none");const A=document.getElementById("login-name-input-container");A&&(console.log("Force-removing login input container by ID"),A.remove()),document.querySelectorAll(".login-button").forEach(L=>{console.log("Force-removing login button by class"),L.remove()}),document.querySelectorAll('input[type="text"]').forEach(L=>{L.id==="login-name-input"&&(console.log("Force-removing text input"),L.remove())}),document.querySelectorAll("button").forEach(L=>{L.textContent==="Set Name"&&(console.log("Force-removing button by text content"),L.remove())})}catch(A){console.error("Error in forceCleanupDOMElements:",A)}}}const xo={"story.intro.1":`Chris, Marc, Til and Max - are on the road again, as they often are when they are looking for a new challenge.
 This time, they are heading high up into the mountains. After hours of hiking over narrow paths and steep climbs, they have already covered more than 2,000 meters in altitude. Drenched in sweat and full of anticipation, they are now almost at their destination: only one last step separates them from the summit cross.`,"story.intro.2":"But then: a huge abyss. So deep that you can no longer see the ground. Between them and the summit hangs only a rotten, swaying wooden suspension bridge - held by two thin ropes that tremble suspiciously against every gust of wind.","story.intro.3":`Max stops. 'This is too dangerous. We should turn back', he says. But Chris, Marc and Til just look at each other - and grin and shout: 'TRUST.'
Without hesitation, Chris is the first to trudge onto the bridge. He even jumps a few times to show how stable it is. And indeed - it holds. So the others follow, step by step.`,"story.intro.4":`But then - ZACK!
A loud crash. The ropes snap. A scream. And the four friends plunge into the depths.`,"story.intro.5":"They fall - endlessly, through absolute darkness. But instead of smashing against the rock, they land... softly? Confused and dazed, they regain consciousness. All around them: a dark, strange place. Rock faces, moss, shimmering crystals - an underground labyrinth, a dungeon, as if from another world.","story.intro.6":`An ancient inscription is engraved on the wall in front of them:

 'Only those who steel body and mind, use every resource and conquer the gatekeeper will find their way back to the surface.`,"story.intro.7":`The adventure begins. No more excuses. No turning back.
Only training, teamwork - and the fight for survival.`,"weapon.Sword.name":"Sword","weapon.Sword.description":"A basic melee weapon that deals moderate damage to enemies directly in front of you.","weapon.Sword.damage":"8","weapon.Sword.cooldown":"1.0","weapon.Sword.range":"2","weapon.Sword.special":"None","weapon.Wand.name":"Wand","weapon.Wand.description":"Fires magical projectiles at distant targets, good against enemies that keep their distance.","weapon.Wand.damage":"6","weapon.Wand.cooldown":"1.2","weapon.Wand.range":"8","weapon.Wand.special":"Projectile","weapon.Knives.name":"Knives","weapon.Knives.description":"Throws multiple small blades in a spread pattern, effective against groups of enemies.","weapon.Knives.damage":"4","weapon.Knives.cooldown":"0.8","weapon.Knives.range":"5","weapon.Knives.special":"Multiple hits","weapon.Shield.name":"Shield","weapon.Shield.description":"Provides defensive benefits while also dealing damage to nearby enemies.","weapon.Shield.damage":"5","weapon.Shield.cooldown":"1.5","weapon.Shield.range":"3","weapon.Shield.special":"Defense +20%","weapon.Shuriken.name":"Shuriken","weapon.Shuriken.description":"Special combination weapon that rapidly fires throwing stars in all directions around you.","weapon.Shuriken.damage":"3","weapon.Shuriken.cooldown":"0.4","weapon.Shuriken.range":"6","weapon.Shuriken.special":"360 attack","weapon.FireSword.name":"Fire Sword","weapon.FireSword.description":"Enhanced sword that deals additional fire damage over time to enemies.","weapon.FireSword.damage":"10","weapon.FireSword.cooldown":"1.2","weapon.FireSword.range":"3","weapon.FireSword.special":"Burn damage","weapon.HolyHammer.name":"Holy Hammer","weapon.HolyHammer.description":"Powerful melee weapon that causes area damage with each strike.","weapon.HolyHammer.damage":"14","weapon.HolyHammer.cooldown":"2.0","weapon.HolyHammer.range":"3","weapon.HolyHammer.special":"Area damage","weapon.MagicDagger.name":"Magic Dagger","weapon.MagicDagger.description":"Throws enchanted daggers that pierce through multiple enemies.","weapon.MagicDagger.damage":"6","weapon.MagicDagger.cooldown":"0.6","weapon.MagicDagger.range":"7","weapon.MagicDagger.special":"Pierce enemies","weapon.ThrowingShield.name":"Throwing Shield","weapon.ThrowingShield.description":"A shield that can be thrown to ricochet between enemies before returning.","weapon.ThrowingShield.damage":"7","weapon.ThrowingShield.cooldown":"1.8","weapon.ThrowingShield.range":"9","weapon.ThrowingShield.special":"Ricochet","weapon.EnergyOrb.name":"Energy Orb","weapon.EnergyOrb.description":"Creates orbiting energy spheres that damage any enemy they touch.","weapon.EnergyOrb.damage":"5","weapon.EnergyOrb.cooldown":"0.5","weapon.EnergyOrb.range":"4","weapon.EnergyOrb.special":"Orbiting protection","weapon.Football.name":"Football","weapon.Football.description":"A powerful bouncing projectile that pierces through enemies.","weapon.Cards.name":"Cards","weapon.Cards.description":"Launches a barrage of magical cards.","weapon.Dumbbell.name":"Dumbbell","weapon.Dumbbell.description":"Devastating area damage with weights.","weapon.Garlic.name":"Garlic","weapon.Garlic.description":"Creates an intense damaging field around you.","ui.weapon_combinations.title":"WEAPON COMBINATIONS","ui.weapon_combinations.empty":"No weapon combinations found","ui.weapon_combinations.empty_desc":"Weapon combinations will be added as you progress in the game.","ui.weapon_combinations.error":"Error","ui.weapon_combinations.error_desc":"Try refreshing the page or reconnecting to the game.","ui.weapon_combinations":"Weapon Combinations","ui.weapon_details.description":"Description:","ui.weapon_details.stats":"Stats:","ui.weapon_details.stat_damage":"Damage:","ui.weapon_details.stat_cooldown":"Cooldown:","ui.weapon_details.stat_range":"Range:","ui.weapon_details.stat_special":"Special:","ui.weapon_details.recipe":"Recipe:","ui.weapon_details.used_in":"Used in Combinations:","ui.back":"Back","ui.confirm_selection":"Confirm Selection","ui.select_class.title":"SELECT YOUR CLASS","ui.select_class.subtitle":"Choose wisely, brave survivor...","ui.bestiary":"Bestiary","ui.bestiary.title":"ENEMY BESTIARY","ui.bestiary.description":"Learn about the creatures that lurk in the depths","ui.bestiary.select_monster":"Select a monster to view details","ui.quests":"Quests","ui.achievements":"Achievements","class.til.description":"A melee specialist with high base damage.","class.til.weapon":"Sword Slash - A close-range piercing attack with high damage","class.til.strengths":"High base damage, Can hit multiple enemies","class.til.weaknesses":"Limited range","class.marc.description":"A swift assassin that excels at burst damage.","class.marc.weapon":"Throwing Knives - Multiple fast projectiles in a spread pattern","class.marc.strengths":"High attack speed, Multi-directional attacks","class.marc.weaknesses":"Low individual projectile damage","class.max.description":"A ranged specialist with seeking projectiles.","class.max.weapon":"Magic Bolt - Homes in on the nearest enemy","class.max.strengths":"Auto-targeting attacks, Good single target damage","class.max.weaknesses":"Low armor piercing","class.chris.description":"A holy warrior protected by orbiting shields.","class.chris.weapon":"Shield Bash - Rotating shield that damages nearby enemies","class.chris.strengths":"Good defensive capabilities, Constant AoE damage","class.chris.weaknesses":"Slower attack speed","class.football_til.description":"Til unleashes his football skills for devastating attacks.","class.football_til.weapon":"Football - A powerful bouncing projectile that pierces through enemies","class.football_til.strengths":"Very high damage, Pierce through multiple enemies","class.football_til.weaknesses":"Slower attack speed, Less control over bounces","class.yugioh_marc.description":"Marc channels his inner duelist to unleash devastating card combinations.","class.yugioh_marc.weapon":"Card Burst - Launches a barrage of magical cards","class.yugioh_marc.strengths":"Multiple projectiles, Fast attacks, Wide coverage","class.yugioh_marc.weaknesses":"Very low health, No armor, Cards have random patterns","class.gym_max.description":"Max embraces his inner gym bro for maximum gains and damage.","class.gym_max.weapon":"Dumbbell Slam - Devastating area damage with weights","class.gym_max.strengths":"Extremely high health, Maximum armor, Massive damage","class.gym_max.weaknesses":"Very slow movement, Long attack recovery","class.chef_chris.description":"Chris masters the art of combat cooking with his signature garlic attacks.","class.chef_chris.weapon":"Garlic Storm - Creates an intense damaging field","class.chef_chris.strengths":"Powerful AoE damage, Enhanced defense, Larger area","class.chef_chris.weaknesses":"Must stay close to enemies, Lower burst damage","bestiary.category.common":"Common Enemies","bestiary.category.bosses":"Bosses","bestiary.monster.Rat.name":"Rat","bestiary.monster.Rat.description":"Small and fast vermin that travel in packs. While individually weak, they can overwhelm careless adventurers with their numbers.","bestiary.monster.Rat.tips":`- Rats are weak but fast and often attack in groups
- Use area attacks to handle multiple rats at once
- They have very low HP, so one hit is usually enough`,"bestiary.monster.Slime.name":"Slime","bestiary.monster.Slime.description":"Gelatinous creatures that slowly pursue their prey. Their bodies can absorb significant damage before breaking apart.","bestiary.monster.Slime.tips":`- Slimes are slow but have more health than rats
- Keep your distance and use ranged attacks
- They occasionally split into smaller slimes when damaged`,"bestiary.monster.Orc.name":"Orc","bestiary.monster.Orc.description":"Brutish warriors with considerable strength. They wield crude but effective weapons and have a surprisingly tactical mind.","bestiary.monster.Orc.tips":`- Orcs are tough enemies with high damage
- They have a strong frontal attack, so avoid direct confrontation
- Circle around them to exploit their slow turning speed`,"bestiary.monster.Wolf.name":"Wolf","bestiary.monster.Wolf.description":"Swift predators with sharp instincts. Wolves are fast and agile, often circling their prey before lunging with deadly precision.","bestiary.monster.Wolf.tips":`- Wolves are very fast and will chase you relentlessly
- They often attack in coordinated packs
- Use obstacles to break their line of sight`,"bestiary.monster.Worm.name":"Worm","bestiary.monster.Worm.description":"Tunneling creatures that burrow through the ground. They can surprise victims by erupting from beneath, launching acidic projectiles.","bestiary.monster.Worm.tips":`- Worms can attack from underground with little warning
- Watch for ground disturbances that indicate their presence
- They're vulnerable after their attack animation`,"bestiary.monster.Scorpion.name":"Scorpion","bestiary.monster.Scorpion.description":"Venomous arachnids with deadly stingers. Their poisonous attacks can temporarily slow down even the most agile adventurers.","bestiary.monster.Scorpion.tips":`- Scorpions use a poisonous sting attack that reduces movement speed
- Their poison effect is temporary but can be deadly in swarms
- Maintain distance to avoid their close-range attacks
- Watch for the bright green projectile - that's the poisonous sting`,"bestiary.monster.FinalBossPhase1.name":"Final Boss","bestiary.monster.FinalBossPhase1.description":"The first form of the final challenge standing between you and freedom. This formidable entity guards the exit to the surface world.","bestiary.monster.FinalBossPhase1.tips":`- The boss has multiple attack patterns that change throughout the fight
- Look for visual cues that telegraph powerful attacks
- Target the weak points when they become exposed`,"bestiary.monster.FinalBossPhase2.name":"Final Boss","bestiary.monster.FinalBossPhase2.description":"The enhanced form of the final boss, now more dangerous and aggressive than before.","bestiary.monster.FinalBossPhase2.tips":`- The second phase is much more dangerous than the first
- New attack patterns will emerge
- Stay mobile and be ready to dodge powerful area attacks`,"bestiary.monster.FinalBossJorgePhase1.name":"Jorge","bestiary.monster.FinalBossJorgePhase1.description":"Jorge, the first of the gatekeepers, uses chaotic energy and unpredictable movements in battle.","bestiary.monster.FinalBossJorgePhase1.tips":`- Jorge's attacks are unpredictable but have noticeable tells
- Keep your distance when he charges his energy
- Use the environment to your advantage`,"bestiary.monster.FinalBossJorgePhase2.name":"Jorge","bestiary.monster.FinalBossJorgePhase2.description":"Jorge's ultimate form, channeling the full extent of his chaotic power.","bestiary.monster.FinalBossJorgePhase2.tips":`- Watch out for his teleportation abilities
- His energy bursts can hit multiple targets
- Strike when he's recovering from a large attack`,"bestiary.monster.FinalBossBjornPhase1.name":"Bjrn","bestiary.monster.FinalBossBjornPhase1.description":"Bjrn, the second gatekeeper, relies on brute strength and powerful ground-based attacks.","bestiary.monster.FinalBossBjornPhase1.tips":`- Bjrn's attacks create shockwaves that travel along the ground
- Jump to avoid his ground-based attacks
- His charging attack is powerful but leaves him vulnerable afterward`,"bestiary.monster.FinalBossBjornPhase2.name":"Bjrn","bestiary.monster.FinalBossBjornPhase2.description":"Bjrn unleashes his full strength, causing devastation with each powerful strike.","bestiary.monster.FinalBossBjornPhase2.tips":`- His attacks now cover a wider area
- Watch for the cracking ground before a major attack
- Use ranged attacks to keep a safe distance`,"bestiary.monster.FinalBossSimonPhase1.name":"Simon","bestiary.monster.FinalBossSimonPhase1.description":"Simon, the final gatekeeper, uses tactical precision and energy projections to keep enemies at bay.","bestiary.monster.FinalBossSimonPhase1.tips":`- Simon attacks with precise energy beams
- His defensive shields can reflect your projectiles
- Look for patterns in his attack sequences`,"bestiary.monster.FinalBossSimonPhase2.name":"Simon","bestiary.monster.FinalBossSimonPhase2.description":"Simon's ultimate form, combining tactical genius with overwhelming power.","bestiary.monster.FinalBossSimonPhase2.tips":`- He now creates multiple energy clones
- His attack patterns become more complex
- Focus on the real Simon, identified by his unique aura`,"achievement.SlimeSlayer.title":"Slime Slayer","achievement.SlimeSlayer.description":"Defeat 100 slimes","achievement.RatSlayer.title":"Rat Slayer","achievement.RatSlayer.description":"Defeat 100 rats","achievement.WormSlayer.title":"Worm Slayer","achievement.WormSlayer.description":"Defeat 100 worms","achievement.ScorpionSlayer.title":"Scorpion Slayer","achievement.ScorpionSlayer.description":"Defeat 100 scorpions","achievement.OrcHunter.title":"Orc Hunter","achievement.OrcHunter.description":"Defeat 100 orcs","achievement.WolfHunter.title":"Wolf Hunter","achievement.WolfHunter.description":"Defeat 100 wolfs","achievement.DefeatJorge.title":"Jorge Slayer","achievement.DefeatJorge.description":"Defeat Boss Jorge","achievement.DefeatBjrn.title":"Bjrn Slayer","achievement.DefeatBjrn.description":"Defeat Boss Bjrn","achievement.DefeatSimon.title":"Simon Slayer","achievement.DefeatSimon.description":"Defeat Boss Simon","achievement.WeaponArsenal.title":"Weapon Collector","achievement.WeaponArsenal.description":"Collect 5 different weapons","achievement.Expert.title":"Expert Survivor","achievement.Expert.description":"Reach level 10","achievement.Survivor.title":"Ultimate Survivor","achievement.Survivor.description":"Win the game","quest.til.title":"Til's Challenge","quest.til.description":"Track 5 Running Sessions","quest.til.reward":"Unlock Football Til class","quest.marc.title":"Marc's Challenge","quest.marc.description":"Win a Card Game Session with the boys","quest.marc.reward":"Unlock Yugioh Marc class","quest.max.title":"Max's Challenge","quest.max.description":"Track 5 Gym Sessions","quest.max.reward":"Unlock Gym Max class","quest.chris.title":"Chris's Challenge","quest.chris.description":"Track Food for 5 days","quest.chris.reward":"Unlock Chef Chris class","quest.reroll.title":"Daily reroll challenge","quest.reroll.description":"Defeat 10 monsters to get a reroll","quest.reroll.reward":"Up to 10 rerolls per day"},To={"story.intro.1":`Chris, Marc, Til und Max - sind wieder unterwegs, wie so oft, wenn sie eine neue Herausforderung suchen.
 Diesmal geht es hoch hinauf in die Berge. Nach stundenlangem Wandern ber schmale Pfade und steile Anstiege haben sie bereits mehr als 2.000 Hhenmeter berwunden. Vllig verschwitzt und voller Vorfreude trennt sie nur noch ein letzter Schritt vom Gipfelkreuz.`,"story.intro.2":"Doch dann: ein riesiger Abgrund. So tief, dass man den Grund nicht mehr sehen kann. Zwischen ihnen und dem Gipfel hngt nur noch eine morsche, schwankende Holz-Hngebrcke - gehalten von zwei dnnen Seilen, die bei jedem Windsto verdchtig zittern.","story.intro.3":`Max bleibt stehen. 'Das ist zu gefhrlich. Wir sollten umkehren', sagt er. Doch Chris, Marc und Til schauen sich nur an - und grinsen und rufen: 'TRUST.'
Ohne zu zgern ist Chris der Erste, der auf die Brcke stapft. Er hpft sogar ein paar Mal, um zu zeigen, wie stabil sie ist. Und tatschlich - sie hlt. Also folgen die anderen, Schritt fr Schritt.`,"story.intro.4":`Doch dann - ZACK!
Ein lauter Knall. Die Seile reien. Ein Schrei. Und die vier Freunde strzen in die Tiefe.`,"story.intro.5":"Sie fallen - endlos, durch absolute Dunkelheit. Doch statt auf dem Fels zu zerschellen, landen sie... weich? Verwirrt und benommen kommen sie wieder zu sich. Um sie herum: ein dunkler, fremdartiger Ort. Felswnde, Moos, schimmernde Kristalle - ein unterirdisches Labyrinth, ein Dungeon, als wre er aus einer anderen Welt.","story.intro.6":`Eine uralte Inschrift ist in die Wand vor ihnen eingemeielt:

 'Nur wer Krper und Geist sthlt, jede Ressource nutzt und den Torwchter bezwingt, wird den Weg zurck an die Oberflche finden.`,"story.intro.7":`Das Abenteuer beginnt. Keine Ausreden mehr. Kein Zurck.
Nur Training, Teamwork - und der Kampf ums berleben.`,"weapon.Sword.name":"Schwert","weapon.Sword.description":"Eine einfache Nahkampfwaffe, die moderaten Schaden an Gegnern direkt vor dir verursacht.","weapon.Sword.damage":"8","weapon.Sword.cooldown":"1.0","weapon.Sword.range":"2","weapon.Sword.special":"Keine","weapon.Wand.name":"Zauberstab","weapon.Wand.description":"Feuert magische Projektile auf entfernte Ziele, gut gegen Feinde, die Abstand halten.","weapon.Wand.damage":"6","weapon.Wand.cooldown":"1.2","weapon.Wand.range":"8","weapon.Wand.special":"Projektil","weapon.Knives.name":"Messer","weapon.Knives.description":"Wirft mehrere kleine Klingen in einem Fchermuster, effektiv gegen Gruppen von Feinden.","weapon.Knives.damage":"4","weapon.Knives.cooldown":"0.8","weapon.Knives.range":"5","weapon.Knives.special":"Mehrfachtreffer","weapon.Shield.name":"Schild","weapon.Shield.description":"Bietet Verteidigungsvorteile und fgt gleichzeitig nahen Feinden Schaden zu.","weapon.Shield.damage":"5","weapon.Shield.cooldown":"1.5","weapon.Shield.range":"3","weapon.Shield.special":"Verteidigung +20%","weapon.Shuriken.name":"Shuriken","weapon.Shuriken.description":"Spezielle Kombinationswaffe, die schnell Wurfsterne in alle Richtungen um dich herum abfeuert.","weapon.Shuriken.damage":"3","weapon.Shuriken.cooldown":"0.4","weapon.Shuriken.range":"6","weapon.Shuriken.special":"360-Angriff","weapon.FireSword.name":"Feuerschwert","weapon.FireSword.description":"Verbessertes Schwert, das Feinden zustzlichen Feuerschaden ber Zeit zufgt.","weapon.FireSword.damage":"10","weapon.FireSword.cooldown":"1.2","weapon.FireSword.range":"3","weapon.FireSword.special":"Brandschaden","weapon.HolyHammer.name":"Heiliger Hammer","weapon.HolyHammer.description":"Mchtige Nahkampfwaffe, die bei jedem Schlag Flchenschaden verursacht.","weapon.HolyHammer.damage":"14","weapon.HolyHammer.cooldown":"2.0","weapon.HolyHammer.range":"3","weapon.HolyHammer.special":"Flchenschaden","weapon.MagicDagger.name":"Magischer Dolch","weapon.MagicDagger.description":"Wirft verzauberte Dolche, die durch mehrere Feinde hindurchstechen.","weapon.MagicDagger.damage":"6","weapon.MagicDagger.cooldown":"0.6","weapon.MagicDagger.range":"7","weapon.MagicDagger.special":"Durchdringt Feinde","weapon.ThrowingShield.name":"Wurfschild","weapon.ThrowingShield.description":"Ein Schild, das geworfen werden kann, um zwischen Feinden abzuprallen, bevor es zurckkehrt.","weapon.ThrowingShield.damage":"7","weapon.ThrowingShield.cooldown":"1.8","weapon.ThrowingShield.range":"9","weapon.ThrowingShield.special":"Abprallen","weapon.EnergyOrb.name":"Energie-Kugel","weapon.EnergyOrb.description":"Erzeugt umlaufende Energiekugeln, die jedem Feind schaden, den sie berhren.","weapon.EnergyOrb.damage":"5","weapon.EnergyOrb.cooldown":"0.5","weapon.EnergyOrb.range":"4","weapon.EnergyOrb.special":"Umlaufender Schutz","weapon.Football.name":"Fuball","weapon.Football.description":"Ein mchtiges, abprallendes Geschoss, das durch Gegner dringt.","weapon.Cards.name":"Karten","weapon.Cards.description":"Entfesselt eine Flut magischer Karten.","weapon.Dumbbell.name":"Hantel","weapon.Dumbbell.description":"Verheerender Flchenschaden mit Gewichten.","weapon.Garlic.name":"Knoblauch","weapon.Garlic.description":"Erzeugt ein intensives Schadensfeld um dich herum.","ui.weapon_combinations.title":"WAFFEN-KOMBINATIONEN","ui.weapon_combinations.empty":"Keine Waffen-Kombinationen gefunden","ui.weapon_combinations.empty_desc":"Waffen-Kombinationen werden freigeschaltet, whrend du im Spiel fortschreitest.","ui.weapon_combinations.error":"Fehler","ui.weapon_combinations.error_desc":"Versuche, die Seite zu aktualisieren oder die Verbindung zum Spiel wiederherzustellen.","ui.weapon_combinations":"Waffen-Kombinationen","ui.weapon_details.description":"Beschreibung:","ui.weapon_details.stats":"Statistiken:","ui.weapon_details.stat_damage":"Schaden:","ui.weapon_details.stat_cooldown":"Abklingzeit:","ui.weapon_details.stat_range":"Reichweite:","ui.weapon_details.stat_special":"Spezial:","ui.weapon_details.recipe":"Rezept:","ui.weapon_details.used_in":"Verwendet in Kombinationen:","class.football_til.description":"Til entfesselt seine Fuballknste fr verheerende Angriffe.","class.football_til.weapon":"Fuball - Ein mchtiges, abprallendes Geschoss, das durch Gegner dringt","class.football_til.strengths":"Sehr hoher Schaden, Durchdringt mehrere Gegner","class.football_til.weaknesses":"Langsamere Angriffsgeschwindigkeit, Weniger Kontrolle ber Abpraller","class.yugioh_marc.description":"Marc kanalisiert seinen inneren Duellanten fr mchtige Kartenkombinationen.","class.yugioh_marc.weapon":"Kartensturm - Entfesselt eine Flut magischer Karten","class.yugioh_marc.strengths":"Mehrere Geschosse, Schnelle Angriffe, Breite Abdeckung","class.yugioh_marc.weaknesses":"Sehr wenig Gesundheit, Keine Rstung, Zufllige Kartenmuster","class.gym_max.description":"Max entfesselt seinen inneren Gym-Bro fr maximale Gains und Schaden.","class.gym_max.weapon":"Hantelschlag - Verheerender Flchenschaden mit Gewichten","class.gym_max.strengths":"Extrem hohe Gesundheit, Maximale Rstung, Massiver Schaden","class.gym_max.weaknesses":"Sehr langsame Bewegung, Lange Erholungszeit nach Angriffen","class.chef_chris.description":"Chris meistert die Kampfkochkunst mit seinen Knoblauchangriffen.","class.chef_chris.weapon":"Knoblauchsturm - Erzeugt ein intensives Schadensfeld","class.chef_chris.strengths":"Mchtiger Flchenschaden, Verbesserte Verteidigung, Grerer Wirkungsbereich","class.chef_chris.weaknesses":"Muss nah an Gegnern bleiben, Geringerer Sofortschaden","class.til.description":"Ein Nahkampfspezialist mit hohem Basisschaden.","class.til.weapon":"Schwertschlag - Ein nahbereichiger durchdringender Angriff mit hohem Schaden","class.til.strengths":"Hoher Basisschaden, Kann mehrere Gegner treffen","class.til.weaknesses":"Begrenzte Reichweite","class.marc.description":"Ein schneller Assassine, der sich auf Burst-Schaden spezialisiert hat.","class.marc.weapon":"Wurfmesser - Mehrere schnelle Projektil in einem Fchermuster","class.marc.strengths":"Hohe Angriffsgeschwindigkeit, Mehrere Angriffsrichtungen","class.marc.weaknesses":"Geringer Einzelschaden pro Projektil","class.max.description":"Ein Fernkampfspezialist mit verfolgenden Projektilen.","class.max.weapon":"Magischer Bolzen - Sucht sich den nchsten Gegner","class.max.strengths":"Automatische Zielerfassung, Guter Einzelschaden","class.max.weaknesses":"Geringe Rstungsdurchdringung","class.chris.description":"Ein heiliger Krieger, geschtzt durch rotierende Schilde.","class.chris.weapon":"Schildschlag - Rotierender Schild, der nahe Gegner schdigt","class.chris.strengths":"Gute Verteidigungsfhigkeiten, Konstanter AoE-Schaden","class.chris.weaknesses":"Langsamere Angriffsgeschwindigkeit","ui.confirm_selection":"Auswahl besttigen","ui.select_class.title":"WHLE DEINE KLASSE","ui.select_class.subtitle":"Whle weise, tapferer berlebender...","ui.bestiary":"Bestiarium","ui.quests":"Quests","ui.achievements":"Erfolge","bestiary.boss.tips":`- Der Boss hat mehrere Angriffsmuster, die sich im Laufe des Kampfes ndern
- Achte auf visuelle Hinweise, die mchtige Angriffe ankndigen
- Ziele auf die Schwachstellen, wenn sie freigelegt werden
- Die zweite Phase ist viel gefhrlicher als die erste`,"ui.bestiary.title":"MONSTER-BESTIARIUM","ui.bestiary.description":"Erfahre mehr ber die Kreaturen, die in der Tiefe lauern","ui.bestiary.select_monster":"Whle ein Monster, um Details anzuzeigen","ui.back":"Zurck","bestiary.category.common":"Gewhnliche Gegner","bestiary.category.bosses":"Bosse","bestiary.monster.Rat.name":"Ratte","bestiary.monster.Rat.description":"Kleine und schnelle Schdlinge, die in Rudeln unterwegs sind. Obwohl einzeln schwach, knnen sie unvorsichtige Abenteurer mit ihrer Anzahl berwltigen.","bestiary.monster.Rat.tips":`- Ratten sind schwach, aber schnell und greifen oft in Gruppen an
- Nutze Flchenangriffe, um mehrere Ratten auf einmal zu bekmpfen
- Sie haben sehr wenig HP, ein Treffer reicht meist aus`,"bestiary.monster.Slime.name":"Schleim","bestiary.monster.Slime.description":"Gelatinse Kreaturen, die langsam ihre Beute verfolgen. Ihre Krper knnen erheblichen Schaden absorbieren, bevor sie zerbrechen.","bestiary.monster.Slime.tips":`- Schleime sind langsam, haben aber mehr Gesundheit als Ratten
- Halte Abstand und nutze Fernangriffe
- Sie teilen sich gelegentlich in kleinere Schleime auf, wenn sie beschdigt werden`,"bestiary.monster.Orc.name":"Ork","bestiary.monster.Orc.description":"Brutale Krieger mit betrchtlicher Strke. Sie fhren grobe, aber effektive Waffen und haben einen berraschend taktischen Verstand.","bestiary.monster.Orc.tips":`- Orks sind zhe Gegner mit hohem Schaden
- Sie haben einen starken Frontalangriff, vermeide direkte Konfrontation
- Umkreise sie, um ihre langsame Drehgeschwindigkeit auszunutzen`,"bestiary.monster.Wolf.name":"Wolf","bestiary.monster.Wolf.description":"Schnelle Raubtiere mit scharfen Instinkten. Wlfe sind schnell und wendig, kreisen oft um ihre Beute, bevor sie mit tdlicher Przision zuschlagen.","bestiary.monster.Wolf.tips":`- Wlfe sind sehr schnell und werden dich unerbittlich jagen
- Sie greifen oft in koordinierten Rudeln an
- Nutze Hindernisse, um ihre Sichtlinie zu unterbrechen`,"bestiary.monster.Worm.name":"Wurm","bestiary.monster.Worm.description":"Grabende Kreaturen, die sich durch den Boden bohren. Sie knnen Opfer berraschen, indem sie von unten ausbrechen und tzende Projektile abfeuern.","bestiary.monster.Worm.tips":`- Wrmer knnen ohne Vorwarnung aus dem Untergrund angreifen
- Achte auf Bodenstrungen, die ihre Anwesenheit anzeigen
- Sie sind nach ihrer Angriffsanimation verwundbar`,"bestiary.monster.FinalBossPhase1.name":"Endgegner - Phase 1","bestiary.monster.FinalBossPhase1.description":"Die erste Form der letzten Herausforderung, die zwischen dir und der Freiheit steht. Diese gewaltige Entitt bewacht den Ausgang zur Oberflche.","bestiary.monster.FinalBossPhase1.tips":`- Der Boss hat mehrere Angriffsmuster, die sich im Laufe des Kampfes ndern
- Achte auf visuelle Hinweise, die mchtige Angriffe ankndigen
- Ziele auf die Schwachstellen, wenn sie freigelegt werden`,"bestiary.monster.FinalBossPhase2.name":"Endgegner - Phase 2","bestiary.monster.FinalBossPhase2.description":"Die verstrkte Form des Endgegners, jetzt noch gefhrlicher und aggressiver als zuvor.","bestiary.monster.FinalBossPhase2.tips":`- Die zweite Phase ist viel gefhrlicher als die erste
- Neue Angriffsmuster werden auftauchen
- Bleibe in Bewegung und sei bereit, mchtigen Flchenangriffen auszuweichen`,"bestiary.monster.FinalBossJorgePhase1.name":"Jorge - Phase 1","bestiary.monster.FinalBossJorgePhase1.description":"Jorge, der erste der Torwchter, nutzt chaotische Energie und unberechenbare Bewegungen im Kampf.","bestiary.monster.FinalBossJorgePhase1.tips":`- Jorges Angriffe sind unberechenbar, haben aber erkennbare Anzeichen
- Halte Abstand, wenn er seine Energie aufldt.`,"bestiary.monster.FinalBossJorgePhase2.name":"Jorge - Phase 2","bestiary.monster.FinalBossJorgePhase2.description":"Jorges ultimative Form, die das volle Ausma seiner chaotischen Kraft kanalisiert.","bestiary.monster.FinalBossJorgePhase2.tips":`- Achte auf seine Teleportationsfhigkeiten
- Seine Energieausbrche knnen mehrere Ziele treffen
- Greife an, wenn er sich von einem groen Angriff erholt`,"bestiary.monster.FinalBossBjornPhase1.name":"Bjrn - Phase 1","bestiary.monster.FinalBossBjornPhase1.description":"Bjrn, der zweite Torwchter, verlsst sich auf rohe Kraft und mchtige bodenbasierte Angriffe.","bestiary.monster.FinalBossBjornPhase1.tips":`- Bjrns Angriffe erzeugen verfolgungs Geschosse, die euch hinterher fliegen
- Bleibe immer in Bewegung um seinen Angriffen auszuweichen.`,"bestiary.monster.FinalBossBjornPhase2.name":"Bjrn - Phase 2","bestiary.monster.FinalBossBjornPhase2.description":"Bjrn entfesselt seine volle Strke und verursacht mit jedem mchtigen Schlag Verwstung.","bestiary.monster.FinalBossBjornPhase2.tips":`- Seine Angriffe decken jetzt einen greren Bereich ab
- Achte auf den rissigen Boden vor einem groen Angriff
- Nutze Fernangriffe, um einen sicheren Abstand zu halten`,"bestiary.monster.FinalBossSimonPhase1.name":"Simon - Phase 1","bestiary.monster.FinalBossSimonPhase1.description":"Simon, der dritte Torwchter, nutzt selbst gemischte Medikamente um seine Geschwindigkeit und Strke zu erhhen.","bestiary.monster.FinalBossSimonPhase1.tips":`- Simon greift mit seiner mit Toxin gefllten Spritze an
- Seine Stabile Statur ermglicht ihm viel Schaden auszuhalten.
- Halte Abstand`,"bestiary.monster.FinalBossSimonPhase2.name":"Simon - Phase 2","bestiary.monster.FinalBossSimonPhase2.description":"Simons ultimative Form, die taktisches Genie mit berwltigender Kraft verbindet.","bestiary.monster.FinalBossSimonPhase2.tips":`- Er erschafft jetzt mehrere Energieklone
- Seine Angriffsmuster werden komplexer
- Konzentriere dich auf den echten Simon, erkennbar an seiner einzigartigen Aura`,"bestiary.monster.Scorpion.name":"Skorpion","bestiary.monster.Scorpion.description":"Giftige Gliederfer mit tdlichen Stacheln. Ihre Giftangriffe knnen selbst die wendigsten Abenteurer vorbergehend verlangsamen.","bestiary.monster.Scorpion.tips":`- Skorpione setzen einen giftigen Stachelangriff ein, der die Bewegungsgeschwindigkeit reduziert
- Der Gifteffekt ist vorbergehend, kann aber in Schwrmen tdlich sein
- Halte Abstand, um ihre Nahkampfangriffe zu vermeiden
- Achte auf das hellgrne Projektil - das ist der giftige Stich`,"achievement.SlimeSlayer.title":"Schleimjger","achievement.SlimeSlayer.description":"Besiege 100 Schleime","achievement.RatSlayer.title":"Rattenjger","achievement.RatSlayer.description":"Besiege 100 Ratten","achievement.WormSlayer.title":"Wurmjger","achievement.WormSlayer.description":"Besiege 100 Wrmer","achievement.ScorpionSlayer.title":"Skorpionjger","achievement.ScorpionSlayer.description":"Besiege 100 Skorpione","achievement.OrcHunter.title":"Orkjger","achievement.OrcHunter.description":"Besiege 100 Orks","achievement.WolfHunter.title":"Wolfjger","achievement.WolfHunter.description":"Besiege 100 Wlfe","achievement.DefeatJorge.title":"Jorge-Bezwinger","achievement.DefeatJorge.description":"Besiege Boss Jorge","achievement.DefeatBjrn.title":"Bjrn-Bezwinger","achievement.DefeatBjrn.description":"Besiege Boss Bjrn","achievement.DefeatSimon.title":"Simon-Bezwinger","achievement.DefeatSimon.description":"Besiege Boss Simon","achievement.WeaponArsenal.title":"Waffensammler","achievement.WeaponArsenal.description":"Sammle 5 verschiedene Waffen","achievement.Expert.title":"Erfahrener berlebender","achievement.Expert.description":"Erreiche Level 10","achievement.Survivor.title":"Ultimativer berlebender","achievement.Survivor.description":"Gewinne das Spiel","quest.til.title":"Tils Herausforderung","quest.til.description":"Tracke 5 Laufeinheiten","quest.til.reward":"Schalte Fuball-Til frei","quest.marc.title":"Marcs Herausforderung","quest.marc.description":"Gewinne eine Kartenspiel-Runde mit den Jungs","quest.marc.reward":"Schalte Yugioh-Marc frei","quest.max.title":"Max' Herausforderung","quest.max.description":"Tracke 5 Fitnessstudio-Besuche","quest.max.reward":"Schalte Fitness-Max frei","quest.chris.title":"Chris' Herausforderung","quest.chris.description":"Tracke die Ernhrung fr 5 Tage","quest.chris.reward":"Schalte Koch-Chris frei","quest.reroll.title":"Tgliche Reroll Herausforderung","quest.reroll.description":"Besiege 10 Monster um einen Reroll zu erhalten","quest.reroll.reward":"Bis zu 10 Rerolls pro Tag"},Pe=class Pe{constructor(){K(this,"currentLanguage","en");K(this,"translations",{en:xo,de:To});this.detectBrowserLanguage()}static getInstance(){return Pe.instance||(Pe.instance=new Pe),Pe.instance}detectBrowserLanguage(){try{const E=navigator.language.split("-")[0];this.translations[E]?(console.log(`Setting language to browser preference: ${E}`),this.currentLanguage=E):console.log(`Browser language ${E} not supported, using default: en`)}catch(E){console.warn("Failed to detect browser language:",E)}}setLanguage(E){this.translations[E]?this.currentLanguage=E:(console.warn(`Language ${E} not found, falling back to English`),this.currentLanguage="en")}getLanguage(){return this.currentLanguage}getText(E){const A=this.translations[this.currentLanguage];if(!A)return console.warn(`No translations found for language ${this.currentLanguage}`),E;const L=A[E];return L||(console.warn(`No translation found for key ${E} in language ${this.currentLanguage}`),E)}getWeaponName(E){return this.getText(`weapon.${E}.name`)}getWeaponDescription(E){return this.getText(`weapon.${E}.description`)}get weaponNames(){const E=this.translations[this.currentLanguage],A={},L="weapon.",F=".name";for(const z in E)if(z.startsWith(L)&&z.endsWith(F)){const p=z.slice(L.length,z.length-F.length);A[p]=E[z]}return A}get weaponDescriptions(){const E=this.translations[this.currentLanguage],A={},L="weapon.",F=".description";for(const z in E)if(z.startsWith(L)&&z.endsWith(F)){const p=z.slice(L.length,z.length-F.length);A[p]=E[z]}return A}get weaponStats(){const E=this.translations[this.currentLanguage],A={},L="weapon.",F={};for(const z in E){if(!z.startsWith(L))continue;const p=z.split(".");if(p.length!==3)continue;const x=p[1],t=p[2];F[x]||(F[x]={});const h=E[z];switch(t){case"damage":F[x].damage=Number(h);break;case"cooldown":F[x].cooldown=Number(h);break;case"range":F[x].range=Number(h);break;case"special":F[x].special=h;break}}for(const z in F){const p=F[z];A[z]={damage:p.damage??0,cooldown:p.cooldown??0,range:p.range??0,special:p.special??"None"}}return A}};K(Pe,"instance");let yn=Pe;const St=yn.getInstance(),So={Fighter:0,Rogue:1,Mage:2,Paladin:3,Football:4,Gambler:5,Athlete:6,Gourmand:7},Un={Fighter:"Til",Rogue:"Marc",Mage:"Max",Paladin:"Chris",Football:"Dominik",Gambler:"Robin",Athlete:"David",Gourmand:"Benni"},Gn={Til:{description:"class.til.description",weapon:"class.til.weapon",strengths:"class.til.strengths",weaknesses:"class.til.weaknesses",altName:"Football Til",altClass:"Football"},Marc:{description:"class.marc.description",weapon:"class.marc.weapon",strengths:"class.marc.strengths",weaknesses:"class.marc.weaknesses",altName:"Yu-gi-oh Marc",altClass:"Gambler"},Max:{description:"class.max.description",weapon:"class.max.weapon",strengths:"class.max.strengths",weaknesses:"class.max.weaknesses",altName:"Gym Rat Max",altClass:"Athlete"},Chris:{description:"class.chris.description",weapon:"class.chris.weapon",strengths:"class.chris.strengths",weaknesses:"class.chris.weaknesses",altName:"Chef Chris",altClass:"Gourmand"}};class Co extends gt.Scene{constructor(){super("ClassSelectScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"titleText");K(this,"subtitleText");K(this,"classButtonsContainer");K(this,"classInfoPanel");K(this,"fighterButton");K(this,"rogueButton");K(this,"mageButton");K(this,"paladinButton");K(this,"confirmButton");K(this,"errorText");K(this,"questButton");K(this,"footballButton");K(this,"gamblerButton");K(this,"athleteButton");K(this,"gourmandButton");K(this,"bestiaryButton");K(this,"achievementsButton");K(this,"burgerMenuButton");K(this,"burgerMenuContainer");K(this,"weaponCombosButton");K(this,"selectedClass",null);K(this,"isLoading",!1);K(this,"titleElement",null);K(this,"subtitleElement",null);K(this,"selectedAltVersion",!1);K(this,"selectedAltVersions",{Til:!1,Marc:!1,Max:!1,Chris:!1});K(this,"isBurgerMenuOpen",!1);this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("ClassSelectScene constructor called")}preload(){this.load.image("fighter_icon","assets/class_fighter_1.png"),this.load.image("rogue_icon","assets/class_rogue_1.png"),this.load.image("mage_icon","assets/class_mage_1.png"),this.load.image("paladin_icon","assets/class_paladin_1.png"),this.load.image("football_icon","assets/class_football_1.png"),this.load.image("gambler_icon","assets/class_gambler_1.png"),this.load.image("athlete_icon","assets/class_athlete_1.png"),this.load.image("gourmand_icon","assets/class_chef_1.png"),this.load.image("attack_sword","assets/attack_sword.png"),this.load.image("attack_knife","assets/attack_knife.png"),this.load.image("attack_wand","assets/attack_wand.png"),this.load.image("attack_shield","assets/attack_shield.png"),this.load.image("attack_football","assets/attack_football.png"),this.load.image("attack_cards","assets/attack_cards.png"),this.load.image("attack_dumbbell","assets/attack_dumbbell.png"),this.load.image("attack_garlic","assets/attack_garlic.png"),this.load.image("quest_icon","assets/white_pixel.png")}create(){const A=this.cameras.main.width,L=this.cameras.main.height;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(A/2,L/2,"title_bg").setDisplaySize(A,L).setDepth(0)}catch(r){console.error("Error loading background:",r)}xt()?(this.titleText=this.add.text(-1e3,-1e3,"",{fontFamily:"Arial Black",fontSize:"1px"}).setVisible(!1),this.subtitleText=this.add.text(-1e3,-1e3,"",{fontFamily:"Arial",fontSize:"1px"}).setVisible(!1)):(this.titleText=this.add.text(A/2,L/4,St.getText("ui.select_class.title"),{fontFamily:"Arial Black",fontSize:"48px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.subtitleText=this.add.text(A/2,L/4+60,St.getText("ui.select_class.subtitle"),{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:3}).setOrigin(.5)),this.createClassButtons(),this.createConfirmButton(),this.createClassInfoPanel(),this.createLanguageSelector(),this.errorText=this.add.text(A/2,L*.85,"",{fontFamily:"Arial",fontSize:"18px",color:"#ff0000",align:"center"}).setOrigin(.5).setVisible(!1),this.registerEventListeners(),this.scale.on("resize",this.handleResize,this),this.positionHTMLElements(),this.events.on("shutdown",this.shutdown,this);const z=document.createElement("button");z.style.position="absolute",z.style.top="50px",z.style.right="50px",z.style.width="180px",z.style.height="50px",z.style.padding="10px",z.style.backgroundColor="#2c3e50",z.style.color="white",z.style.border="2px solid #34495e",z.style.borderRadius="5px",z.style.cursor="pointer",z.style.fontFamily="Arial",z.style.fontSize="18px",z.style.transition="background-color 0.2s, border-color 0.2s",z.style.display="flex",z.style.alignItems="center",z.style.justifyContent="center",z.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",z.textContent=" "+St.getText("ui.quests"),z.addEventListener("mouseover",()=>{z.style.backgroundColor="#3498db",z.style.borderColor="#2980b9"}),z.addEventListener("mouseout",()=>{z.style.backgroundColor="#2c3e50",z.style.borderColor="#34495e"}),z.addEventListener("click",()=>{this.scene.start("QuestScene")}),document.body.appendChild(z),this.questButton=z;const p=document.createElement("button");p.style.position="absolute",p.style.top="110px",p.style.right="50px",p.style.width="180px",p.style.height="50px",p.style.padding="10px",p.style.backgroundColor="#2c3e50",p.style.color="white",p.style.border="2px solid #34495e",p.style.borderRadius="5px",p.style.cursor="pointer",p.style.fontFamily="Arial",p.style.fontSize="18px",p.style.transition="background-color 0.2s, border-color 0.2s",p.style.display="flex",p.style.alignItems="center",p.style.justifyContent="center",p.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",p.textContent=" "+St.getText("ui.bestiary"),p.addEventListener("mouseover",()=>{p.style.backgroundColor="#3498db",p.style.borderColor="#2980b9"}),p.addEventListener("mouseout",()=>{p.style.backgroundColor="#2c3e50",p.style.borderColor="#34495e"}),p.addEventListener("click",()=>{this.scene.start("BestaryScene",{spacetimeDBClient:this.spacetimeDBClient})}),document.body.appendChild(p),this.bestiaryButton=p;const x=document.createElement("button");x.style.position="absolute",x.style.top="170px",x.style.right="50px",x.style.width="180px",x.style.height="50px",x.style.padding="10px",x.style.backgroundColor="#2c3e50",x.style.color="white",x.style.border="2px solid #34495e",x.style.borderRadius="5px",x.style.cursor="pointer",x.style.fontFamily="Arial",x.style.fontSize="18px",x.style.transition="background-color 0.2s, border-color 0.2s",x.style.display="flex",x.style.alignItems="center",x.style.justifyContent="center",x.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",x.textContent=" "+St.getText("ui.achievements"),x.addEventListener("mouseover",()=>{x.style.backgroundColor="#3498db",x.style.borderColor="#2980b9"}),x.addEventListener("mouseout",()=>{x.style.backgroundColor="#2c3e50",x.style.borderColor="#34495e"}),x.addEventListener("click",()=>{this.scene.start("AchievementScene")}),document.body.appendChild(x),this.achievementsButton=x;const t=document.createElement("button");t.style.position="absolute",t.style.top="230px",t.style.right="50px",t.style.width="180px",t.style.height="50px",t.style.padding="10px",t.style.backgroundColor="#2c3e50",t.style.color="white",t.style.border="2px solid #34495e",t.style.borderRadius="5px",t.style.cursor="pointer",t.style.fontFamily="Arial",t.style.fontSize="18px",t.style.transition="background-color 0.2s, border-color 0.2s",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",t.textContent=" "+St.getText("ui.weapon_combinations"),t.addEventListener("mouseover",()=>{t.style.backgroundColor="#3498db",t.style.borderColor="#2980b9"}),t.addEventListener("mouseout",()=>{t.style.backgroundColor="#2c3e50",t.style.borderColor="#34495e"}),t.addEventListener("click",()=>{this.scene.start("WeaponCombinationsScene")}),document.body.appendChild(t),this.weaponCombosButton=t;const h=document.createElement("button");h.style.position="absolute",h.style.top="20px",h.style.right="20px",h.style.width="50px",h.style.height="50px",h.style.backgroundColor="#2c3e50",h.style.border="2px solid #34495e",h.style.borderRadius="5px",h.style.cursor="pointer",h.style.zIndex="1001",h.style.display="flex",h.style.flexDirection="column",h.style.justifyContent="center",h.style.alignItems="center";for(let r=0;r<3;r++){const n=document.createElement("div");n.style.width="25px",n.style.height="3px",n.style.backgroundColor="white",n.style.margin="3px 0",h.appendChild(n)}const v=document.createElement("div");v.style.position="absolute",v.style.top="80px",v.style.right="20px",v.style.width="200px",v.style.backgroundColor="rgba(44, 62, 80, 0.95)",v.style.color="white",v.style.borderRadius="8px",v.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)",v.style.zIndex="1000",v.style.display="none",[{text:" Quests",scene:"QuestScene"},{text:" Bestiary",scene:"BestaryScene"},{text:" Achievements",scene:"AchievementScene"},{text:" Combinations",scene:"WeaponCombinationsScene"}].forEach(r=>{const n=document.createElement("button");n.textContent=r.text,n.style.width="100%",n.style.padding="15px",n.style.backgroundColor="transparent",n.style.color="white",n.style.border="none",n.style.borderBottom="1px solid #34495e",n.style.cursor="pointer",n.style.fontFamily="Arial",n.style.fontSize="18px",n.style.transition="background-color 0.2s",n.style.textAlign="left",n.addEventListener("mouseover",()=>{n.style.backgroundColor="#3498db"}),n.addEventListener("mouseout",()=>{n.style.backgroundColor="transparent"}),n.addEventListener("click",()=>{r.scene==="BestaryScene"?this.scene.start(r.scene,{spacetimeDBClient:this.spacetimeDBClient}):this.scene.start(r.scene)}),v.appendChild(n)}),h.addEventListener("click",()=>{this.isBurgerMenuOpen=!this.isBurgerMenuOpen,v.style.display=this.isBurgerMenuOpen?"block":"none"}),document.addEventListener("click",r=>{this.isBurgerMenuOpen&&r.target!==h&&!h.contains(r.target)&&!v.contains(r.target)&&(this.isBurgerMenuOpen=!1,v.style.display="none")}),document.body.appendChild(h),document.body.appendChild(v),this.burgerMenuButton=h,this.burgerMenuContainer=v,xt()?(this.burgerMenuButton&&(this.burgerMenuButton.style.display="flex"),this.questButton&&(this.questButton.style.display="none"),this.bestiaryButton&&(this.bestiaryButton.style.display="none"),this.achievementsButton&&(this.achievementsButton.style.display="none"),this.weaponCombosButton&&(this.weaponCombosButton.style.display="none")):(this.burgerMenuButton&&(this.burgerMenuButton.style.display="none"),this.burgerMenuContainer&&(this.burgerMenuContainer.style.display="none"),this.questButton&&(this.questButton.style.display="flex"),this.bestiaryButton&&(this.bestiaryButton.style.display="flex"),this.achievementsButton&&(this.achievementsButton.style.display="flex"),this.weaponCombosButton&&(this.weaponCombosButton.style.display="flex"))}createConfirmButton(){this.confirmButton=document.createElement("button"),this.confirmButton.textContent=St.getText("ui.confirm_selection"),this.confirmButton.style.position="absolute",this.confirmButton.style.padding="12px 24px",this.confirmButton.style.backgroundColor="#27ae60",this.confirmButton.style.color="white",this.confirmButton.style.border="none",this.confirmButton.style.borderRadius="5px",this.confirmButton.style.fontSize="18px",this.confirmButton.style.cursor="pointer",this.confirmButton.style.transition="background-color 0.2s",this.confirmButton.style.display="none",this.confirmButton.style.bottom="0",this.confirmButton.style.width="100%",this.confirmButton.style.transform="translateX(0)",this.confirmButton.style.margin="15px 0 0 0",this.confirmButton.addEventListener("mouseover",()=>{this.confirmButton.style.backgroundColor="#219a52"}),this.confirmButton.addEventListener("mouseout",()=>{this.confirmButton.style.backgroundColor="#27ae60"}),this.confirmButton.addEventListener("click",()=>{this.spawnPlayer()}),this.classButtonsContainer.appendChild(this.confirmButton)}createClassButtons(){const A=document.getElementById("class-select-container");A&&A.remove(),this.classButtonsContainer=document.createElement("div"),this.classButtonsContainer.id="class-select-container",this.classButtonsContainer.style.position="absolute",this.classButtonsContainer.style.display="flex",this.classButtonsContainer.style.flexDirection="column",this.classButtonsContainer.style.alignItems="center",this.classButtonsContainer.style.gap="20px",this.classButtonsContainer.style.width="250px",this.classButtonsContainer.style.transform="translate(-50%, -50%)",this.classButtonsContainer.style.height="400px",document.body.appendChild(this.classButtonsContainer);const L=xt(),F=(z,p,x,t)=>{const h=document.createElement("button");h.className="class-select-button",h.setAttribute("data-class-type",p.tag),h.style.position="relative",h.style.width="250px",h.style.height="70px",h.style.padding="10px",h.style.backgroundColor="#2c3e50",h.style.color="white",h.style.border="2px solid #34495e",h.style.borderRadius="5px",h.style.cursor="pointer",h.style.fontFamily="Arial",h.style.fontSize="18px",h.style.textAlign="left",h.style.transition="background-color 0.2s, border-color 0.2s",h.style.display="flex",h.style.alignItems="center";try{if(this.textures.exists(x)){const a=document.createElement("img");a.id=`${z.toLowerCase()}-icon`,a.src="assets/"+t,a.style.width="50px",a.style.height="50px",a.style.marginRight="10px",h.appendChild(a)}}catch(a){console.error(`Error adding icon for ${z}:`,a)}const v=document.createElement("span");if(v.id=`${z.toLowerCase()}-text`,v.textContent=z,h.appendChild(v),L){const a=document.createElement("button");a.className="class-info-button",a.innerHTML='<span style="font-size: 20px"></span>',a.style.position="absolute",a.style.right="10px",a.style.backgroundColor="transparent",a.style.border="none",a.style.cursor="pointer",a.style.width="36px",a.style.height="36px",a.style.borderRadius="50%",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.padding="0",a.addEventListener("click",r=>{r.stopPropagation(),this.selectClass(p,h),this.showClassInfoModal(p)}),h.appendChild(a)}return h.addEventListener("click",()=>{this.selectClass(p,h),!L&&this.classInfoPanel&&(this.classInfoPanel.style.display="block")}),h};this.fighterButton=F("Til",Qt.Fighter,"fighter_icon","class_fighter_1.png"),this.rogueButton=F("Marc",Qt.Rogue,"rogue_icon","class_rogue_1.png"),this.mageButton=F("Max",Qt.Mage,"mage_icon","class_mage_1.png"),this.paladinButton=F("Chris",Qt.Paladin,"paladin_icon","class_paladin_1.png"),this.classButtonsContainer.appendChild(this.fighterButton),this.classButtonsContainer.appendChild(this.rogueButton),this.classButtonsContainer.appendChild(this.mageButton),this.classButtonsContainer.appendChild(this.paladinButton),this.updateQuestLockStatus()}createClassInfoPanel(){const A=document.getElementById("class-info-panel");if(A&&A.remove(),this.classInfoPanel=document.createElement("div"),this.classInfoPanel.id="class-info-panel",this.classInfoPanel.style.position="absolute",this.classInfoPanel.style.width="300px",this.classInfoPanel.style.padding="20px",this.classInfoPanel.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.classInfoPanel.style.color="white",this.classInfoPanel.style.borderRadius="8px",this.classInfoPanel.style.border="2px solid #34495e",this.classInfoPanel.style.fontFamily="Arial",this.classInfoPanel.style.fontSize="16px",this.classInfoPanel.style.display="none",this.classInfoPanel.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",xt()){const L=document.createElement("button");L.textContent="",L.style.position="absolute",L.style.top="10px",L.style.right="10px",L.style.background="transparent",L.style.border="none",L.style.color="white",L.style.fontSize="20px",L.style.cursor="pointer",L.style.padding="5px 10px",L.addEventListener("click",()=>{this.hideClassInfoModal()}),this.classInfoPanel.appendChild(L)}if(document.body.appendChild(this.classInfoPanel),xt()){const L=document.createElement("div");L.id="modal-overlay",L.style.position="fixed",L.style.top="0",L.style.left="0",L.style.width="100%",L.style.height="100%",L.style.backgroundColor="rgba(0, 0, 0, 0.7)",L.style.zIndex="1000",L.style.display="none",L.addEventListener("click",F=>{F.target===L&&this.hideClassInfoModal()}),document.body.appendChild(L)}}showClassInfoModal(A){if(this.classInfoPanel)if(xt()){const L=document.getElementById("modal-overlay");if(!L)return;this.classInfoPanel.style.left="50%",this.classInfoPanel.style.top="50%",this.classInfoPanel.style.transform="translate(-50%, -50%)",this.classInfoPanel.style.zIndex="1001",this.classInfoPanel.style.width="85%",this.classInfoPanel.style.maxWidth="400px",this.classInfoPanel.style.maxHeight="80%",this.classInfoPanel.style.overflowY="auto",L.style.display="block",this.classInfoPanel.style.display="block"}else this.classInfoPanel.style.display="block",this.positionHTMLElements()}hideClassInfoModal(){if(!xt())return;const A=document.getElementById("modal-overlay");A&&(A.style.display="none"),this.classInfoPanel&&(this.classInfoPanel.style.display="none")}getAltVersionKey(A){return{Til:"football_til",Marc:"yugioh_marc",Max:"gym_max",Chris:"chef_chris"}[A]||A.toLowerCase()}getOriginalCharacterName(A){if(["Til","Marc","Max","Chris"].includes(A))return A;const L={Football:"Til",Gambler:"Marc",Athlete:"Max",Gourmand:"Chris"},F=typeof A=="string"?A:A.tag;return L[F]||F}updateClassInfoPanel(A,L,F){if(!F)return;const z=this.getOriginalCharacterName(A),p=this.selectedAltVersions[z]||!1,x=this.isCharacterQuestCompleted(z),t=p?F.altClass:L.tag,h=p?F.altName:z;if(p&&F.altClass){for(const l in Qt)if(typeof Qt[l]=="object"&&Qt[l].tag===F.altClass){Qt[l];break}}const v=`class.${z.toLowerCase()}`,a=`class.${this.getAltVersionKey(z)}`,r=p?a:v,n=this.getWeaponImageFile(t),e=document.getElementById(`${z.toLowerCase()}-icon`),s=document.getElementById(`${z.toLowerCase()}-text`);if(e){const l=p?this.getAltClassIcon(F.altClass):this.getClassIcon(L.tag);e.src=`assets/${l}`}s&&(s.textContent=h);const o=F.altClass?`
            <button id="version-toggle" style="
                position: absolute;
                right: 10px;
                background-color: ${x?"#3498db":"#95a5a6"};
                border: none;
                border-radius: 15px;
                padding: 6px 12px;
                color: white;
                cursor: ${x?"pointer":"not-allowed"};
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 14px;
                transition: background-color 0.2s;
                opacity: ${x?"1":"0.6"};
            " ${x?"":"disabled"}>
            <span>Version</span>
            <span style="font-size: 18px;">${x?"":""}</span>
            </button>
        `:"";this.classInfoPanel.innerHTML=`
            <div style="position: relative; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;">
                <h2 style="margin: 0; font-size: 24px; color: #3498db;">
                    ${h}
                </h2>
                ${o}
            </div>
            <p style="margin: 0 0 15px 0;">${St.getText(`${r}.description`)}</p>
            <h3 style="margin: 0 0 10px 0; font-size: 18px; color:rgb(183, 204, 46);">Weapon</h3>
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <img src="assets/${n}" style="height: 45px; width: 45px; margin-right: 10px;" 
                    alt="${St.getText(`${r}.weapon`)} icon" />
                <p style="margin: 0 0 0 10px;">
                    ${St.getText(`${r}.weapon`)}
                </p>
            </div>
            <h3 style="margin: 0 0 10px 0; fontSize: 18px; color: #2ecc71;">Strengths </h3>
            <p style="margin: 0 0 15px 0;">
                ${St.getText(`${r}.strengths`)}
            </p>
            <h3 style="margin: 0 0 10px 0; fontSize: 18px; color: #e74c3c;">Weaknesses </h3>
            <p style="margin: 0;">
                ${St.getText(`${r}.weaknesses`)}
            </p>
        `;const i=document.getElementById("version-toggle");i&&x&&i.addEventListener("click",()=>{if(this.selectedAltVersions[z]=!this.selectedAltVersions[z],this.selectedAltVersions[z]&&F.altClass){for(const l in Qt)if(typeof Qt[l]=="object"&&Qt[l].tag===F.altClass){this.selectedClass=Qt[l];break}}else for(const l in Qt)if(typeof Qt[l]=="object"&&Qt[l].tag===L.tag){this.selectedClass=Qt[l];break}if(this.updateClassInfoPanel(z,L,F),this.selectedClass){const l=this.getButtonForClass(this.selectedClass);l&&this.selectClass(this.selectedClass,l)}})}getWeaponImageFile(A){return{Fighter:"attack_sword.png",Rogue:"attack_knife.png",Mage:"attack_wand.png",Paladin:"attack_shield.png",Football:"attack_football.png",Gambler:"attack_cards.png",Athlete:"attack_dumbbell.png",Gourmand:"attack_garlic.png"}[A]||"attack_sword.png"}positionHTMLElements(){xt()?(this.classButtonsContainer.style.left="50%",this.classButtonsContainer.style.top="50%",this.classButtonsContainer.style.width="90%",this.classButtonsContainer.style.maxWidth="300px",this.classInfoPanel&&this.classInfoPanel.style.display!=="none"&&(this.classInfoPanel.style.left="50%",this.classInfoPanel.style.top="calc(50% + 220px)",this.classInfoPanel.style.transform="translate(-50%, 0)",this.classInfoPanel.style.width="90%",this.classInfoPanel.style.maxWidth="300px",this.classInfoPanel.style.maxHeight="calc(100% - 450px)",this.classInfoPanel.style.overflowY="auto"),this.burgerMenuButton&&(this.burgerMenuButton.style.display="flex"),this.questButton&&(this.questButton.style.display="none"),this.bestiaryButton&&(this.bestiaryButton.style.display="none"),this.achievementsButton&&(this.achievementsButton.style.display="none"),this.weaponCombosButton&&(this.weaponCombosButton.style.display="none")):(this.classButtonsContainer.style.left="50%",this.classButtonsContainer.style.top="60%",this.classButtonsContainer.style.width="250px",this.classInfoPanel&&this.classInfoPanel.style.display!=="none"&&(this.classInfoPanel.style.left="50%",this.classInfoPanel.style.top="60%",this.classInfoPanel.style.transform=`translate(calc(${250/2+30}px), -55%)`,this.classInfoPanel.style.width="300px",this.classInfoPanel.style.maxHeight="450px"),this.burgerMenuButton&&(this.burgerMenuButton.style.display="none"),this.burgerMenuContainer&&(this.burgerMenuContainer.style.display="none",this.isBurgerMenuOpen=!1),this.questButton&&(this.questButton.style.display="flex",this.questButton.style.top="50px",this.questButton.style.right="50px",this.questButton.style.width="180px",this.questButton.style.height="50px",this.questButton.style.fontSize="18px"),this.bestiaryButton&&(this.bestiaryButton.style.display="flex",this.bestiaryButton.style.top="110px",this.bestiaryButton.style.right="50px",this.bestiaryButton.style.width="180px",this.bestiaryButton.style.height="50px",this.bestiaryButton.style.fontSize="18px"),this.achievementsButton&&(this.achievementsButton.style.display="flex",this.achievementsButton.style.top="170px",this.achievementsButton.style.right="50px",this.achievementsButton.style.width="180px",this.achievementsButton.style.height="50px",this.achievementsButton.style.fontSize="18px"),this.weaponCombosButton&&(this.weaponCombosButton.style.display="flex",this.weaponCombosButton.style.top="230px",this.weaponCombosButton.style.right="50px",this.weaponCombosButton.style.width="180px",this.weaponCombosButton.style.height="50px",this.weaponCombosButton.style.fontSize="18px"))}handleResize(){this.positionHTMLElements()}registerEventListeners(){this.gameEvents.on(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.on(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.on(it.NAME_SET,this.handleNameSet,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.on(it.LOADING_ERROR,this.handleLoadingError,this)}handlePlayerCreated(A,L=!0){console.log("Player created event received in ClassSelectScene"),L&&console.log("Our player was created. Will transition to GameScene.")}handlePlayerDied(A){console.log("Player died event received in ClassSelectScene"),this.subtitleText.setText("Your previous character died. Choose a new class...")}handleNameSet(A){console.log("Name set event received in ClassSelectScene",A.name)}handleConnectionLost(){console.log("Connection lost event received in ClassSelectScene"),this.showError("Connection to server lost. Please refresh the page.")}handleLoadingError(A){console.log("Loading error event received in ClassSelectScene",A),this.showError(A)}selectClass(A,L){[this.fighterButton,this.rogueButton,this.mageButton,this.paladinButton].forEach(a=>{a&&(a.style.backgroundColor="#2c3e50",a.style.borderColor="#34495e")}),L.style.backgroundColor="#3498db",L.style.borderColor="#2980b9",this.selectedClass=A,this.confirmButton.style.display="block",this.errorText.setVisible(!1);const z=Un[A.tag],p=Gn[z],x=this.getOriginalCharacterName(z),t=this.selectedAltVersions[x]||!1,h=document.getElementById(`${x.toLowerCase()}-icon`),v=document.getElementById(`${x.toLowerCase()}-text`);if(h){const a=t?this.getAltClassIcon(p.altClass):this.getClassIcon(A.tag);h.src=`assets/${a}`}v&&(v.textContent=t?p.altName:x),!xt()&&this.classInfoPanel&&(this.classInfoPanel.style.display="block",this.positionHTMLElements()),this.updateClassInfoPanel(z,A,p)}getButtonForClass(A){return{Fighter:this.fighterButton,Rogue:this.rogueButton,Mage:this.mageButton,Paladin:this.paladinButton}[A.tag]||null}spawnPlayer(){var A;if(!this.selectedClass){this.showError("Please select a class first");return}try{if((A=this.spacetimeDBClient.sdkConnection)!=null&&A.reducers){const L=So[this.selectedClass.tag];console.log(`Spawning player with class: ${this.selectedClass.tag} (ID: ${L})`),this.cleanupHTMLElements(),console.log("Spawning player with class: "+this.selectedClass.tag+" (ID: "+L+")"),this.scene.start("LoadingScene",{message:"Creating your character...",nextScene:"GameScene",timeoutDuration:1e4}),this.spacetimeDBClient.sdkConnection.reducers.spawnPlayer(L)}else this.showError("Cannot spawn player: SpacetimeDB reducers not available")}catch(L){console.error("Error spawning player:",L),this.showError("An error occurred while spawning your player")}}cleanupHTMLElements(){console.log("Cleaning up ClassSelectScene HTML elements");try{this.classButtonsContainer&&this.classButtonsContainer.parentNode&&this.classButtonsContainer.remove(),this.classInfoPanel&&this.classInfoPanel.parentNode&&this.classInfoPanel.remove(),this.questButton&&this.questButton.parentNode&&this.questButton.remove(),this.bestiaryButton&&this.bestiaryButton.parentNode&&this.bestiaryButton.remove(),this.achievementsButton&&this.achievementsButton.parentNode&&this.achievementsButton.remove(),this.weaponCombosButton&&this.weaponCombosButton.parentNode&&this.weaponCombosButton.remove(),this.burgerMenuButton&&this.burgerMenuButton.parentNode&&this.burgerMenuButton.remove(),this.burgerMenuContainer&&this.burgerMenuContainer.parentNode&&this.burgerMenuContainer.remove();const A=document.getElementById("class-select-container");A&&A.parentNode&&A.remove();const L=document.getElementById("class-info-panel");L&&L.parentNode&&L.remove(),document.querySelectorAll(".class-select-button").forEach(z=>{z&&z.parentNode&&z.remove()}),document.querySelectorAll("button").forEach(z=>{var p,x,t,h,v,a;((p=z.textContent)!=null&&p.includes("Fighter")||(x=z.textContent)!=null&&x.includes("Rogue")||(t=z.textContent)!=null&&t.includes("Mage")||(h=z.textContent)!=null&&h.includes("Paladin")||(v=z.textContent)!=null&&v.includes("Confirm Selection")||(a=z.textContent)!=null&&a.includes("Quests"))&&z&&z.parentNode&&(console.log("Removing button:",z.textContent),z.remove())}),document.querySelectorAll("div").forEach(z=>{(z.id==="class-select-container"||z.id==="class-info-panel"||z.children.length>0&&Array.from(z.children).some(p=>p.className==="class-select-button"))&&z&&z.parentNode&&(console.log("Removing div:",z.id||"unnamed"),z.remove())});const F=document.querySelector("select");F&&F.parentNode&&F.remove()}catch(A){console.error("Error in cleanupHTMLElements:",A)}}showError(A){this.errorText.setText(A),this.errorText.setVisible(!0)}createLanguageSelector(){const A=document.createElement("select");A.style.position="absolute",A.style.bottom="20px",A.style.right="20px",A.style.padding="8px",A.style.fontFamily="Arial",A.style.fontSize="16px",A.style.backgroundColor="#2c3e50",A.style.color="white",A.style.border="2px solid #34495e",A.style.borderRadius="5px",A.style.cursor="pointer",[{code:"en",name:"English"},{code:"de",name:"Deutsch"}].forEach(F=>{const z=document.createElement("option");z.value=F.code,z.textContent=F.name,A.appendChild(z)}),A.value=St.getLanguage(),A.addEventListener("change",F=>{const z=F.target;if(St.setLanguage(z.value),this.titleText.setText(St.getText("ui.select_class.title")),this.subtitleText.setText(St.getText("ui.select_class.subtitle")),this.selectedClass){const p=this.getButtonForClass(this.selectedClass);p&&this.selectClass(this.selectedClass,p)}this.confirmButton&&(this.confirmButton.textContent=St.getText("ui.confirm_selection"))}),document.body.appendChild(A)}getClassIcon(A){return{Fighter:"class_fighter_1.png",Rogue:"class_rogue_1.png",Mage:"class_mage_1.png",Paladin:"class_paladin_1.png",Football:"class_football_1.png",Gambler:"class_gambler_1.png",Athlete:"class_athlete_1.png",Gourmand:"class_chef_1.png"}[A]||"class_fighter_1.png"}getClassIconKey(A){return{Fighter:"fighter_icon",Rogue:"rogue_icon",Mage:"mage_icon",Paladin:"paladin_icon",Football:"football_icon",Gambler:"gambler_icon",Athlete:"athlete_icon",Gourmand:"gourmand_icon"}[A]||"fighter_icon"}getAltClassIcon(A){return{Football:"class_football_1.png",Gambler:"class_gambler_1.png",Athlete:"class_athlete_1.png",Gourmand:"class_chef_1.png"}[A]||"class_fighter_1.png"}shutdown(){console.log("ClassSelectScene shutdown called"),this.gameEvents.off(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.off(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.off(it.NAME_SET,this.handleNameSet,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.off(it.LOADING_ERROR,this.handleLoadingError,this),this.cleanupHTMLElements(),this.scale.off("resize",this.handleResize)}updateQuestLockStatus(){if(!(!this.spacetimeDBClient||!this.spacetimeDBClient.isConnected))try{const A=this.spacetimeDBClient.sdkConnection;if(!A||!A.db)return;const L=this.spacetimeDBClient.identity;if(!L)return;const F=[];try{for(const z of A.db.gameQuests.iter())z.accountIdentity&&z.accountIdentity.isEqual(L)&&F.push(z)}catch(z){console.error("Error getting player quests for lock status:",z);return}if(this.selectedClass&&this.classInfoPanel&&this.classInfoPanel.style.display!=="none"){const z=Un[this.selectedClass.tag],p=Gn[z];this.updateClassInfoPanel(z,this.selectedClass,p)}}catch(A){console.error("Error updating quest lock status:",A)}}isCharacterQuestCompleted(A){if(!this.spacetimeDBClient||!this.spacetimeDBClient.isConnected)return!1;try{const L=this.spacetimeDBClient.sdkConnection;if(!L||!L.db)return!1;const F=this.spacetimeDBClient.identity;if(!F)return!1;const p={Til:"Til",Marc:"Marc",Max:"Max",Chris:"Chris"}[A];if(!p)return!1;for(const x of L.db.gameQuests.iter())if(x.accountIdentity&&x.accountIdentity.isEqual(F)&&x.questTypeType&&x.questTypeType.tag===p)return x.isCompleted||!1;return!1}catch(L){return console.error("Error checking quest completion:",L),!1}}}class Eo extends gt.Scene{constructor(){super("LoadingScene");K(this,"loadingText");K(this,"spinner");K(this,"dots");K(this,"dotCount",0);K(this,"dotTimer");K(this,"nextScene","");K(this,"message","");K(this,"timeoutDuration",1e4);K(this,"timeoutTimer",null);K(this,"gameEvents");K(this,"waitingFor","");this.gameEvents=window.gameEvents}init(A){this.message=A.message||"Loading...",this.nextScene=A.nextScene||"",this.timeoutDuration=A.timeoutDuration||1e4,this.waitingFor=A.waitingFor||"",console.log(`LoadingScene initialized with message: ${this.message}, next scene: ${this.nextScene}, waiting for: ${this.waitingFor}`)}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){this.cleanupLingeringUIElements();const{width:A,height:L}=this.scale;this.cameras.main.setBackgroundColor("#042E64"),this.cameras.main.fadeIn(500);try{this.textures.exists("title_bg")&&this.add.image(A/2,L/2,"title_bg").setDisplaySize(A,L).setDepth(0)}catch(F){console.error("Error loading background:",F)}this.loadingText=this.add.text(A/2,L/2-70,this.message,{fontFamily:"Arial",fontSize:xt()?"20px":"24px",color:"#ffffff",align:"center",fontStyle:"bold",stroke:"#000000",strokeThickness:2}).setOrigin(.5),this.dots=this.add.text(A/2,L/2-40,"",{fontFamily:"Arial",fontSize:xt()?"20px":"24px",color:"#ffffff",stroke:"#000000",strokeThickness:2}).setOrigin(.5),this.createSpinner(A/2,L/2+50),this.dotTimer=this.time.addEvent({delay:500,callback:this.updateDots,callbackScope:this,loop:!0}),this.registerEventListeners(),this.nextScene&&(this.timeoutTimer=this.time.delayedCall(this.timeoutDuration,()=>{console.log(`Loading timed out after ${this.timeoutDuration}ms, proceeding to ${this.nextScene}`),this.proceedToNextScene()})),this.scale.on("resize",this.handleResize,this)}registerEventListeners(){this.gameEvents.on(it.LOADING_COMPLETE,this.completeLoading,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.waitingFor==="name"?(console.log("Waiting for name to be set"),this.gameEvents.on(it.NAME_SET,this.completeLoading,this)):this.waitingFor==="player"&&(console.log("Waiting for player to be created"),this.gameEvents.on(it.PLAYER_CREATED,this.completeLoading,this)),this.events.on("shutdown",this.shutdown,this)}createSpinner(A,L){this.spinner=this.add.container(A,L);const F=30,z=8;for(let p=0;p<z;p++){const x=p/z*Math.PI*2,t=Math.cos(x)*F,h=Math.sin(x)*F,v=xt()?6:8,a=.3+.7*p/z,r=this.add.circle(t,h,v,16777215,a);this.spinner.add(r)}this.tweens.add({targets:this.spinner,angle:360,duration:2e3,repeat:-1,ease:"Linear"})}updateDots(){this.dotCount=(this.dotCount+1)%4,this.dots.setText(".".repeat(this.dotCount))}handleResize(){const{width:A,height:L}=this.scale;this.loadingText&&this.loadingText.setPosition(A/2,L/2-70),this.dots&&this.dots.setPosition(A/2,L/2-40),this.spinner&&this.spinner.setPosition(A/2,L/2+50)}handleConnectionLost(){var A;console.log("Connection lost during loading"),this.loadingText.setText("Connection lost. Please refresh the page."),(A=this.timeoutTimer)==null||A.remove(),this.timeoutTimer=null}completeLoading(){if(console.log("completeLoading called, next scene:",this.nextScene),this.timeoutTimer&&(this.timeoutTimer.remove(),this.timeoutTimer=null),this.nextScene){const A=this.nextScene;console.log(`Loading complete, preparing transition to ${A}`),this.cameras.main.fadeOut(500),this.cameras.main.once(gt.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>{console.log(`Fade out complete, now starting ${A}`),this.scene.start(A)}),this.nextScene=""}else console.warn("No next scene specified in completeLoading, staying in LoadingScene")}proceedToNextScene(){this.nextScene?(console.log(`Timeout reached, proceeding to ${this.nextScene}`),this.scene.start(this.nextScene)):console.warn("No next scene specified in proceedToNextScene, staying in LoadingScene")}shutdown(){this.dotTimer&&this.dotTimer.remove(),this.timeoutTimer&&(this.timeoutTimer.remove(),this.timeoutTimer=null),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.LOADING_COMPLETE,this.completeLoading,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.waitingFor==="name"?this.gameEvents.off(it.NAME_SET,this.completeLoading,this):this.waitingFor==="player"&&this.gameEvents.off(it.PLAYER_CREATED,this.completeLoading,this),this.scale.off("resize",this.handleResize),this.nextScene=""}cleanupLingeringUIElements(){console.log("LoadingScene: Cleaning up any lingering UI elements from other scenes");try{const A=document.getElementById("login-name-input");A&&A.parentNode&&(console.log("Removing lingering login input"),A.remove()),document.querySelectorAll(".login-button").forEach(F=>{F&&F.parentNode&&(console.log("Removing lingering login button"),F.remove())});const L=document.getElementById("class-select-container");L&&L.parentNode&&(console.log("Removing lingering class container"),L.remove()),document.querySelectorAll(".class-select-button").forEach(F=>{F&&F.parentNode&&(console.log("Removing lingering class button"),F.remove())}),document.querySelectorAll('input[type="text"]').forEach(F=>{F.id==="login-name-input"&&F.parentNode&&(console.log("Removing generic text input"),F.remove())}),document.querySelectorAll("button").forEach(F=>{const z=F.textContent||"";(z.includes("Set Name")||z.includes("Fighter")||z.includes("Rogue")||z.includes("Mage")||z.includes("Paladin")||z.includes("Confirm"))&&F.parentNode&&(console.log("Removing generic button:",z),F.remove())})}catch(A){console.error("Error in cleanupLingeringUIElements:",A)}}}class Ao extends gt.Scene{constructor(){super("QuestScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"questContainer");K(this,"backButton");this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){const{width:A,height:L}=this.scale;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(A/2,L/2,"title_bg").setDisplaySize(A,L).setDepth(0)}catch(F){console.error("Error loading background:",F)}this.add.text(A/2,L/6,"QUESTS",{fontFamily:"Arial Black",fontSize:"48px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.createQuestList(),this.createBackButton(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createQuestList(){const A=xt(),L=document.getElementById("quest-container");L&&L.remove(),this.questContainer=document.createElement("div"),this.questContainer.id="quest-container",this.questContainer.style.position="absolute",this.questContainer.style.left="50%",this.questContainer.style.top="50%",this.questContainer.style.transform="translate(-50%, -50%)",A?(this.questContainer.style.width="90%",this.questContainer.style.maxWidth="450px",this.questContainer.style.maxHeight="60vh",this.questContainer.style.fontSize=Et(14)):(this.questContainer.style.width="600px",this.questContainer.style.maxHeight="500px",this.questContainer.style.fontSize="16px"),this.questContainer.style.overflowY="auto",this.questContainer.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.questContainer.style.borderRadius="8px",this.questContainer.style.border="2px solid #34495e",this.questContainer.style.padding="20px",this.fetchQuests(),document.body.appendChild(this.questContainer)}fetchQuests(){if(!this.spacetimeDBClient||!this.spacetimeDBClient.isConnected){this.showErrorMessage("Not connected to the database");return}try{const A=this.spacetimeDBClient.sdkConnection;if(!A||!A.db){this.showErrorMessage("Database connection not available");return}const L=this.spacetimeDBClient.identity;if(!L){this.showErrorMessage("Player identity not available.");return}try{const F=[];for(const z of A.db.gameQuests.iter())z.accountIdentity&&z.accountIdentity.isEqual(L)&&F.push(z);this.displayQuests(F)}catch(F){console.error("Error getting player quests:",F),this.showErrorMessage("Error loading your quests.");return}}catch(A){console.error("Error fetching quests:",A),this.showErrorMessage("Error loading quests")}}getQuestFormPlaceholders(A){var z,p,x;let L=A.tag,F="Unknown";try{if((z=this.spacetimeDBClient)!=null&&z.identity&&((x=(p=this.spacetimeDBClient)==null?void 0:p.sdkConnection)!=null&&x.db)){const t=this.spacetimeDBClient.sdkConnection.db.account.identity.find(this.spacetimeDBClient.identity);t&&(F=t.name||"Unknown")}}catch(t){console.warn("Error getting quest form placeholders:",t)}return{placeholder1:L,placeholder2:F}}generateQuestFormUrl(A){const{placeholder1:L,placeholder2:F}=this.getQuestFormPlaceholders(A);return`https://docs.google.com/forms/d/e/1FAIpQLScWldQCHc1bOYu38-TjlpdEYUG5W2JroykkMNMHcXIZR-kJ-g/viewform?usp=pp_url&entry.760909957=${encodeURIComponent(L)}&entry.303033981=${encodeURIComponent(F)}`}displayQuests(A){this.questContainer.innerHTML="",[{type:fe.Til,titleKey:"quest.til.title",descriptionKey:"quest.til.description",rewardKey:"quest.til.reward"},{type:fe.Marc,titleKey:"quest.marc.title",descriptionKey:"quest.marc.description",rewardKey:"quest.marc.reward"},{type:fe.Max,titleKey:"quest.max.title",descriptionKey:"quest.max.description",rewardKey:"quest.max.reward"},{type:fe.Chris,titleKey:"quest.chris.title",descriptionKey:"quest.chris.description",rewardKey:"quest.chris.reward"},{type:fe.Reroll,titleKey:"quest.reroll.title",descriptionKey:"quest.reroll.description",rewardKey:"quest.reroll.reward"}].forEach(F=>{const z=A.find(s=>s.questTypeType&&s.questTypeType.tag===F.type.tag),p=z?z.isCompleted:!1,x=z?z.progress:0,t=z?z.maxProgress:1,h=F.type.tag==="Reroll",v=document.createElement("div");v.style.backgroundColor=p?"rgba(46, 204, 113, 0.2)":"rgba(52, 73, 94, 0.7)",v.style.margin="10px 0",v.style.padding=xt()?"12px":"15px",v.style.borderRadius="5px",v.style.border=p?"1px solid #2ecc71":"1px solid #2980b9",v.style.color="white",v.style.fontFamily="Arial",v.style.position="relative";const a=xt()?Et(18):"20px",r=xt()?Et(14):"16px";let n="";h&&t>1&&(n=`
                    <div style="height: 8px; background-color: rgba(0,0,0,0.3); border-radius: 4px; overflow: hidden; margin: 10px 0;">
                        <div style="height: 100%; width: ${Math.min(100,Math.floor(x/t*100))}%; background-color: ${p?"#2ecc71":"#3498db"}; 
                             transition: width 0.5s ease-in-out;"></div>
                    </div>
                    <p style="margin: 5px 0 0 0; color: #bdc3c7; font-size: ${xt()?Et(12):"14px"}; text-align: right;">
                        ${x} / ${t} monsters killed
                    </p>
                `);let e="";p?e=`
                    <div style="flex-shrink: 0; background-color: #2ecc71; 
                         width: 30px; height: 30px; border-radius: 50%; display: flex; 
                         align-items: center; justify-content: center; margin-top: 5px;">
                        <span style="color: white; font-size: 16px; font-weight: bold;"></span>
                    </div>
                `:h||(e=`
                    <div style="flex-shrink: 0; margin-top: 5px;">
                        <button onclick="window.open('${this.generateQuestFormUrl(F.type)}', '_blank')" 
                                style="background-color: #3498db; color: white; border: none; 
                                       border-radius: 4px; padding: 8px 12px; cursor: pointer;
                                       font-size: 12px; font-weight: bold; transition: background-color 0.2s;
                                       display: flex; align-items: center; gap: 4px;"
                                onmouseover="this.style.backgroundColor='#2980b9'"
                                onmouseout="this.style.backgroundColor='#3498db'">
                            <span style="font-size: 10px;">Upload </span>
                        </button>
                    </div>
                `),v.innerHTML=`
                <div style="display: flex; align-items: flex-start; gap: 15px;">
                    <div style="flex-grow: 1;">
                        <h3 style="margin: 0 0 10px 0; font-size: ${a}; color: ${p?"#2ecc71":"#3498db"};">
                            ${St.getText(F.titleKey)}
                        </h3>
                        <p style="margin: 0 0 10px 0; color: #ecf0f1; font-size: ${r};">
                            ${St.getText(F.descriptionKey)}
                        </p>
                        ${n}
                        <p style="margin: 0; color: ${p?"#2ecc71":"#f39c12"}; font-size: ${r}; font-weight: bold;">
                            ${p?"COMPLETED!":St.getText(F.rewardKey)}
                        </p>
                    </div>
                    ${e}
                </div>
            `,this.questContainer.appendChild(v)}),A.length===0&&(this.questContainer.innerHTML=`
                <div style="text-align: center; padding: 40px; color: #95a5a6;">
                    <p style="font-size: 18px; margin-bottom: 10px;">No quests found</p>
                    <p>Quests should be created when you first spawn. Try restarting the game.</p>
                </div>
            `)}showErrorMessage(A){this.questContainer.innerHTML=`
            <div style="text-align: center; padding: 40px; color: #e74c3c;">
                <p style="font-size: 18px; margin-bottom: 10px;"> Error</p>
                <p>${A}</p>
                <p style="font-size: 14px; margin-top: 20px; color: #bdc3c7;">
                    Try refreshing the page or reconnecting to the game.
                </p>
            </div>
        `}createBackButton(){const A=xt();this.backButton=document.createElement("button"),this.backButton.textContent=" Back",this.backButton.style.position="absolute",A?(this.backButton.style.bottom="20px",this.backButton.style.left="50%",this.backButton.style.transform="translateX(-50%)",this.backButton.style.top="auto",this.backButton.style.padding="12px 15px",this.backButton.style.fontSize=Et(16),this.backButton.style.minWidth="80px",this.backButton.style.minHeight="44px"):(this.backButton.style.bottom="40px",this.backButton.style.left="40px",this.backButton.style.top="auto",this.backButton.style.padding="10px 20px",this.backButton.style.fontSize="18px"),this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.transition="background-color 0.2s, border-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db",this.backButton.style.borderColor="#2980b9"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.borderColor="#34495e"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton)}handleResize(){this.createQuestList(),this.createBackButton();const{width:A,height:L}=this.scale,F=xt();this.children.list.forEach(z=>{z instanceof gt.GameObjects.Text&&z.text==="QUESTS"&&z.setFontSize(F?parseInt(Et(36)):48)})}cleanupHTMLElements(){this.questContainer&&this.questContainer.parentNode&&this.questContainer.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove()}shutdown(){this.events.off("shutdown",this.shutdown,this),this.scale.off("resize",this.handleResize),this.cleanupHTMLElements()}}const Po="vibesurvivors-with-friends",wo="ws://localhost:3000",Mo="wss://maincloud.spacetimedb.com";function dr(){return typeof window<"u"?window.location.hostname==="localhost"||window.location.port==="8080":!1}const fr=dr()?wo:Mo;console.log(`Environment: ${dr()?"Development":"Production"}`);console.log(`Using SpacetimeDB URI: ${fr}`);class bo{constructor(E,A,L){K(this,"sdkConnection",null);K(this,"identity",null);K(this,"onSubscriptionApplied",null);K(this,"onConnect",null);K(this,"onDisconnect",null);K(this,"gameEvents");console.log("Initializing SpacetimeDBClient and preparing connection..."),this.gameEvents=window.gameEvents,this.onSubscriptionApplied=E||null,this.onConnect=A||null,this.onDisconnect=L||null,ur.builder().withUri(fr).withModuleName(Po).withToken(localStorage.getItem("auth_token")||"").onConnect(this.handleConnect.bind(this)).onDisconnect(this.handleDisconnect.bind(this)).onConnectError(this.handleConnectError.bind(this)).build(),console.log("Connection attempt initiated.")}disconnect(){console.log("Disconnecting from SpacetimeDB..."),this.sdkConnection?this.sdkConnection.disconnect():console.warn("Attempted to disconnect before connection was established."),this.sdkConnection=null,this.identity=null}handleConnect(E,A,L){var F;console.log("Successfully connected to SpacetimeDB."),this.sdkConnection=E,this.identity=A,console.log("Local Identity:",(F=this.identity)==null?void 0:F.toHexString()),localStorage.setItem("auth_token",L),console.log("Subscribing to relevant tables..."),this.sdkConnection.subscriptionBuilder().onApplied(this.handleSubscriptionApplied.bind(this)).onError(this.handleSubscriptionError.bind(this)).subscribe(["SELECT * FROM account","SELECT * FROM world","SELECT * FROM player","SELECT * FROM dead_players","SELECT * FROM entity","SELECT * FROM monsters","SELECT * FROM active_attacks","SELECT * FROM active_boss_attacks","SELECT * FROM attack_data","SELECT * FROM gems","SELECT * FROM upgrade_options","SELECT * FROM chosen_upgrades","SELECT * FROM monster_spawners","SELECT * FROM game_state","SELECT * FROM boss_spawn_timer","SELECT * FROM boss_attack_timer","SELECT * FROM player_poison_effect","SELECT * FROM achievements","SELECT * FROM bestiary","SELECT * FROM game_quests"]),this.registerTableCallbacks(E),this.onConnect&&this.onConnect(E,A,L)}registerTableCallbacks(E){E.db.player&&(E.db.player.onInsert((A,L)=>{this.gameEvents.emit(it.PLAYER_CREATED,A,L)}),E.db.player.onUpdate((A,L,F)=>{this.gameEvents.emit(it.PLAYER_UPDATED,A,L,F)}),E.db.player.onDelete((A,L)=>{this.gameEvents.emit(it.PLAYER_DELETED,A,L)})),E.db.entity&&(E.db.entity.onInsert((A,L)=>{this.gameEvents.emit(it.ENTITY_CREATED,A,L)}),E.db.entity.onUpdate((A,L,F)=>{this.gameEvents.emit(it.ENTITY_UPDATED,A,L,F)}),E.db.entity.onDelete((A,L)=>{this.gameEvents.emit(it.ENTITY_DELETED,A,L)})),E.db.monsters&&(E.db.monsters.onInsert((A,L)=>{this.gameEvents.emit(it.MONSTER_CREATED,A,L)}),E.db.monsters.onUpdate((A,L,F)=>{this.gameEvents.emit(it.MONSTER_UPDATED,A,L,F)}),E.db.monsters.onDelete((A,L)=>{this.gameEvents.emit(it.MONSTER_DELETED,A,L)})),E.db.gameState&&E.db.gameState.onUpdate((A,L,F)=>{this.gameEvents.emit(it.GAME_STATE_UPDATED,A,L,F)}),E.db.bossSpawnTimer&&(E.db.bossSpawnTimer.onInsert((A,L)=>{this.gameEvents.emit(it.BOSS_SPAWN_TIMER_CREATED,A,L)}),E.db.bossSpawnTimer.onDelete((A,L)=>{this.gameEvents.emit(it.BOSS_SPAWN_TIMER_DELETED,A,L)})),E.db.activeAttacks&&(E.db.activeAttacks.onInsert((A,L)=>{this.gameEvents.emit(it.ATTACK_CREATED,A,L)}),E.db.activeAttacks.onUpdate((A,L,F)=>{this.gameEvents.emit(it.ATTACK_UPDATED,A,L,F)}),E.db.activeAttacks.onDelete((A,L)=>{this.gameEvents.emit(it.ATTACK_DELETED,A,L)})),E.db.activeBossAttacks&&(E.db.activeBossAttacks.onInsert((A,L)=>{this.gameEvents.emit(it.BOSS_ATTACK_CREATED,A,L)}),E.db.activeBossAttacks.onUpdate((A,L,F)=>{this.gameEvents.emit(it.BOSS_ATTACK_UPDATED,A,L,F)}),E.db.activeBossAttacks.onDelete((A,L)=>{this.gameEvents.emit(it.BOSS_ATTACK_DELETED,A,L)}));try{E.db.gems&&(E.db.gems.onInsert((A,L)=>{this.gameEvents.emit(it.GEM_CREATED,A,L)}),E.db.gems.onUpdate((A,L,F)=>{this.gameEvents.emit(it.GEM_UPDATED,A,L,F)}),E.db.gems.onDelete((A,L)=>{this.gameEvents.emit(it.GEM_DELETED,A,L)}),console.log("Registered gem event handlers successfully"))}catch(A){console.warn("Could not register gem event handlers - the gems table might not be in current bindings yet:",A)}E.db.world&&E.db.world.onUpdate((A,L,F)=>{F.tickCount%50==0&&console.log("Game tick:",F.tickCount)}),E.db.attackData&&(E.db.attackData.onInsert((A,L)=>{this.gameEvents.emit(it.ATTACK_DATA_CREATED,A,L)}),E.db.attackData.onUpdate((A,L,F)=>{this.gameEvents.emit(it.ATTACK_DATA_UPDATED,A,L,F)})),E.db.activeAttackCleanup&&(E.db.activeAttackCleanup.onInsert((A,L)=>{this.gameEvents.emit(it.ACTIVE_ATTACK_CLEANUP_CREATED,A,L)}),E.db.activeAttackCleanup.onDelete((A,L)=>{this.gameEvents.emit(it.ACTIVE_ATTACK_CLEANUP_DELETED,A,L)})),E.db.activeBossAttackCleanup&&(E.db.activeBossAttackCleanup.onInsert((A,L)=>{this.gameEvents.emit(it.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED,A,L)}),E.db.activeBossAttackCleanup.onDelete((A,L)=>{this.gameEvents.emit(it.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED,A,L)}))}handleSubscriptionApplied(E){console.log("SpacetimeDB subscription applied callback triggered."),this.onSubscriptionApplied&&this.onSubscriptionApplied(E)}handleSubscriptionError(E){console.error("SpacetimeDB Subscription Error Context:",E);const A=E.error;A?console.error("SpacetimeDB Subscription Error:",A):console.error("SpacetimeDB Subscription Error: (Could not extract specific error from context)")}handleDisconnect(E,A){console.warn("Disconnected from SpacetimeDB."),A&&console.error("Disconnect Error:",A),this.sdkConnection=null,this.identity=null,this.onDisconnect&&this.onDisconnect(E,A)}handleConnectError(E,A){console.error("SpacetimeDB Connection Error:",A),this.sdkConnection=null,this.identity=null,this.onDisconnect&&this.onDisconnect(E,A)}get isConnected(){return this.sdkConnection!==null&&this.identity!==null}}class Fo extends gt.Scene{constructor(){super({key:"PrologScene"});K(this,"storyIndex",0);K(this,"isTyping",!1);K(this,"typingTimer");K(this,"onComplete");K(this,"background");K(this,"container");K(this,"textBox");K(this,"storyText");K(this,"nextIndicator");K(this,"languageSelector");K(this,"indicatorTween");K(this,"isSkipping",!1);K(this,"storyKeys",["story.intro.1","story.intro.2","story.intro.3","story.intro.4","story.intro.5","story.intro.6","story.intro.7"])}init(A){this.onComplete=A.onComplete}async preload(){this.load.image("scene_1","assets/scene_1.png"),this.load.image("scene_2","assets/scene_2.png"),this.load.image("scene_3","assets/scene_3.png")}createLanguageSelector(){const A=document.createElement("select");A.style.position="absolute",A.style.top="20px",A.style.right="20px",A.style.padding="8px",A.style.fontFamily="Arial",A.style.fontSize="16px",A.style.backgroundColor="#2c3e50",A.style.color="white",A.style.border="2px solid #34495e",A.style.borderRadius="5px",A.style.cursor="pointer",A.style.zIndex="1000",[{code:"en",name:"English"},{code:"de",name:"Deutsch"}].forEach(F=>{const z=document.createElement("option");z.value=F.code,z.textContent=F.name,A.appendChild(z)}),A.value=St.getLanguage(),A.addEventListener("change",F=>{const z=F.target;St.setLanguage(z.value),this.typingTimer&&this.typingTimer.remove(),this.isTyping=!1,this.isSkipping=!1;const p=this.storyKeys[this.storyIndex],x=St.getText(p);this.storyText.setText(x),this.nextIndicator.visible=!0}),document.body.appendChild(A),this.languageSelector=A}cleanupHTMLElements(){console.log("PrologScene: Cleaning up HTML elements");try{const A=document.getElementById("class-select-container");A&&A.parentNode&&(console.log("Removing class select container"),A.remove()),document.querySelectorAll(".class-select-button").forEach(z=>{z&&z.parentNode&&(console.log("Removing class select button"),z.remove())}),document.querySelectorAll("button").forEach(z=>{const p=z.textContent;p&&(p.includes("Confirm Selection")||p.includes("Set Name")||p.includes("Quests"))&&z&&z.parentNode&&(console.log("Removing button:",p),z.remove())});const L=document.getElementById("login-name-input");L&&L.parentNode&&(console.log("Removing login input"),L.remove());const F=document.getElementById("class-info-panel");F&&F.parentNode&&(console.log("Removing info panel"),F.remove()),document.querySelectorAll("button").forEach(z=>{var p;(p=z.textContent)!=null&&p.includes(" Quests")&&z&&z.parentNode&&(console.log("Removing quest button"),z.remove())}),this.languageSelector&&this.languageSelector.parentNode&&this.languageSelector.remove(),console.log("PrologScene HTML elements cleaned up successfully")}catch(A){console.error("Error in PrologScene cleanupHTMLElements:",A)}}create(){var x,t;this.cleanupHTMLElements(),this.cameras.main.setBackgroundColor("#000000");const{width:A,height:L}=this.scale;this.background=this.add.image(A*.5,L*.5,"scene_1").setOrigin(.5).setAlpha(0);const F=A/this.background.width,z=L/this.background.height,p=Math.min(F,z);this.background.setScale(p),this.createDialogBox(),this.createLanguageSelector(),(x=this.input.keyboard)==null||x.on("keydown-ENTER",()=>this.handleNext()),(t=this.input.keyboard)==null||t.on("keydown-SPACE",()=>this.handleNext()),this.input.on("pointerdown",()=>this.handleNext()),this.displayNextText(),this.updateBackground()}createDialogBox(){const{width:A,height:L}=this.scale,F=xt();this.container=this.add.container(0,0);const z=F?12:25,x=parseInt(Et(F?16:24).replace("px","")),t=F?A*.9:A*.85,h=this.add.text(0,0,St.getText(this.storyKeys[this.storyIndex]),{fontFamily:'"Trebuchet MS", "Arial", sans-serif',fontSize:`${x}px`,color:"#ffffff",wordWrap:{width:t-z*2},lineSpacing:F?3:8});let v=h.height+z*2;const a=F?L*.15:L*.18,r=F?L*.25:L*.28,n=Math.max(a,Math.min(r,v));h.destroy();const e=L-n*.65,s=A*.5,o=F?8:16;this.textBox=this.add.graphics(),this.textBox.fillStyle(1714498,.85),this.textBox.fillRoundedRect(s-t/2,e-n/2,t,n,o),this.container.add(this.textBox);const i=this.add.graphics();i.lineStyle(3,16777215,.4),i.strokeRoundedRect(s-t/2+3,e-n/2+3,t-6,n-6,o-2),this.container.add(i),this.storyText=this.add.text(s-t/2+z,e-n/2+z,"",{fontFamily:'"Trebuchet MS", "Arial", sans-serif',fontSize:`${x}px`,color:"#ffffff",wordWrap:{width:t-z*2},lineSpacing:F?3:8}),this.container.add(this.storyText),this.nextIndicator=this.add.text(s+t/2-z,e+n/2-z,"",{fontFamily:"Arial",fontSize:`${Math.floor(x*(F?1:1.2))}px`,color:"#ffffff"}).setOrigin(1,1),this.container.add(this.nextIndicator),this.indicatorTween=this.tweens.add({targets:this.nextIndicator,y:"+=5",duration:800,yoyo:!0,repeat:-1}),this.nextIndicator.visible=!1}updateBackground(){let A="scene_1";this.storyIndex>=3&&this.storyIndex<=4?A="scene_2":this.storyIndex>=5&&(A="scene_3"),this.tweens.add({targets:this.background,alpha:0,duration:300,onComplete:()=>{if(this.background.setTexture(A),A==="scene_2"){this.background.setRotation(-Math.PI/2);const{width:L,height:F}=this.scale,z=F/this.background.width,p=L/this.background.height,x=Math.min(z,p);this.background.setScale(x)}else{this.background.setRotation(0);const{width:L,height:F}=this.scale,z=L/this.background.width,p=F/this.background.height,x=Math.min(z,p);this.background.setScale(x)}this.tweens.add({targets:this.background,alpha:1,duration:300})}})}displayNextText(){const A=this.storyKeys[this.storyIndex],L=St.getText(A);if(!L){console.error(`Translation missing for key: ${A}`),this.storyText.setText("Translation missing for: "+A),this.nextIndicator.visible=!0;return}this.container&&(this.container.removeAll(!0),this.createDialogBox()),this.isTyping=!0,this.isSkipping=!1,this.nextIndicator.visible=!1,this.storyText.setText("");const F=xt()?30:40,z=Math.max(10,F-L.length/100);let p=0;this.typingTimer=this.time.addEvent({delay:z,callback:()=>{p<L.length&&(this.storyText.text+=L[p],p++),p>=L.length&&(this.isTyping=!1,this.nextIndicator.visible=!0)},repeat:L.length-1})}handleNext(){if(this.isTyping&&!this.isSkipping){this.isSkipping=!0,this.typingTimer&&this.typingTimer.remove();const A=this.storyKeys[this.storyIndex];this.storyText.setText(St.getText(A)),this.isTyping=!1,this.nextIndicator.visible=!0}else if(!this.isTyping){const A=this.storyIndex;this.storyIndex++,this.storyIndex<this.storyKeys.length?((A<3&&this.storyIndex>=3||A<5&&this.storyIndex>=5)&&this.updateBackground(),this.displayNextText()):(this.cleanupHTMLElements(),this.scene.start("ClassSelectScene"))}}resize(){if(this.container&&(this.container.removeAll(!0),this.createDialogBox(),this.storyIndex<this.storyKeys.length)){const A=this.storyKeys[this.storyIndex],L=St.getText(A);this.isTyping?this.displayNextText():(this.storyText.setText(L),this.nextIndicator.visible=!0)}}shutdown(){var A,L;(A=this.input.keyboard)==null||A.off("keydown-ENTER"),(L=this.input.keyboard)==null||L.off("keydown-SPACE"),this.input.off("pointerdown"),this.indicatorTween&&this.indicatorTween.stop(),this.cleanupHTMLElements()}}class Ro extends gt.Scene{constructor(){super("BestaryScene");K(this,"spacetimeDBClient");K(this,"titleText");K(this,"descriptionText");K(this,"monstersList");K(this,"monsterDetailsPanel");K(this,"backButton");K(this,"commonMonstersTab");K(this,"bossesTab");K(this,"phaseToggleButton");K(this,"selectedMonster",null);K(this,"selectedMonsterPhase",1);K(this,"currentTab","common");K(this,"monsterImageMapping",{Rat:"monster_rat.png",Slime:"monster_slime.png",Orc:"monster_orc.png",Wolf:"monster_wolf.png",Worm:"monster_worm.png",Scorpion:"monster_scorpion.png",FinalBossPhase1:"final_boss_phase_1.png",FinalBossPhase2:"final_boss_phase_2.png",FinalBossJorgePhase1:"final_boss_jorge_phase_1.png",FinalBossJorgePhase2:"final_boss_jorge_phase_2.png",FinalBossBjornPhase1:"final_boss_phase_bjrn_1.png",FinalBossBjornPhase2:"final_boss_phase_bjrn_2.png",FinalBossSimonPhase1:"final_boss_simon_phase_1.png",FinalBossSimonPhase2:"final_boss_simon_phase_2.png"});this.spacetimeDBClient=window.spacetimeDBClient}init(){}preload(){this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_wolf","assets/monster_wolf.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("final_boss_jorge_phase_1","assets/final_boss_jorge_phase_1.png"),this.load.image("final_boss_jorge_phase_2","assets/final_boss_jorge_phase_2.png"),this.load.image("final_boss_phase_bjorn_1","assets/final_boss_phase_bjrn_1.png"),this.load.image("final_boss_phase_bjorn_2","assets/final_boss_phase_bjrn_2.png"),this.load.image("final_boss_simon_phase_1","assets/final_boss_simon_phase_1.png"),this.load.image("final_boss_simon_phase_2","assets/final_boss_simon_phase_2.png")}create(){const A=this.cameras.main.width,L=this.cameras.main.height;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(A/2,L/2,"title_bg").setDisplaySize(A,L).setDepth(0)}catch(F){console.error("Error loading background:",F)}this.titleText=this.add.text(A/2,60,St.getText("ui.bestiary.title"),{fontFamily:"Arial Black",fontSize:"36px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.descriptionText=this.add.text(A/2,110,St.getText("ui.bestiary.description"),{fontFamily:"Arial",fontSize:"18px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:2,wordWrap:{width:A*.8}}).setOrigin(.5),this.createTabButtons(),this.createMonstersList(),this.createMonsterDetailsPanel(),this.createPhaseToggleButton(),this.createBackButton(),this.positionHTMLElements(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createMonstersList(){const A=document.getElementById("bestiary-monsters-list");A&&A.remove(),this.monstersList=document.createElement("div"),this.monstersList.id="bestiary-monsters-list",this.monstersList.style.position="absolute",this.monstersList.style.overflow="auto",this.monstersList.style.width="220px",this.monstersList.style.maxHeight="500px",this.monstersList.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.monstersList.style.border="2px solid #34495e",this.monstersList.style.borderRadius="8px",this.monstersList.style.padding="10px";const L=xt();let F=[];this.currentTab==="common"?F=[kt.Rat,kt.Slime,kt.Orc,kt.Wolf,kt.Worm,kt.Scorpion]:F=[kt.FinalBossJorgePhase1,kt.FinalBossBjornPhase1,kt.FinalBossSimonPhase1],F.forEach(z=>{const p=document.createElement("button");p.className="bestiary-monster-button",p.setAttribute("data-monster-type",z.toString()),p.style.display="flex",p.style.alignItems="center",p.style.width="100%",p.style.padding="8px",p.style.marginBottom="5px",p.style.backgroundColor="#2c3e50",p.style.border="1px solid #34495e",p.style.borderRadius="4px",p.style.cursor="pointer",p.style.color="white",p.style.textAlign="left",p.style.transition="background-color 0.2s";try{const t=this.monsterImageMapping[z.tag];if(t){const h=document.createElement("img");h.src="assets/"+t,h.style.width="40px",h.style.height="40px",h.style.marginRight="10px",h.style.objectFit="contain",p.appendChild(h)}}catch(t){console.error(`Error adding icon for monster type ${z.tag}:`,t)}const x=document.createElement("span");x.textContent=St.getText(`bestiary.monster.${z.tag}.name`),p.appendChild(x),p.addEventListener("click",()=>{this.selectMonster(z),document.querySelectorAll(".bestiary-monster-button").forEach(t=>{t.style.backgroundColor="#2c3e50"}),p.style.backgroundColor="#3498db",L&&this.showMonsterDetailsModal()}),p.addEventListener("mouseover",()=>{this.selectedMonster!==z&&(p.style.backgroundColor="#34495e")}),p.addEventListener("mouseout",()=>{this.selectedMonster!==z&&(p.style.backgroundColor="#2c3e50")}),this.monstersList.appendChild(p)}),document.body.appendChild(this.monstersList)}createMonsterDetailsPanel(){const A=document.getElementById("bestiary-details-panel");A&&A.remove();const L=xt();if(this.monsterDetailsPanel=document.createElement("div"),this.monsterDetailsPanel.id="bestiary-details-panel",this.monsterDetailsPanel.style.position="absolute",this.monsterDetailsPanel.style.width="450px",this.monsterDetailsPanel.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.monsterDetailsPanel.style.border="2px solid #34495e",this.monsterDetailsPanel.style.borderRadius="8px",this.monsterDetailsPanel.style.padding="20px",this.monsterDetailsPanel.style.color="white",this.monsterDetailsPanel.style.display="none",this.monsterDetailsPanel.innerHTML=`
            <div style="text-align: center; padding: 40px 0;">
                <p style="color: #95a5a6; font-style: italic;">
                    ${St.getText("ui.bestiary.select_monster")}
                </p>
            </div>
        `,document.body.appendChild(this.monsterDetailsPanel),L){const F=document.createElement("div");F.id="bestiary-modal-overlay",F.style.position="fixed",F.style.top="0",F.style.left="0",F.style.width="100%",F.style.height="100%",F.style.backgroundColor="rgba(0, 0, 0, 0.7)",F.style.zIndex="1000",F.style.display="none",F.addEventListener("click",z=>{z.target===F&&this.hideMonsterDetailsModal()}),document.body.appendChild(F)}}showMonsterDetailsModal(){if(!xt())return;const A=document.getElementById("bestiary-modal-overlay");if(A&&(this.monsterDetailsPanel.style.left="50%",this.monsterDetailsPanel.style.top="50%",this.monsterDetailsPanel.style.transform="translate(-50%, -50%)",this.monsterDetailsPanel.style.zIndex="1001",this.monsterDetailsPanel.style.width="85%",this.monsterDetailsPanel.style.maxWidth="380px",this.monsterDetailsPanel.style.maxHeight="80%",this.monsterDetailsPanel.style.overflowY="auto",this.monsterDetailsPanel.style.position="fixed",A.style.display="block",this.monsterDetailsPanel.style.display="block",this.currentTab==="bosses"&&this.phaseToggleButton)){const L=this.monsterDetailsPanel.getBoundingClientRect();this.phaseToggleButton.style.position="fixed",this.phaseToggleButton.style.top=`${L.top+10}px`,this.phaseToggleButton.style.right=`${window.innerWidth-L.right+10}px`,this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.zIndex="1002",this.phaseToggleButton.style.display="block"}}hideMonsterDetailsModal(){if(!xt())return;const A=document.getElementById("bestiary-modal-overlay");A&&(A.style.display="none"),this.monsterDetailsPanel&&(this.monsterDetailsPanel.style.display="none"),this.phaseToggleButton&&(this.phaseToggleButton.style.display="none")}selectMonster(A){if(this.selectedMonster=A,this.monsterDetailsPanel.style.display="block",this.updateMonsterDisplay(A),this.currentTab==="bosses"){if(this.phaseToggleButton.style.display="block",this.phaseToggleButton.textContent=this.selectedMonsterPhase===1?"Show Phase 2":"Show Phase 1",xt()){const L=this.monsterDetailsPanel.getBoundingClientRect();this.phaseToggleButton.style.position="fixed",this.phaseToggleButton.style.top=`${L.top+10}px`,this.phaseToggleButton.style.right=`${window.innerWidth-L.right+10}px`,this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.zIndex="1002"}}else this.phaseToggleButton.style.display="none"}shutdown(){console.log("BestaryScene shutdown called"),this.monstersList&&this.monstersList.parentNode&&this.monstersList.remove(),this.monsterDetailsPanel&&this.monsterDetailsPanel.parentNode&&this.monsterDetailsPanel.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove(),this.commonMonstersTab&&this.commonMonstersTab.parentNode&&this.commonMonstersTab.remove(),this.bossesTab&&this.bossesTab.parentNode&&this.bossesTab.remove(),this.phaseToggleButton&&this.phaseToggleButton.parentNode&&this.phaseToggleButton.remove();const A=document.getElementById("bestiary-monsters-list");A&&A.parentNode&&A.remove();const L=document.getElementById("bestiary-details-panel");L&&L.parentNode&&L.remove();const F=document.getElementById("bestiary-back-button");F&&F.parentNode&&F.remove();const z=document.getElementById("bestiary-tabs-container");z&&z.parentNode&&z.remove();const p=document.getElementById("bestiary-phase-toggle");p&&p.parentNode&&p.remove(),this.scale.off("resize",this.handleResize)}createTabButtons(){const A=document.getElementById("bestiary-common-tab");A&&A.remove();const L=document.getElementById("bestiary-bosses-tab");L&&L.remove();const F=document.createElement("div");F.id="bestiary-tabs-container",F.style.position="absolute",F.style.display="flex",F.style.gap="5px",F.style.justifyContent="center",F.style.width="700px",this.commonMonstersTab=document.createElement("button"),this.commonMonstersTab.id="bestiary-common-tab",this.commonMonstersTab.textContent=St.getText("bestiary.category.common"),this.commonMonstersTab.style.padding="12px 25px",this.commonMonstersTab.style.backgroundColor="#3498db",this.commonMonstersTab.style.color="white",this.commonMonstersTab.style.border="2px solid #34495e",this.commonMonstersTab.style.borderRadius="5px 5px 0 0",this.commonMonstersTab.style.cursor="pointer",this.commonMonstersTab.style.fontSize="16px",this.commonMonstersTab.style.fontWeight="bold",this.commonMonstersTab.style.width="50%",this.commonMonstersTab.style.textAlign="center",this.bossesTab=document.createElement("button"),this.bossesTab.id="bestiary-bosses-tab",this.bossesTab.textContent=St.getText("bestiary.category.bosses"),this.bossesTab.style.padding="12px 25px",this.bossesTab.style.backgroundColor="#2c3e50",this.bossesTab.style.color="white",this.bossesTab.style.border="2px solid #34495e",this.bossesTab.style.borderRadius="5px 5px 0 0",this.bossesTab.style.cursor="pointer",this.bossesTab.style.fontSize="16px",this.bossesTab.style.fontWeight="bold",this.bossesTab.style.width="50%",this.bossesTab.style.textAlign="center",this.commonMonstersTab.addEventListener("click",()=>{this.currentTab!=="common"&&(this.currentTab="common",this.updateTabAppearance(),this.refreshMonstersList(),this.phaseToggleButton.style.display="none")}),this.bossesTab.addEventListener("click",()=>{this.currentTab!=="bosses"&&(this.currentTab="bosses",this.updateTabAppearance(),this.refreshMonstersList())}),F.appendChild(this.commonMonstersTab),F.appendChild(this.bossesTab),document.body.appendChild(F);const z=this.cameras.main.width,p=this.cameras.main.height,t=220+30+450,h=(z-t)/2;F.style.left=`${h}px`,F.style.top=`${p*.2-this.commonMonstersTab.offsetHeight}px`}updateTabAppearance(){this.currentTab==="common"?(this.commonMonstersTab.style.backgroundColor="#3498db",this.bossesTab.style.backgroundColor="#2c3e50"):(this.commonMonstersTab.style.backgroundColor="#2c3e50",this.bossesTab.style.backgroundColor="#3498db")}refreshMonstersList(){this.selectedMonster=null,this.selectedMonsterPhase=1,this.monsterDetailsPanel.style.display="none",this.createMonstersList(),this.positionHTMLElements()}createPhaseToggleButton(){const A=document.getElementById("bestiary-phase-toggle");A&&A.remove(),this.phaseToggleButton=document.createElement("button"),this.phaseToggleButton.id="bestiary-phase-toggle",this.phaseToggleButton.textContent="Show Phase 2",this.phaseToggleButton.style.position="absolute",this.phaseToggleButton.style.padding="8px 12px",this.phaseToggleButton.style.backgroundColor="#e67e22",this.phaseToggleButton.style.color="white",this.phaseToggleButton.style.border="2px solid #d35400",this.phaseToggleButton.style.borderRadius="4px",this.phaseToggleButton.style.cursor="pointer",this.phaseToggleButton.style.fontSize="14px",this.phaseToggleButton.style.fontWeight="bold",this.phaseToggleButton.style.display="none",this.phaseToggleButton.addEventListener("mouseover",()=>{this.phaseToggleButton.style.backgroundColor="#d35400"}),this.phaseToggleButton.addEventListener("mouseout",()=>{this.phaseToggleButton.style.backgroundColor="#e67e22"}),this.phaseToggleButton.addEventListener("click",()=>{this.toggleBossPhase()}),document.body.appendChild(this.phaseToggleButton)}toggleBossPhase(){if(!this.selectedMonster||this.currentTab!=="bosses")return;this.selectedMonsterPhase=this.selectedMonsterPhase===1?2:1,this.phaseToggleButton.textContent=this.selectedMonsterPhase===1?"Show Phase 2":"Show Phase 1";const L=`${this.selectedMonster.tag.replace("Phase1","").replace("Phase2","")}Phase${this.selectedMonsterPhase}`;let F=null;for(const z in kt)if(typeof kt[z]=="object"&&kt[z].tag===L){F=kt[z];break}F?this.updateMonsterDisplay(F):console.error(`Could not find MonsterType for tag: ${L}`)}updateMonsterDisplay(A){const L=St.getText(`bestiary.monster.${A.tag}.name`),F=St.getText(`bestiary.monster.${A.tag}.description`),z=St.getText(`bestiary.monster.${A.tag}.tips`),p=this.monsterImageMapping[A.tag],x=this.getMonsterStats(A.tag),t=this.currentTab==="bosses"?`<div style="color: #e67e22; font-weight: bold; margin-top: 5px;">Phase ${this.selectedMonsterPhase}</div>`:"";xt()?this.monsterDetailsPanel.innerHTML=`
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 5px;">
                        <div>
                            <h2 style="margin: 0; font-size: 20px; color: #3498db;">${L}</h2>
                            ${t}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 5px;">
                        <div style="flex-shrink: 0; width: 70px; height: 70px; display: flex; align-items: center; justify-content: center; background-color: rgba(0, 0, 0, 0.3); border-radius: 4px;">
                            <img src="assets/${p}" style="max-width: 60px; max-height: 60px; object-fit: contain;" alt="${L}">
                        </div>
                        
                        <div style="flex-grow: 1;">
                            <p style="margin: 0; line-height: 1.3; font-size: ${Et(13)};">${F}</p>
                        </div>
                    </div>
                    
                    <div style="background-color: rgba(0, 0, 0, 0.2); border-radius: 4px; padding: 8px; margin-bottom: 5px;">
                        <h3 style="margin: 0 0 5px 0; font-size: 16px; color: #f39c12;">Stats</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px;">
                            <div>
                                <div style="color: #e74c3c; font-weight: bold; font-size: ${Et(12)};">HP</div>
                                <div style="font-size: ${Et(12)};">${x.hp}</div>
                            </div>
                            <div>
                                <div style="color: #3498db; font-weight: bold; font-size: ${Et(12)};">Speed</div>
                                <div style="font-size: ${Et(12)};">${x.speed}</div>
                            </div>
                            <div>
                                <div style="color: #e67e22; font-weight: bold; font-size: ${Et(12)};">Damage</div>
                                <div style="font-size: ${Et(12)};">${x.damage}</div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; margin-top: 5px;">
                            <div>
                                <div style="color: #9b59b6; font-weight: bold; font-size: ${Et(12)};">Size</div>
                                <div style="font-size: ${Et(12)};">${x.radius}</div>
                            </div>
                            <div>
                                <div style="color: #2ecc71; font-weight: bold; font-size: ${Et(12)};">XP Value</div>
                                <div style="font-size: ${Et(12)};">${x.exp}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="margin: 0 0 5px 0; font-size: 16px; color: #2ecc71;">Tips</h3>
                        <div style="white-space: pre-line; line-height: 1.3; font-size: ${Et(12)};">${z}</div>
                    </div>
                </div>
            `:this.monsterDetailsPanel.innerHTML=`
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                        <div>
                            <h2 style="margin: 0; font-size: 24px; color: #3498db;">${L}</h2>
                            ${t}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 20px; margin-bottom: 15px;">
                        <div style="flex-shrink: 0; width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; background-color: rgba(0, 0, 0, 0.3); border-radius: 4px;">
                            <img src="assets/${p}" style="max-width: 100px; max-height: 100px; object-fit: contain;" alt="${L}">
                        </div>
                        
                        <div style="flex-grow: 1;">
                            <p style="margin: 0 0 15px 0; line-height: 1.5;">${F}</p>
                        </div>
                    </div>
                    
                    <div style="background-color: rgba(0, 0, 0, 0.2); border-radius: 4px; padding: 15px; margin-bottom: 15px;">
                        <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #f39c12;">Stats</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 10px;">
                            <div>
                                <div style="color: #e74c3c; font-weight: bold;">HP</div>
                                <div>${x.hp}</div>
                            </div>
                            <div>
                                <div style="color: #3498db; font-weight: bold;">Speed</div>
                                <div>${x.speed}</div>
                            </div>
                            <div>
                                <div style="color: #e67e22; font-weight: bold;">Damage</div>
                                <div>${x.damage}</div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <div>
                                <div style="color: #9b59b6; font-weight: bold;">Size</div>
                                <div>${x.radius}</div>
                            </div>
                            <div>
                                <div style="color: #2ecc71; font-weight: bold;">XP Value</div>
                                <div>${x.exp}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #2ecc71;">Tips</h3>
                        <div style="white-space: pre-line; line-height: 1.5;">${z}</div>
                    </div>
                </div>
            `}getMonsterStats(A){const L=this.spacetimeDBClient.sdkConnection;(!L||!L.db)&&console.error("Database connection not available");for(const F of L.db.bestiary.iter())if(F.monsterType.tag===A)return{hp:F.maxHp,speed:F.speed,damage:this.roundToOneDecimal(F.atk),radius:F.radius,exp:F.exp};return{hp:0,speed:0,damage:0,radius:0,exp:0}}roundToOneDecimal(A){return Math.round(A*10)/10}createBackButton(){const A=document.getElementById("bestiary-back-button");A&&A.remove(),this.backButton=document.createElement("button"),this.backButton.id="bestiary-back-button",this.backButton.textContent=" Back",this.backButton.style.position="absolute",this.backButton.style.padding="10px 20px",this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.fontSize="18px",this.backButton.style.transition="background-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton),xt()&&(this.backButton.style.padding="12px 20px",this.backButton.style.fontSize=Et(16),this.backButton.style.minWidth="80px",this.backButton.style.minHeight="44px")}positionHTMLElements(){const A=this.cameras.main.width,L=this.cameras.main.height;if(xt()){this.titleText.setFontSize(parseInt(Et(36))),this.descriptionText.setFontSize(parseInt(Et(16)));const z=document.getElementById("bestiary-tabs-container");if(z&&(z.style.left="50%",z.style.top=`${L*.2}px`,z.style.width="90%",z.style.transform="translateX(-50%)",this.commonMonstersTab&&this.bossesTab&&(this.commonMonstersTab.style.padding="15px 10px",this.bossesTab.style.padding="15px 10px",this.commonMonstersTab.style.fontSize=Et(16),this.bossesTab.style.fontSize=Et(16))),this.monstersList.style.left="50%",this.monstersList.style.top=`${L*.28}px`,this.monstersList.style.width="90%",this.monstersList.style.maxWidth="400px",this.monstersList.style.maxHeight="400px",this.monstersList.style.transform="translateX(-50%)",this.monsterDetailsPanel.style.left="50%",this.monsterDetailsPanel.style.top=`${L*.28+320}px`,this.monsterDetailsPanel.style.transform="translateX(-50%)",this.monsterDetailsPanel.style.width="90%",this.monsterDetailsPanel.style.maxWidth="350px",this.monsterDetailsPanel.style.maxHeight=`${L*.4}px`,this.monsterDetailsPanel.style.overflowY="auto",this.monsterDetailsPanel.style.padding="15px",this.selectedMonster&&this.updateMonsterDisplay(this.selectedMonster),this.backButton.style.left="50%",this.backButton.style.bottom="20px",this.backButton.style.transform="translateX(-50%)",this.backButton.style.top="auto",this.backButton.style.fontSize=Et(16),this.backButton.style.padding="12px 25px",this.monsterDetailsPanel&&this.monsterDetailsPanel.style.display!=="none"){const p=this.monsterDetailsPanel.getBoundingClientRect();this.phaseToggleButton.style.position="fixed",this.phaseToggleButton.style.top=`${p.top+10}px`,this.phaseToggleButton.style.right=`${window.innerWidth-p.right+10}px`,this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.zIndex="1002"}else this.phaseToggleButton.style.right="5%",this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.top=`${L*.28+170}px`;this.phaseToggleButton.style.fontSize=Et(14),this.phaseToggleButton.style.padding="10px 15px"}else{const x=(A-700)/2,t=document.getElementById("bestiary-tabs-container");t&&(t.style.left=`${x}px`,t.style.top=`${L*.2-48}px`,t.style.width="700px"),this.monstersList.style.left=`${x}px`,this.monstersList.style.top=`${L*.2}px`,this.monsterDetailsPanel.style.left=`${x+220+30}px`,this.monsterDetailsPanel.style.top=`${L*.2}px`,this.backButton.style.left="20px",this.backButton.style.bottom="20px",this.phaseToggleButton.style.position="absolute",this.phaseToggleButton.style.left=`${x+220+30+330}px`,this.phaseToggleButton.style.top=`${L*.2+10}px`}this.phaseToggleButton&&(this.currentTab==="bosses"&&this.selectedMonster?this.phaseToggleButton.style.display="block":this.phaseToggleButton.style.display="none")}handleResize(){const A=this.cameras.main.width;this.cameras.main.height,this.titleText.setPosition(A/2,60),this.descriptionText.setPosition(A/2,110),this.descriptionText.setWordWrapWidth(A*.8),this.positionHTMLElements()}}class Lo extends gt.Scene{constructor(){super("AchievementScene");K(this,"spacetimeDBClient");K(this,"achievementContainer");K(this,"backButton");this.spacetimeDBClient=window.spacetimeDBClient}preload(){this.load.image("achievement_crown","assets/achievement_crown.png"),this.load.image("title_bg","assets/title_bg.png"),this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("boss_jorge","assets/final_boss_jorge_phase_1.png"),this.load.image("boss_bjorn","assets/final_boss_phase_bjrn_1.png"),this.load.image("boss_simon","assets/final_boss_simon_phase_1.png"),this.load.image("gem_3","assets/gem_3.png"),this.load.image("gem_4","assets/gem_4.png"),this.load.image("attack_cards","assets/attack_cards.png")}create(){const{width:A,height:L}=this.scale,F=xt();this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(A/2,L/2,"title_bg").setDisplaySize(A,L).setDepth(0)}catch(p){console.error("Error loading background:",p)}const z=F?parseInt(Et(36)):48;this.add.text(A/2,L/6,"ACHIEVEMENTS",{fontFamily:"Arial Black",fontSize:`${z}px`,color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:F?4:6}).setOrigin(.5),this.createAchievementList(),this.createBackButton(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createAchievementList(){const A=xt(),L=document.getElementById("achievement-container");L&&L.remove(),this.achievementContainer=document.createElement("div"),this.achievementContainer.id="achievement-container",this.achievementContainer.style.position="absolute",this.achievementContainer.style.left="50%",this.achievementContainer.style.top="50%",this.achievementContainer.style.transform="translate(-50%, -50%)",A?(this.achievementContainer.style.width="85%",this.achievementContainer.style.maxWidth="400px",this.achievementContainer.style.maxHeight="50vh",this.achievementContainer.style.fontSize=Et(14)):(this.achievementContainer.style.width="600px",this.achievementContainer.style.maxHeight="450px",this.achievementContainer.style.fontSize="16px"),this.achievementContainer.style.overflowY="auto",this.achievementContainer.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.achievementContainer.style.borderRadius="8px",this.achievementContainer.style.border="2px solid #34495e",this.achievementContainer.style.padding="20px",this.fetchAchievements(),document.body.appendChild(this.achievementContainer)}fetchAchievements(){if(!this.spacetimeDBClient||!this.spacetimeDBClient.isConnected){this.showErrorMessage("Not connected to the database");return}try{const A=this.spacetimeDBClient.sdkConnection;if(!A||!A.db){this.showErrorMessage("Database connection not available");return}const L=this.spacetimeDBClient.identity,F=[];if(!L){this.showErrorMessage("Player identity not available.");return}try{for(const z of A.db.achievements.iter())z.accountIdentity&&z.accountIdentity.isEqual(L)&&F.push(z)}catch(z){console.error("Error getting player achievements:",z),this.showErrorMessage("Error loading your achievements.");return}if(F.sort((z,p)=>z.achievementsId-p.achievementsId),F.length===0){this.showEmptyMessage();return}this.displayAchievements(F)}catch(A){console.error("Error fetching achievements:",A),this.showErrorMessage("Error loading achievements")}}displayAchievements(A){if(this.achievementContainer.innerHTML="",!A||A.length===0){this.showEmptyMessage();return}[...A].sort((F,z)=>F.isCompleted&&!z.isCompleted?1:!F.isCompleted&&z.isCompleted?-1:F.achievementsId-z.achievementsId).forEach(F=>{const z=F.isCompleted,p=F.progress,x=F.target,t=Math.min(100,Math.floor(p/x*100)),h=document.createElement("div");h.style.backgroundColor=z?"rgba(46, 204, 113, 0.2)":"rgba(52, 73, 94, 0.7)",h.style.margin="10px 0",h.style.padding=xt()?"12px":"15px",h.style.borderRadius="5px",h.style.border=z?"1px solid #2ecc71":"1px solid #2980b9",h.style.color="white",h.style.fontFamily="Arial",h.style.display="flex",h.style.gap="15px",h.style.position="relative";const v=xt()?Et(18):"20px",a=xt()?Et(14):"16px",r=F.spritePath.replace("assets/","");h.innerHTML=`
                <div style="flex-shrink: 0; width: ${xt()?"40px":"50px"}; height: ${xt()?"40px":"50px"}; 
                     background-color: rgba(0,0,0,0.3); border-radius: 5px; display: flex; 
                     align-items: center; justify-content: center; position: relative;">
                    <img src="assets/${r}" style="max-width: 80%; max-height: 80%; object-fit: contain;" 
                         alt="${St.getText(F.titleKey)}">
                    ${z?`
                        <div style="position: absolute; top: -5px; right: -5px; background-color: #f39c12; 
                             width: 20px; height: 20px; border-radius: 50%; display: flex; 
                             align-items: center; justify-content: center;">
                            <span style="color: white; font-size: 12px;"></span>
                        </div>`:""}
                </div>
                <div style="flex-grow: 1;">
                    <h3 style="margin: 0 0 5px 0; font-size: ${v}; color: ${z?"#2ecc71":"#3498db"};">
                        ${St.getText(F.titleKey)}
                    </h3>
                    <p style="margin: 0 0 10px 0; color: #ecf0f1; font-size: ${a};">
                        ${St.getText(F.descriptionKey)}
                    </p>
                    <div style="height: 10px; background-color: rgba(0,0,0,0.3); border-radius: 5px; overflow: hidden;">
                        <div style="height: 100%; width: ${t}%; background-color: ${z?"#2ecc71":"#3498db"}; 
                             transition: width 0.5s ease-in-out;"></div>
                    </div>
                    <p style="margin: 5px 0 0 0; color: #bdc3c7; font-size: ${xt()?Et(12):"14px"}; text-align: right;">
                        ${p} / ${x} (${t}%)
                    </p>
                </div>
            `,this.achievementContainer.appendChild(h)}),this.achievementContainer.children.length===0&&this.showEmptyMessage()}showErrorMessage(A){this.achievementContainer.innerHTML=`
            <div style="text-align: center; padding: 40px; color: #e74c3c;">
                <p style="font-size: 18px; margin-bottom: 10px;"> Error</p>
                <p>${A}</p>
                <p style="font-size: 14px; margin-top: 20px; color: #bdc3c7;">
                    Try refreshing the page or reconnecting to the game.
                </p>
            </div>
        `}showEmptyMessage(){this.achievementContainer.innerHTML=`
            <div style="text-align: center; padding: 40px; color: #95a5a6;">
                <p style="font-size: 18px; margin-bottom: 10px;">No achievements found</p>
                <p>Achievements will be added as you play the game.</p>
            </div>
        `}createBackButton(){const A=xt();this.backButton=document.createElement("button"),this.backButton.textContent=" Back",this.backButton.style.position="absolute",A?(this.backButton.style.bottom="20px",this.backButton.style.left="50%",this.backButton.style.transform="translateX(-50%)",this.backButton.style.top="auto",this.backButton.style.padding="12px 15px",this.backButton.style.fontSize=Et(16),this.backButton.style.minWidth="80px",this.backButton.style.minHeight="44px"):(this.backButton.style.bottom="40px",this.backButton.style.left="40px",this.backButton.style.top="auto",this.backButton.style.padding="10px 20px",this.backButton.style.fontSize="18px"),this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.transition="background-color 0.2s, border-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db",this.backButton.style.borderColor="#2980b9"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.borderColor="#34495e"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton)}handleResize(){this.createAchievementList(),this.createBackButton()}cleanupHTMLElements(){this.achievementContainer&&this.achievementContainer.parentNode&&this.achievementContainer.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove();const A=document.getElementById("achievement-container");A&&A.parentNode&&A.remove()}shutdown(){this.events.off("shutdown",this.shutdown,this),this.scale.off("resize",this.handleResize),this.cleanupHTMLElements()}}const cr={Sword:"attack_sword",Wand:"attack_wand",Knives:"attack_knife",Shield:"attack_shield",Shuriken:"attack_shuriken",FireSword:"attack_fire_sword",HolyHammer:"attack_holy_hammer",MagicDagger:"attack_magic_dagger",ThrowingShield:"attack_throwing_shield",EnergyOrb:"attack_energy_orb",Football:"attack_football",Cards:"attack_cards",Dumbbell:"attack_dumbbell",Garlic:"attack_garlic"},fs=[{w1:bt.Sword,w2:bt.Knives,result:bt.Shuriken},{w1:bt.Sword,w2:bt.Wand,result:bt.FireSword},{w1:bt.Sword,w2:bt.Shield,result:bt.HolyHammer},{w1:bt.Knives,w2:bt.Wand,result:bt.MagicDagger},{w1:bt.Knives,w2:bt.Shield,result:bt.ThrowingShield},{w1:bt.Wand,w2:bt.Shield,result:bt.EnergyOrb}];class Do extends gt.Scene{constructor(){super("WeaponCombinationsScene");K(this,"spacetimeDBClient");K(this,"combinationsContainer");K(this,"backButton");K(this,"detailsModal");K(this,"modalOverlay");this.spacetimeDBClient=window.spacetimeDBClient}preload(){Object.values(cr).forEach(A=>{A&&!this.textures.exists(A)&&this.load.image(A,`assets/${A}.png`)}),this.load.image("card_blank","assets/card_blank.png"),this.load.image("title_bg","assets/title_bg.png")}create(){const{width:A,height:L}=this.scale,F=xt();this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(A/2,L/2,"title_bg").setDisplaySize(A,L).setDepth(0)}catch(p){console.error("Error loading background:",p)}const z=F?parseInt(Et(36)):48;this.add.text(A/2,L/6,"WEAPON COMBINATIONS",{fontFamily:"Arial Black",fontSize:`${z}px`,color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:F?4:6}).setOrigin(.5),this.createCombinationsContainer(),this.createBackButton(),this.createDetailsModal(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createCombinationsContainer(){const A=xt(),L=document.getElementById("combinations-container");L&&L.remove(),this.combinationsContainer=document.createElement("div"),this.combinationsContainer.id="combinations-container",this.combinationsContainer.style.position="fixed",this.combinationsContainer.style.left="50%",this.combinationsContainer.style.top="50%",this.combinationsContainer.style.transform="translate(-50%, -50%)",this.combinationsContainer.style.zIndex="2000",A?(this.combinationsContainer.style.width="85%",this.combinationsContainer.style.maxWidth="400px",this.combinationsContainer.style.maxHeight="50vh",this.combinationsContainer.style.fontSize=Et(14)):(this.combinationsContainer.style.width="600px",this.combinationsContainer.style.maxHeight="450px",this.combinationsContainer.style.fontSize="16px"),this.combinationsContainer.style.overflowY="auto",this.combinationsContainer.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.combinationsContainer.style.borderRadius="8px",this.combinationsContainer.style.border="2px solid #34495e",this.combinationsContainer.style.padding="20px",this.fetchWeaponCombinations(),document.body.appendChild(this.combinationsContainer)}createDetailsModal(){const A=document.getElementById("weapon-modal-overlay");A&&A.remove(),this.modalOverlay=document.createElement("div"),this.modalOverlay.id="weapon-modal-overlay",this.modalOverlay.style.position="fixed",this.modalOverlay.style.top="0",this.modalOverlay.style.left="0",this.modalOverlay.style.width="100%",this.modalOverlay.style.height="100%",this.modalOverlay.style.backgroundColor="rgba(0, 0, 0, 0.7)",this.modalOverlay.style.zIndex="3000",this.modalOverlay.style.display="none",this.modalOverlay.addEventListener("click",z=>{z.target===this.modalOverlay&&this.hideDetailsModal()});const L=document.getElementById("weapon-details-modal");L&&L.remove(),this.detailsModal=document.createElement("div"),this.detailsModal.id="weapon-details-modal",this.detailsModal.style.position="fixed",this.detailsModal.style.top="50%",this.detailsModal.style.left="50%",this.detailsModal.style.transform="translate(-50%, -50%)",this.detailsModal.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.detailsModal.style.borderRadius="8px",this.detailsModal.style.border="2px solid #3498db",this.detailsModal.style.padding="25px",this.detailsModal.style.color="white",this.detailsModal.style.zIndex="3001",this.detailsModal.style.width=xt()?"85%":"500px",this.detailsModal.style.maxWidth="600px",this.detailsModal.style.maxHeight="85vh",this.detailsModal.style.overflowY="auto",this.detailsModal.style.display="none",this.detailsModal.style.boxShadow="0 5px 15px rgba(0, 0, 0, 0.5)";const F=document.createElement("button");F.textContent="",F.style.position="absolute",F.style.top="10px",F.style.right="10px",F.style.background="transparent",F.style.border="none",F.style.color="white",F.style.fontSize="24px",F.style.cursor="pointer",F.style.padding="5px",F.addEventListener("click",()=>{this.hideDetailsModal()}),this.detailsModal.appendChild(F),document.body.appendChild(this.modalOverlay),document.body.appendChild(this.detailsModal)}showDetailsModal(A){const L=le(A),F=yi(A),z=Oo(A),p=Bo(A),x=xt(),t=x?80:100,h=x?Et(16):"18px",v=fs.filter(s=>s.w1.tag===A.tag||s.w2.tag===A.tag),a=fs.find(s=>s.result.tag===A.tag);let r="";v.length>0&&(r=`
                <h3 style="font-size: ${x?"18px":"20px"}; color: #3498db; margin-top: 20px; margin-bottom: 10px;">
                    Used in Combinations:
                </h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
            `,v.forEach(s=>{const o=le(s.w1),i=le(s.w2),l=le(s.result);r+=`
                    <div style="background-color: rgba(52, 73, 94, 0.7); padding: 10px; border-radius: 5px; 
                         display: flex; align-items: center; justify-content: space-between;">
                        <span>${o} + ${i}</span>
                        <span style="color: #f39c12;"> ${l}</span>
                    </div>
                `}),r+="</div>");let n="";if(a){const s=le(a.w1),o=le(a.w2);n=`
                <h3 style="font-size: ${x?"18px":"20px"}; color: #3498db; margin-top: 20px; margin-bottom: 10px;">
                    Recipe:
                </h3>
                <div style="background-color: rgba(52, 73, 94, 0.7); padding: 10px; border-radius: 5px; 
                     display: flex; align-items: center; justify-content: space-between;">
                    <span>${s} + ${o}</span>
                    <span style="color: #f39c12;"> ${L}</span>
                </div>
            `}this.detailsModal.innerHTML=`
            <button style="position: absolute; top: 10px; right: 10px; background: transparent; border: none; color: white; font-size: 24px; cursor: pointer; padding: 5px;"></button>
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <div style="width: ${t}px; height: ${t}px; 
                     background-color: rgba(0,0,0,0.3); border-radius: 8px; 
                     display: flex; align-items: center; justify-content: center;
                     border: 1px solid #f39c12; margin-right: 15px;">
                    <img src="assets/${F}.png" style="max-width: 85%; max-height: 85%; object-fit: contain;" 
                        alt="${L}">
                </div>
                <h2 style="font-size: ${x?"24px":"28px"}; color: #3498db; margin: 0;">
                    ${L}
                </h2>
            </div>
            
            <h3 style="font-size: ${x?"18px":"20px"}; color: #3498db; margin-top: 0; margin-bottom: 10px;">
                Description:
            </h3>
            <p style="font-size: ${h}; line-height: 1.5; margin-top: 0; margin-bottom: 20px;">
                ${z}
            </p>
            
            <h3 style="font-size: ${x?"18px":"20px"}; color: #3498db; margin-top: 0; margin-bottom: 10px;">
                Stats:
            </h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                <div style="background-color: rgba(52, 73, 94, 0.7); padding: 10px; border-radius: 5px;">
                    <div style="font-weight: bold; color: #e74c3c;">Damage:</div>
                    <div>${p.damage}</div>
                </div>
                <div style="background-color: rgba(52, 73, 94, 0.7); padding: 10px; border-radius: 5px;">
                    <div style="font-weight: bold; color: #3498db;">Cooldown:</div>
                    <div>${p.cooldown}s</div>
                </div>
                <div style="background-color: rgba(52, 73, 94, 0.7); padding: 10px; border-radius: 5px;">
                    <div style="font-weight: bold; color: #2ecc71;">Range:</div>
                    <div>${p.range} units</div>
                </div>
                <div style="background-color: rgba(52, 73, 94, 0.7); padding: 10px; border-radius: 5px;">
                    <div style="font-weight: bold; color: #f39c12;">Special:</div>
                    <div>${p.special}</div>
                </div>
            </div>
            
            ${n}
            
            ${r}
        `;const e=this.detailsModal.querySelector("button");e&&e.addEventListener("click",()=>{this.hideDetailsModal()}),this.modalOverlay.style.display="block",this.detailsModal.style.display="block"}hideDetailsModal(){this.modalOverlay.style.display="none",this.detailsModal.style.display="none"}fetchWeaponCombinations(){if(!this.spacetimeDBClient||!this.spacetimeDBClient.isConnected){this.showErrorMessage("Not connected to the database");return}try{const A=fs.map(L=>({w1:L.w1,w2:L.w2,result:L.result,requiredLevel:3}));if(A.length===0){this.showEmptyMessage();return}this.displayWeaponCombinations(A)}catch(A){console.error("Error fetching weapon combinations:",A),this.showErrorMessage("Error loading weapon combinations")}}displayWeaponCombinations(A){if(this.combinationsContainer.innerHTML="",!A||A.length===0){this.showEmptyMessage();return}const L=xt(),F=L?40:50,z=L?60:70;A.forEach(x=>{const t=document.createElement("div");t.style.backgroundColor="rgba(52, 73, 94, 0.7)",t.style.margin="10px 0",t.style.padding=L?"12px":"15px",t.style.borderRadius="5px",t.style.border="1px solid #2980b9",t.style.color="white",t.style.fontFamily="Arial",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="space-between",t.style.position="relative",t.style.cursor="pointer",t.style.transition="background-color 0.2s";const h=yi(x.w1),v=yi(x.w2),a=yi(x.result),r=le(x.w1),n=le(x.w2),e=le(x.result);t.innerHTML=`
                <div style="display: flex; align-items: center; gap: 8px; flex: 2;">
                    <div style="text-align: center; width: ${z}px;">
                        <div class="weapon-icon" data-weapon-type="${x.w1.tag}" style="width: ${F}px; height: ${F}px; 
                             background-color: rgba(0,0,0,0.3); border-radius: 5px; 
                             display: flex; align-items: center; justify-content: center;
                             cursor: pointer; margin: 0 auto;">
                            <img src="assets/${h}.png" style="max-width: 80%; max-height: 80%; object-fit: contain;" 
                                alt="${r}">
                        </div>
                        <div style="font-size: ${L?"10px":"12px"}; height: 16px; overflow: hidden; text-overflow: ellipsis;">
                            ${r}
                        </div>
                    </div>
                    
                    <span style="font-size: ${L?"16px":"20px"}; margin: 0 5px;">+</span>
                    
                    <div style="text-align: center; width: ${z}px;">
                        <div class="weapon-icon" data-weapon-type="${x.w2.tag}" style="width: ${F}px; height: ${F}px; 
                             background-color: rgba(0,0,0,0.3); border-radius: 5px; 
                             display: flex; align-items: center; justify-content: center;
                             cursor: pointer; margin: 0 auto;">
                            <img src="assets/${v}.png" style="max-width: 80%; max-height: 80%; object-fit: contain;" 
                                alt="${n}">
                        </div>
                        <div style="font-size: ${L?"10px":"12px"}; height: 16px; overflow: hidden; text-overflow: ellipsis;">
                            ${n}
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; justify-content: flex-end; flex: 1; gap: 10px;">
                    <span style="font-size: ${L?"16px":"24px"}; color: #f39c12;"></span>
                    
                    <div style="text-align: center; width: ${z}px;">
                        <div class="weapon-icon" data-weapon-type="${x.result.tag}" style="width: ${F}px; height: ${F}px; 
                             background-color: rgba(0,0,0,0.3); border-radius: 5px; 
                             display: flex; align-items: center; justify-content: center;
                             border: 1px solid #f39c12;
                             cursor: pointer; margin: 0 auto;">
                            <img src="assets/${a}.png" style="max-width: 80%; max-height: 80%; object-fit: contain;" 
                                alt="${e}">
                        </div>
                        <div style="font-size: ${L?"10px":"12px"}; height: 32px; overflow: hidden; text-overflow: ellipsis; color: #f39c12;">
                            ${e}
                        </div>
                    </div>
                    
                    <div style="min-width: 40px; width: 40px; text-align: right;">
                        <span style="font-size: ${L?"12px":"14px"}; color: #3498db;">Lv.${x.requiredLevel}</span>
                    </div>
                </div>
            `,t.addEventListener("mouseover",()=>{t.style.backgroundColor="rgba(52, 152, 219, 0.4)"}),t.addEventListener("mouseout",()=>{t.style.backgroundColor="rgba(52, 73, 94, 0.7)"}),t.addEventListener("click",()=>{this.showDetailsModal(x.result)}),this.combinationsContainer.appendChild(t)}),this.combinationsContainer.querySelectorAll(".weapon-icon").forEach(x=>{x.addEventListener("click",t=>{t.stopPropagation();const h=x.dataset.weaponType||"";let v=null;for(const a in bt)if(bt.hasOwnProperty(a)){const r=bt[a];if(typeof r=="object"&&r!==null&&r.tag===h){v=r;break}}v&&this.showDetailsModal(v)})})}showErrorMessage(A){this.combinationsContainer.innerHTML=`
            <div style="text-align: center; padding: 40px; color: #e74c3c;">
                <p style="font-size: 18px; margin-bottom: 10px;"> Error</p>
                <p>${A}</p>
                <p style="font-size: 14px; margin-top: 20px; color: #bdc3c7;">
                    Try refreshing the page or reconnecting to the game.
                </p>
            </div>
        `}showEmptyMessage(){this.combinationsContainer.innerHTML=`
            <div style="text-align: center; padding: 40px; color: #95a5a6;">
                <p style="font-size: 18px; margin-bottom: 10px;">No weapon combinations found</p>
                <p>Weapon combinations will be added as you progress in the game.</p>
            </div>
        `}createBackButton(){const A=xt();this.backButton=document.createElement("button"),this.backButton.textContent=" Back",this.backButton.style.position="fixed",this.backButton.style.zIndex="1999",A?(this.backButton.style.bottom="20px",this.backButton.style.left="50%",this.backButton.style.transform="translateX(-50%)",this.backButton.style.top="auto",this.backButton.style.padding="12px 15px",this.backButton.style.fontSize=Et(16),this.backButton.style.minWidth="80px",this.backButton.style.minHeight="44px"):(this.backButton.style.bottom="40px",this.backButton.style.left="40px",this.backButton.style.top="auto",this.backButton.style.padding="10px 20px",this.backButton.style.fontSize="18px"),this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.transition="background-color 0.2s, border-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db",this.backButton.style.borderColor="#2980b9"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.borderColor="#34495e"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton)}handleResize(){this.createCombinationsContainer(),this.createBackButton(),this.createDetailsModal()}cleanupHTMLElements(){this.combinationsContainer&&this.combinationsContainer.parentNode&&this.combinationsContainer.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove(),this.detailsModal&&this.detailsModal.parentNode&&this.detailsModal.remove(),this.modalOverlay&&this.modalOverlay.parentNode&&this.modalOverlay.remove();const A=document.getElementById("combinations-container");A&&A.parentNode&&A.remove();const L=document.getElementById("weapon-details-modal");L&&L.parentNode&&L.remove();const F=document.getElementById("weapon-modal-overlay");F&&F.parentNode&&F.remove()}shutdown(){this.events.off("shutdown",this.shutdown,this),this.scale.off("resize",this.handleResize),this.cleanupHTMLElements()}}function os(R,E,A){return typeof E=="string"?R[E]||A:E&&typeof E=="object"&&E.tag&&R[E.tag]||A}function yi(R){return os(cr,R,"card_blank")}function le(R){return os(St.weaponNames,R,"Unknown Weapon")}function Oo(R){return os(St.weaponDescriptions,R,"No information available about this weapon.")}function Bo(R){return os(St.weaponStats,R,{damage:0,cooldown:0,range:0,special:"None"})}class Io extends gt.Scene{constructor(){super("SplashScene");K(this,"logo");K(this,"loadingText");K(this,"loadingProgress",0);K(this,"assetsLoaded",!1);K(this,"fadeStarted",!1);K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"connectionChecked",!1);K(this,"authCheckTimer",null);K(this,"minimumDisplayTime",1e3);K(this,"displayStartTime",0);K(this,"minimumTimeElapsed",!1);K(this,"nextSceneDetermined",!1);K(this,"nextScene","");K(this,"debugText",null);this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents}preload(){this.load.image("game_logo","assets/game_logo.png"),this.load.image("title_bg","assets/title_bg.png"),this.load.on("complete",()=>{this.assetsLoaded=!0,console.log("SplashScene assets loaded")})}create(){console.log("SplashScene create method started"),this.displayStartTime=this.time.now,this.minimumTimeElapsed=!1,this.nextSceneDetermined=!1,this.nextScene="";const{width:A,height:L}=this.scale;this.cameras.main.setBackgroundColor("#000000"),this.logo=this.add.image(A/2,L/2,"game_logo").setOrigin(.5).setScale(.5).setAlpha(0),this.tweens.add({targets:this.logo,alpha:1,scale:.8,duration:1e3,ease:"Bounce.Out",delay:500}),this.registerEventListeners(),this.scale.on("resize",this.handleResize,this),this.authCheckTimer=this.time.addEvent({delay:500,callback:this.checkConnectionState,callbackScope:this,loop:!0}),this.time.delayedCall(this.minimumDisplayTime,()=>{console.log("Minimum display time elapsed"),this.minimumTimeElapsed=!0,this.attemptSceneTransition()}),console.log("SplashScene created successfully")}registerEventListeners(){this.gameEvents.on(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.on(it.SUBSCRIPTION_APPLIED,this.handleSubscriptionApplied,this),this.events.once("shutdown",this.shutdown,this)}handleConnectionEstablished(){this.time.delayedCall(500,this.checkConnectionState,[],this)}handleConnectionLost(){console.log("Connection lost event received in SplashScene")}handleSubscriptionApplied(){this.time.delayedCall(500,this.checkConnectionState,[],this)}update(){this.assetsLoaded&&!this.fadeStarted&&this.time.now>this.displayStartTime+this.minimumDisplayTime&&(this.minimumTimeElapsed=!0,this.attemptSceneTransition())}checkConnectionState(){var F;if(this.connectionChecked||this.fadeStarted)return;const L=this.time.now-this.displayStartTime;if(L<this.minimumDisplayTime){console.log(`Splash screen minimum display time not reached yet (${L}/${this.minimumDisplayTime}ms)`);return}if(!(!this.spacetimeDBClient.isConnected||!this.spacetimeDBClient.identity||!((F=this.spacetimeDBClient.sdkConnection)!=null&&F.db)))try{this.connectionChecked=!0;const z=this.spacetimeDBClient.identity;if(!this.spacetimeDBClient.sdkConnection.db.account){console.log("Account table not available yet"),this.connectionChecked=!1;return}const p=this.spacetimeDBClient.sdkConnection.db.account.identity.find(z);if(p)if(console.log("Found existing account in SplashScene:",p),!p.name)console.log("Account has no name. Going to LoginScene."),this.nextScene="LoginScene";else if(p.currentPlayerId===0)console.log("Account has name but no player. Skipping PrologScene and going directly to ClassSelectScene."),this.nextScene="ClassSelectScene";else try{if(!this.spacetimeDBClient.sdkConnection.db.player){console.log("Player table not available yet"),this.connectionChecked=!1;return}if(this.spacetimeDBClient.sdkConnection.db.player.playerId.find(p.currentPlayerId))console.log("Account has a valid player. Going to GameScene."),this.nextScene="GameScene";else{if(!this.spacetimeDBClient.sdkConnection.db.deadPlayers){console.log("DeadPlayers table not available yet"),this.connectionChecked=!1;return}const t=this.spacetimeDBClient.sdkConnection.db.deadPlayers.playerId.find(p.currentPlayerId);console.log(t?"Player is dead. Going to ClassSelectScene.":"Player not found. Going to ClassSelectScene."),this.nextScene="ClassSelectScene"}}catch(x){console.error("Error checking player state:",x),this.connectionChecked=!1}else console.log("No account found. Going to LoginScene."),this.nextScene="LoginScene";this.nextSceneDetermined=!0,this.attemptSceneTransition()}catch(z){console.error("Error in checkConnectionState:",z),this.connectionChecked=!1}}attemptSceneTransition(){this.minimumTimeElapsed&&this.nextSceneDetermined&&!this.fadeStarted?(console.log(`SplashScene transitioning to ${this.nextScene} after minimum display time`),this.startTransition(this.nextScene)):(this.minimumTimeElapsed||console.log("Can't transition yet: minimum display time not elapsed"),this.nextSceneDetermined||console.log("Can't transition yet: next scene not determined"))}startTransition(A="LoginScene"){this.fadeStarted||(this.fadeStarted=!0,this.authCheckTimer&&(this.authCheckTimer.remove(),this.authCheckTimer=null),this.cameras.main.fadeOut(1e3,0,0,0),this.cameras.main.once(gt.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,()=>{this.cleanupLingeringUIElements(),this.scene.start(A)}))}cleanupLingeringUIElements(){console.log("SplashScene: Cleaning up any lingering UI elements");try{const A=document.getElementById("login-name-input");A&&A.parentNode&&(console.log("SplashScene: Removing lingering login input"),A.remove());const L=document.getElementById("login-name-input-container");L&&L.parentNode&&(console.log("SplashScene: Removing login container"),L.remove());const F=document.getElementById("class-select-container");F&&F.parentNode&&(console.log("SplashScene: Removing lingering class container"),F.remove()),document.querySelectorAll(".login-button").forEach(z=>{z&&z.parentNode&&(console.log("SplashScene: Removing lingering login button"),z.remove())}),document.querySelectorAll(".class-select-button").forEach(z=>{z&&z.parentNode&&(console.log("SplashScene: Removing lingering class button"),z.remove())})}catch(A){console.error("Error in SplashScene cleanupLingeringUIElements:",A)}}handleResize(){const{width:A,height:L}=this.scale;this.logo&&this.logo.setPosition(A/2,L/2),this.loadingText&&this.loadingText.setPosition(A/2,L/2+120)}shutdown(){this.authCheckTimer&&(this.authCheckTimer.remove(),this.authCheckTimer=null),this.gameEvents.off(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.off(it.SUBSCRIPTION_APPLIED,this.handleSubscriptionApplied,this),this.scale.off("resize",this.handleResize)}}console.log("Main script loading...");const Xt=new gt.Events.EventEmitter;window.gameEvents=Xt;window.cleanupDOMElements=()=>{console.log("Global window.cleanupDOMElements called - only for manual use"),xn()};const No={type:gt.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"gameContainer",physics:{default:"arcade",arcade:{}},scene:[Io,yo,Fo,Co,mo,Eo,Ao,Ro,Lo,Do],scale:{mode:gt.Scale.RESIZE,autoCenter:gt.Scale.CENTER_BOTH}},he=new gt.Game(No);console.log("Phaser game initialized. Starting with SplashScene.");he.scene.start("SplashScene");const xn=()=>{console.log("Global DOM cleanup triggered");try{const R=document.getElementById("login-name-input");R&&R.parentNode&&(console.log("Global cleanup: Removing login input"),R.remove()),document.querySelectorAll(".login-button").forEach(L=>{L&&L.parentNode&&(console.log("Global cleanup: Removing login button"),L.remove())});const E=document.getElementById("login-name-input-container");E&&E.parentNode&&(console.log("Global cleanup: Removing login container"),E.remove());const A=document.getElementById("class-select-container");A&&A.parentNode&&(console.log("Global cleanup: Removing class container"),A.remove()),document.querySelectorAll(".class-select-button").forEach(L=>{L&&L.parentNode&&(console.log("Global cleanup: Removing class button"),L.remove())}),document.querySelectorAll('input[type="text"]').forEach(L=>{console.log("Global cleanup: Removing text input",L.id),L.parentNode&&L.remove()}),document.querySelectorAll("button").forEach(L=>{const F=L.textContent;F&&(F.includes("Set Name")||F.includes("Fighter")||F.includes("Rogue")||F.includes("Mage")||F.includes("Paladin")||F.includes("Confirm"))&&(console.log("Global cleanup: Removing button:",F),L.parentNode&&L.remove())})}catch(R){console.error("Error in global DOM cleanup:",R)}},zo=R=>{var F,z,p;if(console.log("SpacetimeDB subscription applied callback triggered in main.ts."),!((F=ti.sdkConnection)!=null&&F.db)||!ti.identity){console.warn("Subscription applied, but client tables or identity not ready yet.");return}const E=(z=ti.sdkConnection)==null?void 0:z.db,A=ti.identity;if(Xt.emit(it.SUBSCRIPTION_APPLIED),E.account.onInsert((x,t)=>{console.log("Account inserted event received"),console.log("- Account data: ",t.name+" - "+t.currentPlayerId+" - "+t.lastLogin),t.identity.isEqual(A)?(console.log("Local account inserted!"),Xt.emit(it.ACCOUNT_CREATED,x,t)):console.log("Another user has logged on: "+t.identity.toString())}),E.account.onUpdate((x,t,h)=>{if(console.log("Account updated event received"),console.log("- Account data: ",h.name+" - "+h.currentPlayerId+" - "+h.lastLogin),h.identity.isEqual(A)){if(console.log("Local account updated."),Xt.emit(it.ACCOUNT_UPDATED,x,t,h),(!t.name||t.name==="")&&h.name&&(console.log("Name was set."),Xt.emit(it.NAME_SET,x,h),he.scene.isActive("LoadingScene"))){const v=he.scene.getScene("LoadingScene");v.completeLoading&&(console.log("Completing loading for name set"),v.completeLoading())}}else console.log("Another user has updated their account: "+h.identity.toString())}),E.player.onInsert((x,t)=>{var v;console.log("Player inserted event received"),console.log("- Player data: "+t.name+" - "+t.playerId);const h=(v=x.db)==null?void 0:v.account.identity.find(A);if(!h){console.log("No account found for local identity. Waiting for account.");return}if(h.currentPlayerId===t.playerId){if(console.log("Local player inserted!"),Xt.emit(it.PLAYER_CREATED,x,t),he.scene.isActive("LoadingScene")){const a=he.scene.getScene("LoadingScene");a.completeLoading&&(console.log("Completing loading for player creation"),a.completeLoading())}}else console.log("Another player has logged on: "+t.name),Xt.emit(it.PLAYER_CREATED,x,t,!1)}),E.player.onUpdate((x,t,h)=>{var r;const v=(r=x.db)==null?void 0:r.account.identity.find(A),a=v&&v.currentPlayerId===h.playerId;Xt.emit(it.PLAYER_UPDATED,x,t,h,a)}),E.player.onDelete((x,t)=>{var v;console.log("Player deleted event received"),console.log("- Player data: ",t.name+" - "+t.playerId);const h=(v=x.db)==null?void 0:v.account.identity.find(A);if(!h){console.log("No account found for local identity.");return}h.currentPlayerId===t.playerId?(console.log("Local player was deleted/died!"),Xt.emit(it.PLAYER_DIED,x,t)):Xt.emit(it.PLAYER_DELETED,x,t,!1)}),E.entity.onInsert((x,t)=>{Xt.emit(it.ENTITY_CREATED,x,t)}),E.entity.onUpdate((x,t,h)=>{Xt.emit(it.ENTITY_UPDATED,x,t,h)}),E.entity.onDelete((x,t)=>{Xt.emit(it.ENTITY_DELETED,x,t)}),E.monsters.onInsert((x,t)=>{Xt.emit(it.MONSTER_CREATED,x,t)}),E.monsters.onUpdate((x,t,h)=>{Xt.emit(it.MONSTER_UPDATED,x,t,h)}),E.monsters.onDelete((x,t)=>{Xt.emit(it.MONSTER_DELETED,x,t)}),E.activeAttacks.onInsert((x,t)=>{Xt.emit(it.ATTACK_CREATED,x,t)}),E.activeAttacks.onUpdate((x,t,h)=>{Xt.emit(it.ATTACK_UPDATED,x,t,h)}),E.activeAttacks.onDelete((x,t)=>{Xt.emit(it.ATTACK_DELETED,x,t)}),console.log("Checking current account and player state..."),!((p=R.db)==null?void 0:p.account.identity.find(A))){console.log("No account found for local identity. Waiting for account to be created.");return}he.scene.isActive("SplashScene")||(console.log("Forcing redirect to SplashScene for proper scene flow"),xn(),he.scene.start("SplashScene"))},Uo=(R,E,A)=>{console.log("SpacetimeDB connection established."),Xt.emit(it.CONNECTION_ESTABLISHED,R,E,A),he.scene.isActive("SplashScene")||(console.log("Ensuring SplashScene is active after connection"),xn(),he.scene.start("SplashScene"))},Go=(R,E)=>{console.log("SpacetimeDB connection lost."),Xt.emit(it.CONNECTION_LOST,R,E)},ti=new bo(zo,Uo,Go);window.spacetimeDBClient=ti;console.log("Main script finished loading.");
