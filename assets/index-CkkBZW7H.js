var er=Object.defineProperty;var un=L=>{throw TypeError(L)};var ir=(L,E,P)=>E in L?er(L,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):L[E]=P;var K=(L,E,P)=>ir(L,typeof E!="symbol"?E+"":E,P),es=(L,E,P)=>E.has(L)||un("Cannot "+P);var q=(L,E,P)=>(es(L,E,"read from private field"),P?P.call(L):E.get(L)),Ct=(L,E,P)=>E.has(L)?un("Cannot add the same private member more than once"):E instanceof WeakSet?E.add(L):E.set(L,P),dt=(L,E,P,b)=>(es(L,E,"write to private field"),b?b.call(L,P):E.set(L,P),P),ft=(L,E,P)=>(es(L,E,"access private method"),P);(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))b(D);new MutationObserver(D=>{for(const z of D)if(z.type==="childList")for(const v of z.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&b(v)}).observe(document,{childList:!0,subtree:!0});function P(D){const z={};return D.integrity&&(z.integrity=D.integrity),D.referrerPolicy&&(z.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?z.credentials="include":D.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function b(D){if(D.ep)return;D.ep=!0;const z=P(D);fetch(D.href,z)}})();var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nr(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}var Nn={exports:{}};(function(L,E){(function(b,D){L.exports=D()})(sr,()=>(()=>{var P={50792:v=>{var T=Object.prototype.hasOwnProperty,t="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(t=!1));function p(e,s,o){this.fn=e,this.context=s,this.once=o||!1}function a(e,s,o,i,h){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new p(o,i||e,h),d=t?t+s:s;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],u]:e._events[d].push(u):(e._events[d]=u,e._eventsCount++),e}function r(e,s){--e._eventsCount===0?e._events=new l:delete e._events[s]}function n(){this._events=new l,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],o,i;if(this._eventsCount===0)return s;for(i in o=this._events)T.call(o,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(o)):s},n.prototype.listeners=function(s){var o=t?t+s:s,i=this._events[o];if(!i)return[];if(i.fn)return[i.fn];for(var h=0,u=i.length,d=new Array(u);h<u;h++)d[h]=i[h].fn;return d},n.prototype.listenerCount=function(s){var o=t?t+s:s,i=this._events[o];return i?i.fn?1:i.length:0},n.prototype.emit=function(s,o,i,h,u,d){var f=t?t+s:s;if(!this._events[f])return!1;var c=this._events[f],g=arguments.length,m,y;if(c.fn){switch(c.once&&this.removeListener(s,c.fn,void 0,!0),g){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,o),!0;case 3:return c.fn.call(c.context,o,i),!0;case 4:return c.fn.call(c.context,o,i,h),!0;case 5:return c.fn.call(c.context,o,i,h,u),!0;case 6:return c.fn.call(c.context,o,i,h,u,d),!0}for(y=1,m=new Array(g-1);y<g;y++)m[y-1]=arguments[y];c.fn.apply(c.context,m)}else{var x=c.length,S;for(y=0;y<x;y++)switch(c[y].once&&this.removeListener(s,c[y].fn,void 0,!0),g){case 1:c[y].fn.call(c[y].context);break;case 2:c[y].fn.call(c[y].context,o);break;case 3:c[y].fn.call(c[y].context,o,i);break;case 4:c[y].fn.call(c[y].context,o,i,h);break;default:if(!m)for(S=1,m=new Array(g-1);S<g;S++)m[S-1]=arguments[S];c[y].fn.apply(c[y].context,m)}}return!0},n.prototype.on=function(s,o,i){return a(this,s,o,i,!1)},n.prototype.once=function(s,o,i){return a(this,s,o,i,!0)},n.prototype.removeListener=function(s,o,i,h){var u=t?t+s:s;if(!this._events[u])return this;if(!o)return r(this,u),this;var d=this._events[u];if(d.fn)d.fn===o&&(!h||d.once)&&(!i||d.context===i)&&r(this,u);else{for(var f=0,c=[],g=d.length;f<g;f++)(d[f].fn!==o||h&&!d[f].once||i&&d[f].context!==i)&&c.push(d[f]);c.length?this._events[u]=c.length===1?c[0]:c:r(this,u)}return this},n.prototype.removeAllListeners=function(s){var o;return s?(o=t?t+s:s,this._events[o]&&r(this,o)):(this._events=new l,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,v.exports=n},11517:(v,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38829),p=function(a,r,n,e){for(var s=a[0],o=1;o<a.length;o++){var i=a[o];l(i,s,r,n,e),s=i}return a};v.exports=p},80318:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s){return l(a,"angle",r,n,e,s)};v.exports=p},60757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){for(var a=0;a<t.length;a++){var r=t[a];l.call(p,r)}return t};v.exports=T},69927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){p===void 0&&(p=0);for(var a=p;a<t.length;a++){var r=t[a],n=!0;for(var e in l)r[e]!==l[e]&&(n=!1);if(n)return r}return null};v.exports=T},32265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){p===void 0&&(p=0);for(var a=t.length-1;a>=p;a--){var r=t[a],n=!0;for(var e in l)r[e]!==l[e]&&(n=!1);if(n)return r}return null};v.exports=T},94420:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(11879),p=t(60461),a=t(95540),r=t(29747),n=t(41481),e=new n({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),s=function(o,i){i===void 0&&(i={});var h=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),d=a(i,"width",-1),f=a(i,"height",-1),c=a(i,"cellWidth",1),g=a(i,"cellHeight",c),m=a(i,"position",p.TOP_LEFT),y=a(i,"x",0),x=a(i,"y",0),S=0,C=0,A=d*c,F=f*g;e.setPosition(y,x),e.setSize(c,g);for(var M=0;M<o.length;M++)if(l(o[M],e,m),h&&d===-1)e.x+=c;else if(u&&f===-1)e.y+=g;else if(u&&!h){if(C+=g,e.y+=g,C===F&&(C=0,S+=c,e.y=x,e.x+=c,S===A))break}else if(S+=c,e.x+=c,S===A&&(S=0,C+=g,e.x=y,e.y+=g,C===F))break;return o};v.exports=s},41721:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s){return l(a,"alpha",r,n,e,s)};v.exports=p},67285:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s){return l(a,"x",r,n,e,s)};v.exports=p},9074:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"x",r,e,o,i),l(a,"y",n,s,o,i)};v.exports=p},75222:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s){return l(a,"y",r,n,e,s)};v.exports=p},22983:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var r=p,n=(a-p)/t.length,e=l.x,s=l.y,o=l.radius,i=0;i<t.length;i++)t[i].x=e+o*Math.cos(r),t[i].y=s+o*Math.sin(r),r+=n;return t};v.exports=T},95253:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var r=p,n=(a-p)/t.length,e=l.width/2,s=l.height/2,o=0;o<t.length;o++)t[o].x=l.x+e*Math.cos(r),t[o].y=l.y+s*Math.sin(r),r+=n;return t};v.exports=T},88505:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15258),p=t(26708),a=function(r,n,e){var s;e?s=p(n,e,r.length):s=l(n,r.length);for(var o=0;o<r.length;o++){var i=r[o],h=s[o];i.x=h.x,i.y=h.y}return r};v.exports=a},41346:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14649),p=t(86003),a=t(49498),r=function(n,e,s){s===void 0&&(s=0);var o=l(e,!1,n.length);s>0?p(o,s):s<0&&a(o,Math.abs(s));for(var i=0;i<n.length;i++)n[i].x=o[i].x,n[i].y=o[i].y;return n};v.exports=r},11575:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84993),p=function(a,r,n){var e=l({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n),s=l({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},n),o=l({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},n);e.pop(),s.pop(),o.pop(),e=e.concat(s,o);for(var i=e.length/a.length,h=0,u=0;u<a.length;u++){var d=a[u],f=e[Math.floor(h)];d.x=f.x,d.y=f.y,h+=i}return a};v.exports=p},29953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(l,p)}return t};v.exports=T},66979:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,o=t.length;if(n===1)for(e=r;e<o;e++)t[e][l]+=p+s*a,s++;else for(e=r;e>=0;e--)t[e][l]+=p+s*a,s++;return t};v.exports=T},43967:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,o=t.length;if(n===1)for(e=r;e<o;e++)t[e][l]=p+s*a,s++;else for(e=r;e>=0;e--)t[e][l]=p+s*a,s++;return t};v.exports=T},88926:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28176),p=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};v.exports=p},33286:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(24820),p=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};v.exports=p},96e3:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65822),p=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};v.exports=p},28789:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26597),p=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};v.exports=p},97154:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90260),p=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};v.exports=p},20510:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s){return l(a,"rotation",r,n,e,s)};v.exports=p},91051:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1163),p=t(20339),a=function(r,n,e){for(var s=n.x,o=n.y,i=0;i<r.length;i++){var h=r[i];l(h,s,o,e,Math.max(1,p(h.x,h.y,s,o)))}return r};v.exports=a},76332:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1163),p=function(a,r,n,e){var s=r.x,o=r.y;if(e===0)return a;for(var i=0;i<a.length;i++)l(a[i],s,o,n,e);return a};v.exports=p},61619:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s){return l(a,"scaleX",r,n,e,s)};v.exports=p},94868:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"scaleX",r,e,o,i),l(a,"scaleY",n,s,o,i)};v.exports=p},95532:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),p=function(a,r,n,e,s){return l(a,"scaleY",r,n,e,s)};v.exports=p},8689:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"alpha",r,n,e,s)};v.exports=p},2645:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e){return l(a,"blendMode",r,0,n,e)};v.exports=p},32372:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"depth",r,n,e,s)};v.exports=p},85373:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){for(var a=0;a<t.length;a++)t[a].setInteractive(l,p);return t};v.exports=T},81583:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"originX",r,e,o,i),l(a,"originY",n,s,o,i),a.forEach(function(h){h.updateDisplayOrigin()}),a};v.exports=p},79939:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"rotation",r,n,e,s)};v.exports=p},2699:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"scaleX",r,e,o,i),l(a,"scaleY",n,s,o,i)};v.exports=p},98739:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"scaleX",r,n,e,s)};v.exports=p},98476:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"scaleY",r,n,e,s)};v.exports=p},6207:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"scrollFactorX",r,e,o,i),l(a,"scrollFactorY",n,s,o,i)};v.exports=p},6607:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"scrollFactorX",r,n,e,s)};v.exports=p},72248:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"scrollFactorY",r,n,e,s)};v.exports=p},14036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){for(var n=0;n<t.length;n++)t[n].setTint(l,p,a,r);return t};v.exports=T},50159:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e){return l(a,"visible",r,0,n,e)};v.exports=p},77597:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"x",r,n,e,s)};v.exports=p},83194:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"x",r,e,o,i),l(a,"y",n,s,o,i)};v.exports=p},67678:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),p=function(a,r,n,e,s){return l(a,"y",r,n,e,s)};v.exports=p},35850:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=new l);var o,i,h=a.length;if(h===1)o=a[0].x,i=a[0].y,a[0].x=r,a[0].y=n;else{var u=1,d=0;e===0&&(d=h-1,u=h-2),o=a[d].x,i=a[d].y,a[d].x=r,a[d].y=n;for(var f=0;f<h;f++)if(!(u>=h||u===-1)){var c=a[u],g=c.x,m=c.y;c.x=o,c.y=i,o=g,i=m,e===0?u--:u++}}return s.x=o,s.y=i,s};v.exports=p},8628:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33680),p=function(a){return l(a)};v.exports=p},21837:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7602),p=function(a,r,n,e,s){s===void 0&&(s=!1);var o=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=l(i*o,n,e);else for(i=0;i<a.length;i++)a[i][r]=l(i*o,n,e);return a};v.exports=p},21910:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54261),p=function(a,r,n,e,s){s===void 0&&(s=!1);var o=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=l(i*o,n,e);else for(i=0;i<a.length;i++)a[i][r]=l(i*o,n,e);return a};v.exports=p},62054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][l]+=(a+p)/2:t[0][l]=(a+p)/2,t;var n=Math.abs(a-p)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][l]+=e*n+p;else for(e=0;e<t.length;e++)t[e][l]=e*n+p;return t};v.exports=T},79815:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var l=0;l<t.length;l++)t[l].visible=!t[l].visible;return t};v.exports=T},39665:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),p=function(a,r,n){n===void 0&&(n=0);for(var e=0;e<a.length;e++){var s=a[e];s.x=l(s.x,r.left-n,r.right+n),s.y=l(s.y,r.top-n,r.bottom+n)}return a};v.exports=p},61061:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(74943),r=t(81957),n=t(41138),e=t(35154),s=t(90126),o=new p({initialize:function(h,u,d){this.manager=h,this.key=u,this.type="frame",this.frames=this.getFrames(h.textureManager,e(d,"frames",[]),e(d,"defaultTextureKey",null),e(d,"sortFrames",!0)),this.frameRate=e(d,"frameRate",null),this.duration=e(d,"duration",null),this.msPerFrame,this.skipMissedFrames=e(d,"skipMissedFrames",!0),this.delay=e(d,"delay",0),this.repeat=e(d,"repeat",0),this.repeatDelay=e(d,"repeatDelay",0),this.yoyo=e(d,"yoyo",!1),this.showBeforeDelay=e(d,"showBeforeDelay",!1),this.showOnStart=e(d,"showOnStart",!1),this.hideOnComplete=e(d,"hideOnComplete",!1),this.randomFrame=e(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,h,u,d){u===null&&d===null?(i.frameRate=24,i.duration=24/h*1e3):u&&d===null?(i.duration=u,i.frameRate=h/(u/1e3)):(i.frameRate=d,i.duration=h/d*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,h){var u=this.getFrames(this.manager.textureManager,h);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var d=this.frames.slice(0,i),f=this.frames.slice(i);this.frames=d.concat(u,f)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,h,u,d){d===void 0&&(d=!0);var f=[],c,g,m=1,y,x;if(typeof h=="string"){if(x=h,!i.exists(x))return console.warn('Texture "%s" not found',x),f;var S=i.get(x),C=S.getFrameNames();d&&s(C),h=[],C.forEach(function(O){h.push({key:x,frame:O})})}if(!Array.isArray(h)||h.length===0)return f;for(y=0;y<h.length;y++){var A=h[y],F=e(A,"key",u);if(F){var M=e(A,"frame",0),w=i.getFrame(F,M);if(!w){console.warn('Texture "%s" not found',F);continue}g=new n(F,M,m,w),g.duration=e(A,"duration",0),g.isFirst=!c,c&&(c.nextFrame=g,g.prevFrame=c),f.push(g),c=g,m++}}if(f.length>0){g.isLast=!0,g.nextFrame=f[0],f[0].prevFrame=g;var R=1/(f.length-1);for(y=0;y<f.length;y++)f[y].progress=y*R}return f},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameByProgress:function(i){return i=l(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var h=i.currentFrame;h.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,h.nextFrame)},handleYoyoFrame:function(i,h){if(h||(h=!1),i.inReverse===!h&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=h),this.repeatAnimation(i);return}if(i.inReverse!==h&&i.repeatCounter===0){i.complete();return}i.forward=h;var u=h?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var h=i.currentFrame;h.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,h.prevFrame)},updateAndGetNextTick:function(i,h){i.setCurrentFrame(h),this.getNextTick(i)},removeFrame:function(i){var h=this.frames.indexOf(i);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){i.frames.push(h.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,h=1/(i-1),u,d=0;d<i;d++)u=this.frames[d],u.index=d+1,u.isFirst=!1,u.isLast=!1,u.progress=d*h,d===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[d+1])):d===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[d-1],u.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});v.exports=o},41138:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e,s,o){o===void 0&&(o=!1),this.textureKey=r,this.textureFrame=n,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=o},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});v.exports=p},60848:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42099),p=t(83419),a=t(90330),r=t(50792),n=t(74943),e=t(8443),s=t(95540),o=t(35154),i=t(36383),h=t(20283),u=t(41836),d=new p({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",c.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(f,c,g){var m=this.anims,y=this.mixes,x=typeof f=="string"?f:f.key,S=typeof c=="string"?c:c.key;if(m.has(x)&&m.has(S)){var C=y.get(x);C||(C={}),C[S]=g,y.set(x,C)}return this},removeMix:function(f,c){var g=this.mixes,m=typeof f=="string"?f:f.key,y=g.get(m);if(y)if(c){var x=typeof c=="string"?c:c.key;y.hasOwnProperty(x)&&delete y[x]}else c||g.delete(m);return this},getMix:function(f,c){var g=this.mixes,m=typeof f=="string"?f:f.key,y=typeof c=="string"?c:c.key,x=g.get(m);return x&&x.hasOwnProperty(y)?x[y]:0},add:function(f,c){return this.anims.has(f)?(console.warn("Animation key exists: "+f),this):(c.key=f,this.anims.set(f,c),this.emit(n.ADD_ANIMATION,f,c),this)},exists:function(f){return this.anims.has(f)},createFromAseprite:function(f,c,g){var m=[],y=this.game.cache.json.get(f);if(!y)return console.warn("No Aseprite data found for: "+f),m;var x=this,S=o(y,"meta",null),C=o(y,"frames",null);if(S&&C){var A=o(S,"frameTags",[]);A.forEach(function(F){var M=[],w=s(F,"name",null),R=s(F,"from",0),O=s(F,"to",0),U=s(F,"direction","forward");if(w&&(!c||c&&c.indexOf(w)>-1)){for(var X=0,W=R;W<=O;W++){var Y=W.toString(),N=C[Y];if(N){var V=s(N,"duration",i.MAX_SAFE_INTEGER);M.push({key:f,frame:Y,duration:V}),X+=V}}U==="reverse"&&(M=M.reverse());var I={key:w,frames:M,duration:X,yoyo:U==="pingpong"},B;g?g.anims&&(B=g.anims.create(I)):B=x.create(I),B&&m.push(B)}})}return m},create:function(f){var c=f.key,g=!1;return c&&(g=this.get(c),g?console.warn("AnimationManager key already exists: "+c):(g=new l(this,c,f),this.anims.set(c,g),this.emit(n.ADD_ANIMATION,c,g))),g},fromJSON:function(f,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof f=="string"&&(f=JSON.parse(f));var g=[];if(f.hasOwnProperty("anims")&&Array.isArray(f.anims)){for(var m=0;m<f.anims.length;m++)g.push(this.create(f.anims[m]));f.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=f.globalTimeScale)}else f.hasOwnProperty("key")&&f.type==="frame"&&g.push(this.create(f));return g},generateFrameNames:function(f,c){var g=o(c,"prefix",""),m=o(c,"start",0),y=o(c,"end",0),x=o(c,"suffix",""),S=o(c,"zeroPad",0),C=o(c,"outputArray",[]),A=o(c,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),C;var F=this.textureManager.get(f);if(!F)return C;var M;if(c)for(A||(A=h(m,y)),M=0;M<A.length;M++){var w=g+u(A[M],S,"0",1)+x;F.has(w)?C.push({key:f,frame:w}):console.warn('Frame "%s" not found in texture "%s"',w,f)}else for(A=F.getFrameNames(),M=0;M<A.length;M++)C.push({key:f,frame:A[M]});return C},generateFrameNumbers:function(f,c){var g=o(c,"start",0),m=o(c,"end",-1),y=o(c,"first",!1),x=o(c,"outputArray",[]),S=o(c,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),x;var C=this.textureManager.get(f);if(!C)return x;y&&C.has(y)&&x.push({key:f,frame:y}),S||(m===-1&&(m=C.frameTotal-2),S=h(g,m));for(var A=0;A<S.length;A++){var F=S[A];C.has(F)?x.push({key:f,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,f)}return x},get:function(f){return this.anims.get(f)},getAnimsFromTexture:function(f){for(var c=this.textureManager.get(f),g=c.key,m=this.anims.getArray(),y=[],x=0;x<m.length;x++)for(var S=m[x],C=S.frames,A=0;A<C.length;A++)if(C[A].textureKey===g){y.push(S.key);break}return y},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(f,c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++)c[g].anims.play(f);return this},staggerPlay:function(f,c,g,m){g===void 0&&(g=0),m===void 0&&(m=!0),Array.isArray(c)||(c=[c]);var y=c.length;m||y--;for(var x=0;x<c.length;x++){var S=g<0?Math.abs(g)*(y-x):g*x;c[x].anims.playAfterDelay(f,S)}return this},remove:function(f){var c=this.get(f);return c&&(this.emit(n.REMOVE_ANIMATION,f,c),this.anims.delete(f),this.removeMix(f)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(f){var c={anims:[],globalTimeScale:this.globalTimeScale};return f!==void 0&&f!==""?c.anims.push(this.anims.get(f).toJSON()):this.anims.each(function(g,m){c.anims.push(m.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});v.exports=d},9674:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42099),p=t(30976),a=t(83419),r=t(90330),n=t(74943),e=t(95540),s=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(o){var i=this.parent;if(o===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(o)||(o=[o]);for(var h=0;h<o.length;h++){var u=o[h];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(o){this.isPlaying&&this.stop();var i=this.animationManager,h=typeof o=="string"?o:e(o,"key",null),u=this.exists(h)?this.get(h):i.get(h);if(!u)console.warn("Missing animation: "+h);else{this.currentAnim=u;var d=u.getTotalFrames(),f=e(o,"frameRate",u.frameRate),c=e(o,"duration",u.duration);u.calculateDuration(this,d,c,f),this.delay=e(o,"delay",u.delay),this.repeat=e(o,"repeat",u.repeat),this.repeatDelay=e(o,"repeatDelay",u.repeatDelay),this.yoyo=e(o,"yoyo",u.yoyo),this.showBeforeDelay=e(o,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=e(o,"showOnStart",u.showOnStart),this.hideOnComplete=e(o,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=e(o,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=e(o,"randomFrame",u.randomFrame),this.timeScale=e(o,"timeScale",this.timeScale);var g=e(o,"startFrame",0);g>d&&(g=0),this.randomFrame&&(g=p(0,d-1));var m=u.frames[g];g===0&&!this.forward&&(m=u.getLastFrame()),this.currentFrame=m}return this.parent},pause:function(o){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),o!==void 0&&this.setCurrentFrame(o),this.parent},resume:function(o){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),o!==void 0&&this.setCurrentFrame(o),this.parent},playAfterDelay:function(o,i){if(!this.isPlaying)this.delayCounter=i,this.play(o,!0);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.nextAnim=o,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(o,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(o);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=o,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(o,i){i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent,d=typeof o=="string"?o:o.key;if(i&&this.isPlaying&&h.key===d)return u;if(h&&this.isPlaying){var f=this.animationManager.getMix(h.key,o);if(f>0)return this.playAfterDelay(o,f)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o)},playReverse:function(o,i){i===void 0&&(i=!1);var h=typeof o=="string"?o:o.key;return i&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o))},startAnimation:function(o){this.load(o);var i=this.currentAnim,h=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(o,i){var h=this.currentAnim;if(h){var u=this.currentFrame,d=this.parent,f=u.textureFrame;d.emit(o,h,u,d,f),i&&d.emit(i+h.key,h,u,d,f)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var o=this.currentFrame;if(!o)return 0;var i=o.progress;return this.inReverse&&(i*=-1),i},setProgress:function(o){return this.forward||(o=1-o),this.setCurrentFrame(this.currentAnim.getFrameByProgress(o)),this.parent},setRepeat:function(o){return this.repeatCounter=o===-1?Number.MAX_VALUE:o,this.parent},globalRemove:function(o,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(o,i){o===void 0&&(o=!1),i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent;return h?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!o,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(o)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(o)}return this.parent},stopAfterDelay:function(o){return this._pendingStop=1,this._pendingStopValue=o,this.parent},stopAfterRepeat:function(o){return o===void 0&&(o=1),this.repeatCounter!==-1&&o>this.repeatCounter&&(o=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=o,this.parent},stopOnFrame:function(o){return this._pendingStop=3,this._pendingStopValue=o,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(o,i){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?h.nextFrame(this):h.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(o){var i=this.parent;return this.currentFrame=o,i.texture=o.frame.texture,i.frame=o.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),o.setAlpha&&(i.alpha=o.alpha),i.setSizeToFrame(),i._originComponent&&(o.frame.customPivot?i.setOrigin(o.frame.pivotX,o.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===o&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(o){return this.anims?this.anims.get(o):null},exists:function(o){return this.anims?this.anims.has(o):!1},create:function(o){var i=o.key,h=!1;return i&&(h=this.get(i),h?console.warn("Animation key already exists: "+i):(h=new l(this,i,o),this.anims||(this.anims=new r),this.anims.set(i,h))),h},createFromAseprite:function(o,i){return this.animationManager.createFromAseprite(o,i,this.parent)},generateFrameNames:function(o,i){return this.animationManager.generateFrameNames(o,i)},generateFrameNumbers:function(o,i){return this.animationManager.generateFrameNumbers(o,i)},remove:function(o){var i=this.get(o);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(o)),i},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});v.exports=s},57090:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},25312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete"},89580:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete-"},52860:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrepeat"},63850:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrestart"},99085:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstart"},28087:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstop"},1794:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationupdate"},52562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},57953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},68339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},74943:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(90330),a=t(50792),r=t(24736),n=new l({initialize:function(){this.entries=new p,this.events=new a},add:function(e,s){return this.entries.set(e,s),this.events.emit(r.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});v.exports=n},24047:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2161),p=t(83419),a=t(8443),r=new p({initialize:function(e){this.game=e,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new l),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});v.exports=r},51464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},59261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},24736:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(39506),r=t(50792),n=t(19715),e=t(87841),s=t(61340),o=t(80333),i=t(26099),h=new l({Extends:r,Mixins:[p.AlphaSingle,p.Visible],initialize:function(d,f,c,g){d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=d,this._y=f,this._width=c,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=o("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(c/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,d){return u===void 0&&(u=.5),d===void 0&&(d=u),this.originX=u,this.originY=d,this},getScroll:function(u,d,f){f===void 0&&(f=new i);var c=this.width*.5,g=this.height*.5;return f.x=u-c,f.y=d-g,this.useBounds&&(f.x=this.clampX(f.x),f.y=this.clampY(f.y)),f},centerOnX:function(u){var d=this.width*.5;return this.midPoint.x=u,this.scrollX=u-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var d=this.height*.5;return this.midPoint.y=u,this.scrollY=u-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,d){return this.centerOnX(u),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,d=this.width*.5,f=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-d,this.scrollY=u.centerY-f}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var d=this.matrix.matrix,f=d[0],c=d[1],g=d[2],m=d[3],y=f*m-c*g;if(!y)return u;var x=d[4],S=d[5],C=this.scrollX,A=this.scrollY,F=this.width,M=this.height,w=this.y,R=w+M,O=this.x,U=O+F,X=this.culledObjects,W=u.length;y=1/y,X.length=0;for(var Y=0;Y<W;++Y){var N=u[Y];if(!N.hasOwnProperty("width")||N.parentContainer){X.push(N);continue}var V=N.width,I=N.height,B=N.x-C*N.scrollFactorX-V*N.originX,G=N.y-A*N.scrollFactorY-I*N.originY,H=B*f+G*g+x,$=B*c+G*m+S,Z=(B+V)*f+(G+I)*g+x,Q=(B+V)*c+(G+I)*m+S;Z>O&&H<U&&Q>w&&$<R&&X.push(N)}return X},getWorldPoint:function(u,d,f){f===void 0&&(f=new i);var c=this.matrix.matrix,g=c[0],m=c[1],y=c[2],x=c[3],S=c[4],C=c[5],A=g*x-m*y;if(!A)return f.x=u,f.y=d,f;A=1/A;var F=x*A,M=-m*A,w=-y*A,R=g*A,O=(y*C-x*S)*A,U=(m*S-g*C)*A,X=Math.cos(this.rotation),W=Math.sin(this.rotation),Y=this.zoomX,N=this.zoomY,V=this.scrollX,I=this.scrollY,B=u+(V*X-I*W)*Y,G=d+(V*W+I*X)*N;return f.x=B*F+G*w+O,f.y=B*M+G*R+U,f},ignore:function(u){var d=this.id;Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var c=u[f];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=d}return this},clampX:function(u){var d=this._bounds,f=this.displayWidth,c=d.x+(f-this.width)/2,g=Math.max(c,c+d.width-f);return u<c?u=c:u>g&&(u=g),u},clampY:function(u){var d=this._bounds,f=this.displayHeight,c=d.y+(f-this.height)/2,g=Math.max(c,c+d.height-f);return u<c?u=c:u>g&&(u=g),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=a(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=o(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,d,f,c,g){return g===void 0&&(g=!1),this._bounds.setTo(u,d,f,c),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var d=this._bounds;return u.setTo(d.x,d.y,d.width,d.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,d){return d===void 0&&(d=u),this.x=u,this.y=d,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=d;var f=u.sys;return this.sceneManager=f.game.scene,this.scaleManager=f.scale,this.cameraManager=f.cameras,this.updateSystem(),this},setScroll:function(u,d){return d===void 0&&(d=u),this.scrollX=u,this.scrollY=d,this},setSize:function(u,d){return d===void 0&&(d=u),this.width=u,this.height=d,this},setViewport:function(u,d,f,c){return this.x=u,this.y=d,this.width=f,this.height=c,this},setZoom:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),u===0&&(u=.001),d===0&&(d=.001),this.zoomX=u,this.zoomY=d,this},setMask:function(u,d){return d===void 0&&(d=!0),this.mask=u,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;u&&!this._customViewport?d.customViewports++:!u&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});v.exports=h},38058:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71911),p=t(67502),a=t(45319),r=t(83419),n=t(31401),e=t(20052),s=t(19715),o=t(28915),i=t(87841),h=t(26099),u=new r({Extends:l,Mixins:[n.PostPipeline],initialize:function(f,c,g,m){l.call(this,f,c,g,m),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(d,f){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=f):this.deadzone=new i(0,0,d,f),this._follow){var c=this.width/2,g=this.height/2,m=this._follow.x-this.followOffset.x,y=this._follow.y-this.followOffset.y;this.midPoint.set(m,y),this.scrollX=m-c,this.scrollY=y-g}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,f,c,g,m,y){return this.fadeEffect.start(!1,d,f,c,g,!0,m,y)},fadeOut:function(d,f,c,g,m,y){return this.fadeEffect.start(!0,d,f,c,g,!0,m,y)},fadeFrom:function(d,f,c,g,m,y,x){return this.fadeEffect.start(!1,d,f,c,g,m,y,x)},fade:function(d,f,c,g,m,y,x){return this.fadeEffect.start(!0,d,f,c,g,m,y,x)},flash:function(d,f,c,g,m,y,x){return this.flashEffect.start(d,f,c,g,m,y,x)},shake:function(d,f,c,g,m){return this.shakeEffect.start(d,f,c,g,m)},pan:function(d,f,c,g,m,y,x){return this.panEffect.start(d,f,c,g,m,y,x)},rotateTo:function(d,f,c,g,m,y,x){return this.rotateToEffect.start(d,f,c,g,m,y,x)},zoomTo:function(d,f,c,g,m,y){return this.zoomEffect.start(d,f,c,g,m,y)},preRender:function(){this.renderList.length=0;var d=this.width,f=this.height,c=d*.5,g=f*.5,m=this.zoomX,y=this.zoomY,x=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(m)&&Number.isInteger(y);var S=d*this.originX,C=f*this.originY,A=this._follow,F=this.deadzone,M=this.scrollX,w=this.scrollY;F&&p(F,this.midPoint.x,this.midPoint.y);var R=!1;if(A&&!this.panEffect.isRunning){var O=this.lerp,U=A.x-this.followOffset.x,X=A.y-this.followOffset.y;F?(U<F.x?M=o(M,M-(F.x-U),O.x):U>F.right&&(M=o(M,M+(U-F.right),O.x)),X<F.y?w=o(w,w-(F.y-X),O.y):X>F.bottom&&(w=o(w,w+(X-F.bottom),O.y))):(M=o(M,U-S,O.x),w=o(w,X-C,O.y)),R=!0}this.roundPixels&&(M=Math.floor(M),w=Math.floor(w)),this.useBounds&&(M=this.clampX(M),w=this.clampY(w)),this.scrollX=M,this.scrollY=w;var W=M+c,Y=w+g;this.midPoint.set(W,Y);var N=Math.floor(d/m+.5),V=Math.floor(f/y+.5),I=Math.floor(W-N/2+.5),B=Math.floor(Y-V/2+.5);this.worldView.setTo(I,B,N,V),x.applyITRS(Math.floor(this.x+S+.5),Math.floor(this.y+C+.5),this.rotation,m,y),x.translate(-S,-C),this.shakeEffect.preRender(),R&&this.emit(s.FOLLOW_UPDATE,this,A)},setLerp:function(d,f){return d===void 0&&(d=1),f===void 0&&(f=d),this.lerp.set(d,f),this},setFollowOffset:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=0),this.followOffset.set(d,f),this},startFollow:function(d,f,c,g,m,y){f===void 0&&(f=!1),c===void 0&&(c=1),g===void 0&&(g=c),m===void 0&&(m=0),y===void 0&&(y=m),this._follow=d,this.roundPixels=f,c=a(c,0,1),g=a(g,0,1),this.lerp.set(c,g),this.followOffset.set(m,y);var x=this.width/2,S=this.height/2,C=d.x-m,A=d.y-y;return this.midPoint.set(C,A),this.scrollX=C-x,this.scrollY=A-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,f){this.visible&&(this.rotateToEffect.update(d,f),this.panEffect.update(d,f),this.zoomEffect.update(d,f),this.shakeEffect.update(d,f),this.flashEffect.update(d,f),this.fadeEffect.update(d,f))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});v.exports=u},32743:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38058),p=t(83419),a=t(95540),r=t(37277),n=t(37303),e=t(97480),s=t(44594),o=new p({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(s.BOOT,this.boot,this),h.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(s.UPDATE,this.update,this),h.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,h,u,d,f,c){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),f===void 0&&(f=!1),c===void 0&&(c="");var g=new l(i,h,u,d);return g.setName(c),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),f&&(this.main=g),g},addExisting:function(i,h){h===void 0&&(h=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),h&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,h=1,u=0;u<32;u++){for(var d=!1,f=0;f<i.length;f++){var c=i[f];if(c&&c.id===h){d=!0;continue}}if(d)h=h<<1;else return h}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var h=0,u=this.cameras,d=0;d<u.length;d++){var f=u[d];(!i||i&&f.visible)&&h++}return h},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var h=this.scene.sys.scale.width,u=this.scene.sys.scale.height,d=0;d<i.length;d++){var f=i[d],c=a(f,"x",0),g=a(f,"y",0),m=a(f,"width",h),y=a(f,"height",u),x=this.add(c,g,m,y);x.name=a(f,"name",""),x.zoom=a(f,"zoom",1),x.rotation=a(f,"rotation",0),x.scrollX=a(f,"scrollX",0),x.scrollY=a(f,"scrollY",0),x.roundPixels=a(f,"roundPixels",!1),x.visible=a(f,"visible",!0);var S=a(f,"backgroundColor",!1);S&&x.setBackgroundColor(S);var C=a(f,"bounds",null);if(C){var A=a(C,"x",0),F=a(C,"y",0),M=a(C,"width",h),w=a(C,"height",u);x.setBounds(A,F,M,w)}}return this},getCamera:function(i){for(var h=this.cameras,u=0;u<h.length;u++)if(h[u].name===i)return h[u];return null},getCamerasBelowPointer:function(i){for(var h=this.cameras,u=i.x,d=i.y,f=[],c=0;c<h.length;c++){var g=h[c];g.visible&&g.inputEnabled&&n(g,u,d)&&f.unshift(g)}return f},remove:function(i,h){h===void 0&&(h=!0),Array.isArray(i)||(i=[i]);for(var u=0,d=this.cameras,f=0;f<i.length;f++){var c=d.indexOf(i[f]);c!==-1&&(h?d[c].destroy():d[c].renderList=[],d.splice(c,1),u++)}return!this.main&&d[0]&&(this.main=d[0]),u},render:function(i,h){for(var u=this.scene,d=this.cameras,f=0;f<d.length;f++){var c=d[f];if(c.visible&&c.alpha>0){c.preRender();var g=this.getVisibleChildren(h.getChildren(),c);i.render(u,g,c)}}},getVisibleChildren:function(i,h){return i.filter(function(u){return u.willRender(h)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,h)},onResize:function(i,h,u,d,f){for(var c=0;c<this.cameras.length;c++){var g=this.cameras[c];g._x===0&&g._y===0&&g._width===d&&g._height===f&&g.setSize(h.width,h.height)}},resize:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,h)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var h=this.systems.events;h.off(s.UPDATE,this.update,this),h.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",o,"cameras"),v.exports=o},5020:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(19715),r=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,s,o,i,h,u,d){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=s,this.green=o,this.blue=i,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d;var f=n?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(f,this.camera,this,e,s,o,i),this.camera},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,o=this.red/255,i=this.green/255,h=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(h,i,o,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},10662:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(19715),r=new p({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,s,o,i,h,u){return n===void 0&&(n=250),e===void 0&&(e=255),s===void 0&&(s=255),o===void 0&&(o=255),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=s,this.blue=o,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(a.FLASH_START,this.camera,this,n,e,s,o),this.camera)},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var s=this.camera,o=this.red/255,i=this.green/255,h=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(h,i,o,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},20359:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(62640),r=t(19715),n=t(26099),e=new p({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,o,i,h,u,d,f){i===void 0&&(i=1e3),h===void 0&&(h=a.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(s,o),c.getScroll(s,o,this.current),typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=f,this.camera.emit(r.PAN_START,this.camera,this,i,s,o)),c},update:function(s,o){if(this.isRunning){this._elapsed+=o;var i=l(this._elapsed/this.duration,0,1);this.progress=i;var h=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);h.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*u,f=this.source.y+(this.current.y-this.source.y)*u;h.setScroll(d,f),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,d,f)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=e},34208:(v,T,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l=t(45319),p=t(83419),a=t(19715),r=t(62640),n=new p({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,o,i,h,u,d){o===void 0&&(o=1e3),i===void 0&&(i=r.Linear),h===void 0&&(h=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var f=e;e<0?(f=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;f=f-Math.floor(f/c)*c;var g=this.camera;if(!h&&this.isRunning)return g;if(this.isRunning=!0,this.duration=o,this.progress=0,this.source=g.rotation,this.destination=f,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.shortestPath){var m=0,y=0;this.destination>this.source?m=Math.abs(this.destination-this.source):m=Math.abs(this.destination+c)-this.source,this.source>this.destination?y=Math.abs(this.source-this.destination):y=Math.abs(this.source+c)-this.destination,m<y?this.clockwise=!0:m>y&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,o,f),g},update:function(e,s){if(this.isRunning){this._elapsed+=s;var o=l(this._elapsed/this.duration,0,1);this.progress=o;var i=this.camera;if(this._elapsed<this.duration){var h=this.ease(o);this.current=i.rotation;var u=0,d=360*Math.PI/180,f=this.destination,c=this.current;this.clockwise===!1&&(f=this.current,c=this.destination),f>=c?u=Math.abs(f-c):u=Math.abs(f+d)-c;var g=0;this.clockwise?g=i.rotation+u*h:g=i.rotation-u*h,i.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,g)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=n},30330:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(19715),r=t(26099),n=new p({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,h){return e===void 0&&(e=100),s===void 0&&(s=.05),o===void 0&&(o=!1),i===void 0&&(i=null),h===void 0&&(h=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=h,this.camera.emit(a.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(this.isRunning)if(this._elapsed+=s,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var o=this.intensity,i=this.camera.width,h=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*o.x*i*2-o.x*i)*u,this._offsetY=(Math.random()*o.y*h*2-o.y*h)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});v.exports=n},45641:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(62640),r=t(19715),n=new p({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,h,u){s===void 0&&(s=1e3),o===void 0&&(o=a.Linear),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene);var d=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=d.zoom,this.destination=e,typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(r.ZOOM_START,this.camera,this,s,e)),d},update:function(e,s){this.isRunning&&(this._elapsed+=s,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=n},20052:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameradestroy"},32726:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeincomplete"},87807:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeinstart"},45917:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutcomplete"},95666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutstart"},47056:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashcomplete"},91261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashstart"},45047:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="followupdate"},81927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapancomplete"},74264:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapanstart"},54419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},79330:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},93183:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatecomplete"},80112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatestart"},62252:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakecomplete"},86017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakestart"},539:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomcomplete"},51892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomstart"},19715:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(35154),a=new l({initialize:function(n){this.camera=p(n,"camera",null),this.left=p(n,"left",null),this.right=p(n,"right",null),this.up=p(n,"up",null),this.down=p(n,"down",null),this.zoomIn=p(n,"zoomIn",null),this.zoomOut=p(n,"zoomOut",null),this.zoomSpeed=p(n,"zoomSpeed",.01),this.minZoom=p(n,"minZoom",.001),this.maxZoom=p(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=p(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=p(n,"speed.x",0),this.speedY=p(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},58818:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(35154),a=new l({initialize:function(n){this.camera=p(n,"camera",null),this.left=p(n,"left",null),this.right=p(n,"right",null),this.up=p(n,"up",null),this.down=p(n,"down",null),this.zoomIn=p(n,"zoomIn",null),this.zoomOut=p(n,"zoomOut",null),this.zoomSpeed=p(n,"zoomSpeed",.01),this.minZoom=p(n,"minZoom",.001),this.maxZoom=p(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=p(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=p(n,"acceleration.x",0),this.accelY=p(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=p(n,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=p(n,"drag.x",0),this.dragY=p(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var o=p(n,"maxSpeed",null);typeof o=="number"?(this.maxSpeedX=o,this.maxSpeedY=o):(this.maxSpeedX=p(n,"maxSpeed.x",0),this.maxSpeedY=p(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*r|0),this._speedY!==0&&(n.scrollY-=this._speedY*r|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},38865:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};v.exports=l},69547:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(8054),a=t(42363),r=t(82264),n=t(95540),e=t(35154),s=t(41212),o=t(29747),i=t(75508),h=t(36060),u=t(80333),d=new l({initialize:function(c){c===void 0&&(c={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],m="#ffffff",y=e(c,"scale",null);this.width=e(y,"width",1024,c),this.height=e(y,"height",768,c),this.zoom=e(y,"zoom",1,c),this.parent=e(y,"parent",void 0,c),this.scaleMode=e(y,y?"mode":"scaleMode",0,c),this.expandParent=e(y,"expandParent",!0,c),this.autoRound=e(y,"autoRound",!1,c),this.autoCenter=e(y,"autoCenter",0,c),this.resizeInterval=e(y,"resizeInterval",500,c),this.fullscreenTarget=e(y,"fullscreenTarget",null,c),this.minWidth=e(y,"min.width",0,c),this.maxWidth=e(y,"max.width",0,c),this.minHeight=e(y,"min.height",0,c),this.maxHeight=e(y,"max.height",0,c),this.snapWidth=e(y,"snap.width",0,c),this.snapHeight=e(y,"snap.height",0,c),this.renderType=e(c,"type",p.AUTO),this.canvas=e(c,"canvas",null),this.context=e(c,"context",null),this.canvasStyle=e(c,"canvasStyle",null),this.customEnvironment=e(c,"customEnvironment",!1),this.sceneConfig=e(c,"scene",null),this.seed=e(c,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(c,"title",""),this.gameURL=e(c,"url","https://phaser.io/"+p.LOG_VERSION),this.gameVersion=e(c,"version",""),this.autoFocus=e(c,"autoFocus",!0),this.stableSort=e(c,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(c,"dom.createContainer",!1),this.domPointerEvents=e(c,"dom.pointerEvents","none"),this.inputKeyboard=e(c,"input.keyboard",!0),this.inputKeyboardEventTarget=e(c,"input.keyboard.target",window),this.inputKeyboardCapture=e(c,"input.keyboard.capture",[]),this.inputMouse=e(c,"input.mouse",!0),this.inputMouseEventTarget=e(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(c,"input.touch",r.input.touch),this.inputTouchEventTarget=e(c,"input.touch.target",null),this.inputTouchCapture=e(c,"input.touch.capture",!0),this.inputActivePointers=e(c,"input.activePointers",1),this.inputSmoothFactor=e(c,"input.smoothFactor",0),this.inputWindowEvents=e(c,"input.windowEvents",!0),this.inputGamepad=e(c,"input.gamepad",!1),this.inputGamepadEventTarget=e(c,"input.gamepad.target",window),this.disableContextMenu=e(c,"disableContextMenu",!1),this.audio=e(c,"audio",{}),this.hideBanner=e(c,"banner",null)===!1,this.hidePhaser=e(c,"banner.hidePhaser",!1),this.bannerTextColor=e(c,"banner.text",m),this.bannerBackgroundColor=e(c,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(c,"fps",null),this.disablePreFX=e(c,"disablePreFX",!1),this.disablePostFX=e(c,"disablePostFX",!1);var x=e(c,"render",null);this.pipeline=e(x,"pipeline",null,c),this.autoMobilePipeline=e(x,"autoMobilePipeline",!0,c),this.defaultPipeline=e(x,"defaultPipeline",h.MULTI_PIPELINE,c),this.antialias=e(x,"antialias",!0,c),this.antialiasGL=e(x,"antialiasGL",!0,c),this.mipmapFilter=e(x,"mipmapFilter","",c),this.desynchronized=e(x,"desynchronized",!1,c),this.roundPixels=e(x,"roundPixels",!1,c),this.pixelArt=e(x,"pixelArt",this.zoom!==1,c),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(x,"transparent",!1,c),this.clearBeforeRender=e(x,"clearBeforeRender",!0,c),this.preserveDrawingBuffer=e(x,"preserveDrawingBuffer",!1,c),this.premultipliedAlpha=e(x,"premultipliedAlpha",!0,c),this.failIfMajorPerformanceCaveat=e(x,"failIfMajorPerformanceCaveat",!1,c),this.powerPreference=e(x,"powerPreference","default",c),this.batchSize=e(x,"batchSize",4096,c),this.maxTextures=e(x,"maxTextures",-1,c),this.maxLights=e(x,"maxLights",10,c);var S=e(c,"backgroundColor",0);this.backgroundColor=u(S),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(c,"callbacks.preBoot",o),this.postBoot=e(c,"callbacks.postBoot",o),this.physics=e(c,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(c,"loader.baseURL",""),this.loaderPath=e(c,"loader.path",""),this.loaderMaxParallelDownloads=e(c,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(c,"loader.crossOrigin",void 0),this.loaderResponseType=e(c,"loader.responseType",""),this.loaderAsync=e(c,"loader.async",!0),this.loaderUser=e(c,"loader.user",""),this.loaderPassword=e(c,"loader.password",""),this.loaderTimeout=e(c,"loader.timeout",0),this.loaderMaxRetries=e(c,"loader.maxRetries",2),this.loaderWithCredentials=e(c,"loader.withCredentials",!1),this.loaderImageLoadType=e(c,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(c,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(c,"fx.glow.quality",.1),this.glowFXDistance=e(c,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var C=e(c,"plugins",null),A=a.DefaultScene;C&&(Array.isArray(C)?this.defaultPlugins=C:s(C)&&(this.installGlobalPlugins=n(C,"global",[]),this.installScenePlugins=n(C,"scene",[]),Array.isArray(C.default)?A=C.default:Array.isArray(C.defaultMerge)&&(A=A.concat(C.defaultMerge)))),this.defaultPlugins=A;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(c,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(c,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});v.exports=d},86054:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20623),p=t(27919),a=t(8054),r=t(89357),n=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==a.HEADLESS)if(s.renderType===a.AUTO&&(s.renderType=r.webGL?a.WEBGL:a.CANVAS),s.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||p.disableSmoothing();var o=e.scale.baseSize,i=o.width,h=o.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=h):e.canvas=p.create(e,i,h,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||l.setCrisp(e.canvas),s.renderType!==a.HEADLESS){var u,d;u=t(68627),d=t(74797),s.renderType===a.WEBGL?e.renderer=new d(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};v.exports=n},96391:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8054),p=function(a){var r=a.config;if(!r.hideBanner){var n="WebGL";r.renderType===l.CANVAS?n="Canvas":r.renderType===l.HEADLESS&&(n="Headless");var e=r.audio,s=a.device.audio,o;if(s.webAudio&&!e.disableWebAudio?o="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?o="No Audio":o="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var i="",h=[i];if(Array.isArray(r.bannerBackgroundColor)){var u;r.bannerBackgroundColor.forEach(function(f){i=i.concat("%c "),h.push("background: "+f),u=f}),h[h.length-1]="color: "+r.bannerTextColor+"; background: "+u}else i=i.concat("%c "),h.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);h.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var d="";r.hidePhaser||(i=i.concat("Phaser v"+l.VERSION+d+" ("+n+" | "+o+")")),i=i.concat(" %c "+r.gameURL),h[0]=i,console.log.apply(console,h)}}};v.exports=p},50127:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),p=t(60848),a=t(24047),r=t(27919),n=t(83419),e=t(69547),s=t(83719),o=t(86054),i=t(45893),h=t(96391),u=t(82264),d=t(57264),f=t(50792),c=t(8443),g=t(7003),m=t(37277),y=t(77332),x=t(76531),S=t(60903),C=t(69442),A=t(17130),F=t(65898),M=t(51085),w=t(14747),R=new n({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new f,this.anims=new p(this),this.textures=new A(this),this.cache=new a(this),this.registry=new i(this,new f),this.input=new g(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=u,this.scale=new x(this,this.config),this.sound=null,this.sound=w.create(this),this.loop=new F(this,this.config.fps),this.plugins=new y(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!m.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),o(this),s(this),h(this),l(this.canvas,this.config.parent),this.textures.once(C.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),M(this);var O=this.events;O.on(c.HIDDEN,this.onHidden,this),O.on(c.VISIBLE,this.onVisible,this),O.on(c.BLUR,this.onBlur,this),O.on(c.FOCUS,this.onFocus,this)},step:function(O,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(c.PRE_STEP,O,U),X.emit(c.STEP,O,U),this.scene.update(O,U),X.emit(c.POST_STEP,O,U);var W=this.renderer;W.preRender(),X.emit(c.PRE_RENDER,W,O,U),this.scene.render(W),W.postRender(),X.emit(c.POST_RENDER,W,O,U)}},headlessStep:function(O,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(c.PRE_STEP,O,U),X.emit(c.STEP,O,U),this.scene.update(O,U),X.emit(c.POST_STEP,O,U),this.scene.isProcessing=!1,X.emit(c.PRE_RENDER,null,O,U),X.emit(c.POST_RENDER,null,O,U)}},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},pause:function(){var O=this.isPaused;this.isPaused=!0,O||this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME,this.loop.pauseDuration)},resume:function(){var O=this.isPaused;this.isPaused=!1,O&&this.events.emit(c.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(O,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=O,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});v.exports=R},65898:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(35154),a=t(29747),r=t(43092),n=new l({initialize:function(s,o){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=p(o,"min",5),this.targetFps=p(o,"target",60),this.fpsLimit=p(o,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=p(o,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(o,"deltaHistory",10),this.panicMax=p(o,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(o,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,o=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=o[s],e=Math.min(e,this._min)),o[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var h=0,u=0;u<i;u++)h+=o[u];return h/=i,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});v.exports=n},51085:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8443),p=function(a){var r,n=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(o){document[o+"Hidden"]!==void 0&&(document.hidden=function(){return document[o+"Hidden"]},r=o+"visibilitychange")})}var s=function(o){document.hidden||o.type==="pause"?n.emit(l.HIDDEN):n.emit(l.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){n.emit(l.BLUR)},window.onfocus=function(){n.emit(l.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};v.exports=p},97217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="blur"},47548:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},19814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="contextlost"},68446:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},41700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="focus"},25432:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="hidden"},65942:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},59211:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},47789:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="poststep"},39066:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},460:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prestep"},16175:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},42331:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},11966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="step"},32969:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="systemready"},94830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="visible"},8443:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5290),p=t(27919),a=t(35154),r=function(n){var e=a(n,"data",[]),s=a(n,"canvas",null),o=a(n,"palette",l),i=a(n,"pixelWidth",1),h=a(n,"pixelHeight",i),u=a(n,"resizeCanvas",!0),d=a(n,"clearCanvas",!0),f=a(n,"preRender",null),c=a(n,"postRender",null),g=Math.floor(Math.abs(e[0].length*i)),m=Math.floor(Math.abs(e.length*h));s||(s=p.create2D(this,g,m),u=!1,d=!1),u&&(s.width=g,s.height=m);var y=s.getContext("2d",{willReadFrequently:!0});d&&y.clearRect(0,0,g,m),f&&f(s,y);for(var x=0;x<e.length;x++)for(var S=e[x],C=0;C<S.length;C++){var A=S[C];A!=="."&&A!==" "&&(y.fillStyle=o[A],y.fillRect(C*i,x*h,i,h))}return c&&c(s,y),s};v.exports=r},15822:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(36316),a=t(80021),r=t(26099),n=new l({Extends:a,initialize:function(s,o,i,h){a.call(this,"CubicBezierCurve"),Array.isArray(s)&&(h=new r(s[6],s[7]),i=new r(s[4],s[5]),o=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.p0,i=this.p1,h=this.p2,u=this.p3;return s.set(p(e,o.x,i.x,h.x,u.x),p(e,o.y,i.y,h.y,u.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var s=e.points,o=new r(s[0],s[1]),i=new r(s[2],s[3]),h=new r(s[4],s[5]),u=new r(s[6],s[7]);return new n(o,i,h,u)},v.exports=n},80021:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(19217),a=t(87841),r=t(26099),n=new l({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new a),s===void 0&&(s=16);var o=this.getLength();s>o&&(s=o/2);var i=Math.max(1,Math.round(o/s));return p(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),o=Math.max(1,s/e);return this.getSpacedPoints(o)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],o,i=this.getPoint(0,this._tmpVec2A),h=0;s.push(0);for(var u=1;u<=e;u++)o=this.getPoint(u/e,this._tmpVec2B),h+=o.distance(i),s.push(h),i.copy(o);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var o=this.getUtoTmapping(e);return this.getPoint(o,s)},getPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)o.push(this.getPoint(i/e));return o},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var h=this.getUtoTmapping(i/e,null,e);o.push(this.getPoint(h))}return o},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new r);var o=1e-4,i=e-o,h=e+o;return i<0&&(i=0),h>1&&(h=1),this.getPoint(i,this._tmpVec2A),this.getPoint(h,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var o=this.getUtoTmapping(e);return this.getTangent(o,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,o){var i=this.getLengths(o),h=0,u=i.length,d;s?d=Math.min(s,i[u-1]):d=e*i[u-1];for(var f=0,c=u-1,g;f<=c;)if(h=Math.floor(f+(c-f)/2),g=i[h]-d,g<0)f=h+1;else if(g>0)c=h-1;else{c=h;break}if(h=c,i[h]===d)return h/(u-1);var m=i[h],y=i[h+1],x=y-m,S=(d-m)/x;return(h+S)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});v.exports=n},73825:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(80021),a=t(39506),r=t(35154),n=t(43396),e=t(26099),s=new l({Extends:p,initialize:function(i,h,u,d,f,c,g,m){if(typeof i=="object"){var y=i;i=r(y,"x",0),h=r(y,"y",0),u=r(y,"xRadius",0),d=r(y,"yRadius",u),f=r(y,"startAngle",0),c=r(y,"endAngle",360),g=r(y,"clockwise",!1),m=r(y,"rotation",0)}else d===void 0&&(d=u),f===void 0&&(f=0),c===void 0&&(c=360),g===void 0&&(g=!1),m===void 0&&(m=0);p.call(this,"EllipseCurve"),this.p0=new e(i,h),this._xRadius=u,this._yRadius=d,this._startAngle=a(f),this._endAngle=a(c),this._clockwise=g,this._rotation=a(m)},getStartPoint:function(o){return o===void 0&&(o=new e),this.getPoint(0,o)},getResolution:function(o){return o*2},getPoint:function(o,i){i===void 0&&(i=new e);for(var h=Math.PI*2,u=this._endAngle-this._startAngle,d=Math.abs(u)<Number.EPSILON;u<0;)u+=h;for(;u>h;)u-=h;u<Number.EPSILON&&(d?u=0:u=h),this._clockwise&&!d&&(u===h?u=-h:u=u-h);var f=this._startAngle+o*u,c=this.p0.x+this._xRadius*Math.cos(f),g=this.p0.y+this._yRadius*Math.sin(f);if(this._rotation!==0){var m=Math.cos(this._rotation),y=Math.sin(this._rotation),x=c-this.p0.x,S=g-this.p0.y;c=x*m-S*y+this.p0.x,g=x*y+S*m+this.p0.y}return i.set(c,g)},setXRadius:function(o){return this.xRadius=o,this},setYRadius:function(o){return this.yRadius=o,this},setWidth:function(o){return this.xRadius=o/2,this},setHeight:function(o){return this.yRadius=o/2,this},setStartAngle:function(o){return this.startAngle=o,this},setEndAngle:function(o){return this.endAngle=o,this},setClockwise:function(o){return this.clockwise=o,this},setRotation:function(o){return this.rotation=o,this},x:{get:function(){return this.p0.x},set:function(o){this.p0.x=o}},y:{get:function(){return this.p0.y},set:function(o){this.p0.y=o}},xRadius:{get:function(){return this._xRadius},set:function(o){this._xRadius=o}},yRadius:{get:function(){return this._yRadius},set:function(o){this._yRadius=o}},startAngle:{get:function(){return n(this._startAngle)},set:function(o){this._startAngle=a(o)}},endAngle:{get:function(){return n(this._endAngle)},set:function(o){this._endAngle=a(o)}},clockwise:{get:function(){return this._clockwise},set:function(o){this._clockwise=o}},angle:{get:function(){return n(this._rotation)},set:function(o){this._rotation=a(o)}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=o}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});s.fromJSON=function(o){return new s(o)},v.exports=s},33951:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(80021),a=t(19217),r=t(87841),n=t(26099),e=new l({Extends:p,initialize:function(o,i){p.call(this,"LineCurve"),Array.isArray(o)&&(i=new n(o[2],o[3]),o=new n(o[0],o[1])),this.p0=o,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),a([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new n),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,o){return o===void 0&&(o=new n),s===1?o.copy(this.p1):(o.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),o)},getPointAt:function(s,o){return this.getPoint(s,o)},getTangent:function(s,o){return o===void 0&&(o=new n),o.copy(this.p1).subtract(this.p0).normalize(),o},getUtoTmapping:function(s,o,i){var h;if(o){var u=this.getLengths(i),d=u[u.length-1],f=Math.min(o,d);h=f/d}else h=s;return h},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var o=s.points,i=new n(o[0],o[1]),h=new n(o[2],o[3]);return new e(i,h)},v.exports=e},14744:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(80021),a=t(32112),r=t(26099),n=new l({Extends:p,initialize:function(s,o,i){p.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new r(s[4],s[5]),o=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.p0,i=this.p1,h=this.p2;return s.set(a(e,o.x,i.x,h.x),a(e,o.y,i.y,h.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var s=e.points,o=new r(s[0],s[1]),i=new r(s[2],s[3]),h=new r(s[4],s[5]);return new n(o,i,h)},v.exports=n},42534:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87842),p=t(83419),a=t(80021),r=t(26099),n=new p({Extends:a,initialize:function(s){s===void 0&&(s=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var o=new r;typeof e[s]=="number"?(o.x=e[s],o.y=e[s+1],s++):Array.isArray(e[s])?(o.x=e[s][0],o.y=e[s][1]):(o.x=e[s].x,o.y=e[s].y),this.points.push(o)}return this},addPoint:function(e,s){var o=new r(e,s);return this.points.push(o),o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.points,i=(o.length-1)*e,h=Math.floor(i),u=i-h,d=o[h===0?h:h-1],f=o[h],c=o[h>o.length-2?o.length-1:h+1],g=o[h>o.length-3?o.length-1:h+2];return s.set(l(u,d.x,f.x,c.x,g.x),l(u,d.y,f.y,c.y,g.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},v.exports=n},25410:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(26099),a=new l({initialize:function(n,e){this.active=!1,this.p0=new p(n,e)},getPoint:function(r,n){return n===void 0&&(n=new p),n.copy(this.p0)},getPointAt:function(r,n){return this.getPoint(r,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});v.exports=a},46669:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(46728),a=t(73825),r=t(39429),n=t(33951),e=t(68618),s=t(14744),o=t(87841),i=t(42534),h=t(26099),u=t(36383),d=new l({initialize:function(c,g){c===void 0&&(c=0),g===void 0&&(g=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,g)},add:function(f){return this.curves.push(f),this},circleTo:function(f,c,g){return c===void 0&&(c=!1),this.ellipseTo(f,f,0,360,c,g)},closePath:function(){var f=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return f.equals(c)||this.curves.push(new n(c,f)),this},cubicBezierTo:function(f,c,g,m,y,x){var S=this.getEndPoint(),C,A,F;return f instanceof h?(C=f,A=c,F=g):(C=new h(g,m),A=new h(y,x),F=new h(f,c)),this.add(new p(S,C,A,F))},quadraticBezierTo:function(f,c,g,m){var y=this.getEndPoint(),x,S;return f instanceof h?(x=f,S=c):(x=new h(g,m),S=new h(f,c)),this.add(new s(y,x,S))},draw:function(f,c){for(var g=0;g<this.curves.length;g++){var m=this.curves[g];m.active&&m.draw(f,c)}return f},ellipseTo:function(f,c,g,m,y,x){var S=new a(0,0,f,c,g,m,y,x),C=this.getEndPoint(this._tmpVec2A),A=S.getStartPoint(this._tmpVec2B);return C.subtract(A),S.x=C.x,S.y=C.y,this.add(S)},fromJSON:function(f){this.curves=[],this.cacheLengths=[],this.startPoint.set(f.x,f.y),this.autoClose=f.autoClose;for(var c=0;c<f.curves.length;c++){var g=f.curves[c];switch(g.type){case"LineCurve":this.add(n.fromJSON(g));break;case"EllipseCurve":this.add(a.fromJSON(g));break;case"SplineCurve":this.add(i.fromJSON(g));break;case"CubicBezierCurve":this.add(p.fromJSON(g));break;case"QuadraticBezierCurve":this.add(s.fromJSON(g));break}}return this},getBounds:function(f,c){f===void 0&&(f=new o),c===void 0&&(c=16),f.x=Number.MAX_VALUE,f.y=Number.MAX_VALUE;for(var g=new o,m=u.MIN_SAFE_INTEGER,y=u.MIN_SAFE_INTEGER,x=0;x<this.curves.length;x++){var S=this.curves[x];S.active&&(S.getBounds(g,c),f.x=Math.min(f.x,g.x),f.y=Math.min(f.y,g.y),m=Math.max(m,g.right),y=Math.max(y,g.bottom))}return f.right=m,f.bottom=y,f},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var f=[],c=0,g=0;g<this.curves.length;g++)c+=this.curves[g].getLength(),f.push(c);return this.cacheLengths=f,f},getCurveAt:function(f){for(var c=f*this.getLength(),g=this.getCurveLengths(),m=0;m<g.length;){if(g[m]>=c)return this.curves[m];m++}return null},getEndPoint:function(f){return f===void 0&&(f=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,f):f.copy(this.startPoint),f},getLength:function(){var f=this.getCurveLengths();return f[f.length-1]},getPoint:function(f,c){c===void 0&&(c=new h);for(var g=f*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=g){var x=m[y]-g,S=this.curves[y],C=S.getLength(),A=C===0?0:1-x/C;return S.getPointAt(A,c)}y++}return null},getPoints:function(f,c){!f&&!c&&(f=this.defaultDivisions);for(var g=[],m,y=0;y<this.curves.length;y++){var x=this.curves[y];if(x.active)for(var S=x.getResolution(f),C=x.getPoints(S,c),A=0;A<C.length;A++){var F=C[A];m&&m.equals(F)||(g.push(F),m=F)}}return this.autoClose&&g.length>1&&!g[g.length-1].equals(g[0])&&g.push(g[0]),g},getRandomPoint:function(f){return f===void 0&&(f=new h),this.getPoint(Math.random(),f)},getSpacedPoints:function(f){f===void 0&&(f=40);for(var c=[],g=0;g<=f;g++)c.push(this.getPoint(g/f));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(f){return f===void 0&&(f=new h),f.copy(this.startPoint)},getTangent:function(f,c){c===void 0&&(c=new h);for(var g=f*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=g){var x=m[y]-g,S=this.curves[y],C=S.getLength(),A=C===0?0:1-x/C;return S.getTangentAt(A,c)}y++}return null},lineTo:function(f,c){f instanceof h?this._tmpVec2B.copy(f):typeof f=="object"?this._tmpVec2B.setFromObject(f):this._tmpVec2B.set(f,c);var g=this.getEndPoint(this._tmpVec2A);return this.add(new n([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(f){return f.unshift(this.getEndPoint()),this.add(new i(f))},moveTo:function(f,c){return f instanceof h?this.add(new e(f.x,f.y)):this.add(new e(f,c))},toJSON:function(){for(var f=[],c=0;c<this.curves.length;c++)f.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:f}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(f,c){return new d(f,c)}),v.exports=d},45893:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(24882),a=new l({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(r){var n=this.list;if(Array.isArray(r)){for(var e=[],s=0;s<r.length;s++)e.push(n[r[s]]);return e}else return n[r]},getAll:function(){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&(r[n]=this.list[n]);return r},query:function(r){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(n[e]=this.list[e]);return n},set:function(r,n){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,n);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+n),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,n){if(this._frozen)return this;if(this.has(r))this.values[r]=n;else{var e=this,s=this.list,o=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(h){if(!e._frozen){var u=s[r];s[r]=h,o.emit(p.CHANGE_DATA,i,r,h,u),o.emit(p.CHANGE_DATA_KEY+r,i,h,u)}}}),s[r]=n,o.emit(p.SET_DATA,i,r,n)}return this},each:function(r,n){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var o in this.list)e[1]=o,e[2]=this.list[o],r.apply(n,e);return this},merge:function(r,n){n===void 0&&(n=!0);for(var e in r)r.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var n=0;n<r.length;n++)this.removeValue(r[n]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var n=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(p.REMOVE_DATA,this.parent,r,n)}return this},pop:function(r){var n=void 0;return!this._frozen&&this.has(r)&&(n=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(p.REMOVE_DATA,this.parent,r,n)),n},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var n in this.list)this.list[n]!==void 0&&r++;return r}}});v.exports=a},63646:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(45893),a=t(37277),r=t(44594),n=new l({Extends:p,initialize:function(s){p.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",n,"data"),v.exports=n},10700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata"},93608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata-"},60883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},69780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedata"},22166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="setdata"},24882:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),n=!!r.canPlayType;try{if(n){var e=function(i,h){var u=r.canPlayType("audio/"+i).replace(/^no$/,"");return h?!!(u||r.canPlayType("audio/"+h).replace(/^no$/,"")):!!u};if(p.ogg=e('ogg; codecs="vorbis"'),p.opus=e('ogg; codecs="opus"',"opus"),p.mp3=e("mpeg"),p.wav=e("wav"),p.m4a=e("x-m4a"),p.aac=e("aac"),p.flac=e("flac","x-flac"),p.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(l.edge)p.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(s===10&&o>=11||s>10)&&(p.dolby=!0)}}}}catch{}return p}v.exports=a()},84148:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(p.edge=!0,p.es2019=!0):/OPR/.test(r)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(r)&&!l.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&l.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!l.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(p.silk=!0),p}v.exports=a()},89289:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",o=new Image;return o.onload=function(){var i=new Image;i.onload=function(){var h=l.create2D(i,6),u=h.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(o,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var d=u.getImageData(2,0,1,1).data;l.remove(i),p.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},i.src=e+"/wCKxvRF"+s},o.src=e+"AP804Oa6"+s,!1}function r(){var e=l.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var o=s.getImageData(0,0,1,1);if(o===null)return!1;s.putImageData(o,1,0);var i=s.getImageData(1,0,1,1),h=i.data[0]===o.data[0]&&i.data[1]===o.data[1]&&i.data[2]===o.data[2]&&i.data[3]===o.data[3];return l.remove(this),h}function n(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=a(),p.supportInverseAlpha=r()),p}v.exports=n()},89357:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),p=t(84148),a=t(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var s=new ArrayBuffer(4),o=new Uint8Array(s),i=new Uint32Array(s);return o[0]=161,o[1]=178,o[2]=195,o[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,o=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),h=i.getContext("webgl")||i.getContext("experimental-webgl"),u=a.create2D(this),d=u.getContext("2d",{willReadFrequently:!0}),f=d.createImageData(1,1);return s=f.data instanceof Uint8ClampedArray,a.remove(i),a.remove(u),!!h}catch{return!1}return!1};return r.webGL=o(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(r.getUserMedia=!1),!l.iOS&&(p.ie||p.firefox||p.chrome)&&(r.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=n()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}v.exports=e()},91639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return T;var l,p="Fullscreen",a="FullScreen",r=["request"+p,"request"+a,"webkitRequest"+p,"webkitRequest"+a,"msRequest"+p,"msRequest"+a,"mozRequest"+a,"mozRequest"+p];for(l=0;l<r.length;l++)if(document.documentElement[r[l]]){T.available=!0,T.request=r[l];break}var n=["cancel"+a,"exit"+p,"webkitCancel"+a,"webkitExit"+p,"msCancel"+a,"msExit"+p,"mozCancel"+a,"mozExit"+p];if(T.available){for(l=0;l<n.length;l++)if(document[n[l]]){T.cancel=n[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}v.exports=t()},31784:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}v.exports=a()},25892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return T;var l=navigator.userAgent;/Windows/.test(l)?T.windows=!0:/Mac OS/.test(l)&&!/like Mac OS/.test(l)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(l)?T.android=!0:/Linux/.test(l)?T.linux=!0:/iP[ao]d|iPhone/i.test(l)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=l.toLowerCase().indexOf("iphone")!==-1,T.iPad=l.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(l)||/\bKF[A-Z][A-Z]+/.test(l)||/Silk.*Mobile Safari/.test(l)?T.kindle=!0:/CrOS/.test(l)&&(T.chromeOS=!0),(/Windows Phone/i.test(l)||/IEMobile/i.test(l))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var p=/Silk/.test(l);return(T.windows||T.macOS||T.linux&&!p||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(l)&&/Touch/i.test(l))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(l)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}v.exports=t()},43267:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return p;var r=document.createElement("video"),n=!!r.canPlayType,e=/^no$/;try{n&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(p.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(p.h264=!0,p.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(p.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(p.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(p.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(p.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),p.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=l(s[o],"url",s[o]);if(i.indexOf("blob:")===0)return{url:i,type:""};var h;if(i.indexOf("data:")===0?h=i.split(",")[0].match(/\/(.*?);/):h=i.match(/\.([a-zA-Z0-9]+)($|\?)/),h=l(s[o],"type",h?h[1]:"").toLowerCase(),p[h])return{url:i,type:h}}return null},p}v.exports=a()},82264:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new Float32Array(20),a=new l({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],n)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1),r=r/180*Math.PI;var e=Math.cos(r),s=Math.sin(r),o=.213,i=.715,h=.072;return this.multiply([o+e*(1-o)+s*-.213,i+e*-.715+s*-.715,h+e*-.072+s*(1-h),0,0,o+e*-.213+s*.143,i+e*(1-i)+s*.14,h+e*-.072+s*-.283,0,0,o+e*-.213+s*-.787,i+e*-.715+s*i,h+e*(1-h)+s*h,0,0,0,0,0,1,0],n)},grayscale:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=!1),this.saturate(-r,n)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],n)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,n){return r===void 0&&(r=.1),n===void 0&&(n=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],n)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,s=p;return s.set(e),e.set([s[0]*r[0]+s[1]*r[5]+s[2]*r[10]+s[3]*r[15],s[0]*r[1]+s[1]*r[6]+s[2]*r[11]+s[3]*r[16],s[0]*r[2]+s[1]*r[7]+s[2]*r[12]+s[3]*r[17],s[0]*r[3]+s[1]*r[8]+s[2]*r[13]+s[3]*r[18],s[0]*r[4]+s[1]*r[9]+s[2]*r[14]+s[3]*r[19]+s[4],s[5]*r[0]+s[6]*r[5]+s[7]*r[10]+s[8]*r[15],s[5]*r[1]+s[6]*r[6]+s[7]*r[11]+s[8]*r[16],s[5]*r[2]+s[6]*r[7]+s[7]*r[12]+s[8]*r[17],s[5]*r[3]+s[6]*r[8]+s[7]*r[13]+s[8]*r[18],s[5]*r[4]+s[6]*r[9]+s[7]*r[14]+s[8]*r[19]+s[9],s[10]*r[0]+s[11]*r[5]+s[12]*r[10]+s[13]*r[15],s[10]*r[1]+s[11]*r[6]+s[12]*r[11]+s[13]*r[16],s[10]*r[2]+s[11]*r[7]+s[12]*r[12]+s[13]*r[17],s[10]*r[3]+s[11]*r[8]+s[12]*r[13]+s[13]*r[18],s[10]*r[4]+s[11]*r[9]+s[12]*r[14]+s[13]*r[19]+s[14],s[15]*r[0]+s[16]*r[5]+s[17]*r[10]+s[18]*r[15],s[15]*r[1]+s[16]*r[6]+s[17]*r[11]+s[18]*r[16],s[15]*r[2]+s[16]*r[7]+s[17]*r[12]+s[18]*r[17],s[15]*r[3]+s[16]*r[8]+s[17]*r[13]+s[18]*r[18],s[15]*r[4]+s[16]*r[9]+s[17]*r[14]+s[18]*r[19]+s[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],v.exports=a},51767:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(29747),a=new l({initialize:function(n,e,s){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(n,e,s)},set:function(r,n,e){return r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[r,n,e],this.onChange(),this},equals:function(r,n,e){var s=this._rgb;return s[0]===r&&s[1]===n&&s[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});v.exports=a},60461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};v.exports=T},54312:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(35893),a=t(86327),r=t(88417),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)+o),a(e,l(s)+i),e};v.exports=n},46768:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(26541),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)-o),a(e,l(s)+i),e};v.exports=n},35827:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(54380),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)+o),a(e,l(s)+i),e};v.exports=n},46871:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66786),p=t(35893),a=t(7702),r=function(n,e,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),l(n,p(e)+s,a(e)+o),n};v.exports=r},5198:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),p=t(26541),a=t(20786),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)-o),a(e,l(s)+i),e};v.exports=n},11879:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),p=[];p[l.BOTTOM_CENTER]=t(54312),p[l.BOTTOM_LEFT]=t(46768),p[l.BOTTOM_RIGHT]=t(35827),p[l.CENTER]=t(46871),p[l.LEFT_CENTER]=t(5198),p[l.RIGHT_CENTER]=t(80503),p[l.TOP_CENTER]=t(89698),p[l.TOP_LEFT]=t(922),p[l.TOP_RIGHT]=t(21373),p[l.LEFT_BOTTOM]=p[l.BOTTOM_LEFT],p[l.LEFT_TOP]=p[l.TOP_LEFT],p[l.RIGHT_BOTTOM]=p[l.BOTTOM_RIGHT],p[l.RIGHT_TOP]=p[l.TOP_RIGHT];var a=function(r,n,e,s,o){return p[e](r,n,s,o)};v.exports=a},80503:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),p=t(54380),a=t(20786),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)+o),a(e,l(s)+i),e};v.exports=n},89698:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35893),p=t(17717),a=t(88417),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)+o),r(e,p(s)-i),e};v.exports=n},922:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),p=t(17717),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)-o),r(e,p(s)-i),e};v.exports=n},21373:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),p=t(17717),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)+o),r(e,p(s)-i),e};v.exports=n},91660:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),p=t(79291),a={In:t(91660),To:t(16694)};a=p(!1,a,l),v.exports=a},21578:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(35893),a=t(88417),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,p(s)+o),r(e,l(s)+i),e};v.exports=n},10210:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(26541),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,p(s)-o),r(e,l(s)+i),e};v.exports=n},82341:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(54380),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,p(s)+o),r(e,l(s)+i),e};v.exports=n},87958:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(26541),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)-o),a(e,l(s)+i),e};v.exports=n},40080:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),p=t(26541),a=t(20786),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)-o),a(e,l(s)+i),e};v.exports=n},88466:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),p=t(17717),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)-o),r(e,p(s)-i),e};v.exports=n},38829:(v,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),p=[];p[l.BOTTOM_CENTER]=t(21578),p[l.BOTTOM_LEFT]=t(10210),p[l.BOTTOM_RIGHT]=t(82341),p[l.LEFT_BOTTOM]=t(87958),p[l.LEFT_CENTER]=t(40080),p[l.LEFT_TOP]=t(88466),p[l.RIGHT_BOTTOM]=t(19211),p[l.RIGHT_CENTER]=t(34609),p[l.RIGHT_TOP]=t(48741),p[l.TOP_CENTER]=t(49440),p[l.TOP_LEFT]=t(81288),p[l.TOP_RIGHT]=t(61323);var a=function(r,n,e,s,o){return p[e](r,n,s,o)};v.exports=a},19211:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(54380),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)+o),a(e,l(s)+i),e};v.exports=n},34609:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),p=t(54380),a=t(20786),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,p(s)+o),a(e,l(s)+i),e};v.exports=n},48741:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),p=t(17717),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)+o),r(e,p(s)-i),e};v.exports=n},49440:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35893),p=t(17717),a=t(86327),r=t(88417),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,l(s)+o),a(e,p(s)-i),e};v.exports=n},81288:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),p=t(17717),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,l(s)-o),a(e,p(s)-i),e};v.exports=n},61323:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),p=t(17717),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,l(s)+o),a(e,p(s)-i),e};v.exports=n},16694:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88417),p=t(20786),a=function(r,n,e){return l(r,n),p(r,e)};v.exports=a},62235:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.y+t.height-t.height*t.originY};v.exports=T},72873:(v,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),p=t(26541),a=t(54380),r=t(17717),n=t(87841),e=function(s,o){o===void 0&&(o=new n);var i=p(s),h=r(s);return o.x=i,o.y=h,o.width=a(s)-i,o.height=l(s)-h,o};v.exports=e},35893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x-t.width*t.originX+t.width*.5};v.exports=T},7702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.y-t.height*t.originY+t.height*.5};v.exports=T},26541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x-t.width*t.originX};v.exports=T},87431:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.width*t.originX};v.exports=T},46928:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.height*t.originY};v.exports=T},54380:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x+t.width-t.width*t.originX};v.exports=T},17717:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.y-t.height*t.originY};v.exports=T},86327:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.y=l-t.height+t.height*t.originY,t};v.exports=T},88417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.width*t.originX;return t.x=l+p-t.width*.5,t};v.exports=T},20786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.height*t.originY;return t.y=l+p-t.height*.5,t};v.exports=T},385:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x=l+t.width*t.originX,t};v.exports=T},40136:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x=l-t.width+t.width*t.originX,t};v.exports=T},66737:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.y=l+t.height*t.originY,t};v.exports=T},58724:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(t){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(p){t.style["image-rendering"]=p}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};v.exports=T},27919:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8054),p=t(68703),a=[],r=!1,n=function(){var e=function(g,m,y,x,S){m===void 0&&(m=1),y===void 0&&(y=1),x===void 0&&(x=l.CANVAS),S===void 0&&(S=!1);var C,A=i(x);return A===null?(A={parent:g,canvas:document.createElement("canvas"),type:x},x===l.CANVAS&&a.push(A),C=A.canvas):(A.parent=g,C=A.canvas),S&&(A.parent=C),C.width=m,C.height=y,r&&x===l.CANVAS&&p.disable(C.getContext("2d",{willReadFrequently:!1})),C},s=function(g,m,y){return e(g,m,y,l.CANVAS)},o=function(g,m,y){return e(g,m,y,l.WEBGL)},i=function(g){if(g===void 0&&(g=l.CANVAS),g===l.WEBGL)return null;for(var m=0;m<a.length;m++){var y=a[m];if(!y.parent&&y.type===g)return y}return null},h=function(g){var m=g instanceof HTMLCanvasElement;a.forEach(function(y){(m&&y.canvas===g||!m&&y.parent===g)&&(y.parent=null,y.canvas.width=1,y.canvas.height=1)})},u=function(){var g=0;return a.forEach(function(m){m.parent&&g++}),g},d=function(){return a.length-u()},f=function(){r=!0},c=function(){r=!1};return{create2D:s,create:e,createWebGL:o,disableSmoothing:f,enableSmoothing:c,first:i,free:d,pool:a,remove:h,total:u}};v.exports=n()},68703:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",t=function(){var l=function(n){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var o=e[s]+"mageSmoothingEnabled";if(o in n)return o}return null},p=function(n){return T===""&&(T=l(n)),T&&(n[T]=!0),n},a=function(n){return T===""&&(T=l(n)),T&&(n[T]=!1),n},r=function(n){return T!==null?n[T]:null};return{disable:a,enable:p,getPrefix:l,isEnabled:r}};v.exports=t()},65208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l="none"),t.style.msTouchAction=l,t.style["ms-touch-action"]=l,t.style["touch-action"]=l,t};v.exports=T},91610:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(a){t.style[a+"user-select"]=l}),t.style["-webkit-touch-callout"]=l,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};v.exports=T},26253:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(37589),a=t(1e3),r=t(7537),n=t(87837),e=new l({initialize:function(o,i,h,u){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(o,i,h,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,o,i,h,u){return h===void 0&&(h=255),u===void 0&&(u=!0),this._locked=!0,this.red=s,this.green=o,this.blue=i,this.alpha=h,this._locked=!1,this.update(u)},setGLTo:function(s,o,i,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=s,this.greenGL=o,this.blueGL=i,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,o,i){return r(s,o,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var o=this.r,i=this.g,h=this.b,u=this.a;return this._color=p(o,i,h),this._color32=a(o,i,h,u),this._rgba="rgba("+o+","+i+","+h+","+u/255+")",s&&n(o,i,h,this),this},updateHSV:function(){var s=this.r,o=this.g,i=this.b;return n(s,o,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s)),h=Math.floor(s+Math.random()*(o-s)),u=Math.floor(s+Math.random()*(o-s));return this.setTo(i,h,u)},randomGray:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var o=this.r,i=this.g,h=this.b;return o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(s/100)))),this.setTo(o,i,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});v.exports=e},92728:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589),p=function(a){a===void 0&&(a=1024);var r=[],n=255,e,s=255,o=0,i=0;for(e=0;e<=n;e++)r.push({r:s,g:e,b:i,color:l(s,e,i)});for(o=255,e=n;e>=0;e--)r.push({r:e,g:o,b:i,color:l(e,o,i)});for(s=0,e=0;e<=n;e++,o--)r.push({r:s,g:o,b:e,color:l(s,o,e)});for(o=0,i=255,e=0;e<=n;e++,i--,s++)r.push({r:s,g:o,b:i,color:l(s,o,i)});if(a===1024)return r;var h=[],u=0,d=1024/a;for(e=0;e<a;e++)h.push(r[Math.floor(u)]),u+=d;return h};v.exports=p},91588:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(l.a=t>>>24),l};v.exports=T},62957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=t.toString(16);return l.length===1?"0"+l:l};v.exports=T},37589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t<<16|l<<8|p};v.exports=T},1e3:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return a<<24|t<<16|l<<8|p};v.exports=T},62183:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),p=t(89528),a=function(r,n,e){var s=e,o=e,i=e;if(n!==0){var h=e<.5?e*(1+n):e+n-e*n,u=2*e-h;s=p(u,h,r+1/3),o=p(u,h,r),i=p(u,h,r-1/3)}var d=new l;return d.setGLTo(s,o,i,1)};v.exports=a},27939:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7537),p=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var n=[],e=0;e<=359;e++)n.push(l(e/359,a,r));return n};v.exports=p},7537:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589);function p(r,n,e,s){var o=(r+n*6)%6,i=Math.min(o,4-o,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var a=function(r,n,e,s){n===void 0&&(n=1),e===void 0&&(e=1);var o=p(5,r,n,e),i=p(3,r,n,e),h=p(1,r,n,e);return s?s.setTo?s.setTo(o,i,h,s.alpha,!0):(s.r=o,s.g=i,s.b=h,s.color=l(o,i,h),s):{r:o,g:i,b:h,color:l(o,i,h)}};v.exports=a},70238:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),p=function(a){var r=new l;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,h,u,d){return h+h+u+u+d+d});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(n){var e=parseInt(n[1],16),s=parseInt(n[2],16),o=parseInt(n[3],16);r.setTo(e,s,o)}return r};v.exports=p},89528:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?t+(l-t)*6*p:p<.5?l:p<.6666666666666666?t+(l-t)*(.6666666666666666-p)*6:t};v.exports=T},30100:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),p=t(90664),a=function(r){var n=p(r);return new l(n.r,n.g,n.b,n.a)};v.exports=a},90664:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};v.exports=T},13699:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28915),p=t(37589),a=function(e,s,o,i,h,u,d,f){d===void 0&&(d=100),f===void 0&&(f=0);var c=f/d,g=l(e,i,c),m=l(s,h,c),y=l(o,u,c);return{r:g,g:m,b:y,a:255,color:p(g,m,y)}},r=function(e,s,o,i){return o===void 0&&(o=100),i===void 0&&(i=0),a(e.r,e.g,e.b,s.r,s.g,s.b,o,i)},n=function(e,s,o,i,h,u){return h===void 0&&(h=100),u===void 0&&(u=0),a(e.r,e.g,e.b,s,o,i,h,u)};v.exports={RGBWithRGB:a,ColorWithRGB:n,ColorWithColor:r}},68957:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),p=function(a){return new l(a.r,a.g,a.b,a.a)};v.exports=p},87388:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),p=function(a){var r=new l,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(n){var e=parseInt(n[1],10),s=parseInt(n[2],10),o=parseInt(n[3],10),i=n[4]!==void 0?parseFloat(n[4]):1;r.setTo(e,s,o,i*255)}return r};v.exports=p},87837:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,l/=255,p/=255;var r=Math.min(t,l,p),n=Math.max(t,l,p),e=n-r,s=0,o=n===0?0:e/n,i=n;return n!==r&&(n===t?s=(l-p)/e+(l<p?6:0):n===l?s=(p-t)/e+2:n===p&&(s=(t-l)/e+4),s/=6),a.hasOwnProperty("_h")?(a._h=s,a._s=o,a._v=i):(a.h=s,a.s=o,a.v=i),a};v.exports=T},75723:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62957),p=function(a,r,n,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+n).toString(16).slice(1,7):"0x"+l(e)+l(a)+l(r)+l(n)};v.exports=p},85386:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),p=t(40987),a=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=255),new p(l(r,n),l(r,n),l(r,n))};v.exports=a},80333:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70238),p=t(30100),a=t(68957),r=t(87388),n=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):l(e);case"number":return p(e);case"object":return a(e)}};v.exports=n},3956:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987);l.ColorSpectrum=t(92728),l.ColorToRGBA=t(91588),l.ComponentToHex=t(62957),l.GetColor=t(37589),l.GetColor32=t(1e3),l.HexStringToColor=t(70238),l.HSLToColor=t(62183),l.HSVColorWheel=t(27939),l.HSVToRGB=t(7537),l.HueToComponent=t(89528),l.IntegerToColor=t(30100),l.IntegerToRGB=t(90664),l.Interpolate=t(13699),l.ObjectToColor=t(68957),l.RandomRGB=t(85386),l.RGBStringToColor=t(87388),l.RGBToHSV=t(87837),l.RGBToString=t(75723),l.ValueToColor=t(80333),v.exports=l},27460:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(39429),a=new l({initialize:function(n,e,s,o,i,h){e||(e=n.sys.make.image({x:s,y:o,key:i,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(r,n,e,s,o){return new a(this.scene,r,n,e,s,o)}),v.exports=a},80661:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,n){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:n}),this.applyStencil(a,n,!0),a.maskCount++},applyStencil:function(a,r,n){var e=a.gl,s=this.geometryMask,o=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,o,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),o++):(e.stencilFunc(e.EQUAL,o+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=o,s.renderWebGL(a,s,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,o,i):e.stencilFunc(e.EQUAL,o,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var n=a.currentMask;if(a.maskStack.length===0)n.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(a,r,n){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,n,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});v.exports=p},69781:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e,s){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=s}});v.exports=p},40366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p;if(l)typeof l=="string"?p=document.getElementById(l):typeof l=="object"&&l.nodeType===1&&(p=l);else if(t.parentElement||l===null)return t;return p||(p=document.body),p.appendChild(t),t};v.exports=T},83719:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),p=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=n,l(n,r.parent)}};v.exports=p},57264:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),p=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?l.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};v.exports=p},57811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(!t)return window.innerHeight;var l=Math.abs(window.orientation),p={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),p.w=l===90?a.offsetHeight:window.innerWidth,p.h=l===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?p.h:p.w};v.exports=T},45818:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13560),p=function(a,r){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return l.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return l.ORIENTATION.LANDSCAPE}else return r>a?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE};v.exports=p},74403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l;return t!==""&&(typeof t=="string"?l=document.getElementById(t):t&&t.nodeType===1&&(l=t)),l||(l=document.body),l};v.exports=T},56836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l="";try{if(window.DOMParser){var p=new DOMParser;l=p.parseFromString(t,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(t)}catch{l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};v.exports=T},35846:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){t.parentNode&&t.parentNode.removeChild(t)};v.exports=T},43092:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(29747),a=new l({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(s){n.callback(s),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(r,n,e){this.isRunning||(this.callback=r,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});v.exports=a},84902:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};v.exports=l},47565:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(37277),r=new l({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),v.exports=r},93055:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EventEmitter:t(47565)}},20122:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s){s===void 0&&(s=1),p.call(this,a.BARREL,e),this.amount=s}});v.exports=r},32251:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h,u,d){o===void 0&&(o=1),i===void 0&&(i=1),h===void 0&&(h=1),u===void 0&&(u=1),d===void 0&&(d=4),p.call(this,a.BLOOM,e),this.steps=d,this.offsetX=o,this.offsetY=i,this.blurStrength=h,this.strength=u,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},9047:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h,u,d){s===void 0&&(s=0),o===void 0&&(o=2),i===void 0&&(i=2),h===void 0&&(h=1),d===void 0&&(d=4),p.call(this,a.BLUR,e),this.quality=s,this.x=o,this.y=i,this.steps=d,this.strength=h,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},27885:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h,u,d,f){s===void 0&&(s=.5),o===void 0&&(o=1),i===void 0&&(i=.2),h===void 0&&(h=!1),u===void 0&&(u=1),d===void 0&&(d=1),f===void 0&&(f=1),p.call(this,a.BOKEH,e),this.radius=s,this.amount=o,this.contrast=i,this.isTiltShift=h,this.strength=f,this.blurX=u,this.blurY=d}});v.exports=r},12578:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h,u){s===void 0&&(s=8),h===void 0&&(h=1),u===void 0&&(u=.005),p.call(this,a.CIRCLE,e),this.scale=h,this.feather=u,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],o!=null&&(this.color=o),i!=null&&(this.backgroundColor=i)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});v.exports=r},15802:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(89422),a=t(14811),r=new l({Extends:p,initialize:function(e){p.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});v.exports=r},72898:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n){this.type=r,this.gameObject=n,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});v.exports=p},44553:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i){s===void 0&&(s="__WHITE"),o===void 0&&(o=.005),i===void 0&&(i=.005),p.call(this,a.DISPLACEMENT,e),this.x=o,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});v.exports=r},68531:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h){o===void 0&&(o=4),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,a.GLOW,e),this.outerStrength=o,this.innerStrength=i,this.knockout=h,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},37102:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h,u,d,f,c){i===void 0&&(i=.2),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=1),c===void 0&&(c=0),p.call(this,a.GRADIENT,e),this.alpha=i,this.size=c,this.fromX=h,this.fromY=u,this.toX=d,this.toY=f,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),o!=null&&(this.color2=o)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});v.exports=r},86886:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s){s===void 0&&(s=1),p.call(this,a.PIXELATE,e),this.amount=s}});v.exports=r},92322:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h,u,d,f){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=.1),h===void 0&&(h=1),d===void 0&&(d=6),f===void 0&&(f=1),p.call(this,a.SHADOW,e),this.x=s,this.y=o,this.decay=i,this.power=h,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=f,u!==void 0&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},39563:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=3),h===void 0&&(h=!1),p.call(this,a.SHINE,e),this.speed=s,this.lineWidth=o,this.gradient=i,this.reveal=h}});v.exports=r},56448:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=.5),h===void 0&&(h=.5),p.call(this,a.VIGNETTE,e),this.x=s,this.y=o,this.radius=i,this.strength=h}});v.exports=r},38433:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72898),a=t(14811),r=new l({Extends:p,initialize:function(e,s,o,i,h){s===void 0&&(s=.1),o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=!1),p.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=o,this.axis=i,this.reveal=h}});v.exports=r},14811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};v.exports=T},66064:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),p=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=l(!1,a,p),v.exports=a},25305:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),p=t(23568),a=function(r,n,e){n.x=p(e,"x",0),n.y=p(e,"y",0),n.depth=p(e,"depth",0),n.flipX=p(e,"flipX",!1),n.flipY=p(e,"flipY",!1);var s=p(e,"scale",null);typeof s=="number"?n.setScale(s):s!==null&&(n.scaleX=p(s,"x",1),n.scaleY=p(s,"y",1));var o=p(e,"scrollFactor",null);typeof o=="number"?n.setScrollFactor(o):o!==null&&(n.scrollFactorX=p(o,"x",1),n.scrollFactorY=p(o,"y",1)),n.rotation=p(e,"rotation",0);var i=p(e,"angle",null);i!==null&&(n.angle=i),n.alpha=p(e,"alpha",1);var h=p(e,"origin",null);if(typeof h=="number")n.setOrigin(h);else if(h!==null){var u=p(h,"x",.5),d=p(h,"y",.5);n.setOrigin(u,d)}n.blendMode=p(e,"blendMode",l.NORMAL),n.visible=p(e,"visible",!0);var f=p(e,"add",!0);return f&&r.sys.displayList.add(n),n.preUpdate&&r.sys.updateList.add(n),n};v.exports=a},13059:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23568),p=function(a,r){var n=l(r,"anims",null);if(n===null)return a;if(typeof n=="string")a.anims.play(n);else if(typeof n=="object"){var e=a.anims,s=l(n,"key",void 0);if(s){var o=l(n,"startFrame",void 0),i=l(n,"delay",0),h=l(n,"repeat",0),u=l(n,"repeatDelay",0),d=l(n,"yoyo",!1),f=l(n,"play",!1),c=l(n,"delayedPlay",0),g={key:s,delay:i,repeat:h,repeatDelay:u,yoyo:d,startFrame:o};f?e.play(g):c>0?e.playAfterDelay(g,c):e.load(g)}}return a};v.exports=p},8050:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(73162),a=t(37277),r=t(51708),n=t(44594),e=t(19186),s=new l({Extends:p,initialize:function(i){p.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(o){o.displayList&&o.displayList!==this&&o.removeFromDisplayList(),o.parentContainer&&o.parentContainer.remove(o),o.displayList||(this.queueDepthSort(),o.displayList=this,o.emit(r.ADDED_TO_SCENE,o,this.scene),this.events.emit(n.ADDED_TO_SCENE,o,this.scene))},removeChildCallback:function(o){this.queueDepthSort(),o.displayList=null,o.emit(r.REMOVED_FROM_SCENE,o,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,o,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(o,i){return o._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var o=this.list,i=o.length;i--;)o[i].destroy(!0);o.length=0,this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",s,"displayList"),v.exports=s},95643:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(53774),a=t(45893),r=t(50792),n=t(51708),e=t(44594),s=new l({Extends:r,initialize:function(i,h){r.call(this),this.scene=i,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(o){return this.active=o,this},setName:function(o){return this.name=o,this},setState:function(o){return this.state=o,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(o,i){return this.data||(this.data=new a(this)),this.data.set(o,i),this},incData:function(o,i){return this.data||(this.data=new a(this)),this.data.inc(o,i),this},toggleData:function(o){return this.data||(this.data=new a(this)),this.data.toggle(o),this},getData:function(o){return this.data||(this.data=new a(this)),this.data.get(o)},setInteractive:function(o,i,h){return this.scene.sys.input.enable(this,o,i,h),this},disableInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.disable(this,o),this},removeInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.clear(this),o&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(o){var i=this.displayList&&this.displayList.active?this.displayList.willRender(o):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},getIndexList:function(){for(var o=this,i=this.parentContainer,h=[];i&&(h.unshift(i.getIndex(o)),o=i,i.parentContainer);)i=i.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(o)):h.unshift(this.scene.sys.displayList.getIndex(o)),h},addToDisplayList:function(o){return o===void 0&&(o=this.scene.sys.displayList),this.displayList&&this.displayList!==o&&this.removeFromDisplayList(),o.exists(this)||(this.displayList=o,o.add(this,!0),o.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),o.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var o=this.displayList||this.scene.sys.displayList;return o&&o.exists(this)&&(o.remove(this,!0),o.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),o.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var o=null;return this.parentContainer?o=this.parentContainer.list:this.displayList&&(o=this.displayList.list),o},destroy:function(o){!this.scene||this.ignoreDestroy||(o===void 0&&(o=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,o),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,v.exports=s},44603:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(37277),a=t(44594),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},p.register("GameObjectCreator",r,"make"),v.exports=r},39429:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(37277),a=t(44594),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},p.register("GameObjectFactory",r,"add"),v.exports=r},91296:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),p=new l,a=new l,r=new l,n={camera:p,sprite:a,calc:r},e=function(s,o,i){var h=p,u=a,d=r;return u.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),h.copyFrom(o.matrix),i?(h.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),u.e=s.x,u.f=s.y):(u.e-=o.scrollX*s.scrollFactorX,u.f-=o.scrollY*s.scrollFactorY),h.multiply(u,d),n};v.exports=e},45027:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(25774),a=t(37277),r=t(44594),n=new l({Extends:p,initialize:function(s){p.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var o=this._active,i=o.length,h=0;h<i;h++){var u=o[h];u.active&&u.preUpdate.call(u,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",n,"updateList"),v.exports=n},3217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r,n,e,s,o,i,h,u,d,f,c){var g=p.x-l.displayOriginX+r,m=p.y-l.displayOriginY+n,y=g+p.w,x=m+p.h,S=e.a,C=e.b,A=e.c,F=e.d,M=e.e,w=e.f,R=g*S+m*A+M,O=g*C+m*F+w,U=g*S+x*A+M,X=g*C+x*F+w,W=y*S+x*A+M,Y=y*C+x*F+w,N=y*S+m*A+M,V=y*C+m*F+w;s&&(R=Math.round(R),O=Math.round(O),U=Math.round(U),X=Math.round(X),W=Math.round(W),Y=Math.round(Y),N=Math.round(N),V=Math.round(V)),t.batchQuad(l,R,O,U,X,W,Y,N,V,a.u0,a.v0,a.u1,a.v1,o,i,h,u,d,f,c)};v.exports=T},53048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){if(p===void 0&&(p=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,n=r.length,e=t.maxWidth,s=t.wordWrapCharCode,o=Number.MAX_VALUE,i=Number.MAX_VALUE,h=0,u=0,d=t.fontData.chars,f=t.fontData.lineHeight,c=t.letterSpacing,g=t.lineSpacing,m=0,y=0,x=0,S=null,C=t._align,A=0,F=0,M=t.fontSize/t.fontData.size,w=M*t.scaleX,R=M*t.scaleY,O=null,U=0,X=[],W=Number.MAX_VALUE,Y=0,N=0,V=0,I,B,G,H=[],$=[],Z=null,Q=function(It,Ht){for(var Lt=0,Nt=0;Nt<It.length;Nt++){var zt=It.charCodeAt(Nt),Jt=Ht.chars[zt];Jt&&(Lt+=Jt.xAdvance)}return Lt*w};if(e>0){G=r.split(`
`);var j=[];for(I=0;I<G.length;I++){var _=G[I],tt="",et="",rt="",at="";for(B=0;B<_.length;B++)if(x=_.charCodeAt(B),tt+=_[B],x===s||B===_.length-1){at=rt+tt;var st=Q(at,t.fontData);st<=e?rt=at:(et=et.slice(0,-1),et+=(et?`
`:"")+rt,rt=tt),tt=""}et=et.slice(0,-1),et+=(et?`
`:"")+rt,j.push(et)}r=j.join(`
`),a.wrappedText=r,n=r.length}var ct=0;for(I=0;I<n;I++){if(x=r.charCodeAt(I),x===10){Z!==null&&(H.push({word:Z.word,i:Z.i,x:Z.x*w,y:Z.y*R,w:Z.w*w,h:Z.h*R}),Z=null),O=null,X[N]=V,V>Y&&(Y=V),V<W&&(W=V),N++,V=0,m=0,y=(f+g)*N;continue}if(S=d[x],!!S){if(A=m,F=y,O!==null){var vt=S.kerning[U];A+=vt!==void 0?vt:0}o>A&&(o=A),i>F&&(i=F);var pt=A+S.xAdvance,nt=F+f;h<pt&&(h=pt),u<nt&&(u=nt);var ht=S.xOffset+S.xAdvance+(vt!==void 0?vt:0);x===s?Z!==null&&(H.push({word:Z.word,i:Z.i,x:Z.x*w,y:Z.y*R,w:Z.w*w,h:Z.h*R}),Z=null):(Z===null&&(Z={word:"",i:ct,x:m,y,w:0,h:f}),Z.word=Z.word.concat(r[I]),Z.w+=ht),$.push({i:ct,idx:I,char:r[I],code:x,x:(S.xOffset+A)*M,y:(S.yOffset+y)*M,w:S.width*M,h:S.height*M,t:y*M,r:pt*M,b:f*M,line:N,glyph:S}),m+=S.xAdvance+c+(vt!==void 0?vt:0),O=S,U=x,V=pt*M,ct++}}if(Z!==null&&H.push({word:Z.word,i:Z.i,x:Z.x*w,y:Z.y*R,w:Z.w*w,h:Z.h*R}),X[N]=V,V>Y&&(Y=V),V<W&&(W=V),C>0)for(var lt=0;lt<$.length;lt++){var xt=$[lt];if(C===1){var Et=(Y-X[xt.line])/2;xt.x+=Et,xt.r+=Et}else if(C===2){var Bt=Y-X[xt.line];xt.x+=Bt,xt.r+=Bt}}var Tt=a.local,St=a.global;return G=a.lines,Tt.x=o*M,Tt.y=i*M,Tt.width=h*M,Tt.height=u*M,St.x=t.x-t._displayOriginX+o*w,St.y=t.y-t._displayOriginY+i*R,St.width=h*w,St.height=u*R,G.shortest=W,G.longest=Y,G.lengths=X,l&&(Tt.x=Math.ceil(Tt.x),Tt.y=Math.ceil(Tt.y),Tt.width=Math.ceil(Tt.width),Tt.height=Math.ceil(Tt.height),St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),G.shortest=Math.ceil(W),G.longest=Math.ceil(Y)),p&&(t._displayOriginX=t.originX*Tt.width,t._displayOriginY=t.originY*Tt.height,St.x=t.x-t._displayOriginX*t.scaleX,St.y=t.y-t._displayOriginY*t.scaleY,l&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y))),a.words=H,a.characters=$,a.lines.height=f,a.scale=M,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};v.exports=T},61327:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21859),p=function(a,r,n,e,s,o,i){var h=a.sys.textures.get(n),u=h.get(e),d=a.sys.cache.xml.get(s);if(u&&d){var f=l(d,u,o,i,h);return a.sys.cache.bitmapFont.add(r,{data:f,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};v.exports=p},6925:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),p=function(a,r){var n=r.width,e=r.height,s=Math.floor(n/2),o=Math.floor(e/2),i=l(r,"chars","");if(i!==""){var h=l(r,"image",""),u=a.sys.textures.getFrame(h),d=u.cutX,f=u.cutY,c=u.source.width,g=u.source.height,m=l(r,"offset.x",0),y=l(r,"offset.y",0),x=l(r,"spacing.x",0),S=l(r,"spacing.y",0),C=l(r,"lineSpacing",0),A=l(r,"charsPerRow",null);A===null&&(A=c/n,A>i.length&&(A=i.length));for(var F=m,M=y,w={retroFont:!0,font:h,size:n,lineHeight:e+C,chars:{}},R=0,O=0;O<i.length;O++){var U=i.charCodeAt(O),X=(d+F)/c,W=(f+M)/g,Y=(d+F+n)/c,N=(f+M+e)/g;w.chars[U]={x:F,y:M,width:n,height:e,centerX:s,centerY:o,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:X,v0:W,u1:Y,v1:N},R++,R===A?(R=0,F=m,M+=e+S):F+=n+x}var V={data:w,frame:null,texture:h};return V}};v.exports=p},21859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l,p){return parseInt(l.getAttribute(p),10)}var t=function(l,p,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0);var e=p.cutX,s=p.cutY,o=p.source.width,i=p.source.height,h=p.sourceIndex,u={},d=l.getElementsByTagName("info")[0],f=l.getElementsByTagName("common")[0];u.font=d.getAttribute("face"),u.size=T(d,"size"),u.lineHeight=T(f,"lineHeight")+r,u.chars={};var c=l.getElementsByTagName("char"),g=p!==void 0&&p.trimmed;if(g)var m=p.height,y=p.width;for(var x=0;x<c.length;x++){var S=c[x],C=T(S,"id"),A=String.fromCharCode(C),F=T(S,"x"),M=T(S,"y"),w=T(S,"width"),R=T(S,"height");g&&(F<y&&(y=F),M<m&&(m=M)),g&&m!==0&&y!==0&&(F-=p.x,M-=p.y);var O=(e+F)/o,U=(s+M)/i,X=(e+F+w)/o,W=(s+M+R)/i;if(u.chars[C]={x:F,y:M,width:w,height:R,centerX:Math.floor(w/2),centerY:Math.floor(R/2),xOffset:T(S,"xoffset"),yOffset:T(S,"yoffset"),xAdvance:T(S,"xadvance")+a,data:{},kerning:{},u0:O,v0:U,u1:X,v1:W},n&&w!==0&&R!==0){var Y=n.add(A,h,F,M,w,R);Y&&Y.setUVs(w,R,O,U,X,W)}}var N=l.getElementsByTagName("kerning");for(x=0;x<N.length;x++){var V=N[x],I=T(V,"first"),B=T(V,"second"),G=T(V,"amount");u.chars[B].kerning[I]=G}return u};v.exports=t},196:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87662),p=t(79291),a={Parse:t(6925)};a=p(!1,a,l),v.exports=a},87662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};v.exports=T},2638:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),p=t(83419),a=t(12310),r=new p({Extends:l,Mixins:[a],initialize:function(e,s,o,i,h,u,d){l.call(this,e,s,o,i,h,u,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});v.exports=r},86741:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20926),p=function(a,r,n,e){var s=r._text,o=s.length,i=a.currentContext;if(!(o===0||!l(a,i,r,n,e))){n.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.displayCallback,d=r.callbackData,f=r.fontData.chars,c=r.fontData.lineHeight,g=r._letterSpacing,m=0,y=0,x=0,S=null,C=0,A=0,F=0,M=0,w=0,R=0,O=null,U=0,X=r.frame.source.image,W=h.cutX,Y=h.cutY,N=0,V=0,I=r._fontSize/r.fontData.size,B=r._align,G=0,H=0;r.getTextBounds(!1);var $=r._bounds.lines;B===1?H=($.longest-$.lengths[0])/2:B===2&&(H=$.longest-$.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var Z=n.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var Q=0;Q<o;Q++){if(V=I,N=0,x=s.charCodeAt(Q),x===10){G++,B===1?H=($.longest-$.lengths[G])/2:B===2&&(H=$.longest-$.lengths[G]),m=0,y+=c,O=null;continue}if(S=f[x],!!S){if(C=W+S.x,A=Y+S.y,F=S.width,M=S.height,w=S.xOffset+m-r.scrollX,R=S.yOffset+y-r.scrollY,O!==null){var j=S.kerning[U];w+=j!==void 0?j:0}if(u){d.index=Q,d.charCode=x,d.x=w,d.y=R,d.scale=V,d.rotation=N,d.data=S.data;var _=u(d);w=_.x,R=_.y,V=_.scale,N=_.rotation}w*=V,R*=V,w+=H,m+=S.xAdvance+g+(j!==void 0?j:0),O=S,U=x,!(F===0||M===0||x===32)&&(Z&&(w=Math.round(w),R=Math.round(R)),i.save(),i.translate(w,R),i.rotate(N),i.scale(V,V),i.drawImage(X,C,A,F,M,0,0,F,M),i.restore())}}i.restore()}};v.exports=p},11164:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2638),p=t(25305),a=t(44603),r=t(23568);a.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var s=r(n,"font",""),o=r(n,"text",""),i=r(n,"size",!1),h=new l(this.scene,0,0,s,o,i);return e!==void 0&&(n.add=e),p(this.scene,h,n),h})},72566:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2638),p=t(39429);p.register("dynamicBitmapText",function(a,r,n,e,s){return this.displayList.add(new l(this.scene,a,r,n,e,s))})},12310:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(73482),a=t(86741),v.exports={renderWebGL:p,renderCanvas:a}},73482:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(61340),a=t(70554),r=new p,n=function(e,s,o,i){var h=s.text,u=h.length;if(u!==0){o.addToRenderList(s);var d=e.pipelines.set(s.pipeline,s),f=l(s,o,i);e.pipelines.preBatch(s);var c=f.sprite,g=f.calc,m=r,y=s.cropWidth>0||s.cropHeight>0;y&&(d.flush(),e.pushScissor(g.tx,g.ty,s.cropWidth*g.scaleX,s.cropHeight*g.scaleY));var x=s.frame,S=x.glTexture,C=s.tintFill,A=a.getTintAppendFloatAlpha(s.tintTopLeft,o.alpha*s._alphaTL),F=a.getTintAppendFloatAlpha(s.tintTopRight,o.alpha*s._alphaTR),M=a.getTintAppendFloatAlpha(s.tintBottomLeft,o.alpha*s._alphaBL),w=a.getTintAppendFloatAlpha(s.tintBottomRight,o.alpha*s._alphaBR),R=d.setGameObject(s),O=0,U=0,X=0,W=0,Y=s.letterSpacing,N,V=0,I=0,B,G=s.scrollX,H=s.scrollY,$=s.fontData,Z=$.chars,Q=$.lineHeight,j=s.fontSize/$.size,_=0,tt=s._align,et=0,rt=0,at=s.getTextBounds(!1);s.maxWidth>0&&(h=at.wrappedText,u=h.length);var st=s._bounds.lines;tt===1?rt=(st.longest-st.lengths[0])/2:tt===2&&(rt=st.longest-st.lengths[0]);for(var ct=o.roundPixels,vt=s.displayCallback,pt=s.callbackData,nt=0;nt<u;nt++){if(X=h.charCodeAt(nt),X===10){et++,tt===1?rt=(st.longest-st.lengths[et])/2:tt===2&&(rt=st.longest-st.lengths[et]),O=0,U+=Q,B=null;continue}if(N=Z[X],!!N){V=N.width,I=N.height;var ht=N.xOffset+O-G,lt=N.yOffset+U-H;if(B!==null){var xt=N.kerning[W]||0;ht+=xt,O+=xt}if(O+=N.xAdvance+Y,B=N,W=X,!(V===0||I===0||X===32)){if(j=s.fontSize/s.fontData.size,_=0,vt){pt.color=0,pt.tint.topLeft=A,pt.tint.topRight=F,pt.tint.bottomLeft=M,pt.tint.bottomRight=w,pt.index=nt,pt.charCode=X,pt.x=ht,pt.y=lt,pt.scale=j,pt.rotation=_,pt.data=N.data;var Et=vt(pt);ht=Et.x,lt=Et.y,j=Et.scale,_=Et.rotation,Et.color?(A=Et.color,F=Et.color,M=Et.color,w=Et.color):(A=Et.tint.topLeft,F=Et.tint.topRight,M=Et.tint.bottomLeft,w=Et.tint.bottomRight),A=a.getTintAppendFloatAlpha(A,o.alpha*s._alphaTL),F=a.getTintAppendFloatAlpha(F,o.alpha*s._alphaTR),M=a.getTintAppendFloatAlpha(M,o.alpha*s._alphaBL),w=a.getTintAppendFloatAlpha(w,o.alpha*s._alphaBR)}ht*=j,lt*=j,ht-=s.displayOriginX,lt-=s.displayOriginY,ht+=rt,m.applyITRS(ht,lt,_,j,j),g.multiply(m,c);var Bt=N.u0,Tt=N.v0,St=N.u1,It=N.v1,Ht=V,Lt=I,Nt=c.e,zt=c.f,Jt=Lt*c.c+c.e,ve=Lt*c.d+c.f,pe=Ht*c.a+Lt*c.c+c.e,ge=Ht*c.b+Lt*c.d+c.f,me=Ht*c.a+c.e,ye=Ht*c.b+c.f;ct&&(Nt=Math.round(Nt),zt=Math.round(zt),Jt=Math.round(Jt),ve=Math.round(ve),pe=Math.round(pe),ge=Math.round(ge),me=Math.round(me),ye=Math.round(ye)),d.shouldFlush(6)&&(d.flush(),R=d.setGameObject(s)),d.batchQuad(s,Nt,zt,Jt,ve,pe,ge,me,ye,Bt,Tt,St,It,A,F,M,w,C,S,R)}}}y&&(d.flush(),e.popScissor()),e.pipelines.postBatch(s)}};v.exports=n},22186:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(45319),a=t(31401),r=t(95643),n=t(53048),e=t(61327),s=t(21859),o=t(87841),i=t(18658),h=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(d,f,c,g,m,y,x){m===void 0&&(m=""),x===void 0&&(x=0),r.call(this,d,"BitmapText"),this.font=g;var S=this.scene.sys.cache.bitmapFont.get(g);if(!S)throw new Error("Invalid BitmapText key: "+g);this.fontData=S.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=x,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=S.fromAtlas,this.setTexture(S.texture,S.frame),this.setPosition(f,c),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(m)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,d,f,c){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=.5),this.dropShadowX=u,this.dropShadowY=d,this.dropShadowColor=f,this.dropShadowAlpha=c,this},setCharacterTint:function(u,d,f,c,g,m,y){u===void 0&&(u=0),d===void 0&&(d=1),f===void 0&&(f=!1),c===void 0&&(c=-1),g===void 0&&(g=c,m=c,y=c);var x=this.text.length;d===-1&&(d=x),u<0&&(u=x+u),u=p(u,0,x-1);for(var S=p(u+d,u,x),C=this.charColors,A=u;A<S;A++){var F=C[A];if(c===-1)C[A]=null;else{var M=f?1:0;F?(F.tintEffect=M,F.tintTL=c,F.tintTR=g,F.tintBL=m,F.tintBR=y):C[A]={tintEffect:M,tintTL:c,tintTR:g,tintBL:m,tintBR:y}}}return this},setWordTint:function(u,d,f,c,g,m,y){d===void 0&&(d=1);for(var x=this.getTextBounds(),S=x.words,C=typeof u=="number",A=0,F=0;F<S.length;F++){var M=S[F];if((C&&F===u||!C&&M.word===u)&&(this.setCharacterTint(M.i,M.word.length,f,c,g,m,y),A++,A===d))return this}return this},getTextBounds:function(u){var d=this._bounds;return(this._dirty||u||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(n(this,u,!0,d),this._dirty=!1),d},getCharacterAt:function(u,d,f){for(var c=this.getLocalPoint(u,d,null,f),g=this.getTextBounds(),m=g.characters,y=new o,x=0;x<m.length;x++){var S=m[x];if(y.setTo(S.x,S.t,S.r-S.x,S.b),y.contains(c.x,c.y))return S}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,d,f){d===void 0&&(d=this._fontSize),f===void 0&&(f=this._align);var c=this.scene.sys.cache.bitmapFont.get(u);return c&&(this.font=u,this.fontData=c.data,this._fontSize=d,this._align=f,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),n(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,d){return this._maxWidth=u,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=a.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=d,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=s,v.exports=h},37289:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20926),p=function(a,r,n,e){var s=r._text,o=s.length,i=a.currentContext;if(!(o===0||!l(a,i,r,n,e))){n.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.fontData.chars,d=r.fontData.lineHeight,f=r._letterSpacing,c=r._lineSpacing,g=0,m=0,y=0,x=null,S=0,C=0,A=0,F=0,M=0,w=0,R=null,O=0,U=h.source.image,X=h.cutX,W=h.cutY,Y=r._fontSize/r.fontData.size,N=r._align,V=0,I=0,B=r.getTextBounds(!1);r.maxWidth>0&&(s=B.wrappedText,o=s.length);var G=r._bounds.lines;N===1?I=(G.longest-G.lengths[0])/2:N===2&&(I=G.longest-G.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var H=n.roundPixels,$=0;$<o;$++){if(y=s.charCodeAt($),y===10){V++,N===1?I=(G.longest-G.lengths[V])/2:N===2&&(I=G.longest-G.lengths[V]),g=0,m+=d+c,R=null;continue}if(x=u[y],!!x){if(S=X+x.x,C=W+x.y,A=x.width,F=x.height,M=x.xOffset+g,w=x.yOffset+m,R!==null){var Z=x.kerning[O];M+=Z!==void 0?Z:0}M*=Y,w*=Y,M+=I,g+=x.xAdvance+f+(Z!==void 0?Z:0),R=x,O=y,!(A===0||F===0||y===32)&&(H&&(M=Math.round(M),w=Math.round(w)),i.save(),i.translate(M,w),i.scale(Y,Y),i.drawImage(U,S,C,A,F,0,0,A,F),i.restore())}}i.restore()}};v.exports=p},57336:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),p=t(25305),a=t(44603),r=t(23568),n=t(35154);a.register("bitmapText",function(e,s){e===void 0&&(e={});var o=n(e,"font",""),i=r(e,"text",""),h=r(e,"size",!1),u=n(e,"align",0),d=new l(this.scene,0,0,o,i,h,u);return s!==void 0&&(e.add=s),p(this.scene,d,e),d})},34914:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),p=t(39429);p.register("bitmapText",function(a,r,n,e,s,o){return this.displayList.add(new l(this.scene,a,r,n,e,s,o))})},18658:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(33590),a=t(37289),v.exports={renderWebGL:p,renderCanvas:a}},33590:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3217),p=t(91296),a=t(70554),r=function(n,e,s,o){var i=e._text,h=i.length;if(h!==0){s.addToRenderList(e);var u=n.pipelines.set(e.pipeline,e),d=p(e,s,o).calc;n.pipelines.preBatch(e);var f=s.roundPixels,c=s.alpha,g=e.charColors,m=e.tintFill,y=a.getTintAppendFloatAlpha,x=y(e.tintTopLeft,c*e._alphaTL),S=y(e.tintTopRight,c*e._alphaTR),C=y(e.tintBottomLeft,c*e._alphaBL),A=y(e.tintBottomRight,c*e._alphaBR),F=e.frame.glTexture,M=u.setGameObject(e),w=e.getTextBounds(!1),R,O,U,X=w.characters,W=e.dropShadowX,Y=e.dropShadowY,N=W!==0||Y!==0;if(N){var V=e.dropShadowColor,I=e.dropShadowAlpha,B=y(V,c*I*e._alphaTL),G=y(V,c*I*e._alphaTR),H=y(V,c*I*e._alphaBL),$=y(V,c*I*e._alphaBR);for(R=0;R<X.length;R++)O=X[R],U=O.glyph,!(O.code===32||U.width===0||U.height===0)&&l(u,e,O,U,W,Y,d,f,B,G,H,$,1,F,M)}for(R=0;R<X.length;R++)if(O=X[R],U=O.glyph,!(O.code===32||U.width===0||U.height===0))if(u.shouldFlush(6)&&(u.flush(),M=u.setGameObject(e)),g[O.i]){var Z=g[O.i],Q=Z.tintEffect,j=y(Z.tintTL,c*e._alphaTL),_=y(Z.tintTR,c*e._alphaTR),tt=y(Z.tintBL,c*e._alphaBL),et=y(Z.tintBR,c*e._alphaBR);l(u,e,O,U,0,0,d,f,j,_,tt,et,Q,F,M)}else l(u,e,O,U,0,0,d,f,x,S,C,A,m,F,M);n.pipelines.postBatch(e)}};v.exports=r},6107:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48011),p=t(46590),a=t(83419),r=t(31401),n=t(4327),e=t(95643),s=t(73162),o=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,l],initialize:function(h,u,d,f,c){e.call(this,h,"Blitter"),this.setTexture(f,c),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,h,u,d,f){d===void 0&&(d=!0),f===void 0&&(f=this.children.length),u===void 0?u=this.frame:u instanceof n||(u=this.texture.get(u));var c=new p(this,i,h,u,d);return this.children.addAt(c,f,!1),this.dirty=!0,c},createFromCallback:function(i,h,u,d){for(var f=this.createMultiple(h,u,d),c=0;c<f.length;c++){var g=f[c];i.call(this,g,c)}return f},createMultiple:function(i,h,u){h===void 0&&(h=this.frame.name),u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);var d=[],f=this;return h.forEach(function(c){for(var g=0;g<i;g++)d.push(f.create(0,0,c,u))}),d},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});v.exports=o},72396:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=l.getRenderList();if(r.length!==0){var n=t.currentContext,e=p.alpha*l.alpha;if(e!==0){p.addToRenderList(l),n.globalCompositeOperation=t.blendModes[l.blendMode],n.imageSmoothingEnabled=!l.frame.source.scaleMode;var s=l.x-p.scrollX*l.scrollFactorX,o=l.y-p.scrollY*l.scrollFactorY;n.save(),a&&a.copyToContext(n);for(var i=p.roundPixels,h=0;h<r.length;h++){var u=r[h],d=u.flipX||u.flipY,f=u.frame,c=f.canvasData,g=f.x,m=f.y,y=1,x=1,S=u.alpha*e;S!==0&&(n.globalAlpha=S,d?(u.flipX&&(y=-1,g-=c.width),u.flipY&&(x=-1,m-=c.height),c.width>0&&c.height>0&&(n.save(),n.translate(u.x+s,u.y+o),n.scale(y,x),n.drawImage(f.source.image,c.x,c.y,c.width,c.height,g,m,c.width,c.height),n.restore())):(i&&(g=Math.round(g),m=Math.round(m)),c.width>0&&c.height>0&&n.drawImage(f.source.image,c.x,c.y,c.width,c.height,g+u.x+s,m+u.y+o,c.width,c.height)))}n.restore()}}};v.exports=T},9403:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6107),p=t(25305),a=t(44603),r=t(23568);a.register("blitter",function(n,e){n===void 0&&(n={});var s=r(n,"key",null),o=r(n,"frame",null),i=new l(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),p(this.scene,i,n),i})},12709:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6107),p=t(39429);p.register("blitter",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},48011:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(99485),a=t(72396),v.exports={renderWebGL:p,renderCanvas:a}},99485:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),p=t(70554),a=new l,r=function(n,e,s,o){var i=e.getRenderList(),h=s.alpha*e.alpha;if(!(i.length===0||h===0)){s.addToRenderList(e);var u=n.pipelines.set(this.pipeline,e),d=s.scrollX*e.scrollFactorX,f=s.scrollY*e.scrollFactorY,c=a.copyFrom(s.matrix);o&&(c.multiplyWithOffset(o,-d,-f),d=0,f=0);var g=e.x-d,m=e.y-f,y=-1,x=!1,S=s.roundPixels;n.pipelines.preBatch(e);for(var C=0;C<i.length;C++){var A=i[C],F=A.frame,M=A.alpha*h;if(M!==0){var w=F.width,R=F.height,O=g+A.x+F.x,U=m+A.y+F.y;A.flipX&&(w*=-1,O+=F.width),A.flipY&&(R*=-1,U+=F.height);var X=c.setQuad(O,U,O+w,U+R,S),W=p.getTintAppendFloatAlpha(A.tint,M);if(F.sourceIndex!==y){var Y=u.setGameObject(e,F);y=F.sourceIndex}u.batchQuad(e,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],F.u0,F.v0,F.u1,F.v1,W,W,W,W,x,F.glTexture,Y)&&(y=-1)}}n.pipelines.postBatch(e)}};v.exports=r},46590:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(4327),a=new l({initialize:function(n,e,s,o,i){this.parent=n,this.x=e,this.y=s,this.frame=o,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof p&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,n,e){return this.x=r,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,n){return this.x=r,this.y=n,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,n){return this.flipX=r,this.flipY=n,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});v.exports=a},16005:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,n,e,s){return r===void 0&&(r=1),n===void 0?this.alpha=r:(this._alphaTL=l(r,0,1),this._alphaTR=l(n,0,1),this._alphaBL=l(e,0,1),this._alphaBR=l(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var n=l(r,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=-3:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var n=l(r,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var n=l(r,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var n=l(r,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var n=l(r,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=p)}}};v.exports=a},88509:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var n=l(r,0,1);this._alpha=n,n===0?this.renderFlags&=-3:this.renderFlags|=p}}};v.exports=a},90065:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),p={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=l[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};v.exports=p},94215:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};v.exports=T},61683:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(t,l,p,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,l,p,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=T},89272:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this},setToTop:function(){var a=this.getDisplayList();return a&&l.BringToTop(a,this),this},setToBack:function(){var a=this.getDisplayList();return a&&l.SendToBack(a,this),this},setAbove:function(a){var r=this.getDisplayList();return r&&a&&l.MoveAbove(r,this,a),this},setBelow:function(a){var r=this.getDisplayList();return r&&a&&l.MoveBelow(r,this,a),this}};v.exports=p},47059:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(66064),a=t(19133),r=new l({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var o=s[e];if(o.controller===n){this.gameObject.removePostPipeline(o),n.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===n&&(a(i,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var s=String(n.type);this.gameObject.setPostPipeline(s,e);var o=this.gameObject.getPostPipeline(s);if(o)return Array.isArray(o)&&(o=o.pop()),o&&(o.controller=n),n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,s,o,i,h){return this.add(new p.Glow(this.gameObject,n,e,s,o),{quality:i,distance:h})},addShadow:function(n,e,s,o,i,h,u){return this.add(new p.Shadow(this.gameObject,n,e,s,o,i,h,u))},addPixelate:function(n){return this.add(new p.Pixelate(this.gameObject,n))},addVignette:function(n,e,s,o){return this.add(new p.Vignette(this.gameObject,n,e,s,o))},addShine:function(n,e,s,o){return this.add(new p.Shine(this.gameObject,n,e,s,o))},addBlur:function(n,e,s,o,i,h){return this.add(new p.Blur(this.gameObject,n,e,s,o,i,h))},addGradient:function(n,e,s,o,i,h,u,d){return this.add(new p.Gradient(this.gameObject,n,e,s,o,i,h,u,d))},addBloom:function(n,e,s,o,i,h){return this.add(new p.Bloom(this.gameObject,n,e,s,o,i,h))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(n,e,s,o,i){return this.add(new p.Circle(this.gameObject,n,e,s,o,i))},addBarrel:function(n){return this.add(new p.Barrel(this.gameObject,n))},addDisplacement:function(n,e,s){return this.add(new p.Displacement(this.gameObject,n,e,s))},addWipe:function(n,e,s){return this.add(new p.Wipe(this.gameObject,n,e,s))},addReveal:function(n,e,s){return this.add(new p.Wipe(this.gameObject,n,e,s,!0))},addBokeh:function(n,e,s){return this.add(new p.Bokeh(this.gameObject,n,e,s))},addTiltShift:function(n,e,s,o,i,h){return this.add(new p.Bokeh(this.gameObject,n,e,s,!0,o,i,h))},destroy:function(){this.clear(),this.gameObject=null}});v.exports=r},54434:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,l){return this.flipX=t,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};v.exports=T},8004:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=t(11520),a=t(26099),r={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&p(n,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new l);var e,s,o,i,h,u,d,f;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),c.transformPoint(n.x,n.y,n),e=n.x,s=n.y,this.getTopRight(n),c.transformPoint(n.x,n.y,n),o=n.x,i=n.y,this.getBottomLeft(n),c.transformPoint(n.x,n.y,n),h=n.x,u=n.y,this.getBottomRight(n),c.transformPoint(n.x,n.y,n),d=n.x,f=n.y}else this.getTopLeft(n),e=n.x,s=n.y,this.getTopRight(n),o=n.x,i=n.y,this.getBottomLeft(n),h=n.x,u=n.y,this.getBottomRight(n),d=n.x,f=n.y;return n.x=Math.min(e,o,h,d),n.y=Math.min(s,i,u,f),n.width=Math.max(e,o,h,d)-n.x,n.height=Math.max(s,i,u,f)-n.y,n}};v.exports=r},8573:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6858),p=t(80661),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,n,e,s,o){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new l(this.scene,r,n,e,s,o)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new p(this.scene,r)}};v.exports=a},27387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,l){return t===void 0&&(t=.5),l===void 0&&(l=t),this.originX=t,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,l){return t===void 0&&(t=0),l===void 0&&(l=t),this.displayOriginX=t,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};v.exports=T},37640:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39506),p=t(57355),a=t(35154),r=t(86353),n=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,o){o===void 0&&(o=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,o&&this.startFollow(o),this},setRotateToPath:function(s,o){return o===void 0&&(o=0),this.rotateToPath=s,this.pathRotationOffset=o,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,o){s===void 0&&(s={}),o===void 0&&(o=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=a(s,"from",0),s.to=a(s,"to",1);var h=p(s,"positionOnPath",!1);this.rotateToPath=p(s,"rotateToPath",!1),this.pathRotationOffset=a(s,"rotationOffset",0);var u=a(s,"startAt",o);if(u&&(s.onStart=function(f){var c=f.data[0];c.progress=u,c.elapsed=c.duration*u;var g=c.ease(c.progress);c.current=c.start+(c.end-c.start)*g,c.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s&&s.data){var o=s.data[0],i=this.pathDelta,h=this.pathVector;if(i.copy(h).negate(),o.state===r.COMPLETE){this.path.getPoint(o.end,h),i.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(o.state!==r.PLAYING_FORWARD&&o.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),h),i.add(h),h.add(this.pathOffset);var u=this.x,d=this.y;this.setPosition(h.x,h.y);var f=this.x-u,c=this.y-d;if(f===0&&c===0)return;if(o.state!==this._prevDirection){this._prevDirection=o.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,f)+l(this.pathRotationOffset))}}};v.exports=e},72699:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var n=r.pipelines;if(n){a===void 0&&(a=n.default);var e=n.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,n){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var o=s.get(a);o&&(this.pipeline=o),r&&(this.pipelineData=n?l(r):r)}return this},setPipelineData:function(a,r){var n=this.pipelineData;return r===void 0?delete n[a]:n[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};v.exports=p},17581:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),p=t(47059),a=t(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),n&&(this.preFX=new p(this,!1))},setPostPipeline:function(n,e,s){var o=this.scene.sys.renderer;if(!o)return this;var i=o.pipelines;if(i){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var u=i.getPostPipeline(n[h],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=s?l(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var s=this.postPipelineData;return e===void 0?delete s[n]:s[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,o=[],i=0;i<s.length;i++){var h=s[i];(e&&h.name===n||!e&&h instanceof n)&&o.push(h)}return o.length===1?o[0]:o},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,o=s.length-1;o>=0;o--){var i=s[o];(e&&i.name===n||!e&&i===n)&&(i.destroy(),a(s,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};v.exports=r},80227:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,l){return l===void 0&&(l=t),this.scrollFactorX=t,this.scrollFactorY=l,this}};v.exports=T},16736:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};v.exports=T},37726:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4327),p=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,n,e,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n,e,s)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=p,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};v.exports=a},79812:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4327),p=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,n,e,s){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,n,e,s,this.flipX,this.flipY);else{var o=r;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=p,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=a},27472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,l,p,a){return t===void 0&&(t=16777215),l===void 0&&(l=t,p=t,a=t),this.tintTopLeft=t,this.tintTopRight=l,this.tintBottomLeft=p,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,l,p,a){return this.setTint(t,l,p,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};v.exports=T},53774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(l.textureKey=t.texture.key,l.frameKey=t.frame.name),l};v.exports=T},16901:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=t(61340),a=t(85955),r=t(86554),n=t(30954),e=t(26099),s=4,o={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=-5:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return n(this._rotation*l.RAD_TO_DEG)},set:function(i){this.rotation=n(i)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,h,u,d){return i===void 0&&(i=0),h===void 0&&(h=i),u===void 0&&(u=0),d===void 0&&(d=0),this.x=i,this.y=h,this.z=u,this.w=d,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,h,u,d){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=h+Math.random()*d,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=i),this.scaleX=i,this.scaleY=h,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,h){i===void 0&&(i=new p);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);var d=!1;for(h||(h=new p,d=!0),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)h.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),h.multiply(i,i),u=u.parentContainer;return d&&h.destroy(),i},getLocalPoint:function(i,h,u,d){u||(u=new e),d||(d=this.scene.sys.cameras.main);var f=d.scrollX,c=d.scrollY,g=i+f*this.scrollFactorX-f,m=h+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,m,u):a(g,m,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getWorldPoint:function(i,h,u){i===void 0&&(i=new e);var d=this.parentContainer;if(!d)return i.x=this.x,i.y=this.y,i;var f=this.getWorldTransformMatrix(h,u);return i.x=f.tx,i.y=f.ty,i},getParentRotation:function(){for(var i=0,h=this.parentContainer;h;)i+=h.rotation,h=h.parentContainer;return i}};v.exports=o},61340:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(36383),a=t(26099),r=new l({initialize:function(e,s,o,i,h,u){e===void 0&&(e=1),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=1),h===void 0&&(h=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,s,o,i,h,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],s=n[1],o=n[2],i=n[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):o||i?p.TAU-(i>0?Math.acos(-o/this.scaleY):-Math.acos(o/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var s=this.matrix;return s[4]=s[0]*n+s[2]*e+s[4],s[5]=s[1]*n+s[3]*e+s[5],this},scale:function(n,e){var s=this.matrix;return s[0]*=n,s[1]*=n,s[2]*=e,s[3]*=e,this},rotate:function(n){var e=Math.sin(n),s=Math.cos(n),o=this.matrix,i=o[0],h=o[1],u=o[2],d=o[3];return o[0]=i*s+u*e,o[1]=h*s+d*e,o[2]=i*-e+u*s,o[3]=h*-e+d*s,this},multiply:function(n,e){var s=this.matrix,o=n.matrix,i=s[0],h=s[1],u=s[2],d=s[3],f=s[4],c=s[5],g=o[0],m=o[1],y=o[2],x=o[3],S=o[4],C=o[5],A=e===void 0?s:e.matrix;return A[0]=g*i+m*u,A[1]=g*h+m*d,A[2]=y*i+x*u,A[3]=y*h+x*d,A[4]=S*i+C*u+f,A[5]=S*h+C*d+c,A},multiplyWithOffset:function(n,e,s){var o=this.matrix,i=n.matrix,h=o[0],u=o[1],d=o[2],f=o[3],c=o[4],g=o[5],m=e*h+s*d+c,y=e*u+s*f+g,x=i[0],S=i[1],C=i[2],A=i[3],F=i[4],M=i[5];return o[0]=x*h+S*d,o[1]=x*u+S*f,o[2]=C*h+A*d,o[3]=C*u+A*f,o[4]=F*h+M*d+m,o[5]=F*u+M*f+y,this},transform:function(n,e,s,o,i,h){var u=this.matrix,d=u[0],f=u[1],c=u[2],g=u[3],m=u[4],y=u[5];return u[0]=n*d+e*c,u[1]=n*f+e*g,u[2]=s*d+o*c,u[3]=s*f+o*g,u[4]=i*d+h*c+m,u[5]=i*f+h*g+y,this},transformPoint:function(n,e,s){s===void 0&&(s={x:0,y:0});var o=this.matrix,i=o[0],h=o[1],u=o[2],d=o[3],f=o[4],c=o[5];return s.x=n*i+e*u+f,s.y=n*h+e*d+c,s},invert:function(){var n=this.matrix,e=n[0],s=n[1],o=n[2],i=n[3],h=n[4],u=n[5],d=e*i-s*o;return n[0]=i/d,n[1]=-s/d,n[2]=-o/d,n[3]=e/d,n[4]=(o*u-i*h)/d,n[5]=-(e*u-s*h)/d,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,s,o,i,h){var u=this.matrix;return u[0]=n,u[1]=e,u[2]=s,u[3]=o,u[4]=i,u[5]=h,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,s=e[0],o=e[1],i=e[2],h=e[3],u=s*h-o*i;if(n.translateX=e[4],n.translateY=e[5],s||o){var d=Math.sqrt(s*s+o*o);n.rotation=o>0?Math.acos(s/d):-Math.acos(s/d),n.scaleX=d,n.scaleY=u/d}else if(i||h){var f=Math.sqrt(i*i+h*h);n.rotation=Math.PI*.5-(h>0?Math.acos(-i/f):-Math.acos(i/f)),n.scaleX=u/f,n.scaleY=f}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,s,o,i){var h=this.matrix,u=Math.sin(s),d=Math.cos(s);return h[4]=n,h[5]=e,h[0]=d*o,h[1]=u*o,h[2]=-u*i,h[3]=d*i,this},applyInverse:function(n,e,s){s===void 0&&(s=new a);var o=this.matrix,i=o[0],h=o[1],u=o[2],d=o[3],f=o[4],c=o[5],g=1/(i*d+u*-h);return s.x=d*g*n+-u*g*e+(c*u-f*d)*g,s.y=i*g*e+-h*g*n+(-c*i+f*h)*g,s},setQuad:function(n,e,s,o,i,h){i===void 0&&(i=!1),h===void 0&&(h=this.quad);var u=this.matrix,d=u[0],f=u[1],c=u[2],g=u[3],m=u[4],y=u[5],x=n*d+e*c+m,S=n*f+e*g+y,C=n*d+o*c+m,A=n*f+o*g+y,F=s*d+o*c+m,M=s*f+o*g+y,w=s*d+e*c+m,R=s*f+e*g+y;if(i){var O=Math.floor(x+.5),U=Math.floor(S+.5),X=O-x,W=U-S;h[0]=O,h[1]=U,h[2]=C+X,h[3]=A+W,h[4]=F+X,h[5]=M+W,h[6]=w+X,h[7]=R+W}else h[0]=x,h[1]=S,h[2]=C,h[3]=A,h[4]=F,h[5]=M,h[6]=w,h[7]=R;return h},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,s){var o=this.getX(n,e);return s&&(o=Math.floor(o+.5)),o},getYRound:function(n,e,s){var o=this.getY(n,e);return s&&(o=Math.floor(o+.5)),o},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});v.exports=r},59715:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(l){return this.visible=l,this}};v.exports=t},31401:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),p=t(10312),a=t(83419),r=t(31401),n=t(51708),e=t(95643),s=t(87841),o=t(29959),i=t(36899),h=t(26099),u=new r.TransformMatrix,d=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,o],initialize:function(c,g,m,y){e.call(this,c,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this._sortKey="",this._sysEvents=c.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,m),this.setBlendMode(p.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(f){return f===void 0&&(f=!0),this.exclusive=f,this},getBounds:function(f){if(f===void 0&&(f=new s),f.setTo(this.x,this.y,0,0),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix(),g=c.transformPoint(this.x,this.y);f.setTo(g.x,g.y,0,0)}if(this.list.length>0){var m=this.list,y=new s,x=!1;f.setEmpty();for(var S=0;S<m.length;S++){var C=m[S];C.getBounds&&(C.getBounds(y),x?i(y,f,f):(f.setTo(y.x,y.y,y.width,y.height),x=!0))}}return f},addHandler:function(f){f.once(n.DESTROY,this.onChildDestroyed,this),this.exclusive&&(f.parentContainer&&f.parentContainer.remove(f),f.parentContainer=this,f.removeFromDisplayList(),f.addedToScene())},removeHandler:function(f){f.off(n.DESTROY,this.remove,this),this.exclusive&&(f.parentContainer=null,f.removedFromScene(),f.addToDisplayList())},pointToContainer:function(f,c){c===void 0&&(c=new h),this.parentContainer?this.parentContainer.pointToContainer(f,c):(c.x=f.x,c.y=f.y);var g=u;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(f.x,f.y,c),c},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(u,this.localTransform)},add:function(f){return l.Add(this.list,f,this.maxSize,this.addHandler,this),this},addAt:function(f,c){return l.AddAt(this.list,f,c,this.maxSize,this.addHandler,this),this},getAt:function(f){return this.list[f]},getIndex:function(f){return this.list.indexOf(f)},sort:function(f,c){return f?(c===void 0&&(c=function(g,m){return g[f]-m[f]}),l.StableSort(this.list,c),this):this},getByName:function(f){return l.GetFirst(this.list,"name",f)},getRandom:function(f,c){return l.GetRandom(this.list,f,c)},getFirst:function(f,c,g,m){return l.GetFirst(this.list,f,c,g,m)},getAll:function(f,c,g,m){return l.GetAll(this.list,f,c,g,m)},count:function(f,c,g,m){return l.CountAllMatching(this.list,f,c,g,m)},swap:function(f,c){return l.Swap(this.list,f,c),this},moveTo:function(f,c){return l.MoveTo(this.list,f,c),this},moveAbove:function(f,c){return l.MoveAbove(this.list,f,c),this},moveBelow:function(f,c){return l.MoveBelow(this.list,f,c),this},remove:function(f,c){var g=l.Remove(this.list,f,this.removeHandler,this);if(c&&g){Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++)g[m].destroy()}return this},removeAt:function(f,c){var g=l.RemoveAt(this.list,f,this.removeHandler,this);return c&&g&&g.destroy(),this},removeBetween:function(f,c,g){var m=l.RemoveBetween(this.list,f,c,this.removeHandler,this);if(g)for(var y=0;y<m.length;y++)m[y].destroy();return this},removeAll:function(f){var c=this.list;if(f){for(var g=0;g<c.length;g++)c[g]&&c[g].scene&&(c[g].off(n.DESTROY,this.onChildDestroyed,this),c[g].destroy());this.list=[]}else l.RemoveBetween(c,0,c.length,this.removeHandler,this);return this},bringToTop:function(f){return l.BringToTop(this.list,f),this},sendToBack:function(f){return l.SendToBack(this.list,f),this},moveUp:function(f){return l.MoveUp(this.list,f),this},moveDown:function(f){return l.MoveDown(this.list,f),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(f,c,g){var m=l.Replace(this.list,f,c);return m&&(this.addHandler(c),this.removeHandler(f),g&&f.destroy()),this},exists:function(f){return this.list.indexOf(f)>-1},setAll:function(f,c,g,m){return l.SetAll(this.list,f,c,g,m),this},each:function(f,c){var g=[null],m,y=this.list.slice(),x=y.length;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<x;m++)g[0]=y[m],f.apply(c,g);return this},iterate:function(f,c){var g=[null],m;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<this.list.length;m++)g[0]=this.list[m],f.apply(c,g);return this},setScrollFactor:function(f,c,g){return c===void 0&&(c=f),g===void 0&&(g=!1),this.scrollFactorX=f,this.scrollFactorY=c,g&&(l.SetAll(this.list,"scrollFactorX",f),l.SetAll(this.list,"scrollFactorY",c)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(f){l.Remove(this.list,f),this.exclusive&&(f.parentContainer=null,f.removedFromScene())}});v.exports=d},53584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p.addToRenderList(l);var r=l.list;if(r.length!==0){var n=l.localTransform;a?(n.loadIdentity(),n.multiply(a),n.translate(l.x,l.y),n.rotate(l.rotation),n.scale(l.scaleX,l.scaleY)):n.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var e=l.blendMode!==-1;e||t.setBlendMode(0);var s=l._alpha,o=l.scrollFactorX,i=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(t,null,p);for(var h=0;h<r.length;h++){var u=r[h];if(u.willRender(p)){var d=u.alpha,f=u.scrollFactorX,c=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(f*o,c*i),u.setAlpha(d*s),u.renderCanvas(t,u,p,n),u.setAlpha(d),u.setScrollFactor(f,c)}}l.mask&&l.mask.postRenderCanvas(t)}};v.exports=T},77143:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(31559),a=t(44603),r=t(23568),n=t(95540);a.register("container",function(e,s){e===void 0&&(e={});var o=r(e,"x",0),i=r(e,"y",0),h=n(e,"children",null),u=new p(this.scene,o,i,h);return s!==void 0&&(e.add=s),l(this.scene,u,e),u})},24961:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31559),p=t(39429);p.register("container",function(a,r,n){return this.displayList.add(new l(this.scene,a,r,n))})},29959:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(72249),a=t(53584),v.exports={renderWebGL:p,renderCanvas:a}},72249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p.addToRenderList(l);var r=l.list,n=r.length;if(n!==0){var e=l.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(l.x,l.y),e.rotate(l.rotation),e.scale(l.scaleX,l.scaleY)):e.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),t.pipelines.preBatch(l);var s=l.blendMode!==-1;s||t.setBlendMode(0);for(var o=l.alpha,i=l.scrollFactorX,h=l.scrollFactorY,u=0;u<n;u++){var d=r[u];if(d.willRender(p)){var f,c,g,m;if(d.alphaTopLeft!==void 0)f=d.alphaTopLeft,c=d.alphaTopRight,g=d.alphaBottomLeft,m=d.alphaBottomRight;else{var y=d.alpha;f=y,c=y,g=y,m=y}var x=d.scrollFactorX,S=d.scrollFactorY;!s&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var C=d.mask;C&&C.preRenderWebGL(t,d,p);var A=d.type;A!==t.currentType&&(t.newType=!0,t.currentType=A),t.nextTypeMatch=u<n-1?r[u+1].type===t.currentType:!1,d.setScrollFactor(x*i,S*h),d.setAlpha(f*o,c*o,g*o,m*o),d.renderWebGL(t,d,p,e,l),d.setAlpha(f,c,g,m),d.setScrollFactor(x,S),C&&C.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(l)}};v.exports=T},47407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(441),r=t(95643),n=t(41212),e=t(35846),s=t(44594),o=t(61369),i=new l({Extends:r,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,a],initialize:function(u,d,f,c,g,m){r.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new o,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,f),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),g,m):this.createElement(c,g,m):c&&this.setElement(c,g,m),u.sys.events.on(s.SLEEP,this.handleSceneEvent,this),u.sys.events.on(s.WAKE,this.handleSceneEvent,this),u.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var u=this.node,d=u.style;u&&(d.display=h.settings.visible?"block":"none")},setSkew:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this.skewX=h,this.skewY=u,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.addEventListener(h[u],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.removeEventListener(h[u],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,u,d){return this.setElement(document.createElement(h),u,d)},setElement:function(h,u,d){this.removeElement();var f;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),f=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(f=h),!f)return this;if(this.node=f,u&&n(u))for(var c in u)f.style[c]=u[c];else typeof u=="string"&&(f.style=u);return f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),d&&(f.innerText=d),this.updateSize()},createFromCache:function(h,u){var d=this.cache.get(h);return d&&this.createFromHTML(d,u),this},createFromHTML:function(h,u){u===void 0&&(u="div"),this.removeElement();var d=document.createElement(u);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node;return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(h,u){if(this.node){for(var d=this.node.querySelectorAll("*"),f=0;f<d.length;f++)if(d[f][h]===u)return d[f]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,u=this.node;u&&h&&!h.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});v.exports=i},49381:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47407),p=t(95643),a=t(61340),r=new a,n=new a,e=new a,s=function(o,i,h,u){if(i.node){var d=i.node.style,f=i.scene.sys.settings;if(!d||!f.visible||p.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&h.id||i.parentContainer&&!i.parentContainer.willRender()){d.display="none";return}var c=i.parentContainer,g=h.alpha*i.alpha;c&&(g*=c.alpha);var m=r,y=n,x=e,S=0,C=0,A="0%",F="0%";u?(S=i.width*i.scaleX*i.originX,C=i.height*i.scaleY*i.originY,y.applyITRS(i.x-S,i.y-C,i.rotation,i.scaleX,i.scaleY),m.copyFrom(h.matrix),m.multiplyWithOffset(u,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),y.e=i.x-S,y.f=i.y-C,m.multiply(y,x)):(S=i.width*i.originX,C=i.height*i.originY,y.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),m.copyFrom(h.matrix),A=100*i.originX+"%",F=100*i.originY+"%",y.e-=h.scrollX*i.scrollFactorX,y.f-=h.scrollY*i.scrollFactorY,m.multiply(y,x),x.e-=S,x.f-=C),i.transformOnly||(d.display="block",d.opacity=g,d.zIndex=i._depth,d.pointerEvents=i.pointerEvents,d.mixBlendMode=l[i._blendMode]),d.transform=x.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",d.transformOrigin=A+" "+F}};v.exports=s},2611:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3069),p=t(39429);p.register("dom",function(a,r,n,e,s){var o=new l(this.scene,a,r,n,e,s);return this.displayList.add(o),o})},441:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(49381),a=t(49381),v.exports={renderWebGL:p,renderCanvas:a}},62980:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},41337:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},44947:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},49358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},35163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="created"},97249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="error"},19483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="locked"},56059:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},26772:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="metadata"},64437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="playing"},83411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},75780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeked"},67799:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeking"},63500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stalled"},55541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},53208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="textureready"},4992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},12:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unsupported"},51708:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(95643),r=t(64993),n=new l({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,r],initialize:function(s){a.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});v.exports=n},70217:()=>{},56315:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42421),p=t(39429);p.register("extern",function(){var a=new l(this.scene);return this.displayList.add(a),a})},64993:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(80287),a=t(70217),v.exports={renderWebGL:p,renderCanvas:a}},80287:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=function(a,r,n,e){a.pipelines.clear();var s=l(r,n,e).calc;r.render.call(r,a,n,s),a.pipelines.rebind()};v.exports=p},85592:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71911),p=t(83419),a=t(85592),r=t(31401),n=t(8497),e=t(95643),s=t(95540),o=t(35154),i=t(36383),h=t(84503),u=new p({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,h],initialize:function(f,c){var g=o(c,"x",0),m=o(c,"y",0);e.call(this,f,"Graphics"),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(c)},setDefaultStyles:function(d){return o(d,"lineStyle",null)&&(this.defaultStrokeWidth=o(d,"lineStyle.width",1),this.defaultStrokeColor=o(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=o(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),o(d,"fillStyle",null)&&(this.defaultFillColor=o(d,"fillStyle.color",16777215),this.defaultFillAlpha=o(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,f,c){return c===void 0&&(c=1),this.commandBuffer.push(a.LINE_STYLE,d,f,c),this._lineWidth=d,this},fillStyle:function(d,f){return f===void 0&&(f=1),this.commandBuffer.push(a.FILL_STYLE,d,f),this},fillGradientStyle:function(d,f,c,g,m,y,x,S){return m===void 0&&(m=1),y===void 0&&(y=m),x===void 0&&(x=m),S===void 0&&(S=m),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,m,y,x,S,d,f,c,g),this},lineGradientStyle:function(d,f,c,g,m,y){return y===void 0&&(y=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,d,y,f,c,g,m),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,f,c){return this.beginPath(),this.arc(d,f,c,0,i.PI2),this.fillPath(),this},strokeCircle:function(d,f,c){return this.beginPath(),this.arc(d,f,c,0,i.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,f,c,g){return this.commandBuffer.push(a.FILL_RECT,d,f,c,g),this},strokeRect:function(d,f,c,g){var m=this._lineWidth/2,y=d-m,x=d+m;return this.beginPath(),this.moveTo(d,f),this.lineTo(d,f+g),this.strokePath(),this.beginPath(),this.moveTo(d+c,f),this.lineTo(d+c,f+g),this.strokePath(),this.beginPath(),this.moveTo(y,f),this.lineTo(x+c,f),this.strokePath(),this.beginPath(),this.moveTo(y,f+g),this.lineTo(x+c,f+g),this.strokePath(),this},fillRoundedRect:function(d,f,c,g,m){m===void 0&&(m=20);var y=m,x=m,S=m,C=m;typeof m!="number"&&(y=s(m,"tl",20),x=s(m,"tr",20),S=s(m,"bl",20),C=s(m,"br",20));var A=y>=0,F=x>=0,M=S>=0,w=C>=0;return y=Math.abs(y),x=Math.abs(x),S=Math.abs(S),C=Math.abs(C),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+c-x,f),F?this.arc(d+c-x,f+x,x,-i.TAU,0):this.arc(d+c,f,x,Math.PI,i.TAU,!0),this.lineTo(d+c,f+g-C),w?this.arc(d+c-C,f+g-C,C,0,i.TAU):this.arc(d+c,f+g,C,-i.TAU,Math.PI,!0),this.lineTo(d+S,f+g),M?this.arc(d+S,f+g-S,S,i.TAU,Math.PI):this.arc(d,f+g,S,0,-i.TAU,!0),this.lineTo(d,f+y),A?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,f,c,g,m){m===void 0&&(m=20);var y=m,x=m,S=m,C=m,A=Math.min(c,g)/2;typeof m!="number"&&(y=s(m,"tl",20),x=s(m,"tr",20),S=s(m,"bl",20),C=s(m,"br",20));var F=y>=0,M=x>=0,w=S>=0,R=C>=0;return y=Math.min(Math.abs(y),A),x=Math.min(Math.abs(x),A),S=Math.min(Math.abs(S),A),C=Math.min(Math.abs(C),A),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+c-x,f),this.moveTo(d+c-x,f),M?this.arc(d+c-x,f+x,x,-i.TAU,0):this.arc(d+c,f,x,Math.PI,i.TAU,!0),this.lineTo(d+c,f+g-C),this.moveTo(d+c,f+g-C),R?this.arc(d+c-C,f+g-C,C,0,i.TAU):this.arc(d+c,f+g,C,-i.TAU,Math.PI,!0),this.lineTo(d+S,f+g),this.moveTo(d+S,f+g),w?this.arc(d+S,f+g-S,S,i.TAU,Math.PI):this.arc(d,f+g,S,0,-i.TAU,!0),this.lineTo(d,f+y),this.moveTo(d,f+y),F?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,f){return this.fillPoint(d.x,d.y,f)},fillPoint:function(d,f,c){return!c||c<1?c=1:(d-=c/2,f-=c/2),this.commandBuffer.push(a.FILL_RECT,d,f,c,c),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,f,c,g,m,y){return this.commandBuffer.push(a.FILL_TRIANGLE,d,f,c,g,m,y),this},strokeTriangle:function(d,f,c,g,m,y){return this.commandBuffer.push(a.STROKE_TRIANGLE,d,f,c,g,m,y),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,f,c,g){return this.beginPath(),this.moveTo(d,f),this.lineTo(c,g),this.strokePath(),this},lineTo:function(d,f){return this.commandBuffer.push(a.LINE_TO,d,f),this},moveTo:function(d,f){return this.commandBuffer.push(a.MOVE_TO,d,f),this},strokePoints:function(d,f,c,g){f===void 0&&(f=!1),c===void 0&&(c=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var m=1;m<g;m++)this.lineTo(d[m].x,d[m].y);return f&&this.lineTo(d[0].x,d[0].y),c&&this.closePath(),this.strokePath(),this},fillPoints:function(d,f,c,g){f===void 0&&(f=!1),c===void 0&&(c=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var m=1;m<g;m++)this.lineTo(d[m].x,d[m].y);return f&&this.lineTo(d[0].x,d[0].y),c&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,f){f===void 0&&(f=32);var c=d.getPoints(f);return this.strokePoints(c,!0)},strokeEllipse:function(d,f,c,g,m){m===void 0&&(m=32);var y=new n(d,f,c,g),x=y.getPoints(m);return this.strokePoints(x,!0)},fillEllipseShape:function(d,f){f===void 0&&(f=32);var c=d.getPoints(f);return this.fillPoints(c,!0)},fillEllipse:function(d,f,c,g,m){m===void 0&&(m=32);var y=new n(d,f,c,g),x=y.getPoints(m);return this.fillPoints(x,!0)},arc:function(d,f,c,g,m,y,x){return y===void 0&&(y=!1),x===void 0&&(x=0),this.commandBuffer.push(a.ARC,d,f,c,g,m,y,x),this},slice:function(d,f,c,g,m,y,x){return y===void 0&&(y=!1),x===void 0&&(x=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,d,f),this.commandBuffer.push(a.ARC,d,f,c,g,m,y,x),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(d,f){return this.commandBuffer.push(a.TRANSLATE,d,f),this},scaleCanvas:function(d,f){return this.commandBuffer.push(a.SCALE,d,f),this},rotateCanvas:function(d){return this.commandBuffer.push(a.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,f,c){var g=this.scene.sys,m=g.game.renderer;f===void 0&&(f=g.scale.width),c===void 0&&(c=g.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,f,c),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var y,x,S={willReadFrequently:!0};if(typeof d=="string")if(g.textures.exists(d)){y=g.textures.get(d);var C=y.getSourceImage();C instanceof HTMLCanvasElement&&(x=C.getContext("2d",S))}else y=g.textures.createCanvas(d,f,c),x=y.getSourceImage().getContext("2d",S);else d instanceof HTMLCanvasElement&&(x=d.getContext("2d",S));return x&&(this.renderCanvas(m,this,u.TargetCamera,null,x,!1),y&&y.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new l,v.exports=u},32768:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85592),p=t(20926),a=function(r,n,e,s,o,i){var h=n.commandBuffer,u=h.length,d=o||r.currentContext;if(!(u===0||!p(r,d,n,e,s))){e.addToRenderList(n);var f=1,c=1,g=0,m=0,y=1,x=0,S=0,C=0;d.beginPath();for(var A=0;A<u;++A){var F=h[A];switch(F){case l.ARC:d.arc(h[A+1],h[A+2],h[A+3],h[A+4],h[A+5],h[A+6]),A+=7;break;case l.LINE_STYLE:y=h[A+1],g=h[A+2],f=h[A+3],x=(g&16711680)>>>16,S=(g&65280)>>>8,C=g&255,d.strokeStyle="rgba("+x+","+S+","+C+","+f+")",d.lineWidth=y,A+=3;break;case l.FILL_STYLE:m=h[A+1],c=h[A+2],x=(m&16711680)>>>16,S=(m&65280)>>>8,C=m&255,d.fillStyle="rgba("+x+","+S+","+C+","+c+")",A+=2;break;case l.BEGIN_PATH:d.beginPath();break;case l.CLOSE_PATH:d.closePath();break;case l.FILL_PATH:i||d.fill();break;case l.STROKE_PATH:i||d.stroke();break;case l.FILL_RECT:i?d.rect(h[A+1],h[A+2],h[A+3],h[A+4]):d.fillRect(h[A+1],h[A+2],h[A+3],h[A+4]),A+=4;break;case l.FILL_TRIANGLE:d.beginPath(),d.moveTo(h[A+1],h[A+2]),d.lineTo(h[A+3],h[A+4]),d.lineTo(h[A+5],h[A+6]),d.closePath(),i||d.fill(),A+=6;break;case l.STROKE_TRIANGLE:d.beginPath(),d.moveTo(h[A+1],h[A+2]),d.lineTo(h[A+3],h[A+4]),d.lineTo(h[A+5],h[A+6]),d.closePath(),i||d.stroke(),A+=6;break;case l.LINE_TO:d.lineTo(h[A+1],h[A+2]),A+=2;break;case l.MOVE_TO:d.moveTo(h[A+1],h[A+2]),A+=2;break;case l.LINE_FX_TO:d.lineTo(h[A+1],h[A+2]),A+=5;break;case l.MOVE_FX_TO:d.moveTo(h[A+1],h[A+2]),A+=5;break;case l.SAVE:d.save();break;case l.RESTORE:d.restore();break;case l.TRANSLATE:d.translate(h[A+1],h[A+2]),A+=2;break;case l.SCALE:d.scale(h[A+1],h[A+2]),A+=2;break;case l.ROTATE:d.rotate(h[A+1]),A+=1;break;case l.GRADIENT_FILL_STYLE:A+=5;break;case l.GRADIENT_LINE_STYLE:A+=6;break}}d.restore()}};v.exports=a},87079:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),p=t(43831);l.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var n=new p(this.scene,a);return a.add&&this.scene.sys.displayList.add(n),n})},1201:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43831),p=t(39429);p.register("graphics",function(a){return this.displayList.add(new l(this.scene,a))})},84503:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(77545),a=t(32768),a=t(32768),v.exports={renderWebGL:p,renderCanvas:a}},77545:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85592),p=t(91296),a=t(61340),r=t(70554),n=function(h,u,d){this.x=h,this.y=u,this.width=d},e=function(h,u,d){this.points=[],this.pointsLength=1,this.points[0]=new n(h,u,d)},s=[],o=new a,i=function(h,u,d,f){if(u.commandBuffer.length!==0){d.addToRenderList(u);var c=h.pipelines.set(u.pipeline,u);h.pipelines.preBatch(u);for(var g=p(u,d,f).calc,m=o.loadIdentity(),y=u.commandBuffer,x=d.alpha*u.alpha,S=1,C=c.fillTint,A=c.strokeTint,F=0,M=0,w=0,R=.01,O=Math.PI*2,U,X=[],W=0,Y=!0,N=null,V=r.getTintAppendFloatAlpha,I=0;I<y.length;I++)switch(U=y[I],U){case l.BEGIN_PATH:{X.length=0,N=null,Y=!0;break}case l.CLOSE_PATH:{Y=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case l.FILL_PATH:{for(W=0;W<X.length;W++)c.batchFillPath(X[W].points,m,g);break}case l.STROKE_PATH:{for(W=0;W<X.length;W++)c.batchStrokePath(X[W].points,S,Y,m,g);break}case l.LINE_STYLE:{S=y[++I];var B=y[++I],G=y[++I]*x,H=V(B,G);A.TL=H,A.TR=H,A.BL=H,A.BR=H;break}case l.FILL_STYLE:{var $=y[++I],Z=y[++I]*x,Q=V($,Z);C.TL=Q,C.TR=Q,C.BL=Q,C.BR=Q;break}case l.GRADIENT_FILL_STYLE:{var j=y[++I]*x,_=y[++I]*x,tt=y[++I]*x,et=y[++I]*x;C.TL=V(y[++I],j),C.TR=V(y[++I],_),C.BL=V(y[++I],tt),C.BR=V(y[++I],et);break}case l.GRADIENT_LINE_STYLE:{S=y[++I];var rt=y[++I]*x;A.TL=V(y[++I],rt),A.TR=V(y[++I],rt),A.BL=V(y[++I],rt),A.BR=V(y[++I],rt);break}case l.ARC:{var at=0,st=y[++I],ct=y[++I],vt=y[++I],pt=y[++I],nt=y[++I],ht=y[++I],lt=y[++I];for(nt-=pt,ht?nt<-O?nt=-O:nt>0&&(nt=-O+nt%O):nt>O?nt=O:nt<0&&(nt=O+nt%O),N===null&&(N=new e(st+Math.cos(pt)*vt,ct+Math.sin(pt)*vt,S),X.push(N),at+=R);at<1+lt;)w=nt*at+pt,F=st+Math.cos(w)*vt,M=ct+Math.sin(w)*vt,N.points.push(new n(F,M,S)),at+=R;w=nt+pt,F=st+Math.cos(w)*vt,M=ct+Math.sin(w)*vt,N.points.push(new n(F,M,S));break}case l.FILL_RECT:{c.batchFillRect(y[++I],y[++I],y[++I],y[++I],m,g);break}case l.FILL_TRIANGLE:{c.batchFillTriangle(y[++I],y[++I],y[++I],y[++I],y[++I],y[++I],m,g);break}case l.STROKE_TRIANGLE:{c.batchStrokeTriangle(y[++I],y[++I],y[++I],y[++I],y[++I],y[++I],S,m,g);break}case l.LINE_TO:{N!==null?N.points.push(new n(y[++I],y[++I],S)):(N=new e(y[++I],y[++I],S),X.push(N));break}case l.MOVE_TO:{N=new e(y[++I],y[++I],S),X.push(N);break}case l.SAVE:{s.push(m.copyToArray());break}case l.RESTORE:{m.copyFromArray(s.pop());break}case l.TRANSLATE:{st=y[++I],ct=y[++I],m.translate(st,ct);break}case l.SCALE:{st=y[++I],ct=y[++I],m.scale(st,ct);break}case l.ROTATE:{m.rotate(y[++I]);break}}h.pipelines.postBatch(u)}};v.exports=i},26479:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61061),p=t(83419),a=t(51708),r=t(50792),n=t(46710),e=t(95540),s=t(35154),o=t(97022),i=t(41212),h=t(88492),u=t(35072),d=t(68287),f=new p({Extends:r,initialize:function(g,m,y){r.call(this),y?m&&!Array.isArray(m)&&(m=[m]):Array.isArray(m)?i(m[0])&&(y=m,m=null):i(m)&&(y=m,m=null),this.scene=g,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(y,"classType",d),this.name=e(y,"name",""),this.active=e(y,"active",!0),this.maxSize=e(y,"maxSize",-1),this.defaultKey=e(y,"defaultKey",null),this.defaultFrame=e(y,"defaultFrame",null),this.runChildUpdate=e(y,"runChildUpdate",!1),this.createCallback=e(y,"createCallback",null),this.removeCallback=e(y,"removeCallback",null),this.createMultipleCallback=e(y,"createMultipleCallback",null),this.internalCreateCallback=e(y,"internalCreateCallback",null),this.internalRemoveCallback=e(y,"internalRemoveCallback",null),m&&this.addMultiple(m),y&&this.createMultiple(y),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,g,m,y,x,S){if(c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=this.defaultKey),y===void 0&&(y=this.defaultFrame),x===void 0&&(x=!0),S===void 0&&(S=!0),this.isFull())return null;var C=new this.classType(this.scene,c,g,m,y);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=x,C.setActive(S),this.add(C),C},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var g=[];if(c[0].key)for(var m=0;m<c.length;m++){var y=this.createFromConfig(c[m]);g=g.concat(y)}return g},createFromConfig:function(c){if(this.isFull())return[];this.classType=e(c,"classType",this.classType);var g=e(c,"key",void 0),m=e(c,"frame",null),y=e(c,"visible",!0),x=e(c,"active",!0),S=[];if(g===void 0)return S;Array.isArray(g)||(g=[g]),Array.isArray(m)||(m=[m]);var C=e(c,"repeat",0),A=e(c,"randomKey",!1),F=e(c,"randomFrame",!1),M=e(c,"yoyo",!1),w=e(c,"quantity",!1),R=e(c,"frameQuantity",1),O=e(c,"max",0),U=h(g,m,{max:O,qty:w||R,random:A,randomB:F,repeat:C,yoyo:M});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback),c.internalCreateCallback&&(this.internalCreateCallback=c.internalCreateCallback),c.internalRemoveCallback&&(this.internalRemoveCallback=c.internalRemoveCallback);for(var X=0;X<U.length;X++){var W=this.create(0,0,U[X].a,U[X].b,y,x);if(!W)break;S.push(W)}if(o(c,"setXY")){var Y=s(c,"setXY.x",0),N=s(c,"setXY.y",0),V=s(c,"setXY.stepX",0),I=s(c,"setXY.stepY",0);l.SetXY(S,Y,N,V,I)}if(o(c,"setRotation")){var B=s(c,"setRotation.value",0),G=s(c,"setRotation.step",0);l.SetRotation(S,B,G)}if(o(c,"setScale")){var H=s(c,"setScale.x",1),$=s(c,"setScale.y",H),Z=s(c,"setScale.stepX",0),Q=s(c,"setScale.stepY",0);l.SetScale(S,H,$,Z,Q)}if(o(c,"setOrigin")){var j=s(c,"setOrigin.x",.5),_=s(c,"setOrigin.y",j),tt=s(c,"setOrigin.stepX",0),et=s(c,"setOrigin.stepY",0);l.SetOrigin(S,j,_,tt,et)}if(o(c,"setAlpha")){var rt=s(c,"setAlpha.value",1),at=s(c,"setAlpha.step",0);l.SetAlpha(S,rt,at)}if(o(c,"setDepth")){var st=s(c,"setDepth.value",0),ct=s(c,"setDepth.step",0);l.SetDepth(S,st,ct)}if(o(c,"setScrollFactor")){var vt=s(c,"setScrollFactor.x",1),pt=s(c,"setScrollFactor.y",vt),nt=s(c,"setScrollFactor.stepX",0),ht=s(c,"setScrollFactor.stepY",0);l.SetScrollFactor(S,vt,pt,nt,ht)}var lt=e(c,"hitArea",null),xt=e(c,"hitAreaCallback",null);lt&&l.SetHitArea(S,lt,xt);var Et=e(c,"gridAlign",!1);return Et&&l.GridAlign(S,Et),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(c,g){if(!(!this.runChildUpdate||this.children.size===0))for(var m=this.children.entries.slice(),y=0;y<m.length;y++){var x=m[y];x.active&&x.update(c,g)}},add:function(c,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),g&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(a.DESTROY,this.remove,this),this)},addMultiple:function(c,g){if(g===void 0&&(g=!1),Array.isArray(c))for(var m=0;m<c.length;m++)this.add(c[m],g);return this},remove:function(c,g,m){return g===void 0&&(g=!1),m===void 0&&(m=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(a.DESTROY,this.remove,this),m?c.destroy():g&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1);for(var m=this.children,y=0;y<m.size;y++){var x=m.entries[y];x.off(a.DESTROY,this.remove,this),g?x.destroy():c&&(x.removeFromDisplayList(),x.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,g,m,y){return n(this.children.entries,c,g,m,y)},getFirst:function(c,g,m,y,x,S,C){return this.getHandler(!0,1,c,g,m,y,x,S,C)},getFirstNth:function(c,g,m,y,x,S,C,A){return this.getHandler(!0,c,g,m,y,x,S,C,A)},getLast:function(c,g,m,y,x,S,C){return this.getHandler(!1,1,c,g,m,y,x,S,C)},getLastNth:function(c,g,m,y,x,S,C,A){return this.getHandler(!1,c,g,m,y,x,S,C,A)},getHandler:function(c,g,m,y,x,S,C,A,F){m===void 0&&(m=!1),y===void 0&&(y=!1);var M,w,R=0,O=this.children.entries;if(c)for(w=0;w<O.length;w++)if(M=O[w],M.active===m){if(R++,R===g)break}else M=null;else for(w=O.length-1;w>=0;w--)if(M=O[w],M.active===m){if(R++,R===g)break}else M=null;return M?(typeof x=="number"&&(M.x=x),typeof S=="number"&&(M.y=S),M):y?this.create(x,S,C,A,F):null},get:function(c,g,m,y,x){return this.getFirst(!1,!0,c,g,m,y,x)},getFirstAlive:function(c,g,m,y,x,S){return this.getFirst(!0,c,g,m,y,x,S)},getFirstDead:function(c,g,m,y,x,S){return this.getFirst(!1,c,g,m,y,x,S)},playAnimation:function(c,g){return l.PlayAnimation(this.children.entries,c,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var g=0,m=0;m<this.children.size;m++)this.children.entries[m].active===c&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,g,m,y,x){return l.PropertyValueSet(this.children.entries,c,g,m,y,x),this},propertyValueInc:function(c,g,m,y,x){return l.PropertyValueInc(this.children.entries,c,g,m,y,x),this},setX:function(c,g){return l.SetX(this.children.entries,c,g),this},setY:function(c,g){return l.SetY(this.children.entries,c,g),this},setXY:function(c,g,m,y){return l.SetXY(this.children.entries,c,g,m,y),this},incX:function(c,g){return l.IncX(this.children.entries,c,g),this},incY:function(c,g){return l.IncY(this.children.entries,c,g),this},incXY:function(c,g,m,y){return l.IncXY(this.children.entries,c,g,m,y),this},shiftPosition:function(c,g,m){return l.ShiftPosition(this.children.entries,c,g,m),this},angle:function(c,g){return l.Angle(this.children.entries,c,g),this},rotate:function(c,g){return l.Rotate(this.children.entries,c,g),this},rotateAround:function(c,g){return l.RotateAround(this.children.entries,c,g),this},rotateAroundDistance:function(c,g,m){return l.RotateAroundDistance(this.children.entries,c,g,m),this},setAlpha:function(c,g){return l.SetAlpha(this.children.entries,c,g),this},setTint:function(c,g,m,y){return l.SetTint(this.children.entries,c,g,m,y),this},setOrigin:function(c,g,m,y){return l.SetOrigin(this.children.entries,c,g,m,y),this},scaleX:function(c,g){return l.ScaleX(this.children.entries,c,g),this},scaleY:function(c,g){return l.ScaleY(this.children.entries,c,g),this},scaleXY:function(c,g,m,y){return l.ScaleXY(this.children.entries,c,g,m,y),this},setDepth:function(c,g){return l.SetDepth(this.children.entries,c,g),this},setBlendMode:function(c){return l.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,g){return l.SetHitArea(this.children.entries,c,g),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,g,m){return l.SetVisible(this.children.entries,c,g,m),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,c),this.scene=void 0,this.children=void 0)}});v.exports=f},94975:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),p=t(26479);l.register("group",function(a){return new p(this.scene,null,a)})},3385:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26479),p=t(39429);p.register("group",function(a,r){return this.updateList.add(new l(this.scene,a,r))})},88571:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(95643),r=t(59819),n=new l({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,r],initialize:function(s,o,i,h,u){a.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,u),this.setPosition(o,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=n},40652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p.addToRenderList(l),t.batchSprite(l,l.frame,p,a)};v.exports=T},82459:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(88571);p.register("image",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=a(n,"frame",null),i=new r(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),l(this.scene,i,n),i})},2117:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88571),p=t(39429);p.register("image",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},59819:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(99517),a=t(40652),v.exports={renderWebGL:p,renderCanvas:a}},99517:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p.addToRenderList(l),this.pipeline.batchSprite(l,p,a)};v.exports=T},77856:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};l.Shader=t(20071),l.Mesh=t(4703),l.NineSlice=t(28103),l.PointLight=t(80321),l.Plane=t(33663),l.Factories.Shader=t(74177),l.Factories.Mesh=t(9225),l.Factories.NineSlice=t(47521),l.Factories.PointLight=t(71255),l.Factories.Plane=t(30985),l.Creators.Shader=t(54935),l.Creators.Mesh=t(20527),l.Creators.NineSlice=t(28279),l.Creators.PointLight=t(39829),l.Creators.Plane=t(56015),l.Light=t(41432),l.LightsManager=t(61356),l.LightsPlugin=t(88992),v.exports=l},93595:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),p=t(83419),a=t(31401),r=t(53774),n=t(45893),e=t(50792),s=t(51708),o=t(73162),i=t(33963),h=t(44594),u=t(19186),d=new p({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,i],initialize:function(c,g){o.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),g&&this.add(g),c.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(f,c){return this.data||(this.data=new n(this)),this.data.set(f,c),this},incData:function(f,c){return this.data||(this.data=new n(this)),this.data.inc(f,c),this},toggleData:function(f){return this.data||(this.data=new n(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new n(this)),this.data.get(f)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(f){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,c=this.parentContainer,g=[];c&&(g.unshift(c.getIndex(f)),f=c,c.parentContainer);)c=c.parentContainer;return g.unshift(this.displayList.getIndex(f)),g},addChildCallback:function(f){var c=f.displayList;c&&c!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(s.ADDED_TO_SCENE,f,this.scene),this.events.emit(h.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(s.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,f,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,c){return f._depth-c._depth},getChildren:function(){return this.list},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),f.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var f=null;return this.parentContainer?f=this.parentContainer.list:this.displayList&&(f=this.displayList.list),f},destroy:function(f){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var c=this.list;c.length;)c[0].destroy(f);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});v.exports=d},2956:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=l.list;if(a.length!==0){l.depthSort();var r=l.blendMode!==-1;r||t.setBlendMode(0);var n=l._alpha;l.mask&&l.mask.preRenderCanvas(t,null,p);for(var e=0;e<a.length;e++){var s=a[e];if(s.willRender(p)){var o=s.alpha;!r&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(o*n),s.renderCanvas(t,s,p),s.setAlpha(o)}}l.mask&&l.mask.postRenderCanvas(t)}};v.exports=T},25179:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(93595),a=t(44603),r=t(23568);a.register("layer",function(n,e){n===void 0&&(n={});var s=r(n,"children",null),o=new p(this.scene,s);return e!==void 0&&(n.add=e),l(this.scene,o,n),o})},20005:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93595),p=t(39429);p.register("layer",function(a){return this.displayList.add(new l(this.scene,a))})},33963:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(15869),a=t(2956),v.exports={renderWebGL:p,renderCanvas:a}},15869:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=l.list,r=a.length;if(r!==0){l.depthSort(),t.pipelines.preBatch(l);var n=l.blendMode!==-1;n||t.setBlendMode(0);for(var e=l.alpha,s=0;s<r;s++){var o=a[s];if(o.willRender(p)){var i,h,u,d;if(o.alphaTopLeft!==void 0)i=o.alphaTopLeft,h=o.alphaTopRight,u=o.alphaBottomLeft,d=o.alphaBottomRight;else{var f=o.alpha;i=f,h=f,u=f,d=f}!n&&o.blendMode!==t.currentBlendMode&&t.setBlendMode(o.blendMode);var c=o.mask;c&&c.preRenderWebGL(t,o,p);var g=o.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=s<r-1?a[s+1].type===t.currentType:!1,o.setAlpha(i*e,h*e,u*e,d*e),o.renderWebGL(t,o,p),o.setAlpha(i,h,u,d),c&&c.postRenderWebGL(t,p),t.newType=!1}}t.pipelines.postBatch(l)}};v.exports=T},41432:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),p=t(83419),a=t(31401),r=t(51767),n=t(70554),e=new p({Extends:l,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(o,i,h,u,d,f,c){l.call(this,o,i,h),this.color=new r(u,d,f),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var o=n.getFloatsFromUintRGB(s);return this.color.set(o[0],o[1],o[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,v.exports=e},61356:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81491),p=t(83419),a=t(20339),r=t(41432),n=t(80321),e=t(51767),s=t(19133),o=t(19186),i=t(70554),h=new p({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,d,f,c,g,m){return this.systems.displayList.add(new n(this.scene,u,d,f,c,g,m))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var d=this.lights,f=u.worldView,c=[],g=0;g<d.length;g++){var m=d[g];m.willRender(u)&&l(m,f)&&c.push({light:m,distance:a(m.x,m.y,f.centerX,f.centerY)})}return c.length>this.maxLights&&(o(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(u,d){return u.distance>=d.distance},setAmbientColor:function(u){var d=i.getFloatsFromUintRGB(u);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,d,f,c,g){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),c===void 0&&(c=16777215),g===void 0&&(g=1);var m=i.getFloatsFromUintRGB(c),y=new r(u,d,f,m[0],m[1],m[2],g);return this.lights.push(y),y},removeLight:function(u){var d=this.lights.indexOf(u);return d>=0&&s(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});v.exports=h},88992:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(61356),a=t(37277),r=t(44594),n=new l({Extends:p,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),p.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",n,"lights"),v.exports=n},4703:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(39506),r=t(83997),n=t(95643),e=t(34684),s=t(92515),o=t(91296),i=t(37867),h=t(29807),u=t(43396),d=t(19186),f=t(25836),c=t(39318),g=new l({Extends:n,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,h],initialize:function(y,x,S,C,A,F,M,w,R,O,U,X){x===void 0&&(x=0),S===void 0&&(S=0),C===void 0&&(C="__WHITE"),n.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new f,this.modelScale=new f(1,1,1),this.modelRotation=new f,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new f,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=y.sys.renderer;this.setPosition(x,S),this.setTexture(C,A),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),F&&this.addVertices(F,M,w,R,O,U,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(m){return this.viewPosition.addScale(f.LEFT,m),this.dirtyCache[10]=1,this},panY:function(m){return this.viewPosition.y+=f.DOWN.y*m,this.dirtyCache[10]=1,this},panZ:function(m){return this.viewPosition.z+=m,this.dirtyCache[10]=1,this},setPerspective:function(m,y,x,S,C){return x===void 0&&(x=45),S===void 0&&(S=.01),C===void 0&&(C=1e3),this.fov=x,this.projectionMatrix.perspective(a(x),m/y,S,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(m,y,x,S){return m===void 0&&(m=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),x===void 0&&(x=-1e3),S===void 0&&(S=1e3),this.fov=0,this.projectionMatrix.ortho(-m,m,-y,y,x,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(m){m.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(m,y,x,S,C,A,F,M,w){var R=this.scene.sys.cache.obj.get(m),O;return R&&(O=e(R,this,y,x,S,C,A,F,M,w)),(!O||O.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",m),this},sortByDepth:function(m,y){return m.depth-y.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(m,y,x,S,C,A,F){var M=new c(m,y,x,S,C,A,F);return this.vertices.push(M),M},addFace:function(m,y,x){var S=new r(m,y,x);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(m,y,x,S,C,A,F){var M=s(m,y,x,S,C,A,F);return M?(this.faces=this.faces.concat(M.faces),this.vertices=this.vertices.concat(M.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(m){return this.faces[m]},hasFaceAt:function(m,y,x){x===void 0&&(x=this.scene.sys.cameras.main);for(var S=o(this,x).calc,C=this.faces,A=0;A<C.length;A++){var F=C[A];if(F.contains(m,y,S))return!0}return!1},getFaceAt:function(m,y,x){x===void 0&&(x=this.scene.sys.cameras.main);for(var S=o(this,x).calc,C=this.faces,A=[],F=0;F<C.length;F++){var M=C[F];M.contains(m,y,S)&&A.push(M)}return d(A,this.sortByDepth)},setDebug:function(m,y){return this.debugGraphic=m,!m&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var m=this.modelPosition,y=this.modelRotation,x=this.modelScale,S=this.dirtyCache,C=m.x,A=m.y,F=m.z,M=y.x,w=y.y,R=y.z,O=x.x,U=x.y,X=x.z,W=this.getFaceCount(),Y=S[0],N=S[1],V=S[2],I=S[3],B=S[4],G=S[5],H=S[6],$=S[7],Z=S[8],Q=S[9];return S[0]=C,S[1]=A,S[2]=F,S[3]=M,S[4]=w,S[5]=R,S[6]=O,S[7]=U,S[8]=X,S[9]=W,Y!==C||N!==A||V!==F||I!==M||B!==w||G!==R||H!==O||$!==U||Z!==X||Q!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var m=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!m[10]&&!this.isDirty())){var y=this.width,x=this.height,S=this.viewMatrix,C=this.viewPosition;m[10]&&(S.identity(),S.translate(C),S.invert(),m[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=C.z,M=this.faces,w=0;w<M.length;w++)M[w].transformCoordinatesLocal(A,y,x,F);this.depthSort()}},renderDebug:function(m,y){for(var x=m.debugGraphic,S=0;S<y.length;S++){var C=y[S],A=C.vertex1.tx,F=C.vertex1.ty,M=C.vertex2.tx,w=C.vertex2.ty,R=C.vertex3.tx,O=C.vertex3.ty;x.strokeTriangle(A,F,M,w,R,O)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(m){m===void 0&&(m={});var y=(function(x,S,C){for(var A=this.faces,F=0;F<A.length;F++){var M=A[F];if(M.contains(S,C))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,m,y),this},setTint:function(m){m===void 0&&(m=16777215);for(var y=this.vertices,x=0;x<y.length;x++)y[x].color=m;return this},uvScroll:function(m,y){for(var x=this.faces,S=0;S<x.length;S++)x[S].scrollUV(m,y);return this},uvScale:function(m,y){for(var x=this.faces,S=0;S<x.length;S++)x[S].scaleUV(m,y);return this},tint:{set:function(m){this.setTint(m)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(m){this.modelRotation.x=a(m)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(m){this.modelRotation.y=a(m)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(m){this.modelRotation.z=a(m)}}});v.exports=g},36488:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};v.exports=T},20527:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(35154),n=t(4703);p.register("mesh",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),h=r(e,"vertices",[]),u=r(e,"uvs",[]),d=r(e,"indicies",[]),f=r(e,"containsZ",!1),c=r(e,"normals",[]),g=r(e,"colors",16777215),m=r(e,"alphas",1),y=new n(this.scene,0,0,o,i,h,u,d,f,c,g,m);return s!==void 0&&(e.add=s),l(this.scene,y,e),y})},9225:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4703),p=t(39429);p.register("mesh",function(a,r,n,e,s,o,i,h,u,d,f){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h,u,d,f))})},29807:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(48833),a=t(36488),v.exports={renderWebGL:p,renderCanvas:a}},48833:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=function(a,r,n,e){var s=r.faces,o=s.length;if(o!==0){n.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),h=l(r,n,e).calc;a.pipelines.preBatch(r);for(var u=i.setGameObject(r),d=i.vertexViewF32,f=i.vertexViewU32,c=i.vertexCount*i.currentShader.vertexComponentCount-1,g=r.tintFill,m=[],y=r.debugCallback,x=h.a,S=h.b,C=h.c,A=h.d,F=h.e,M=h.f,w=r.viewPosition.z,R=r.hideCCW,O=n.roundPixels,U=n.alpha*r.alpha,X=0,W=0;W<o;W++){var Y=s[W];Y.isInView(n,R,w,U,x,S,C,A,F,M,O)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(r),c=i.vertexCount*i.currentShader.vertexComponentCount-1),c=Y.load(d,f,c,u,g),X++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,y&&m.push(Y))}r.totalFrame+=X,y&&y.call(r,r,m),a.pipelines.postBatch(r)}};v.exports=p},28103:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(95643),r=t(78023),n=t(39318),e=new l({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,r],initialize:function(o,i,h,u,d,f,c,g,m,y,x){a.call(this,o,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var S=o.textures.getFrame(u,d);this.is3Slice=!y&&!x,S&&S.scale9&&(this.is3Slice=S.is3Slice);for(var C=this.is3Slice?18:54,A=0;A<C;A++)this.vertices.push(new n);this.setPosition(i,h),this.setTexture(u,d),this.setSlices(f,c,g,m,y,x,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,o,i,h,u,d,f){i===void 0&&(i=10),h===void 0&&(h=10),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=!1);var c=this.frame,g=!1;if(this.is3Slice&&f&&u!==0&&d!==0&&(g=!0),g)console.warn("Cannot change 9 slice to 3 slice");else{if(c&&c.scale9&&!f){var m=c.data.scale9Borders,y=m.x,x=m.y;i=y,h=c.width-m.w-y,u=x,d=c.height-m.h-x,s===void 0&&(s=c.width),o===void 0&&(o=c.height)}else s===void 0&&(s=256),o===void 0&&(o=256);this._width=s,this._height=o,this.leftWidth=i,this.rightWidth=h,this.topHeight=u,this.bottomHeight=d,this.is3Slice&&(o=c.height,this._height=o,this.topHeight=o,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,s/u,i/d),this.updateQuadUVs(6,s/u,0,1-o/u,i/d),this.updateQuadUVs(12,1-o/u,0,1,i/d),this.is3Slice||(this.updateQuadUVs(18,0,i/d,s/u,1-h/d),this.updateQuadUVs(24,s/u,i/d,1-o/u,1-h/d),this.updateQuadUVs(30,1-o/u,i/d,1,1-h/d),this.updateQuadUVs(36,0,1-h/d,s/u,1),this.updateQuadUVs(42,s/u,1-h/d,1-o/u,1),this.updateQuadUVs(48,1-o/u,1-h/d,1,1))},updateVertices:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+s/u,.5-i/d),this.updateQuad(6,-.5+s/u,.5,.5-o/u,.5-i/d),this.updateQuad(12,.5-o/u,.5,.5,.5-i/d),this.is3Slice||(this.updateQuad(18,-.5,.5-i/d,-.5+s/u,-.5+h/d),this.updateQuad(24,-.5+s/u,.5-i/d,.5-o/u,-.5+h/d),this.updateQuad(30,.5-o/u,.5-i/d,.5,-.5+h/d),this.updateQuad(36,-.5,-.5+h/d,-.5+s/u,-.5),this.updateQuad(42,-.5+s/u,-.5+h/d,.5-o/u,-.5),this.updateQuad(48,.5-o/u,-.5+h/d,.5,-.5))},updateQuad:function(s,o,i,h,u){var d=this.width,f=this.height,c=this.originX,g=this.originY,m=this.vertices;m[s+0].resize(o,i,d,f,c,g),m[s+1].resize(o,u,d,f,c,g),m[s+2].resize(h,i,d,f,c,g),m[s+3].resize(o,u,d,f,c,g),m[s+4].resize(h,u,d,f,c,g),m[s+5].resize(h,i,d,f,c,g)},updateQuadUVs:function(s,o,i,h,u){var d=this.vertices,f=this.frame,c=f.u0,g=f.v0,m=f.u1,y=f.v1;if(c!==0||m!==1){var x=m-c;o=c+o*x,h=c+h*x}if(g!==0||y!==1){var S=y-g;i=g+i*S,u=g+u*S}d[s+0].setUVs(o,i),d[s+1].setUVs(o,u),d[s+2].setUVs(h,i),d[s+3].setUVs(o,u),d[s+4].setUVs(h,u),d[s+5].setUVs(h,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,o){this.width=s,this.height=o,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this._originX=s,this._originY=o,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});v.exports=e},28279:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(35154),n=t(28103);p.register("nineslice",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),h=r(e,"width",256),u=r(e,"height",256),d=r(e,"leftWidth",10),f=r(e,"rightWidth",10),c=r(e,"topHeight",0),g=r(e,"bottomHeight",0),m=new n(this.scene,0,0,o,i,h,u,d,f,c,g);return s!==void 0&&(e.add=s),l(this.scene,m,e),m})},47521:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28103),p=t(39429);p.register("nineslice",function(a,r,n,e,s,o,i,h,u,d){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h,u,d))})},78023:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(52230),v.exports={renderWebGL:p,renderCanvas:a}},52230:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(70554),a=function(r,n,e,s){var o=n.vertices,i=o.length;if(i!==0){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline,n),u=l(n,e,s,!1).calc;r.pipelines.preBatch(n);var d=h.setGameObject(n),f=h.vertexViewF32,c=h.vertexViewU32,g=h.vertexCount*h.currentShader.vertexComponentCount-1,m=e.roundPixels,y=n.tintFill,x=e.alpha*n.alpha,S=p.getTintAppendFloatAlpha(n.tint,x),C=h.vertexAvailable(),A=-1;C<i&&(A=C);for(var F=0;F<i;F++){var M=o[F];F===A&&(h.flush(),d=h.setGameObject(n),g=0),f[++g]=u.getXRound(M.vx,M.vy,m),f[++g]=u.getYRound(M.vx,M.vy,m),f[++g]=M.u,f[++g]=M.v,f[++g]=d,f[++g]=y,c[++g]=S,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}r.pipelines.postBatch(n)}};v.exports=a},76472:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(44777),a=t(37589),r=t(6113),n=t(91389),e=t(90664),s=new l({Extends:p,initialize:function(i){p.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var o=this.propertyValue,i=o,h=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=o[0],this.ease=r("Linear"),this.interpolation=n("linear"),h=this.easedValueEmit,u=this.easeValueUpdate,i=o[0],this.active=!0;for(var d=0;d<o.length;d++){var f=e(o[d]);this.r.push(f.r),this.g.push(f.g),this.b.push(f.b)}}return this.onEmit=h,this.onUpdate=u,this.current=i,this},setEase:function(o){this.easeName=o,this.ease=r(o)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(o,i,h){var u=this.ease(h),d=this.interpolation(this.r,u),f=this.interpolation(this.g,u),c=this.interpolation(this.b,u),g=a(d,f,c);return this.current=g,g}});v.exports=s},44777:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),p=t(45319),a=t(83419),r=t(99472),n=t(6113),e=t(95540),s=t(91389),o=t(77720),i=t(15994),h=new a({initialize:function(d,f,c){c===void 0&&(c=!1),this.propertyKey=d,this.propertyValue=f,this.defaultValue=f,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,d){u===void 0&&(u={}),d&&(this.propertyKey=d),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var d;switch(this.method){case 1:case 3:case 8:d=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(d=u);break;case 4:var f=(this.end-this.start)/this.steps;d=o(u,f),this.counter=d;break;case 5:case 6:case 7:d=p(u,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var d=typeof u;if(d==="number")return 1;if(Array.isArray(u))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,d=u,f=this.defaultEmit,c=this.defaultUpdate;switch(this.method){case 1:f=this.staticValueEmit;break;case 2:f=this.randomStaticValueEmit,d=u[0];break;case 3:this._onEmit=u,f=this.proxyEmit,d=this.defaultValue;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,f=this.steppedEmit,d=this.start;break;case 5:this.start=u.start,this.end=u.end;var g=this.has(u,"ease")?u.ease:"Linear";this.ease=n(g,u.easeParams),f=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,c=this.easeValueUpdate,d=this.start;break;case 6:this.start=u.min,this.end=u.max,f=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var m=u.random;Array.isArray(m)&&(this.start=m[0],this.end=m[1]),f=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,f=this.proxyEmit,c=this.proxyUpdate,d=this.defaultValue;break;case 9:this.start=u.values;var y=this.has(u,"ease")?u.ease:"Linear";this.ease=n(y,u.easeParams),this.interpolation=s(u.interpolation),f=this.easedValueEmit,c=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=f,this.onUpdate=c,this.current=d,this},has:function(u,d){return u.hasOwnProperty(d)},hasBoth:function(u,d,f){return u.hasOwnProperty(d)&&u.hasOwnProperty(f)},hasEither:function(u,d,f){return u.hasOwnProperty(d)||u.hasOwnProperty(f)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(u,d,f,c){return c},proxyEmit:function(u,d,f){var c=this._onEmit(u,d,f);return this.current=c,c},proxyUpdate:function(u,d,f,c){var g=this._onUpdate(u,d,f,c);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,d){var f=r(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},randomRangedIntEmit:function(u,d){var f=l(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},steppedEmit:function(){var u=this.counter,d=u,f=(this.end-this.start)/this.steps;if(this.yoyo){var c;this.direction===0?(d+=f,d>=this.end&&(c=d-this.end,d=this.end-c,this.direction=1)):(d-=f,d<=this.start&&(c=this.start-d,d=this.start+c,this.direction=0)),this.counter=d}else this.counter=i(d+f,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,d){if(u&&u.data[d]){var f=u.data[d];f.min=this.start,f.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,d,f){var c=u.data[d],g,m=this.ease(f);return this.interpolation?g=this.interpolation(this.start,m):g=(c.max-c.min)*m+c.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});v.exports=h},24502:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(20286),r=new l({Extends:a,initialize:function(e,s,o,i,h){if(typeof e=="object"){var u=e;e=p(u,"x",0),s=p(u,"y",0),o=p(u,"power",0),i=p(u,"epsilon",100),h=p(u,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=100),h===void 0&&(h=50);a.call(this,e,s,!0),this._gravity=h,this._power=o*h,this._epsilon=i*i},update:function(n,e){var s=this.x-n.x,o=this.y-n.y,i=s*s+o*o;if(i!==0){var h=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*h)*100;n.velocityX+=s*u,n.velocityY+=o*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});v.exports=r},56480:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),p=t(45319),a=t(83419),r=t(39506),n=t(87841),e=t(11520),s=t(26099),o=new a({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new l(this)),this.bounds=new n},emit:function(i,h,u,d,f,c){return this.emitter.emit(i,h,u,d,f,c)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.x=i,this.y=h},fire:function(i,h){var u=this.emitter,d=u.ops,f=u.getAnim();if(f?this.anims.play(f):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=i+d.x.onEmit(this,"x"):this.x+=i,h===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=h+d.y.onEmit(this,"y"):this.y+=h,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var c=d.speedX.onEmit(this,"speedX"),g=d.speedY.active?d.speedY.onEmit(this,"speedY"):c;if(u.radial){var m=r(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(m)*Math.abs(c),this.velocityY=Math.sin(m)*Math.abs(g)}else if(u.moveTo){var y=d.moveToX.onEmit(this,"moveToX"),x=d.moveToY.onEmit(this,"moveToY"),S=this.life/1e3;this.velocityX=(y-this.x)/S,this.velocityY=(x-this.y)/S}else this.velocityX=c,this.velocityY=g;return u.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(i,h,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var d=this.emitter,f=d.ops,c=1-this.lifeCurrent/this.life;if(this.lifeT=c,this.x=f.x.onUpdate(this,"x",c,this.x),this.y=f.y.onUpdate(this,"y",c,this.y),d.moveTo){var g=f.moveToX.onUpdate(this,"moveToX",c,d.moveToX),m=f.moveToY.onUpdate(this,"moveToY",c,d.moveToY),y=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/y,this.velocityY=(m-this.y)/y}return this.computeVelocity(d,i,h,u,c),this.scaleX=f.scaleX.onUpdate(this,"scaleX",c,this.scaleX),f.scaleY.active?this.scaleY=f.scaleY.onUpdate(this,"scaleY",c,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",c,this.angle),this.rotation=r(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(f.alpha.onUpdate(this,"alpha",c,this.alpha),0,1),f.color.active?this.tint=f.color.onUpdate(this,"color",c,this.tint):this.tint=f.tint.onUpdate(this,"tint",c,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,h,u,d,f){var c=i.ops,g=this.velocityX,m=this.velocityY,y=c.accelerationX.onUpdate(this,"accelerationX",f,this.accelerationX),x=c.accelerationY.onUpdate(this,"accelerationY",f,this.accelerationY),S=c.maxVelocityX.onUpdate(this,"maxVelocityX",f,this.maxVelocityX),C=c.maxVelocityY.onUpdate(this,"maxVelocityY",f,this.maxVelocityY);this.bounce=c.bounce.onUpdate(this,"bounce",f,this.bounce),g+=i.gravityX*u+y*u,m+=i.gravityY*u+x*u,g=p(g,-S,S),m=p(m,-C,C),this.velocityX=g,this.velocityY=m,this.x+=g*u,this.y+=m*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var A=0;A<d.length;A++){var F=d[A];F.active&&F.update(this,h,u,f)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var h=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,d=this.x,f=this.y,c=this.rotation,g=this.frame.width*h/2,m=this.frame.height*u/2,y=this.bounds,x=new s(d-g,f-m),S=new s(d+g,f-m),C=new s(d-g,f+m),A=new s(d+g,f+m);return c!==0&&(e(x,d,f,c),e(S,d,f,c),e(C,d,f,c),e(A,d,f,c)),i.transformPoint(x.x,x.y,x),i.transformPoint(S.x,S.y,S),i.transformPoint(C.x,C.y,C),i.transformPoint(A.x,A.y,A),y.x=Math.min(x.x,S.x,C.x,A.x),y.y=Math.min(x.y,S.y,C.y,A.y),y.width=Math.max(x.x,S.x,C.x,A.x)-y.x,y.height=Math.max(x.y,S.y,C.y,A.y)-y.y,y},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});v.exports=o},69601:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(20286),a=t(87841),r=new l({Extends:p,initialize:function(e,s,o,i,h,u,d,f){h===void 0&&(h=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),p.call(this,e,s,!0),this.bounds=new a(e,s,o,i),this.collideLeft=h,this.collideRight=u,this.collideTop=d,this.collideBottom=f},update:function(n){var e=this.bounds,s=-n.bounce,o=n.worldPosition;o.x<e.x&&this.collideLeft?(n.x+=e.x-o.x,n.velocityX*=s):o.x>e.right&&this.collideRight&&(n.x-=o.x-e.right,n.velocityX*=s),o.y<e.y&&this.collideTop?(n.y+=e.y-o.y,n.velocityY*=s):o.y>e.bottom&&this.collideBottom&&(n.y-=o.y-e.bottom,n.velocityY*=s)}});v.exports=r},31600:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(53774),r=t(43459),n=t(26388),e=t(19909),s=t(76472),o=t(44777),i=t(20696),h=t(95643),u=t(95540),d=t(26546),f=t(24502),c=t(1985),g=t(97022),m=t(86091),y=t(73162),x=t(20074),S=t(269),C=t(56480),A=t(69601),F=t(68875),M=t(87841),w=t(59996),R=t(72905),O=t(90668),U=t(19186),X=t(61340),W=t(26099),Y=t(15994),N=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],I=new l({Extends:h,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,O],initialize:function(G,H,$,Z,Q){h.call(this,G,"ParticleEmitter"),this.particleClass=C,this.config=null,this.ops={accelerationX:new o("accelerationX",0),accelerationY:new o("accelerationY",0),alpha:new o("alpha",1),angle:new o("angle",{min:0,max:360},!0),bounce:new o("bounce",0),color:new s("color"),delay:new o("delay",0,!0),hold:new o("hold",0,!0),lifespan:new o("lifespan",1e3,!0),maxVelocityX:new o("maxVelocityX",1e4),maxVelocityY:new o("maxVelocityY",1e4),moveToX:new o("moveToX",0),moveToY:new o("moveToY",0),quantity:new o("quantity",1,!0),rotate:new o("rotate",0),scaleX:new o("scaleX",1),scaleY:new o("scaleY",1),speedX:new o("speedX",0,!0),speedY:new o("speedY",0,!0),tint:new o("tint",16777215),x:new o("x",0),y:new o("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new W,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new X,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new y(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(H,$),this.setTexture(Z),Q&&this.setConfig(Q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(B){if(!B)return this;this.config=B;var G=0,H="",$=this.ops;for(G=0;G<V.length;G++)H=V[G],$[H].loadConfig(B);for(G=0;G<N.length;G++)H=N[G],g(B,H)&&(this[H]=u(B,H));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,g(B,"speed")&&($.speedX.loadConfig(B,"speed"),$.speedY.active=!1),(c(B,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),g(B,"scale")&&($.scaleX.loadConfig(B,"scale"),$.scaleY.active=!1),g(B,"callbackScope")){var Z=u(B,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(g(B,"emitZone")&&this.addEmitZone(B.emitZone),g(B,"deathZone")&&this.addDeathZone(B.deathZone),g(B,"bounds")){var Q=this.addParticleBounds(B.bounds);Q.collideLeft=u(B,"collideLeft",!0),Q.collideRight=u(B,"collideRight",!0),Q.collideTop=u(B,"collideTop",!0),Q.collideBottom=u(B,"collideBottom",!0)}return g(B,"followOffset")&&this.followOffset.setFromObject(u(B,"followOffset",0)),g(B,"texture")&&this.setTexture(B.texture),g(B,"frame")?this.setEmitterFrame(B.frame):g(B,"anim")&&this.setAnim(B.anim),g(B,"reserve")&&this.reserve(B.reserve),g(B,"advance")&&this.fastForward(B.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(B){return B&&(this.config?this.setConfig(S(this.config,B)):this.setConfig(B)),this},toJSON:function(){var B=a(this),G=0,H="";for(G=0;G<N.length;G++)H=N[G],B[H]=this[H];var $=this.ops;for(G=0;G<V.length;G++)H=V[G],$[H]&&(B[H]=$[H].toJSON());return $.speedY.active||(delete B.speedX,B.speed=$.speedX.toJSON()),this.scaleX===this.scaleY&&(delete B.scaleX,delete B.scaleY,B.scale=$.scaleX.toJSON()),B},resetCounters:function(B,G){var H=this.counters;H.fill(0),H[0]=B,G&&(H[5]=1)},startFollow:function(B,G,H,$){return G===void 0&&(G=0),H===void 0&&(H=0),$===void 0&&($=!1),this.follow=B,this.followOffset.set(G,H),this.trackVisible=$,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var B=this.frames,G=B.length,H;return G===1?H=B[0]:this.randomFrame?H=d(B):(H=B[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(H)},setEmitterFrame:function(B,G,H){G===void 0&&(G=!0),H===void 0&&(H=1),this.randomFrame=G,this.frameQuantity=H,this.currentFrame=0;var $=typeof B;if(this.frames.length=0,Array.isArray(B))this.frames=this.frames.concat(B);else if($==="string"||$==="number")this.frames.push(B);else if($==="object"){var Z=B;B=u(Z,"frames",null),B&&(this.frames=this.frames.concat(B));var Q=u(Z,"cycle",!1);this.randomFrame=!Q,this.frameQuantity=u(Z,"quantity",H)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var B=this.anims,G=B.length;if(G===0)return null;if(G===1)return B[0];if(this.randomAnim)return d(B);var H=B[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,G)),H},setAnim:function(B,G,H){G===void 0&&(G=!0),H===void 0&&(H=1),this.randomAnim=G,this.animQuantity=H,this.currentAnim=0;var $=typeof B;if(this.anims.length=0,Array.isArray(B))this.anims=this.anims.concat(B);else if($==="string")this.anims.push(B);else if($==="object"){var Z=B;B=u(Z,"anims",null),B&&(this.anims=this.anims.concat(B));var Q=u(Z,"cycle",!1);this.randomAnim=!Q,this.animQuantity=u(Z,"quantity",H)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(B){return B===void 0&&(B=!0),this.radial=B,this},addParticleBounds:function(B,G,H,$,Z,Q,j,_){if(typeof B=="object"){var tt=B;B=tt.x,G=tt.y,H=g(tt,"w")?tt.w:tt.width,$=g(tt,"h")?tt.h:tt.height}return this.addParticleProcessor(new A(B,G,H,$,Z,Q,j,_))},setParticleSpeed:function(B,G){return G===void 0&&(G=B),this.ops.speedX.onChange(B),B===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(B,G){return B===void 0&&(B=1),G===void 0&&(G=B),this.ops.scaleX.onChange(B),this.ops.scaleY.onChange(G),this},setParticleGravity:function(B,G){return this.gravityX=B,this.gravityY=G,this},setParticleAlpha:function(B){return this.ops.alpha.onChange(B),this},setParticleTint:function(B){return this.ops.tint.onChange(B),this},setEmitterAngle:function(B){return this.ops.angle.onChange(B),this},setParticleLifespan:function(B){return this.ops.lifespan.onChange(B),this},setQuantity:function(B){return this.quantity=B,this},setFrequency:function(B,G){return this.frequency=B,this.flowCounter=B>0?B:0,G&&(this.quantity=G),this},addDeathZone:function(B){Array.isArray(B)||(B=[B]);for(var G,H=[],$=0;$<B.length;$++)if(G=B[$],G instanceof n)H.push(G);else if(typeof G.contains=="function")G=new n(G,!0),H.push(G);else{var Z=u(G,"type","onEnter"),Q=u(G,"source",null);if(Q&&typeof Q.contains=="function"){var j=Z==="onEnter";G=new n(Q,j),H.push(G)}}return this.deathZones=this.deathZones.concat(H),H},removeDeathZone:function(B){return R(this.deathZones,B),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(B){Array.isArray(B)||(B=[B]);for(var G,H=[],$=0;$<B.length;$++)if(G=B[$],G instanceof F||G instanceof e)H.push(G);else{var Z=u(G,"source",null);if(Z){var Q=u(G,"type","random");if(Q==="random"&&typeof Z.getRandomPoint=="function")G=new F(Z),H.push(G);else if(Q==="edge"&&typeof Z.getPoints=="function"){var j=u(G,"quantity",1),_=u(G,"stepRate",0),tt=u(G,"yoyo",!1),et=u(G,"seamless",!0),rt=u(G,"total",-1);G=new e(Z,j,_,tt,et,rt),H.push(G)}}}return this.emitZones=this.emitZones.concat(H),H},removeEmitZone:function(B){return R(this.emitZones,B),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(B){var G=this.emitZones,H=G.length;if(H!==0){var $=G[this.zoneIndex];$.getPoint(B),$.total>-1&&(this.zoneTotal++,this.zoneTotal===$.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===H&&(this.zoneIndex=0)))}},getDeathZone:function(B){for(var G=this.deathZones,H=0;H<G.length;H++){var $=G[H];if($.willKill(B))return this.emit(i.DEATH_ZONE,this,B,$),!0}return!1},setEmitZone:function(B){var G;return isFinite(B)?G=B:G=this.emitZones.indexOf(B),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(B){return this.processors.exists(B)||(B.emitter&&B.emitter.removeParticleProcessor(B),this.processors.add(B),B.emitter=this),B},removeParticleProcessor:function(B){return this.processors.exists(B)&&(this.processors.remove(B,!0),B.emitter=null),B},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(B){return this.addParticleProcessor(new f(B))},reserve:function(B){var G=this.dead;if(this.maxParticles>0){var H=this.getParticleCount();H+B>this.maxParticles&&(B=this.maxParticles-(H+B))}for(var $=0;$<B;$++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(B,G){return B===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof B=="function"&&(this.emitCallback=B,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(B,G){return B===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof B=="function"&&(this.deathCallback=B,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var B=this.dead,G=this.alive;G.length>0;)B.push(G.pop());return this},forEachAlive:function(B,G){for(var H=this.alive,$=H.length,Z=0;Z<$;Z++)B.call(G,H[Z],this);return this},forEachDead:function(B,G){for(var H=this.dead,$=H.length,Z=0;Z<$;Z++)B.call(G,H[Z],this);return this},start:function(B,G){return B===void 0&&(B=0),this.emitting||(B>0&&this.fastForward(B),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(i.START,this)),this},stop:function(B){return B===void 0&&(B=!1),this.emitting&&(this.emitting=!1,B&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(B,G){return B===void 0&&(B=""),G===void 0&&(G=this.true),this.sortProperty=B,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(B){return this.sortProperty!==""?B=this.depthSortCallback:B=null,this.sortCallback=B,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(B,G){var H=this.sortProperty;return this.sortOrderAsc?B[H]-G[H]:G[H]-B[H]},flow:function(B,G,H){return G===void 0&&(G=1),this.emitting=!1,this.frequency=B,this.quantity=G,H!==void 0&&(this.stopAfter=H),this.start()},explode:function(B,G,H){this.frequency=-1,this.resetCounters(-1,!0);var $=this.emitParticle(B,G,H);return this.emit(i.EXPLODE,this,$),$},emitParticleAt:function(B,G,H){return this.emitParticle(H,B,G)},emitParticle:function(B,G,H){if(!this.atLimit()){B===void 0&&(B=this.ops.quantity.onEmit());for(var $=this.dead,Z=this.stopAfter,Q=this.follow?this.follow.x+this.followOffset.x:G,j=this.follow?this.follow.y+this.followOffset.y:H,_=0;_<B;_++){var tt=$.pop();if(tt||(tt=new this.particleClass(this)),tt.fire(Q,j)?(this.particleBringToTop?this.alive.push(tt):this.alive.unshift(tt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,tt,this)):this.dead.push(tt),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return tt}},fastForward:function(B,G){G===void 0&&(G=1e3/60);var H=0;for(this.skipping=!0;H<Math.abs(B);)this.preUpdate(0,G),H+=G;return this.skipping=!1,this},preUpdate:function(B,G){G*=this.timeScale;var H=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var $=this.getProcessors(),Z=this.alive,Q=this.dead,j=0,_=[],tt=Z.length;for(j=0;j<tt;j++){var et=Z[j];et.update(G,H,$)&&_.push({index:j,particle:et})}if(tt=_.length,tt>0){var rt=this.deathCallback,at=this.deathCallbackScope;for(j=tt-1;j>=0;j--){var st=_[j];Z.splice(st.index,1),Q.push(st.particle),rt&&rt.call(at,st.particle),st.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(B){for(var G=this.getWorldTransformMatrix(),H=this.alive,$=H.length,Z=[],Q=0;Q<$;Q++){var j=H[Q];w(B,j.getBounds(G))&&Z.push(j)}return Z},getBounds:function(B,G,H,$){B===void 0&&(B=0),G===void 0&&(G=0),H===void 0&&(H=1e3/60),$===void 0&&($=new M);var Z=this.getWorldTransformMatrix(),Q,j,_=this.alive,tt=!1;if($.setTo(0,0,0,0),G>0){var et=0;for(this.skipping=!0;et<Math.abs(G);){for(this.preUpdate(0,H),Q=0;Q<_.length;Q++)j=_[Q].getBounds(Z),tt?x($,j):(tt=!0,r(j,$));et+=H}this.skipping=!1}else for(Q=0;Q<_.length;Q++)j=_[Q].getBounds(Z),tt?x($,j):(tt=!0,r(j,$));return B>0&&m($,B,B),$},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(B){this.ops.x.onChange(B)}},particleY:{get:function(){return this.ops.y.current},set:function(B){this.ops.y.onChange(B)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(B){this.ops.accelerationX.onChange(B)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(B){this.ops.accelerationY.onChange(B)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(B){this.ops.maxVelocityX.onChange(B)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(B){this.ops.maxVelocityY.onChange(B)}},speed:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B),this.ops.speedY.onChange(B)}},speedX:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B)}},speedY:{get:function(){return this.ops.speedY.current},set:function(B){this.ops.speedY.onChange(B)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(B){this.ops.moveToX.onChange(B)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(B){this.ops.moveToY.onChange(B)}},bounce:{get:function(){return this.ops.bounce.current},set:function(B){this.ops.bounce.onChange(B)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(B){this.ops.scaleX.onChange(B)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(B){this.ops.scaleY.onChange(B)}},particleColor:{get:function(){return this.ops.color.current},set:function(B){this.ops.color.onChange(B)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(B){this.ops.color.setEase(B)}},particleTint:{get:function(){return this.ops.tint.current},set:function(B){this.ops.tint.onChange(B)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(B){this.ops.alpha.onChange(B)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(B){this.ops.lifespan.onChange(B)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(B){this.ops.angle.onChange(B)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(B){this.ops.rotate.onChange(B)}},quantity:{get:function(){return this.ops.quantity.current},set:function(B){this.ops.quantity.onChange(B)}},delay:{get:function(){return this.ops.delay.current},set:function(B){this.ops.delay.onChange(B)}},hold:{get:function(){return this.ops.hold.current},set:function(B){this.ops.hold.onChange(B)}},flowCounter:{get:function(){return this.counters[0]},set:function(B){this.counters[0]=B}},frameCounter:{get:function(){return this.counters[1]},set:function(B){this.counters[1]=B}},animCounter:{get:function(){return this.counters[2]},set:function(B){this.counters[2]=B}},elapsed:{get:function(){return this.counters[3]},set:function(B){this.counters[3]=B}},stopCounter:{get:function(){return this.counters[4]},set:function(B){this.counters[4]=B}},completeFlag:{get:function(){return this.counters[5]},set:function(B){this.counters[5]=B}},zoneIndex:{get:function(){return this.counters[6]},set:function(B){this.counters[6]=B}},zoneTotal:{get:function(){return this.counters[7]},set:function(B){this.counters[7]=B}},currentFrame:{get:function(){return this.counters[8]},set:function(B){this.counters[8]=B}},currentAnim:{get:function(){return this.counters[9]},set:function(B){this.counters[9]=B}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var B,G=this.ops;for(B=0;B<V.length;B++){var H=V[B];G[H].destroy()}for(B=0;B<this.alive.length;B++)this.alive[B].destroy();for(B=0;B<this.dead.length;B++)this.dead[B].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});v.exports=I},9871:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59996),p=t(61340),a=new p,r=new p,n=new p,e=new p,s=function(o,i,h,u){var d=a,f=r,c=n,g=e;u?(g.loadIdentity(),g.multiply(u),g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.scaleX,i.scaleY)):g.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var m=o.currentContext,y=h.roundPixels,x=h.alpha,S=i.alpha,C=i.alive,A=C.length,F=i.viewBounds;if(!(!i.visible||A===0||F&&!l(F,h.worldView))){i.sortCallback&&i.depthSort(),h.addToRenderList(i);var M=i.scrollFactorX,w=i.scrollFactorY;m.save(),m.globalCompositeOperation=o.blendModes[i.blendMode];for(var R=0;R<A;R++){var O=C[R],U=O.alpha*S*x;if(!(U<=0||O.scaleX===0||O.scaleY===0)){c.applyITRS(O.x,O.y,O.rotation,O.scaleX,O.scaleY),d.copyFrom(h.matrix),d.multiplyWithOffset(g,-h.scrollX*M,-h.scrollY*w),c.e=O.x,c.f=O.y,d.multiply(c,f);var X=O.frame,W=X.canvasData;if(W.width>0&&W.height>0){var Y=-X.halfWidth,N=-X.halfHeight;m.globalAlpha=U,m.save(),f.setToContext(m),y&&(Y=Math.round(Y),N=Math.round(N)),m.imageSmoothingEnabled=!X.source.scaleMode,m.drawImage(X.source.image,W.x,W.y,W.width,W.height,Y,N,W.width,W.height),m.restore()}}}m.restore()}};v.exports=s},92730:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(95540),n=t(31600);p.register("particles",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=r(e,"config",null),h=new n(this.scene,0,0,o);return s!==void 0&&(e.add=s),l(this.scene,h,e),i&&h.setConfig(i),h})},676:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(31600);l.register("particles",function(a,r,n,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,a,r,n,e))})},90668:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(21188),a=t(9871),v.exports={renderWebGL:p,renderCanvas:a}},21188:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59996),p=t(61340),a=t(70554),r=new p,n=new p,e=new p,s=new p,o=function(i,h,u,d){var f=i.pipelines.set(h.pipeline),c=r,g=n,m=e,y=s;d?(y.loadIdentity(),y.multiply(d),y.translate(h.x,h.y),y.rotate(h.rotation),y.scale(h.scaleX,h.scaleY)):y.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var x=a.getTintAppendFloatAlpha,S=u.alpha,C=h.alpha;i.pipelines.preBatch(h);var A=h.alive,F=A.length,M=h.viewBounds;if(!(F===0||M&&!l(M,u.worldView))){h.sortCallback&&h.depthSort(),u.addToRenderList(h),c.copyFrom(u.matrix),c.multiplyWithOffset(y,-u.scrollX*h.scrollFactorX,-u.scrollY*h.scrollFactorY),i.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(i,h,u),i.pipelines.set(h.pipeline));for(var w=h.tintFill,R,O,U=0;U<F;U++){var X=A[U],W=X.alpha*C*S;if(!(W<=0||X.scaleX===0||X.scaleY===0)){m.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),m.e=X.x,m.f=X.y,c.multiply(m,g);var Y=X.frame;Y.glTexture!==O&&(O=Y.glTexture,R=f.setGameObject(h,Y));var N=-Y.halfWidth,V=-Y.halfHeight,I=g.setQuad(N,V,N+Y.width,V+Y.height),B=x(X.tint,W);f.shouldFlush(6)&&(f.flush(),R=f.setGameObject(h,Y)),f.batchQuad(h,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],Y.u0,Y.v0,Y.u1,Y.v1,B,B,B,B,w,O,R)}}h.mask&&h.mask.postRenderWebGL(i,u),i.pipelines.postBatch(h)}};v.exports=o},20286:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e){r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});v.exports=p},9774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},812:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="deathzone"},30522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="explode"},96695:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},18677:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},20696:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n){this.source=r,this.killOnEnter=n},willKill:function(a){var r=a.worldPosition,n=this.source.contains(r.x,r.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});v.exports=p},19909:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e,s,o,i){s===void 0&&(s=!1),o===void 0&&(o=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=o,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});v.exports=p},68875:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(26099),a=new l({initialize:function(n){this.source=n,this._tempVec=new p,this.total=-1},getPoint:function(r){var n=this._tempVec;this.source.getRandomPoint(n),r.x=n.x,r.y=n.y}});v.exports=a},21024:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(68287),r=new l({Extends:a,Mixins:[p.PathFollower],initialize:function(e,s,o,i,h,u){a.call(this,e,o,i,h,u),this.path=s},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});v.exports=r},90145:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(1159);l.register("follower",function(a,r,n,e,s){var o=new p(this.scene,a,r,n,e,s);return this.displayList.add(o),this.updateList.add(o),o})},33663:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),p=t(83419),a=t(48803),r=t(90664),n=t(4703),e=t(45650),s=new p({Extends:n,initialize:function(i,h,u,d,f,c,g,m){d||(d="__DEFAULT"),n.call(this,i,h,u,d,f),this.type="Plane",this.anims=new l(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(c,g,m),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(o,i,h){o===void 0&&(o=8),i===void 0&&(i=8),h===void 0&&(h=!1);var u=!1;return h&&(u=!0),this.gridWidth=o,this.gridHeight=i,this.isTiled=h,this.clear(),a({mesh:this,widthSegments:o,heightSegments:i,isOrtho:!1,tile:h,flipY:u}),this},setSizeToFrame:function(o){o===void 0&&(o=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!o)return this;var h=this.gridWidth,u=this.gridHeight,d=this.vertices,f=i.u0,c=i.u1,g=i.v0,m=i.v1,y,x,S=0;if(this.isTiled)for(g=i.v1,m=i.v0,x=0;x<u;x++)for(y=0;y<h;y++)d[S++].setUVs(f,m),d[S++].setUVs(f,g),d[S++].setUVs(c,m),d[S++].setUVs(f,g),d[S++].setUVs(c,g),d[S++].setUVs(c,m);else{var C=h+1,A=u+1,F=c-f,M=m-g,w=[];for(x=0;x<A;x++)for(y=0;y<C;y++){var R=f+F*(y/h),O=g+M*(x/u);w.push(R,O)}for(x=0;x<u;x++)for(y=0;y<h;y++){var U=(y+C*x)*2,X=(y+C*(x+1))*2,W=(y+1+C*(x+1))*2,Y=(y+1+C*x)*2;d[S++].setUVs(w[U],w[U+1]),d[S++].setUVs(w[X],w[X+1]),d[S++].setUVs(w[Y],w[Y+1]),d[S++].setUVs(w[X],w[X+1]),d[S++].setUVs(w[W],w[W+1]),d[S++].setUVs(w[Y],w[Y+1])}}return this},setViewHeight:function(o){o===void 0&&(o=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/o/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(o,i,h,u,d){o===void 0&&(o=16777215),i===void 0&&(i=255),h===void 0&&(h=255),u===void 0&&(u=255),d===void 0&&(d=128);for(var f=r(o),c=r(i),g=[],m=0;m<16;m++)for(var y=0;y<16;y++)m<8&&y<8||m>7&&y>7?g.push(f.r,f.g,f.b,h):g.push(c.r,c.g,c.b,u);var x=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(g),16,16);return this.removeCheckerboard(),this.setTexture(x),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(o,i){return this.anims.play(o,i)},playReverse:function(o,i){return this.anims.playReverse(o,i)},playAfterDelay:function(o,i){return this.anims.playAfterDelay(o,i)},playAfterRepeat:function(o,i){return this.anims.playAfterRepeat(o,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},preUpdate:function(o,i){n.prototype.preUpdate.call(this,o,i),this.anims.update(o,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});v.exports=s},56015:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(13059),a=t(44603),r=t(23568),n=t(35154),e=t(33663);a.register("plane",function(s,o){s===void 0&&(s={});var i=r(s,"key",null),h=r(s,"frame",null),u=n(s,"width",8),d=n(s,"height",8),f=n(s,"tile",!1),c=new e(this.scene,0,0,i,h,u,d,f);o!==void 0&&(s.add=o);var g=n(s,"checkerboard",null);if(g){var m=n(g,"color1",16777215),y=n(g,"color2",255),x=n(g,"alpha1",255),S=n(g,"alpha2",255),C=n(g,"height",128);c.createCheckerboard(m,y,x,S,C)}return l(this.scene,c,s),p(c,s),c})},30985:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33663),p=t(39429);p.register("plane",function(a,r,n,e,s,o,i){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i))})},80321:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(95643),r=t(30100),n=t(36060),e=t(67277),s=new l({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,e],initialize:function(i,h,u,d,f,c,g){d===void 0&&(d=16777215),f===void 0&&(f=128),c===void 0&&(c=1),g===void 0&&(g=.1),a.call(this,i,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,u),this.color=r(d),this.intensity=c,this.attenuation=g,this.width=f*2,this.height=f*2,this._radius=f},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this.width=o*2,this.height=o*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});v.exports=s},39829:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(80321);p.register("pointlight",function(n,e){n===void 0&&(n={});var s=a(n,"color",16777215),o=a(n,"radius",128),i=a(n,"intensity",1),h=a(n,"attenuation",.1),u=new r(this.scene,0,0,s,o,i,h);return e!==void 0&&(n.add=e),l(this.scene,u,n),u})},71255:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(80321);l.register("pointlight",function(a,r,n,e,s,o){return this.displayList.add(new p(this.scene,a,r,n,e,s,o))})},67277:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(57787),v.exports={renderWebGL:p,renderCanvas:a}},57787:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=function(a,r,n,e){n.addToRenderList(r);var s=a.pipelines.set(r.pipeline),o=l(r,n,e).calc,i=r.width,h=r.height,u=-r._radius,d=-r._radius,f=u+i,c=d+h,g=o.getX(0,0),m=o.getY(0,0),y=o.getX(u,d),x=o.getY(u,d),S=o.getX(u,c),C=o.getY(u,c),A=o.getX(f,c),F=o.getY(f,c),M=o.getX(f,d),w=o.getY(f,d);a.pipelines.preBatch(r),s.batchPointLight(r,n,y,x,S,C,A,F,M,w,g,m),a.pipelines.postBatch(r)};v.exports=p},591:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(81320),a=t(88571),r=new l({Extends:a,initialize:function(e,s,o,i,h,u){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=32),h===void 0&&(h=32),u===void 0&&(u=!0);var d=new p(e.sys.textures,"",i,h,u);a.call(this,e,s,o,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=n,s.hitArea.height=e),this},resize:function(n,e,s){return this.texture.setSize(n,e,s),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,s,o,i,h){return this.texture.fill(n,e,s,o,i,h),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,s,o,i){return this.texture.stamp(n,e,s,o,i),this},erase:function(n,e,s){return this.texture.erase(n,e,s),this},draw:function(n,e,s,o,i){return this.texture.draw(n,e,s,o,i),this},drawFrame:function(n,e,s,o,i,h){return this.texture.drawFrame(n,e,s,o,i,h),this},repeat:function(n,e,s,o,i,h,u,d,f){return this.texture.repeat(n,e,s,o,i,h,u,d,f),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,s,o,i){return this.texture.batchDraw(n,e,s,o,i),this},batchDrawFrame:function(n,e,s,o,i,h){return this.texture.batchDrawFrame(n,e,s,o,i,h),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,s,o,i,h,u){return this.texture.snapshotArea(n,e,s,o,i,h,u),this},snapshot:function(n,e,s){return this.snapshotArea(0,0,this.width,this.height,n,e,s)},snapshotPixel:function(n,e,s){return this.snapshotArea(n,e,1,1,s,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});v.exports=r},34495:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(591);p.register("renderTexture",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),o=a(n,"y",0),i=a(n,"width",32),h=a(n,"height",32),u=new r(this.scene,s,o,i,h);return e!==void 0&&(n.add=e),l(this.scene,u,n),u})},60505:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(591);l.register("renderTexture",function(a,r,n,e){return this.displayList.add(new p(this.scene,a,r,n,e))})},77757:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),p=t(83419),a=t(31401),r=t(95643),n=t(36060),e=t(38745),s=t(26099),o=new p({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(h,u,d,f,c,g,m,y,x){f===void 0&&(f="__DEFAULT"),g===void 0&&(g=2),m===void 0&&(m=!0),r.call(this,h,"Rope"),this.anims=new l(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=f==="__DEFAULT",this.dirty=!1,this.horizontal=m,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(f,c),this.setPosition(u,d),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,y,x),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){var u=this.anims.currentFrame;this.anims.update(i,h),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,h,u){return this.anims.play(i,h,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,h,u))},setVertical:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,h,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,h){var u=this.points.length;if(u<1)return this;var d=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&h===void 0&&(i=[i]);var f,c=0;if(h!==void 0)for(f=0;f<u;f++)c=f*2,d[c]=i,d[c+1]=h;else if(i.length===u)for(f=0;f<u;f++)c=f*2,d[c]=i[f],d[c+1]=i[f];else{var g=i[0];for(f=0;f<u;f++)c=f*2,i.length>c&&(g=i[c]),d[c]=g,i.length>c+1&&(g=i[c+1]),d[c+1]=g}return this},setColors:function(i){var h=this.points.length;if(h<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var d,f=0;if(i.length===h)for(d=0;d<h;d++)f=d*2,u[f]=i[d],u[f+1]=i[d];else{var c=i[0];for(d=0;d<h;d++)f=d*2,i.length>f&&(c=i[f]),u[f]=c,i.length>f+1&&(c=i[f+1]),u[f+1]=c}return this},setPoints:function(i,h,u){if(i===void 0&&(i=2),typeof i=="number"){var d=i;d<2&&(d=2),i=[];var f,c,g;if(this.horizontal)for(g=-this.frame.halfWidth,c=this.frame.width/(d-1),f=0;f<d;f++)i.push({x:g+f*c,y:0});else for(g=-this.frame.halfHeight,c=this.frame.height/(d-1),f=0;f<d;f++)i.push({x:0,y:g+f*c})}var m=i.length,y=this.points.length;return m<1?(console.warn("Rope: Not enough points given"),this):(m===1&&(i.unshift({x:0,y:0}),m++),y!==m&&this.resizeArrays(m),this.dirty=!0,this.points=i,this.updateUVs(),h!=null&&this.setColors(h),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,h=this.points.length,u=this.frame.u0,d=this.frame.v0,f=this.frame.u1,c=this.frame.v1,g=(f-u)/(h-1),m=(c-d)/(h-1),y=0;y<h;y++){var x=y*4,S,C,A,F;this.horizontal?(this._flipX?(S=f-y*g,A=f-y*g):(S=u+y*g,A=u+y*g),this._flipY?(C=c,F=d):(C=d,F=c)):(this._flipX?(S=u,A=f):(S=f,A=u),this._flipY?(C=c-y*m,F=c-y*m):(C=d+y*m,F=d+y*m)),i[x+0]=S,i[x+1]=C,i[x+2]=A,i[x+3]=F}return this},resizeArrays:function(i){var h=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),h=new Uint32Array(i*2),u=new Float32Array(i*2);for(var d=0;d<i*2;d++)h[d]=16777215,u[d]=1;return this.colors=h,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,h=this.points,u=this.vertices,d=h.length;if(this.dirty=!1,!(d<1)){for(var f,c=h[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,m=0;m<d;m++){var y=h[m],x=m*4;m<d-1?f=h[m+1]:f=y,i.x=f.y-c.y,i.y=-(f.x-c.x);var S=i.length();i.x/=S,i.y/=S,i.x*=g,i.y*=g,u[x]=y.x+i.x,u[x+1]=y.y+i.y,u[x+2]=y.x-i.x,u[x+3]=y.y-i.y,c=y}return this}},setDebug:function(i,h){return this.debugGraphic=i,!i&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,h,u){var d=i.debugGraphic,f=u[0],c=u[1],g=u[2],m=u[3];d.lineBetween(f,c,g,m);for(var y=4;y<h;y+=4){var x=u[y+0],S=u[y+1],C=u[y+2],A=u[y+3];d.lineBetween(f,c,x,S),d.lineBetween(g,m,C,A),d.lineBetween(g,m,x,S),d.lineBetween(x,S,C,A),f=x,c=S,g=C,m=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});v.exports=o},95262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};v.exports=T},26209:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(35154),n=t(77757);p.register("rope",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),h=a(e,"horizontal",!0),u=r(e,"points",void 0),d=r(e,"colors",void 0),f=r(e,"alphas",void 0),c=new n(this.scene,0,0,o,i,u,h,d,f);return s!==void 0&&(e.add=s),l(this.scene,c,e),c})},96819:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77757),p=t(39429);p.register("rope",function(a,r,n,e,s,o,i,h){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h))})},38745:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(20439),a=t(95262),v.exports={renderWebGL:p,renderCanvas:a}},20439:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline,n),i=l(n,e,s).calc,h=n.vertices,u=n.uv,d=n.colors,f=n.alphas,c=n.alpha,g=p.getTintAppendFloatAlpha,m=e.roundPixels,y=h.length,x=Math.floor(y*.5);o.flush(),r.pipelines.preBatch(n);var S=o.setGameObject(n),C=o.vertexViewF32,A=o.vertexViewU32,F=o.vertexCount*o.currentShader.vertexComponentCount-1,M=0,w=n.tintFill;n.dirty&&n.updateVertices();for(var R=n.debugCallback,O=[],U=0;U<y;U+=2){var X=h[U+0],W=h[U+1],Y=X*i.a+W*i.c+i.e,N=X*i.b+W*i.d+i.f;m&&(Y=Math.round(Y),N=Math.round(N)),C[++F]=Y,C[++F]=N,C[++F]=u[U+0],C[++F]=u[U+1],C[++F]=S,C[++F]=w,A[++F]=g(d[M],e.alpha*(f[M]*c)),M++,R&&(O[U+0]=Y,O[U+1]=N)}R&&R.call(n,n,y,O),o.vertexCount+=x,o.currentBatch.count=o.vertexCount-o.currentBatch.start,r.pipelines.postBatch(n)};v.exports=a},20071:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(95643),r=t(95540),n=t(79291),e=t(61622),s=t(25479),o=t(61340),i=t(95428),h=t(92503),u=new l({Extends:a,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,s],initialize:function(f,c,g,m,y,x,S,C){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=128),x===void 0&&(x=128),a.call(this,f,"Shader"),this.blendMode=-1,this.shader;var A=f.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,m),this.setSize(y,x),this.setOrigin(.5,.5),this.setShader(c,S,C),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,f){if(!this.renderToTexture){var c=this.width,g=this.height,m=this.renderer;this.glTexture=m.createTextureFromSource(null,c,g,0),this.framebuffer=m.createFramebuffer(c,g,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(m.pipelines.clear(),this.load(),this.flush(),m.pipelines.rebind()),this},setShader:function(d,f,c){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:f,textureData:c},this;if(f===void 0&&(f=[]),typeof d=="string"){var g=this.scene.sys.cache.shader;if(!g.has(d))return console.warn("Shader missing: "+d),this;this.shader=g.get(d)}else this.shader=d;var m=this.gl,y=this.renderer;this.program&&y.deleteProgram(this.program);var x=y.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);m.uniformMatrix4fv(m.getUniformLocation(x.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),m.uniformMatrix4fv(m.getUniformLocation(x.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(x.webGLProgram,"uResolution"),this.width,this.height),this.program=x;var S=new Date,C={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,C):this.uniforms=C;for(var A=0;A<4;A++)f[A]&&this.setSampler2D("iChannel"+A,f[A],A,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,f,c,g){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:f,bottom:c,top:g};return}var m=-1e3,y=1e3,x=1/(d-f),S=1/(c-g),C=1/(m-y),A=this.projectionMatrix;A[0]=-2*x,A[5]=-2*S,A[10]=2*C,A[12]=(d+f)*x,A[13]=(g+c)*S,A[14]=(y+m)*C;var F=this.program,M=this.gl,w=this.renderer;w.setProgram(F),M.uniformMatrix4fv(M.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=c},initUniforms:function(){var d=this.renderer.glFuncMap,f=this.program;this._textureCount=0;for(var c in this.uniforms){var g=this.uniforms[c],m=g.type,y=d[m];g.uniformLocation=this.renderer.createUniformLocation(f,c),m!=="sampler2D"&&(g.glMatrix=y.matrix,g.glValueLength=y.length,g.glFunc=y.func)}},setSampler2DBuffer:function(d,f,c,g,m,y){m===void 0&&(m=0),y===void 0&&(y={});var x=this.uniforms[d];return x.value=f,y.width=c,y.height=g,x.textureData=y,this._textureCount=m,this.initSampler2D(x),this},setSampler2D:function(d,f,c,g){c===void 0&&(c=0);var m=this.scene.sys.textures;if(m.exists(f)){var y=m.getFrame(f);if(y.glTexture&&y.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,y.glTexture,y.width,y.height,c,g);var x=this.uniforms[d],S=y.source;x.textureKey=f,x.source=S.image,x.value=y.glTexture,S.isGLTexture&&(g||(g={}),g.width=S.width,g.height=S.height),g&&(x.textureData=g),this._textureCount=c,this.initSampler2D(x)}return this},setUniform:function(d,f){return e(this.uniforms,d,f),this},getUniform:function(d){return r(this.uniforms,d,null)},setChannel0:function(d,f){return this.setSampler2D("iChannel0",d,0,f)},setChannel1:function(d,f){return this.setSampler2D("iChannel1",d,1,f)},setChannel2:function(d,f){return this.setSampler2D("iChannel2",d,2,f)},setChannel3:function(d,f){return this.setSampler2D("iChannel3",d,3,f)},initSampler2D:function(d){if(d.value){var f=d.textureData;if(f&&!d.value.isRenderTexture){var c=this.gl,g=d.value,m=c[r(f,"magFilter","linear").toUpperCase()],y=c[r(f,"minFilter","linear").toUpperCase()],x=c[r(f,"wrapS","repeat").toUpperCase()],S=c[r(f,"wrapT","repeat").toUpperCase()],C=c[r(f,"format","rgba").toUpperCase()],A=r(f,"flipY",!1),F=r(f,"width",g.width),M=r(f,"height",g.height),w=r(f,"source",g.pixels);f.repeat&&(x=c.REPEAT,S=c.REPEAT),f.width&&(w=null),g.update(w,F,M,A,x,S,y,m,C)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,f=this.uniforms,c,g,m,y,x,S=0;for(var C in f)c=f[C],m=c.glFunc,g=c.glValueLength,y=c.uniformLocation,x=c.value,x!==null&&(g===1?c.glMatrix?m.call(d,y.webGLUniformLocation,c.transpose,x):m.call(d,y.webGLUniformLocation,x):g===2?m.call(d,y.webGLUniformLocation,x.x,x.y):g===3?m.call(d,y.webGLUniformLocation,x.x,x.y,x.z):g===4?m.call(d,y.webGLUniformLocation,x.x,x.y,x.z,x.w):c.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+S),d.bindTexture(d.TEXTURE_2D,x.webGLTexture),d.uniform1i(y.webGLUniformLocation,S),S++))},load:function(d){var f=this.gl,c=this.width,g=this.height,m=this.renderer,y=this.program,x=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,C=-this._displayOriginY;x[0]=d[0],x[1]=d[1],x[4]=d[2],x[5]=d[3],x[8]=d[4],x[9]=d[5],x[12]=x[0]*S+x[4]*C,x[13]=x[1]*S+x[5]*C}f.useProgram(y.webGLProgram),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uViewMatrix"),!1,x),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),f.uniform2f(f.getUniformLocation(y.webGLProgram,"uResolution"),this.width,this.height);var A=this.uniforms,F=A.resolution;F.value.x=c,F.value.y=g,A.time.value=m.game.loop.getDuration();var M=this.pointer;if(M){var w=A.mouse,R=M.x/c,O=1-M.y/g;w.value.x=R.toFixed(2),w.value.y=O.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,f=this.height,c=this.program,g=this.gl,m=this.vertexBuffer,y=this.renderer,x=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(y.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,m.webGLBuffer);var S=g.getAttribLocation(c.webGLProgram,"inPosition");S!==-1&&(g.enableVertexAttribArray(S),g.vertexAttribPointer(S,2,g.FLOAT,!1,x,0));var C=this.vertexViewF32;C[3]=f,C[4]=d,C[5]=f,C[8]=d,C[9]=f,C[10]=d;var A=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,A*x)),g.drawArrays(g.TRIANGLES,0,A),this.renderToTexture&&y.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,f=this._deferSetShader.textures,c=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,f,c)}if(this._deferProjOrtho!==null){var g=this._deferProjOrtho.left,m=this._deferProjOrtho.right,y=this._deferProjOrtho.bottom,x=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(g,m,y,x)}},preDestroy:function(){var d=this.renderer;d.off(h.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(f){d.deleteUniformLocation(f.uniformLocation),f.uniformLocation=null})}});v.exports=u},80464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};v.exports=T},54935:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(20071);p.register("shader",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=a(n,"x",0),i=a(n,"y",0),h=a(n,"width",128),u=a(n,"height",128),d=new r(this.scene,s,o,i,h,u);return e!==void 0&&(n.add=e),l(this.scene,d,n),d})},74177:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20071),p=t(39429);p.register("shader",function(a,r,n,e,s,o,i){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i))})},25479:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(19257),a=t(80464),v.exports={renderWebGL:p,renderCanvas:a}},19257:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=function(a,r,n,e){if(r.shader){if(n.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=l(r,n,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(s.matrix),r.flush()}a.pipelines.rebind()}};v.exports=p},10441:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),p=function(a,r,n,e,s,o){for(var i=l.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),h=n.pathData,u=n.pathIndexes,d=0;d<u.length;d+=3){var f=u[d]*2,c=u[d+1]*2,g=u[d+2]*2,m=h[f+0]-s,y=h[f+1]-o,x=h[c+0]-s,S=h[c+1]-o,C=h[g+0]-s,A=h[g+1]-o,F=r.getX(m,y),M=r.getY(m,y),w=r.getX(x,S),R=r.getY(x,S),O=r.getX(C,A),U=r.getY(C,A);a.batchTri(n,F,M,w,R,O,U,0,0,1,1,i,i,i,2)}};v.exports=p},65960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=p||l.fillColor,n=a||l.fillAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,o=r&255;t.fillStyle="rgba("+e+","+s+","+o+","+n+")"};v.exports=T},75177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=p||l.strokeColor,n=a||l.strokeAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,o=r&255;t.strokeStyle="rgba("+e+","+s+","+o+","+n+")",t.lineWidth=l.lineWidth};v.exports=T},17803:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(95643),r=t(23031),n=new l({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(s,o,i){o===void 0&&(o="Shape"),a.call(this,s,o),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,o){return o===void 0&&(o=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=o,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});v.exports=n},34682:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),p=function(a,r,n,e,s){var o=a.strokeTint,i=l.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*n);o.TL=i,o.TR=i,o.BL=i,o.BR=i;var h=r.pathData,u=h.length-1,d=r.lineWidth,f=d/2,c=h[0]-e,g=h[1]-s;r.closePath||(u-=2);for(var m=2;m<u;m+=2){var y=h[m]-e,x=h[m+1]-s;a.batchLine(c,g,y,x,f,f,d,m-2,r.closePath?m===u-1:!1),c=y,g=x}};v.exports=p},23629:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13609),p=t(83419),a=t(39506),r=t(94811),n=t(96503),e=t(36383),s=t(17803),o=new p({Extends:s,Mixins:[l],initialize:function(h,u,d,f,c,g,m,y,x){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),c===void 0&&(c=0),g===void 0&&(g=360),m===void 0&&(m=!1),s.call(this,h,"Arc",new n(0,0,f)),this._startAngle=c,this._endAngle=g,this._anticlockwise=m,this._iterations=.01,this.setPosition(u,d);var S=this.geom.radius*2;this.setSize(S,S),y!==void 0&&this.setFillStyle(y,x),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var h=i*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,h){return this._startAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(i,h){return this._endAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var i=this._iterations,h=i,u=this.geom.radius,d=a(this._startAngle),f=a(this._endAngle),c=this._anticlockwise,g=u,m=u;f-=d,c?f<-e.PI2?f=-e.PI2:f>0&&(f=-e.PI2+f%e.PI2):f>e.PI2?f=e.PI2:f<0&&(f=e.PI2+f%e.PI2);for(var y=[g+Math.cos(d)*u,m+Math.sin(d)*u],x;h<1;)x=f*h+d,y.push(g+Math.cos(x)*u,m+Math.sin(x)*u),h+=i;return x=f+d,y.push(g+Math.cos(x)*u,m+Math.sin(x)*u),y.push(g+Math.cos(d)*u,m+Math.sin(d)*u),this.pathIndexes=r(y),this.pathData=y,this}});v.exports=o},42542:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39506),p=t(65960),a=t(75177),r=t(20926),n=function(e,s,o,i){o.addToRenderList(s);var h=e.currentContext;if(r(e,h,s,o,i)){var u=s.radius;h.beginPath(),h.arc(u-s.originX*(u*2),u-s.originY*(u*2),u,l(s._startAngle),l(s._endAngle),s.anticlockwise),s.closePath&&h.closePath(),s.isFilled&&(p(h,s),h.fill()),s.isStroked&&(a(h,s),h.stroke()),h.restore()}};v.exports=n},42563:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23629),p=t(39429);p.register("arc",function(a,r,n,e,s,o,i,h){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h))}),p.register("circle",function(a,r,n,e,s){return this.displayList.add(new l(this.scene,a,r,n,0,360,!1,e,s))})},13609:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(41447),a=t(42542),v.exports={renderWebGL:p,renderCanvas:a}},41447:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(10441),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=l(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&p(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};v.exports=r},89:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(33141),a=t(94811),r=t(87841),n=t(17803),e=new l({Extends:n,Mixins:[p],initialize:function(o,i,h,u,d,f){i===void 0&&(i=0),h===void 0&&(h=0),n.call(this,o,"Curve",u),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,h),d!==void 0&&this.setFillStyle(d,f),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,o=this._smoothness;this.geom.getBounds(s,o),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],h=this.geom.getPoints(o),u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=a(i),this.pathData=i,this}});v.exports=e},3170:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}e.closePath&&i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=r},40511:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(89);l.register("curve",function(a,r,n,e,s){return this.displayList.add(new p(this.scene,a,r,n,e,s))})},33141:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(53987),a=t(3170),v.exports={renderWebGL:p,renderCanvas:a}},53987:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),p=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=p(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};v.exports=r},19921:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(94811),a=t(54205),r=t(8497),n=t(17803),e=new l({Extends:n,Mixins:[a],initialize:function(o,i,h,u,d,f,c){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),d===void 0&&(d=128),n.call(this,o,"Ellipse",new r(u/2,d/2,u,d)),this._smoothness=64,this.setPosition(i,h),this.width=u,this.height=d,f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,o){return this.width=s,this.height=o,this.geom.setPosition(s/2,o/2),this.geom.setSize(s,o),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],o=this.geom.getPoints(this._smoothness),i=0;i<o.length;i++)s.push(o[i].x,o[i].y);return s.push(o[0].x,o[0].y),this.pathIndexes=p(s),this.pathData=s,this}});v.exports=e},7930:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=r},1543:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19921),p=t(39429);p.register("ellipse",function(a,r,n,e,s,o){return this.displayList.add(new l(this.scene,a,r,n,e,s,o))})},54205:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(19467),a=t(7930),v.exports={renderWebGL:p,renderCanvas:a}},19467:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),p=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=p(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};v.exports=r},30479:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(17803),a=t(26015),r=new l({Extends:p,Mixins:[a],initialize:function(e,s,o,i,h,u,d,f,c,g,m){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=128),h===void 0&&(h=128),u===void 0&&(u=32),d===void 0&&(d=32),p.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,o),this.setSize(i,h),this.setFillStyle(f,c),g!==void 0&&this.setOutlineStyle(g,m),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});v.exports=r},49912:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=-e._displayOriginX,u=-e._displayOriginY,d=s.alpha*e.alpha,f=e.width,c=e.height,g=e.cellWidth,m=e.cellHeight,y=Math.ceil(f/g),x=Math.ceil(c/m),S=g,C=m,A=g-(y*g-f),F=m-(x*m-c),M=e.showCells,w=e.showAltCells,R=e.showOutline,O=0,U=0,X=0,W=0,Y=0;if(R&&(S--,C--,A===g&&A--,F===m&&F--),M&&e.fillAlpha>0)for(l(i,e),U=0;U<x;U++)for(w&&(X=U%2),O=0;O<y;O++){if(w&&X){X=0;continue}X++,W=O<y-1?S:A,Y=U<x-1?C:F,i.fillRect(h+O*g,u+U*m,W,Y)}if(w&&e.altFillAlpha>0)for(l(i,e,e.altFillColor,e.altFillAlpha*d),U=0;U<x;U++)for(w&&(X=U%2),O=0;O<y;O++){if(w&&!X){X=1;continue}X=0,W=O<y-1?S:A,Y=U<x-1?C:F,i.fillRect(h+O*g,u+U*m,W,Y)}if(R&&e.outlineFillAlpha>0){for(p(i,e,e.outlineFillColor,e.outlineFillAlpha*d),O=1;O<y;O++){var N=O*g;i.beginPath(),i.moveTo(N+h,u),i.lineTo(N+h,c+u),i.stroke()}for(U=1;U<x;U++){var V=U*m;i.beginPath(),i.moveTo(h,V+u),i.lineTo(h+f,V+u),i.stroke()}}i.restore()}};v.exports=r},34137:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(30479);l.register("grid",function(a,r,n,e,s,o,i,h,u,d){return this.displayList.add(new p(this.scene,a,r,n,e,s,o,i,h,u,d))})},26015:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(46161),a=t(49912),v.exports={renderWebGL:p,renderCanvas:a}},46161:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s),h=o.calcMatrix.copyFrom(i.calc);h.translate(-n._displayOriginX,-n._displayOriginY);var u=e.alpha*n.alpha,d=n.width,f=n.height,c=n.cellWidth,g=n.cellHeight,m=Math.ceil(d/c),y=Math.ceil(f/g),x=c,S=g,C=c-(m*c-d),A=g-(y*g-f),F,M,w=n.showCells,R=n.showAltCells,O=n.showOutline,U=0,X=0,W=0,Y=0,N=0;if(O&&(x--,S--,C===c&&C--,A===g&&A--),r.pipelines.preBatch(n),w&&n.fillAlpha>0)for(F=o.fillTint,M=p.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*u),F.TL=M,F.TR=M,F.BL=M,F.BR=M,X=0;X<y;X++)for(R&&(W=X%2),U=0;U<m;U++){if(R&&W){W=0;continue}W++,Y=U<m-1?x:C,N=X<y-1?S:A,o.batchFillRect(U*c,X*g,Y,N)}if(R&&n.altFillAlpha>0)for(F=o.fillTint,M=p.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*u),F.TL=M,F.TR=M,F.BL=M,F.BR=M,X=0;X<y;X++)for(R&&(W=X%2),U=0;U<m;U++){if(R&&!W){W=1;continue}W=0,Y=U<m-1?x:C,N=X<y-1?S:A,o.batchFillRect(U*c,X*g,Y,N)}if(O&&n.outlineFillAlpha>0){var V=o.strokeTint,I=p.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*u);for(V.TL=I,V.TR=I,V.BL=I,V.BR=I,U=1;U<m;U++){var B=U*c;o.batchLine(B,0,B,f,1,1,1,0,!1)}for(X=1;X<y;X++){var G=X*g;o.batchLine(0,G,d,G,1,1,1,0,!1)}}r.pipelines.postBatch(n)};v.exports=a},61475:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99651),p=t(83419),a=t(17803),r=new p({Extends:a,Mixins:[l],initialize:function(e,s,o,i,h,u,d,f){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=15658734),d===void 0&&(d=10066329),f===void 0&&(f=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=f,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});v.exports=r},11508:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(p(r,o,n,e,s)&&n.isFilled){var i=n.width,h=n.height,u=i/2,d=i/n.projection;n.showTop&&(l(o,n,n.fillTop),o.beginPath(),o.moveTo(-u,-h),o.lineTo(0,-d-h),o.lineTo(u,-h),o.lineTo(u,-1),o.lineTo(0,d-1),o.lineTo(-u,-1),o.lineTo(-u,-h),o.fill()),n.showLeft&&(l(o,n,n.fillLeft),o.beginPath(),o.moveTo(-u,0),o.lineTo(0,d),o.lineTo(0,d-h),o.lineTo(-u,-h),o.lineTo(-u,0),o.fill()),n.showRight&&(l(o,n,n.fillRight),o.beginPath(),o.moveTo(u,0),o.lineTo(0,d),o.lineTo(0,d-h),o.lineTo(u,-h),o.lineTo(u,0),o.fill()),o.restore()}};v.exports=a},3933:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(61475);l.register("isobox",function(a,r,n,e,s,o,i){return this.displayList.add(new p(this.scene,a,r,n,e,s,o,i))})},99651:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(68149),a=t(11508),v.exports={renderWebGL:p,renderCanvas:a}},68149:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s),h=o.calcMatrix.copyFrom(i.calc),u=n.width,d=n.height,f=u/2,c=u/n.projection,g=e.alpha*n.alpha;if(n.isFilled){var m,y,x,S,C,A,F,M,w;r.pipelines.preBatch(n),n.showTop&&(m=p.getTintAppendFloatAlpha(n.fillTop,g),y=h.getX(-f,-d),x=h.getY(-f,-d),S=h.getX(0,-c-d),C=h.getY(0,-c-d),A=h.getX(f,-d),F=h.getY(f,-d),M=h.getX(0,c-d),w=h.getY(0,c-d),o.batchQuad(n,y,x,S,C,A,F,M,w,0,0,1,1,m,m,m,m,2)),n.showLeft&&(m=p.getTintAppendFloatAlpha(n.fillLeft,g),y=h.getX(-f,0),x=h.getY(-f,0),S=h.getX(0,c),C=h.getY(0,c),A=h.getX(0,c-d),F=h.getY(0,c-d),M=h.getX(-f,-d),w=h.getY(-f,-d),o.batchQuad(n,y,x,S,C,A,F,M,w,0,0,1,1,m,m,m,m,2)),n.showRight&&(m=p.getTintAppendFloatAlpha(n.fillRight,g),y=h.getX(f,0),x=h.getY(f,0),S=h.getX(0,c),C=h.getY(0,c),A=h.getX(0,c-d),F=h.getY(0,c-d),M=h.getX(f,-d),w=h.getY(f,-d),o.batchQuad(n,y,x,S,C,A,F,M,w,0,0,1,1,m,m,m,m,2)),r.pipelines.postBatch(n)}};v.exports=a},16933:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(60561),a=t(17803),r=new l({Extends:a,Mixins:[p],initialize:function(e,s,o,i,h,u,d,f,c){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=!1),d===void 0&&(d=15658734),f===void 0&&(f=10066329),c===void 0&&(c=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=f,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});v.exports=r},79590:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(p(r,o,n,e,s)&&n.isFilled){var i=n.width,h=n.height,u=i/2,d=i/n.projection,f=n.isReversed;n.showTop&&f&&(l(o,n,n.fillTop),o.beginPath(),o.moveTo(-u,-h),o.lineTo(0,-d-h),o.lineTo(u,-h),o.lineTo(0,d-h),o.fill()),n.showLeft&&(l(o,n,n.fillLeft),o.beginPath(),f?(o.moveTo(-u,-h),o.lineTo(0,d),o.lineTo(0,d-h)):(o.moveTo(-u,0),o.lineTo(0,d),o.lineTo(0,d-h)),o.fill()),n.showRight&&(l(o,n,n.fillRight),o.beginPath(),f?(o.moveTo(u,-h),o.lineTo(0,d),o.lineTo(0,d-h)):(o.moveTo(u,0),o.lineTo(0,d),o.lineTo(0,d-h)),o.fill()),o.restore()}};v.exports=a},49803:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(16933);l.register("isotriangle",function(a,r,n,e,s,o,i,h){return this.displayList.add(new p(this.scene,a,r,n,e,s,o,i,h))})},60561:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(51503),a=t(79590),v.exports={renderWebGL:p,renderCanvas:a}},51503:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s),h=o.calcMatrix.copyFrom(i.calc),u=n.width,d=n.height,f=u/2,c=u/n.projection,g=n.isReversed,m=e.alpha*n.alpha;if(n.isFilled){r.pipelines.preBatch(n);var y,x,S,C,A,F,M;if(n.showTop&&g){y=p.getTintAppendFloatAlpha(n.fillTop,m),x=h.getX(-f,-d),S=h.getY(-f,-d),C=h.getX(0,-c-d),A=h.getY(0,-c-d),F=h.getX(f,-d),M=h.getY(f,-d);var w=h.getX(0,c-d),R=h.getY(0,c-d);o.batchQuad(n,x,S,C,A,F,M,w,R,0,0,1,1,y,y,y,y,2)}n.showLeft&&(y=p.getTintAppendFloatAlpha(n.fillLeft,m),g?(x=h.getX(-f,-d),S=h.getY(-f,-d),C=h.getX(0,c),A=h.getY(0,c),F=h.getX(0,c-d),M=h.getY(0,c-d)):(x=h.getX(-f,0),S=h.getY(-f,0),C=h.getX(0,c),A=h.getY(0,c),F=h.getX(0,c-d),M=h.getY(0,c-d)),o.batchTri(n,x,S,C,A,F,M,0,0,1,1,y,y,y,2)),n.showRight&&(y=p.getTintAppendFloatAlpha(n.fillRight,m),g?(x=h.getX(f,-d),S=h.getY(f,-d),C=h.getX(0,c),A=h.getY(0,c),F=h.getX(0,c-d),M=h.getY(0,c-d)):(x=h.getX(f,0),S=h.getY(f,0),C=h.getX(0,c),A=h.getY(0,c),F=h.getX(0,c-d),M=h.getY(0,c-d)),o.batchTri(n,x,S,C,A,F,M,0,0,1,1,y,y,y,2)),r.pipelines.postBatch(n)}};v.exports=a},57847:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(17803),a=t(23031),r=t(36823),n=new l({Extends:p,Mixins:[r],initialize:function(s,o,i,h,u,d,f,c,g){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=128),f===void 0&&(f=0),p.call(this,s,"Line",new a(h,u,d,f));var m=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(o,i),this.setSize(m,y),c!==void 0&&this.setStrokeStyle(1,c,g),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,o,i){return this.geom.setTo(e,s,o,i),this}});v.exports=n},17440:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75177),p=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(p(r,o,n,e,s)){var i=n._displayOriginX,h=n._displayOriginY;n.isStroked&&(l(o,n),o.beginPath(),o.moveTo(n.geom.x1-i,n.geom.y1-h),o.lineTo(n.geom.x2-i,n.geom.y2-h),o.stroke()),o.restore()}};v.exports=a},2481:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(57847);l.register("line",function(a,r,n,e,s,o,i,h){return this.displayList.add(new p(this.scene,a,r,n,e,s,o,i,h))})},36823:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(77385),a=t(17440),v.exports={renderWebGL:p,renderCanvas:a}},77385:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s);o.calcMatrix.copyFrom(i.calc);var h=n._displayOriginX,u=n._displayOriginY,d=e.alpha*n.alpha;if(r.pipelines.preBatch(n),n.isStroked){var f=o.strokeTint,c=p.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*d);f.TL=c,f.TR=c,f.BL=c,f.BR=c,o.batchLine(n.geom.x1-h,n.geom.y1-u,n.geom.x2-h,n.geom.y2-u,n._startWidth/2,n._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(n)};v.exports=a},24949:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90273),p=t(83419),a=t(94811),r=t(13829),n=t(25717),e=t(17803),s=t(5469),o=new p({Extends:e,Mixins:[l],initialize:function(h,u,d,f,c,g){u===void 0&&(u=0),d===void 0&&(d=0),e.call(this,h,"Polygon",new n(f));var m=r(this.geom);this.setPosition(u,d),this.setSize(m.width,m.height),c!==void 0&&this.setFillStyle(c,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var h=0;h<i;h++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var h=r(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],h=this.geom.points,u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=a(i),this.pathData=i,this}});v.exports=o},38710:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}e.closePath&&i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=r},64827:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(24949);l.register("polygon",function(a,r,n,e,s){return this.displayList.add(new p(this.scene,a,r,n,e,s))})},90273:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(73695),a=t(38710),v.exports={renderWebGL:p,renderCanvas:a}},73695:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),p=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=p(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};v.exports=r},74561:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(87841),a=t(17803),r=t(95597),n=new l({Extends:a,Mixins:[r],initialize:function(s,o,i,h,u,d,f){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=128),u===void 0&&(u=128),a.call(this,s,"Rectangle",new p(0,0,h,u)),this.setPosition(o,i),this.setSize(h,u),d!==void 0&&this.setFillStyle(d,f),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=e,o.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),s.getLineD(o),e.push(o.x2,o.y2),this.pathData=e,this}});v.exports=n},48682:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(l(i,e),i.fillRect(-h,-u,e.width,e.height)),e.isStroked&&(p(i,e),i.beginPath(),i.rect(-h,-u,e.width,e.height),i.stroke()),i.restore()}};v.exports=r},87959:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(74561);l.register("rectangle",function(a,r,n,e,s,o){return this.displayList.add(new p(this.scene,a,r,n,e,s,o))})},95597:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(52059),a=t(48682),v.exports={renderWebGL:p,renderCanvas:a}},52059:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(34682),a=t(70554),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=l(e,s,o);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,d=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);c.TL=g,c.TR=g,c.BL=g,c.BR=g,i.batchFillRect(-u,-d,e.width,e.height)}e.isStroked&&p(i,e,f,u,d),n.pipelines.postBatch(e)};v.exports=r},55911:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81991),p=t(83419),a=t(94811),r=t(17803),n=new p({Extends:r,Mixins:[l],initialize:function(s,o,i,h,u,d,f,c){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=5),u===void 0&&(u=32),d===void 0&&(d=64),r.call(this,s,"Star",null),this._points=h,this._innerRadius=u,this._outerRadius=d,this.setPosition(o,i),this.setSize(d*2,d*2),f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,o=this._innerRadius,i=this._outerRadius,h=Math.PI/2*3,u=Math.PI/s,d=i,f=i;e.push(d,f+-i);for(var c=0;c<s;c++)e.push(d+Math.cos(h)*i,f+Math.sin(h)*i),h+=u,e.push(d+Math.cos(h)*o,f+Math.sin(h)*o),h+=u;return e.push(d,f+-i),this.pathIndexes=a(e),this.pathData=e,this}});v.exports=n},64272:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=r},93697:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55911),p=t(39429);p.register("star",function(a,r,n,e,s,o,i){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i))})},81991:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(57017),a=t(64272),v.exports={renderWebGL:p,renderCanvas:a}},57017:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),p=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=p(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};v.exports=r},36931:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(17803),a=t(16483),r=t(96195),n=new l({Extends:p,Mixins:[r],initialize:function(s,o,i,h,u,d,f,c,g,m,y){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),d===void 0&&(d=64),f===void 0&&(f=0),c===void 0&&(c=128),g===void 0&&(g=128),p.call(this,s,"Triangle",new a(h,u,d,f,c,g));var x=this.geom.right-this.geom.left,S=this.geom.bottom-this.geom.top;this.setPosition(o,i),this.setSize(x,S),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,o,i,h,u){return this.geom.setTo(e,s,o,i,h,u),this.updateData()},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),this.pathData=e,this}});v.exports=n},85172:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),p=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.geom.x1-h,f=e.geom.y1-u,c=e.geom.x2-h,g=e.geom.y2-u,m=e.geom.x3-h,y=e.geom.y3-u;i.beginPath(),i.moveTo(d,f),i.lineTo(c,g),i.lineTo(m,y),i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(p(i,e),i.stroke()),i.restore()}};v.exports=r},45245:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(36931);l.register("triangle",function(a,r,n,e,s,o,i,h,u,d){return this.displayList.add(new p(this.scene,a,r,n,e,s,o,i,h,u,d))})},96195:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(83253),a=t(85172),v.exports={renderWebGL:p,renderCanvas:a}},83253:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=t(34682),a=t(70554),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=l(e,s,o);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,d=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);c.TL=g,c.TR=g,c.BL=g,c.BR=g;var m=e.geom.x1-u,y=e.geom.y1-d,x=e.geom.x2-u,S=e.geom.y2-d,C=e.geom.x3-u,A=e.geom.y3-d;i.batchFillTriangle(m,y,x,S,C,A,h.sprite,h.camera)}e.isStroked&&p(i,e,f,u,d),n.pipelines.postBatch(e)};v.exports=r},68287:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),p=t(83419),a=t(31401),r=t(95643),n=t(92751),e=new p({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,n],initialize:function(o,i,h,u,d){r.call(this,o,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(u,d),this.setPosition(i,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,o){this.anims.update(s,o)},play:function(s,o){return this.anims.play(s,o)},playReverse:function(s,o){return this.anims.playReverse(s,o)},playAfterDelay:function(s,o){return this.anims.playAfterDelay(s,o)},playAfterRepeat:function(s,o){return this.anims.playAfterRepeat(s,o)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});v.exports=e},76552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p.addToRenderList(l),t.batchSprite(l,l.frame,p,a)};v.exports=T},15567:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(13059),a=t(44603),r=t(23568),n=t(68287);a.register("sprite",function(e,s){e===void 0&&(e={});var o=r(e,"key",null),i=r(e,"frame",null),h=new n(this.scene,0,0,o,i);return s!==void 0&&(e.add=s),l(this.scene,h,e),p(h,e),h})},46409:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(68287);l.register("sprite",function(a,r,n,e){return this.displayList.add(new p(this.scene,a,r,n,e))})},92751:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(9409),a=t(76552),v.exports={renderWebGL:p,renderCanvas:a}},9409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p.addToRenderList(l),l.pipeline.batchSprite(l,p,a)};v.exports=T},14220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=t.canvas,r=t.context,n=t.style,e=[],s=0,o=p.length;n.maxLines>0&&n.maxLines<p.length&&(o=n.maxLines),n.syncFont(a,r);for(var i=t.letterSpacing,h=0;h<o;h++){var u=n.strokeThickness;if(i===0)u+=r.measureText(p[h]).width;else{for(var d=p[h],f=0;f<d.length;f++)u+=r.measureText(d[f]).width;d.length>1&&(u+=i*(d.length-1))}n.wordWrap&&(u-=r.measureText(" ").width),e[h]=Math.ceil(u),s=Math.max(s,e[h])}var c=l.fontSize+n.strokeThickness,g=c*o,m=t.lineSpacing;return o>1&&(g+=m*(o-1)),{width:s,height:g,lines:o,lineWidths:e,lineSpacing:m,lineHeight:c}};v.exports=T},79557:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),p=function(a){var r=l.create(this),n=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,n);var e=n.measureText(a.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,o=e.actualBoundingBoxDescent;return l.remove(r),{ascent:s,descent:o,fontSize:s+o}}var i=Math.ceil(e.width*a.baselineX),h=i,u=2*h;h=h*a.baselineY|0,r.width=i,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,i,u),n.font=a._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a.testString,0,h);var d={ascent:0,descent:0,fontSize:0},f=n.getImageData(0,0,i,u);if(!f)return d.ascent=h,d.descent=h+6,d.fontSize=d.ascent+d.descent,l.remove(r),d;var c=f.data,g=c.length,m=i*4,y,x,S=0,C=!1;for(y=0;y<h;y++){for(x=0;x<m;x+=4)if(c[S+x]!==255){C=!0;break}if(!C)S+=m;else break}for(d.ascent=h-y,S=g-m,C=!1,y=u;y>h;y--){for(x=0;x<m;x+=4)if(c[S+x]!==255){C=!0;break}if(!C)S-=m;else break}return d.descent=y-h,d.fontSize=d.ascent+d.descent,l.remove(r),d};v.exports=p},50171:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),p=t(27919),a=t(83419),r=t(31401),n=t(95643),e=t(14220),s=t(35154),o=t(35846),i=t(61771),h=t(35762),u=t(45650),d=new a({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(c,g,m,y,x){g===void 0&&(g=0),m===void 0&&(m=0),n.call(this,c,"Text"),this.renderer=c.sys.renderer,this.setPosition(g,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new h(this,x),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=c.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(y),x&&x.padding&&this.setPadding(x.padding),x&&x.lineSpacing&&this.setLineSpacing(x.lineSpacing),x&&x.letterSpacing&&this.setLetterSpacing(x.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(f){var c=this.style;if(c.wordWrapCallback){var g=c.wordWrapCallback.call(c.wordWrapCallbackScope,f,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return c.wordWrapWidth?c.wordWrapUseAdvanced?this.advancedWordWrap(f,this.context,this.style.wordWrapWidth):this.basicWordWrap(f,this.context,this.style.wordWrapWidth):f},advancedWordWrap:function(f,c,g){for(var m="",y=f.replace(/ +/gi," ").split(this.splitRegExp),x=y.length,S=0;S<x;S++){var C=y[S],A="";C=C.replace(/^ *|\s*$/gi,"");var F=C.length*this.letterSpacing,M=c.measureText(C).width+F;if(M<g){m+=C+`
`;continue}for(var w=g,R=C.split(" "),O=0;O<R.length;O++){var U=R[O],X=U+" ",W=X.length*this.letterSpacing,Y=c.measureText(X).width+W;if(console.log(R.length,U),Y>w){if(O===0){for(var N=X;N.length;){N=N.slice(0,-1);var V=N.length*this.letterSpacing;if(Y=c.measureText(N).width+V,Y<=w)break}if(!N.length)throw new Error("wordWrapWidth < a single character");var I=U.substr(N.length);R[O]=I,A+=N}var B=R[O].length?O:O+1,G=R.slice(B).join(" ").replace(/[ \n]*$/gi,"");y.splice(S+1,0,G),x=y.length;break}else A+=X,w-=Y}m+=A.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(f,c,g){for(var m="",y=f.split(this.splitRegExp),x=y.length-1,S=c.measureText(" ").width,C=0;C<=x;C++){for(var A=g,F=y[C].split(" "),M=F.length-1,w=0;w<=M;w++){var R=F[w],O=R.length*this.letterSpacing,U=c.measureText(R).width+O,X=U;w<M&&(X+=S),X>A&&w>0&&(m+=`
`,A=g),m+=R,w<M?(m+=" ",A-=X):A-=U}C<x&&(m+=`
`)}return m},getWrappedText:function(f){f===void 0&&(f=this._text),this.style.syncFont(this.canvas,this.context);var c=this.runWordWrap(f);return c.split(this.splitRegExp)},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this._text&&(this._text=f.toString(),this.updateText()),this},appendText:function(f,c){c===void 0&&(c=!0),!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f=f.toString();var g=this._text.concat(c?`
`+f:f);return g!==this._text&&(this._text=g,this.updateText()),this},setStyle:function(f){return this.style.setStyle(f)},setFont:function(f){return this.style.setFont(f)},setFontFamily:function(f){return this.style.setFontFamily(f)},setFontSize:function(f){return this.style.setFontSize(f)},setFontStyle:function(f){return this.style.setFontStyle(f)},setFixedSize:function(f,c){return this.style.setFixedSize(f,c)},setBackgroundColor:function(f){return this.style.setBackgroundColor(f)},setFill:function(f){return this.style.setFill(f)},setColor:function(f){return this.style.setColor(f)},setStroke:function(f,c){return this.style.setStroke(f,c)},setShadow:function(f,c,g,m,y,x){return this.style.setShadow(f,c,g,m,y,x)},setShadowOffset:function(f,c){return this.style.setShadowOffset(f,c)},setShadowColor:function(f){return this.style.setShadowColor(f)},setShadowBlur:function(f){return this.style.setShadowBlur(f)},setShadowStroke:function(f){return this.style.setShadowStroke(f)},setShadowFill:function(f){return this.style.setShadowFill(f)},setWordWrapWidth:function(f,c){return this.style.setWordWrapWidth(f,c)},setWordWrapCallback:function(f,c){return this.style.setWordWrapCallback(f,c)},setAlign:function(f){return this.style.setAlign(f)},setResolution:function(f){return this.style.setResolution(f)},setLineSpacing:function(f){return this.lineSpacing=f,this.updateText()},setLetterSpacing:function(f){return this.letterSpacing=f,this.updateText()},setPadding:function(f,c,g,m){if(typeof f=="object"){var y=f,x=s(y,"x",null);x!==null?(f=x,g=x):(f=s(y,"left",0),g=s(y,"right",f));var S=s(y,"y",null);S!==null?(c=S,m=S):(c=s(y,"top",0),m=s(y,"bottom",c))}else f===void 0&&(f=0),c===void 0&&(c=f),g===void 0&&(g=f),m===void 0&&(m=c);return this.padding.left=f,this.padding.top=c,this.padding.right=g,this.padding.bottom=m,this.updateText()},setMaxLines:function(f){return this.style.setMaxLines(f)},setRTL:function(f){f===void 0&&(f=!0);var c=this.style;return c.rtl===f?this:(c.rtl=f,f?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),c.align==="left"?c.align="right":c.align==="right"&&(c.align="left"),this)},updateText:function(){var f=this.canvas,c=this.context,g=this.style,m=g.resolution,y=g.metrics;g.syncFont(f,c);var x=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(x=this.runWordWrap(this._text));var S=x.split(this.splitRegExp),C=e(this,y,S),A=this.padding,F;g.fixedWidth===0?(this.width=C.width+A.left+A.right,F=C.width):(this.width=g.fixedWidth,F=this.width-A.left-A.right,F<C.width&&(F=C.width)),g.fixedHeight===0?this.height=C.height+A.top+A.bottom:this.height=g.fixedHeight;var M=this.width,w=this.height;this.updateDisplayOrigin(),M*=m,w*=m,M=Math.max(M,1),w=Math.max(w,1),f.width!==M||f.height!==w?(f.width=M,f.height=w,this.frame.setSize(M,w),g.syncFont(f,c),g.rtl&&(c.direction="rtl")):c.clearRect(0,0,M,w),c.save(),c.scale(m,m),g.backgroundColor&&(c.fillStyle=g.backgroundColor,c.fillRect(0,0,M,w)),g.syncStyle(f,c),c.translate(A.left,A.top);for(var R,O,U=0;U<C.lines;U++){if(R=g.strokeThickness/2,O=g.strokeThickness/2+U*C.lineHeight+y.ascent,U>0&&(O+=C.lineSpacing*U),g.rtl)R=M-R-A.left-A.right;else if(g.align==="right")R+=F-C.lineWidths[U];else if(g.align==="center")R+=(F-C.lineWidths[U])/2;else if(g.align==="justify"){var X=.85;if(C.lineWidths[U]/C.width>=X){var W=C.width-C.lineWidths[U],Y=c.measureText(" ").width,N=S[U].trim(),V=N.split(" ");W+=(S[U].length-N.length)*Y;for(var I=Math.floor(W/Y),B=0;I>0;)V[B]+=" ",B=(B+1)%(V.length-1||1),--I;S[U]=V.join(" ")}}this.autoRound&&(R=Math.round(R),O=Math.round(O));var G=this.letterSpacing;if(g.strokeThickness&&G===0&&(g.syncShadow(c,g.shadowStroke),c.strokeText(S[U],R,O)),g.color)if(g.syncShadow(c,g.shadowFill),G!==0)for(var H=0,$=S[U].split(""),Z=0;Z<$.length;Z++)g.strokeThickness&&(g.syncShadow(c,g.shadowStroke),c.strokeText($[Z],R+H,O),g.syncShadow(c,g.shadowFill)),c.fillText($[Z],R+H,O),H+=c.measureText($[Z]).width+G;else c.fillText(S[U],R,O)}c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0));var Q=this.input;return Q&&!Q.customHitArea&&(Q.hitArea.width=this.width,Q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(f){this.setText(f)}},toJSON:function(){var f=r.ToJSON(this),c={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return f.data=c,f},preDestroy:function(){o(this.canvas),p.remove(this.canvas);var f=this.texture;f&&f.destroy()}});v.exports=d},79724:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){l.width===0||l.height===0||(p.addToRenderList(l),t.batchSprite(l,l.frame,p,a))};v.exports=T},71259:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(50171);p.register("text",function(n,e){n===void 0&&(n={});var s=a(n,"text",""),o=a(n,"style",null),i=a(n,"padding",null);i!==null&&(o.padding=i);var h=new r(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),l(this.scene,h,n),h.autoRound=a(n,"autoRound",!0),h.resolution=a(n,"resolution",1),h})},68005:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50171),p=t(39429);p.register("text",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},61771:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(34397),a=t(79724),v.exports={renderWebGL:p,renderCanvas:a}},35762:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23568),a=t(35154),r=t(79557),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new l({initialize:function(o,i){this.parent=o,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,o,i){o===void 0&&(o=!0),i===void 0&&(i=!1);for(var h in n){var u=i?n[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=a(s,n[h][0],u):s&&h==="fontSize"&&typeof s.fontSize=="number"?this[h]=s.fontSize.toString()+"px":this[h]=p(s,n[h][0],u)}var d=a(s,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var f=a(s,"fill",null);f!==null&&(this.color=f);var c=a(s,"metrics",!1);return c?this.metrics={ascent:a(c,"ascent",0),descent:a(c,"descent",0),fontSize:a(c,"fontSize",0)}:(o||!this.metrics)&&(this.metrics=r(this)),o?this.parent.updateText():this.parent},syncFont:function(s,o){o.font=this._font},syncStyle:function(s,o){o.textBaseline="alphabetic",o.fillStyle=this.color,o.strokeStyle=this.stroke,o.lineWidth=this.strokeThickness,o.lineCap="round",o.lineJoin="round"},syncShadow:function(s,o){o?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,o){o===void 0&&(o=!0);var i=s,h="",u="";if(typeof s!="string")i=a(s,"fontFamily","Courier"),h=a(s,"fontSize","16px"),u=a(s,"fontStyle","");else{var d=s.split(" "),f=0;u=d.length>2?d[f++]:"",h=d[f++]||"16px",i=d[f++]||"Courier"}return(i!==this.fontFamily||h!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=h,this.fontStyle=u,o&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,o){return this.fixedWidth=s,this.fixedHeight=o,s&&(this.parent.width=s),o&&(this.parent.height=o),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,o){return o===void 0&&(o=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==o)&&(this.stroke=s,this.strokeThickness=o,this.update(!0)),this.parent},setShadow:function(s,o,i,h,u,d){return s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i="#000"),h===void 0&&(h=0),u===void 0&&(u=!1),d===void 0&&(d=!0),this.shadowOffsetX=s,this.shadowOffsetY=o,this.shadowColor=i,this.shadowBlur=h,this.shadowStroke=u,this.shadowFill=d,this.update(!1)},setShadowOffset:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.shadowOffsetX=s,this.shadowOffsetY=o,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,o){return o===void 0&&(o=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=o,this.update(!1)},setWordWrapCallback:function(s,o){return o===void 0&&(o=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=o,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var o in n)s[o]=this[o];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});v.exports=e},34397:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),p=function(a,r,n,e){if(!(r.width===0||r.height===0)){n.addToRenderList(r);var s=r.frame,o=s.width,i=s.height,h=l.getTintAppendFloatAlpha,u=a.pipelines.set(r.pipeline,r),d=u.setTexture2D(s.glTexture,r);u.batchTexture(r,s.glTexture,o,i,r.x,r.y,o/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,o,i,h(r.tintTopLeft,n.alpha*r._alphaTL),h(r.tintTopRight,n.alpha*r._alphaTR),h(r.tintBottomLeft,n.alpha*r._alphaBL),h(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,0,0,n,e,!1,d)}};v.exports=p},20839:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),p=t(83419),a=t(31401),r=t(95643),n=t(98439),e=t(68703),s=t(56295),o=t(45650),i=t(26099),h=8,u=new p({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(f,c,g,m,y,x,S){var C=f.sys.renderer;r.call(this,f,"TileSprite");var A=f.sys.textures.get(x),F=A.get(S);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),A=f.sys.textures.get("__MISSING"),F=A.get()),A.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),A=f.sys.textures.get("__MISSING"),F=A.get()),!m||!y?(m=m||F.width,y=y||F.height):(m=Math.floor(m),y=Math.floor(y)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=C,this.canvas=l.create(this,m,y),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=A,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=o(),this.texture=f.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=n(F.width),this.potHeight=n(F.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(c,g),this.setSize(m,y),this.setFrame(S),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,f){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(f)},setFrame:function(d){var f=this.displayTexture.get(d);return this.potWidth=n(f.width),this.potHeight=n(f.height),this.canvas.width=0,!f.cutWidth||!f.cutHeight?this.renderFlags&=-9:this.renderFlags|=h,this.displayFrame=f,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,f){return d!==void 0&&(this.tilePositionX=d),f!==void 0&&(this.tilePositionY=f),this},setTileScale:function(d,f){return d===void 0&&(d=this.tileScaleX),f===void 0&&(f=d),this.tileScaleX=d,this.tileScaleY=f,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var f=this.fillContext,c=this.fillCanvas,g=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=d.cutWidth,m=d.cutHeight),f.clearRect(0,0,g,m),c.width=g,c.height=m,f.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,g,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(c,this.fillPattern):this.fillPattern=f.createPattern(c,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var f=this.context;this.scene.sys.game.config.antialias||e.disable(f);var c=this._tileScale.x,g=this._tileScale.y,m=this._tilePosition.x,y=this._tilePosition.y;f.clearRect(0,0,this.width,this.height),f.save(),f.scale(c,g),f.translate(-m,-y),f.fillStyle=this.fillPattern,f.fillRect(m,y,this.width/c,this.height/g),f.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});v.exports=u},46992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){l.updateCanvas(),p.addToRenderList(l),t.batchSprite(l,l.frame,p,a)};v.exports=T},14167:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(20839);p.register("tileSprite",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),o=a(n,"y",0),i=a(n,"width",512),h=a(n,"height",512),u=a(n,"key",""),d=a(n,"frame",""),f=new r(this.scene,s,o,i,h,u,d);return e!==void 0&&(n.add=e),l(this.scene,f,n),f})},91681:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20839),p=t(39429);p.register("tileSprite",function(a,r,n,e,s,o){return this.displayList.add(new l(this.scene,a,r,n,e,s,o))})},56295:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(18553),a=t(46992),v.exports={renderWebGL:p,renderCanvas:a}},18553:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),p=function(a,r,n,e){r.updateCanvas();var s=r.width,o=r.height;if(!(s===0||o===0)){n.addToRenderList(r);var i=l.getTintAppendFloatAlpha,h=a.pipelines.set(r.pipeline,r),u=h.setTexture2D(r.fillPattern,r);h.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,o,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*o,0,0,s,o,i(r.tintTopLeft,n.alpha*r._alphaTL),i(r.tintTopRight,n.alpha*r._alphaTR),i(r.tintBottomLeft,n.alpha*r._alphaBL),i(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,n,e,!1,u)}};v.exports=p},18471:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(31401),r=t(51708),n=t(8443),e=t(95643),s=t(36383),o=t(14463),i=t(45650),h=t(10247),u=new p({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,h],initialize:function(f,c,g,m){e.call(this,f,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var y=f.sys.game;this._device=y.device.video,this.setPosition(c,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),y.events.on(n.PAUSE,this.globalPause,this),y.events.on(n.RESUME,this.globalResume,this);var x=f.sys.sound;x&&x.on(o.GLOBAL_MUTE,this.globalMute,this),m&&this.load(m)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var f=this.scene.sys.cache.video.get(d);return f?(this.cacheKey=d,this.loadHandler(f.url,f.noAudio,f.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,f,c,g,m){f===void 0&&(f=!0),c===void 0&&(c=!1),this.cacheKey!==d&&(this.load(d),f&&this.play(c,g,m))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,f,c){f===void 0&&(f=!1);var g=this._device.getVideoURL(d);return g?(this.cacheKey="",this.loadHandler(g.url,f,c)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,f,c){return this.loadHandler(null,f,c,d)},loadHandler:function(d,f,c,g){f||(f=!1);var m=this.video;if(m?(this.removeLoadEventHandlers(),this.stop()):(m=document.createElement("video"),m.controls=!1,m.setAttribute("playsinline","playsinline"),m.setAttribute("preload","auto"),m.setAttribute("disablePictureInPicture","true")),f?(m.muted=!0,m.defaultMuted=!0,m.setAttribute("autoplay","autoplay")):(m.muted=!1,m.defaultMuted=!1,m.removeAttribute("autoplay")),c?m.setAttribute("crossorigin",c):m.removeAttribute("crossorigin"),g)if("srcObject"in m)try{m.srcObject=g}catch(x){if(x.name!=="TypeError")throw x;m.src=URL.createObjectURL(g)}else m.src=URL.createObjectURL(g);else m.src=d;this.retry=0,this.video=m,this._playCalled=!1,m.load(),this.addLoadEventHandlers();var y=this.scene.sys.textures.get(this._key);return this.setTexture(y),this},requestVideoFrame:function(d,f){var c=this.video;if(c){var g=f.width,m=f.height,y=this.videoTexture,x=this.videoTextureSource,S=!y||x.source!==c;S?(this._codePaused=c.paused,this._codeMuted=c.muted,y?(x.source=c,x.width=g,x.height=m,y.get().setSize(g,m)):(y=this.scene.sys.textures.create(this._key,c,g,m),y.add("__BASE",0,0,0,g,m),this.setTexture(y),this.videoTexture=y,this.videoTextureSource=y.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,y)),this.setSizeToFrame(),this.updateDisplayOrigin()):x.update(),this.isStalled=!1,this.metadata=f;var C=f.mediaTime;S&&(this._lastUpdate=C,this.emit(r.VIDEO_CREATED,this,g,m),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?C>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):C<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=C,this._getFrame?(this.removeEventHandlers(),c.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,f,c){f===void 0&&(f=-1),c===void 0&&(c=s.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(d===void 0&&(d=g.loop),g.loop=d,this._markerIn=f,this._markerOut=c,this._playingMarker=f>-1&&c>f&&c<s.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var c in f)d.addEventListener(c,f[c])}},removeEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var c in f)d.removeEventListener(c,f[c])}},createPlayPromise:function(d){d===void 0&&(d=!0);var f=this.video,c=f.play();if(c!==void 0){var g=this.playSuccess.bind(this),m=this.playError.bind(this);if(!d){var y=this;m=function(){y.failedPlayAttempts++}}c.then(g).catch(m)}else f.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,f,c){return!isNaN(f)&&f>=0&&!isNaN(c)&&c>f&&(this.markers[d]=[f,c]),this},playMarker:function(d,f){var c=this.markers[d];return c&&this.play(f,c[0],c[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,f){return d===void 0&&(d=this.width),f===void 0&&(f=this.height),this.snapshotArea(0,0,this.width,this.height,d,f)},snapshotArea:function(d,f,c,g,m,y){d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=this.width),g===void 0&&(g=this.height),m===void 0&&(m=c),y===void 0&&(y=g);var x=this.video,S=this.snapshotTexture;return S?(S.setSize(m,y),x&&S.context.drawImage(x,d,f,c,g,0,0,m,y)):(S=this.scene.sys.textures.createCanvas(i(),m,y),this.snapshotTexture=S,x&&S.context.drawImage(x,d,f,c,g,0,0,m,y)),S.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var f=d.name;f==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):f==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(r.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(r.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(d,f){var c=this.video;!c||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=f,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var f=this.video;if(f){var c=f.duration;if(c!==1/0&&!isNaN(c)){var g=c*d;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var f=this.video;if(f){if(typeof d=="string"){var c=d[0],g=parseFloat(d.substr(1));c==="+"?d=f.currentTime+g:c==="-"&&(d=f.currentTime-g)}f.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var f=d.duration;if(f!==1/0&&!isNaN(f))return d.currentTime/f}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var f=this.video;return f&&(f.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,f){this._systemMuted=f;var c=this.video;c&&(c.muted=this._codeMuted?!0:f)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var f=this.video;return this._codePaused=d,f&&!f.ended&&(d?f.paused||(this.removeEventHandlers(),f.pause()):d||(this._playCalled?f.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=l(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,f){return f===void 0&&(f=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(f)),this._key=d,this.flipY=f,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var f=this.video;return f&&(this.removeEventHandlers(),f.cancelVideoFrameCallback(this._rfvCallbackId),f.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(n.PAUSE,this.globalPause,this),d.off(n.RESUME,this.globalResume,this);var f=this.scene.sys.sound;f&&f.off(o.GLOBAL_MUTE,this.globalMute,this)}});v.exports=u},58352:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){l.videoTexture&&(p.addToRenderList(l),t.batchSprite(l,l.frame,p,a))};v.exports=T},11511:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),p=t(44603),a=t(23568),r=t(18471);p.register("video",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=new r(this.scene,0,0,s);return e!==void 0&&(n.add=e),l(this.scene,o,n),o})},89025:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18471),p=t(39429);p.register("video",function(a,r,n){return this.displayList.add(new l(this.scene,a,r,n))})},10247:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(29849),a=t(58352),v.exports={renderWebGL:p,renderCanvas:a}},29849:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){l.videoTexture&&(p.addToRenderList(l),l.pipeline.batchSprite(l,p,a))};v.exports=T},41481:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),p=t(96503),a=t(87902),r=t(83419),n=t(31401),e=t(95643),s=t(87841),o=t(37303),i=new r({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(u,d,f,c,g){c===void 0&&(c=1),g===void 0&&(g=c),e.call(this,u,"Zone"),this.setPosition(d,f),this.width=c,this.height=g,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,u,d){d===void 0&&(d=!0),this.width=h,this.height=u,this.updateDisplayOrigin();var f=this.input;return d&&f&&!f.customHitArea&&(f.hitArea.width=h,f.hitArea.height=u),this},setDisplaySize:function(h,u){return this.displayWidth=h,this.displayHeight=u,this},setCircleDropZone:function(h){return this.setDropZone(new p(0,0,h),a)},setRectangleDropZone:function(h,u){return this.setDropZone(new s(0,0,h,u),o)},setDropZone:function(h,u){return this.input||this.setInteractive(h,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,u,d){d.addToRenderList(u)},renderWebGL:function(h,u,d){d.addToRenderList(u)}});v.exports=i},95261:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),p=t(23568),a=t(41481);l.register("zone",function(r){var n=p(r,"x",0),e=p(r,"y",0),s=p(r,"width",1),o=p(r,"height",s);return new a(this.scene,n,e,s,o)})},84175:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41481),p=t(39429);p.register("zone",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},95166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};v.exports=T},96503:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(87902),a=t(26241),r=t(79124),n=t(23777),e=t(28176),s=new l({initialize:function(i,h,u){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.type=n.CIRCLE,this.x=i,this.y=h,this._radius=u,this._diameter=u*2},contains:function(o,i){return p(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,h){return r(this,o,i,h)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,h){return this.x=o,this.y=i,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this._diameter=o*2}},diameter:{get:function(){return this._diameter},set:function(o){this._diameter=o,this._radius=o*.5}},left:{get:function(){return this.x-this._radius},set:function(o){this.x=o+this._radius}},right:{get:function(){return this.x+this._radius},set:function(o){this.x=o-this._radius}},top:{get:function(){return this.y-this._radius},set:function(o){this.y=o+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(o){this.y=o-this._radius}}});v.exports=s},71562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 2*(Math.PI*t.radius)};v.exports=T},92110:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r,n){return n===void 0&&(n=new l),n.x=a.x+a.radius*Math.cos(r),n.y=a.y+a.radius*Math.sin(r),n};v.exports=p},42250:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),p=function(a){return new l(a.x,a.y,a.radius)};v.exports=p},87902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(t.radius>0&&l>=t.left&&l<=t.right&&p>=t.top&&p<=t.bottom){var a=(t.x-l)*(t.x-l),r=(t.y-p)*(t.y-p);return a+r<=t.radius*t.radius}else return!1};v.exports=T},5698:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),p=function(a,r){return l(a,r.x,r.y)};v.exports=p},70588:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),p=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};v.exports=p},26394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.setTo(t.x,t.y,t.radius)};v.exports=T},76278:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x===l.x&&t.y===l.y&&t.radius===l.radius};v.exports=T},2074:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};v.exports=p},26241:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92110),p=t(62945),a=t(36383),r=t(2141),n=function(e,s,o){o===void 0&&(o=new r);var i=p(s,0,a.PI2);return l(e,i,o)};v.exports=n},79124:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71562),p=t(92110),a=t(62945),r=t(36383),n=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=l(e)/o);for(var h=0;h<s;h++){var u=a(h/s,0,r.PI2);i.push(p(e,u))}return i};v.exports=n},50884:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t.x+=l,t.y+=p,t};v.exports=T},39212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x+=l.x,t.y+=l.y,t};v.exports=T},28176:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){r===void 0&&(r=new l);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,o=s*Math.cos(n),i=s*Math.sin(n);return r.x=a.x+o*a.radius,r.y=a.y+i*a.radius,r};v.exports=p},88911:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503);l.Area=t(95166),l.Circumference=t(71562),l.CircumferencePoint=t(92110),l.Clone=t(42250),l.Contains=t(87902),l.ContainsPoint=t(5698),l.ContainsRect=t(70588),l.CopyFrom=t(26394),l.Equals=t(76278),l.GetBounds=t(2074),l.GetPoint=t(26241),l.GetPoints=t(79124),l.Offset=t(50884),l.OffsetPoint=t(39212),l.Random=t(28176),v.exports=l},23777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};v.exports=T},78874:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};v.exports=T},92990:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=t.width/2,p=t.height/2,a=Math.pow(l-p,2)/Math.pow(l+p,2);return Math.PI*(l+p)*(1+3*a/(10+Math.sqrt(4-3*a)))};v.exports=T},79522:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r,n){n===void 0&&(n=new l);var e=a.width/2,s=a.height/2;return n.x=a.x+e*Math.cos(r),n.y=a.y+s*Math.sin(r),n};v.exports=p},58102:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8497),p=function(a){return new l(a.x,a.y,a.width,a.height)};v.exports=p},81154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(t.width<=0||t.height<=0)return!1;var a=(l-t.x)/t.width,r=(p-t.y)/t.height;return a*=a,r*=r,a+r<.25};v.exports=T},46662:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81154),p=function(a,r){return l(a,r.x,r.y)};v.exports=p},1632:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81154),p=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};v.exports=p},65534:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};v.exports=T},8497:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(81154),a=t(90549),r=t(48320),n=t(23777),e=t(24820),s=new l({initialize:function(i,h,u,d){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=n.ELLIPSE,this.x=i,this.y=h,this.width=u,this.height=d},contains:function(o,i){return p(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,h){return r(this,o,i,h)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,h,u){return this.x=o,this.y=i,this.width=h,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},setSize:function(o,i){return i===void 0&&(i=o),this.width=o,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(o){this.x=o+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(o){this.y=o+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});v.exports=s},36146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};v.exports=T},23694:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};v.exports=p},90549:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79522),p=t(62945),a=t(36383),r=t(2141),n=function(e,s,o){o===void 0&&(o=new r);var i=p(s,0,a.PI2);return l(e,i,o)};v.exports=n},48320:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92990),p=t(79522),a=t(62945),r=t(36383),n=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=l(e)/o);for(var h=0;h<s;h++){var u=a(h/s,0,r.PI2);i.push(p(e,u))}return i};v.exports=n},73424:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t.x+=l,t.y+=p,t};v.exports=T},44808:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x+=l.x,t.y+=l.y,t};v.exports=T},24820:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){r===void 0&&(r=new l);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(n)*a.width/2,r.y=a.y+e*Math.sin(n)*a.height/2,r};v.exports=p},49203:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8497);l.Area=t(78874),l.Circumference=t(92990),l.CircumferencePoint=t(79522),l.Clone=t(58102),l.Contains=t(81154),l.ContainsPoint=t(46662),l.ContainsRect=t(1632),l.CopyFrom=t(65534),l.Equals=t(36146),l.GetBounds=t(23694),l.GetPoint=t(90549),l.GetPoints=t(48320),l.Offset=t(73424),l.OffsetPoint=t(44808),l.Random=t(24820),v.exports=l},55738:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23777),p=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=p(!1,a,l),v.exports=a},2044:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20339),p=function(a,r){return l(a.x,a.y,r.x,r.y)<=a.radius+r.radius};v.exports=p},81491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=l.width/2,a=l.height/2,r=Math.abs(t.x-l.x-p),n=Math.abs(t.y-l.y-a),e=p+t.radius,s=a+t.radius;if(r>e||n>s)return!1;if(r<=p||n<=a)return!0;var o=r-p,i=n-a,h=o*o,u=i*i,d=t.radius*t.radius;return h+u<=d};v.exports=T},63376:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=t(2044),a=function(r,n,e){if(e===void 0&&(e=[]),p(r,n)){var s=r.x,o=r.y,i=r.radius,h=n.x,u=n.y,d=n.radius,f,c,g,m,y;if(o===u)y=(d*d-i*i-h*h+s*s)/(2*(s-h)),f=1,c=-2*u,g=h*h+y*y-2*h*y+u*u-d*d,m=c*c-4*f*g,m===0?e.push(new l(y,-c/(2*f))):m>0&&(e.push(new l(y,(-c+Math.sqrt(m))/(2*f))),e.push(new l(y,(-c-Math.sqrt(m))/(2*f))));else{var x=(s-h)/(o-u),S=(d*d-i*i-h*h+s*s-u*u+o*o)/(2*(o-u));f=x*x+1,c=2*o*x-2*S*x-2*s,g=s*s+o*o+S*S-i*i-2*o*S,m=c*c-4*f*g,m===0?(y=-c/(2*f),e.push(new l(y,S-y*x))):m>0&&(y=(-c+Math.sqrt(m))/(2*f),e.push(new l(y,S-y*x)),y=(-c-Math.sqrt(m))/(2*f),e.push(new l(y,S-y*x)))}}return e};v.exports=a},97439:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4042),p=t(81491),a=function(r,n,e){if(e===void 0&&(e=[]),p(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC(),h=n.getLineD();l(s,r,e),l(o,r,e),l(i,r,e),l(h,r,e)}return e};v.exports=a},4042:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=t(80462),a=function(r,n,e){if(e===void 0&&(e=[]),p(r,n)){var s=r.x1,o=r.y1,i=r.x2,h=r.y2,u=n.x,d=n.y,f=n.radius,c=i-s,g=h-o,m=s-u,y=o-d,x=c*c+g*g,S=2*(c*m+g*y),C=m*m+y*y-f*f,A=S*S-4*x*C,F,M;if(A===0){var w=-S/(2*x);F=s+w*c,M=o+w*g,w>=0&&w<=1&&e.push(new l(F,M))}else if(A>0){var R=(-S-Math.sqrt(A))/(2*x);F=s+R*c,M=o+R*g,R>=0&&R<=1&&e.push(new l(F,M));var O=(-S+Math.sqrt(A))/(2*x);F=s+O*c,M=o+O*g,O>=0&&O<=1&&e.push(new l(F,M))}}return e};v.exports=a},36100:(v,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),p=function(a,r,n,e){n===void 0&&(n=!1);var s=a.x1,o=a.y1,i=a.x2,h=a.y2,u=r.x1,d=r.y1,f=r.x2,c=r.y2,g=i-s,m=h-o,y=f-u,x=c-d,S=g*x-m*y;if(S===0)return null;var C,A,F;if(n){if(C=(g*(d-o)+m*(s-u))/(y*m-x*g),g!==0)A=(u+y*C-s)/g;else if(m!==0)A=(d+x*C-o)/m;else return null;if(A<0||C<0||C>1)return null;F=A}else{if(C=((u-s)*x-(d-o)*y)/S,A=((o-d)*g-(s-u)*m)/S,C<0||C>1||A<0||A>1)return null;F=C}return e===void 0&&(e=new l),e.set(s+g*F,o+m*F,F)};v.exports=p},3073:(v,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36100),p=t(23031),a=t(25836),r=new p,n=new a,e=function(s,o,i,h){i===void 0&&(i=!1),h===void 0&&(h=new a);var u=!1;h.set(),n.set();for(var d=o[o.length-1],f=0;f<o.length;f++){var c=o[f];r.setTo(d.x,d.y,c.x,c.y),d=c,l(s,r,i,n)&&(!u||n.z<h.z)&&(h.copy(n),u=!0)}return u?h:null};v.exports=e},56362:(v,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),p=t(61369),a=t(3073),r=new l,n=function(e,s,o,i){i===void 0&&(i=new p),Array.isArray(s)||(s=[s]);var h=!1;i.set(),r.set();for(var u=0;u<s.length;u++)a(e,s[u].points,o,r)&&(!h||r.z<i.z)&&(i.set(r.x,r.y,r.z,u),h=!0);return h?i:null};v.exports=n},60646:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=t(76112),a=t(92773),r=function(n,e,s){if(s===void 0&&(s=[]),a(n,e))for(var o=e.getLineA(),i=e.getLineB(),h=e.getLineC(),u=e.getLineD(),d=[new l,new l,new l,new l],f=[p(o,n,d[0]),p(i,n,d[1]),p(h,n,d[2]),p(u,n,d[3])],c=0;c<4;c++)f[c]&&s.push(d[c]);return s};v.exports=r},71147:(v,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61369),p=t(56362),a=t(23031),r=new a;function n(o,i,h,u,d){var f=Math.cos(o),c=Math.sin(o);r.setTo(i,h,i+f,h+c);var g=p(r,u,!0);g&&d.push(new l(g.x,g.y,o,g.w))}function e(o,i){return o.z-i.z}var s=function(o,i,h){Array.isArray(h)||(h=[h]);for(var u=[],d=[],f=0;f<h.length;f++)for(var c=h[f].points,g=0;g<c.length;g++){var m=Math.atan2(c[g].y-i,c[g].x-o);d.indexOf(m)===-1&&(n(m,o,i,h,u),n(m-1e-5,o,i,h,u),n(m+1e-5,o,i,h,u),d.push(m))}return u.sort(e)};v.exports=s},68389:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=t(59996),a=function(r,n,e){return e===void 0&&(e=new l),p(r,n)&&(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y),e};v.exports=a},52784:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60646),p=t(59996),a=function(r,n,e){if(e===void 0&&(e=[]),p(r,n)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC(),h=r.getLineD();l(s,n,e),l(o,n,e),l(i,n,e),l(h,n,e)}return e};v.exports=a},26341:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89265),p=t(60646),a=function(r,n,e){if(e===void 0&&(e=[]),l(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();p(s,r,e),p(o,r,e),p(i,r,e)}return e};v.exports=a},38720:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4042),p=t(67636),a=function(r,n,e){if(e===void 0&&(e=[]),p(r,n)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();l(s,n,e),l(o,n,e),l(i,n,e)}return e};v.exports=a},13882:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=t(2822),a=t(76112),r=function(n,e,s){if(s===void 0&&(s=[]),p(n,e))for(var o=n.getLineA(),i=n.getLineB(),h=n.getLineC(),u=[new l,new l,new l],d=[a(o,e,u[0]),a(i,e,u[1]),a(h,e,u[2])],f=0;f<3;f++)d[f]&&s.push(u[f]);return s};v.exports=r},75636:(v,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82944),p=t(13882),a=function(r,n,e){if(e===void 0&&(e=[]),l(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();p(r,s,e),p(r,o,e),p(r,i,e)}return e};v.exports=a},80462:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),p=t(2141),a=new p,r=function(n,e,s){if(s===void 0&&(s=a),l(e,n.x1,n.y1))return s.x=n.x1,s.y=n.y1,!0;if(l(e,n.x2,n.y2))return s.x=n.x2,s.y=n.y2,!0;var o=n.x2-n.x1,i=n.y2-n.y1,h=e.x-n.x1,u=e.y-n.y1,d=o*o+i*i,f=o,c=i;if(d>0){var g=(h*o+u*i)/d;f*=g,c*=g}s.x=n.x1+f,s.y=n.y1+c;var m=f*f+c*c;return m<=d&&f*o+c*i>=0&&l(e,s.x,s.y)};v.exports=r},76112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=t.x1,r=t.y1,n=t.x2,e=t.y2,s=l.x1,o=l.y1,i=l.x2,h=l.y2;if(a===n&&r===e||s===i&&o===h)return!1;var u=(h-o)*(n-a)-(i-s)*(e-r);if(u===0)return!1;var d=((i-s)*(r-o)-(h-o)*(a-s))/u,f=((n-a)*(r-o)-(e-r)*(a-s))/u;return d<0||d>1||f<0||f>1?!1:(p&&(p.x=a+d*(n-a),p.y=r+d*(e-r)),!0)};v.exports=T},92773:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.x1,a=t.y1,r=t.x2,n=t.y2,e=l.x,s=l.y,o=l.right,i=l.bottom,h=0;if(p>=e&&p<=o&&a>=s&&a<=i||r>=e&&r<=o&&n>=s&&n<=i)return!0;if(p<e&&r>=e){if(h=a+(n-a)*(e-p)/(r-p),h>s&&h<=i)return!0}else if(p>o&&r<=o&&(h=a+(n-a)*(o-p)/(r-p),h>=s&&h<=i))return!0;if(a<s&&n>=s){if(h=p+(r-p)*(s-a)/(n-a),h>=e&&h<=o)return!0}else if(a>i&&n<=i&&(h=p+(r-p)*(i-a)/(n-a),h>=e&&h<=o))return!0;return!1};v.exports=T},16204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){p===void 0&&(p=1);var a=l.x1,r=l.y1,n=l.x2,e=l.y2,s=t.x,o=t.y,i=(n-a)*(n-a)+(e-r)*(e-r);if(i===0)return!1;var h=((s-a)*(n-a)+(o-r)*(e-r))/i;if(h<0)return Math.sqrt((a-s)*(a-s)+(r-o)*(r-o))<=p;if(h>=0&&h<=1){var u=((r-o)*(n-a)-(a-s)*(e-r))/i;return Math.abs(u)*Math.sqrt(i)<=p}else return Math.sqrt((n-s)*(n-s)+(e-o)*(e-o))<=p};v.exports=T},14199:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16204),p=function(a,r){if(!l(a,r))return!1;var n=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),o=Math.max(r.y1,r.y2);return a.x>=n&&a.x<=e&&a.y>=s&&a.y<=o};v.exports=p},59996:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.width<=0||t.height<=0||l.width<=0||l.height<=0?!1:!(t.right<l.x||t.bottom<l.y||t.x>l.right||t.y>l.bottom)};v.exports=T},89265:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76112),p=t(37303),a=t(48653),r=t(77493),n=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var o=s.getLineA(),i=s.getLineB(),h=s.getLineC();if(p(e,o.x1,o.y1)||p(e,o.x2,o.y2)||p(e,i.x1,i.y1)||p(e,i.x2,i.y2)||p(e,h.x1,h.y1)||p(e,h.x2,h.y2))return!0;var u=e.getLineA(),d=e.getLineB(),f=e.getLineC(),c=e.getLineD();if(l(o,u)||l(o,d)||l(o,f)||l(o,c)||l(i,u)||l(i,d)||l(i,f)||l(i,c)||l(h,u)||l(h,d)||l(h,f)||l(h,c))return!0;var g=r(e),m=a(s,g,!0);return m.length>0};v.exports=n},84411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r,n){return n===void 0&&(n=0),!(l>t.right+n||p<t.left-n||a>t.bottom+n||r<t.top-n)};v.exports=T},67636:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80462),p=t(10690),a=function(r,n){return r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top?!1:!!(p(r,n.x,n.y)||l(r.getLineA(),n)||l(r.getLineB(),n)||l(r.getLineC(),n))};v.exports=a},2822:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76112),p=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||l(a.getLineA(),r)||l(a.getLineB(),r)||l(a.getLineC(),r))};v.exports=p},82944:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48653),p=t(71694),a=t(76112),r=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var s=n.getLineA(),o=n.getLineB(),i=n.getLineC(),h=e.getLineA(),u=e.getLineB(),d=e.getLineC();if(a(s,h)||a(s,u)||a(s,d)||a(o,h)||a(o,u)||a(o,d)||a(i,h)||a(i,u)||a(i,d))return!0;var f=p(n),c=l(e,f,!0);return c.length>0||(f=p(e),c=l(n,f,!0),c.length>0)};v.exports=r},91865:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};v.exports=T},84993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){l===void 0&&(l=1),p===void 0&&(p=[]);var a=Math.round(t.x1),r=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(n-a),o=Math.abs(e-r),i=a<n?1:-1,h=r<e?1:-1,u=s-o;p.push({x:a,y:r});for(var d=1;!(a===n&&r===e);){var f=u<<1;f>-o&&(u-=o,a+=i),f<s&&(u+=s,r+=h),d%l===0&&p.push({x:a,y:r}),d++}return p};v.exports=T},36469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=l-(t.x1+t.x2)/2,r=p-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};v.exports=T},31116:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23031),p=function(a){return new l(a.x1,a.y1,a.x2,a.y2)};v.exports=p},59944:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2)};v.exports=T},59220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2};v.exports=T},78177:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),p=function(a,r,n){n===void 0&&(n=r);var e=l(a),s=a.x2-a.x1,o=a.y2-a.y1;return r&&(a.x1=a.x1-s/e*r,a.y1=a.y1-o/e*r),n&&(a.x2=a.x2+s/e*n,a.y2=a.y2+o/e*n),a};v.exports=p},26708:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52816),p=t(6113),a=t(2141),r=function(n,e,s,o,i){o===void 0&&(o=0),i===void 0&&(i=[]);var h=[],u=n.x1,d=n.y1,f=n.x2-u,c=n.y2-d,g=p(e,i),m,y,x=s-1;for(m=0;m<x;m++)y=g(m/x),h.push(new a(u+f*y,d+c*y));if(y=g(1),h.push(new a(u+f*y,d+c*y)),o>0){var S=h[0],C=[S];for(m=1;m<h.length-1;m++){var A=h[m];l(S,A)>=o&&(C.push(A),S=A)}var F=h[h.length-1];return l(S,F)<o&&C.pop(),C.push(F),C}else return h};v.exports=r},32125:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};v.exports=p},99569:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r,n){n===void 0&&(n=new l);var e=a.x1,s=a.y1,o=a.x2,i=a.y2,h=(o-e)*(o-e)+(i-s)*(i-s);if(h===0)return n;var u=((r.x-e)*(o-e)+(r.y-s)*(i-s))/h;return n.x=e+u*(o-e),n.y=s+u*(i-s),n};v.exports=p},34638:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=t(91938),a=t(2141),r=function(n,e){e===void 0&&(e=new a);var s=p(n)-l.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};v.exports=r},13151:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r,n){return n===void 0&&(n=new l),n.x=a.x1+(a.x2-a.x1)*r,n.y=a.y1+(a.y2-a.y1)*r,n};v.exports=p},15258:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),p=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=l(r)/e);for(var o=r.x1,i=r.y1,h=r.x2,u=r.y2,d=0;d<n;d++){var f=d/n,c=o+(h-o)*f,g=i+(u-i)*f;s.push(new p(c,g))}return s};v.exports=a},26408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.x1,a=t.y1,r=t.x2,n=t.y2,e=(r-p)*(r-p)+(n-a)*(n-a);if(e===0)return!1;var s=((a-l.y)*(r-p)-(p-l.x)*(n-a))/e;return Math.abs(s)*Math.sqrt(e)};v.exports=T},98770:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.abs(t.y1-t.y2)};v.exports=T},35001:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};v.exports=T},23031:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(13151),a=t(15258),r=t(23777),n=t(65822),e=t(26099),s=new l({initialize:function(i,h,u,d){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=r.LINE,this.x1=i,this.y1=h,this.x2=u,this.y2=d},getPoint:function(o,i){return p(this,o,i)},getPoints:function(o,i,h){return a(this,o,i,h)},getRandomPoint:function(o){return n(this,o)},setTo:function(o,i,h,u){return o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.x1=o,this.y1=i,this.x2=h,this.y2=u,this},setFromObjects:function(o,i){return this.x1=o.x,this.y1=o.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(o){return o===void 0&&(o=new e),o.set(this.x1,this.y1),o},getPointB:function(o){return o===void 0&&(o=new e),o.set(this.x2,this.y2),o},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(o){this.x1<=this.x2?this.x1=o:this.x2=o}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(o){this.x1>this.x2?this.x1=o:this.x2=o}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(o){this.y1<=this.y2?this.y1=o:this.y2=o}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(o){this.y1>this.y2?this.y1=o:this.y2=o}}});v.exports=s},64795:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=t(15994),a=t(91938),r=function(n){var e=a(n)-l.TAU;return p(e,-Math.PI,Math.PI)};v.exports=r},52616:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=t(91938),a=function(r){return Math.cos(p(r)-l.TAU)};v.exports=a},87231:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=t(91938),a=function(r){return Math.sin(p(r)-l.TAU)};v.exports=a},89662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t.x1+=l,t.y1+=p,t.x2+=l,t.y2+=p,t};v.exports=T},71165:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};v.exports=T},65822:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){r===void 0&&(r=new l);var n=Math.random();return r.x=a.x1+n*(a.x2-a.x1),r.y=a.y1+n*(a.y2-a.y1),r};v.exports=p},69777:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91938),p=t(64795),a=function(r,n){return 2*p(n)-Math.PI-l(r)};v.exports=a},39706:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64400),p=function(a,r){var n=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return l(a,n,e,r)};v.exports=p},82585:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64400),p=function(a,r,n){return l(a,r.x,r.y,n)};v.exports=p},64400:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-l,s=t.y1-p;return t.x1=e*r-s*n+l,t.y1=e*n+s*r+p,e=t.x2-l,s=t.y2-p,t.x2=e*r-s*n+l,t.y2=e*n+s*r+p,t};v.exports=T},62377:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){return t.x1=l,t.y1=p,t.x2=l+Math.cos(a)*r,t.y2=p+Math.sin(a)*r,t};v.exports=T},71366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};v.exports=T},10809:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.abs(t.x1-t.x2)};v.exports=T},2529:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23031);l.Angle=t(91938),l.BresenhamPoints=t(84993),l.CenterOn=t(36469),l.Clone=t(31116),l.CopyFrom=t(59944),l.Equals=t(59220),l.Extend=t(78177),l.GetEasedPoints=t(26708),l.GetMidPoint=t(32125),l.GetNearestPoint=t(99569),l.GetNormal=t(34638),l.GetPoint=t(13151),l.GetPoints=t(15258),l.GetShortestDistance=t(26408),l.Height=t(98770),l.Length=t(35001),l.NormalAngle=t(64795),l.NormalX=t(52616),l.NormalY=t(87231),l.Offset=t(89662),l.PerpSlope=t(71165),l.Random=t(65822),l.ReflectAngle=t(69777),l.Rotate=t(39706),l.RotateAroundPoint=t(82585),l.RotateAroundXY=t(64400),l.SetToAngle=t(62377),l.Slope=t(71366),l.Width=t(10809),v.exports=l},83997:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(87841),a=t(26099);function r(e,s,o,i){var h=e-o,u=s-i,d=h*h+u*u;return Math.sqrt(d)}var n=new l({initialize:function(s,o,i){this.vertex1=s,this.vertex2=o,this.vertex3=i,this.bounds=new p,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,o=this.vertex2,i=this.vertex3,h,u,d,f,c,g;e?(h=s.x,u=s.y,d=o.x,f=o.y,c=i.x,g=i.y):(h=s.vx,u=s.vy,d=o.vx,f=o.vy,c=i.vx,g=i.vy);var m=r(c,g,d,f),y=r(h,u,c,g),x=r(d,f,h,u),S=m+y+x;return this._inCenter.set((h*m+d*y+c*x)/S,(u*m+f*y+g*x)/S)},contains:function(e,s,o){var i=this.vertex1,h=this.vertex2,u=this.vertex3,d=i.vx,f=i.vy,c=h.vx,g=h.vy,m=u.vx,y=u.vy;if(o){var x=o.a,S=o.b,C=o.c,A=o.d,F=o.e,M=o.f;d=i.vx*x+i.vy*C+F,f=i.vx*S+i.vy*A+M,c=h.vx*x+h.vy*C+F,g=h.vx*S+h.vy*A+M,m=u.vx*x+u.vy*C+F,y=u.vx*S+u.vy*A+M}var w=m-d,R=y-f,O=c-d,U=g-f,X=e-d,W=s-f,Y=w*w+R*R,N=w*O+R*U,V=w*X+R*W,I=O*O+U*U,B=O*X+U*W,G=Y*I-N*N,H=G===0?0:1/G,$=(I*V-N*B)*H,Z=(Y*B-N*V)*H;return $>=0&&Z>=0&&$+Z<1},isCounterClockwise:function(e){var s=this.vertex1,o=this.vertex2,i=this.vertex3,h=(o.vx-s.vx)*(i.vy-s.vy)-(o.vy-s.vy)*(i.vx-s.vx);return e<=0?h>=0:h<0},load:function(e,s,o,i,h){return o=this.vertex1.load(e,s,o,i,h),o=this.vertex2.load(e,s,o,i,h),o=this.vertex3.load(e,s,o,i,h),o},transformCoordinatesLocal:function(e,s,o,i){return this.vertex1.transformCoordinatesLocal(e,s,o,i),this.vertex2.transformCoordinatesLocal(e,s,o,i),this.vertex3.transformCoordinatesLocal(e,s,o,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,o.vx),i.y=Math.min(e.vy,s.vy,o.vy),i.width=Math.max(e.vx,s.vx,o.vx)-i.x,i.height=Math.max(e.vy,s.vy,o.vy)-i.y,this},isInView:function(e,s,o,i,h,u,d,f,c,g,m){this.update(i,h,u,d,f,c,g,m);var y=this.vertex1,x=this.vertex2,S=this.vertex3;if(y.ta<=0&&x.ta<=0&&S.ta<=0||s&&!this.isCounterClockwise(o))return!1;var C=this.bounds;C.x=Math.min(y.tx,x.tx,S.tx),C.y=Math.min(y.ty,x.ty,S.ty),C.width=Math.max(y.tx,x.tx,S.tx)-C.x,C.height=Math.max(y.ty,x.ty,S.ty)-C.y;var A=e.x+e.width,F=e.y+e.height;return C.width<=0||C.height<=0||e.width<=0||e.height<=0?!1:!(C.right<e.x||C.bottom<e.y||C.x>A||C.y>F)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,o,i,h,u,d,f){return this.vertex1.update(s,o,i,h,u,d,f,e),this.vertex2.update(s,o,i,h,u,d,f,e),this.vertex3.update(s,o,i,h,u,d,f,e),this},translate:function(e,s){s===void 0&&(s=0);var o=this.vertex1,i=this.vertex2,h=this.vertex3;return o.x+=e,o.y+=s,i.x+=e,i.y+=s,h.x+=e,h.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.alpha+s.alpha+o.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.vz+s.vz+o.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});v.exports=n},48803:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),p=t(95540),a=t(37867),r=t(25836),n=t(39318),e=new r,s=new r,o=new a,i=function(h){var u=p(h,"mesh"),d=p(h,"texture",null),f=p(h,"frame"),c=p(h,"width",1),g=p(h,"height",c),m=p(h,"widthSegments",1),y=p(h,"heightSegments",m),x=p(h,"x",0),S=p(h,"y",0),C=p(h,"z",0),A=p(h,"rotateX",0),F=p(h,"rotateY",0),M=p(h,"rotateZ",0),w=p(h,"zIsUp",!0),R=p(h,"isOrtho",u?u.dirtyCache[11]:!1),O=p(h,"colors",[16777215]),U=p(h,"alphas",[1]),X=p(h,"tile",!1),W=p(h,"flipY",!1),Y=p(h,"width",null),N={faces:[],verts:[]};e.set(x,S,C),s.set(A,F,M),o.fromRotationXYTranslation(s,e,w);var V;if(!d&&u)d=u.texture,f||(V=u.frame);else if(u&&typeof d=="string")d=u.scene.sys.textures.get(d);else if(!d)return N;V||(V=d.get(f)),!Y&&R&&d&&u&&(c=V.width/u.height,g=V.height/u.height);var I=c/2,B=g/2,G=Math.floor(m),H=Math.floor(y),$=G+1,Z=H+1,Q=c/G,j=g/H,_=[],tt=[],et,rt,at=0,st=1,ct=0,vt=1;V&&(at=V.u0,st=V.u1,W?(ct=V.v1,vt=V.v0):(ct=V.v0,vt=V.v1));var pt=st-at,nt=vt-ct;for(rt=0;rt<Z;rt++){var ht=rt*j-B;for(et=0;et<$;et++){var lt=et*Q-I;tt.push(lt,-ht);var xt=at+pt*(et/G),Et=ct+nt*(rt/H);_.push(xt,Et)}}Array.isArray(O)||(O=[O]),Array.isArray(U)||(U=[U]);var Bt=0,Tt=0;for(rt=0;rt<H;rt++)for(et=0;et<G;et++){var St=(et+$*rt)*2,It=(et+$*(rt+1))*2,Ht=(et+1+$*(rt+1))*2,Lt=(et+1+$*rt)*2,Nt=O[Tt],zt=U[Bt],Jt=new n(tt[St],tt[St+1],0,_[St],_[St+1],Nt,zt).transformMat4(o),ve=new n(tt[It],tt[It+1],0,_[It],_[It+1],Nt,zt).transformMat4(o),pe=new n(tt[Lt],tt[Lt+1],0,_[Lt],_[Lt+1],Nt,zt).transformMat4(o),ge=new n(tt[It],tt[It+1],0,_[It],_[It+1],Nt,zt).transformMat4(o),me=new n(tt[Ht],tt[Ht+1],0,_[Ht],_[Ht+1],Nt,zt).transformMat4(o),ye=new n(tt[Lt],tt[Lt+1],0,_[Lt],_[Lt+1],Nt,zt).transformMat4(o);X&&(Jt.setUVs(at,vt),ve.setUVs(at,ct),pe.setUVs(st,vt),ge.setUVs(at,ct),me.setUVs(st,ct),ye.setUVs(st,vt)),Tt++,Tt===O.length&&(Tt=0),Bt++,Bt===U.length&&(Bt=0),N.verts.push(Jt,ve,pe,ge,me,ye),N.faces.push(new l(Jt,ve,pe),new l(ge,me,ye))}return u&&(u.faces=u.faces.concat(N.faces),u.vertices=u.vertices.concat(N.verts)),N};v.exports=i},34684:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),p=t(37867),a=t(25836),r=t(39318),n=new a,e=new a,s=new p,o=function(i,h,u,d,f,c,g,m,y,x){u===void 0&&(u=1),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=!0);var S={faces:[],verts:[]},C=i.materials;n.set(d,f,c),e.set(g,m,y),s.fromRotationXYTranslation(e,n,x);for(var A=0;A<i.models.length;A++)for(var F=i.models[A],M=F.vertices,w=F.textureCoords,R=F.faces,O=0;O<R.length;O++){var U=R[O],X=U.vertices[0],W=U.vertices[1],Y=U.vertices[2],N=M[X.vertexIndex],V=M[W.vertexIndex],I=M[Y.vertexIndex],B=X.textureCoordsIndex,G=W.textureCoordsIndex,H=Y.textureCoordsIndex,$=B===-1?{u:0,v:1}:w[B],Z=G===-1?{u:0,v:0}:w[G],Q=H===-1?{u:1,v:1}:w[H],j=16777215;U.material!==""&&C[U.material]&&(j=C[U.material]);var _=new r(N.x*u,N.y*u,N.z*u,$.u,$.v,j).transformMat4(s),tt=new r(V.x*u,V.y*u,V.z*u,Z.u,Z.v,j).transformMat4(s),et=new r(I.x*u,I.y*u,I.z*u,Q.u,Q.v,j).transformMat4(s);S.verts.push(_,tt,et),S.faces.push(new l(_,tt,et))}return h&&(h.faces=h.faces.concat(S.faces),h.vertices=h.vertices.concat(S.verts)),S};v.exports=o},92515:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),p=t(39318),a=function(r,n,e,s,o,i,h,u){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),h===void 0&&(h=1),u===void 0&&(u=!1),r.length!==n.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},f,c,g,m,y,x,S,C,A,F,M,w=s?3:2,R=Array.isArray(i),O=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(f=0;f<e.length;f++){var U=e[f],X=e[f]*2,W=e[f]*w;c=r[W],g=r[W+1],m=s?r[W+2]:0,y=n[X],x=n[X+1],u&&(x=1-x),S=R?i[U]:i,C=O?h[U]:h,A=0,F=0,M=0,o&&(A=o[W],F=o[W+1],M=s?o[W+2]:0),d.vertices.push(new p(c,g,m,y,x,S,C,A,F,M))}else{var Y=0,N=0;for(f=0;f<r.length;f+=w)c=r[f],g=r[f+1],m=s?r[f+2]:0,y=n[Y],x=n[Y+1],S=R?i[N]:i,C=O?h[N]:h,A=0,F=0,M=0,o&&(A=o[f],F=o[f+1],M=s?o[f+2]:0),d.vertices.push(new p(c,g,m,y,x,S,C,A,F,M)),Y+=2,N++}for(f=0;f<d.vertices.length;f+=3){var V=d.vertices[f],I=d.vertices[f+1],B=d.vertices[f+2];d.faces.push(new l(V,I,B))}return d};v.exports=a},85048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,t="untitled",l="",p="";function a(c){var g=c.indexOf("#");return g>-1?c.substring(0,g):c}function r(c){return c.models.length===0&&c.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),l="",c.models[c.models.length-1]}function n(c,g){var m=c.length>=2?c[1]:t;g.models.push({faces:[],name:m,textureCoords:[],vertexNormals:[],vertices:[]}),l=""}function e(c){c.length===2&&(l=c[1])}function s(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,x=m>=3?parseFloat(c[2]):0,S=m>=4?parseFloat(c[3]):0;r(g).vertices.push({x:y,y:x,z:S})}function o(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,x=m>=3?parseFloat(c[2]):0,S=m>=4?parseFloat(c[3]):0;isNaN(y)&&(y=0),isNaN(x)&&(x=0),isNaN(S)&&(S=0),T&&(x=1-x),r(g).textureCoords.push({u:y,v:x,w:S})}function i(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,x=m>=3?parseFloat(c[2]):0,S=m>=4?parseFloat(c[3]):0;r(g).vertexNormals.push({x:y,y:x,z:S})}function h(c,g){var m=c.length-1;if(!(m<3)){for(var y={group:l,material:p,vertices:[]},x=0;x<m;x++){var S=c[x+1],C=S.split("/"),A=C.length;if(!(A<1||A>3)){var F=0,M=0,w=0;F=parseInt(C[0],10),A>1&&C[1]!==""&&(M=parseInt(C[1],10)),A>2&&(w=parseInt(C[2],10)),F!==0&&(F<0&&(F=r(g).vertices.length+1+F),M-=1,F-=1,w-=1,y.vertices.push({textureCoordsIndex:M,vertexIndex:F,vertexNormalIndex:w}))}}r(g).faces.push(y)}}function u(c,g){c.length>=2&&g.materialLibraries.push(c[1])}function d(c){c.length>=2&&(p=c[1])}var f=function(c,g){g===void 0&&(g=!0),T=g;var m={materials:{},materialLibraries:[],models:[]};l="",p="";for(var y=c.split(`
`),x=0;x<y.length;x++){var S=a(y[x]),C=S.replace(/\s\s+/g," ").trim().split(" ");switch(C[0].toLowerCase()){case"o":n(C,m);break;case"g":e(C);break;case"v":s(C,m);break;case"vt":o(C,m);break;case"vn":i(C,m);break;case"f":h(C,m);break;case"mtllib":u(C,m);break;case"usemtl":d(C);break}}return m};v.exports=f},61485:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589),p=function(a){for(var r={},n=a.split(`
`),e="",s=0;s<n.length;s++){var o=n[s].trim();if(!(o.indexOf("#")===0||o==="")){var i=o.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var h=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):h,d=i.length>=3?Math.floor(i[3]*255):h;r[e]=l(h,u,d);break}}}}return r};v.exports=p},92570:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r,n;if(p===void 0&&a===void 0){var e=t.getInCenter();r=e.x,n=e.y}var s=Math.cos(l),o=Math.sin(l),i=t.vertex1,h=t.vertex2,u=t.vertex3,d=i.x-r,f=i.y-n;i.set(d*s-f*o+r,d*o+f*s+n),d=h.x-r,f=h.y-n,h.set(d*s-f*o+r,d*o+f*s+n),d=u.x-r,f=u.y-n,u.set(d*s-f*o+r,d*o+f*s+n)};v.exports=T},39318:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(70554),a=t(25836),r=new l({Extends:a,initialize:function(e,s,o,i,h,u,d,f,c,g){u===void 0&&(u=16777215),d===void 0&&(d=1),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),a.call(this,e,s,o),this.vx=0,this.vy=0,this.vz=0,this.nx=f,this.ny=c,this.nz=g,this.u=i,this.v=h,this.color=u,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=h},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,s,o){var i=this.x,h=this.y,u=this.z,d=n.val,f=i*d[0]+h*d[4]+u*d[8]+d[12],c=i*d[1]+h*d[5]+u*d[9]+d[13],g=i*d[2]+h*d[6]+u*d[10]+d[14],m=i*d[3]+h*d[7]+u*d[11]+d[15];this.vx=f/m*e,this.vy=-(c/m)*s,o<=0?this.vz=g/m:this.vz=-(g/m)},resize:function(n,e,s,o,i,h){return this.x=n,this.y=e,this.vx=this.x*s,this.vy=-this.y*o,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),h<.5?this.vy+=o*(.5-h):h>.5&&(this.vy-=o*(h-.5)),this},update:function(n,e,s,o,i,h,u,d){var f=this.vx*n+this.vy*s+i,c=this.vx*e+this.vy*o+h;return u&&(f=Math.round(f),c=Math.round(c)),this.tx=f,this.ty=c,this.ta=this.alpha*d,this},load:function(n,e,s,o,i){return n[++s]=this.tx,n[++s]=this.ty,n[++s]=this.tu,n[++s]=this.tv,n[++s]=o,n[++s]=i,e[++s]=p.getTintAppendFloatAlpha(this.color,this.ta),s}});v.exports=r},73090:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};v.exports=l},96550:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};v.exports=T},99706:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a){return new l(a.x,a.y)};v.exports=p},68010:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.setTo(t.x,t.y)};v.exports=T},27814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x===l.x&&t.y===l.y};v.exports=T},73565:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};v.exports=T},87555:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){if(r===void 0&&(r=new l),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var n=a.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<n;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=n,r.y/=n}return r};v.exports=p},28793:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};v.exports=T},44405:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x*t.x+t.y*t.y};v.exports=T},20873:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=function(a,r){r===void 0&&(r=new l);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var h=a[i];h.x>n&&(n=h.x),h.x<e&&(e=h.x),h.y>s&&(s=h.y),h.y<o&&(o=h.y)}return r.x=e,r.y=o,r.width=n-e,r.height=s-o,r};v.exports=p},26152:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r,n,e){return n===void 0&&(n=0),e===void 0&&(e=new l),e.x=a.x+(r.x-a.x)*n,e.y=a.y+(r.y-a.y)*n,e};v.exports=p},55767:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.setTo(t.y,t.x)};v.exports=T},79432:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){return r===void 0&&(r=new l),r.setTo(-a.x,-a.y)};v.exports=p},2141:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23777),a=new l({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=p.POINT,this.x=n,this.y=e},setTo:function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this}});v.exports=a},72930:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=t(44405),a=function(r,n,e){e===void 0&&(e=new l);var s=r.x*n.x+r.y*n.y,o=s/p(n);return o!==0&&(e.x=o*n.x,e.y=o*n.y),e};v.exports=a},62880:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r,n){n===void 0&&(n=new l);var e=a.x*r.x+a.y*r.y;return e!==0&&(n.x=e*r.x,n.y=e*r.y),n};v.exports=p},15093:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28793),p=function(a,r){if(a.x!==0||a.y!==0){var n=l(a);a.x/=n,a.y/=n}return a.x*=r,a.y*=r,a};v.exports=p},43711:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141);l.Ceil=t(96550),l.Clone=t(99706),l.CopyFrom=t(68010),l.Equals=t(27814),l.Floor=t(73565),l.GetCentroid=t(87555),l.GetMagnitude=t(28793),l.GetMagnitudeSq=t(44405),l.GetRectangleFromPoints=t(20873),l.Interpolate=t(26152),l.Invert=t(55767),l.Negative=t(79432),l.Project=t(72930),l.ProjectUnit=t(62880),l.SetMagnitude=t(15093),v.exports=l},12306:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25717),p=function(a){return new l(a.points)};v.exports=p},63814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){for(var a=!1,r=-1,n=t.points.length-1;++r<t.points.length;n=r){var e=t.points[r].x,s=t.points[r].y,o=t.points[n].x,i=t.points[n].y;(s<=p&&p<i||i<=p&&p<s)&&l<(o-e)*(p-s)/(i-s)+e&&(a=!a)}return a};v.exports=T},99338:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63814),p=function(a,r){return l(a,r.x,r.y)};v.exports=p},94811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(N,V,I){I=I||2;var B=V&&V.length,G=B?V[0]*I:N.length,H=t(N,0,G,I,!0),$=[];if(!H||H.next===H.prev)return $;var Z,Q,j,_,tt,et,rt;if(B&&(H=s(N,V,H,I)),N.length>80*I){Z=j=N[0],Q=_=N[1];for(var at=I;at<G;at+=I)tt=N[at],et=N[at+1],tt<Z&&(Z=tt),et<Q&&(Q=et),tt>j&&(j=tt),et>_&&(_=et);rt=Math.max(j-Z,_-Q),rt=rt!==0?32767/rt:0}return p(H,$,I,Z,Q,rt,0),$}function t(N,V,I,B,G){var H,$;if(G===Y(N,V,I,B)>0)for(H=V;H<I;H+=B)$=U(H,N[H],N[H+1],$);else for(H=I-B;H>=V;H-=B)$=U(H,N[H],N[H+1],$);return $&&S($,$.next)&&(X($),$=$.next),$}function l(N,V){if(!N)return N;V||(V=N);var I=N,B;do if(B=!1,!I.steiner&&(S(I,I.next)||x(I.prev,I,I.next)===0)){if(X(I),I=V=I.prev,I===I.next)break;B=!0}else I=I.next;while(B||I!==V);return V}function p(N,V,I,B,G,H,$){if(N){!$&&H&&d(N,B,G,H);for(var Z=N,Q,j;N.prev!==N.next;){if(Q=N.prev,j=N.next,H?r(N,B,G,H):a(N)){V.push(Q.i/I|0),V.push(N.i/I|0),V.push(j.i/I|0),X(N),N=j.next,Z=j.next;continue}if(N=j,N===Z){$?$===1?(N=n(l(N),V,I),p(N,V,I,B,G,H,2)):$===2&&e(N,V,I,B,G,H):p(l(N),V,I,B,G,H,1);break}}}}function a(N){var V=N.prev,I=N,B=N.next;if(x(V,I,B)>=0)return!1;for(var G=V.x,H=I.x,$=B.x,Z=V.y,Q=I.y,j=B.y,_=G<H?G<$?G:$:H<$?H:$,tt=Z<Q?Z<j?Z:j:Q<j?Q:j,et=G>H?G>$?G:$:H>$?H:$,rt=Z>Q?Z>j?Z:j:Q>j?Q:j,at=B.next;at!==V;){if(at.x>=_&&at.x<=et&&at.y>=tt&&at.y<=rt&&m(G,Z,H,Q,$,j,at.x,at.y)&&x(at.prev,at,at.next)>=0)return!1;at=at.next}return!0}function r(N,V,I,B){var G=N.prev,H=N,$=N.next;if(x(G,H,$)>=0)return!1;for(var Z=G.x,Q=H.x,j=$.x,_=G.y,tt=H.y,et=$.y,rt=Z<Q?Z<j?Z:j:Q<j?Q:j,at=_<tt?_<et?_:et:tt<et?tt:et,st=Z>Q?Z>j?Z:j:Q>j?Q:j,ct=_>tt?_>et?_:et:tt>et?tt:et,vt=c(rt,at,V,I,B),pt=c(st,ct,V,I,B),nt=N.prevZ,ht=N.nextZ;nt&&nt.z>=vt&&ht&&ht.z<=pt;){if(nt.x>=rt&&nt.x<=st&&nt.y>=at&&nt.y<=ct&&nt!==G&&nt!==$&&m(Z,_,Q,tt,j,et,nt.x,nt.y)&&x(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,ht.x>=rt&&ht.x<=st&&ht.y>=at&&ht.y<=ct&&ht!==G&&ht!==$&&m(Z,_,Q,tt,j,et,ht.x,ht.y)&&x(ht.prev,ht,ht.next)>=0))return!1;ht=ht.nextZ}for(;nt&&nt.z>=vt;){if(nt.x>=rt&&nt.x<=st&&nt.y>=at&&nt.y<=ct&&nt!==G&&nt!==$&&m(Z,_,Q,tt,j,et,nt.x,nt.y)&&x(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;ht&&ht.z<=pt;){if(ht.x>=rt&&ht.x<=st&&ht.y>=at&&ht.y<=ct&&ht!==G&&ht!==$&&m(Z,_,Q,tt,j,et,ht.x,ht.y)&&x(ht.prev,ht,ht.next)>=0)return!1;ht=ht.nextZ}return!0}function n(N,V,I){var B=N;do{var G=B.prev,H=B.next.next;!S(G,H)&&C(G,B,B.next,H)&&w(G,H)&&w(H,G)&&(V.push(G.i/I|0),V.push(B.i/I|0),V.push(H.i/I|0),X(B),X(B.next),B=N=H),B=B.next}while(B!==N);return l(B)}function e(N,V,I,B,G,H){var $=N;do{for(var Z=$.next.next;Z!==$.prev;){if($.i!==Z.i&&y($,Z)){var Q=O($,Z);$=l($,$.next),Q=l(Q,Q.next),p($,V,I,B,G,H,0),p(Q,V,I,B,G,H,0);return}Z=Z.next}$=$.next}while($!==N)}function s(N,V,I,B){var G=[],H,$,Z,Q,j;for(H=0,$=V.length;H<$;H++)Z=V[H]*B,Q=H<$-1?V[H+1]*B:N.length,j=t(N,Z,Q,B,!1),j===j.next&&(j.steiner=!0),G.push(g(j));for(G.sort(o),H=0;H<G.length;H++)I=i(G[H],I);return I}function o(N,V){return N.x-V.x}function i(N,V){var I=h(N,V);if(!I)return V;var B=O(I,N);return l(B,B.next),l(I,I.next)}function h(N,V){var I=V,B=N.x,G=N.y,H=-1/0,$;do{if(G<=I.y&&G>=I.next.y&&I.next.y!==I.y){var Z=I.x+(G-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(Z<=B&&Z>H&&(H=Z,$=I.x<I.next.x?I:I.next,Z===B))return $}I=I.next}while(I!==V);if(!$)return null;var Q=$,j=$.x,_=$.y,tt=1/0,et;I=$;do B>=I.x&&I.x>=j&&B!==I.x&&m(G<_?B:H,G,j,_,G<_?H:B,G,I.x,I.y)&&(et=Math.abs(G-I.y)/(B-I.x),w(I,N)&&(et<tt||et===tt&&(I.x>$.x||I.x===$.x&&u($,I)))&&($=I,tt=et)),I=I.next;while(I!==Q);return $}function u(N,V){return x(N.prev,N,V.prev)<0&&x(V.next,N,N.next)<0}function d(N,V,I,B){var G=N;do G.z===0&&(G.z=c(G.x,G.y,V,I,B)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==N);G.prevZ.nextZ=null,G.prevZ=null,f(G)}function f(N){var V,I,B,G,H,$,Z,Q,j=1;do{for(I=N,N=null,H=null,$=0;I;){for($++,B=I,Z=0,V=0;V<j&&(Z++,B=B.nextZ,!!B);V++);for(Q=j;Z>0||Q>0&&B;)Z!==0&&(Q===0||!B||I.z<=B.z)?(G=I,I=I.nextZ,Z--):(G=B,B=B.nextZ,Q--),H?H.nextZ=G:N=G,G.prevZ=H,H=G;I=B}H.nextZ=null,j*=2}while($>1);return N}function c(N,V,I,B,G){return N=(N-I)*G|0,V=(V-B)*G|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,N|V<<1}function g(N){var V=N,I=N;do(V.x<I.x||V.x===I.x&&V.y<I.y)&&(I=V),V=V.next;while(V!==N);return I}function m(N,V,I,B,G,H,$,Z){return(G-$)*(V-Z)>=(N-$)*(H-Z)&&(N-$)*(B-Z)>=(I-$)*(V-Z)&&(I-$)*(H-Z)>=(G-$)*(B-Z)}function y(N,V){return N.next.i!==V.i&&N.prev.i!==V.i&&!M(N,V)&&(w(N,V)&&w(V,N)&&R(N,V)&&(x(N.prev,N,V.prev)||x(N,V.prev,V))||S(N,V)&&x(N.prev,N,N.next)>0&&x(V.prev,V,V.next)>0)}function x(N,V,I){return(V.y-N.y)*(I.x-V.x)-(V.x-N.x)*(I.y-V.y)}function S(N,V){return N.x===V.x&&N.y===V.y}function C(N,V,I,B){var G=F(x(N,V,I)),H=F(x(N,V,B)),$=F(x(I,B,N)),Z=F(x(I,B,V));return!!(G!==H&&$!==Z||G===0&&A(N,I,V)||H===0&&A(N,B,V)||$===0&&A(I,N,B)||Z===0&&A(I,V,B))}function A(N,V,I){return V.x<=Math.max(N.x,I.x)&&V.x>=Math.min(N.x,I.x)&&V.y<=Math.max(N.y,I.y)&&V.y>=Math.min(N.y,I.y)}function F(N){return N>0?1:N<0?-1:0}function M(N,V){var I=N;do{if(I.i!==N.i&&I.next.i!==N.i&&I.i!==V.i&&I.next.i!==V.i&&C(I,I.next,N,V))return!0;I=I.next}while(I!==N);return!1}function w(N,V){return x(N.prev,N,N.next)<0?x(N,V,N.next)>=0&&x(N,N.prev,V)>=0:x(N,V,N.prev)<0||x(N,N.next,V)<0}function R(N,V){var I=N,B=!1,G=(N.x+V.x)/2,H=(N.y+V.y)/2;do I.y>H!=I.next.y>H&&I.next.y!==I.y&&G<(I.next.x-I.x)*(H-I.y)/(I.next.y-I.y)+I.x&&(B=!B),I=I.next;while(I!==N);return B}function O(N,V){var I=new W(N.i,N.x,N.y),B=new W(V.i,V.x,V.y),G=N.next,H=V.prev;return N.next=V,V.prev=N,I.next=G,G.prev=I,B.next=I,I.prev=B,H.next=B,B.prev=H,B}function U(N,V,I,B){var G=new W(N,V,I);return B?(G.next=B.next,G.prev=B,B.next.prev=G,B.next=G):(G.prev=G,G.next=G),G}function X(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function W(N,V,I){this.i=N,this.x=V,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(N,V,I,B){var G=V&&V.length,H=G?V[0]*I:N.length,$=Math.abs(Y(N,0,H,I));if(G)for(var Z=0,Q=V.length;Z<Q;Z++){var j=V[Z]*I,_=Z<Q-1?V[Z+1]*I:N.length;$-=Math.abs(Y(N,j,_,I))}var tt=0;for(Z=0;Z<B.length;Z+=3){var et=B[Z]*I,rt=B[Z+1]*I,at=B[Z+2]*I;tt+=Math.abs((N[et]-N[at])*(N[rt+1]-N[et+1])-(N[et]-N[rt])*(N[at+1]-N[et+1]))}return $===0&&tt===0?0:Math.abs((tt-$)/$)};function Y(N,V,I,B){for(var G=0,H=V,$=I-B;H<I;H+=B)G+=(N[$]-N[H])*(N[H+1]+N[$+1]),$=H;return G}T.flatten=function(N){for(var V=N[0][0].length,I={vertices:[],holes:[],dimensions:V},B=0,G=0;G<N.length;G++){for(var H=0;H<N[G].length;H++)for(var $=0;$<V;$++)I.vertices.push(N[G][H][$]);G>0&&(B+=N[G-1].length,I.holes.push(B))}return I},v.exports=T},13829:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=function(a,r){r===void 0&&(r=new l);for(var n=1/0,e=1/0,s=-n,o=-e,i,h=0;h<a.points.length;h++)i=a.points[h],n=Math.min(n,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),o=Math.max(o,i.y);return r.x=n,r.y=e,r.width=s-n,r.height=o-e,r};v.exports=p},26173:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=[]);for(var p=0;p<t.points.length;p++)l.push(t.points[p].x),l.push(t.points[p].y);return l};v.exports=T},9564:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),p=t(23031),a=t(30052),r=function(n,e,s,o){o===void 0&&(o=[]);var i=n.points,h=a(n);!e&&s>0&&(e=h/s);for(var u=0;u<e;u++)for(var d=h*(u/e),f=0,c=0;c<i.length;c++){var g=i[c],m=i[(c+1)%i.length],y=new p(g.x,g.y,m.x,m.y),x=l(y);if(d<f||d>f+x){f+=x;continue}var S=y.getPoint((d-f)/x);o.push(S);break}return o};v.exports=r},30052:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),p=t(23031),a=function(r){for(var n=r.points,e=0,s=0;s<n.length;s++){var o=n[s],i=n[(s+1)%n.length],h=new p(o.x,o.y,i.x,i.y);e+=l(h)}return e};v.exports=a},25717:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(63814),a=t(9564),r=t(23777),n=new l({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return p(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,o=0;o<e.length;o++)s={x:0,y:0},typeof e[o]=="number"||typeof e[o]=="string"?(s.x=parseFloat(e[o]),s.y=parseFloat(e[o+1]),o++):Array.isArray(e[o])?(s.x=e[o][0],s.y=e[o][1]):(s.x=e[o].x,s.y=e[o].y),this.points.push(s);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,o,i=0;i<this.points.length-1;i++)s=this.points[i],o=this.points[i+1],e+=(o.x-s.x)*(s.y+o.y);return s=this.points[0],o=this.points[this.points.length-1],e+=(s.x-o.x)*(o.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,o){return a(this,e,s,o)}});v.exports=n},8133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.points.reverse(),t};v.exports=T},29524:v=>{function T(n,e){var s=n.x-e.x,o=n.y-e.y;return s*s+o*o}function t(n,e,s){var o=e.x,i=e.y,h=s.x-o,u=s.y-i;if(h!==0||u!==0){var d=((n.x-o)*h+(n.y-i)*u)/(h*h+u*u);d>1?(o=s.x,i=s.y):d>0&&(o+=h*d,i+=u*d)}return h=n.x-o,u=n.y-i,h*h+u*u}function l(n,e){for(var s=n[0],o=[s],i,h=1,u=n.length;h<u;h++)i=n[h],T(i,s)>e&&(o.push(i),s=i);return s!==i&&o.push(i),o}function p(n,e,s,o,i){for(var h=o,u,d=e+1;d<s;d++){var f=t(n[d],n[e],n[s]);f>h&&(u=d,h=f)}h>o&&(u-e>1&&p(n,e,u,o,i),i.push(n[u]),s-u>1&&p(n,u,s,o,i))}function a(n,e){var s=n.length-1,o=[n[0]];return p(n,0,s,e,o),o.push(n[s]),o}var r=function(n,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var o=n.points;if(o.length>2){var i=e*e;s||(o=l(o,i)),n.setTo(a(o,i))}return n};v.exports=r},5469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(l,p){return l[0]=p[0],l[1]=p[1],l},t=function(l){var p,a=[],r=l.points;for(p=0;p<r.length;p++)a.push([r[p].x,r[p].y]);var n=[];for(a.length>0&&n.push(T([0,0],a[0])),p=0;p<a.length-1;p++){var e=a[p],s=a[p+1],o=e[0],i=e[1],h=s[0],u=s[1];n.push([.85*o+.15*h,.85*i+.15*u]),n.push([.15*o+.85*h,.15*i+.85*u])}return a.length>1&&n.push(T([0,0],a[a.length-1])),l.setTo(n)};v.exports=t},24709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=l,a[r].y+=p;return t};v.exports=T},58423:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25717);l.Clone=t(12306),l.Contains=t(63814),l.ContainsPoint=t(99338),l.Earcut=t(94811),l.GetAABB=t(13829),l.GetNumberArray=t(26173),l.GetPoints=t(9564),l.Perimeter=t(30052),l.Reverse=t(8133),l.Simplify=t(29524),l.Smooth=t(5469),l.Translate=t(24709),v.exports=l},62224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.width*t.height};v.exports=T},98615:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};v.exports=T},31688:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};v.exports=T},67502:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t.x=l-t.width/2,t.y=p-t.height/2,t};v.exports=T},65085:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=function(a){return new l(a.x,a.y,a.width,a.height)};v.exports=p},37303:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t.width<=0||t.height<=0?!1:t.x<=l&&t.x+t.width>=l&&t.y<=p&&t.y+t.height>=p};v.exports=T},96553:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37303),p=function(a,r){return l(a,r.x,r.y)};v.exports=p},70273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.width*l.height>t.width*t.height?!1:l.x>t.x&&l.x<t.right&&l.right>t.x&&l.right<t.right&&l.y>t.y&&l.y<t.bottom&&l.bottom>t.y&&l.bottom<t.bottom};v.exports=T},43459:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};v.exports=T},77493:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x,y:t.y}),l.push({x:t.right,y:t.y}),l.push({x:t.right,y:t.bottom}),l.push({x:t.x,y:t.bottom}),l};v.exports=T},9219:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};v.exports=T},53751:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8249),p=function(a,r){var n=l(a);return n<l(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};v.exports=p},16088:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8249),p=function(a,r){var n=l(a);return n>l(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};v.exports=p},80774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};v.exports=T},83859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};v.exports=T},19217:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=t(36383),a=function(r,n){if(n===void 0&&(n=new l),r.length===0)return n;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,o=p.MIN_SAFE_INTEGER,i=p.MIN_SAFE_INTEGER,h,u,d,f=0;f<r.length;f++)h=r[f],Array.isArray(h)?(u=h[0],d=h[1]):(u=h.x,d=h.y),e=Math.min(e,u),s=Math.min(s,d),o=Math.max(o,u),i=Math.max(i,d);return n.x=e,n.y=s,n.width=o-e,n.height=i-s,n};v.exports=a},9477:(v,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=function(a,r,n,e,s){return s===void 0&&(s=new l),s.setTo(Math.min(a,n),Math.min(r,e),Math.abs(a-n),Math.abs(r-e))};v.exports=p},8249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.height===0?NaN:t.width/t.height};v.exports=T},27165:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){return r===void 0&&(r=new l),r.x=a.centerX,r.y=a.centerY,r};v.exports=p},20812:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13019),p=t(2141),a=function(r,n,e){if(e===void 0&&(e=new p),n<=0||n>=1)return e.x=r.x,e.y=r.y,e;var s=l(r)*n;return n>.5?(s-=r.width+r.height,s<=r.width?(e.x=r.right-s,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(s-r.width))):s<=r.width?(e.x=r.x+s,e.y=r.y):(e.x=r.right,e.y=r.y+(s-r.width)),e};v.exports=a},34819:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20812),p=t(13019),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=p(r)/e);for(var o=0;o<n;o++){var i=o/n;s.push(l(r,i))}return s};v.exports=a},51313:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){return r===void 0&&(r=new l),r.x=a.width,r.y=a.height,r};v.exports=p},86091:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67502),p=function(a,r,n){var e=a.centerX,s=a.centerY;return a.setSize(a.width+r*2,a.height+n*2),l(a,e,s)};v.exports=p},53951:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=t(59996),a=function(r,n,e){return e===void 0&&(e=new l),p(r,n)?(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y):e.setEmpty(),e};v.exports=a},14649:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13019),p=t(2141),a=function(r,n,e,s){if(s===void 0&&(s=[]),!n&&!e)return s;n?e=Math.round(l(r)/n):n=l(r)/e;for(var o=r.x,i=r.y,h=0,u=0;u<e;u++)switch(s.push(new p(o,i)),h){case 0:o+=n,o>=r.right&&(h=1,i+=o-r.right,o=r.right);break;case 1:i+=n,i>=r.bottom&&(h=2,o-=i-r.bottom,i=r.bottom);break;case 2:o-=n,o<=r.left&&(h=3,i-=r.left-o,o=r.left);break;case 3:i-=n,i<=r.top&&(h=0,i=r.top);break}return s};v.exports=a},33595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){for(var p=t.x,a=t.right,r=t.y,n=t.bottom,e=0;e<l.length;e++)p=Math.min(p,l[e].x),a=Math.max(a,l[e].x),r=Math.min(r,l[e].y),n=Math.max(n,l[e].y);return t.x=p,t.y=r,t.width=a-p,t.height=n-r,t};v.exports=T},20074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=Math.min(t.x,l.x),a=Math.max(t.right,l.right);t.x=p,t.width=a-p;var r=Math.min(t.y,l.y),n=Math.max(t.bottom,l.bottom);return t.y=r,t.height=n-r,t};v.exports=T},92171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=Math.min(t.x,l),r=Math.max(t.right,l);t.x=a,t.width=r-a;var n=Math.min(t.y,p),e=Math.max(t.bottom,p);return t.y=n,t.height=e-n,t};v.exports=T},42981:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t.x+=l,t.y+=p,t};v.exports=T},46907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x+=l.x,t.y+=l.y,t};v.exports=T},60170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x<l.right&&t.right>l.x&&t.y<l.bottom&&t.bottom>l.y};v.exports=T},13019:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 2*(t.width+t.height)};v.exports=T},85133:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=t(39506),a=function(r,n,e){e===void 0&&(e=new l),n=p(n);var s=Math.sin(n),o=Math.cos(n),i=o>0?r.width/2:r.width/-2,h=s>0?r.height/2:r.height/-2;return Math.abs(i*s)<Math.abs(h*o)?h=i*s/o:i=h*o/s,e.x=i+r.centerX,e.y=h+r.centerY,e};v.exports=a},26597:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){return r===void 0&&(r=new l),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};v.exports=p},86470:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),p=t(70273),a=t(2141),r=function(n,e,s){if(s===void 0&&(s=new a),p(n,e))switch(l(0,3)){case 0:s.x=n.x+Math.random()*(e.right-n.x),s.y=n.y+Math.random()*(e.top-n.y);break;case 1:s.x=e.x+Math.random()*(n.right-e.x),s.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:s.x=n.x+Math.random()*(e.x-n.x),s.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(n.right-e.right),s.y=n.y+Math.random()*(e.bottom-n.y);break}return s};v.exports=r},87841:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(37303),a=t(20812),r=t(34819),n=t(23777),e=t(23031),s=t(26597),o=new l({initialize:function(h,u,d,f){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),this.type=n.RECTANGLE,this.x=h,this.y=u,this.width=d,this.height=f},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return a(this,i,h)},getPoints:function(i,h,u){return r(this,i,h,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,h,u,d){return this.x=i,this.y=h,this.width=u,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,h){return h===void 0&&(h=i),this.x=i,this.y=h,this},setSize:function(i,h){return h===void 0&&(h=i),this.width=i,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});v.exports=o},94845:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.width===l.width&&t.height===l.height};v.exports=T},31730:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return p===void 0&&(p=l),t.width*=l,t.height*=p,t};v.exports=T},36899:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=function(a,r,n){n===void 0&&(n=new l);var e=Math.min(a.x,r.x),s=Math.min(a.y,r.y),o=Math.max(a.right,r.right)-e,i=Math.max(a.bottom,r.bottom)-s;return n.setTo(e,s,o,i)};v.exports=p},93232:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841);l.Area=t(62224),l.Ceil=t(98615),l.CeilAll=t(31688),l.CenterOn=t(67502),l.Clone=t(65085),l.Contains=t(37303),l.ContainsPoint=t(96553),l.ContainsRect=t(70273),l.CopyFrom=t(43459),l.Decompose=t(77493),l.Equals=t(9219),l.FitInside=t(53751),l.FitOutside=t(16088),l.Floor=t(80774),l.FloorAll=t(83859),l.FromPoints=t(19217),l.FromXY=t(9477),l.GetAspectRatio=t(8249),l.GetCenter=t(27165),l.GetPoint=t(20812),l.GetPoints=t(34819),l.GetSize=t(51313),l.Inflate=t(86091),l.Intersection=t(53951),l.MarchingAnts=t(14649),l.MergePoints=t(33595),l.MergeRect=t(20074),l.MergeXY=t(92171),l.Offset=t(42981),l.OffsetPoint=t(46907),l.Overlaps=t(60170),l.Perimeter=t(13019),l.PerimeterPoint=t(85133),l.Random=t(26597),l.RandomOutside=t(86470),l.SameDimensions=t(94845),l.Scale=t(31730),l.Union=t(36899),v.exports=l},41658:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=t.x1,p=t.y1,a=t.x2,r=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-l)*(r-p)-(a-l)*(e-p))/2)};v.exports=T},39208:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),p=function(a,r,n){var e=n*(Math.sqrt(3)/2),s=a,o=r,i=a+n/2,h=r+e,u=a-n/2,d=r+e;return new l(s,o,i,h,u,d)};v.exports=p},39545:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94811),p=t(16483),a=function(r,n,e,s,o){n===void 0&&(n=null),e===void 0&&(e=1),s===void 0&&(s=1),o===void 0&&(o=[]);for(var i=l(r,n),h,u,d,f,c,g,m,y,x,S=0;S<i.length;S+=3)h=i[S],u=i[S+1],d=i[S+2],f=r[h*2]*e,c=r[h*2+1]*s,g=r[u*2]*e,m=r[u*2+1]*s,y=r[d*2]*e,x=r[d*2+1]*s,o.push(new p(f,c,g,m,y,x));return o};v.exports=a},90301:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),p=function(a,r,n,e){e===void 0&&(e=n);var s=a,o=r,i=a,h=r-e,u=a+n,d=r;return new l(s,o,i,h,u,d)};v.exports=p},23707:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97523),p=t(13584),a=function(r,n,e,s){s===void 0&&(s=l);var o=s(r),i=n-o.x,h=e-o.y;return p(r,i,h)};v.exports=a},97523:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};v.exports=p},24951:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099);function p(r,n,e,s){return r*s-n*e}var a=function(r,n){n===void 0&&(n=new l);var e=r.x3,s=r.y3,o=r.x1-e,i=r.y1-s,h=r.x2-e,u=r.y2-s,d=2*p(o,i,h,u),f=p(i,o*o+i*i,u,h*h+u*u),c=p(o,o*o+i*i,h,h*h+u*u);return n.x=e-f/d,n.y=s+c/d,n};v.exports=a},85614:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),p=function(a,r){r===void 0&&(r=new l);var n=a.x1,e=a.y1,s=a.x2,o=a.y2,i=a.x3,h=a.y3,u=s-n,d=o-e,f=i-n,c=h-e,g=u*(n+s)+d*(e+o),m=f*(n+i)+c*(e+h),y=2*(u*(h-o)-d*(i-s)),x,S;if(Math.abs(y)<1e-6){var C=Math.min(n,s,i),A=Math.min(e,o,h);x=(Math.max(n,s,i)-C)*.5,S=(Math.max(e,o,h)-A)*.5,r.x=C+x,r.y=A+S,r.radius=Math.sqrt(x*x+S*S)}else r.x=(c*g-d*m)/y,r.y=(u*m-f*g)/y,x=r.x-n,S=r.y-e,r.radius=Math.sqrt(x*x+S*S);return r};v.exports=p},74422:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),p=function(a){return new l(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};v.exports=p},10690:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=t.x3-t.x1,r=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,s=l-t.x1,o=p-t.y1,i=a*a+r*r,h=a*n+r*e,u=a*s+r*o,d=n*n+e*e,f=n*s+e*o,c=i*d-h*h,g=c===0?0:1/c,m=(d*u-h*f)*g,y=(i*f-h*u)*g;return m>=0&&y>=0&&m+y<1};v.exports=T},48653:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p===void 0&&(p=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,o=r*r+n*n,i=r*e+n*s,h=e*e+s*s,u=o*h-i*i,d=u===0?0:1/u,f,c,g,m,y,x,S=t.x1,C=t.y1,A=0;A<l.length&&(g=l[A].x-S,m=l[A].y-C,y=r*g+n*m,x=e*g+s*m,f=(h*y-i*x)*d,c=(o*x-i*y)*d,!(f>=0&&c>=0&&f+c<1&&(a.push({x:l[A].x,y:l[A].y}),p)));A++);return a};v.exports=T},96006:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10690),p=function(a,r){return l(a,r.x,r.y)};v.exports=p},71326:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};v.exports=T},71694:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x1,y:t.y1}),l.push({x:t.x2,y:t.y2}),l.push({x:t.x3,y:t.y3}),l};v.exports=T},33522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2&&t.x3===l.x3&&t.y3===l.y3};v.exports=T},20437:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=t(35001),a=function(r,n,e){e===void 0&&(e=new l);var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();if(n<=0||n>=1)return e.x=s.x1,e.y=s.y1,e;var h=p(s),u=p(o),d=p(i),f=h+u+d,c=f*n,g=0;return c<h?(g=c/h,e.x=s.x1+(s.x2-s.x1)*g,e.y=s.y1+(s.y2-s.y1)*g):c>h+u?(c-=h+u,g=c/d,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):(c-=h,g=c/u,e.x=o.x1+(o.x2-o.x1)*g,e.y=o.y1+(o.y2-o.y1)*g),e};v.exports=a},80672:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),p=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]);var o=r.getLineA(),i=r.getLineB(),h=r.getLineC(),u=l(o),d=l(i),f=l(h),c=u+d+f;!n&&e>0&&(n=c/e);for(var g=0;g<n;g++){var m=c*(g/n),y=0,x=new p;m<u?(y=m/u,x.x=o.x1+(o.x2-o.x1)*y,x.y=o.y1+(o.y2-o.y1)*y):m>u+d?(m-=u+d,y=m/f,x.x=h.x1+(h.x2-h.x1)*y,x.y=h.y1+(h.y2-h.y1)*y):(m-=u,y=m/d,x.x=i.x1+(i.x2-i.x1)*y,x.y=i.y1+(i.y2-i.y1)*y),s.push(x)}return s};v.exports=a},39757:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141);function p(r,n,e,s){var o=r-e,i=n-s,h=o*o+i*i;return Math.sqrt(h)}var a=function(r,n){n===void 0&&(n=new l);var e=r.x1,s=r.y1,o=r.x2,i=r.y2,h=r.x3,u=r.y3,d=p(h,u,o,i),f=p(e,s,h,u),c=p(o,i,e,s),g=d+f+c;return n.x=(e*d+o*f+h*c)/g,n.y=(s*d+i*f+u*c)/g,n};v.exports=a},13584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t.x1+=l,t.y1+=p,t.x2+=l,t.y2+=p,t.x3+=l,t.y3+=p,t};v.exports=T},1376:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),p=function(a){var r=a.getLineA(),n=a.getLineB(),e=a.getLineC();return l(r)+l(n)+l(e)};v.exports=p},90260:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),p=function(a,r){r===void 0&&(r=new l);var n=a.x2-a.x1,e=a.y2-a.y1,s=a.x3-a.x1,o=a.y3-a.y1,i=Math.random(),h=Math.random();return i+h>=1&&(i=1-i,h=1-h),r.x=a.x1+(n*i+s*h),r.y=a.y1+(e*i+o*h),r};v.exports=p},52172:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99614),p=t(39757),a=function(r,n){var e=p(r);return l(r,e.x,e.y,n)};v.exports=a},49907:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99614),p=function(a,r,n){return l(a,r.x,r.y,n)};v.exports=p},99614:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-l,s=t.y1-p;return t.x1=e*r-s*n+l,t.y1=e*n+s*r+p,e=t.x2-l,s=t.y2-p,t.x2=e*r-s*n+l,t.y2=e*n+s*r+p,e=t.x3-l,s=t.y3-p,t.x3=e*r-s*n+l,t.y3=e*n+s*r+p,t};v.exports=T},16483:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(10690),a=t(20437),r=t(80672),n=t(23777),e=t(23031),s=t(90260),o=new l({initialize:function(h,u,d,f,c,g){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),this.type=n.TRIANGLE,this.x1=h,this.y1=u,this.x2=d,this.y2=f,this.x3=c,this.y3=g},contains:function(i,h){return p(this,i,h)},getPoint:function(i,h){return a(this,i,h)},getPoints:function(i,h,u){return r(this,i,h,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,h,u,d,f,c){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),this.x1=i,this.y1=h,this.x2=u,this.y2=d,this.x3=f,this.y3=c,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}}});v.exports=o},84435:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483);l.Area=t(41658),l.BuildEquilateral=t(39208),l.BuildFromPolygon=t(39545),l.BuildRight=t(90301),l.CenterOn=t(23707),l.Centroid=t(97523),l.CircumCenter=t(24951),l.CircumCircle=t(85614),l.Clone=t(74422),l.Contains=t(10690),l.ContainsArray=t(48653),l.ContainsPoint=t(96006),l.CopyFrom=t(71326),l.Decompose=t(71694),l.Equals=t(33522),l.GetPoint=t(20437),l.GetPoints=t(80672),l.InCenter=t(39757),l.Perimeter=t(1376),l.Offset=t(13584),l.Random=t(90260),l.Rotate=t(52172),l.RotateAroundPoint=t(49907),l.RotateAroundXY=t(99614),v.exports=l},74457:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};v.exports=T},84409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return function(p,a,r,n){var e=t.getPixelAlpha(a,r,n.texture.key,n.frame.name);return e&&e>=l}};v.exports=T},7003:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(93301),a=t(50792),r=t(8214),n=t(8443),e=t(78970),s=t(85098),o=t(42515),i=t(36210),h=t(61340),u=t(85955),d=new l({initialize:function(c,g){this.game=c,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new s(this):null,this.touch=g.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers;for(var m=0;m<=this.pointersTotal;m++){var y=new o(this,m);y.smoothFactor=g.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(n.BOOT,this.boot,this)},boot:function(){var f=this.game,c=f.events;this.canvas=f.canvas,this.scaleManager=f.scale,this.events.emit(r.MANAGER_BOOT),c.on(n.PRE_RENDER,this.preRender,this),c.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(f){this.isOver=!0,this.events.emit(r.GAME_OVER,f)},setCanvasOut:function(f){this.isOver=!1,this.events.emit(r.GAME_OUT,f)},preRender:function(){var f=this.game.loop.now,c=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=f,this.events.emit(r.MANAGER_UPDATE);for(var m=0;m<g.length;m++){var y=g[m];if(y.sys.input&&y.sys.input.updatePoll(f,c)&&this.globalTopOnly)return}},setDefaultCursor:function(f){this.defaultCursor=f,this.canvas.style.cursor!==f&&(this.canvas.style.cursor=f)},setCursor:function(f){f.cursor&&(this.canvas.style.cursor=f.cursor)},resetCursor:function(f,c){(c||f&&f.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(f){f===void 0&&(f=1);var c=[];this.pointersTotal+f>10&&(f=10-this.pointersTotal);for(var g=0;g<f;g++){var m=this.pointers.length,y=new o(this,m);y.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(y),this.pointersTotal++,c.push(y)}return c},updateInputPlugins:function(f,c){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var m=0;m<g.length;m++){var y=g[m];if(y.sys.input){var x=y.sys.input.update(f,c);if(x&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var S=c[x];if(!S.active){S.touchstart(y,f),this.activePointer=S,g.push(S);break}}this.updateInputPlugins(p.TOUCH_START,g)},onTouchMove:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var S=c[x];if(S.active&&S.identifier===y.identifier){var C=document.elementFromPoint(y.clientX,y.clientY),A=C===this.canvas;!this.isOver&&A?this.setCanvasOver(f):this.isOver&&!A&&this.setCanvasOut(f),this.isOver&&(S.touchmove(y,f),this.activePointer=S,g.push(S));break}}this.updateInputPlugins(p.TOUCH_MOVE,g)},onTouchEnd:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var S=c[x];if(S.active&&S.identifier===y.identifier){S.touchend(y,f),g.push(S);break}}this.updateInputPlugins(p.TOUCH_END,g)},onTouchCancel:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var S=c[x];if(S.active&&S.identifier===y.identifier){S.touchcancel(y,f),g.push(S);break}}this.updateInputPlugins(p.TOUCH_CANCEL,g)},onMouseDown:function(f){var c=this.mousePointer;c.down(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(f){var c=this.mousePointer;c.move(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(f){var c=this.mousePointer;c.up(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(f){var c=this.mousePointer;c.wheel(f),this.activePointer=c,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(f){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(r.POINTERLOCK_CHANGE,f,c)},inputCandidate:function(f,c){var g=f.input;if(!g||!g.enabled||!f.willRender(c))return!1;var m=!0,y=f.parentContainer;if(y)do{if(!y.willRender(c)){m=!1;break}y=y.parentContainer}while(y);return m},hitTest:function(f,c,g,m){m===void 0&&(m=this._tempHitTest);var y=this._tempPoint,x=g.scrollX,S=g.scrollY;m.length=0;var C=f.x,A=f.y;g.getWorldPoint(C,A,y),f.worldX=y.x,f.worldY=y.y;for(var F={x:0,y:0},M=this._tempMatrix,w=this._tempMatrix2,R=0;R<c.length;R++){var O=c[R];if(this.inputCandidate(O,g)){var U=y.x+x*O.scrollFactorX-x,X=y.y+S*O.scrollFactorY-S;O.parentContainer?(O.getWorldTransformMatrix(M,w),M.applyInverse(U,X,F)):u(U,X,O.x,O.y,O.rotation,O.scaleX,O.scaleY,F),this.pointWithinHitArea(O,F.x,F.y)&&m.push(O)}}return m},pointWithinHitArea:function(f,c,g){c+=f.displayOriginX,g+=f.displayOriginY;var m=f.input;return m&&m.hitAreaCallback(m.hitArea,c,g,f)?(m.localX=c,m.localY=g,!0):!1},pointWithinInteractiveObject:function(f,c,g){return f.hitArea?(c+=f.gameObject.displayOriginX,g+=f.gameObject.displayOriginY,f.localX=c,f.localY=g,f.hitAreaCallback(f.hitArea,c,g,f)):!1},transformPointer:function(f,c,g,m){var y=f.position,x=f.prevPosition;x.x=y.x,x.y=y.y;var S=this.scaleManager.transformX(c),C=this.scaleManager.transformY(g),A=f.smoothFactor;!m||A===0?(y.x=S,y.y=C):(y.x=S*A+x.x*(1-A),y.y=C*A+x.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var f=0;f<this.pointers.length;f++)this.pointers[f].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});v.exports=d},48205:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),p=t(87902),a=t(83419),r=t(93301),n=t(74457),e=t(84409),s=t(20339),o=t(8497),i=t(81154),h=t(8214),u=t(50792),d=t(95540),f=t(23777),c=t(89639),g=t(41212),m=t(37277),y=t(87841),x=t(37303),S=t(44594),C=t(16483),A=t(10690),F=new a({Extends:u,initialize:function(w){u.call(this),this.scene=w,this.systems=w.sys,this.settings=w.sys.settings,this.manager=w.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var R={cancelled:!1};this._eventContainer={stopPropagation:function(){R.cancelled=!0}},this._eventData=R,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,w.sys.events.once(S.BOOT,this.boot,this),w.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var M=this.systems.events;M.on(S.TRANSITION_START,this.transitionIn,this),M.on(S.TRANSITION_OUT,this.transitionOut,this),M.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),M.on(S.PRE_UPDATE,this.preUpdate,this),M.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(M){this.isActive()&&this.emit(h.GAME_OVER,M.timeStamp,M)},onGameOut:function(M){this.isActive()&&this.emit(h.GAME_OUT,M.timeStamp,M)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var M=this._pendingRemoval,w=this._pendingInsertion,R=M.length,O=w.length;if(!(R===0&&O===0)){for(var U=this._list,X=0;X<R;X++){var W=M[X],Y=U.indexOf(W);Y>-1&&(U.splice(Y,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=U.concat(w.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(M){this.manager&&this.manager.setCursor(M)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(M,w){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,M,w),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var R,O=this.manager,U=O.pointers;for(R=0;R<U.length;R++)U[R].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=w,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var W=!1;for(R=0;R<U.length;R++){var Y=0,N=U[R];this._tempZones=[],this._temp=this.hitTestPointer(N),this.sortGameObjects(this._temp,N),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(N),this.getDragState(N)===2&&this.processDragThresholdEvent(N,M),Y>0&&(W=!0)}return W},update:function(M,w){if(!this.isActive())return!1;for(var R=!1,O=0;O<w.length;O++){var U=0,X=w[O];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),M){case r.MOUSE_DOWN:U+=this.processDragDownEvent(X),U+=this.processDownEvents(X),U+=this.processOverOutEvents(X);break;case r.MOUSE_UP:U+=this.processDragUpEvent(X),U+=this.processUpEvents(X),U+=this.processOverOutEvents(X);break;case r.TOUCH_START:U+=this.processDragDownEvent(X),U+=this.processDownEvents(X),U+=this.processOverEvents(X);break;case r.TOUCH_END:case r.TOUCH_CANCEL:U+=this.processDragUpEvent(X),U+=this.processUpEvents(X),U+=this.processOutEvents(X);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:U+=this.processDragMoveEvent(X),U+=this.processMoveEvents(X),U+=this.processOverOutEvents(X);break;case r.MOUSE_WHEEL:U+=this.processWheelEvent(X);break}U>0&&(R=!0)}return this._updatedThisFrame=!0,R},clear:function(M,w){w===void 0&&(w=!1),this.disable(M);var R=M.input;R&&(this.removeDebug(M),this.manager.resetCursor(R),R.gameObject=void 0,R.target=void 0,R.hitArea=void 0,R.hitAreaCallback=void 0,R.callbackContext=void 0,M.input=null),w||this.queueForRemoval(M);var O=this._draggable.indexOf(M);return O>-1&&this._draggable.splice(O,1),M},disable:function(M,w){w===void 0&&(w=!1);var R=M.input;R&&(R.enabled=!1,R.dragState=0);for(var O=this._drag,U=this._over,X=this.manager,W=0,Y;W<X.pointers.length;W++)Y=O[W].indexOf(M),Y>-1&&O[W].splice(Y,1),Y=U[W].indexOf(M),Y>-1&&U[W].splice(Y,1);return w&&this.resetCursor(),this},enable:function(M,w,R,O){return O===void 0&&(O=!1),M.input?M.input.enabled=!0:this.setHitArea(M,w,R),M.input&&O&&!M.input.dropZone&&(M.input.dropZone=O),this},hitTestPointer:function(M){for(var w=this.cameras.getCamerasBelowPointer(M),R=0;R<w.length;R++){for(var O=w[R],U=this.manager.hitTest(M,this._list,O),X=0;X<U.length;X++){var W=U[X];W.input.dropZone&&this._tempZones.push(W)}if(U.length>0)return M.camera=O,U}return M.camera=w[0],[]},processDownEvents:function(M){var w=0,R=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var X=0;X<R.length;X++){var W=R[X];if(!(!W.input||!W.input.enabled)&&(w++,W.emit(h.GAMEOBJECT_POINTER_DOWN,M,W.input.localX,W.input.localY,U),O.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(h.GAMEOBJECT_DOWN,M,W,U),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&(M.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,M,R):this.emit(h.POINTER_DOWN_OUTSIDE,M)),w},getDragState:function(M){return this._dragState[M.id]},setDragState:function(M,w){this._dragState[M.id]=w},processDragThresholdEvent:function(M,w){var R=!1,O=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&s(M.x,M.y,M.downX,M.downY)>=U||O>0&&w>=M.downTime+O)&&(R=!0),R)return this.setDragState(M,3),this.processDragStartList(M)},processDragStartList:function(M){if(this.getDragState(M)!==3)return 0;var w=this._drag[M.id];w.length>1&&(w=w.slice(0));for(var R=0;R<w.length;R++){var O=w[R],U=O.input;U.dragState=2,U.dragStartX=O.x,U.dragStartY=O.y,U.dragStartXGlobal=M.worldX,U.dragStartYGlobal=M.worldY,U.dragStartCamera=M.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,O.emit(h.GAMEOBJECT_DRAG_START,M,U.dragX,U.dragY),this.emit(h.DRAG_START,M,O)}return this.setDragState(M,4),w.length},processDragDownEvent:function(M){var w=this._temp;if(this._draggable.length===0||w.length===0||!M.primaryDown||this.getDragState(M)!==0)return 0;this.setDragState(M,1);for(var R=[],O=0;O<w.length;O++){var U=w[O];U.input.draggable&&U.input.dragState===0&&R.push(U)}return R.length===0?(this.setDragState(M,0),0):(R.length>1&&(this.sortGameObjects(R,M),this.topOnly&&R.splice(1)),this._drag[M.id]=R,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(M,3),this.processDragStartList(M)):(this.setDragState(M,2),0))},processDragMoveEvent:function(M){if(this.getDragState(M)===2&&this.processDragThresholdEvent(M,this.manager.game.loop.now),this.getDragState(M)!==4)return 0;var w=this._tempZones,R=this._drag[M.id];R.length>1&&(R=R.slice(0));for(var O=0;O<R.length;O++){var U=R[O],X=U.input,W=X.target;if(W){var Y=w.indexOf(W);Y===0?(U.emit(h.GAMEOBJECT_DRAG_OVER,M,W),this.emit(h.DRAG_OVER,M,U,W)):Y>0?(U.emit(h.GAMEOBJECT_DRAG_LEAVE,M,W),this.emit(h.DRAG_LEAVE,M,U,W),X.target=w[0],W=X.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,U,W)):(U.emit(h.GAMEOBJECT_DRAG_LEAVE,M,W),this.emit(h.DRAG_LEAVE,M,U,W),w[0]?(X.target=w[0],W=X.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,U,W)):X.target=null)}else!W&&w[0]&&(X.target=w[0],W=X.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,U,W));var N,V,I=M.positionToCamera(X.dragStartCamera);if(!U.parentContainer)N=I.x-X.dragX,V=I.y-X.dragY;else{var B=I.x-X.dragStartXGlobal,G=I.y-X.dragStartYGlobal,H=U.getParentRotation(),$=B*Math.cos(H)+G*Math.sin(H),Z=G*Math.cos(H)-B*Math.sin(H);$*=1/U.parentContainer.scaleX,Z*=1/U.parentContainer.scaleY,N=$+X.dragStartX,V=Z+X.dragStartY}U.emit(h.GAMEOBJECT_DRAG,M,N,V),this.emit(h.DRAG,M,U,N,V)}return R.length},processDragUpEvent:function(M){var w=this._drag[M.id];w.length>1&&(w=w.slice(0));for(var R=0;R<w.length;R++){var O=w[R],U=O.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-O.displayOriginX,U.dragY=U.localY-O.displayOriginY,U.dragStartCamera=null;var X=!1,W=U.target;W&&(O.emit(h.GAMEOBJECT_DROP,M,W),this.emit(h.DROP,M,O,W),U.target=null,X=!0),O.input&&O.input.enabled&&(O.emit(h.GAMEOBJECT_DRAG_END,M,U.dragX,U.dragY,X),this.emit(h.DRAG_END,M,O,X))}}return this.setDragState(M,0),w.splice(0),0},processMoveEvents:function(M){var w=0,R=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var X=0;X<R.length;X++){var W=R[X];if(!(!W.input||!W.input.enabled)&&(w++,W.emit(h.GAMEOBJECT_POINTER_MOVE,M,W.input.localX,W.input.localY,U),O.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(h.GAMEOBJECT_MOVE,M,W,U),O.cancelled||!this.isActive()||this.topOnly)))break}return!O.cancelled&&this.isActive()&&this.emit(h.POINTER_MOVE,M,R),w},processWheelEvent:function(M){var w=0,R=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var X=M.deltaX,W=M.deltaY,Y=M.deltaZ,N=0;N<R.length;N++){var V=R[N];if(!(!V.input||!V.input.enabled)&&(w++,V.emit(h.GAMEOBJECT_POINTER_WHEEL,M,X,W,Y,U),O.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(h.GAMEOBJECT_WHEEL,M,V,X,W,Y,U),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&this.emit(h.POINTER_WHEEL,M,R,X,W,Y),w},processOverEvents:function(M){var w=this._temp,R=0,O=w.length,U=[];if(O>0){var X=this.manager,W=this._eventData,Y=this._eventContainer;W.cancelled=!1;for(var N=0;N<O;N++){var V=w[N];if(!(!V.input||!V.input.enabled)&&(U.push(V),X.setCursor(V.input),V.emit(h.GAMEOBJECT_POINTER_OVER,M,V.input.localX,V.input.localY,Y),R++,W.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,M,V,Y),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,M,U)}return this._over[M.id]=U,R},processOutEvents:function(M){var w=this._over[M.id],R=0,O=w.length;if(O>0){var U=this.manager,X=this._eventData,W=this._eventContainer;X.cancelled=!1,this.sortGameObjects(w,M);for(var Y=0;Y<O;Y++){var N=w[Y];if(N=w[Y],!(!N.input||!N.input.enabled)&&(U.resetCursor(N.input),N.emit(h.GAMEOBJECT_POINTER_OUT,M,W),R++,X.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,M,N,W),X.cancelled||!this.isActive())))break}!X.cancelled&&this.isActive()&&this.emit(h.POINTER_OUT,M,w),this._over[M.id]=[]}return R},processOverOutEvents:function(M){var w=this._temp,R,O,U=[],X=[],W=[],Y=this._over[M.id],N=this._drag[M.id],V=this.manager;for(R=0;R<Y.length;R++)O=Y[R],w.indexOf(O)===-1&&N.indexOf(O)===-1?U.push(O):W.push(O);for(R=0;R<w.length;R++)O=w[R],Y.indexOf(O)===-1&&X.push(O);var I=U.length,B=0,G=this._eventData,H=this._eventContainer;if(G.cancelled=!1,I>0){for(this.sortGameObjects(U,M),R=0;R<I&&(O=U[R],!(!(!O.input||!O.input.enabled)&&(V.resetCursor(O.input),O.emit(h.GAMEOBJECT_POINTER_OUT,M,H),B++,G.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,M,O,H),G.cancelled||!this.isActive()))));R++);(!G.cancelled||this.isActive())&&this.emit(h.POINTER_OUT,M,U)}if(I=X.length,G.cancelled=!1,I>0){for(this.sortGameObjects(X,M),R=0;R<I&&(O=X[R],!(!(!O.input||!O.input.enabled)&&(V.setCursor(O.input),O.emit(h.GAMEOBJECT_POINTER_OVER,M,O.input.localX,O.input.localY,H),B++,G.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,M,O,H),G.cancelled||!this.isActive()))));R++);!G.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,M,X)}return Y=W.concat(X),this._over[M.id]=this.sortGameObjects(Y,M),B},processUpEvents:function(M){var w=this._temp,R=this._eventData,O=this._eventContainer;R.cancelled=!1;for(var U=0;U<w.length;U++){var X=w[U];if(!(!X.input||!X.input.enabled)&&(X.emit(h.GAMEOBJECT_POINTER_UP,M,X.input.localX,X.input.localY,O),R.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(h.GAMEOBJECT_UP,M,X,O),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&(M.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,M,w):this.emit(h.POINTER_UP_OUTSIDE,M)),w.length},forceDownState:function(M,w){this.forceState(M,w,h.GAMEOBJECT_POINTER_DOWN,h.GAMEOBJECT_DOWN,!1)},forceUpState:function(M,w){this.forceState(M,w,h.GAMEOBJECT_POINTER_UP,h.GAMEOBJECT_UP,!1)},forceOverState:function(M,w){this.forceState(M,w,h.GAMEOBJECT_POINTER_OVER,h.GAMEOBJECT_OVER,!0)},forceOutState:function(M,w){this.forceState(M,w,h.GAMEOBJECT_POINTER_OUT,h.GAMEOBJECT_OUT,!1)},forceState:function(M,w,R,O,U){var X=this._eventData,W=this._eventContainer;X.cancelled=!1,w.input&&w.input.enabled&&(w.emit(R,M,w.input.localX,w.input.localY,W),U&&this.setCursor(w.input),!X.cancelled&&this.isActive()&&w.input&&w.input.enabled&&this.emit(O,M,w,W))},queueForInsertion:function(M){return this._pendingInsertion.indexOf(M)===-1&&this._list.indexOf(M)===-1&&this._pendingInsertion.push(M),this},queueForRemoval:function(M){return this._pendingRemoval.push(M),this},setDraggable:function(M,w){w===void 0&&(w=!0),Array.isArray(M)||(M=[M]);for(var R=0;R<M.length;R++){var O=M[R];O.input.draggable=w;var U=this._draggable.indexOf(O);w&&U===-1?this._draggable.push(O):!w&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(M){M===void 0&&(M=1);var w=this.systems.textures;return e(w,M)},setHitArea:function(M,w,R){if(w===void 0)return this.setHitAreaFromTexture(M);Array.isArray(M)||(M=[M]);var O=!1,U=!1,X=!1,W=!1,Y=!1,N=!0;if(g(w)&&Object.keys(w).length){var V=w,I=M.some(function(Z){return Z.hasOwnProperty("faces")});if(!I){w=d(V,"hitArea",null),R=d(V,"hitAreaCallback",null),Y=d(V,"pixelPerfect",!1);var B=d(V,"alphaTolerance",1);Y&&(w={},R=this.makePixelPerfect(B))}O=d(V,"draggable",!1),U=d(V,"dropZone",!1),X=d(V,"cursor",!1),W=d(V,"useHandCursor",!1),(!w||!R)&&(this.setHitAreaFromTexture(M),N=!1)}else typeof w=="function"&&!R&&(R=w,w={});for(var G=0;G<M.length;G++){var H=M[G];if(Y&&H.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=H.input?H.input:n(H,w,R);$.customHitArea=N,$.dropZone=U,$.cursor=W?"pointer":X,H.input=$,O&&this.setDraggable(H),this.queueForInsertion(H)}return this},setHitAreaCircle:function(M,w,R,O,U){U===void 0&&(U=p);var X=new l(w,R,O);return this.setHitArea(M,X,U)},setHitAreaEllipse:function(M,w,R,O,U,X){X===void 0&&(X=i);var W=new o(w,R,O,U);return this.setHitArea(M,W,X)},setHitAreaFromTexture:function(M,w){w===void 0&&(w=x),Array.isArray(M)||(M=[M]);for(var R=0;R<M.length;R++){var O=M[R],U=O.frame,X=0,W=0;if(O.width?(X=O.width,W=O.height):U&&(X=U.realWidth,W=U.realHeight),O.type==="Container"&&(X===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&W!==0&&(O.input=n(O,new y(0,0,X,W),w),this.queueForInsertion(O))}return this},setHitAreaRectangle:function(M,w,R,O,U,X){X===void 0&&(X=x);var W=new y(w,R,O,U);return this.setHitArea(M,W,X)},setHitAreaTriangle:function(M,w,R,O,U,X,W,Y){Y===void 0&&(Y=A);var N=new C(w,R,O,U,X,W);return this.setHitArea(M,N,Y)},enableDebug:function(M,w){w===void 0&&(w=65280);var R=M.input;if(!R||!R.hitArea)return this;var O=R.hitArea,U=O.type,X=R.hitAreaDebug,W=this.systems.add,Y=this.systems.updateList;X&&(Y.remove(X),X.destroy(),X=null);var N=0,V=0;switch(U){case f.CIRCLE:X=W.arc(0,0,O.radius),N=O.x-O.radius,V=O.y-O.radius;break;case f.ELLIPSE:X=W.ellipse(0,0,O.width,O.height),N=O.x-O.width/2,V=O.y-O.height/2;break;case f.LINE:X=W.line(0,0,O.x1,O.y1,O.x2,O.y2);break;case f.POLYGON:X=W.polygon(0,0,O.points);break;case f.RECTANGLE:X=W.rectangle(0,0,O.width,O.height),N=O.x,V=O.y;break;case f.TRIANGLE:X=W.triangle(0,0,O.x1,O.y1,O.x2,O.y2,O.x3,O.y3);break}return X&&(X.isFilled=!1,X.strokeColor=w,X.preUpdate=function(){X.setVisible(M.visible),X.setStrokeStyle(1/M.scale,X.strokeColor),X.setDisplayOrigin(M.displayOriginX,M.displayOriginY);var I=M.x,B=M.y,G=M.rotation,H=M.scaleX,$=M.scaleY;if(M.parentContainer){var Z=M.getWorldTransformMatrix();I=Z.tx,B=Z.ty,G=Z.rotation,H=Z.scaleX,$=Z.scaleY}X.setRotation(G),X.setScale(H,$),X.setPosition(I+N*H,B+V*$),X.setScrollFactor(M.scrollFactorX,M.scrollFactorY),X.setDepth(M.depth)},Y.add(X),R.hitAreaDebug=X),this},removeDebug:function(M){var w=M.input;if(w&&w.hitAreaDebug){var R=w.hitAreaDebug;R.destroy(),w.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(M){return this.pollRate=M,this._pollTimer=0,this},setGlobalTopOnly:function(M){return this.manager.globalTopOnly=M,this},setTopOnly:function(M){return this.topOnly=M,this},sortGameObjects:function(M,w){if(M.length<2||!w.camera)return M;var R=w.camera.renderList;return M.sort(function(O,U){var X=Math.max(R.indexOf(O),0),W=Math.max(R.indexOf(U),0);return W-X})},sortDropZones:function(M){return M.length<2?M:(this.scene.sys.depthSort(),M.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(M,w){if(!M.parentContainer&&!w.parentContainer)return this.displayList.getIndex(w)-this.displayList.getIndex(M);if(M.parentContainer===w.parentContainer)return w.parentContainer.getIndex(w)-M.parentContainer.getIndex(M);if(M.parentContainer===w)return-1;if(w.parentContainer===M)return 1;for(var R=M.getIndexList(),O=w.getIndexList(),U=Math.min(R.length,O.length),X=0;X<U;X++){var W=R[X],Y=O[X];if(W!==Y)return Y-W}return O.length-R.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(M){return this.manager.addPointer(M)},setDefaultCursor:function(M){return this.manager.setDefaultCursor(M),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var M=0;M<10;M++)this._drag[M]=[],this._over[M]=[];this.removeAllListeners();var w=this.manager;w.canvas.style.cursor=w.defaultCursor;var R=this.systems.events;R.off(S.TRANSITION_START,this.transitionIn,this),R.off(S.TRANSITION_OUT,this.transitionOut,this),R.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),R.off(S.PRE_UPDATE,this.preUpdate,this),w.events.off(h.GAME_OUT,this.onGameOut,this),w.events.off(h.GAME_OVER,this.onGameOver,this),R.off(S.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var M=this.manager.pointers,w=0;w<M.length;w++)M[w].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});m.register("InputPlugin",F,"input"),v.exports=F},89639:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),p={},a={};a.register=function(r,n,e,s,o){p[r]={plugin:n,mapping:e,settingsKey:s,configKey:o}},a.getPlugin=function(r){return p[r]},a.install=function(r){var n=r.scene.sys,e=n.settings.input,s=n.game.config;for(var o in p){var i=p[o].plugin,h=p[o].mapping,u=p[o].settingsKey,d=p[o].configKey;l(e,u,s[d])&&(r[h]=new i(r))}},a.remove=function(r){p.hasOwnProperty(r)&&delete p[r]},v.exports=a},42515:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31040),p=t(83419),a=t(20339),r=t(43855),n=t(47235),e=t(26099),s=t(25892),o=new p({initialize:function(h,u){this.manager=h,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var h=i.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(i,h){return i.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var i=this.position.x,h=this.position.y,u=this.midPoint.x,d=this.midPoint.y;if(!(i===u&&h===d)){var f=n(this.motionFactor,u,i),c=n(this.motionFactor,d,h);r(f,i,.1)&&(f=i),r(c,h,.1)&&(c=h),this.midPoint.set(f,c);var g=i-f,m=h-c;this.velocity.set(g,m),this.angle=l(f,c,i,h),this.distance=Math.sqrt(g*g+m*m)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,h){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,h){this.event=h,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,h){i===void 0&&(i=10),h===void 0&&(h=[]);for(var u=this.prevPosition.x,d=this.prevPosition.y,f=this.position.x,c=this.position.y,g=0;g<i;g++){var m=1/i*g;h[g]={x:n(m,u,f),y:n(m,d,c)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});v.exports=o},93301:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};v.exports=T},7179:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},85375:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},39843:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},23388:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},16133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},27829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},53904:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},56058:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},2642:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},88171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectdown"},36147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},71692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},96149:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},81285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},74048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},21322:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},49378:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},86754:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectmove"},86433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectout"},60709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectover"},24081:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},11172:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},18907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},95579:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},35368:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},26972:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},47078:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectup"},73802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectwheel"},56718:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameout"},25936:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameover"},27503:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},50852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="process"},96438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},59152:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerlockchange"},47777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},27957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdownoutside"},19444:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},54251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},18667:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},27192:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},24652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerupoutside"},45132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},44512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},15757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},41637:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},93802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},8214:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n){this.pad=r,this.events=r.events,this.index=n,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});v.exports=p},28884:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(92734),a=new l({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var n=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,n,this,r),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,n,this,r),this.pad.emit(p.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});v.exports=a},99125:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97421),p=t(28884),a=t(83419),r=t(50792),n=t(26099),e=new a({Extends:r,initialize:function(o,i){r.call(this),this.manager=o,this.pad=i,this.id=i.id,this.index=i.index;for(var h=[],u=0;u<i.buttons.length;u++)h.push(new p(this,u));this.buttons=h;var d=[];for(u=0;u<i.axes.length;u++)d.push(new l(this,u));this.axes=d,this.vibration=i.vibrationActuator;var f={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:f,this._LCRight=h[15]?h[15]:f,this._LCTop=h[12]?h[12]:f,this._LCBottom=h[13]?h[13]:f,this._RCLeft=h[2]?h[2]:f,this._RCRight=h[1]?h[1]:f,this._RCTop=h[3]?h[3]:f,this._RCBottom=h[0]?h[0]:f,this._FBLeftTop=h[4]?h[4]:f,this._FBLeftBottom=h[6]?h[6]:f,this._FBRightTop=h[5]?h[5]:f,this._FBRightBottom=h[7]?h[7]:f;var c={value:0};this._HAxisLeft=d[0]?d[0]:c,this._VAxisLeft=d[1]?d[1]:c,this._HAxisRight=d[2]?d[2]:c,this._VAxisRight=d[3]?d[3]:c,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var o=0;o<this.axes.length;o++)this.axes[o].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var o,i=this.buttons,h=s.buttons,u=i.length;for(o=0;o<u;o++)i[o].update(h[o].value);var d=this.axes,f=s.axes;for(u=d.length,o=0;o<u;o++)d[o].update(f[o]);u>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),u>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});v.exports=e},56654:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(92734),r=t(99125),n=t(35154),e=t(89639),s=t(8214),o=new l({Extends:p,initialize:function(h){p.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(s.BOOT,this.boot,this),h.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,h=this.settings.input,u=i.config;this.enabled=n(h,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=n(h,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,h=this.target,u=function(d){d.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(d))};this.onGamepadHandler=u,h.addEventListener("gamepadconnected",u,!1),h.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var h=this.gamepads,u=0;u<i.length;u++){var d=i[u];if(d){var f=d.id,c=d.index,g=h[c];if(g)g.id!==f?(g.destroy(),h[c]=new r(this,d)):g.update(d);else{var m=new r(this,d);h[c]=m,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=m):this._pad3=m:this._pad2=m:this._pad1=m}}}},getAll:function(){for(var i=[],h=this.gamepads,u=0;u<h.length;u++)h[u]&&i.push(h[u]);return i},getPad:function(i){for(var h=this.gamepads,u=0;u<h.length;u++)if(h[u]&&h[u].index===i)return h[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var h=this.queue.splice(0,i),u=0;u<i;u++){var d=h[u],f=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(a.CONNECTED,f,d):d.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,f,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",o,"gamepad","gamepad","inputGamepad"),v.exports=o},89651:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},7629:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},42206:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="connected"},86544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="disconnected"},94784:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},14325:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},92734:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93301),p=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=p(!1,a,l),v.exports=a},78970:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),p=t(83419),a=t(8443),r=t(8214),n=t(46032),e=t(29747),s=new p({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputKeyboard,this.target=o.inputKeyboardEventTarget,this.addCapture(o.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var o=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(h),o.manager.events.emit(r.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;o.preventDefault&&!u&&o.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(h),o.manager.events.emit(r.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;o.preventDefault&&!u&&o.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var o=this.target;o.removeEventListener("keydown",this.onKeyDown,!1),o.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,h=0;h<o.length;h++){var u=o[h];typeof u=="string"&&(u=n[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,h=0;h<o.length;h++){var u=o[h];typeof u=="string"&&(u=n[u.toUpperCase()]),l(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});v.exports=s},28846:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(95922),r=t(8443),n=t(35154),e=t(8214),s=t(89639),o=t(30472),i=t(46032),h=t(87960),u=t(74600),d=t(44594),f=t(56583),c=new l({Extends:p,initialize:function(m){p.call(this),this.game=m.systems.game,this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.manager=m.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,m.pluginEvents.once(e.BOOT,this.boot,this),m.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=n(g,"keyboard",!0);var m=n(g,"keyboard.capture",null);m&&this.addCaptures(m),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(g,m,y){m===void 0&&(m=!0),y===void 0&&(y=!1);var x={};if(typeof g=="string"){g=g.split(",");for(var S=0;S<g.length;S++){var C=g[S].trim();C&&(x[C]=this.addKey(C,m,y))}}else for(var A in g)x[A]=this.addKey(g[A],m,y);return x},addKey:function(g,m,y){m===void 0&&(m=!0),y===void 0&&(y=!1);var x=this.keys;if(g instanceof o){var S=x.indexOf(g);return S>-1?x[S]=g:x[g.keyCode]=g,m&&this.addCapture(g.keyCode),g.setEmitOnRepeat(y),g}return typeof g=="string"&&(g=i[g.toUpperCase()]),x[g]||(x[g]=new o(this,g),m&&this.addCapture(g),x[g].setEmitOnRepeat(y)),x[g]},removeKey:function(g,m,y){m===void 0&&(m=!1),y===void 0&&(y=!1);var x=this.keys,S;if(g instanceof o){var C=x.indexOf(g);C>-1&&(S=this.keys[C],this.keys[C]=void 0)}else typeof g=="string"&&(g=i[g.toUpperCase()]);return x[g]&&(S=x[g],x[g]=void 0),S&&(S.plugin=null,y&&this.removeCapture(S.keyCode),m&&S.destroy()),this},removeAllKeys:function(g,m){g===void 0&&(g=!1),m===void 0&&(m=!1);for(var y=this.keys,x=0;x<y.length;x++){var S=y[x];S&&(y[x]=void 0,m&&this.removeCapture(S.keyCode),g&&S.destroy())}return this},createCombo:function(g,m){return new h(this,g,m)},checkDown:function(g,m){if(m===void 0&&(m=0),this.enabled&&g.isDown){var y=f(this.time-g.timeDown,m);if(y>g._tick)return g._tick=y,!0}return!1},update:function(){var g=this.manager.queue,m=g.length;if(!(!this.isActive()||m===0))for(var y=this.keys,x=0;x<m;x++){var S=g[x],C=S.keyCode,A=y[C],F=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(C===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=C,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(A&&(F=A.isDown,A.onDown(S)),!S.cancelled&&(!A||!F)&&(u[C]&&this.emit(a.KEY_DOWN+u[C],S),S.cancelled||this.emit(a.ANY_KEY_DOWN,S))):(A&&A.onUp(S),S.cancelled||(u[C]&&this.emit(a.KEY_UP+u[C],S),S.cancelled||this.emit(a.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),v.exports=c},66970:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l.timeLastMatched=t.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};v.exports=T},87960:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95922),a=t(95540),r=t(68769),n=t(92803),e=new l({initialize:function(o,i,h){if(h===void 0&&(h={}),i.length<2)return!1;this.manager=o,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var d=i[u];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(h,"resetOnWrongKey",!0),this.maxKeyDelay=a(h,"maxKeyDelay",0),this.resetOnMatch=a(h,"resetOnMatch",!1),this.deleteOnMatch=a(h,"deleteOnMatch",!1);var f=this,c=function(g){if(!(f.matched||!f.enabled)){var m=r(g,f);m&&(f.manager.emit(p.COMBO_MATCH,f,g),f.resetOnMatch?n(f):f.deleteOnMatch&&f.destroy())}};this.onKeyDown=c,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});v.exports=e},68769:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66970),p=function(a,r){if(r.matched)return!0;var n=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=s&&(e=!0,n=l(a,r))}else e=!0,n=l(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),n&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),n};v.exports=p},92803:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};v.exports=T},92612:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown"},23345:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup"},21957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keycombomatch"},44743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},3771:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown-"},46358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup-"},75674:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},95922:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=50);var p=t.plugin.game.loop.time-t.timeDown;return t.isDown&&p<l};v.exports=T},90229:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t._justDown?(t._justDown=!1,!0):!1};v.exports=T},38796:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t._justUp?(t._justUp=!1,!0):!1};v.exports=T},30472:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(95922),r=new l({Extends:p,initialize:function(e,s){p.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});v.exports=r},46032:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};v.exports=T},74600:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(46032),p={};for(var a in l)p[l[a]]=a;v.exports=p},41170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=50);var p=t.plugin.game.loop.time-t.timeUp;return t.isUp&&p<l};v.exports=T},85098:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(89357),a=t(8214),r=t(29747),n=new l({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var s=this,o=this.manager,i=o.canvas,h=window&&window.focus&&o.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseMove(d),s.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){h&&window.focus(),!d.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseDown(d),s.preventDefaultDown&&d.target===i&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&s.enabled&&o&&o.enabled&&d.target!==i&&o.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseUp(d),s.preventDefaultUp&&d.target===i&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&s.enabled&&o&&o.enabled&&d.target!==i&&o.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&o.onMouseWheel(d),s.preventDefaultWheel&&d.target===i&&d.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&o.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(d){var f=s.target;s.locked=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f,o.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=n},87078:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={MouseManager:t(85098)}},36210:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(8214),a=t(29747),r=new l({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(n){var e=this,s=this.manager,o=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(f),e.capture&&f.cancelable&&f.preventDefault())},this.onTouchStart=function(f){i&&window.focus(),!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(f),e.capture&&f.cancelable&&f.target===o&&f.preventDefault())},this.onTouchStartWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==o&&s.onTouchStart(f)},this.onTouchEnd=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(f),e.capture&&f.cancelable&&f.target===o&&f.preventDefault())},this.onTouchEndWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==o&&s.onTouchEnd(f)},this.onTouchCancel=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(f),e.capture&&f.preventDefault())},this.onTouchCancelWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(f)};var h=this.capture,u={passive:!0},d={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,h?d:u),n.addEventListener("touchmove",this.onTouchMove,h?d:u),n.addEventListener("touchend",this.onTouchEnd,h?d:u),n.addEventListener("touchcancel",this.onTouchCancel,h?d:u),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=r},95618:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TouchManager:t(36210)}},41299:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(54899),r=t(95540),n=t(98356),e=t(3374),s=t(84376),o=t(92638),i=new l({initialize:function(u,d){if(this.loader=u,this.cache=r(d,"cache",!1),this.type=r(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(d,"key",!1);var f=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+f),!this.key)throw new Error("Invalid File key: "+this.key);var c=r(d,"url");c===void 0?c=u.path+f+"."+r(d,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(c=u.path+c),this.url=c,this.src="",this.xhrSettings=o(r(d,"responseType",void 0)),r(d,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof c=="string"&&c.indexOf("data:")===0,this.retryAttempts=r(d,"maxRetries",u.maxRetries)},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=n(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=s(this,this.loader.xhr)}},onLoad:function(h,u){var d=h.responseURL&&this.loader.localSchemes.some(function(g){return h.responseURL.indexOf(g)===0}),f=d&&u.target.status===0,c=!(u.target&&u.target.status!==200)||f;h.readyState===4&&h.status>=400&&h.status<=599&&(c=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onBase64Load:function(h){this.xhrLoader=h,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==p.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var u=this.key,d=this.type;this.loader.emit(a.FILE_COMPLETE,u,d,h),this.loader.emit(a.FILE_KEY_COMPLETE+d+"-"+u,u,d,h),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(h,u,d){if(typeof URL=="function")h.src=URL.createObjectURL(u);else{var f=new FileReader;f.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(u.type||d)+";base64,"+f.result.split(",")[1]},f.onerror=h.onerror,f.readAsDataURL(u)}},i.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},v.exports=i},74099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},t={install:function(l){for(var p in T)l[p]=T[p]},register:function(l,p){T[l]=p},destroy:function(){T={}}};v.exports=t},98356:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:l+t.url:!1};v.exports=T},74261:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(35072),r=t(50792),n=t(54899),e=t(74099),s=t(95540),o=t(35154),i=t(41212),h=t(37277),u=t(44594),d=t(92638),f=new l({Extends:r,initialize:function(g){r.call(this);var m=g.sys.game.config,y=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(y,"baseURL",m.loaderBaseURL)),this.setPath(s(y,"path",m.loaderPath)),this.setPrefix(s(y,"prefix",m.loaderPrefix)),this.maxParallelDownloads=s(y,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=d(s(y,"responseType",m.loaderResponseType),s(y,"async",m.loaderAsync),s(y,"user",m.loaderUser),s(y,"password",m.loaderPassword),s(y,"timeout",m.loaderTimeout),s(y,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=s(y,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=s(y,"imageLoadType",m.loaderImageLoadType),this.localSchemes=s(y,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=s(y,"maxRetries",m.loaderMaxRetries),g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.baseURL=c,this},setPath:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.path=c,this},setPrefix:function(c){return c===void 0&&(c=""),this.prefix=c,this},setCORS:function(c){return this.crossOrigin=c,this},addFile:function(c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++){var m=c[g];this.keyExists(m)||(this.list.set(m),this.emit(n.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(c){var g=c.hasCacheConflict();return g||this.list.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1}),this.queue.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1})),g},addPack:function(c,g){if(typeof g=="string"){var m=o(c,g);m&&(c={packKey:m})}var y=0,x=this.baseURL,S=this.path,C=this.prefix;for(var A in c)if(Object.prototype.hasOwnProperty.call(c,A)){var F=c[A],M=s(F,"baseURL",x),w=s(F,"path",S),R=s(F,"prefix",C),O=s(F,"files",null),U=s(F,"defaultType","void");if(Array.isArray(O)){this.setBaseURL(M),this.setPath(w),this.setPrefix(R);for(var X=0;X<O.length;X++){var W=O[X],Y=W.hasOwnProperty("type")?W.type:U;this[Y]&&(this[Y](W),y++)}}}return this.setBaseURL(x),this.setPath(S),this.setPrefix(C),y>0},removePack:function(c,g){var m=this.systems.anims,y=this.cacheManager,x=this.textureManager,S={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},C;if(i(c))C=c;else if(C=y.json.get(c),!C){console.warn("Asset Pack not found in JSON cache:",c);return}g&&(C={_:C[g]});for(var A in C){var F=C[A],M=s(F,"prefix",""),w=s(F,"files"),R=s(F,"defaultType");if(Array.isArray(w))for(var O=0;O<w.length;O++){var U=w[O],X=U.hasOwnProperty("type")?U.type:R;if(!X){console.warn("No type:",U);continue}var W=M+U.key;if(X==="animation"&&m.remove(W),!((X==="aseprite"||X==="atlas"||X==="atlasXML"||X==="htmlTexture"||X==="image"||X==="multiatlas"||X==="spritesheet"||X==="svg"||X==="texture"||X==="unityAtlas")&&(x.remove(W),!S[X]))){if(X==="pack"){this.removePack(W,U.dataKey);continue}if(X==="spine"){var Y=y.custom.spine.get(W);if(!Y)continue;var N=Y.prefix===void 0?"":Y.prefix;y.custom.spine.remove(W);var V=y.custom.spineTextures.get(W);if(!V)continue;y.custom.spineTextures.remove(W);for(var I=0;I<V.pages.length;I++){var B=V.pages[I],G=N+B.name,H=W+":"+G;x.exists(H)?x.remove(H):x.remove(G)}}var $=S[X];if($!==null){if(!$){console.warn("Unknown type:",X);continue}var Z=y[$];Z.remove(W)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(c){if((c.state===p.FILE_POPULATED||c.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(c),this.list.delete(c),c.crossOrigin||(c.crossOrigin=this.crossOrigin),c.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(c,g){this.inflight&&(this.inflight.delete(c),this.updateProgress(),g?(this.totalComplete++,this.queue.set(c),this.emit(n.FILE_LOAD,c),c.onProcess()):(this.totalFailed++,this._deleteQueue.set(c),this.emit(n.FILE_LOAD_ERROR,c),this.fileProcessComplete(c)))},fileProcessComplete:function(c){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(c.state===p.FILE_ERRORED?c.multiFile&&c.multiFile.onFileFailed(c):c.state===p.FILE_COMPLETE&&(c.multiFile?c.multiFile.isReadyToProcess()&&(c.multiFile.addToCache(),c.multiFile.pendingDestroy()):(c.addToCache(),c.pendingDestroy())),this.queue.delete(c),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(c){this._deleteQueue.set(c)},saveJSON:function(c,g){return this.save(JSON.stringify(c),g)},save:function(c,g,m){g===void 0&&(g="file.json"),m===void 0&&(m="application/json");var y=new Blob([c],{type:m}),x=URL.createObjectURL(y),S=document.createElement("a");return S.download=g,S.textContent="Download "+g,S.href=x,S.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var c=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(s(g,"baseURL",c.loaderBaseURL)),this.setPath(s(g,"path",c.loaderPath)),this.setPrefix(s(g,"prefix",c.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});h.register("Loader",f,"load"),v.exports=f},3374:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),p=t(92638),a=function(r,n){var e=r===void 0?p():l({},r);if(n)for(var s in n)n[s]!==void 0&&(e[s]=n[s]);return e};v.exports=a},26430:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(54899),r=new l({initialize:function(e,s,o,i){var h=[];i.forEach(function(f){f&&h.push(f)}),this.loader=e,this.type=s,this.key=o;var u=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+u),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=p.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var d=0;d<h.length;d++)h[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,n,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});v.exports=r},84376:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3374),p=function(a,r){var n=l(r,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),s={responseText:atob(e)};a.onBase64Load(s);return}var o=new XMLHttpRequest;if(o.open("GET",a.src,n.async,n.user,n.password),o.responseType=a.xhrSettings.responseType,o.timeout=n.timeout,n.headers)for(var i in n.headers)o.setRequestHeader(i,n.headers[i]);return n.header&&n.headerValue&&o.setRequestHeader(n.header,n.headerValue),n.requestedWith&&o.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&o.overrideMimeType(n.overrideMimeType),n.withCredentials&&(o.withCredentials=!0),o.onload=a.onLoad.bind(a,o),o.onerror=a.onError.bind(a,o),o.onprogress=a.onProgress.bind(a),o.ontimeout=a.onError.bind(a,o),o.send(),o};v.exports=p},92638:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r,n){return t===void 0&&(t=""),l===void 0&&(l=!0),p===void 0&&(p=""),a===void 0&&(a=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:t,async:l,user:p,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};v.exports=T},23906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};v.exports=T},42155:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addfile"},38991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},27540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete"},87464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete-"},94486:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loaderror"},13035:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="load"},38144:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fileprogress"},97520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postprocess"},85595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="progress"},55680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},54899:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(518),r=t(54899),n=new l({Extends:a,initialize:function(s,o,i,h,u){a.call(this,s,o,i,h,u),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(e,s,o,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,s,i,o));return this}),v.exports=n},76272:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new l({Extends:s,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new e(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","json"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new e(h,u,f,g);m.linkFile?s.call(this,h,"atlasjson",u,[m,y,m.linkFile]):s.call(this,h,"atlasjson",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),h.addToCache(),this.complete=!0}}});p.register("aseprite",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),v.exports=o},38734:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new l({Extends:s,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new e(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","json"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new e(h,u,f,g);m.linkFile?s.call(this,h,"atlasjson",u,[m,y,m.linkFile]):s.call(this,h,"atlasjson",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),this.complete=!0}}});p.register("atlas",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),v.exports=o},74599:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(57318),o=new l({Extends:e,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new s(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","xml"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new s(h,u,f,g);m.linkFile?e.call(this,h,"atlasxml",u,[m,y,m.linkFile]):e.call(this,h,"atlasxml",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,h.data,u),this.complete=!0}}});p.register("atlasXML",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),v.exports=o},21097:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(89749),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f,c){if(s(u)){var g=u;u=n(g,"key"),f=n(g,"xhrSettings"),c=n(g,"context",c)}var m={type:"audio",cache:h.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:u,url:d.url,xhrSettings:f,config:{context:c}};a.call(this,h,m)},onProcess:function(){this.state=p.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){i.data=h,i.onProcessComplete()},function(h){console.error("Error decoding audio: "+i.key+" - ",h?h.message:null),i.onProcessError()}),this.config.context=null}});o.create=function(i,h,u,d,f){var c=i.systems.game,g=c.config.audio,m=c.device.audio;s(h)&&(u=n(h,"url",[]),d=n(h,"config",{}));var y=o.getAudioURL(c,u);return y?m.webAudio&&!g.disableWebAudio?new o(i,h,y,f,c.sound.context):new e(i,h,y,d):(console.warn('No audio URLs for "%s" can play on this device',h),null)},o.getAudioURL=function(i,h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var d=n(h[u],"url",h[u]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var f=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(f=n(h[u],"type",f?f[1]:"").toLowerCase(),i.device.audio[f])return{url:d,type:f}}return null},r.register("audio",function(i,h,u,d){var f=this.systems.game,c=f.config.audio,g=f.device.audio;if(c.noAudio||!g.webAudio&&!g.audioData)return this;var m;if(Array.isArray(i))for(var y=0;y<i.length;y++)m=o.create(this,i[y]),m&&this.addFile(m);else m=o.create(this,i,h,u,d),m&&this.addFile(m);return this}),v.exports=o},89524:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21097),p=t(83419),a=t(74099),r=t(95540),n=t(41212),e=t(518),s=t(26430),o=new p({Extends:s,initialize:function(h,u,d,f,c,g,m){if(n(u)){var y=u;u=r(y,"key"),d=r(y,"jsonURL"),f=r(y,"audioURL"),c=r(y,"audioConfig"),g=r(y,"audioXhrSettings"),m=r(y,"jsonXhrSettings")}var x;if(!f)x=new e(h,u,d,m),s.call(this,h,"audiosprite",u,[x]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=g;else{var S=l.create(h,u,f,c,g);S&&(x=new e(h,u,d,m),s.call(this,h,"audiosprite",u,[S,x]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,d=r(this.config,"audioConfig"),f=r(this.config,"audioXhrSettings"),c=l.create(this.loader,i.key,u,d,f);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1];i.addToCache(),h.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,h,u,d,f,c){var g=this.systems.game,m=g.config.audio,y=g.device.audio;if(m&&m.noAudio||!y.webAudio&&!y.audioData)return this;var x;if(Array.isArray(i))for(var S=0;S<i.length;S++)x=new o(this,i[S]),x.files&&this.addFile(x.files);else x=new o(this,i,h,u,d,f,c),x.files&&this.addFile(x.files);return this})},85722:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f){var c="bin";if(e(h)){var g=h;h=n(g,"key"),u=n(g,"url"),d=n(g,"xhrSettings"),c=n(g,"extension",c),f=n(g,"dataType",f)}var m={type:"binary",cache:i.cacheManager.binary,extension:c,responseType:"arraybuffer",key:h,url:u,xhrSettings:d,config:{dataType:f}};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING;var o=this.config.dataType;this.data=o?new o(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(o,i,h,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,u,h));return this}),v.exports=s},97025:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(21859),o=t(57318),i=new l({Extends:e,initialize:function(u,d,f,c,g,m){var y,x;if(n(d)){var S=d;d=a(S,"key"),y=new r(u,{key:d,url:a(S,"textureURL"),extension:a(S,"textureExtension","png"),normalMap:a(S,"normalMap"),xhrSettings:a(S,"textureXhrSettings")}),x=new o(u,{key:d,url:a(S,"fontDataURL"),extension:a(S,"fontDataExtension","xml"),xhrSettings:a(S,"fontDataXhrSettings")})}else y=new r(u,d,f,g),x=new o(u,d,c,m);y.linkFile?e.call(this,u,"bitmapfont",d,[y,x,y.linkFile]):e.call(this,u,"bitmapfont",d,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1];h.addToCache();var d=h.cache.get(h.key),f=s(u.data,h.cache.getFrame(h.key),0,0,d);this.loader.cacheManager.bitmapFont.add(h.key,{data:f,texture:h.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(h,u,d,f,c){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new i(this,h[m]),this.addFile(g.files);else g=new i(this,h,u,d,f,c),this.addFile(g.files);return this}),v.exports=i},16024:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="css";if(e(h)){var c=h;h=n(c,"key"),u=n(c,"url"),d=n(c,"xhrSettings"),f=n(c,"extension",f)}var g={type:"script",cache:!1,extension:f,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),v.exports=s},69559:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38734),p=t(85722),a=t(83419),r=t(74099),n=t(95540),e=t(19550),s=t(41212),o=t(518),i=t(31403),h=t(46975),u=t(59327),d=t(26430),f=t(82038),c=t(55222),g=new a({Extends:d,initialize:function(y,x,S,C){if(S.multiAtlasURL){var A=new o(y,{key:x,url:S.multiAtlasURL,xhrSettings:C,config:S});d.call(this,y,"texture",x,[A])}else{var F=S.textureURL.substr(S.textureURL.length-3);S.type||(S.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var M=new p(y,{key:x,url:S.textureURL,extension:F,xhrSettings:C,config:S});if(S.atlasURL){var w=new o(y,{key:x,url:S.atlasURL,xhrSettings:C,config:S});d.call(this,y,"texture",x,[M,w])}else d.call(this,y,"texture",x,[M])}this.config=S},onFileComplete:function(m){var y=this.files.indexOf(m);if(y!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(m.type==="json"&&m.data.hasOwnProperty("textures")){var x=m.data.textures,S=this.config,C=this.loader,A=C.baseURL,F=C.path,M=C.prefix,w=n(S,"multiBaseURL",this.baseURL),R=n(S,"multiPath",this.path),O=n(S,"prefix",this.prefix),U=n(S,"textureXhrSettings");w&&C.setBaseURL(w),R&&C.setPath(R),O&&C.setPrefix(O);for(var X=0;X<x.length;X++){var W=x[X].image,Y="CMA"+this.multiKeyIndex+"_"+W,N=new p(C,Y,W,U);if(this.addToMultiFile(N),C.addFile(N),x[X].normalMap){var V=new p(C,Y,x[X].normalMap,U);V.type="normalMap",N.setLink(V),this.addToMultiFile(V),C.addFile(V)}}C.setBaseURL(A),C.setPath(F),C.setPrefix(M)}}},addToCache:function(){function m(w){console.warn('Compressed Texture Invalid: "'+A.key+'". '+w)}if(this.isReadyToProcess()){var y=this.config;if(y.multiAtlasURL)this.addMultiToCache();else{var x=this.loader.systems.renderer,S=this.loader.textureManager,C,A=this.files[0],F=this.files[1];if(y.type==="PVR"?C=f(A.data):y.type==="KTX"&&(C=i(A.data),C||m("KTX file contains unsupported format.")),C&&!c(C)&&(m("Texture dimensions failed verification. Check the texture format specifications for "+y.format+" 0x"+C.internalFormat.toString(16)+"."),C=null),C&&!x.supportsCompressedTexture(y.format,C.internalFormat)&&(m("Texture format "+y.format+" with internal format "+C.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),C=null),C){C.format=x.getCompressedTextureName(y.format,C.internalFormat);var M=F&&F.data?F.data:null;S.addCompressedTexture(A.key,C,M)}}this.complete=!0}},addMultiToCache:function(){for(var m=this.config,y=this.files[0],x=[],S=[],C=[],A=this.loader.systems.renderer,F=this.loader.textureManager,M,w=1;w<this.files.length;w++){var R=this.files[w];if(R.type!=="normalMap")for(var O=R.key.indexOf("_"),U=R.key.substr(O+1),X=R.data,W=0;W<y.data.textures.length;W++){var Y=y.data.textures[W];if(Y.image===U){m.type==="PVR"?M=f(X):m.type==="KTX"&&(M=i(X)),M&&A.supportsCompressedTexture(m.format,M.internalFormat)&&(M.format=A.getCompressedTextureName(m.format,M.internalFormat),S.push(M),x.push(Y),R.linkFile&&C.push(R.linkFile.data));break}}}C.length===0&&(C=void 0),F.addAtlasJSONArray(this.key,S,x,C),this.complete=!0}});r.register("texture",function(m,y,x){var S=this.systems.renderer,C=function(F,M,w,R){var O={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(M)){var U=M;M=n(U,"key"),w=n(U,"url"),R=n(U,"xhrSettings")}var X=!1;for(var W in w)if(S.supportsCompressedTexture(W)){var Y=w[W];typeof Y=="string"?O.textureURL=Y:O=h(Y,O),O.format=W.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",M);else if(O.format==="IMG"){var N,V;O.multiAtlasURL?(V=new u(F,M,O.multiAtlasURL,O.multiPath,O.multiBaseURL,R),N=V.files):O.atlasURL?(V=new l(F,M,O.textureURL,O.atlasURL,R),N=V.files):N=new e(F,M,O.textureURL,R),F.addFile(N)}else{var I=new g(F,M,O,R);F.addFile(I.files)}};if(Array.isArray(m))for(var A=0;A<m.length;A++)C(this,m[A]);else C(this,m,y,x);return this}),v.exports=g},87674:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(98356),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f,c,g){var m="ttf";if(s(u)){var y=u;u=n(y,"key"),d=n(y,"url"),f=n(y,"format","truetype"),c=n(y,"descriptors",null),g=n(y,"xhrSettings"),m=n(y,"extension",m)}else f===void 0&&(f="truetype");var x={type:"font",cache:!1,extension:m,responseType:"text",key:u,url:d,xhrSettings:g};a.call(this,h,x),this.data={format:f,descriptors:c},this.state=p.FILE_POPULATED},onProcess:function(){this.state=p.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var i,h=this.key,u="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(h,u,this.data.descriptors):i=new FontFace(h,u);var d=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",u),d.onProcessComplete()})}});r.register("font",function(i,h,u,d,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new o(this,i[c]));else this.addFile(new o(this,i,h,u,d,f));return this}),v.exports=o},47931:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(73894),o=new l({Extends:a,initialize:function(h,u,d,f,c){var g="glsl";if(e(u)){var m=u;u=n(m,"key"),d=n(m,"url"),f=n(m,"shaderType","fragment"),c=n(m,"xhrSettings"),g=n(m,"extension",g)}else f===void 0&&(f="fragment");var y={type:"glsl",cache:h.cacheManager.shader,extension:g,responseType:"text",key:u,url:d,config:{shaderType:f},xhrSettings:c};a.call(this,h,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),h=this.extractBlock(i,0);if(h)for(;h;){var u=this.getShaderName(h.header),d=this.getShaderType(h.header),f=this.getShaderUniforms(h.header),c=h.shader;if(this.cache.has(u)){var g=this.cache.get(u);d==="fragment"?g.fragmentSrc=c:g.vertexSrc=c,g.uniforms||(g.uniforms=f)}else d==="fragment"?this.cache.add(u,new s(u,c,"",f)):this.cache.add(u,new s(u,"",c,f));h=this.extractBlock(i,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var h={},u=0;u<i.length;u++){var d=i[u].trim();if(d.substring(0,8)==="uniform."){var f=d.indexOf(":");if(f){var c=d.substring(8,f);try{h[c]=JSON.parse(d.substring(f+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return h},extractBlock:function(i,h){for(var u=-1,d=-1,f=-1,c=!1,g=!1,m=[],y=[],x=h;x<i.length;x++){var S=i[x].trim();if(S==="---")if(u===-1)u=x,c=!0;else if(c)d=x,c=!1,g=!0;else{g=!1;break}else c?m.push(S):g&&(y.push(S),f=x)}return!c&&d!==-1?{header:m,shader:y.join(`
`),offset:f}:null}});r.register("glsl",function(i,h,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,h,u,d));return this}),v.exports=o},89749:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(54899),a=t(41299),r=t(95540),n=t(98356),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){if(e(h)){var f=h;h=r(f,"key"),d=r(f,"config",d)}var c={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:h,url:u.url,config:d};a.call(this,i,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var o=0;o<this.data.length;o++){var i=this.data[o];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(o){var i=o.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var o=this.config&&this.config.instances||1;this.filesTotal=o,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<o;i++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+i).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(i=0;i<this.data.length;i++)h=this.data[i],h.src=n(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});v.exports=s},88470:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="html";if(e(h)){var c=h;h=n(c,"key"),u=n(c,"url"),d=n(c,"xhrSettings"),f=n(c,"extension",f)}var g={type:"text",cache:i.cacheManager.html,extension:f,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),v.exports=s},14643:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f,c){d===void 0&&(d=512),f===void 0&&(f=512);var g="html";if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),d=n(m,"width",d),f=n(m,"height",f)}var y={type:"html",cache:i.textureManager,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{width:d,height:f}};a.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var o=this.config.width,i=this.config.height,h=[];h.push('<svg width="'+o+'px" height="'+i+'px" viewBox="0 0 '+o+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var u=[h.join(`
`)],d=this;try{var f=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=p.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(d.data),d.onProcessError()},a.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(o,i,h,u,d){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,h,u,d));return this}),v.exports=s},19550:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(98356),o=new l({Extends:a,initialize:function i(h,u,d,f,c){var g="png",m;if(e(u)){var y=u;u=n(y,"key"),d=n(y,"url"),m=n(y,"normalMap"),f=n(y,"xhrSettings"),g=n(y,"extension",g),c=n(y,"frameConfig")}Array.isArray(d)&&(m=d[1],d=d[0]);var x={type:"image",cache:h.textureManager,extension:g,responseType:"blob",key:u,url:d,xhrSettings:f,config:c};if(a.call(this,h,x),m){var S=new i(h,this.key,m,f,c);S.type="normalMap",this.setLink(S),h.addFile(S)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=p.FILE_PROCESSING,i===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=p.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=p.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),v.exports=o},518:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(35154),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f,c){var g="json";if(s(u)){var m=u;u=n(m,"key"),d=n(m,"url"),f=n(m,"xhrSettings"),g=n(m,"extension",g),c=n(m,"dataKey",c)}var y={type:"json",cache:h.cacheManager.json,extension:g,responseType:"text",key:u,url:d,xhrSettings:f,config:c};a.call(this,h,y),s(d)&&(c?this.data=e(d,c):this.data=d,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var h=this.config;typeof h=="string"?this.data=e(i,h,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,h,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,h,d,u));return this}),v.exports=o},59327:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new l({Extends:s,initialize:function(h,u,d,f,c,g,m){if(n(u)){var y=u;u=a(y,"key"),a(y,"url",!1)?d=a(y,"url"):d=a(y,"atlasURL"),g=a(y,"xhrSettings"),f=a(y,"path"),c=a(y,"baseURL"),m=a(y,"textureXhrSettings")}var x=new e(h,u,d,g);s.call(this,h,"multiatlas",u,[x]),this.config.path=f,this.config.baseURL=c,this.config.textureXhrSettings=m},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,d=this.config,f=this.loader,c=f.baseURL,g=f.path,m=f.prefix,y=a(d,"baseURL",this.baseURL),x=a(d,"path",this.path),S=a(d,"prefix",this.prefix),C=a(d,"textureXhrSettings");f.setBaseURL(y),f.setPath(x),f.setPrefix(S);for(var A=0;A<u.length;A++){var F=u[A].image,M="MA"+this.multiKeyIndex+"_"+F,w=new r(f,M,F,C);if(this.addToMultiFile(w),f.addFile(w),u[A].normalMap){var R=new r(f,M,u[A].normalMap,C);R.type="normalMap",w.setLink(R),this.addToMultiFile(R),f.addFile(R)}}f.setBaseURL(c),f.setPath(g),f.setPrefix(m)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],h=[],u=[],d=[],f=1;f<this.files.length;f++){var c=this.files[f];if(c.type!=="normalMap")for(var g=c.key.indexOf("_"),m=c.key.substr(g+1),y=c.data,x=0;x<i.data.textures.length;x++){var S=i.data.textures[x];if(S.image===m){u.push(y),h.push(S),c.linkFile&&d.push(c.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,h,d),this.complete=!0}}});p.register("multiatlas",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),v.exports=o},99297:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(34328),s=new l({Extends:n,initialize:function(i,h,u,d){var f="js",c=[];if(r(h)){var g=h;h=a(g,"key"),u=a(g,"url"),d=a(g,"xhrSettings"),f=a(g,"extension",f)}Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var y=new e(i,{key:h+"_"+m.toString(),url:u[m],extension:f,xhrSettings:d});y.onProcess=function(){this.onProcessComplete()},c.push(y)}n.call(this,i,"scripts",h,c)},addToCache:function(){if(this.isReadyToProcess()){for(var o=0;o<this.files.length;o++){var i=this.files[o];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});p.register("scripts",function(o,i,h){var u;if(Array.isArray(o))for(var d=0;d<o.length;d++)u=new s(this,o[d]),this.addFile(u.files);else u=new s(this,o,i,h),this.addFile(u.files);return this}),v.exports=s},41846:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(85048),s=t(61485),o=t(78776),i=new l({Extends:n,initialize:function(u,d,f,c,g,m){var y,x,S=u.cacheManager.obj;if(r(d)){var C=d;d=a(C,"key"),y=new o(u,{key:d,type:"obj",cache:S,url:a(C,"url"),extension:a(C,"extension","obj"),xhrSettings:a(C,"xhrSettings"),config:{flipUV:a(C,"flipUV",g)}}),c=a(C,"matURL"),c&&(x=new o(u,{key:d,type:"mat",cache:S,url:c,extension:a(C,"matExtension","mat"),xhrSettings:a(C,"xhrSettings")}))}else y=new o(u,{key:d,url:f,type:"obj",cache:S,extension:"obj",xhrSettings:m,config:{flipUV:g}}),c&&(x=new o(u,{key:d,url:c,type:"mat",cache:S,extension:"mat",xhrSettings:m}));n.call(this,u,"obj",d,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1],d=e(h.data,h.config.flipUV);u&&(d.materials=s(u.data)),h.cache.add(h.key,d),this.complete=!0}}});p.register("obj",function(h,u,d,f,c){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new i(this,h[m]),this.addFile(g.files);else g=new i(this,h,u,d,f,c),this.addFile(g.files);return this}),v.exports=i},58610:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(74099),r=t(518),n=new l({Extends:r,initialize:function(s,o,i,h,u){r.call(this,s,o,i,h,u),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,s,o,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,s,i,o));return this}),v.exports=n},48988:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f,c){var g="js";if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),d=n(m,"start"),f=n(m,"mapping")}var y={type:"plugin",cache:!1,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{start:d,mapping:f}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,h=n(i,"start",!1),u=n(i,"mapping",null);if(this.state===p.FILE_POPULATED)o.install(this.key,this.data,h,u);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=o.install(this.key,window[this.key],h,u);(h||u)&&(this.loader.systems[u]=d,this.loader.scene[u]=d)}this.onProcessComplete()}});r.register("plugin",function(o,i,h,u,d){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,h,u,d));return this}),v.exports=s},67397:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f){var c="svg";if(e(h)){var g=h;h=n(g,"key"),u=n(g,"url"),d=n(g,"svgConfig",{}),f=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"svg",cache:i.textureManager,extension:c,responseType:"text",key:h,url:u,xhrSettings:f,config:{width:n(d,"width"),height:n(d,"height"),scale:n(d,"scale")}};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING;var o=this.xhrLoader.responseText,i=[o],h=this.config.width,u=this.config.height,d=this.config.scale;t:if(h&&u||d){var f=null,c=new DOMParser;f=c.parseFromString(o,"text/xml");var g=f.getElementsByTagName("svg")[0],m=g.hasAttribute("viewBox"),y=parseFloat(g.getAttribute("width")),x=parseFloat(g.getAttribute("height"));if(!m&&y&&x)g.setAttribute("viewBox","0  0 "+y+" "+x);else if(m&&!y&&!x){var S=g.getAttribute("viewBox").split(/\s+|,/);y=S[2],x=S[3]}if(d)if(y&&x)h=y*d,u=x*d;else break t;g.setAttribute("width",h.toString()+"px"),g.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(g)]}try{var C=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,F=!1;this.data.onload=function(){F||a.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){F?A.onProcessError():(F=!0,a.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,C,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(o,i,h,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,h,u));return this}),v.exports=s},88423:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="js";if(e(h)){var c=h;h=n(c,"key"),u=n(c,"url"),d=n(c,"xhrSettings"),f=n(c,"extension",f)}var g={type:"text",extension:f,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(o)),this.complete=!0}});r.register("sceneFile",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),v.exports=s},56812:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f,c){var g="js";if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),d=n(m,"systemKey"),f=n(m,"sceneKey")}var y={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{systemKey:d,sceneKey:f}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,h=this.key,u=n(i,"systemKey",h),d=n(i,"sceneKey",h);this.state===p.FILE_POPULATED?o.installScenePlugin(u,this.data,d,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),o.installScenePlugin(u,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(o,i,h,u,d){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,h,u,d));return this}),v.exports=s},34328:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f){var c="js";if(e(h)){var g=h;h=n(g,"key"),u=n(g,"url"),d=n(g,"type","script"),f=n(g,"xhrSettings"),c=n(g,"extension",c)}else d===void 0&&(d="script");var m={type:d,cache:!1,extension:c,responseType:"text",key:h,url:u,xhrSettings:f};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(o,i,h,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,h,u));return this}),v.exports=s},85035:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(74099),r=t(19550),n=new l({Extends:r,initialize:function(s,o,i,h,u){r.call(this,s,o,i,u,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,s,o,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,s,o,i));return this}),v.exports=n},78776:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="text",c="txt",g=i.cacheManager.text;if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),d=n(m,"xhrSettings"),c=n(m,"extension",c),f=n(m,"type",f),g=n(m,"cache",g)}var y={type:f,cache:g,extension:c,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),v.exports=s},49477:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(80341),o=new l({Extends:a,initialize:function(h,u,d,f){var c="csv";if(e(u)){var g=u;u=n(g,"key"),d=n(g,"url"),f=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:c,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,h,m),this.tilemapFormat=s.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),v.exports=o},40807:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(518),r=t(80341),n=new l({Extends:a,initialize:function(s,o,i,h){a.call(this,s,o,i,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapImpact",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,o));return this}),v.exports=n},56775:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(518),r=t(80341),n=new l({Extends:a,initialize:function(s,o,i,h){a.call(this,s,o,i,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});p.register("tilemapTiledJSON",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,o));return this}),v.exports=n},25771:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(78776),o=new l({Extends:e,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new s(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","txt"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new s(h,u,f,g);m.linkFile?e.call(this,h,"unityatlas",u,[m,y,m.linkFile]):e.call(this,h,"unityatlas",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,h.data,u),this.complete=!0}}});p.register("unityAtlas",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),v.exports=o},33720:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(98356),e=t(95540),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f){if(f===void 0&&(f=!1),s(u)){var c=u;u=e(c,"key"),d=e(c,"url",[]),f=e(c,"noAudio",!1)}var g=h.systems.game.device.video.getVideoURL(d);g||console.warn("VideoFile: No supported format for "+u);var m={type:"video",cache:h.cacheManager.video,extension:g.type,key:u,url:g.url,config:{noAudio:f}};a.call(this,h,m)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),v.exports=o},57318:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(56836),o=new l({Extends:a,initialize:function(h,u,d,f){var c="xml";if(e(u)){var g=u;u=n(g,"key"),d=n(g,"url"),f=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"xml",cache:h.cacheManager.xml,extension:c,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,h,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),v.exports=o},64589:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23906),p=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=p(!1,a,l),v.exports=a},53307:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var l=0,p=0;p<t.length;p++)l+=+t[p];return l/t.length};v.exports=T},85710:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6411),p=function(a,r){return l(a)/l(r)/l(a-r)};v.exports=p},30976:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return Math.floor(Math.random()*(l-t+1)+t)};v.exports=T},87842:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){var n=(a-l)*.5,e=(r-p)*.5,s=t*t,o=t*s;return(2*p-2*a+n+e)*o+(-3*p+3*a-2*n-e)*s+n*t+p};v.exports=T},26302:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){l===void 0&&(l=0),p===void 0&&(p=10);var a=Math.pow(p,-l);return Math.ceil(t*a)/a};v.exports=T},45319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return Math.max(l,Math.min(p,t))};v.exports=T},39506:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=function(a){return a*l.DEG_TO_RAD};v.exports=p},61241:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return Math.abs(t-l)};v.exports=T},38857:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(37867),r=t(29747),n=new a,e=new p({initialize:function s(o,i,h,u){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=s.DefaultOrder),this._x=o,this._y=i,this._z=h,this._order=u,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,o,i,h){return h===void 0&&(h=this._order),this._x=s,this._y=o,this._z=i,this._order=h,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,o,i){return o===void 0&&(o=this._order),i===void 0&&(i=!1),n.fromQuat(s),this.setFromRotationMatrix(n,o,i)},setFromRotationMatrix:function(s,o,i){o===void 0&&(o=this._order),i===void 0&&(i=!1);var h=s.val,u=h[0],d=h[4],f=h[8],c=h[1],g=h[5],m=h[9],y=h[2],x=h[6],S=h[10],C=0,A=0,F=0,M=.99999;switch(o){case"XYZ":{A=Math.asin(l(f,-1,1)),Math.abs(f)<M?(C=Math.atan2(-m,S),F=Math.atan2(-d,u)):C=Math.atan2(x,g);break}case"YXZ":{C=Math.asin(-l(m,-1,1)),Math.abs(m)<M?(A=Math.atan2(f,S),F=Math.atan2(c,g)):A=Math.atan2(-y,u);break}case"ZXY":{C=Math.asin(l(x,-1,1)),Math.abs(x)<M?(A=Math.atan2(-y,S),F=Math.atan2(-d,g)):F=Math.atan2(c,u);break}case"ZYX":{A=Math.asin(-l(y,-1,1)),Math.abs(y)<M?(C=Math.atan2(x,S),F=Math.atan2(c,u)):F=Math.atan2(-d,g);break}case"YZX":{F=Math.asin(l(c,-1,1)),Math.abs(c)<M?(C=Math.atan2(-m,g),A=Math.atan2(-y,u)):A=Math.atan2(f,S);break}case"XZY":{F=Math.asin(-l(d,-1,1)),Math.abs(d)<M?(C=Math.atan2(x,g),A=Math.atan2(f,u)):C=Math.atan2(-m,S);break}}return this._x=C,this._y=A,this._z=F,this._order=o,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",v.exports=e},6411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(t===0)return 1;for(var l=t;--t;)l*=t;return l};v.exports=T},99472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return Math.random()*(l-t)+t};v.exports=T},77623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){l===void 0&&(l=0),p===void 0&&(p=10);var a=Math.pow(p,-l);return Math.floor(t*a)/a};v.exports=T},62945:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=function(a,r,n){return a=l(a,0,1),(n-r)*a+r};v.exports=p},38265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t/l/1e3};v.exports=T},78702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t==parseFloat(t)?!(t%2):void 0};v.exports=T},94883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===parseFloat(t)?!(t%2):void 0};v.exports=T},28915:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return(l-t)*p+t};v.exports=T},94908:v=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return p===void 0&&(p=0),t.clone().lerp(l,p)};v.exports=T},94434:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new p(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,n=a.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this},fromMat4:function(a){var r=a.val,n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[4],n[4]=r[5],n[5]=r[6],n[6]=r[8],n[7]=r[9],n[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],n=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=n,a[7]=e,this},invert:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],h=a[6],u=a[7],d=a[8],f=d*o-i*u,c=-d*s+i*h,g=u*s-o*h,m=r*f+n*c+e*g;return m?(m=1/m,a[0]=f*m,a[1]=(-d*n+e*u)*m,a[2]=(i*n-e*o)*m,a[3]=c*m,a[4]=(d*r-e*h)*m,a[5]=(-i*r+e*s)*m,a[6]=g*m,a[7]=(-u*r+n*h)*m,a[8]=(o*r-n*s)*m,this):null},adjoint:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],h=a[6],u=a[7],d=a[8];return a[0]=o*d-i*u,a[1]=e*u-n*d,a[2]=n*i-e*o,a[3]=i*h-s*d,a[4]=r*d-e*h,a[5]=e*s-r*i,a[6]=s*u-o*h,a[7]=n*h-r*u,a[8]=r*o-n*s,this},determinant:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],h=a[6],u=a[7],d=a[8];return r*(d*o-i*u)+n*(-d*s+i*h)+e*(u*s-o*h)},multiply:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],o=r[3],i=r[4],h=r[5],u=r[6],d=r[7],f=r[8],c=a.val,g=c[0],m=c[1],y=c[2],x=c[3],S=c[4],C=c[5],A=c[6],F=c[7],M=c[8];return r[0]=g*n+m*o+y*u,r[1]=g*e+m*i+y*d,r[2]=g*s+m*h+y*f,r[3]=x*n+S*o+C*u,r[4]=x*e+S*i+C*d,r[5]=x*s+S*h+C*f,r[6]=A*n+F*o+M*u,r[7]=A*e+F*i+M*d,r[8]=A*s+F*h+M*f,this},translate:function(a){var r=this.val,n=a.x,e=a.y;return r[6]=n*r[0]+e*r[3]+r[6],r[7]=n*r[1]+e*r[4]+r[7],r[8]=n*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],o=r[3],i=r[4],h=r[5],u=Math.sin(a),d=Math.cos(a);return r[0]=d*n+u*o,r[1]=d*e+u*i,r[2]=d*s+u*h,r[3]=d*o-u*n,r[4]=d*i-u*e,r[5]=d*h-u*s,this},scale:function(a){var r=this.val,n=a.x,e=a.y;return r[0]=n*r[0],r[1]=n*r[1],r[2]=n*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,n=a.y,e=a.z,s=a.w,o=r+r,i=n+n,h=e+e,u=r*o,d=r*i,f=r*h,c=n*i,g=n*h,m=e*h,y=s*o,x=s*i,S=s*h,C=this.val;return C[0]=1-(c+m),C[3]=d+S,C[6]=f-x,C[1]=d-S,C[4]=1-(u+m),C[7]=g+y,C[2]=f+x,C[5]=g-y,C[8]=1-(u+c),this},normalFromMat4:function(a){var r=a.val,n=this.val,e=r[0],s=r[1],o=r[2],i=r[3],h=r[4],u=r[5],d=r[6],f=r[7],c=r[8],g=r[9],m=r[10],y=r[11],x=r[12],S=r[13],C=r[14],A=r[15],F=e*u-s*h,M=e*d-o*h,w=e*f-i*h,R=s*d-o*u,O=s*f-i*u,U=o*f-i*d,X=c*S-g*x,W=c*C-m*x,Y=c*A-y*x,N=g*C-m*S,V=g*A-y*S,I=m*A-y*C,B=F*I-M*V+w*N+R*Y-O*W+U*X;return B?(B=1/B,n[0]=(u*I-d*V+f*N)*B,n[1]=(d*Y-h*I-f*W)*B,n[2]=(h*V-u*Y+f*X)*B,n[3]=(o*V-s*I-i*N)*B,n[4]=(e*I-o*Y+i*W)*B,n[5]=(s*Y-e*V-i*X)*B,n[6]=(S*U-C*O+A*R)*B,n[7]=(C*w-x*U-A*M)*B,n[8]=(x*O-S*w+A*F)*B,this):null}});v.exports=p},37867:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(25836),a=1e-6,r=new l({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new r(this)},set:function(h){return this.copy(h)},setValues:function(h,u,d,f,c,g,m,y,x,S,C,A,F,M,w,R){var O=this.val;return O[0]=h,O[1]=u,O[2]=d,O[3]=f,O[4]=c,O[5]=g,O[6]=m,O[7]=y,O[8]=x,O[9]=S,O[10]=C,O[11]=A,O[12]=F,O[13]=M,O[14]=w,O[15]=R,this},copy:function(h){var u=h.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,u,d){var f=n.fromQuat(d),c=f.val,g=u.x,m=u.y,y=u.z;return this.setValues(c[0]*g,c[1]*g,c[2]*g,0,c[4]*m,c[5]*m,c[6]*m,0,c[8]*y,c[9]*y,c[10]*y,0,h.x,h.y,h.z,1)},xyz:function(h,u,d){this.identity();var f=this.val;return f[12]=h,f[13]=u,f[14]=d,this},scaling:function(h,u,d){this.zero();var f=this.val;return f[0]=h,f[5]=u,f[10]=d,f[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,u=h[1],d=h[2],f=h[3],c=h[6],g=h[7],m=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=u,h[6]=h[9],h[7]=h[13],h[8]=d,h[9]=c,h[11]=h[14],h[12]=f,h[13]=g,h[14]=m,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,u=h[0],d=h[1],f=h[2],c=h[3],g=h[4],m=h[5],y=h[6],x=h[7],S=h[8],C=h[9],A=h[10],F=h[11],M=h[12],w=h[13],R=h[14],O=h[15],U=u*m-d*g,X=u*y-f*g,W=u*x-c*g,Y=d*y-f*m,N=d*x-c*m,V=f*x-c*y,I=S*w-C*M,B=S*R-A*M,G=S*O-F*M,H=C*R-A*w,$=C*O-F*w,Z=A*O-F*R,Q=U*Z-X*$+W*H+Y*G-N*B+V*I;return Q?(Q=1/Q,this.setValues((m*Z-y*$+x*H)*Q,(f*$-d*Z-c*H)*Q,(w*V-R*N+O*Y)*Q,(A*N-C*V-F*Y)*Q,(y*G-g*Z-x*B)*Q,(u*Z-f*G+c*B)*Q,(R*W-M*V-O*X)*Q,(S*V-A*W+F*X)*Q,(g*$-m*G+x*I)*Q,(d*G-u*$-c*I)*Q,(M*N-w*W+O*U)*Q,(C*W-S*N-F*U)*Q,(m*B-g*H-y*I)*Q,(u*H-d*B+f*I)*Q,(w*X-M*Y-R*U)*Q,(S*Y-C*X+A*U)*Q)):this},adjoint:function(){var h=this.val,u=h[0],d=h[1],f=h[2],c=h[3],g=h[4],m=h[5],y=h[6],x=h[7],S=h[8],C=h[9],A=h[10],F=h[11],M=h[12],w=h[13],R=h[14],O=h[15];return this.setValues(m*(A*O-F*R)-C*(y*O-x*R)+w*(y*F-x*A),-(d*(A*O-F*R)-C*(f*O-c*R)+w*(f*F-c*A)),d*(y*O-x*R)-m*(f*O-c*R)+w*(f*x-c*y),-(d*(y*F-x*A)-m*(f*F-c*A)+C*(f*x-c*y)),-(g*(A*O-F*R)-S*(y*O-x*R)+M*(y*F-x*A)),u*(A*O-F*R)-S*(f*O-c*R)+M*(f*F-c*A),-(u*(y*O-x*R)-g*(f*O-c*R)+M*(f*x-c*y)),u*(y*F-x*A)-g*(f*F-c*A)+S*(f*x-c*y),g*(C*O-F*w)-S*(m*O-x*w)+M*(m*F-x*C),-(u*(C*O-F*w)-S*(d*O-c*w)+M*(d*F-c*C)),u*(m*O-x*w)-g*(d*O-c*w)+M*(d*x-c*m),-(u*(m*F-x*C)-g*(d*F-c*C)+S*(d*x-c*m)),-(g*(C*R-A*w)-S*(m*R-y*w)+M*(m*A-y*C)),u*(C*R-A*w)-S*(d*R-f*w)+M*(d*A-f*C),-(u*(m*R-y*w)-g*(d*R-f*w)+M*(d*y-f*m)),u*(m*A-y*C)-g*(d*A-f*C)+S*(d*y-f*m))},determinant:function(){var h=this.val,u=h[0],d=h[1],f=h[2],c=h[3],g=h[4],m=h[5],y=h[6],x=h[7],S=h[8],C=h[9],A=h[10],F=h[11],M=h[12],w=h[13],R=h[14],O=h[15],U=u*m-d*g,X=u*y-f*g,W=u*x-c*g,Y=d*y-f*m,N=d*x-c*m,V=f*x-c*y,I=S*w-C*M,B=S*R-A*M,G=S*O-F*M,H=C*R-A*w,$=C*O-F*w,Z=A*O-F*R;return U*Z-X*$+W*H+Y*G-N*B+V*I},multiply:function(h){var u=this.val,d=u[0],f=u[1],c=u[2],g=u[3],m=u[4],y=u[5],x=u[6],S=u[7],C=u[8],A=u[9],F=u[10],M=u[11],w=u[12],R=u[13],O=u[14],U=u[15],X=h.val,W=X[0],Y=X[1],N=X[2],V=X[3];return u[0]=W*d+Y*m+N*C+V*w,u[1]=W*f+Y*y+N*A+V*R,u[2]=W*c+Y*x+N*F+V*O,u[3]=W*g+Y*S+N*M+V*U,W=X[4],Y=X[5],N=X[6],V=X[7],u[4]=W*d+Y*m+N*C+V*w,u[5]=W*f+Y*y+N*A+V*R,u[6]=W*c+Y*x+N*F+V*O,u[7]=W*g+Y*S+N*M+V*U,W=X[8],Y=X[9],N=X[10],V=X[11],u[8]=W*d+Y*m+N*C+V*w,u[9]=W*f+Y*y+N*A+V*R,u[10]=W*c+Y*x+N*F+V*O,u[11]=W*g+Y*S+N*M+V*U,W=X[12],Y=X[13],N=X[14],V=X[15],u[12]=W*d+Y*m+N*C+V*w,u[13]=W*f+Y*y+N*A+V*R,u[14]=W*c+Y*x+N*F+V*O,u[15]=W*g+Y*S+N*M+V*U,this},multiplyLocal:function(h){var u=this.val,d=h.val;return this.setValues(u[0]*d[0]+u[1]*d[4]+u[2]*d[8]+u[3]*d[12],u[0]*d[1]+u[1]*d[5]+u[2]*d[9]+u[3]*d[13],u[0]*d[2]+u[1]*d[6]+u[2]*d[10]+u[3]*d[14],u[0]*d[3]+u[1]*d[7]+u[2]*d[11]+u[3]*d[15],u[4]*d[0]+u[5]*d[4]+u[6]*d[8]+u[7]*d[12],u[4]*d[1]+u[5]*d[5]+u[6]*d[9]+u[7]*d[13],u[4]*d[2]+u[5]*d[6]+u[6]*d[10]+u[7]*d[14],u[4]*d[3]+u[5]*d[7]+u[6]*d[11]+u[7]*d[15],u[8]*d[0]+u[9]*d[4]+u[10]*d[8]+u[11]*d[12],u[8]*d[1]+u[9]*d[5]+u[10]*d[9]+u[11]*d[13],u[8]*d[2]+u[9]*d[6]+u[10]*d[10]+u[11]*d[14],u[8]*d[3]+u[9]*d[7]+u[10]*d[11]+u[11]*d[15],u[12]*d[0]+u[13]*d[4]+u[14]*d[8]+u[15]*d[12],u[12]*d[1]+u[13]*d[5]+u[14]*d[9]+u[15]*d[13],u[12]*d[2]+u[13]*d[6]+u[14]*d[10]+u[15]*d[14],u[12]*d[3]+u[13]*d[7]+u[14]*d[11]+u[15]*d[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,u){var d=h.val,f=u.val,c=d[0],g=d[4],m=d[8],y=d[12],x=d[1],S=d[5],C=d[9],A=d[13],F=d[2],M=d[6],w=d[10],R=d[14],O=d[3],U=d[7],X=d[11],W=d[15],Y=f[0],N=f[4],V=f[8],I=f[12],B=f[1],G=f[5],H=f[9],$=f[13],Z=f[2],Q=f[6],j=f[10],_=f[14],tt=f[3],et=f[7],rt=f[11],at=f[15];return this.setValues(c*Y+g*B+m*Z+y*tt,x*Y+S*B+C*Z+A*tt,F*Y+M*B+w*Z+R*tt,O*Y+U*B+X*Z+W*tt,c*N+g*G+m*Q+y*et,x*N+S*G+C*Q+A*et,F*N+M*G+w*Q+R*et,O*N+U*G+X*Q+W*et,c*V+g*H+m*j+y*rt,x*V+S*H+C*j+A*rt,F*V+M*H+w*j+R*rt,O*V+U*H+X*j+W*rt,c*I+g*$+m*_+y*at,x*I+S*$+C*_+A*at,F*I+M*$+w*_+R*at,O*I+U*$+X*_+W*at)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,u,d){var f=this.val;return f[12]=f[0]*h+f[4]*u+f[8]*d+f[12],f[13]=f[1]*h+f[5]*u+f[9]*d+f[13],f[14]=f[2]*h+f[6]*u+f[10]*d+f[14],f[15]=f[3]*h+f[7]*u+f[11]*d+f[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,u,d){var f=this.val;return f[0]=f[0]*h,f[1]=f[1]*h,f[2]=f[2]*h,f[3]=f[3]*h,f[4]=f[4]*u,f[5]=f[5]*u,f[6]=f[6]*u,f[7]=f[7]*u,f[8]=f[8]*d,f[9]=f[9]*d,f[10]=f[10]*d,f[11]=f[11]*d,this},makeRotationAxis:function(h,u){var d=Math.cos(u),f=Math.sin(u),c=1-d,g=h.x,m=h.y,y=h.z,x=c*g,S=c*m;return this.setValues(x*g+d,x*m-f*y,x*y+f*m,0,x*m+f*y,S*m+d,S*y-f*g,0,x*y-f*m,S*y+f*g,c*y*y+d,0,0,0,0,1)},rotate:function(h,u){var d=this.val,f=u.x,c=u.y,g=u.z,m=Math.sqrt(f*f+c*c+g*g);if(Math.abs(m)<a)return this;m=1/m,f*=m,c*=m,g*=m;var y=Math.sin(h),x=Math.cos(h),S=1-x,C=d[0],A=d[1],F=d[2],M=d[3],w=d[4],R=d[5],O=d[6],U=d[7],X=d[8],W=d[9],Y=d[10],N=d[11],V=d[12],I=d[13],B=d[14],G=d[15],H=f*f*S+x,$=c*f*S+g*y,Z=g*f*S-c*y,Q=f*c*S-g*y,j=c*c*S+x,_=g*c*S+f*y,tt=f*g*S+c*y,et=c*g*S-f*y,rt=g*g*S+x;return this.setValues(C*H+w*$+X*Z,A*H+R*$+W*Z,F*H+O*$+Y*Z,M*H+U*$+N*Z,C*Q+w*j+X*_,A*Q+R*j+W*_,F*Q+O*j+Y*_,M*Q+U*j+N*_,C*tt+w*et+X*rt,A*tt+R*et+W*rt,F*tt+O*et+Y*rt,M*tt+U*et+N*rt,V,I,B,G)},rotateX:function(h){var u=this.val,d=Math.sin(h),f=Math.cos(h),c=u[4],g=u[5],m=u[6],y=u[7],x=u[8],S=u[9],C=u[10],A=u[11];return u[4]=c*f+x*d,u[5]=g*f+S*d,u[6]=m*f+C*d,u[7]=y*f+A*d,u[8]=x*f-c*d,u[9]=S*f-g*d,u[10]=C*f-m*d,u[11]=A*f-y*d,this},rotateY:function(h){var u=this.val,d=Math.sin(h),f=Math.cos(h),c=u[0],g=u[1],m=u[2],y=u[3],x=u[8],S=u[9],C=u[10],A=u[11];return u[0]=c*f-x*d,u[1]=g*f-S*d,u[2]=m*f-C*d,u[3]=y*f-A*d,u[8]=c*d+x*f,u[9]=g*d+S*f,u[10]=m*d+C*f,u[11]=y*d+A*f,this},rotateZ:function(h){var u=this.val,d=Math.sin(h),f=Math.cos(h),c=u[0],g=u[1],m=u[2],y=u[3],x=u[4],S=u[5],C=u[6],A=u[7];return u[0]=c*f+x*d,u[1]=g*f+S*d,u[2]=m*f+C*d,u[3]=y*f+A*d,u[4]=x*f-c*d,u[5]=S*f-g*d,u[6]=C*f-m*d,u[7]=A*f-y*d,this},fromRotationTranslation:function(h,u){var d=h.x,f=h.y,c=h.z,g=h.w,m=d+d,y=f+f,x=c+c,S=d*m,C=d*y,A=d*x,F=f*y,M=f*x,w=c*x,R=g*m,O=g*y,U=g*x;return this.setValues(1-(F+w),C+U,A-O,0,C-U,1-(S+w),M+R,0,A+O,M-R,1-(S+F),0,u.x,u.y,u.z,1)},fromQuat:function(h){var u=h.x,d=h.y,f=h.z,c=h.w,g=u+u,m=d+d,y=f+f,x=u*g,S=u*m,C=u*y,A=d*m,F=d*y,M=f*y,w=c*g,R=c*m,O=c*y;return this.setValues(1-(A+M),S+O,C-R,0,S-O,1-(x+M),F+w,0,C+R,F-w,1-(x+A),0,0,0,0,1)},frustum:function(h,u,d,f,c,g){var m=1/(u-h),y=1/(f-d),x=1/(c-g);return this.setValues(c*2*m,0,0,0,0,c*2*y,0,0,(u+h)*m,(f+d)*y,(g+c)*x,-1,0,0,g*c*2*x,0)},perspective:function(h,u,d,f){var c=1/Math.tan(h/2),g=1/(d-f);return this.setValues(c/u,0,0,0,0,c,0,0,0,0,(f+d)*g,-1,0,0,2*f*d*g,0)},perspectiveLH:function(h,u,d,f){return this.setValues(2*d/h,0,0,0,0,2*d/u,0,0,0,0,-f/(d-f),1,0,0,d*f/(d-f),0)},ortho:function(h,u,d,f,c,g){var m=h-u,y=d-f,x=c-g;return m=m===0?m:1/m,y=y===0?y:1/y,x=x===0?x:1/x,this.setValues(-2*m,0,0,0,0,-2*y,0,0,0,0,2*x,0,(h+u)*m,(f+d)*y,(g+c)*x,1)},lookAtRH:function(h,u,d){var f=this.val;return i.subVectors(h,u),i.lengthSq()===0&&(i.z=1),i.normalize(),s.crossVectors(d,i),s.lengthSq()===0&&(Math.abs(d.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(d,i)),s.normalize(),o.crossVectors(i,s),f[0]=s.x,f[1]=s.y,f[2]=s.z,f[4]=o.x,f[5]=o.y,f[6]=o.z,f[8]=i.x,f[9]=i.y,f[10]=i.z,this},lookAt:function(h,u,d){var f=h.x,c=h.y,g=h.z,m=d.x,y=d.y,x=d.z,S=u.x,C=u.y,A=u.z;if(Math.abs(f-S)<a&&Math.abs(c-C)<a&&Math.abs(g-A)<a)return this.identity();var F=f-S,M=c-C,w=g-A,R=1/Math.sqrt(F*F+M*M+w*w);F*=R,M*=R,w*=R;var O=y*w-x*M,U=x*F-m*w,X=m*M-y*F;R=Math.sqrt(O*O+U*U+X*X),R?(R=1/R,O*=R,U*=R,X*=R):(O=0,U=0,X=0);var W=M*X-w*U,Y=w*O-F*X,N=F*U-M*O;return R=Math.sqrt(W*W+Y*Y+N*N),R?(R=1/R,W*=R,Y*=R,N*=R):(W=0,Y=0,N=0),this.setValues(O,W,F,0,U,Y,M,0,X,N,w,0,-(O*f+U*c+X*g),-(W*f+Y*c+N*g),-(F*f+M*c+w*g),1)},yawPitchRoll:function(h,u,d){this.zero(),n.zero(),e.zero();var f=this.val,c=n.val,g=e.val,m=Math.sin(d),y=Math.cos(d);return f[10]=1,f[15]=1,f[0]=y,f[1]=m,f[4]=-m,f[5]=y,m=Math.sin(u),y=Math.cos(u),c[0]=1,c[15]=1,c[5]=y,c[10]=y,c[9]=-m,c[6]=m,m=Math.sin(h),y=Math.cos(h),g[5]=1,g[15]=1,g[0]=y,g[2]=-m,g[8]=m,g[10]=y,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(h,u,d,f,c){return this.yawPitchRoll(h.y,h.x,h.z),n.scaling(d.x,d.y,d.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(n),this.multiplyLocal(e),f&&this.multiplyLocal(f),c&&this.multiplyLocal(c),this},multiplyToMat4:function(h,u){var d=this.val,f=h.val,c=d[0],g=d[1],m=d[2],y=d[3],x=d[4],S=d[5],C=d[6],A=d[7],F=d[8],M=d[9],w=d[10],R=d[11],O=d[12],U=d[13],X=d[14],W=d[15],Y=f[0],N=f[1],V=f[2],I=f[3],B=f[4],G=f[5],H=f[6],$=f[7],Z=f[8],Q=f[9],j=f[10],_=f[11],tt=f[12],et=f[13],rt=f[14],at=f[15];return u.setValues(Y*c+N*x+V*F+I*O,N*g+N*S+V*M+I*U,V*m+N*C+V*w+I*X,I*y+N*A+V*R+I*W,B*c+G*x+H*F+$*O,B*g+G*S+H*M+$*U,B*m+G*C+H*w+$*X,B*y+G*A+H*R+$*W,Z*c+Q*x+j*F+_*O,Z*g+Q*S+j*M+_*U,Z*m+Q*C+j*w+_*X,Z*y+Q*A+j*R+_*W,tt*c+et*x+rt*F+at*O,tt*g+et*S+rt*M+at*U,tt*m+et*C+rt*w+at*X,tt*y+et*A+rt*R+at*W)},fromRotationXYTranslation:function(h,u,d){var f=u.x,c=u.y,g=u.z,m=Math.sin(h.x),y=Math.cos(h.x),x=Math.sin(h.y),S=Math.cos(h.y),C=f,A=c,F=g,M=-m,w=0-M*x,R=0-y*x,O=M*S,U=y*S;return d||(C=S*f+x*g,A=w*f+y*c+O*g,F=R*f+m*c+U*g),this.setValues(S,w,R,0,0,y,m,0,x,O,U,0,C,A,F,1)},getMaxScaleOnAxis:function(){var h=this.val,u=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],d=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],f=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(u,d,f))}}),n=new r,e=new r,s=new p,o=new p,i=new p;v.exports=r},86883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return Math.min(t+l,p)};v.exports=T},50040:v=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=t.length;if(l===0)return 0;t.sort(function(a,r){return a-r});var p=Math.floor(l/2);return l%2===0?(t[p]+t[p-1])/2:t[p]};v.exports=T},37204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return Math.max(t-l,p)};v.exports=T},65201:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){p===void 0&&(p=l+1);var r=(t-l)/(p-l);return r>1?a!==void 0?(r=(a-t)/(a-p),r<0&&(r=0)):r=1:r<0&&(r=0),r};v.exports=T},15746:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(94434),a=t(29747),r=t(25836),n=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),o=new r(1,0,0),i=new r(0,1,0),h=new r,u=new p,d=new l({initialize:function(c,g,m,y){this.onChangeCallback=a,this.set(c,g,m,y)},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f,this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,c,g,m,y){return y===void 0&&(y=!0),typeof f=="object"?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=c||0,this._z=g||0,this._w=m||0),y&&this.onChangeCallback(this),this},add:function(f){return this._x+=f.x,this._y+=f.y,this._z+=f.z,this._w+=f.w,this.onChangeCallback(this),this},subtract:function(f){return this._x-=f.x,this._y-=f.y,this._z-=f.z,this._w-=f.w,this.onChangeCallback(this),this},scale:function(f){return this._x*=f,this._y*=f,this._z*=f,this._w*=f,this.onChangeCallback(this),this},length:function(){var f=this.x,c=this.y,g=this.z,m=this.w;return Math.sqrt(f*f+c*c+g*g+m*m)},lengthSq:function(){var f=this.x,c=this.y,g=this.z,m=this.w;return f*f+c*c+g*g+m*m},normalize:function(){var f=this.x,c=this.y,g=this.z,m=this.w,y=f*f+c*c+g*g+m*m;return y>0&&(y=1/Math.sqrt(y),this._x=f*y,this._y=c*y,this._z=g*y,this._w=m*y),this.onChangeCallback(this),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,c){c===void 0&&(c=0);var g=this.x,m=this.y,y=this.z,x=this.w;return this.set(g+c*(f.x-g),m+c*(f.y-m),y+c*(f.z-y),x+c*(f.w-x))},rotationTo:function(f,c){var g=f.x*c.x+f.y*c.y+f.z*c.z;return g<-.999999?(h.copy(o).cross(f).length()<n&&h.copy(i).cross(f),h.normalize(),this.setAxisAngle(h,Math.PI)):g>.999999?this.set(0,0,0,1):(h.copy(f).cross(c),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(f,c,g){var m=u.val;return m[0]=c.x,m[3]=c.y,m[6]=c.z,m[1]=g.x,m[4]=g.y,m[7]=g.z,m[2]=-f.x,m[5]=-f.y,m[8]=-f.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,c){c=c*.5;var g=Math.sin(c);return this.set(g*f.x,g*f.y,g*f.z,Math.cos(c))},multiply:function(f){var c=this.x,g=this.y,m=this.z,y=this.w,x=f.x,S=f.y,C=f.z,A=f.w;return this.set(c*A+y*x+g*C-m*S,g*A+y*S+m*x-c*C,m*A+y*C+c*S-g*x,y*A-c*x-g*S-m*C)},slerp:function(f,c){var g=this.x,m=this.y,y=this.z,x=this.w,S=f.x,C=f.y,A=f.z,F=f.w,M=g*S+m*C+y*A+x*F;M<0&&(M=-M,S=-S,C=-C,A=-A,F=-F);var w=1-c,R=c;if(1-M>n){var O=Math.acos(M),U=Math.sin(O);w=Math.sin((1-c)*O)/U,R=Math.sin(c*O)/U}return this.set(w*g+R*S,w*m+R*C,w*y+R*A,w*x+R*F)},invert:function(){var f=this.x,c=this.y,g=this.z,m=this.w,y=f*f+c*c+g*g+m*m,x=y?1/y:0;return this.set(-f*x,-c*x,-g*x,m*x)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,x=Math.sin(f),S=Math.cos(f);return this.set(c*S+y*x,g*S+m*x,m*S-g*x,y*S-c*x)},rotateY:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,x=Math.sin(f),S=Math.cos(f);return this.set(c*S-m*x,g*S+y*x,m*S+c*x,y*S-g*x)},rotateZ:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,x=Math.sin(f),S=Math.cos(f);return this.set(c*S+g*x,g*S-c*x,m*S+y*x,y*S-m*x)},calculateW:function(){var f=this.x,c=this.y,g=this.z;return this.w=-Math.sqrt(1-f*f-c*c-g*g),this},setFromEuler:function(f,c){var g=f.x/2,m=f.y/2,y=f.z/2,x=Math.cos(g),S=Math.cos(m),C=Math.cos(y),A=Math.sin(g),F=Math.sin(m),M=Math.sin(y);switch(f.order){case"XYZ":{this.set(A*S*C+x*F*M,x*F*C-A*S*M,x*S*M+A*F*C,x*S*C-A*F*M,c);break}case"YXZ":{this.set(A*S*C+x*F*M,x*F*C-A*S*M,x*S*M-A*F*C,x*S*C+A*F*M,c);break}case"ZXY":{this.set(A*S*C-x*F*M,x*F*C+A*S*M,x*S*M+A*F*C,x*S*C-A*F*M,c);break}case"ZYX":{this.set(A*S*C-x*F*M,x*F*C+A*S*M,x*S*M-A*F*C,x*S*C+A*F*M,c);break}case"YZX":{this.set(A*S*C+x*F*M,x*F*C+A*S*M,x*S*M-A*F*C,x*S*C-A*F*M,c);break}case"XZY":{this.set(A*S*C-x*F*M,x*F*C-A*S*M,x*S*M+A*F*C,x*S*C+A*F*M,c);break}}return this},setFromRotationMatrix:function(f){var c=f.val,g=c[0],m=c[4],y=c[8],x=c[1],S=c[5],C=c[9],A=c[2],F=c[6],M=c[10],w=g+S+M,R;return w>0?(R=.5/Math.sqrt(w+1),this.set((F-C)*R,(y-A)*R,(x-m)*R,.25/R)):g>S&&g>M?(R=2*Math.sqrt(1+g-S-M),this.set(.25*R,(m+x)/R,(y+A)/R,(F-C)/R)):S>M?(R=2*Math.sqrt(1+S-g-M),this.set((m+x)/R,.25*R,(C+F)/R,(y-A)/R)):(R=2*Math.sqrt(1+M-g-S),this.set((y+A)/R,(C+F)/R,.25*R,(x-m)/R)),this},fromMat3:function(f){var c=f.val,g=c[0]+c[4]+c[8],m;if(g>0)m=Math.sqrt(g+1),this.w=.5*m,m=.5/m,this._x=(c[7]-c[5])*m,this._y=(c[2]-c[6])*m,this._z=(c[3]-c[1])*m;else{var y=0;c[4]>c[0]&&(y=1),c[8]>c[y*3+y]&&(y=2);var x=e[y],S=e[x];m=Math.sqrt(c[y*3+y]-c[x*3+x]-c[S*3+S]+1),s[y]=.5*m,m=.5/m,s[x]=(c[x*3+y]+c[y*3+x])*m,s[S]=(c[S*3+y]+c[y*3+S])*m,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(c[S*3+x]-c[x*3+S])*m}return this.onChangeCallback(this),this}});v.exports=d},43396:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=function(a){return a*l.RAD_TO_DEG};v.exports=p},74362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=1);var p=Math.random()*2*Math.PI;return t.x=Math.cos(p)*l,t.y=Math.sin(p)*l,t};v.exports=T},60706:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=1);var p=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*l;return t.x=Math.cos(p)*r,t.y=Math.sin(p)*r,t.z=a*l,t};v.exports=T},67421:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=1),t.x=(Math.random()*2-1)*l,t.y=(Math.random()*2-1)*l,t.z=(Math.random()*2-1)*l,t.w=(Math.random()*2-1)*l,t};v.exports=T},36305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.x,a=t.y;return t.x=p*Math.cos(l)-a*Math.sin(l),t.y=p*Math.sin(l)+a*Math.cos(l),t};v.exports=T},11520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=Math.cos(a),n=Math.sin(a),e=t.x-l,s=t.y-p;return t.x=e*r-s*n+l,t.y=e*n+s*r+p,t};v.exports=T},1163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){var n=a+Math.atan2(t.y-p,t.x-l);return t.x=l+r*Math.cos(n),t.y=p+r*Math.sin(n),t};v.exports=T},70336:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){return t.x=l+r*Math.cos(a),t.y=p+r*Math.sin(a),t};v.exports=T},72678:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),p=t(37867),a=t(15746),r=new p,n=new a,e=new l,s=function(o,i,h){return n.setAxisAngle(i,h),r.fromRotationTranslation(n,e.set(0,0,0)),o.transformMat4(r)};v.exports=s},2284:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t>0?Math.ceil(t):Math.floor(t)};v.exports=T},41013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){l===void 0&&(l=0),p===void 0&&(p=10);var a=Math.pow(p,-l);return Math.round(t*a)/a};v.exports=T},16922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){l===void 0&&(l=1),p===void 0&&(p=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],n=[],e=0;e<t;e++)p-=l*a,l+=p*a,r[e]=p,n[e]=l;return{sin:n,cos:r,length:t}};v.exports=T},7602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t<=l?0:t>=p?1:(t=(t-l)/(p-l),t*t*(3-2*t))};v.exports=T},54261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t=Math.max(0,Math.min(1,(t-l)/(p-l))),t*t*t*(t*(t*6-15)+10)};v.exports=T},44408:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e){e===void 0&&(e=new l);var s=0,o=0,i=r*n;return a>0&&a<=i&&(a>r-1?(o=Math.floor(a/r),s=a-o*r):s=a),e.set(s,o)};v.exports=p},85955:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s,o,i,h){h===void 0&&(h=new l);var u=Math.sin(s),d=Math.cos(s),f=d*o,c=u*o,g=-u*i,m=d*i,y=1/(f*m+g*-c);return h.x=m*y*a+-g*y*r+(e*g-n*m)*y,h.y=f*y*r+-c*y*a+(-e*f+n*c)*y,h};v.exports=p},26099:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(43855),a=new l({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setTo:function(r,n){return this.set(r,n)},setToPolar:function(r,n){return n==null&&(n=1),this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,n){return p(this.x,r.x,n)&&p(this.y,r.y,n)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var n=r.x-this.x,e=r.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(r){var n=r.x-this.x,e=r.y-this.y;return n*n+e*e},length:function(){var r=this.x,n=this.y;return Math.sqrt(r*r+n*n)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,n=this.y;return r*r+n*n},normalize:function(){var r=this.x,n=this.y,e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,n){n===void 0&&(n=0);var e=this.x,s=this.y;return this.x=e+n*(r.x-e),this.y=s+n*(r.y-s),this},transformMat3:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[3]*e+s[6],this.y=s[1]*n+s[4]*e+s[7],this},transformMat4:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[4]*e+s[12],this.y=s[1]*n+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var n=this.length();return n&&n>r&&this.scale(r/n),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var n=Math.cos(r),e=Math.sin(r);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(r){var n=this.dot(r)/r.dot(r);return this.copy(r).scale(n)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),v.exports=a},25836:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},subVectors:function(a,r){return this.x=a.x-r.x,this.y=a.y-r.y,this.z=a.z-r.z,this},crossVectors:function(a,r){var n=a.x,e=a.y,s=a.z,o=r.x,i=r.y,h=r.z;return this.x=e*h-s*i,this.y=s*o-n*h,this.z=n*i-e*o,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,n){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=n||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+n*n+e*e)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return r*r+n*n+e*e},length:function(){var a=this.x,r=this.y,n=this.z;return Math.sqrt(a*a+r*r+n*n)},lengthSq:function(){var a=this.x,r=this.y,n=this.z;return a*a+r*r+n*n},normalize:function(){var a=this.x,r=this.y,n=this.z,e=a*a+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=n*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z;return this.x=n*i-e*o,this.y=e*s-r*i,this.z=r*o-n*s,this},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this},applyMatrix3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[3]*n+s[6]*e,this.y=s[1]*r+s[4]*n+s[7]*e,this.z=s[2]*r+s[5]*n+s[8]*e,this},applyMatrix4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=1/(s[3]*r+s[7]*n+s[11]*e+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*e+s[12])*o,this.y=(s[1]*r+s[5]*n+s[9]*e+s[13])*o,this.z=(s[2]*r+s[6]*n+s[10]*e+s[14])*o,this},transformMat3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=r*s[0]+n*s[3]+e*s[6],this.y=r*s[1]+n*s[4]+e*s[7],this.z=r*s[2]+n*s[5]+e*s[8],this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[4]*n+s[8]*e+s[12],this.y=s[1]*r+s[5]*n+s[9]*e+s[13],this.z=s[2]*r+s[6]*n+s[10]*e+s[14],this},transformCoordinates:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=r*s[0]+n*s[4]+e*s[8]+s[12],i=r*s[1]+n*s[5]+e*s[9]+s[13],h=r*s[2]+n*s[6]+e*s[10]+s[14],u=r*s[3]+n*s[7]+e*s[11]+s[15];return this.x=o/u,this.y=i/u,this.z=h/u,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z,h=a.w,u=h*r+o*e-i*n,d=h*n+i*r-s*e,f=h*e+s*n-o*r,c=-s*r-o*n-i*e;return this.x=u*h+c*-s+d*-i-f*-o,this.y=d*h+c*-o+f*-s-u*-i,this.z=f*h+c*-i+u*-o-d*-s,this},project:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=s[0],i=s[1],h=s[2],u=s[3],d=s[4],f=s[5],c=s[6],g=s[7],m=s[8],y=s[9],x=s[10],S=s[11],C=s[12],A=s[13],F=s[14],M=s[15],w=1/(r*u+n*g+e*S+M);return this.x=(r*o+n*d+e*m+C)*w,this.y=(r*i+n*f+e*y+A)*w,this.z=(r*h+n*c+e*x+F)*w,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var n=a.x,e=a.y,s=a.z,o=a.w,i=this.x-n,h=o-this.y-1-e,u=this.z;return this.x=2*i/s-1,this.y=2*h/o-1,this.z=2*u-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),v.exports=p},61369:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=e||0,this.w=s||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,n,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=n||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return Math.sqrt(a*a+r*r+n*n+e*e)},lengthSq:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return a*a+r*r+n*n+e*e},normalize:function(){var a=this.x,r=this.y,n=this.z,e=this.w,s=a*a+r*r+n*n+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=a*s,this.y=r*s,this.z=n*s,this.w=e*s),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z,o=this.w;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this.w=o+r*(a.w-o),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return Math.sqrt(r*r+n*n+e*e+s*s)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return r*r+n*n+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=this.w,o=a.val;return this.x=o[0]*r+o[4]*n+o[8]*e+o[12]*s,this.y=o[1]*r+o[5]*n+o[9]*e+o[13]*s,this.z=o[2]*r+o[6]*n+o[10]*e+o[14]*s,this.w=o[3]*r+o[7]*n+o[11]*e+o[15]*s,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z,h=a.w,u=h*r+o*e-i*n,d=h*n+i*r-s*e,f=h*e+s*n-o*r,c=-s*r-o*n-i*e;return this.x=u*h+c*-s+d*-i-f*-o,this.y=d*h+c*-o+f*-s-u*-i,this.z=f*h+c*-i+u*-o-d*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,v.exports=p},60417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return Math.abs(t-l)<=p};v.exports=T},15994:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=p-l;return l+((t-l)%a+a)%a};v.exports=T},31040:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return Math.atan2(a-l,p-t)};v.exports=T},55495:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)};v.exports=T},128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return Math.atan2(l.x-t.x,l.y-t.y)};v.exports=T},41273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return Math.atan2(p-t,a-l)};v.exports=T},1432:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=function(a){return a>Math.PI&&(a-=l.PI2),Math.abs(((a+l.TAU)%l.PI2-l.PI2)%l.PI2)};v.exports=p},12407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};v.exports=T},53993:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99472),p=function(){return l(-Math.PI,Math.PI)};v.exports=p},86564:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99472),p=function(){return l(-180,180)};v.exports=p},90154:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12407),p=function(a){return l(a+Math.PI)};v.exports=p},48736:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=function(a,r,n){return n===void 0&&(n=.05),a===r||(Math.abs(r-a)<=n||Math.abs(r-a)>=l.PI2-n?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=l.PI2:r-=l.PI2),r>a?a+=n:r<a&&(a-=n))),a};v.exports=p},61430:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=l-t;if(p===0)return 0;var a=Math.floor((p- -180)/360);return p-a*360};v.exports=T},86554:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),p=function(a){return l(a,-Math.PI,Math.PI)};v.exports=p},30954:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),p=function(a){return l(a,-180,180)};v.exports=p},25588:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};v.exports=T},20339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=t-p,n=l-a;return Math.sqrt(r*r+n*n)};v.exports=T},52816:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.x-l.x,a=t.y-l.y;return Math.sqrt(p*p+a*a)};v.exports=T},64559:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.x-l.x,a=t.y-l.y;return p*p+a*a};v.exports=T},82340:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return Math.max(Math.abs(t-p),Math.abs(l-a))};v.exports=T},14390:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(p-t,r)+Math.pow(a-l,r))};v.exports=T},2243:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return Math.abs(t-p)+Math.abs(l-a)};v.exports=T},89774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=t-p,n=l-a;return r*r+n*n};v.exports=T},50994:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54178),p=t(41521),a=t(79980),r=t(85433),n=t(99140),e=t(48857),s=t(81596),o=t(59133),i=t(98516),h=t(35248),u=t(82500),d=t(49752);v.exports={Power0:s,Power1:o.Out,Power2:r.Out,Power3:i.Out,Power4:h.Out,Linear:s,Quad:o.Out,Cubic:r.Out,Quart:i.Out,Quint:h.Out,Sine:u.Out,Expo:e.Out,Circ:a.Out,Elastic:n.Out,Back:l.Out,Bounce:p.Out,Stepped:d,"Quad.easeIn":o.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":h.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":n.In,"Back.easeIn":l.In,"Bounce.easeIn":p.In,"Quad.easeOut":o.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":h.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":n.Out,"Back.easeOut":l.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":o.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":p.InOut}},1639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=1.70158),t*t*((l+1)*t-l)};v.exports=T},50099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=1.70158);var p=l*1.525;return(t*=2)<1?.5*(t*t*((p+1)*t-p)):.5*((t-=2)*t*((p+1)*t+p)+2)};v.exports=T},41286:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=1.70158),--t*t*((l+1)*t+l)+1};v.exports=T},54178:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};v.exports=T},41788:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=!1;return t<.5?(t=1-t*2,l=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,l?(1-t)*.5:t*.5+.5};v.exports=T},69905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};v.exports=T},41521:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 1-Math.sqrt(1-t*t)};v.exports=T},4177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};v.exports=T},57512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.sqrt(1- --t*t)};v.exports=T},79980:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t*t};v.exports=T},82820:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};v.exports=T},35033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return--t*t*t+1};v.exports=T},85433:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(l===void 0&&(l=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return l<1?l=1:a=p*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p))};v.exports=T},50665:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(l===void 0&&(l=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return l<1?l=1:a=p*Math.asin(1/l)/(2*Math.PI),(t*=2)<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p)):l*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/p)*.5+1};v.exports=T},7744:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(l===void 0&&(l=.1),p===void 0&&(p=.1),t===0)return 0;if(t===1)return 1;var a=p/4;return l<1?l=1:a=p*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/p)+1};v.exports=T},99140:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.pow(2,10*(t-1))-.001};v.exports=T},87844:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};v.exports=T},89433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 1-Math.pow(2,-10*t)};v.exports=T},48857:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t};v.exports=T},81596:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(7147)},34826:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t};v.exports=T},20544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};v.exports=T},92029:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*(2-t)};v.exports=T},59133:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t*t*t};v.exports=T},78137:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};v.exports=T},45840:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 1- --t*t*t*t};v.exports=T},98516:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t*t*t*t};v.exports=T},16509:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};v.exports=T},17868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return--t*t*t*t*t+1};v.exports=T},35248:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};v.exports=T},34025:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};v.exports=T},52768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};v.exports=T},82500:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=1),t<=0?0:t>=1?1:((l*t|0)+1)*(1/l)};v.exports=T},49752:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(72251)},75698:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=1e-4),Math.ceil(t-l)};v.exports=T},43855:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return p===void 0&&(p=1e-4),Math.abs(t-l)<p};v.exports=T},25777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l=1e-4),Math.floor(t+l)};v.exports=T},5470:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return p===void 0&&(p=1e-4),t>l-p};v.exports=T},94977:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return p===void 0&&(p=1e-4),t<l+p};v.exports=T},48379:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),p=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=p(!1,a,l),v.exports=a},89318:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85710),p=function(a,r){for(var n=0,e=a.length-1,s=0;s<=e;s++)n+=Math.pow(1-r,e-s)*Math.pow(r,s)*a[s]*l(e,s);return n};v.exports=p},77259:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87842),p=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return a[0]===a[n]?(r<0&&(s=Math.floor(e=n*(1+r))),l(e-s,a[(s-1+n)%n],a[s],a[(s+1)%n],a[(s+2)%n])):r<0?a[0]-(l(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[n]-(l(e-n,a[n],a[n],a[n-1],a[n-1])-a[n]):l(e-s,a[s?s-1:0],a[s],a[n<s+1?n:s+1],a[n<s+2?n:s+2])};v.exports=p},36316:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(r,n){var e=1-r;return e*e*e*n}function t(r,n){var e=1-r;return 3*e*e*r*n}function l(r,n){return 3*(1-r)*r*r*n}function p(r,n){return r*r*r*n}var a=function(r,n,e,s,o){return T(r,n)+t(r,e)+l(r,s)+p(r,o)};v.exports=a},28392:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28915),p=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return r<0?l(a[0],a[1],e):r>1?l(a[n],a[n-1],n-e):l(a[s],a[s+1>n?n:s+1],e-s)};v.exports=p},32112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(a,r){var n=1-a;return n*n*r}function t(a,r){return 2*(1-a)*a*r}function l(a,r){return a*a*r}var p=function(a,r,n,e){return T(a,r)+t(a,n)+l(a,e)};v.exports=p},47235:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7602),p=function(a,r,n){return r+(n-r)*l(a,0,1)};v.exports=p},50178:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54261),p=function(a,r,n){return r+(n-r)*l(a,0,1)};v.exports=p},38289:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=Math.log(t)/.6931471805599453;return 1<<Math.ceil(l)};v.exports=T},50030:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t>0&&(t&t-1)===0&&l>0&&(l&l-1)===0};v.exports=T},81230:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t>0&&(t&t-1)===0};v.exports=T},49001:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,n=this.n;a=a.toString();for(var e=0;e<a.length;e++)n+=a.charCodeAt(e),r=.02519603282416938*n,n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var n=a[r];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,n=r;n>0;n--){var e=Math.floor(this.frac()*(n+1)),s=a[e];a[e]=a[n],a[n]=s}return a}});v.exports=p},63448:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return p===void 0&&(p=0),l===0?t:(t-=p,t=l*Math.ceil(t/l),a?(p+t)/l:p+t)};v.exports=T},56583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return p===void 0&&(p=0),l===0?t:(t-=p,t=l*Math.floor(t/l),a?(p+t)/l:p+t)};v.exports=T},77720:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){return p===void 0&&(p=0),l===0?t:(t-=p,t=l*Math.round(t/l),a?(p+t)/l:p+t)};v.exports=T},73697:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var l=t(8054),p=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=p(!1,a,l),v.exports=a,t.g.Phaser=a},71289:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(92209),a=t(88571),r=new l({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,s,o,i,h){a.call(this,e,s,o,i,h),this.body=null}});v.exports=r},86689:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(39506),a=t(20339),r=t(89774),n=t(66022),e=t(95540),s=t(46975),o=t(72441),i=t(47956),h=t(37277),u=t(44594),d=t(26099),f=t(82248),c=new l({initialize:function(m){this.scene=m,this.systems=m.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,m.sys.events.once(u.BOOT,this.boot,this),m.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new n(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(u.UPDATE,this.world.update,this.world),g.on(u.POST_UPDATE,this.world.postUpdate,this.world),g.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,m=this.systems.settings.physics,y=s(e(m,"arcade",{}),e(g,"arcade",{}));return y},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(g,m,y,x,S){return y===void 0&&(y=null),x===void 0&&(x=null),S===void 0&&(S=y),this.world.collideObjects(g,m,y,x,S,!0)},collide:function(g,m,y,x,S){return y===void 0&&(y=null),x===void 0&&(x=null),S===void 0&&(S=y),this.world.collideObjects(g,m,y,x,S,!1)},collideTiles:function(g,m,y,x,S){return this.world.collideTiles(g,m,y,x,S)},overlapTiles:function(g,m,y,x,S){return this.world.overlapTiles(g,m,y,x,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,m,y,x,S,C){x===void 0&&(x=60);var A=Math.atan2(y-g.y,m-g.x);return g.body.acceleration.setToPolar(A,x),S!==void 0&&C!==void 0&&g.body.maxVelocity.set(S,C),A},accelerateToObject:function(g,m,y,x,S){return this.accelerateTo(g,m.x,m.y,y,x,S)},closest:function(g,m){m||(m=this.world.bodies.entries);for(var y=Number.MAX_VALUE,x=null,S=g.x,C=g.y,A=m.length,F=0;F<A;F++){var M=m[F],w=M.body||M;if(!(g===M||g===w||g===w.gameObject||g===w.center)){var R=r(S,C,w.center.x,w.center.y);R<y&&(x=M,y=R)}}return x},furthest:function(g,m){m||(m=this.world.bodies.entries);for(var y=-1,x=null,S=g.x,C=g.y,A=m.length,F=0;F<A;F++){var M=m[F],w=M.body||M;if(!(g===M||g===w||g===w.gameObject||g===w.center)){var R=r(S,C,w.center.x,w.center.y);R>y&&(x=M,y=R)}}return x},moveTo:function(g,m,y,x,S){x===void 0&&(x=60),S===void 0&&(S=0);var C=Math.atan2(y-g.y,m-g.x);return S>0&&(x=a(g.x,g.y,m,y)/(S/1e3)),g.body.velocity.setToPolar(C,x),C},moveToObject:function(g,m,y,x){return this.moveTo(g,m.x,m.y,y,x)},velocityFromAngle:function(g,m,y){return m===void 0&&(m=60),y===void 0&&(y=new d),y.setToPolar(p(g),m)},velocityFromRotation:function(g,m,y){return m===void 0&&(m=60),y===void 0&&(y=new d),y.setToPolar(g,m)},overlapRect:function(g,m,y,x,S,C){return i(this.world,g,m,y,x,S,C)},overlapCirc:function(g,m,y,x,S){return o(this.world,g,m,y,x,S)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(u.UPDATE,this.world.update,this.world),g.off(u.POST_UPDATE,this.world.postUpdate,this.world),g.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",c,"arcadePhysics"),v.exports=c},13759:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(92209),a=t(68287),r=new l({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(e,s,o,i,h){a.call(this,e,s,o,i,h),this.body=null}});v.exports=r},37742:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(78389),a=t(37747),r=t(63012),n=t(43396),e=t(87841),s=t(37303),o=t(95829),i=t(26099),h=new l({Mixins:[p],initialize:function(d,f){var c=64,g=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(c=f.displayWidth,g=f.displayHeight),y||(f=m),this.world=d,this.gameObject=y?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=c,this.height=g,this.sourceWidth=c,this.sourceHeight=g,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(g/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,d=this.transform;if(u.parentContainer){var f=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=f.tx,d.y=f.ty,d.rotation=n(f.rotation),d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY}else d.x=u.x,d.y=u.y,d.rotation=u.angle,d.scaleX=u.scaleX,d.scaleY=u.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY;var c=!1;if(this.syncBounds){var g=u.getBounds(this._bounds);this.width=g.width,this.height=g.height,c=!0}else{var m=Math.abs(d.scaleX),y=Math.abs(d.scaleY);(this._sx!==m||this._sy!==y)&&(this.width=this.sourceWidth*m,this.height=this.sourceHeight*y,this._sx=m,this._sy=y,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var d=this.wasTouching,f=this.touching,c=this.blocked;u?o(!0,d):(d.none=f.none,d.up=f.up,d.down=f.down,d.left=f.left,d.right=f.right),o(!0,f),o(!0,c),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,d){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var f=this.position;this.prev.x=f.x,this.prev.y=f.y,this.prevFrame.x=f.x,this.prevFrame.y=f.y}u&&this.update(d)},update:function(u){var d=this.prev,f=this.position,c=this.velocity;if(d.set(f.x,f.y),!this.moves){this._dx=f.x-d.x,this._dy=f.y-d.y;return}if(this.directControl){var g=this.autoFrame;c.set((f.x-g.x)/u,(f.y-g.y)/u),this.world.updateMotion(this,u),this._dx=f.x-g.x,this._dy=f.y-g.y}else this.world.updateMotion(this,u),this.newVelocity.set(c.x*u,c.y*u),f.add(this.newVelocity),this._dx=f.x-d.x,this._dy=f.y-d.y;var m=c.x,y=c.y;if(this.updateCenter(),this.angle=Math.atan2(y,m),this.speed=Math.sqrt(m*m+y*y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var x=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,x.up,x.down,x.left,x.right)}},postUpdate:function(){var u=this.position,d=u.x-this.prevFrame.x,f=u.y-this.prevFrame.y,c=this.gameObject;if(this.moves){var g=this.deltaMax.x,m=this.deltaMax.y;g!==0&&d!==0&&(d<0&&d<-g?d=-g:d>0&&d>g&&(d=g)),m!==0&&f!==0&&(f<0&&f<-m?f=-m:f>0&&f>m&&(f=m)),c&&(c.x+=d,c.y+=f)}d<0?this.facing=a.FACING_LEFT:d>0&&(this.facing=a.FACING_RIGHT),f<0?this.facing=a.FACING_UP:f>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&c&&(c.angle+=this.deltaZ()),this._tx=d,this._ty=f,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,d=this.velocity,f=this.blocked,c=this.customBoundsRectangle,g=this.world.checkCollision,m=this.worldBounce?-this.worldBounce.x:-this.bounce.x,y=this.worldBounce?-this.worldBounce.y:-this.bounce.y,x=!1;return u.x<c.x&&g.left?(u.x=c.x,d.x*=m,f.left=!0,x=!0):this.right>c.right&&g.right&&(u.x=c.right-this.width,d.x*=m,f.right=!0,x=!0),u.y<c.y&&g.up?(u.y=c.y,d.y*=y,f.up=!0,x=!0):this.bottom>c.bottom&&g.down&&(u.y=c.bottom-this.height,d.y*=y,f.down=!0,x=!0),x&&(this.blocked.none=!1,this.updateCenter()),x},setOffset:function(u,d){return d===void 0&&(d=u),this.offset.set(u,d),this},setGameObject:function(u,d){if(d===void 0&&(d=!0),!u||!u.hasTransformComponent)return this;var f=this.world;return this.gameObject&&this.gameObject.body&&(f.disable(this.gameObject),this.gameObject.body=null),u.body&&f.disable(u),this.gameObject=u,u.body=this,this.setSize(),this.enable=d,this},setSize:function(u,d,f){f===void 0&&(f=!0);var c=this.gameObject;if(c&&(!u&&c.frame&&(u=c.frame.realWidth),!d&&c.frame&&(d=c.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&c&&c.getCenter){var g=(c.width-u)/2,m=(c.height-d)/2;this.offset.set(g,m)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,d,f){return d===void 0&&(d=this.offset.x),f===void 0&&(f=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,f),this.updateCenter()):this.isCircle=!1,this},reset:function(u,d){this.stop();var f=this.gameObject;f&&(f.setPosition(u,d),this.rotation=f.angle,this.preRotation=f.angle);var c=this.position;f&&f.getTopLeft?f.getTopLeft(c):c.set(u,d),this.prev.copy(c),this.prevFrame.copy(c),this.autoFrame.copy(c),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,d){if(!this.isCircle)return s(this,u,d);if(this.radius>0&&u>=this.left&&u<=this.right&&d>=this.top&&d<=this.bottom){var f=(this.center.x-u)*(this.center.x-u),c=(this.center.y-d)*(this.center.y-d);return f+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var d=this.position,f=d.x+this.halfWidth,c=d.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(f,c,this.width/2):(this.checkCollision.up&&u.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&u.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&u.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&u.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(f,c,f+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,d,f,c){u===void 0&&(u=!0),this.collideWorldBounds=u;var g=d!==void 0,m=f!==void 0;return(g||m)&&(this.worldBounce||(this.worldBounce=new i),g&&(this.worldBounce.x=d),m&&(this.worldBounce.y=f)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(u,d){return this.velocity.set(u,d),u=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(u*u+d*d),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,d){return this.maxVelocity.set(u,d),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,d){return this.slideFactor.set(u,d),this},setBounce:function(u,d){return this.bounce.set(u,d),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,d){return this.acceleration.set(u,d),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,d){return this.drag.set(u,d),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,d){return this.gravity.set(u,d),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,d){return this.friction.set(u,d),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,d,f,c){this.x+=u,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var g=this.blocked;f&&(g.left=!0,g.none=!1),c&&(g.right=!0,g.none=!1)},processY:function(u,d,f,c){this.y+=u,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var g=this.blocked;f&&(g.up=!0,g.none=!1),c&&(g.down=!0,g.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=h},79342:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e,s,o,i,h){this.world=r,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=s,this.collideCallback=o,this.processCallback=i,this.callbackContext=h},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});v.exports=p},66022:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71289),p=t(13759),a=t(37742),r=t(83419),n=t(37747),e=t(60758),s=t(72624),o=t(71464),i=new r({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(h,u,d,f,c){return this.world.addCollider(h,u,d,f,c)},overlap:function(h,u,d,f,c){return this.world.addOverlap(h,u,d,f,c)},existing:function(h,u){var d=u?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(h,d),h},staticImage:function(h,u,d,f){var c=new l(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},image:function(h,u,d,f){var c=new l(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticSprite:function(h,u,d,f){var c=new p(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},sprite:function(h,u,d,f){var c=new p(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticGroup:function(h,u){return this.sys.updateList.add(new o(this.world,this.world.scene,h,u))},group:function(h,u){return this.sys.updateList.add(new e(this.world,this.world.scene,h,u))},body:function(h,u,d,f){var c=new a(this.world);return c.position.set(h,u),d&&f&&c.setSize(d,f),this.world.add(c,n.DYNAMIC_BODY),c},staticBody:function(h,u,d,f){var c=new s(this.world);return c.position.set(h,u),d&&f&&c.setSize(d,f),this.world.add(c,n.STATIC_BODY),c},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=i},79599:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=0;if(!Array.isArray(t))l=t;else for(var p=0;p<t.length;p++)l|=t[p];return l};v.exports=T},64897:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),p=function(a,r,n,e){var s=0,o=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(s=a.right-r.x,s>o&&!n||a.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(s=a.x-r.width-r.x,-s>o&&!n||a.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=s,r.overlapX=s,s};v.exports=p},45170:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),p=function(a,r,n,e){var s=0,o=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(s=a.bottom-r.y,s>o&&!n||a.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(s=a.y-r.bottom,-s>o&&!n||a.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=s,r.overlapY=s,s};v.exports=p},60758:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13759),p=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),o=new p({Extends:e,Mixins:[a],initialize:function(h,u,d,f){if(!d&&!f)f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(s(d))f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&s(d[0])){var c=this;d.forEach(function(g){g.internalCreateCallback=c.createCallbackHandler,g.internalRemoveCallback=c.removeCallbackHandler,g.classType=n(g,"classType",l)}),f=null}else f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,f&&(f.classType=n(f,"classType",l)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:n(f,"collideWorldBounds",!1),setBoundsRectangle:n(f,"customBoundsRectangle",null),setAccelerationX:n(f,"accelerationX",0),setAccelerationY:n(f,"accelerationY",0),setAllowDrag:n(f,"allowDrag",!0),setAllowGravity:n(f,"allowGravity",!0),setAllowRotation:n(f,"allowRotation",!0),setDamping:n(f,"useDamping",!1),setBounceX:n(f,"bounceX",0),setBounceY:n(f,"bounceY",0),setDragX:n(f,"dragX",0),setDragY:n(f,"dragY",0),setEnable:n(f,"enable",!0),setGravityX:n(f,"gravityX",0),setGravityY:n(f,"gravityY",0),setFrictionX:n(f,"frictionX",0),setFrictionY:n(f,"frictionY",0),setMaxSpeed:n(f,"maxSpeed",-1),setMaxVelocityX:n(f,"maxVelocityX",1e4),setMaxVelocityY:n(f,"maxVelocityY",1e4),setVelocityX:n(f,"velocityX",0),setVelocityY:n(f,"velocityY",0),setAngularVelocity:n(f,"angularVelocity",0),setAngularAcceleration:n(f,"angularAcceleration",0),setAngularDrag:n(f,"angularDrag",0),setMass:n(f,"mass",1),setImmovable:n(f,"immovable",!1)},e.call(this,u,d,f),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var h=i.body;for(var u in this.defaults)h[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,h,u){u===void 0&&(u=0);for(var d=this.getChildren(),f=0;f<d.length;f++)d[f].body.velocity.set(i+f*u,h+f*u);return this},setVelocityX:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.x=i+d*h;return this},setVelocityY:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.y=i+d*h;return this}});v.exports=o},3017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,t,l,p,a,r,n,e,s,o,i,h,u,d,f,c,g,m=function(F,M,w){T=F,t=M;var R=T.velocity.x,O=t.velocity.x;return l=T.pushable,s=T._dx<0,o=T._dx>0,i=T._dx===0,f=Math.abs(T.right-t.x)<=Math.abs(t.right-T.x),n=O-R*T.bounce.x,p=t.pushable,h=t._dx<0,u=t._dx>0,d=t._dx===0,c=!f,e=R-O*t.bounce.x,g=Math.abs(w),y()},y=function(){return o&&f&&t.blocked.right?(T.processX(-g,n,!1,!0),1):s&&c&&t.blocked.left?(T.processX(g,n,!0),1):u&&c&&T.blocked.right?(t.processX(-g,e,!1,!0),2):h&&f&&T.blocked.left?(t.processX(g,e,!0),2):0},x=function(){var F=T.velocity.x,M=t.velocity.x,w=Math.sqrt(M*M*t.mass/T.mass)*(M>0?1:-1),R=Math.sqrt(F*F*T.mass/t.mass)*(F>0?1:-1),O=(w+R)*.5;return w-=O,R-=O,a=O+w*T.bounce.x,r=O+R*t.bounce.x,s&&c?S(0):h&&f?S(1):o&&f?S(2):u&&c?S(3):!1},S=function(F){if(l&&p)g*=.5,F===0||F===3?(T.processX(g,a),t.processX(-g,r)):(T.processX(-g,a),t.processX(g,r));else if(l&&!p)F===0||F===3?T.processX(g,n,!0):T.processX(-g,n,!1,!0);else if(!l&&p)F===0||F===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var M=g*.5;F===0?d?(T.processX(g,0,!0),t.processX(0,null,!1,!0)):u?(T.processX(M,0,!0),t.processX(-M,0,!1,!0)):(T.processX(M,t.velocity.x,!0),t.processX(-M,null,!1,!0)):F===1?i?(T.processX(0,null,!1,!0),t.processX(g,0,!0)):o?(T.processX(-M,0,!1,!0),t.processX(M,0,!0)):(T.processX(-M,null,!1,!0),t.processX(M,T.velocity.x,!0)):F===2?d?(T.processX(-g,0,!1,!0),t.processX(0,null,!0)):h?(T.processX(-M,0,!1,!0),t.processX(M,0,!0)):(T.processX(-M,t.velocity.x,!1,!0),t.processX(M,null,!0)):F===3&&(i?(T.processX(0,null,!0),t.processX(-g,0,!1,!0)):s?(T.processX(M,0,!0),t.processX(-M,0,!1,!0)):(T.processX(M,t.velocity.y,!0),t.processX(-M,null,!1,!0)))}return!0},C=function(F){if(F===1?t.velocity.x=0:f?t.processX(g,e,!0):t.processX(-g,e,!1,!0),T.moves){var M=T.directControl?T.y-T.autoFrame.y:T.y-T.prev.y;t.y+=M*T.friction.y,t._dy=t.y-t.prev.y}},A=function(F){if(F===2?T.velocity.x=0:c?T.processX(g,n,!0):T.processX(-g,n,!1,!0),t.moves){var M=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;T.y+=M*t.friction.y,T._dy=T.y-T.prev.y}};v.exports={BlockCheck:y,Check:x,Set:m,Run:S,RunImmovableBody1:C,RunImmovableBody2:A}},47962:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,t,l,p,a,r,n,e,s,o,i,h,u,d,f,c,g,m=function(F,M,w){T=F,t=M;var R=T.velocity.y,O=t.velocity.y;return l=T.pushable,s=T._dy<0,o=T._dy>0,i=T._dy===0,f=Math.abs(T.bottom-t.y)<=Math.abs(t.bottom-T.y),n=O-R*T.bounce.y,p=t.pushable,h=t._dy<0,u=t._dy>0,d=t._dy===0,c=!f,e=R-O*t.bounce.y,g=Math.abs(w),y()},y=function(){return o&&f&&t.blocked.down?(T.processY(-g,n,!1,!0),1):s&&c&&t.blocked.up?(T.processY(g,n,!0),1):u&&c&&T.blocked.down?(t.processY(-g,e,!1,!0),2):h&&f&&T.blocked.up?(t.processY(g,e,!0),2):0},x=function(){var F=T.velocity.y,M=t.velocity.y,w=Math.sqrt(M*M*t.mass/T.mass)*(M>0?1:-1),R=Math.sqrt(F*F*T.mass/t.mass)*(F>0?1:-1),O=(w+R)*.5;return w-=O,R-=O,a=O+w*T.bounce.y,r=O+R*t.bounce.y,s&&c?S(0):h&&f?S(1):o&&f?S(2):u&&c?S(3):!1},S=function(F){if(l&&p)g*=.5,F===0||F===3?(T.processY(g,a),t.processY(-g,r)):(T.processY(-g,a),t.processY(g,r));else if(l&&!p)F===0||F===3?T.processY(g,n,!0):T.processY(-g,n,!1,!0);else if(!l&&p)F===0||F===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var M=g*.5;F===0?d?(T.processY(g,0,!0),t.processY(0,null,!1,!0)):u?(T.processY(M,0,!0),t.processY(-M,0,!1,!0)):(T.processY(M,t.velocity.y,!0),t.processY(-M,null,!1,!0)):F===1?i?(T.processY(0,null,!1,!0),t.processY(g,0,!0)):o?(T.processY(-M,0,!1,!0),t.processY(M,0,!0)):(T.processY(-M,null,!1,!0),t.processY(M,T.velocity.y,!0)):F===2?d?(T.processY(-g,0,!1,!0),t.processY(0,null,!0)):h?(T.processY(-M,0,!1,!0),t.processY(M,0,!0)):(T.processY(-M,t.velocity.y,!1,!0),t.processY(M,null,!0)):F===3&&(i?(T.processY(0,null,!0),t.processY(-g,0,!1,!0)):s?(T.processY(M,0,!0),t.processY(-M,0,!1,!0)):(T.processY(M,t.velocity.y,!0),t.processY(-M,null,!1,!0)))}return!0},C=function(F){if(F===1?t.velocity.y=0:f?t.processY(g,e,!0):t.processY(-g,e,!1,!0),T.moves){var M=T.directControl?T.x-T.autoFrame.x:T.x-T.prev.x;t.x+=M*T.friction.x,t._dx=t.x-t.prev.x}},A=function(F){if(F===2?T.velocity.y=0:c?T.processY(g,n,!0):T.processY(-g,n,!1,!0),t.moves){var M=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;T.x+=M*t.friction.x,T._dx=T.x-T.prev.x}};v.exports={BlockCheck:y,Check:x,Set:m,Run:S,RunImmovableBody1:C,RunImmovableBody2:A}},14087:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64897),p=t(3017),a=function(r,n,e,s,o){o===void 0&&(o=l(r,n,e,s));var i=r.immovable,h=n.immovable;if(e||o===0||i&&h||r.customSeparateX||n.customSeparateX)return o!==0||r.embedded&&n.embedded;var u=p.Set(r,n,o);return!i&&!h?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):h&&p.RunImmovableBody2(u),!0)};v.exports=a},89936:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45170),p=t(47962),a=function(r,n,e,s,o){o===void 0&&(o=l(r,n,e,s));var i=r.immovable,h=n.immovable;if(e||o===0||i&&h||r.customSeparateY||n.customSeparateY)return o!==0||r.embedded&&n.embedded;var u=p.Set(r,n,o);return!i&&!h?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):h&&p.RunImmovableBody2(u),!0)};v.exports=a},95829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===void 0&&(l={}),l.none=t,l.up=!1,l.down=!1,l.left=!1,l.right=!1,t||(l.up=!0,l.down=!0,l.left=!0,l.right=!0),l};v.exports=T},72624:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),p=t(83419),a=t(78389),r=t(37747),n=t(37303),e=t(95829),s=t(26099),o=new p({Mixins:[a],initialize:function(h,u){var d=64,f=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=u!==void 0;g&&u.displayWidth&&(d=u.displayWidth,f=u.displayHeight),g||(u=c),this.world=h,this.gameObject=g?u:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(u.x-d*u.originX,u.y-f*u.originY),this.width=d,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,h,u){if(h===void 0&&(h=!0),u===void 0&&(u=!0),!i||!i.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),i.body&&d.disable(i),this.gameObject=i,i.body=this,this.setSize(),h&&this.updateFromGameObject(),this.enable=u,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,h){return h===void 0&&(h=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,h,u){u===void 0&&(u=!0);var d=this.gameObject;if(d&&d.frame&&(i||(i=d.frame.realWidth),h||(h=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=h,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(h/2),u&&d&&d.getCenter){var f=d.displayWidth/2,c=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,h,u){return h===void 0&&(h=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,h){var u=this.gameObject;i===void 0&&(i=u.x),h===void 0&&(h=u.y),this.world.staticTree.remove(this),u.setPosition(i,h),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,h){return this.isCircle?l(this,i,h):n(this,i,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var h=this.position,u=h.x+this.halfWidth,d=h.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,d,this.width/2):i.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=o},71464:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13759),p=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),o=new p({Extends:e,Mixins:[a],initialize:function(h,u,d,f){!d&&!f?f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l}:s(d)?(f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler,f.createMultipleCallback=this.createMultipleCallbackHandler,f.classType=n(f,"classType",l)):Array.isArray(d)&&s(d[0])?(f=d,d=null,f.forEach(function(c){c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=n(c,"classType",l)})):f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,u,d,f),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,h=0;h<i.length;h++)i[h].body.reset();return this}});v.exports=o},82248:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55495),p=t(37742),a=t(45319),r=t(83419),n=t(79342),e=t(37747),s=t(20339),o=t(52816),i=t(50792),h=t(63012),u=t(43855),d=t(5470),f=t(94977),c=t(64897),g=t(45170),m=t(96523),y=t(35154),x=t(36383),S=t(25774),C=t(96602),A=t(87841),F=t(59542),M=t(40012),w=t(14087),R=t(89936),O=t(35072),U=t(72624),X=t(2483),W=t(61340),Y=t(26099),N=t(15994),V=new r({Extends:i,initialize:function(B,G){i.call(this),this.scene=B,this.bodies=new O,this.staticBodies=new O,this.pendingDestroy=new O,this.colliders=new S,this.gravity=new Y(y(G,"gravity.x",0),y(G,"gravity.y",0)),this.bounds=new A(y(G,"x",0),y(G,"y",0),y(G,"width",B.sys.scale.width),y(G,"height",B.sys.scale.height)),this.checkCollision={up:y(G,"checkCollision.up",!0),down:y(G,"checkCollision.down",!0),left:y(G,"checkCollision.left",!0),right:y(G,"checkCollision.right",!0)},this.fps=y(G,"fps",60),this.fixedStep=y(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(G,"timeScale",1),this.OVERLAP_BIAS=y(G,"overlapBias",4),this.TILE_BIAS=y(G,"tileBias",16),this.forceX=y(G,"forceX",!1),this.isPaused=y(G,"isPaused",!1),this._total=0,this.drawDebug=y(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(G,"debugShowBody",!0),debugShowStaticBody:y(G,"debugShowStaticBody",!0),debugShowVelocity:y(G,"debugShowVelocity",!0),bodyDebugColor:y(G,"debugBodyColor",16711935),staticBodyDebugColor:y(G,"debugStaticBodyColor",255),velocityDebugColor:y(G,"debugVelocityColor",65280)},this.maxEntries=y(G,"maxEntries",16),this.useTree=y(G,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(I,B){B===void 0&&(B=e.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var G=0;G<I.length;G++){var H=I[G];if(H.isParent)for(var $=H.getChildren(),Z=0;Z<$.length;Z++){var Q=$[Z];Q.isParent?this.enable(Q,B):this.enableBody(Q,B)}else this.enableBody(H,B)}},enableBody:function(I,B){return B===void 0&&(B=e.DYNAMIC_BODY),I.hasTransformComponent&&(I.body||(B===e.DYNAMIC_BODY?I.body=new p(this,I):B===e.STATIC_BODY&&(I.body=new U(this,I))),this.add(I.body)),I},add:function(I){return I.physicsType===e.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===e.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var B=0;B<I.length;B++){var G=I[B];if(G.isParent)for(var H=G.getChildren(),$=0;$<H.length;$++){var Z=H[$];Z.isParent?this.disable(Z):this.disableBody(Z.body)}else this.disableBody(G.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===e.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,B,G,H,$,Z,Q,j){return this.bounds.setTo(I,B,G,H),$!==void 0&&this.setBoundsCollision($,Z,Q,j),this},setBoundsCollision:function(I,B,G,H){return I===void 0&&(I=!0),B===void 0&&(B=!0),G===void 0&&(G=!0),H===void 0&&(H=!0),this.checkCollision.left=I,this.checkCollision.right=B,this.checkCollision.up=G,this.checkCollision.down=H,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(I,B,G,H,$){G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G);var Z=new n(this,!1,I,B,G,H,$);return this.colliders.add(Z),Z},addOverlap:function(I,B,G,H,$){G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G);var Z=new n(this,!0,I,B,G,H,$);return this.colliders.add(Z),Z},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,B){if(!(this.isPaused||this.bodies.size===0)){var G,H=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=B;var Z,Q=this.bodies.entries,j=this._elapsed>=$;for(this.fixedStep||(H=B*.001,j=!0,this._elapsed=0),G=0;G<Q.length;G++)Z=Q[G],Z.enable&&Z.preUpdate(j,H);if(j){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Q));var _=this.colliders.update();for(G=0;G<_.length;G++){var tt=_[G];tt.active&&tt.update()}this.emit(h.WORLD_STEP,H)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(H)}},step:function(I){var B,G,H=this.bodies.entries,$=H.length;for(B=0;B<$;B++)G=H[B],G.enable&&G.update(I);this.useTree&&(this.tree.clear(),this.tree.load(H));var Z=this.colliders.update();for(B=0;B<Z.length;B++){var Q=Z[B];Q.active&&Q.update()}this.emit(h.WORLD_STEP,I),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var I,B,G=this.bodies.entries,H=G.length,$=this.bodies,Z=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,I=0;I<H;I++)B=G[I],B.enable&&B.postUpdate();if(this.drawDebug){var Q=this.debugGraphic;for(Q.clear(),I=0;I<H;I++)B=G[I],B.willDrawDebug()&&B.drawDebug(Q);for(G=Z.entries,H=G.length,I=0;I<H;I++)B=G[I],B.willDrawDebug()&&B.drawDebug(Q)}var j=this.pendingDestroy;if(j.size>0){var _=this.tree,tt=this.staticTree;for(G=j.entries,H=G.length,I=0;I<H;I++)B=G[I],B.physicsType===e.DYNAMIC_BODY?(_.remove(B),$.delete(B)):B.physicsType===e.STATIC_BODY&&(tt.remove(B),Z.delete(B)),B.world=void 0,B.gameObject=void 0;j.clear()}},updateMotion:function(I,B){I.allowRotation&&this.computeAngularVelocity(I,B),this.computeVelocity(I,B)},computeAngularVelocity:function(I,B){var G=I.angularVelocity,H=I.angularAcceleration,$=I.angularDrag,Z=I.maxAngular;H?G+=H*B:I.allowDrag&&$&&($*=B,d(G-$,0,.1)?G-=$:f(G+$,0,.1)?G+=$:G=0),G=a(G,-Z,Z);var Q=G-I.angularVelocity;I.angularVelocity+=Q,I.rotation+=I.angularVelocity*B},computeVelocity:function(I,B){var G=I.velocity.x,H=I.acceleration.x,$=I.drag.x,Z=I.maxVelocity.x,Q=I.velocity.y,j=I.acceleration.y,_=I.drag.y,tt=I.maxVelocity.y,et=I.speed,rt=I.maxSpeed,at=I.allowDrag,st=I.useDamping;I.allowGravity&&(G+=(this.gravity.x+I.gravity.x)*B,Q+=(this.gravity.y+I.gravity.y)*B),H?G+=H*B:at&&$&&(st?($=Math.pow($,B),G*=$,et=Math.sqrt(G*G+Q*Q),u(et,0,.001)&&(G=0)):($*=B,d(G-$,0,.01)?G-=$:f(G+$,0,.01)?G+=$:G=0)),j?Q+=j*B:at&&_&&(st?(_=Math.pow(_,B),Q*=_,et=Math.sqrt(G*G+Q*Q),u(et,0,.001)&&(Q=0)):(_*=B,d(Q-_,0,.01)?Q-=_:f(Q+_,0,.01)?Q+=_:Q=0)),G=a(G,-Z,Z),Q=a(Q,-tt,tt),I.velocity.set(G,Q),rt>-1&&I.velocity.length()>rt&&(I.velocity.normalize().scale(rt),et=rt),I.speed=et},separate:function(I,B,G,H,$){var Z,Q,j=!1,_=!0;if(!I.enable||!B.enable||I.checkCollision.none||B.checkCollision.none||!this.intersects(I,B)||G&&G.call(H,I.gameObject||I,B.gameObject||B)===!1)return j;if(I.isCircle||B.isCircle){var tt=this.separateCircle(I,B,$);tt.result?(j=!0,_=!1):(Z=tt.x,Q=tt.y,_=!0)}if(_){var et=!1,rt=!1,at=this.OVERLAP_BIAS;$?(et=w(I,B,$,at,Z),rt=R(I,B,$,at,Q)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(et=w(I,B,$,at,Z),this.intersects(I,B)&&(rt=R(I,B,$,at,Q))):(rt=R(I,B,$,at,Q),this.intersects(I,B)&&(et=w(I,B,$,at,Z))),j=et||rt}return j&&($?(I.onOverlap||B.onOverlap)&&this.emit(h.OVERLAP,I.gameObject,B.gameObject,I,B):(I.onCollide||B.onCollide)&&this.emit(h.COLLIDE,I.gameObject,B.gameObject,I,B)),j},separateCircle:function(I,B,G){c(I,B,!1,0),g(I,B,!1,0);var H=I.isCircle,$=B.isCircle,Z=I.center,Q=B.center,j=I.immovable,_=B.immovable,tt=I.velocity,et=B.velocity,rt=0,at=!0;if(H!==$){at=!1;var st=Z.x,ct=Z.y,vt=I.halfWidth,pt=B.position.x,nt=B.position.y,ht=B.right,lt=B.bottom;$&&(st=Q.x,ct=Q.y,vt=B.halfWidth,pt=I.position.x,nt=I.position.y,ht=I.right,lt=I.bottom),ct<nt?st<pt?rt=s(st,ct,pt,nt)-vt:st>ht&&(rt=s(st,ct,ht,nt)-vt):ct>lt&&(st<pt?rt=s(st,ct,pt,lt)-vt:st>ht&&(rt=s(st,ct,ht,lt)-vt)),rt*=-1}else rt=I.halfWidth+B.halfWidth-o(Z,Q);I.overlapR=rt,B.overlapR=rt;var xt=l(Z,Q),Et=(rt+x.EPSILON)*Math.cos(xt),Bt=(rt+x.EPSILON)*Math.sin(xt),Tt={overlap:rt,result:!1,x:Et,y:Bt};if(G&&(!at||at&&rt!==0))return Tt.result=!0,Tt;if(!at&&rt===0||j&&_||I.customSeparateX||B.customSeparateX)return Tt.x=void 0,Tt.y=void 0,Tt;var St=!I.pushable&&!B.pushable;if(at){var It=Z.x-Q.x,Ht=Z.y-Q.y,Lt=Math.sqrt(Math.pow(It,2)+Math.pow(Ht,2)),Nt=(Q.x-Z.x)/Lt||0,zt=(Q.y-Z.y)/Lt||0,Jt=2*(tt.x*Nt+tt.y*zt-et.x*Nt-et.y*zt)/(I.mass+B.mass);(j||_||!I.pushable||!B.pushable)&&(Jt*=2),!j&&I.pushable&&(tt.x=tt.x-Jt/I.mass*Nt,tt.y=tt.y-Jt/I.mass*zt,tt.multiply(I.bounce)),!_&&B.pushable&&(et.x=et.x+Jt/B.mass*Nt,et.y=et.y+Jt/B.mass*zt,et.multiply(B.bounce)),!j&&!_&&(Et*=.5,Bt*=.5),(!j||I.pushable||St)&&(I.x-=Et,I.y-=Bt,I.updateCenter()),(!_||B.pushable||St)&&(B.x+=Et,B.y+=Bt,B.updateCenter()),Tt.result=!0}else(!j||I.pushable||St)&&(I.x-=Et,I.y-=Bt,I.updateCenter()),(!_||B.pushable||St)&&(B.x+=Et,B.y+=Bt,B.updateCenter()),Tt.x=void 0,Tt.y=void 0;return Tt},intersects:function(I,B){return I===B?!1:!I.isCircle&&!B.isCircle?!(I.right<=B.left||I.bottom<=B.top||I.left>=B.right||I.top>=B.bottom):I.isCircle?B.isCircle?o(I.center,B.center)<=I.halfWidth+B.halfWidth:this.circleBodyIntersects(I,B):this.circleBodyIntersects(B,I)},circleBodyIntersects:function(I,B){var G=a(I.center.x,B.left,B.right),H=a(I.center.y,B.top,B.bottom),$=(I.center.x-G)*(I.center.x-G),Z=(I.center.y-H)*(I.center.y-H);return $+Z<=I.halfWidth*I.halfWidth},overlap:function(I,B,G,H,$){return G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G),this.collideObjects(I,B,G,H,$,!0)},collide:function(I,B,G,H,$){return G===void 0&&(G=null),H===void 0&&(H=null),$===void 0&&($=G),this.collideObjects(I,B,G,H,$,!1)},collideObjects:function(I,B,G,H,$,Z){var Q,j;I.isParent&&(I.physicsType===void 0||B===void 0||I===B)&&(I=I.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var _=Array.isArray(I),tt=Array.isArray(B);if(this._total=0,!_&&!tt)this.collideHandler(I,B,G,H,$,Z);else if(!_&&tt)for(Q=0;Q<B.length;Q++)this.collideHandler(I,B[Q],G,H,$,Z);else if(_&&!tt)if(B)for(Q=0;Q<I.length;Q++)this.collideHandler(I[Q],B,G,H,$,Z);else for(Q=0;Q<I.length;Q++){var et=I[Q];for(j=Q+1;j<I.length;j++)Q!==j&&this.collideHandler(et,I[j],G,H,$,Z)}else for(Q=0;Q<I.length;Q++)for(j=0;j<B.length;j++)this.collideHandler(I[Q],B[j],G,H,$,Z);return this._total>0},collideHandler:function(I,B,G,H,$,Z){if(B===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,G,H,$,Z);if(!I||!B)return!1;if(I.body||I.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(I,B,G,H,$,Z);if(B.isParent)return this.collideSpriteVsGroup(I,B,G,H,$,Z);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(I,B,G,H,$,Z)}else if(I.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,I,G,H,$,Z);if(B.isParent)return this.collideGroupVsGroup(I,B,G,H,$,Z);if(B.isTilemap)return this.collideGroupVsTilemapLayer(I,B,G,H,$,Z)}else if(I.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,I,G,H,$,Z);if(B.isParent)return this.collideGroupVsTilemapLayer(B,I,G,H,$,Z)}},canCollide:function(I,B){return I&&B&&(I.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&I.collisionCategory)!==0},collideSpriteVsSprite:function(I,B,G,H,$,Z){var Q=I.isBody?I:I.body,j=B.isBody?B:B.body;return this.canCollide(Q,j)?(this.separate(Q,j,H,$,Z)&&(G&&G.call($,I,B),this._total++),!0):!1},collideSpriteVsGroup:function(I,B,G,H,$,Z){var Q=I.isBody?I:I.body;if(!(B.getLength()===0||!Q||!Q.enable||Q.checkCollision.none||!this.canCollide(Q,B))){var j,_,tt;if(this.useTree||B.physicsType===e.STATIC_BODY){var et=this.treeMinMax;et.minX=Q.left,et.minY=Q.top,et.maxX=Q.right,et.maxY=Q.bottom;var rt=B.physicsType===e.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(_=rt.length,j=0;j<_;j++)tt=rt[j],!(Q===tt||!tt.enable||tt.checkCollision.none||!B.contains(tt.gameObject))&&this.separate(Q,tt,H,$,Z)&&(G&&G.call($,Q.gameObject,tt.gameObject),this._total++)}else{var at=B.getChildren(),st=B.children.entries.indexOf(I);for(_=at.length,j=0;j<_;j++)tt=at[j].body,!(!tt||j===st||!tt.enable)&&this.separate(Q,tt,H,$,Z)&&(G&&G.call($,Q.gameObject,tt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(I,B,G,H,$,Z){if(!this.canCollide(I,B))return!1;var Q=I.getChildren();if(Q.length===0)return!1;for(var j=!1,_=0;_<Q.length;_++)(Q[_].body||Q[_].isBody)&&this.collideSpriteVsTilemapLayer(Q[_],B,G,H,$,Z)&&(j=!0);return j},collideTiles:function(I,B,G,H,$){return B.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,B,G,H,$,!1,!1)},overlapTiles:function(I,B,G,H,$){return B.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,B,G,H,$,!0,!1)},collideSpriteVsTilemapLayer:function(I,B,G,H,$,Z){var Q=I.isBody?I:I.body;if(!Q.enable||Q.checkCollision.none||!this.canCollide(Q,B))return!1;var j=B.layer,_=Q.x-j.tileWidth*B.scaleX,tt=Q.y-j.tileHeight*B.scaleY,et=Q.width+j.tileWidth*B.scaleX,rt=Q.height+j.tileHeight*B.scaleY,at=Z?null:this.tileFilterOptions,st=m(_,tt,et,rt,at,B.scene.cameras.main,B.layer);return st.length===0?!1:this.collideSpriteVsTilesHandler(I,st,G,H,$,Z,!0)},collideSpriteVsTilesHandler:function(I,B,G,H,$,Z,Q){for(var j=I.isBody?I:I.body,_,tt={left:0,right:0,top:0,bottom:0},et,rt=!1,at=0;at<B.length;at++){_=B[at],et=_.tilemapLayer;var st=et.tileToWorldXY(_.x,_.y);tt.left=st.x,tt.top=st.y,tt.right=tt.left+_.width*et.scaleX,tt.bottom=tt.top+_.height*et.scaleY,X(tt,j)&&(!H||H.call($,I,_))&&C(_,I)&&(Z||M(at,j,_,tt,et,this.TILE_BIAS,Q))&&(this._total++,rt=!0,G&&G.call($,I,_),Z&&j.onOverlap?this.emit(h.TILE_OVERLAP,I,_,j):j.onCollide&&this.emit(h.TILE_COLLIDE,I,_,j))}return rt},collideGroupVsGroup:function(I,B,G,H,$,Z){if(!(I.getLength()===0||B.getLength()===0||!this.canCollide(I,B)))for(var Q=I.getChildren(),j=0;j<Q.length;j++)this.collideSpriteVsGroup(Q[j],B,G,H,$,Z)},wrap:function(I,B){I.body?this.wrapObject(I,B):I.getChildren?this.wrapArray(I.getChildren(),B):Array.isArray(I)?this.wrapArray(I,B):this.wrapObject(I,B)},wrapArray:function(I,B){for(var G=0;G<I.length;G++)this.wrapObject(I[G],B)},wrapObject:function(I,B){B===void 0&&(B=0),I.x=N(I.x,this.bounds.left-B,this.bounds.right+B),I.y=N(I.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});v.exports=V},1093:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(t,l){return this.body.acceleration.set(t,l),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};v.exports=T},59023:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};v.exports=T},62069:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(t,l){return this.body.bounce.set(t,l),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,l,p,a){return this.body.setCollideWorldBounds(t,l,p,a),this}};v.exports=T},78389:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79599),p={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=l(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=2147483647,this}};v.exports=p},87118:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(t,l,p){return this.debugShowBody=t,this.debugShowVelocity=l,this.debugBodyColor=p,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};v.exports=T},52819:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(t,l){return this.body.drag.set(t,l),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};v.exports=T},4074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,l,p,a,r){return t&&this.body.reset(l,p),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,l){return t===void 0&&(t=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};v.exports=T},40831:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(t,l){return this.body.friction.set(t,l),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};v.exports=T},26775:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(t,l){return this.body.gravity.set(t,l),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};v.exports=T},9437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};v.exports=T},30621:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(t){return this.body.mass=t,this}};v.exports=T},72441:(v,T,t)=>{var l=t(47956),p=t(96503),a=t(2044),r=t(81491),n=function(e,s,o,i,h,u){var d=l(e,s-i,o-i,2*i,2*i,h,u);if(d.length===0)return d;for(var f=new p(s,o,i),c=new p,g=[],m=0;m<d.length;m++){var y=d[m];y.isCircle?(c.setTo(y.center.x,y.center.y,y.halfWidth),a(f,c)&&g.push(y)):r(f,y)&&g.push(y)}return g};v.exports=n},47956:v=>{var T=function(t,l,p,a,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var s=[],o=[],i=t.treeMinMax;if(i.minX=l,i.minY=p,i.maxX=l+a,i.maxY=p+r,e&&(o=t.staticTree.search(i)),n&&t.useTree)s=t.tree.search(i);else if(n){var h=t.bodies,u={position:{x:l,y:p},left:l,top:p,right:l+a,bottom:p+r,isCircle:!1},d=t.intersects;h.iterate(function(f){d(f,u)&&s.push(f)})}return o.concat(s)};v.exports=T},62121:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};v.exports=T},29384:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(t,l){return this.body.setOffset(t,l),this},setSize:function(t,l,p){return this.body.setSize(t,l,p),this},setBodySize:function(t,l,p){return this.body.setSize(t,l,p),this},setCircle:function(t,l,p){return this.body.setCircle(t,l,p),this}};v.exports=T},15098:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(t,l){return this.body.setVelocity(t,l),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,l){return this.body.maxVelocity.set(t,l),this}};v.exports=T},92209:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};v.exports=T},20009:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collide"},36768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="overlap"},60473:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},89954:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},61804:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tilecollide"},7161:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tileoverlap"},34689:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldbounds"},16006:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldstep"},63012:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),p=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=p(!1,a,l),v.exports=a},96602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,l,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,l,t):!0};v.exports=T},36294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l<0?(t.blocked.none=!1,t.blocked.left=!0):l>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=l,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};v.exports=T},67013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l<0?(t.blocked.none=!1,t.blocked.up=!0):l>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=l,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};v.exports=T},40012:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21329),p=t(53442),a=t(2483),r=function(n,e,s,o,i,h,u){var d=o.left,f=o.top,c=o.right,g=o.bottom,m=s.faceLeft||s.faceRight,y=s.faceTop||s.faceBottom;if(u||(m=!0,y=!0),!m&&!y)return!1;var x=0,S=0,C=0,A=1;if(e.deltaAbsX()>e.deltaAbsY()?C=-1:e.deltaAbsX()<e.deltaAbsY()&&(A=-1),e.deltaX()!==0&&e.deltaY()!==0&&m&&y&&(C=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-d)),A=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-f))),C<A){if(m&&(x=l(e,s,d,c,h,u),x!==0&&!a(o,e)))return!0;y&&(S=p(e,s,f,g,h,u))}else{if(y&&(S=p(e,s,f,g,h,u),S!==0&&!a(o,e)))return!0;m&&(x=l(e,s,d,c,h,u))}return x!==0||S!==0};v.exports=r},21329:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36294),p=function(a,r,n,e,s,o){var i=0,h=r.faceLeft,u=r.faceRight,d=r.collideLeft,f=r.collideRight;return o||(h=!0,u=!0,d=!0,f=!0),a.deltaX()<0&&f&&a.checkCollision.left?u&&a.x<e&&(i=a.x-e,i<-s&&(i=0)):a.deltaX()>0&&d&&a.checkCollision.right&&h&&a.right>n&&(i=a.right-n,i>s&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:l(a,i)),i};v.exports=p},53442:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67013),p=function(a,r,n,e,s,o){var i=0,h=r.faceTop,u=r.faceBottom,d=r.collideUp,f=r.collideDown;return o||(h=!0,u=!0,d=!0,f=!0),a.deltaY()<0&&f&&a.checkCollision.up?u&&a.y<e&&(i=a.y-e,i<-s&&(i=0)):a.deltaY()>0&&d&&a.checkCollision.down&&h&&a.bottom>n&&(i=a.bottom-n,i>s&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:l(a,i)),i};v.exports=p},2483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return!(l.right<=t.left||l.bottom<=t.top||l.position.x>=t.right||l.position.y>=t.bottom)};v.exports=T},55173:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};v.exports=l},44563:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Arcade:t(27064),Matter:t(3875)}},68174:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(26099),a=new l({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,o=r.bounds.max.y-r.bounds.min.y,i=s*r.centerOfMass.x,h=o*r.centerOfMass.y;return n.set(s/2,o/2),e.set(i-n.x,h-n.y),!0},getTopLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n+s.x+o.x,e+s.y+o.y)}return!1},getTopCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n+o.x,e+s.y+o.y)}return!1},getTopRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n-(s.x-o.x),e+s.y+o.y)}return!1},getLeftCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n+s.x+o.x,e+o.y)}return!1},getCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.centerDiff;return new p(n+s.x,e+s.y)}return!1},getRightCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n-(s.x-o.x),e+o.y)}return!1},getBottomLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n+s.x+o.x,e-(s.y-o.y))}return!1},getBottomCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n+o.x,e-(s.y-o.y))}return!1},getBottomRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new p(n-(s.x-o.x),e-(s.y-o.y))}return!1}});v.exports=a},19933:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6790);l.Body=t(22562),l.Composite=t(69351),l.World=t(4372),l.Collision=t(52284),l.Detector=t(81388),l.Pairs=t(99561),l.Pair=t(4506),l.Query=t(73296),l.Resolver=t(66272),l.Constraint=t(48140),l.Common=t(53402),l.Engine=t(48413),l.Events=t(35810),l.Sleeping=t(53614),l.Plugin=t(73832),l.Bodies=t(66280),l.Composites=t(74116),l.Axes=t(66615),l.Bounds=t(15647),l.Svg=t(74058),l.Vector=t(31725),l.Vertices=t(41598),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,v.exports=l},28137:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),p=t(83419),a=t(74116),r=t(48140),n=t(74058),e=t(75803),s=t(23181),o=t(34803),i=t(73834),h=t(19496),u=t(85791),d=t(98713),f=t(41598),c=new p({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},rectangle:function(g,m,y,x,S){var C=l.rectangle(g,m,y,x,S);return this.world.add(C),C},trapezoid:function(g,m,y,x,S,C){var A=l.trapezoid(g,m,y,x,S,C);return this.world.add(A),A},circle:function(g,m,y,x,S){var C=l.circle(g,m,y,x,S);return this.world.add(C),C},polygon:function(g,m,y,x,S){var C=l.polygon(g,m,y,x,S);return this.world.add(C),C},fromVertices:function(g,m,y,x,S,C,A){typeof y=="string"&&(y=f.fromPath(y));var F=l.fromVertices(g,m,y,x,S,C,A);return this.world.add(F),F},fromPhysicsEditor:function(g,m,y,x,S){S===void 0&&(S=!0);var C=h.parseBody(g,m,y,x);return S&&!this.world.has(C)&&this.world.add(C),C},fromSVG:function(g,m,y,x,S,C){x===void 0&&(x=1),S===void 0&&(S={}),C===void 0&&(C=!0);for(var A=y.getElementsByTagName("path"),F=[],M=0;M<A.length;M++){var w=n.pathToVertices(A[M],30);x!==1&&f.scale(w,x,x),F.push(w)}var R=l.fromVertices(g,m,F,S);return C&&this.world.add(R),R},fromJSON:function(g,m,y,x,S){x===void 0&&(x={}),S===void 0&&(S=!0);var C=u.parseBody(g,m,y,x);return C&&S&&this.world.add(C),C},imageStack:function(g,m,y,x,S,C,A,F,M){A===void 0&&(A=0),F===void 0&&(F=0),M===void 0&&(M={});var w=this.world,R=this.sys.displayList;M.addToWorld=!1;var O=a.stack(y,x,S,C,A,F,function(U,X){var W=new s(w,U,X,g,m,M);return R.add(W),W.body});return w.add(O),O},stack:function(g,m,y,x,S,C,A){var F=a.stack(g,m,y,x,S,C,A);return this.world.add(F),F},pyramid:function(g,m,y,x,S,C,A){var F=a.pyramid(g,m,y,x,S,C,A);return this.world.add(F),F},chain:function(g,m,y,x,S,C){return a.chain(g,m,y,x,S,C)},mesh:function(g,m,y,x,S){return a.mesh(g,m,y,x,S)},newtonsCradle:function(g,m,y,x,S){var C=a.newtonsCradle(g,m,y,x,S);return this.world.add(C),C},car:function(g,m,y,x,S){var C=a.car(g,m,y,x,S);return this.world.add(C),C},softBody:function(g,m,y,x,S,C,A,F,M,w){var R=a.softBody(g,m,y,x,S,C,A,F,M,w);return this.world.add(R),R},joint:function(g,m,y,x,S){return this.constraint(g,m,y,x,S)},spring:function(g,m,y,x,S){return this.constraint(g,m,y,x,S)},constraint:function(g,m,y,x,S){x===void 0&&(x=1),S===void 0&&(S={}),S.bodyA=g.type==="body"?g:g.body,S.bodyB=m.type==="body"?m:m.body,isNaN(y)||(S.length=y),S.stiffness=x;var C=r.create(S);return this.world.add(C),C},worldConstraint:function(g,m,y,x){y===void 0&&(y=1),x===void 0&&(x={}),x.bodyB=g.type==="body"?g:g.body,isNaN(m)||(x.length=m),x.stiffness=y;var S=r.create(x);return this.world.add(S),S},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var m=new d(this.scene,this.world,g);return this.world.add(m.constraint),m},image:function(g,m,y,x,S){var C=new s(this.world,g,m,y,x,S);return this.sys.displayList.add(C),C},tileBody:function(g,m){return new i(this.world,g,m)},sprite:function(g,m,y,x,S){var C=new o(this.world,g,m,y,x,S);return this.sys.displayList.add(C),this.sys.updateList.add(C),C},gameObject:function(g,m,y){return e(this.world,g,m,y)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=c},75803:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31884),p=t(95540),a=t(26099);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,s,o,i){o===void 0&&(o={}),i===void 0&&(i=!0);var h=s.x,u=s.y;s.body={temp:!0,position:{x:h,y:u}};var d=[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity];if(d.forEach(function(c){for(var g in c)r(c[g])?Object.defineProperty(s,g,{get:c[g].get,set:c[g].set}):Object.defineProperty(s,g,{value:c[g]})}),s.world=e,s._tempVec2=new a(h,u),o.hasOwnProperty("type")&&o.type==="body")s.setExistingBody(o,i);else{var f=p(o,"shape",null);f||(f="rectangle"),o.addToWorld=i,s.setBody(f,o)}return s};v.exports=n},23181:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31884),a=t(95643),r=t(95540),n=t(88571),e=t(72699),s=t(26099),o=new l({Extends:n,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,e],initialize:function(h,u,d,f,c,g){a.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,c),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new s(u,d);var m=r(g,"shape",null);m?this.setBody(m,g):this.setRectangle(this.width,this.height,g),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=o},42045:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),p=t(66615),a=t(66280),r=t(22562),n=t(68174),e=t(15647),s=t(83419),o=t(52284),i=t(53402),h=t(69351),u=t(74116),d=t(48140),f=t(81388),c=t(20339),g=t(28137),m=t(95540),y=t(35154),x=t(46975),S=t(4506),C=t(99561),A=t(37277),F=t(73296),M=t(66272),w=t(44594),R=t(74058),O=t(31725),U=t(41598),X=t(68243);i.setDecomp(t(55973));var W=new s({initialize:function(N){this.scene=N,this.systems=N.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=h,this.collision=o,this.detector=f,this.pair=S,this.pairs=C,this.query=F,this.resolver=M,this.constraint=d,this.bodies=a,this.composites=u,this.axes=p,this.bounds=e,this.svg=R,this.vector=O,this.vertices=U,this.verts=U,this._tempVec2=O.create(),M._restingThresh=y(this.config,"restingThresh",4),M._restingThreshTangent=y(this.config,"restingThreshTangent",6),M._positionDampen=y(this.config,"positionDampen",.9),M._positionWarming=y(this.config,"positionWarming",.8),M._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),N.sys.events.once(w.BOOT,this.boot,this),N.sys.events.on(w.START,this.start,this)},boot:function(){this.world=new X(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new n,this.systems.events.once(w.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new X(this.scene,this.config),this.add=new g(this.world));var Y=this.systems.events;Y.on(w.UPDATE,this.world.update,this.world),Y.on(w.POST_UPDATE,this.world.postUpdate,this.world),Y.once(w.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,N=this.systems.settings.physics,V=x(m(N,"matter",{}),m(Y,"matter",{}));return V},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,N){this.world.step(Y,N)},containsPoint:function(Y,N,V){Y=this.getMatterBodies(Y);var I=O.create(N,V),B=F.point(Y,I);return B.length>0},intersectPoint:function(Y,N,V){V=this.getMatterBodies(V);var I=O.create(Y,N),B=[],G=F.point(V,I);return G.forEach(function(H){B.indexOf(H)===-1&&B.push(H)}),B},intersectRect:function(Y,N,V,I,B,G){B===void 0&&(B=!1),G=this.getMatterBodies(G);var H={min:{x:Y,y:N},max:{x:Y+V,y:N+I}},$=[],Z=F.region(G,H,B);return Z.forEach(function(Q){$.indexOf(Q)===-1&&$.push(Q)}),$},intersectRay:function(Y,N,V,I,B,G){B===void 0&&(B=1),G=this.getMatterBodies(G);for(var H=[],$=F.ray(G,O.create(Y,N),O.create(V,I),B),Z=0;Z<$.length;Z++)H.push($[Z].body);return H},intersectBody:function(Y,N){N=this.getMatterBodies(N);for(var V=[],I=F.collides(Y,N),B=0;B<I.length;B++){var G=I[B];G.bodyA===Y?V.push(G.bodyB):V.push(G.bodyA)}return V},overlap:function(Y,N,V,I,B){V===void 0&&(V=null),I===void 0&&(I=null),B===void 0&&(B=V),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),N=this.getMatterBodies(N);for(var G=!1,H=0;H<Y.length;H++)for(var $=Y[H],Z=F.collides($,N),Q=0;Q<Z.length;Q++){var j=Z[Q],_=j.bodyA.id===$.id?j.bodyB:j.bodyA;if(!I||I.call(B,$,_,j)){if(G=!0,V)V.call(B,$,_,j);else if(!I)return!0}}return G},setCollisionCategory:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(V){V.collisionFilter.category=N}),this},setCollisionGroup:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(V){V.collisionFilter.group=N}),this},setCollidesWith:function(Y,N){Y=this.getMatterBodies(Y);var V=0;if(!Array.isArray(N))V=N;else for(var I=0;I<N.length;I++)V|=N[I];return Y.forEach(function(B){B.collisionFilter.mask=V}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var N=[],V=0;V<Y.length;V++){var I=Y[V].hasOwnProperty("body")?Y[V].body:Y[V];N.push(I)}return N},setVelocity:function(Y,N,V){Y=this.getMatterBodies(Y);var I=this._tempVec2;return I.x=N,I.y=V,Y.forEach(function(B){r.setVelocity(B,I)}),this},setVelocityX:function(Y,N){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.x=N,Y.forEach(function(I){V.y=I.velocity.y,r.setVelocity(I,V)}),this},setVelocityY:function(Y,N){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.y=N,Y.forEach(function(I){V.x=I.velocity.x,r.setVelocity(I,V)}),this},setAngularVelocity:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(V){r.setAngularVelocity(V,N)}),this},applyForce:function(Y,N){Y=this.getMatterBodies(Y);var V=this._tempVec2;return Y.forEach(function(I){V.x=I.position.x,V.y=I.position.y,r.applyForce(I,V,N)}),this},applyForceFromPosition:function(Y,N,V,I){Y=this.getMatterBodies(Y);var B=this._tempVec2;return Y.forEach(function(G){I===void 0&&(I=G.angle),B.x=V*Math.cos(I),B.y=V*Math.sin(I),r.applyForce(G,N,B)}),this},applyForceFromAngle:function(Y,N,V){Y=this.getMatterBodies(Y);var I=this._tempVec2;return Y.forEach(function(B){V===void 0&&(V=B.angle),I.x=N*Math.cos(V),I.y=N*Math.sin(V),r.applyForce(B,{x:B.position.x,y:B.position.y},I)}),this},getConstraintLength:function(Y){var N=Y.pointA.x,V=Y.pointA.y,I=Y.pointB.x,B=Y.pointB.y;return Y.bodyA&&(N+=Y.bodyA.position.x,V+=Y.bodyA.position.y),Y.bodyB&&(I+=Y.bodyB.position.x,B+=Y.bodyB.position.y),c(N,V,I,B)},alignBody:function(Y,N,V,I){Y=Y.hasOwnProperty("body")?Y.body:Y;var B;switch(I){case l.TOP_LEFT:case l.LEFT_TOP:B=this.bodyBounds.getTopLeft(Y,N,V);break;case l.TOP_CENTER:B=this.bodyBounds.getTopCenter(Y,N,V);break;case l.TOP_RIGHT:case l.RIGHT_TOP:B=this.bodyBounds.getTopRight(Y,N,V);break;case l.LEFT_CENTER:B=this.bodyBounds.getLeftCenter(Y,N,V);break;case l.CENTER:B=this.bodyBounds.getCenter(Y,N,V);break;case l.RIGHT_CENTER:B=this.bodyBounds.getRightCenter(Y,N,V);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:B=this.bodyBounds.getBottomLeft(Y,N,V);break;case l.BOTTOM_CENTER:B=this.bodyBounds.getBottomCenter(Y,N,V);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:B=this.bodyBounds.getBottomRight(Y,N,V);break}return B&&r.setPosition(Y,B),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(w.UPDATE,this.world.update,this.world),Y.off(w.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(w.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.systems=null}});A.register("MatterPhysics",W,"matterPhysics"),v.exports=W},34803:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),p=t(83419),a=t(31884),r=t(95643),n=t(95540),e=t(72699),s=t(68287),o=t(26099),i=new p({Extends:s,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(u,d,f,c,g,m){r.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(c,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new o(d,f);var y=n(m,"shape",null);y?this.setBody(y,m):this.setRectangle(this.width,this.height,m),this.setPosition(d,f),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=i},73834:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),p=t(22562),a=t(83419),r=t(31884),n=t(62644),e=t(50792),s=t(95540),o=t(97022),i=t(41598),h=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(d,f,c){e.call(this),this.tile=f,this.world=d,f.physics.matterBody&&f.physics.matterBody.destroy(),f.physics.matterBody=this;var g=s(c,"body",null),m=s(c,"addToWorld",!0);if(g)this.setBody(g,m);else{var y=f.getCollisionGroup(),x=s(y,"objects",[]);x.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}if(f.flipX||f.flipY){var S={x:f.getCenterX(),y:f.getCenterY()},C=f.flipX?-1:1,A=f.flipY?-1:1;p.scale(g,C,A,S)}},setFromTileRectangle:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);var d=this.tile.getBounds(),f=d.x+d.width/2,c=d.y+d.height/2,g=l.rectangle(f,c,d.width,d.height,u);return this.setBody(g,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,f=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),g=this.tile.getTop(),m=this.tile.getCollisionGroup(),y=s(m,"objects",[]),x=[],S=0;S<y.length;S++){var C=y[S],A=c+C.x*d,F=g+C.y*f,M=C.width*d,w=C.height*f,R=null;if(C.rectangle)R=l.rectangle(A+M/2,F+w/2,M,w,u);else if(C.ellipse)R=l.circle(A+M/2,F+w/2,M/2,u);else if(C.polygon||C.polyline){var O=C.polygon?C.polygon:C.polyline,U=O.map(function(N){return{x:N.x*d,y:N.y*f}}),X=i.create(U),W=i.centre(X);A+=W.x,F+=W.y,R=l.fromVertices(A,F,X,u)}R&&x.push(R)}if(x.length===1)this.setBody(x[0],u.addToWorld);else if(x.length>1){var Y=n(u);Y.parts=x,this.setBody(p.create(Y),Y.addToWorld)}return this},setBody:function(u,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});v.exports=h},19496:(v,T,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),p=t(22562),a=t(53402),r=t(95540),n=t(41598),e={parseBody:function(s,o,i,h){h===void 0&&(h={});for(var u=r(i,"fixtures",[]),d=[],f=0;f<u.length;f++)for(var c=this.parseFixture(u[f]),g=0;g<c.length;g++)d.push(c[g]);var m=a.clone(i,!0);a.extend(m,h,!0),delete m.fixtures,delete m.type;var y=p.create(m);return p.setParts(y,d),p.setPosition(y,{x:s,y:o}),y},parseFixture:function(s){var o=a.extend({},!1,s);delete o.circle,delete o.vertices;var i;if(s.circle){var h=r(s.circle,"x"),u=r(s.circle,"y"),d=r(s.circle,"radius");i=[l.circle(h,u,d,o)]}else s.vertices&&(i=this.parseVertices(s.vertices,o));return i},parseVertices:function(s,o){o===void 0&&(o={});for(var i=[],h=0;h<s.length;h++)n.clockwiseSort(s[h]),i.push(p.create(a.extend({position:n.centre(s[h]),vertices:s[h]},o)));return l.flagCoincidentParts(i)}};v.exports=e},85791:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),p=t(22562),a={parseBody:function(r,n,e,s){s===void 0&&(s={});var o,i=e.vertices;if(i.length===1)s.vertices=i[0],o=p.create(s),l.flagCoincidentParts(o.parts);else{for(var h=[],u=0;u<i.length;u++){var d=p.create({vertices:i[u]});h.push(d)}l.flagCoincidentParts(h),s.parts=h,o=p.create(s)}return o.label=e.label,p.setPosition(o,{x:r,y:n}),o}};v.exports=a},98713:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15647),p=t(83419),a=t(69351),r=t(48140),n=t(81388),e=t(1121),s=t(8214),o=t(46975),i=t(53614),h=t(26099),u=t(41598),d=new p({initialize:function(c,g,m){m===void 0&&(m={});var y={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=r.create(o(m,y)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(s.POINTER_DOWN,this.onDown,this),c.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(f){this.pointer||(this.pointer=f,this.camera=f.camera)},onUp:function(f){f===this.pointer&&(this.pointer=null)},getBody:function(f){var c=this.position,g=this.constraint;this.camera.getWorldPoint(f.x,f.y,c);for(var m=a.allBodies(this.world.localWorld),y=0;y<m.length;y++){var x=m[y];if(!x.ignorePointer&&l.contains(x.bounds,c)&&n.canCollide(x.collisionFilter,g.collisionFilter)&&this.hitTestBody(x,c))return this.world.emit(e.DRAG_START,x,this.part,this),!0}return!1},hitTestBody:function(f,c){for(var g=this.constraint,m=f.parts.length,y=m>1?1:0,x=y;x<m;x++){var S=f.parts[x];if(u.contains(S.vertices,c))return g.pointA=c,g.pointB={x:c.x-f.position.x,y:c.y-f.position.y},g.bodyB=f,g.angleB=f.angle,i.set(f,!1),this.part=S,this.body=f,!0}return!1},update:function(){var f=this.pointer,c=this.body;if(!this.active||!f){c&&this.stopDrag();return}if(!f.isDown&&c){this.stopDrag();return}else if(f.isDown){if(!this.camera||!c&&!this.getBody(f))return;c=this.body;var g=this.position,m=this.constraint;this.camera.getWorldPoint(f.x,f.y,g),m.pointA.x=g.x,m.pointA.y=g.y,i.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var f=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,f&&this.world.emit(e.DRAG_END,f,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});v.exports=d},68243:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),p=t(22562),a=t(83419),r=t(53402),n=t(69351),e=t(48413),s=t(50792),o=t(1121),i=t(95540),h=t(35154),u=t(22562),d=t(35810),f=t(73834),c=t(4372),g=t(13037),m=t(31725),y=new a({Extends:s,initialize:function(S,C){s.call(this),this.scene=S,this.engine=e.create(C),this.localWorld=this.engine.world;var A=h(C,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(C,"enabled",!0),this.getDelta=h(C,"getDelta",this.update60Hz);var F=i(C,"runner",{}),M=i(F,"fps",!1);M&&(F.delta=1e3/i(F,"fps",60)),this.runner=g.create(F),this.autoUpdate=h(C,"autoUpdate",!0);var w=h(C,"debug",!1);if(this.drawDebug=typeof w=="object"?!0:w,this.debugGraphic,this.debugConfig={showAxes:i(w,"showAxes",!1),showAngleIndicator:i(w,"showAngleIndicator",!1),angleColor:i(w,"angleColor",15208787),showBroadphase:i(w,"showBroadphase",!1),broadphaseColor:i(w,"broadphaseColor",16757760),showBounds:i(w,"showBounds",!1),boundsColor:i(w,"boundsColor",16777215),showVelocity:i(w,"showVelocity",!1),velocityColor:i(w,"velocityColor",44783),showCollisions:i(w,"showCollisions",!1),collisionColor:i(w,"collisionColor",16094476),showSeparations:i(w,"showSeparations",!1),separationColor:i(w,"separationColor",16753920),showBody:i(w,"showBody",!0),showStaticBody:i(w,"showStaticBody",!0),showInternalEdges:i(w,"showInternalEdges",!1),renderFill:i(w,"renderFill",!1),renderLine:i(w,"renderLine",!0),fillColor:i(w,"fillColor",1075465),fillOpacity:i(w,"fillOpacity",1),lineColor:i(w,"lineColor",2678297),lineOpacity:i(w,"lineOpacity",1),lineThickness:i(w,"lineThickness",1),staticFillColor:i(w,"staticFillColor",857979),staticLineColor:i(w,"staticLineColor",1255396),showSleeping:i(w,"showSleeping",!1),staticBodySleepOpacity:i(w,"staticBodySleepOpacity",.7),sleepFillColor:i(w,"sleepFillColor",4605510),sleepLineColor:i(w,"sleepLineColor",10066585),showSensors:i(w,"showSensors",!0),sensorFillColor:i(w,"sensorFillColor",857979),sensorLineColor:i(w,"sensorLineColor",1255396),showPositions:i(w,"showPositions",!0),positionSize:i(w,"positionSize",4),positionColor:i(w,"positionColor",14697178),showJoint:i(w,"showJoint",!0),jointColor:i(w,"jointColor",14737474),jointLineOpacity:i(w,"jointLineOpacity",1),jointLineThickness:i(w,"jointLineThickness",2),pinSize:i(w,"pinSize",4),pinColor:i(w,"pinColor",4382944),springColor:i(w,"springColor",14697184),anchorColor:i(w,"anchorColor",15724527),anchorSize:i(w,"anchorSize",4),showConvexHulls:i(w,"showConvexHulls",!1),hullColor:i(w,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(C,"setBounds",!1)){var R=C.setBounds;if(typeof R=="boolean")this.setBounds();else{var O=i(R,"x",0),U=i(R,"y",0),X=i(R,"width",S.sys.scale.width),W=i(R,"height",S.sys.scale.height),Y=i(R,"thickness",64),N=i(R,"left",!0),V=i(R,"right",!0),I=i(R,"top",!0),B=i(R,"bottom",!0);this.setBounds(O,U,X,W,Y,N,V,I,B)}}},setCompositeRenderStyle:function(x){var S=x.bodies,C=x.constraints,A=x.composites,F,M,w;for(F=0;F<S.length;F++)M=S[F],w=M.render,this.setBodyRenderStyle(M,w.lineColor,w.lineOpacity,w.lineThickness,w.fillColor,w.fillOpacity);for(F=0;F<C.length;F++)M=C[F],w=M.render,this.setConstraintRenderStyle(M,w.lineColor,w.lineOpacity,w.lineThickness,w.pinSize,w.anchorColor,w.anchorSize);for(F=0;F<A.length;F++)M=A[F],this.setCompositeRenderStyle(M);return this},setBodyRenderStyle:function(x,S,C,A,F,M){var w=x.render,R=this.debugConfig;return w?(S==null&&(S=x.isStatic?R.staticLineColor:R.lineColor),C==null&&(C=R.lineOpacity),A==null&&(A=R.lineThickness),F==null&&(F=x.isStatic?R.staticFillColor:R.fillColor),M==null&&(M=R.fillOpacity),S!==!1&&(w.lineColor=S),C!==!1&&(w.lineOpacity=C),A!==!1&&(w.lineThickness=A),F!==!1&&(w.fillColor=F),M!==!1&&(w.fillOpacity=M),this):this},setConstraintRenderStyle:function(x,S,C,A,F,M,w){var R=x.render,O=this.debugConfig;if(!R)return this;if(S==null){var U=R.type;U==="line"?S=O.jointColor:U==="pin"?S=O.pinColor:U==="spring"&&(S=O.springColor)}return C==null&&(C=O.jointLineOpacity),A==null&&(A=O.jointLineThickness),F==null&&(F=O.pinSize),M==null&&(M=O.anchorColor),w==null&&(w=O.anchorSize),S!==!1&&(R.lineColor=S),C!==!1&&(R.lineOpacity=C),A!==!1&&(R.lineThickness=A),F!==!1&&(R.pinSize=F),M!==!1&&(R.anchorColor=M),w!==!1&&(R.anchorSize=w),this},setEventsProxy:function(){var x=this,S=this.engine,C=this.localWorld;this.drawDebug&&(d.on(C,"compositeModified",function(A){x.setCompositeRenderStyle(A)}),d.on(C,"beforeAdd",function(A){for(var F=[].concat(A.object),M=0;M<F.length;M++){var w=F[M],R=w.render;w.type==="body"?x.setBodyRenderStyle(w,R.lineColor,R.lineOpacity,R.lineThickness,R.fillColor,R.fillOpacity):w.type==="composite"?x.setCompositeRenderStyle(w):w.type==="constraint"&&x.setConstraintRenderStyle(w,R.lineColor,R.lineOpacity,R.lineThickness,R.pinSize,R.anchorColor,R.anchorSize)}})),d.on(C,"beforeAdd",function(A){x.emit(o.BEFORE_ADD,A)}),d.on(C,"afterAdd",function(A){x.emit(o.AFTER_ADD,A)}),d.on(C,"beforeRemove",function(A){x.emit(o.BEFORE_REMOVE,A)}),d.on(C,"afterRemove",function(A){x.emit(o.AFTER_REMOVE,A)}),d.on(S,"beforeUpdate",function(A){x.emit(o.BEFORE_UPDATE,A)}),d.on(S,"afterUpdate",function(A){x.emit(o.AFTER_UPDATE,A)}),d.on(S,"collisionStart",function(A){var F=A.pairs,M,w;F.length>0&&F.map(function(R){M=R.bodyA,w=R.bodyB,M.gameObject&&M.gameObject.emit("collide",M,w,R),w.gameObject&&w.gameObject.emit("collide",w,M,R),d.trigger(M,"onCollide",{pair:R}),d.trigger(w,"onCollide",{pair:R}),M.onCollideCallback&&M.onCollideCallback(R),w.onCollideCallback&&w.onCollideCallback(R),M.onCollideWith[w.id]&&M.onCollideWith[w.id](w,R),w.onCollideWith[M.id]&&w.onCollideWith[M.id](M,R)}),x.emit(o.COLLISION_START,A,M,w)}),d.on(S,"collisionActive",function(A){var F=A.pairs,M,w;F.length>0&&F.map(function(R){M=R.bodyA,w=R.bodyB,M.gameObject&&M.gameObject.emit("collideActive",M,w,R),w.gameObject&&w.gameObject.emit("collideActive",w,M,R),d.trigger(M,"onCollideActive",{pair:R}),d.trigger(w,"onCollideActive",{pair:R}),M.onCollideActiveCallback&&M.onCollideActiveCallback(R),w.onCollideActiveCallback&&w.onCollideActiveCallback(R)}),x.emit(o.COLLISION_ACTIVE,A,M,w)}),d.on(S,"collisionEnd",function(A){var F=A.pairs,M,w;F.length>0&&F.map(function(R){M=R.bodyA,w=R.bodyB,M.gameObject&&M.gameObject.emit("collideEnd",M,w,R),w.gameObject&&w.gameObject.emit("collideEnd",w,M,R),d.trigger(M,"onCollideEnd",{pair:R}),d.trigger(w,"onCollideEnd",{pair:R}),M.onCollideEndCallback&&M.onCollideEndCallback(R),w.onCollideEndCallback&&w.onCollideEndCallback(R)}),x.emit(o.COLLISION_END,A,M,w)})},setBounds:function(x,S,C,A,F,M,w,R,O){return x===void 0&&(x=0),S===void 0&&(S=0),C===void 0&&(C=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),F===void 0&&(F=64),M===void 0&&(M=!0),w===void 0&&(w=!0),R===void 0&&(R=!0),O===void 0&&(O=!0),this.updateWall(M,"left",x-F,S-F,F,A+F*2),this.updateWall(w,"right",x+C,S-F,F,A+F*2),this.updateWall(R,"top",x,S-F,C,F),this.updateWall(O,"bottom",x,S+A,C,F),this},updateWall:function(x,S,C,A,F,M){var w=this.walls[S];x?(w&&c.remove(this.localWorld,w),C+=F/2,A+=M/2,this.walls[S]=this.create(C,A,F,M,{isStatic:!0,friction:0,frictionStatic:0})):(w&&c.remove(this.localWorld,w),this.walls[S]=null)},createDebugGraphic:function(){var x=this.scene.sys.add.graphics({x:0,y:0});return x.setDepth(Number.MAX_VALUE),this.debugGraphic=x,this.drawDebug=!0,x},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(x,S,C){return x===void 0&&(x=0),S===void 0&&(S=1),C===void 0&&(C=.001),this.localWorld.gravity.x=x,this.localWorld.gravity.y=S,this.localWorld.gravity.scale=C,this},create:function(x,S,C,A,F){var M=l.rectangle(x,S,C,A,F);return c.add(this.localWorld,M),M},add:function(x){return c.add(this.localWorld,x),this},remove:function(x,S){Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++){var A=x[C],F=A.body?A.body:A;n.remove(this.localWorld,F,S)}return this},removeConstraint:function(x,S){return n.remove(this.localWorld,x,S),this},convertTilemapLayer:function(x,S){var C=x.layer,A=x.getTilesWithin(0,0,C.width,C.height,{isColliding:!0});return this.convertTiles(A,S),this},convertTiles:function(x,S){if(x.length===0)return this;for(var C=0;C<x.length;C++)new f(this,x[C],S);return this},nextGroup:function(x){return u.nextGroup(x)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(o.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=r.now(),this.emit(o.RESUME),this},update:function(x){if(!(!this.enabled||!this.autoUpdate)){var S=this.engine,C=this.runner,A=r.now(),F=C.delta,M=0,w=x-C.timeLastTick;if((!w||!C.timeLastTick||w>Math.max(g._maxFrameDelta,C.maxFrameTime))&&(w=C.frameDelta||g._frameDeltaFallback),C.frameDeltaSmoothing){C.frameDeltaHistory.push(w),C.frameDeltaHistory=C.frameDeltaHistory.slice(-C.frameDeltaHistorySize);var R=C.frameDeltaHistory.slice(0).sort(),O=C.frameDeltaHistory.slice(R.length*g._smoothingLowerBound,R.length*g._smoothingUpperBound),U=g._mean(O);w=U||w}C.frameDeltaSnapping&&(w=1e3/Math.round(1e3/w)),C.frameDelta=w,C.timeLastTick=x,C.timeBuffer+=C.frameDelta,C.timeBuffer=r.clamp(C.timeBuffer,0,C.frameDelta+F*g._timeBufferMargin),C.lastUpdatesDeferred=0;for(var X=C.maxUpdates||Math.ceil(C.maxFrameTime/F),W=r.now();F>0&&C.timeBuffer>=F*g._timeBufferMargin;){e.update(S,F),C.timeBuffer-=F,M+=1;var Y=r.now()-A,N=r.now()-W,V=Y+g._elapsedNextEstimate*N/M;if(M>=X||V>C.maxFrameTime){C.lastUpdatesDeferred=Math.round(Math.max(0,C.timeBuffer/F-g._timeBufferMargin));break}}}},step:function(x){e.update(this.engine,x)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(x){var S=x.hasOwnProperty("body")?x.body:x;return n.get(this.localWorld,S.id,S.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var x=this.debugConfig,S=this.engine,C=this.debugGraphic,A=n.allBodies(this.localWorld);this.debugGraphic.clear(),x.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,C,x.broadphaseColor,.5),x.showBounds&&this.renderBodyBounds(A,C,x.boundsColor,.5),(x.showBody||x.showStaticBody)&&this.renderBodies(A),x.showJoint&&this.renderJoints(),(x.showAxes||x.showAngleIndicator)&&this.renderBodyAxes(A,C,x.showAxes,x.angleColor,.5),x.showVelocity&&this.renderBodyVelocity(A,C,x.velocityColor,1,2),x.showSeparations&&this.renderSeparations(S.pairs.list,C,x.separationColor),x.showCollisions&&this.renderCollisions(S.pairs.list,C,x.collisionColor)}},renderGrid:function(x,S,C,A){S.lineStyle(1,C,A);for(var F=r.keys(x.buckets),M=0;M<F.length;M++){var w=F[M];if(!(x.buckets[w].length<2)){var R=w.split(/C|R/);S.strokeRect(parseInt(R[1],10)*x.bucketWidth,parseInt(R[2],10)*x.bucketHeight,x.bucketWidth,x.bucketHeight)}}return this},renderSeparations:function(x,S,C){S.lineStyle(1,C,1);for(var A=0;A<x.length;A++){var F=x[A];if(F.isActive){var M=F.collision,w=M.bodyA,R=M.bodyB,O=w.position,U=R.position,X=M.penetration,W=!w.isStatic&&!R.isStatic?4:1;R.isStatic&&(W=0),S.lineBetween(U.x,U.y,U.x-X.x*W,U.y-X.y*W),W=!w.isStatic&&!R.isStatic?4:1,w.isStatic&&(W=0),S.lineBetween(O.x,O.y,O.x-X.x*W,O.y-X.y*W)}}return this},renderCollisions:function(x,S,C){S.lineStyle(1,C,.5),S.fillStyle(C,1);var A,F;for(A=0;A<x.length;A++)if(F=x[A],!!F.isActive)for(var M=0;M<F.contactCount;M++){var w=F.contacts[M],R=w.vertex;R&&S.fillRect(R.x-2,R.y-2,5,5)}for(A=0;A<x.length;A++)if(F=x[A],!!F.isActive){var O=F.collision,U=F.contacts;if(F.contactCount>0){var X=U[0].vertex.x,W=U[0].vertex.y;F.contactCount===2&&(X=(U[0].vertex.x+U[1].vertex.x)/2,W=(U[0].vertex.y+U[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?S.lineBetween(X-O.normal.x*8,W-O.normal.y*8,X,W):S.lineBetween(X+O.normal.x*8,W+O.normal.y*8,X,W)}}return this},renderBodyBounds:function(x,S,C,A){S.lineStyle(1,C,A);for(var F=0;F<x.length;F++){var M=x[F];if(M.render.visible){var w=M.bounds;if(w)S.strokeRect(w.min.x,w.min.y,w.max.x-w.min.x,w.max.y-w.min.y);else for(var R=M.parts,O=R.length>1?1:0;O<R.length;O++){var U=R[O];S.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(x,S,C,A,F){S.lineStyle(1,A,F);for(var M=0;M<x.length;M++){var w=x[M],R=w.parts;if(w.render.visible){var O,U,X;if(C)for(U=R.length>1?1:0;U<R.length;U++)for(O=R[U],X=0;X<O.axes.length;X++){var W=O.axes[X];S.lineBetween(O.position.x,O.position.y,O.position.x+W.x*20,O.position.y+W.y*20)}else for(U=R.length>1?1:0;U<R.length;U++)for(O=R[U],X=0;X<O.axes.length;X++)S.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(x,S,C,A,F){S.lineStyle(F,C,A);for(var M=0;M<x.length;M++){var w=x[M];w.render.visible&&S.lineBetween(w.position.x,w.position.y,w.position.x+(w.position.x-w.positionPrev.x)*2,w.position.y+(w.position.y-w.positionPrev.y)*2)}return this},renderBodies:function(x){for(var S=this.debugGraphic,C=this.debugConfig,A=C.showBody,F=C.showStaticBody,M=C.showSleeping,w=C.showInternalEdges,R=C.showConvexHulls,O=C.renderFill,U=C.renderLine,X=C.staticBodySleepOpacity,W=C.sleepFillColor,Y=C.sleepLineColor,N=C.hullColor,V=0;V<x.length;V++){var I=x[V];if(I.render.visible&&!(!F&&I.isStatic||!A&&!I.isStatic)){var B=I.render.lineColor,G=I.render.lineOpacity,H=I.render.lineThickness,$=I.render.fillColor,Z=I.render.fillOpacity;M&&I.isSleeping&&(I.isStatic?(G*=X,Z*=X):(B=Y,$=W)),O||($=null),U||(B=null),this.renderBody(I,S,w,B,G,H,$,Z);var Q=I.parts.length;R&&Q>1&&this.renderConvexHull(I,S,N,H)}}},renderBody:function(x,S,C,A,F,M,w,R){A===void 0&&(A=null),F===void 0&&(F=null),M===void 0&&(M=1),w===void 0&&(w=null),R===void 0&&(R=null);for(var O=this.debugConfig,U=O.sensorFillColor,X=O.sensorLineColor,W=x.parts,Y=W.length,N=Y>1?1:0;N<Y;N++){var V=W[N],I=V.render,B=I.opacity;if(!(!I.visible||B===0||V.isSensor&&!O.showSensors)){var G=V.circleRadius;if(S.beginPath(),V.isSensor?(w!==null&&S.fillStyle(U,R*B),A!==null&&S.lineStyle(M,X,F*B)):(w!==null&&S.fillStyle(w,R*B),A!==null&&S.lineStyle(M,A,F*B)),G)S.arc(V.position.x,V.position.y,G,0,2*Math.PI);else{var H=V.vertices,$=H.length;S.moveTo(H[0].x,H[0].y);for(var Z=1;Z<$;Z++){var Q=H[Z];if(!H[Z-1].isInternal||C?S.lineTo(Q.x,Q.y):S.moveTo(Q.x,Q.y),Z<$&&Q.isInternal&&!C){var j=(Z+1)%$;S.moveTo(H[j].x,H[j].y)}}S.closePath()}w!==null&&S.fillPath(),A!==null&&S.strokePath()}}if(O.showPositions&&!x.isStatic){var _=x.position.x,tt=x.position.y,et=Math.ceil(O.positionSize/2);S.fillStyle(O.positionColor,1),S.fillRect(_-et,tt-et,O.positionSize,O.positionSize)}return this},renderConvexHull:function(x,S,C,A){A===void 0&&(A=1);var F=x.parts,M=F.length;if(M>1){var w=x.vertices;S.lineStyle(A,C),S.beginPath(),S.moveTo(w[0].x,w[0].y);for(var R=1;R<w.length;R++)S.lineTo(w[R].x,w[R].y);S.lineTo(w[0].x,w[0].y),S.strokePath()}return this},renderJoints:function(){for(var x=this.debugGraphic,S=n.allConstraints(this.localWorld),C=0;C<S.length;C++){var A=S[C].render,F=A.lineColor,M=A.lineOpacity,w=A.lineThickness,R=A.pinSize,O=A.anchorColor,U=A.anchorSize;this.renderConstraint(S[C],x,F,M,w,R,O,U)}},renderConstraint:function(x,S,C,A,F,M,w,R){var O=x.render;if(!O.visible||!x.pointA||!x.pointB)return this;S.lineStyle(F,C,A);var U=x.bodyA,X=x.bodyB,W,Y;if(U?W=m.add(U.position,x.pointA):W=x.pointA,O.type==="pin")S.strokeCircle(W.x,W.y,M);else{if(X?Y=m.add(X.position,x.pointB):Y=x.pointB,S.beginPath(),S.moveTo(W.x,W.y),O.type==="spring")for(var N=m.sub(Y,W),V=m.perp(m.normalise(N)),I=Math.ceil(r.clamp(x.length/5,12,20)),B,G=1;G<I;G+=1)B=G%2===0?1:-1,S.lineTo(W.x+N.x*(G/I)+V.x*B*4,W.y+N.y*(G/I)+V.y*B*4);S.lineTo(Y.x,Y.y)}return S.strokePath(),O.anchors&&R>0&&(S.fillStyle(w),S.fillCircle(W.x,W.y,R),S.fillCircle(Y.x,Y.y,R)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});v.exports=y},70410:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(t){return this.body.restitution=t,this}};v.exports=T},66968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var l=0;if(!Array.isArray(t))l=t;else for(var p=0;p<t.length;p++)l|=t[p];return this.body.collisionFilter.mask=l,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,l){Array.isArray(t)||(t=[t]);for(var p=0;p<t.length;p++){var a=t[p].hasOwnProperty("body")?t[p].body:t[p];this.body.setOnCollideWith(a,l)}return this}};v.exports=T},51607:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),p={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return l.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};v.exports=p},5436:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(t,l,p){return this.body.friction=t,l!==void 0&&(this.body.frictionAir=l),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};v.exports=T},39858:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};v.exports=T},37302:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),p=t(26099),a={setMass:function(r){return l.setMass(this.body,r),this},setDensity:function(r){return l.setDensity(this.body,r),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};v.exports=a},39132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};v.exports=T},57772:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),p=t(22562),a=t(43855),r=t(95540),n=t(19496),e=t(85791),s=t(41598),o={setRectangle:function(i,h,u){return this.setBody({type:"rectangle",width:i,height:h},u)},setCircle:function(i,h){return this.setBody({type:"circle",radius:i},h)},setPolygon:function(i,h,u){return this.setBody({type:"polygon",sides:h,radius:i},u)},setTrapezoid:function(i,h,u,d){return this.setBody({type:"trapezoid",width:i,height:h,slope:u},d)},setExistingBody:function(i,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var d=this;if(i.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},h&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var f=i.render.sprite.xOffset,c=i.render.sprite.yOffset,g=i.centerOfMass.x,m=i.centerOfMass.y;if(a(g,.5)&&a(m,.5))this.setOrigin(f+.5,c+.5);else{var y=i.centerOffset.x,x=i.centerOffset.y;this.setOrigin(f+y/this.displayWidth,c+x/this.displayHeight)}}return this},setBody:function(i,h){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var d=r(i,"type","rectangle"),f=r(i,"x",this._tempVec2.x),c=r(i,"y",this._tempVec2.y),g=r(i,"width",this.width),m=r(i,"height",this.height);switch(d){case"rectangle":u=l.rectangle(f,c,g,m,h);break;case"circle":var y=r(i,"radius",Math.max(g,m)/2),x=r(i,"maxSides",25);u=l.circle(f,c,y,h,x);break;case"trapezoid":var S=r(i,"slope",.5);u=l.trapezoid(f,c,g,m,S,h);break;case"polygon":var C=r(i,"sides",5),A=r(i,"radius",Math.max(g,m)/2);u=l.polygon(f,c,C,A,h);break;case"fromVertices":case"fromVerts":var F=r(i,"verts",null);if(F)if(typeof F=="string"&&(F=s.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,F),u=this.body;else{var M=r(i,"flagInternal",!1),w=r(i,"removeCollinear",.01),R=r(i,"minimumArea",10);u=l.fromVertices(f,c,F,h,M,w,R)}break;case"fromPhysicsEditor":u=n.parseBody(f,c,i,h);break;case"fromPhysicsTracer":u=e.parseBody(f,c,i,h);break}return u&&this.setExistingBody(u,i.addToWorld),this}};v.exports=o},38083:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1121),p=t(53614),a=t(35810),r={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepStart",function(s){e.emit(l.SLEEP_START,s,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepEnd",function(s){e.emit(l.SLEEP_END,s,this)})}else a.off(this.body,"sleepEnd");return this}};v.exports=r},90556:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),p={setStatic:function(a){return l.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};v.exports=p},85436:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),p=t(36383),a=t(86554),r=t(30954),n=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),l.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this.setScale(s,s)}},scaleX:{get:function(){return this._scaleX},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=n,l.scale(this.body,o,i),l.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=n,l.scale(this.body,o,i),l.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*p.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=a(s),l.setAngle(this.body,this._rotation)}},setPosition:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this._tempVec2.set(s,o),l.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=a(s),l.setAngle(this.body,s),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,l.setAngle(this.body,this.rotation),this},setScale:function(s,o,i){s===void 0&&(s=1),o===void 0&&(o=s);var h=1/this._scaleX,u=1/this._scaleY;return this._scaleX=s,this._scaleY=o,l.scale(this.body,h,u,i),l.scale(this.body,s,o,i),this}};v.exports=e},42081:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),p={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),l.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return l.getVelocity(this.body)},setAngularVelocity:function(a){return l.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return l.getAngularVelocity(this.body)},setAngularSpeed:function(a){return l.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return l.getAngularSpeed(this.body)}};v.exports=p},31884:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afteradd"},1213:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterremove"},25968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterupdate"},67205:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeadd"},39438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeremove"},44823:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeupdate"},92593:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionactive"},60128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionend"},76861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionstart"},92362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},76408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},93971:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},5656:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},47861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},79099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepend"},35906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepstart"},1121:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(v,T,t)=>{var l={};v.exports=l;var p=t(41598),a=t(31725),r=t(53614),n=t(53402),e=t(15647),s=t(66615);(function(){l._timeCorrection=!0,l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l._baseDelta=16.666666666666668,l.create=function(i){var h={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=p.centre(i.vertices):i.hasOwnProperty("vertices")||(h.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=n.extend(h,i);return o(u,i),u.setOnCollideWith=function(d,f){return f?this.onCollideWith[d.id]=f:delete this.onCollideWith[d.id],this},u},l.nextGroup=function(i){return i?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var o=function(i,h){if(h=h||{},l.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),p.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),l.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,d=i.centerOfMass,f=i.centerOffset,c=u.max.x-u.min.x,g=u.max.y-u.min.y;d.x=-(u.min.x-i.position.x)/c,d.y=-(u.min.y-i.position.y)/g,f.x=c*d.x,f.y=g*d.y}};l.set=function(i,h,u){var d;typeof h=="string"&&(d=h,h={},h[d]=u);for(d in h)if(Object.prototype.hasOwnProperty.call(h,d))switch(u=h[d],d){case"isStatic":l.setStatic(i,u);break;case"isSleeping":r.set(i,u);break;case"mass":l.setMass(i,u);break;case"density":l.setDensity(i,u);break;case"inertia":l.setInertia(i,u);break;case"vertices":l.setVertices(i,u);break;case"position":l.setPosition(i,u);break;case"angle":l.setAngle(i,u);break;case"velocity":l.setVelocity(i,u);break;case"angularVelocity":l.setAngularVelocity(i,u);break;case"speed":l.setSpeed(i,u);break;case"angularSpeed":l.setAngularSpeed(i,u);break;case"parts":l.setParts(i,u);break;case"centre":l.setCentre(i,u);break;default:i[d]=u}},l.setStatic=function(i,h){for(var u=0;u<i.parts.length;u++){var d=i.parts[u];h?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=h}},l.setMass=function(i,h){var u=i.inertia/(i.mass/6);i.inertia=u*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},l.setDensity=function(i,h){l.setMass(i,h*i.area),i.density=h},l.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},l.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=p.create(h,i),i.axes=s.fromVertices(i.vertices),i.area=p.area(i.vertices),l.setMass(i,i.density*i.area);var u=p.centre(i.vertices);p.translate(i.vertices,u,-1),l.setInertia(i,l._inertiaScale*p.inertia(i.vertices,i.mass)),p.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},l.setParts=function(i,h,u){var d;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<h.length;d++){var f=h[d];f!==i&&(f.parent=i,i.parts.push(f))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var c=[];for(d=0;d<h.length;d++)c=c.concat(h[d].vertices);p.clockwiseSort(c);var g=p.hull(c),m=p.centre(g);l.setVertices(i,g),p.translate(i.vertices,m)}var y=l._totalProperties(i),x=y.centre.x,S=y.centre.y,C=i.bounds,A=i.centerOfMass,F=i.centerOffset;e.update(C,i.vertices,i.velocity),A.x=-(C.min.x-x)/(C.max.x-C.min.x),A.y=-(C.min.y-S)/(C.max.y-C.min.y),F.x=x,F.y=S,i.area=y.area,i.parent=i,i.position.x=x,i.position.y=S,i.positionPrev.x=x,i.positionPrev.y=S,l.setMass(i,y.mass),l.setInertia(i,y.inertia),l.setPosition(i,y.centre)}},l.setCentre=function(i,h,u){u?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},l.setPosition=function(i,h,u){var d=a.sub(h,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=a.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var f=0;f<i.parts.length;f++){var c=i.parts[f];c.position.x+=d.x,c.position.y+=d.y,p.translate(c.vertices,d),e.update(c.bounds,c.vertices,i.velocity)}},l.setAngle=function(i,h,u){var d=h-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var f=0;f<i.parts.length;f++){var c=i.parts[f];c.angle+=d,p.rotate(c.vertices,d,i.position),s.rotate(c.axes,d),e.update(c.bounds,c.vertices,i.velocity),f>0&&a.rotateAbout(c.position,d,i.position,c.position)}},l.setVelocity=function(i,h){var u=i.deltaTime/l._baseDelta;i.positionPrev.x=i.position.x-h.x*u,i.positionPrev.y=i.position.y-h.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=a.magnitude(i.velocity)},l.getVelocity=function(i){var h=l._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},l.getSpeed=function(i){return a.magnitude(l.getVelocity(i))},l.setSpeed=function(i,h){l.setVelocity(i,a.mult(a.normalise(l.getVelocity(i)),h))},l.setAngularVelocity=function(i,h){var u=i.deltaTime/l._baseDelta;i.anglePrev=i.angle-h*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},l.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*l._baseDelta/i.deltaTime},l.getAngularSpeed=function(i){return Math.abs(l.getAngularVelocity(i))},l.setAngularSpeed=function(i,h){l.setAngularVelocity(i,n.sign(l.getAngularVelocity(i))*h)},l.translate=function(i,h,u){l.setPosition(i,a.add(i.position,h),u)},l.rotate=function(i,h,u,d){if(!u)l.setAngle(i,i.angle+h,d);else{var f=Math.cos(h),c=Math.sin(h),g=i.position.x-u.x,m=i.position.y-u.y;l.setPosition(i,{x:u.x+(g*f-m*c),y:u.y+(g*c+m*f)},d),l.setAngle(i,i.angle+h,d)}},l.scale=function(i,h,u,d){var f=0,c=0;d=d||i.position;for(var g=i.inertia===1/0,m=0;m<i.parts.length;m++){var y=i.parts[m];y.scale.x=h,y.scale.y=u,p.scale(y.vertices,h,u,d),y.axes=s.fromVertices(y.vertices),y.area=p.area(y.vertices),l.setMass(y,i.density*y.area),p.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),l.setInertia(y,l._inertiaScale*p.inertia(y.vertices,y.mass)),p.translate(y.vertices,{x:y.position.x,y:y.position.y}),m>0&&(f+=y.area,c+=y.inertia),y.position.x=d.x+(y.position.x-d.x)*h,y.position.y=d.y+(y.position.y-d.y)*u,e.update(y.bounds,y.vertices,i.velocity)}i.parts.length>1&&(i.area=f,i.isStatic||(l.setMass(i,i.density*f),l.setInertia(i,c))),i.circleRadius&&(h===u?i.circleRadius*=h:i.circleRadius=null),g&&l.setInertia(i,1/0)},l.update=function(i,h){h=(typeof h<"u"?h:16.666666666666668)*i.timeScale;var u=h*h,d=l._timeCorrection?h/(i.deltaTime||h):1,f=1-i.frictionAir*(h/n._baseDelta),c=(i.position.x-i.positionPrev.x)*d,g=(i.position.y-i.positionPrev.y)*d;i.velocity.x=c*f+i.force.x/i.mass*u,i.velocity.y=g*f+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*f*d+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var m=0;m<i.parts.length;m++){var y=i.parts[m];p.translate(y.vertices,i.velocity),m>0&&(y.position.x+=i.velocity.x,y.position.y+=i.velocity.y),i.angularVelocity!==0&&(p.rotate(y.vertices,i.angularVelocity,i.position),s.rotate(y.axes,i.angularVelocity),m>0&&a.rotateAbout(y.position,i.angularVelocity,i.position,y.position)),e.update(y.bounds,y.vertices,i.velocity)}},l.updateVelocities=function(i){var h=l._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*h,u.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},l.applyForce=function(i,h,u){var d={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=d.x*u.y-d.y*u.x},l._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var d=i.parts[u],f=d.mass!==1/0?d.mass:1;h.mass+=f,h.area+=d.area,h.inertia+=d.inertia,h.centre=a.add(h.centre,a.mult(d.position,f))}return h.centre=a.div(h.centre,h.mass),h},l.wrap=function(i,h){var u=e.wrap(i.bounds,h);return u&&l.translate(i,u),u}})()},69351:(v,T,t)=>{var l={};v.exports=l;var p=t(35810),a=t(53402),r=t(15647),n=t(22562);(function(){l.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},l.setModified=function(e,s,o,i){if(p.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),o&&e.parent&&l.setModified(e.parent,s,o,i),i)for(var h=0;h<e.composites.length;h++){var u=e.composites[h];l.setModified(u,s,o,i)}},l.add=function(e,s){var o=[].concat(s);p.trigger(e,"beforeAdd",{object:s});for(var i=0;i<o.length;i++){var h=o[i];switch(h.type){case"body":if(h.parent!==h){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(e,h);break;case"constraint":l.addConstraint(e,h);break;case"composite":l.addComposite(e,h);break;case"mouseConstraint":l.addConstraint(e,h.constraint);break}}return p.trigger(e,"afterAdd",{object:s}),e},l.remove=function(e,s,o){var i=[].concat(s);p.trigger(e,"beforeRemove",{object:s});for(var h=0;h<i.length;h++){var u=i[h];switch(u.type){case"body":l.removeBody(e,u,o);break;case"constraint":l.removeConstraint(e,u,o);break;case"composite":l.removeComposite(e,u,o);break;case"mouseConstraint":l.removeConstraint(e,u.constraint);break}}return p.trigger(e,"afterRemove",{object:s}),e},l.addComposite=function(e,s){return e.composites.push(s),s.parent=e,l.setModified(e,!0,!0,!1),e},l.removeComposite=function(e,s,o){var i=a.indexOf(e.composites,s);if(i!==-1){var h=l.allBodies(s);l.removeCompositeAt(e,i);for(var u=0;u<h.length;u++)h[u].sleepCounter=0}if(o)for(var u=0;u<e.composites.length;u++)l.removeComposite(e.composites[u],s,!0);return e},l.removeCompositeAt=function(e,s){return e.composites.splice(s,1),l.setModified(e,!0,!0,!1),e},l.addBody=function(e,s){return e.bodies.push(s),l.setModified(e,!0,!0,!1),e},l.removeBody=function(e,s,o){var i=a.indexOf(e.bodies,s);if(i!==-1&&(l.removeBodyAt(e,i),s.sleepCounter=0),o)for(var h=0;h<e.composites.length;h++)l.removeBody(e.composites[h],s,!0);return e},l.removeBodyAt=function(e,s){return e.bodies.splice(s,1),l.setModified(e,!0,!0,!1),e},l.addConstraint=function(e,s){return e.constraints.push(s),l.setModified(e,!0,!0,!1),e},l.removeConstraint=function(e,s,o){var i=a.indexOf(e.constraints,s);if(i!==-1&&l.removeConstraintAt(e,i),o)for(var h=0;h<e.composites.length;h++)l.removeConstraint(e.composites[h],s,!0);return e},l.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),l.setModified(e,!0,!0,!1),e},l.clear=function(e,s,o){if(o)for(var i=0;i<e.composites.length;i++)l.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,l.setModified(e,!0,!0,!1),e},l.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),o=0;o<e.composites.length;o++)s=s.concat(l.allBodies(e.composites[o]));return e.cache&&(e.cache.allBodies=s),s},l.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),o=0;o<e.composites.length;o++)s=s.concat(l.allConstraints(e.composites[o]));return e.cache&&(e.cache.allConstraints=s),s},l.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),o=0;o<e.composites.length;o++)s=s.concat(l.allComposites(e.composites[o]));return e.cache&&(e.cache.allComposites=s),s},l.get=function(e,s,o){var i,h;switch(o){case"body":i=l.allBodies(e);break;case"constraint":i=l.allConstraints(e);break;case"composite":i=l.allComposites(e).concat(e);break}return i?(h=i.filter(function(u){return u.id.toString()===s.toString()}),h.length===0?null:h[0]):null},l.move=function(e,s,o){return l.remove(e,s),l.add(o,s),e},l.rebase=function(e){for(var s=l.allBodies(e).concat(l.allConstraints(e)).concat(l.allComposites(e)),o=0;o<s.length;o++)s[o].id=a.nextId();return e},l.translate=function(e,s,o){for(var i=o?l.allBodies(e):e.bodies,h=0;h<i.length;h++)n.translate(i[h],s);return e},l.rotate=function(e,s,o,i){for(var h=Math.cos(s),u=Math.sin(s),d=i?l.allBodies(e):e.bodies,f=0;f<d.length;f++){var c=d[f],g=c.position.x-o.x,m=c.position.y-o.y;n.setPosition(c,{x:o.x+(g*h-m*u),y:o.y+(g*u+m*h)}),n.rotate(c,s)}return e},l.scale=function(e,s,o,i,h){for(var u=h?l.allBodies(e):e.bodies,d=0;d<u.length;d++){var f=u[d],c=f.position.x-i.x,g=f.position.y-i.y;n.setPosition(f,{x:i.x+c*s,y:i.y+g*o}),n.scale(f,s,o)}return e},l.bounds=function(e){for(var s=l.allBodies(e),o=[],i=0;i<s.length;i+=1){var h=s[i];o.push(h.bounds.min,h.bounds.max)}return r.create(o)},l.wrap=function(e,s){var o=r.wrap(l.bounds(e),s);return o&&l.translate(e,o),o}})()},4372:(v,T,t)=>{var l={};v.exports=l;var p=t(69351);(function(){l.create=p.create,l.add=p.add,l.remove=p.remove,l.clear=p.clear,l.addComposite=p.addComposite,l.addBody=p.addBody,l.addConstraint=p.addConstraint})()},52284:(v,T,t)=>{var l={};v.exports=l;var p=t(41598),a=t(4506);(function(){var r=[],n={overlap:0,axis:null},e={overlap:0,axis:null};l.create=function(s,o){return{pair:null,collided:!1,bodyA:s,bodyB:o,parentA:s.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},l.collides=function(s,o,i){if(l._overlapAxes(n,s.vertices,o.vertices,s.axes),n.overlap<=0||(l._overlapAxes(e,o.vertices,s.vertices,o.axes),e.overlap<=0))return null;var h=i&&i.table[a.id(s,o)],u;h?u=h.collision:(u=l.create(s,o),u.collided=!0,u.bodyA=s.id<o.id?s:o,u.bodyB=s.id<o.id?o:s,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),s=u.bodyA,o=u.bodyB;var d;n.overlap<e.overlap?d=n:d=e;var f=u.normal,c=u.tangent,g=u.penetration,m=u.supports,y=d.overlap,x=d.axis,S=x.x,C=x.y,A=o.position.x-s.position.x,F=o.position.y-s.position.y;S*A+C*F>=0&&(S=-S,C=-C),f.x=S,f.y=C,c.x=-C,c.y=S,g.x=S*y,g.y=C*y,u.depth=y;var M=l._findSupports(s,o,f,1),w=0;if(p.contains(s.vertices,M[0])&&(m[w++]=M[0]),p.contains(s.vertices,M[1])&&(m[w++]=M[1]),w<2){var R=l._findSupports(o,s,f,-1);p.contains(o.vertices,R[0])&&(m[w++]=R[0]),w<2&&p.contains(o.vertices,R[1])&&(m[w++]=R[1])}return w===0&&(m[w++]=M[0]),u.supportCount=w,u},l._overlapAxes=function(s,o,i,h){var u=o.length,d=i.length,f=o[0].x,c=o[0].y,g=i[0].x,m=i[0].y,y=h.length,x=Number.MAX_VALUE,S=0,C,A,F,M,w,R;for(w=0;w<y;w++){var O=h[w],U=O.x,X=O.y,W=f*U+c*X,Y=g*U+m*X,N=W,V=Y;for(R=1;R<u;R+=1)M=o[R].x*U+o[R].y*X,M>N?N=M:M<W&&(W=M);for(R=1;R<d;R+=1)M=i[R].x*U+i[R].y*X,M>V?V=M:M<Y&&(Y=M);if(A=N-Y,F=V-W,C=A<F?A:F,C<x&&(x=C,S=w,C<=0))break}s.axis=h[S],s.overlap=x},l._findSupports=function(s,o,i,h){var u=o.vertices,d=u.length,f=s.position.x,c=s.position.y,g=i.x*h,m=i.y*h,y=u[0],x=y,S=g*(f-x.x)+m*(c-x.y),C,A,F;for(F=1;F<d;F+=1)x=u[F],A=g*(f-x.x)+m*(c-x.y),A<S&&(S=A,y=x);return C=u[(d+y.index-1)%d],S=g*(f-C.x)+m*(c-C.y),x=u[(y.index+1)%d],g*(f-x.x)+m*(c-x.y)<S?(r[0]=y,r[1]=x,r):(r[0]=y,r[1]=C,r)}})()},43424:v=>{var T={};v.exports=T,function(){T.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(v,T,t)=>{var l={};v.exports=l;var p=t(53402),a=t(52284);(function(){l.create=function(r){var n={bodies:[],collisions:[],pairs:null};return p.extend(n,r)},l.setBodies=function(r,n){r.bodies=n.slice(0)},l.clear=function(r){r.bodies=[],r.collisions=[]},l.collisions=function(r){var n=r.pairs,e=r.bodies,s=e.length,o=l.canCollide,i=a.collides,h=r.collisions,u=0,d,f;for(e.sort(l._compareBoundsX),d=0;d<s;d++){var c=e[d],g=c.bounds,m=c.bounds.max.x,y=c.bounds.max.y,x=c.bounds.min.y,S=c.isStatic||c.isSleeping,C=c.parts.length,A=C===1;for(f=d+1;f<s;f++){var F=e[f],M=F.bounds;if(M.min.x>m)break;if(!(y<M.min.y||x>M.max.y)&&!(S&&(F.isStatic||F.isSleeping))&&o(c.collisionFilter,F.collisionFilter)){var w=F.parts.length;if(A&&w===1){var R=i(c,F,n);R&&(h[u++]=R)}else for(var O=C>1?1:0,U=w>1?1:0,X=O;X<C;X++)for(var W=c.parts[X],g=W.bounds,Y=U;Y<w;Y++){var N=F.parts[Y],M=N.bounds;if(!(g.min.x>M.max.x||g.max.x<M.min.x||g.max.y<M.min.y||g.min.y>M.max.y)){var R=i(W,N,n);R&&(h[u++]=R)}}}}}return h.length!==u&&(h.length=u),h},l.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0},l._compareBoundsX=function(r,n){return r.bounds.min.x-n.bounds.min.x}})()},4506:(v,T,t)=>{var l={};v.exports=l;var p=t(43424);(function(){l.create=function(a,r){var n=a.bodyA,e=a.bodyB,s={id:l.id(n,e),bodyA:n,bodyB:e,collision:a,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return l.update(s,a,r),s},l.update=function(a,r,n){var e=r.supports,s=r.supportCount,o=a.contacts,i=r.parentA,h=r.parentB;a.isActive=!0,a.timeUpdated=n,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+h.inverseMass,a.friction=i.friction<h.friction?i.friction:h.friction,a.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,a.restitution=i.restitution>h.restitution?i.restitution:h.restitution,a.slop=i.slop>h.slop?i.slop:h.slop,a.contactCount=s,r.pair=a;var u=e[0],d=o[0],f=e[1],c=o[1];(c.vertex===u||d.vertex===f)&&(o[1]=d,o[0]=d=c,c=o[1]),d.vertex=u,c.vertex=f},l.setActive=function(a,r,n){r?(a.isActive=!0,a.timeUpdated=n):(a.isActive=!1,a.contactCount=0)},l.id=function(a,r){return a.id<r.id?a.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+a.id.toString(36)}})()},99561:(v,T,t)=>{var l={};v.exports=l;var p=t(4506),a=t(53402);(function(){l.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},l.update=function(r,n,e){var s=p.update,o=p.create,i=p.setActive,h=r.table,u=r.list,d=u.length,f=d,c=r.collisionStart,g=r.collisionEnd,m=r.collisionActive,y=n.length,x=0,S=0,C=0,A,F,M;for(M=0;M<y;M++)A=n[M],F=A.pair,F?(F.isActive&&(m[C++]=F),s(F,A,e)):(F=o(A,e),h[F.id]=F,c[x++]=F,u[f++]=F);for(f=0,d=u.length,M=0;M<d;M++)F=u[M],F.timeUpdated>=e?u[f++]=F:(i(F,!1,e),F.collision.bodyA.sleepCounter>0&&F.collision.bodyB.sleepCounter>0?u[f++]=F:(g[S++]=F,delete h[F.id]));u.length!==f&&(u.length=f),c.length!==x&&(c.length=x),g.length!==S&&(g.length=S),m.length!==C&&(m.length=C)},l.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(v,T,t)=>{var l={};v.exports=l;var p=t(31725),a=t(52284),r=t(15647),n=t(66280),e=t(41598);(function(){l.collides=function(s,o){for(var i=[],h=o.length,u=s.bounds,d=a.collides,f=r.overlaps,c=0;c<h;c++){var g=o[c],m=g.parts.length,y=m===1?0:1;if(s!==g&&f(g.bounds,u))for(var x=y;x<m;x++){var S=g.parts[x];if(f(S.bounds,u)){var C=d(S,s);if(C){i.push(C);break}}}}return i},l.ray=function(s,o,i,h){h=h||1e-100;for(var u=p.angle(o,i),d=p.magnitude(p.sub(o,i)),f=(i.x+o.x)*.5,c=(i.y+o.y)*.5,g=n.rectangle(f,c,d,h,{angle:u}),m=l.collides(g,s),y=0;y<m.length;y+=1){var x=m[y];x.body=x.bodyB=x.bodyA}return m},l.region=function(s,o,i){for(var h=[],u=0;u<s.length;u++){var d=s[u],f=r.overlaps(d.bounds,o);(f&&!i||!f&&i)&&h.push(d)}return h},l.point=function(s,o){for(var i=[],h=0;h<s.length;h++){var u=s[h];if(r.contains(u.bounds,o))for(var d=u.parts.length===1?0:1;d<u.parts.length;d++){var f=u.parts[d];if(r.contains(f.bounds,o)&&e.contains(f.vertices,o)){i.push(u);break}}}return i}})()},66272:(v,T,t)=>{var l={};v.exports=l;var p=t(41598),a=t(53402),r=t(15647);(function(){l._restingThresh=2,l._restingThreshTangent=Math.sqrt(6),l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l._frictionMaxStatic=Number.MAX_VALUE,l.preSolvePosition=function(n){var e,s,o,i=n.length;for(e=0;e<i;e++)s=n[e],s.isActive&&(o=s.contactCount,s.collision.parentA.totalContacts+=o,s.collision.parentB.totalContacts+=o)},l.solvePosition=function(n,e,s){var o,i,h,u,d,f,c,g,m=l._positionDampen*(s||1),y=a.clamp(e/a._baseDelta,0,1),x=n.length;for(o=0;o<x;o++)i=n[o],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,d=h.parentB,f=h.normal,i.separation=h.depth+f.x*(d.positionImpulse.x-u.positionImpulse.x)+f.y*(d.positionImpulse.y-u.positionImpulse.y));for(o=0;o<x;o++)i=n[o],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,d=h.parentB,f=h.normal,g=i.separation-i.slop*y,(u.isStatic||d.isStatic)&&(g*=2),u.isStatic||u.isSleeping||(c=m/u.totalContacts,u.positionImpulse.x+=f.x*g*c,u.positionImpulse.y+=f.y*g*c),d.isStatic||d.isSleeping||(c=m/d.totalContacts,d.positionImpulse.x-=f.x*g*c,d.positionImpulse.y-=f.y*g*c))},l.postSolvePosition=function(n){for(var e=l._positionWarming,s=n.length,o=p.translate,i=r.update,h=0;h<s;h++){var u=n[h],d=u.positionImpulse,f=d.x,c=d.y,g=u.velocity;if(u.totalContacts=0,f!==0||c!==0){for(var m=0;m<u.parts.length;m++){var y=u.parts[m];o(y.vertices,d),i(y.bounds,y.vertices,g),y.position.x+=f,y.position.y+=c}u.positionPrev.x+=f,u.positionPrev.y+=c,f*g.x+c*g.y<0?(d.x=0,d.y=0):(d.x*=e,d.y*=e)}}},l.preSolveVelocity=function(n){var e=n.length,s,o;for(s=0;s<e;s++){var i=n[s];if(!(!i.isActive||i.isSensor)){var h=i.contacts,u=i.contactCount,d=i.collision,f=d.parentA,c=d.parentB,g=d.normal,m=d.tangent;for(o=0;o<u;o++){var y=h[o],x=y.vertex,S=y.normalImpulse,C=y.tangentImpulse;if(S!==0||C!==0){var A=g.x*S+m.x*C,F=g.y*S+m.y*C;f.isStatic||f.isSleeping||(f.positionPrev.x+=A*f.inverseMass,f.positionPrev.y+=F*f.inverseMass,f.anglePrev+=f.inverseInertia*((x.x-f.position.x)*F-(x.y-f.position.y)*A)),c.isStatic||c.isSleeping||(c.positionPrev.x-=A*c.inverseMass,c.positionPrev.y-=F*c.inverseMass,c.anglePrev-=c.inverseInertia*((x.x-c.position.x)*F-(x.y-c.position.y)*A))}}}}},l.solveVelocity=function(n,e){var s=e/a._baseDelta,o=s*s,i=o*s,h=-l._restingThresh*s,u=l._restingThreshTangent,d=l._frictionNormalMultiplier*s,f=l._frictionMaxStatic,c=n.length,g,m,y,x;for(y=0;y<c;y++){var S=n[y];if(!(!S.isActive||S.isSensor)){var C=S.collision,A=C.parentA,F=C.parentB,M=C.normal.x,w=C.normal.y,R=C.tangent.x,O=C.tangent.y,U=S.inverseMass,X=S.friction*S.frictionStatic*d,W=S.contacts,Y=S.contactCount,N=1/Y,V=A.position.x-A.positionPrev.x,I=A.position.y-A.positionPrev.y,B=A.angle-A.anglePrev,G=F.position.x-F.positionPrev.x,H=F.position.y-F.positionPrev.y,$=F.angle-F.anglePrev;for(x=0;x<Y;x++){var Z=W[x],Q=Z.vertex,j=Q.x-A.position.x,_=Q.y-A.position.y,tt=Q.x-F.position.x,et=Q.y-F.position.y,rt=V-_*B,at=I+j*B,st=G-et*$,ct=H+tt*$,vt=rt-st,pt=at-ct,nt=M*vt+w*pt,ht=R*vt+O*pt,lt=S.separation+nt,xt=Math.min(lt,1);xt=lt<0?0:xt;var Et=xt*X;ht<-Et||ht>Et?(m=ht>0?ht:-ht,g=S.friction*(ht>0?1:-1)*i,g<-m?g=-m:g>m&&(g=m)):(g=ht,m=f);var Bt=j*w-_*M,Tt=tt*w-et*M,St=N/(U+A.inverseInertia*Bt*Bt+F.inverseInertia*Tt*Tt),It=(1+S.restitution)*nt*St;if(g*=St,nt<h)Z.normalImpulse=0;else{var Ht=Z.normalImpulse;Z.normalImpulse+=It,Z.normalImpulse>0&&(Z.normalImpulse=0),It=Z.normalImpulse-Ht}if(ht<-u||ht>u)Z.tangentImpulse=0;else{var Lt=Z.tangentImpulse;Z.tangentImpulse+=g,Z.tangentImpulse<-m&&(Z.tangentImpulse=-m),Z.tangentImpulse>m&&(Z.tangentImpulse=m),g=Z.tangentImpulse-Lt}var Nt=M*It+R*g,zt=w*It+O*g;A.isStatic||A.isSleeping||(A.positionPrev.x+=Nt*A.inverseMass,A.positionPrev.y+=zt*A.inverseMass,A.anglePrev+=(j*zt-_*Nt)*A.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=Nt*F.inverseMass,F.positionPrev.y-=zt*F.inverseMass,F.anglePrev-=(tt*zt-et*Nt)*F.inverseInertia)}}}}})()},48140:(v,T,t)=>{var l={};v.exports=l;var p=t(41598),a=t(31725),r=t(53614),n=t(15647),e=t(66615),s=t(53402);(function(){l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(o){var i=o;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,d=a.magnitude(a.sub(h,u));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(f.type="pin",f.anchors=!1):i.stiffness<.9&&(f.type="spring"),i.render=s.extend(f,i.render),i},l.preSolveAll=function(o){for(var i=0;i<o.length;i+=1){var h=o[i],u=h.constraintImpulse;h.isStatic||u.x===0&&u.y===0&&u.angle===0||(h.position.x+=u.x,h.position.y+=u.y,h.angle+=u.angle)}},l.solveAll=function(o,i){for(var h=s.clamp(i/s._baseDelta,0,1),u=0;u<o.length;u+=1){var d=o[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(f||c)&&l.solve(o[u],h)}for(u=0;u<o.length;u+=1)d=o[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!f&&!c&&l.solve(o[u],h)},l.solve=function(o,i){var h=o.bodyA,u=o.bodyB,d=o.pointA,f=o.pointB;if(!(!h&&!u)){h&&!h.isStatic&&(a.rotate(d,h.angle-o.angleA,d),o.angleA=h.angle),u&&!u.isStatic&&(a.rotate(f,u.angle-o.angleB,f),o.angleB=u.angle);var c=d,g=f;if(h&&(c=a.add(h.position,d)),u&&(g=a.add(u.position,f)),!(!c||!g)){var m=a.sub(c,g),y=a.magnitude(m);y<l._minLength&&(y=l._minLength);var x=(y-o.length)/y,S=o.stiffness>=1||o.length===0,C=S?o.stiffness*i:o.stiffness*i*i,A=o.damping*i,F=a.mult(m,x*C),M=(h?h.inverseMass:0)+(u?u.inverseMass:0),w=(h?h.inverseInertia:0)+(u?u.inverseInertia:0),R=M+w,O,U,X,W,Y;if(A>0){var N=a.create();X=a.div(m,y),Y=a.sub(u&&a.sub(u.position,u.positionPrev)||N,h&&a.sub(h.position,h.positionPrev)||N),W=a.dot(X,Y)}h&&!h.isStatic&&(U=h.inverseMass/M,h.constraintImpulse.x-=F.x*U,h.constraintImpulse.y-=F.y*U,h.position.x-=F.x*U,h.position.y-=F.y*U,A>0&&(h.positionPrev.x-=A*X.x*W*U,h.positionPrev.y-=A*X.y*W*U),O=a.cross(d,F)/R*l._torqueDampen*h.inverseInertia*(1-o.angularStiffness),h.constraintImpulse.angle-=O,h.angle-=O),u&&!u.isStatic&&(U=u.inverseMass/M,u.constraintImpulse.x+=F.x*U,u.constraintImpulse.y+=F.y*U,u.position.x+=F.x*U,u.position.y+=F.y*U,A>0&&(u.positionPrev.x+=A*X.x*W*U,u.positionPrev.y+=A*X.y*W*U),O=a.cross(f,F)/R*l._torqueDampen*u.inverseInertia*(1-o.angularStiffness),u.constraintImpulse.angle+=O,u.angle+=O)}}},l.postSolveAll=function(o){for(var i=0;i<o.length;i++){var h=o[i],u=h.constraintImpulse;if(!(h.isStatic||u.x===0&&u.y===0&&u.angle===0)){r.set(h,!1);for(var d=0;d<h.parts.length;d++){var f=h.parts[d];p.translate(f.vertices,u),d>0&&(f.position.x+=u.x,f.position.y+=u.y),u.angle!==0&&(p.rotate(f.vertices,u.angle,h.position),e.rotate(f.axes,u.angle),d>0&&a.rotateAbout(f.position,u.angle,h.position,f.position)),n.update(f.bounds,f.vertices,h.velocity)}u.angle*=l._warming,u.x*=l._warming,u.y*=l._warming}}},l.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},l.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},l.currentLength=function(o){var i=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),h=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),u=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),d=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),f=i-u,c=h-d;return Math.sqrt(f*f+c*c)}})()},53402:(v,T,t)=>{var l={};v.exports=l,function(){l._baseDelta=16.666666666666668,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(a,r){var n,e;typeof r=="boolean"?(n=2,e=r):(n=1,e=!0);for(var s=n;s<arguments.length;s++){var o=arguments[s];if(o)for(var i in o)e&&o[i]&&o[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},l.extend(a[i],e,o[i])):a[i]=o[i]}return a},l.clone=function(a,r){return l.extend({},r,a)},l.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var n in a)r.push(n);return r},l.values=function(a){var r=[];if(Object.keys){for(var n=Object.keys(a),e=0;e<n.length;e++)r.push(a[n[e]]);return r}for(var s in a)r.push(a[s]);return r},l.get=function(a,r,n,e){r=r.split(".").slice(n,e);for(var s=0;s<r.length;s+=1)a=a[r[s]];return a},l.set=function(a,r,n,e,s){var o=r.split(".").slice(e,s);return l.get(a,r,0,-1)[o[o.length-1]]=n,n},l.shuffle=function(a){for(var r=a.length-1;r>0;r--){var n=Math.floor(l.random()*(r+1)),e=a[r];a[r]=a[n],a[n]=e}return a},l.choose=function(a){return a[Math.floor(l.random()*a.length)]},l.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},l.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},l.isFunction=function(a){return typeof a=="function"},l.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},l.isString=function(a){return toString.call(a)==="[object String]"},l.clamp=function(a,r,n){return a<r?r:a>n?n:a},l.sign=function(a){return a<0?-1:1},l.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+p()*(r-a)};var p=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[a]||(l.warn(a),l._warnedOnce[a]=!0)},l.deprecated=function(a,r,n){a[r]=l.chain(function(){l.warnOnce(" deprecated ",n)},a[r])},l.nextId=function(){return l._nextId++},l.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var n=0;n<a.length;n++)if(a[n]===r)return n;return-1},l.map=function(a,r){if(a.map)return a.map(r);for(var n=[],e=0;e<a.length;e+=1)n.push(r(a[e]));return n},l.topologicalSort=function(a){var r=[],n=[],e=[];for(var s in a)!n[s]&&!e[s]&&l._topologicalSort(s,n,e,a,r);return r},l._topologicalSort=function(a,r,n,e,s){var o=e[a]||[];n[a]=!0;for(var i=0;i<o.length;i+=1){var h=o[i];n[h]||r[h]||l._topologicalSort(h,r,n,e,s)}n[a]=!1,r[a]=!0,s.push(a)},l.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?a.push.apply(a,n._chained):a.push(n)}var e=function(){for(var s,o=new Array(arguments.length),i=0,h=arguments.length;i<h;i++)o[i]=arguments[i];for(i=0;i<a.length;i+=1){var u=a[i].apply(s,o);typeof u<"u"&&(s=u)}return s};return e._chained=a,e},l.chainPathBefore=function(a,r,n){return l.set(a,r,l.chain(n,l.get(a,r)))},l.chainPathAfter=function(a,r,n){return l.set(a,r,l.chain(l.get(a,r),n))},l.setDecomp=function(a){l._decomp=a},l.getDecomp=function(){var a=l._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(v,T,t)=>{var l={};v.exports=l;var p=t(53614),a=t(66272),r=t(81388),n=t(99561),e=t(35810),s=t(69351),o=t(48140),i=t(53402),h=t(22562);(function(){l._deltaMax=16.666666666666668,l.create=function(u){u=u||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},f=i.extend(d,u);return f.world=u.world||s.create({label:"World"}),f.pairs=u.pairs||n.create(),f.detector=u.detector||r.create(),f.detector.pairs=f.pairs,f.grid={buckets:[]},f.world.gravity=f.gravity,f.broadphase=f.grid,f.metrics={},f},l.update=function(u,d){var f=i.now(),c=u.world,g=u.detector,m=u.pairs,y=u.timing,x=y.timestamp,S;d>l._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",l._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:i._baseDelta,d*=y.timeScale,y.timestamp+=d,y.lastDelta=d;var C={timestamp:y.timestamp,delta:d};e.trigger(u,"beforeUpdate",C);var A=s.allBodies(c),F=s.allConstraints(c),M=s.allComposites(c);for(c.isModified&&(r.setBodies(g,A),s.setModified(c,!1,!1,!0)),u.enableSleeping&&p.update(A,d),l._bodiesApplyGravity(A,u.gravity),l.wrap(A,M),l.attractors(A),d>0&&l._bodiesUpdate(A,d),e.trigger(u,"beforeSolve",C),o.preSolveAll(A),S=0;S<u.constraintIterations;S++)o.solveAll(F,d);o.postSolveAll(A);var w=r.collisions(g);n.update(m,w,x),u.enableSleeping&&p.afterCollisions(m.list),m.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:m.collisionStart,timestamp:y.timestamp,delta:d});var R=i.clamp(20/u.positionIterations,0,1);for(a.preSolvePosition(m.list),S=0;S<u.positionIterations;S++)a.solvePosition(m.list,d,R);for(a.postSolvePosition(A),o.preSolveAll(A),S=0;S<u.constraintIterations;S++)o.solveAll(F,d);for(o.postSolveAll(A),a.preSolveVelocity(m.list),S=0;S<u.velocityIterations;S++)a.solveVelocity(m.list,d);return l._bodiesUpdateVelocities(A),m.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:m.collisionActive,timestamp:y.timestamp,delta:d}),m.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:m.collisionEnd,timestamp:y.timestamp,delta:d}),l._bodiesClearForces(A),e.trigger(u,"afterUpdate",C),u.timing.lastElapsed=i.now()-f,u},l.merge=function(u,d){if(i.extend(u,d),d.world){u.world=d.world,l.clear(u);for(var f=s.allBodies(u.world),c=0;c<f.length;c++){var g=f[c];p.set(g,!1),g.id=i.nextId()}}},l.clear=function(u){n.clear(u.pairs),r.clear(u.detector)},l._bodiesClearForces=function(u){for(var d=u.length,f=0;f<d;f++){var c=u[f];c.force.x=0,c.force.y=0,c.torque=0}},l._bodiesApplyGravity=function(u,d){var f=typeof d.scale<"u"?d.scale:.001,c=u.length;if(!(d.x===0&&d.y===0||f===0))for(var g=0;g<c;g++){var m=u[g];m.ignoreGravity||m.isStatic||m.isSleeping||(m.force.y+=m.mass*d.y*f,m.force.x+=m.mass*d.x*f)}},l._bodiesUpdate=function(u,d){for(var f=u.length,c=0;c<f;c++){var g=u[c];g.isStatic||g.isSleeping||h.update(g,d)}},l._bodiesUpdateVelocities=function(u){for(var d=u.length,f=0;f<d;f++)h.updateVelocities(u[f])},l.wrap=function(u,d){for(var f=0;f<u.length;f+=1){var c=u[f];c.wrapBounds!==null&&h.wrap(c,c.wrapBounds)}for(f=0;f<d.length;f+=1){var g=d[f];g.wrapBounds!==null&&s.wrap(g,g.wrapBounds)}},l.attractors=function(u){for(var d=0;d<u.length;d++){var f=u[d],c=f.attractors;if(c&&c.length>0)for(var g=0;g<u.length;g++){var m=u[g];if(d!==g)for(var y=0;y<c.length;y++){var x=c[y],S=x;i.isFunction(x)&&(S=x(f,m)),S&&h.applyForce(m,m.position,S)}}}}})()},35810:(v,T,t)=>{var l={};v.exports=l;var p=t(53402);(function(){l.on=function(a,r,n){for(var e=r.split(" "),s,o=0;o<e.length;o++)s=e[o],a.events=a.events||{},a.events[s]=a.events[s]||[],a.events[s].push(n);return n},l.off=function(a,r,n){if(!r){a.events={};return}typeof r=="function"&&(n=r,r=p.keys(a.events).join(" "));for(var e=r.split(" "),s=0;s<e.length;s++){var o=a.events[e[s]],i=[];if(n&&o)for(var h=0;h<o.length;h++)o[h]!==n&&i.push(o[h]);a.events[e[s]]=i}},l.trigger=function(a,r,n){var e,s,o,i,h=a.events;if(h&&p.keys(h).length>0){n||(n={}),e=r.split(" ");for(var u=0;u<e.length;u++)if(s=e[u],o=h[s],o){i=p.clone(n,!1),i.name=s,i.source=a;for(var d=0;d<o.length;d++)o[d].apply(a,[i])}}}})()},6790:(v,T,t)=>{var l={};v.exports=l;var p=t(73832),a=t(53402);(function(){l.name="matter-js",l.version="0.20.0",l.uses=[],l.used=[],l.use=function(){p.use(l,Array.prototype.slice.call(arguments))},l.before=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathBefore(l,r,n)},l.after=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathAfter(l,r,n)}})()},73832:(v,T,t)=>{var l={};v.exports=l;var p=t(53402);(function(){l._registry={},l.register=function(a){if(l.isPlugin(a)||p.warn("Plugin.register:",l.toString(a),"does not implement all required fields."),a.name in l._registry){var r=l._registry[a.name],n=l.versionParse(a.version).number,e=l.versionParse(r.version).number;n>e?(p.warn("Plugin.register:",l.toString(r),"was upgraded to",l.toString(a)),l._registry[a.name]=a):n<e?p.warn("Plugin.register:",l.toString(r),"can not be downgraded to",l.toString(a)):a!==r&&p.warn("Plugin.register:",l.toString(a),"is already registered to different plugin object")}else l._registry[a.name]=a;return a},l.resolve=function(a){return l._registry[l.dependencyParse(a).name]},l.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},l.isPlugin=function(a){return a&&a.name&&a.version&&a.install},l.isUsed=function(a,r){return a.used.indexOf(r)>-1},l.isFor=function(a,r){var n=a.for&&l.dependencyParse(a.for);return!a.for||r.name===n.name&&l.versionSatisfies(r.version,n.range)},l.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){p.warn("Plugin.use:",l.toString(a),"does not specify any dependencies to install.");return}for(var n=l.dependencies(a),e=p.topologicalSort(n),s=[],o=0;o<e.length;o+=1)if(e[o]!==a.name){var i=l.resolve(e[o]);if(!i){s.push(" "+e[o]);continue}l.isUsed(a,i.name)||(l.isFor(i,a)||(p.warn("Plugin.use:",l.toString(i),"is for",i.for,"but installed on",l.toString(a)+"."),i._warned=!0),i.install?i.install(a):(p.warn("Plugin.use:",l.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push(" "+l.toString(i)),delete i._warned):s.push(" "+l.toString(i)),a.used.push(i.name))}s.length>0&&!i.silent&&p.info(s.join("  "))},l.dependencies=function(a,r){var n=l.dependencyParse(a),e=n.name;if(r=r||{},!(e in r)){a=l.resolve(a)||a,r[e]=p.map(a.uses||[],function(o){l.isPlugin(o)&&l.register(o);var i=l.dependencyParse(o),h=l.resolve(o);return h&&!l.versionSatisfies(h.version,i.range)?(p.warn("Plugin.dependencies:",l.toString(h),"does not satisfy",l.toString(i),"used by",l.toString(n)+"."),h._warned=!0,a._warned=!0):h||(p.warn("Plugin.dependencies:",l.toString(o),"used by",l.toString(n),"could not be resolved."),a._warned=!0),i.name});for(var s=0;s<r[e].length;s+=1)l.dependencies(r[e][s],r);return r}},l.dependencyParse=function(a){if(p.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||p.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},l.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||p.warn("Plugin.versionParse:",a,"is not a valid version or range.");var n=r.exec(a),e=Number(n[4]),s=Number(n[5]),o=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:a,operator:n[1]||n[2]||"",major:e,minor:s,patch:o,parts:[e,s,o],prerelease:n[7],number:e*1e8+s*1e4+o}},l.versionSatisfies=function(a,r){r=r||"*";var n=l.versionParse(r),e=l.versionParse(a);if(n.isRange){if(n.operator==="*"||a==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return a===r||a==="*"}})()},13037:(v,T,t)=>{var l={};v.exports=l;var p=t(35810),a=t(48413),r=t(53402);(function(){l._maxFrameDelta=66.66666666666667,l._frameDeltaFallback=16.666666666666668,l._timeBufferMargin=1.5,l._elapsedNextEstimate=1,l._smoothingLowerBound=.1,l._smoothingUpperBound=.9,l.create=function(e){var s={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o=r.extend(s,e);return o.fps=0,o},l.run=function(e,s){return e.timeBuffer=l._frameDeltaFallback,function o(i){e.frameRequestId=l._onNextFrame(e,o),i&&e.enabled&&l.tick(e,s,i)}(),e},l.tick=function(e,s,o){var i=r.now(),h=e.delta,u=0,d=o-e.timeLastTick;if((!d||!e.timeLastTick||d>Math.max(l._maxFrameDelta,e.maxFrameTime))&&(d=e.frameDelta||l._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(d),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var f=e.frameDeltaHistory.slice(0).sort(),c=e.frameDeltaHistory.slice(f.length*l._smoothingLowerBound,f.length*l._smoothingUpperBound),g=n(c);d=g||d}e.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),e.frameDelta=d,e.timeLastTick=o,e.timeBuffer+=e.frameDelta,e.timeBuffer=r.clamp(e.timeBuffer,0,e.frameDelta+h*l._timeBufferMargin),e.lastUpdatesDeferred=0;var m=e.maxUpdates||Math.ceil(e.maxFrameTime/h),y={timestamp:s.timing.timestamp};p.trigger(e,"beforeTick",y),p.trigger(e,"tick",y);for(var x=r.now();h>0&&e.timeBuffer>=h*l._timeBufferMargin;){p.trigger(e,"beforeUpdate",y),a.update(s,h),p.trigger(e,"afterUpdate",y),e.timeBuffer-=h,u+=1;var S=r.now()-i,C=r.now()-x,A=S+l._elapsedNextEstimate*C/u;if(u>=m||A>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/h-l._timeBufferMargin));break}}s.timing.lastUpdatesPerFrame=u,p.trigger(e,"afterTick",y),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/h)>m?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},l.stop=function(e){l._cancelNextFrame(e)},l._onNextFrame=function(e,s){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(s);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},l._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var n=function(e){for(var s=0,o=e.length,i=0;i<o;i+=1)s+=e[i];return s/o||0};l._mean=n})()},53614:(v,T,t)=>{var l={};v.exports=l;var p=t(22562),a=t(35810),r=t(53402);(function(){l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(n,e){for(var s=e/r._baseDelta,o=l._motionSleepThreshold,i=0;i<n.length;i++){var h=n[i],u=p.getSpeed(h),d=p.getAngularSpeed(h),f=u*u+d*d;if(h.force.x!==0||h.force.y!==0){l.set(h,!1);continue}var c=Math.min(h.motion,f),g=Math.max(h.motion,f);h.motion=l._minBias*c+(1-l._minBias)*g,h.sleepThreshold>0&&h.motion<o?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/s&&l.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},l.afterCollisions=function(n){for(var e=l._motionSleepThreshold,s=0;s<n.length;s++){var o=n[s];if(o.isActive){var i=o.collision,h=i.bodyA.parent,u=i.bodyB.parent;if(!(h.isSleeping&&u.isSleeping||h.isStatic||u.isStatic)&&(h.isSleeping||u.isSleeping)){var d=h.isSleeping&&!h.isStatic?h:u,f=d===h?u:h;!d.isStatic&&f.motion>e&&l.set(d,!1)}}}},l.set=function(n,e){var s=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,s||a.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,s&&a.trigger(n,"sleepEnd"))}})()},66280:(v,T,t)=>{var l={};v.exports=l;var p=t(41598),a=t(53402),r=t(22562),n=t(15647),e=t(31725);(function(){l.rectangle=function(s,o,i,h,u){u=u||{};var d={label:"Rectangle Body",position:{x:s,y:o},vertices:p.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(u.chamfer){var f=u.chamfer;d.vertices=p.chamfer(d.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete u.chamfer}return r.create(a.extend({},d,u))},l.trapezoid=function(s,o,i,h,u,d){d=d||{},u>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),u*=.5;var f=(1-u*2)*i,c=i*u,g=c+f,m=g+c,y;u<.5?y="L 0 0 L "+c+" "+-h+" L "+g+" "+-h+" L "+m+" 0":y="L 0 0 L "+g+" "+-h+" L "+m+" 0";var x={label:"Trapezoid Body",position:{x:s,y:o},vertices:p.fromPath(y)};if(d.chamfer){var S=d.chamfer;x.vertices=p.chamfer(x.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete d.chamfer}return r.create(a.extend({},x,d))},l.circle=function(s,o,i,h,u){h=h||{};var d={label:"Circle Body",circleRadius:i};u=u||25;var f=Math.ceil(Math.max(10,Math.min(u,i)));return f%2===1&&(f+=1),l.polygon(s,o,f,i,a.extend({},d,h))},l.polygon=function(s,o,i,h,u){if(u=u||{},i<3)return l.circle(s,o,h,u);for(var d=2*Math.PI/i,f="",c=d*.5,g=0;g<i;g+=1){var m=c+g*d,y=Math.cos(m)*h,x=Math.sin(m)*h;f+="L "+y.toFixed(3)+" "+x.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:s,y:o},vertices:p.fromPath(f)};if(u.chamfer){var C=u.chamfer;S.vertices=p.chamfer(S.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete u.chamfer}return r.create(a.extend({},S,u))},l.fromVertices=function(s,o,i,h,u,d,f,c){var g=a.getDecomp(),m,y,x,S,C,A,F,M,w,R,O;for(m=!!(g&&g.quickDecomp),h=h||{},x=[],u=typeof u<"u"?u:!1,d=typeof d<"u"?d:.01,f=typeof f<"u"?f:10,c=typeof c<"u"?c:.01,a.isArray(i[0])||(i=[i]),R=0;R<i.length;R+=1)if(A=i[R],S=p.isConvex(A),C=!S,C&&!m&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!m)S?A=p.clockwiseSort(A):A=p.hull(A),x.push({position:{x:s,y:o},vertices:A});else{var U=A.map(function(Z){return[Z.x,Z.y]});g.makeCCW(U),d!==!1&&g.removeCollinearPoints(U,d),c!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(U,c);var X=g.quickDecomp(U);for(F=0;F<X.length;F++){var W=X[F],Y=W.map(function(Z){return{x:Z[0],y:Z[1]}});f>0&&p.area(Y)<f||x.push({position:p.centre(Y),vertices:Y})}}for(F=0;F<x.length;F++)x[F]=r.create(a.extend(x[F],h));if(u){var N=5;for(F=0;F<x.length;F++){var V=x[F];for(M=F+1;M<x.length;M++){var I=x[M];if(n.overlaps(V.bounds,I.bounds)){var B=V.vertices,G=I.vertices;for(w=0;w<V.vertices.length;w++)for(O=0;O<I.vertices.length;O++){var H=e.magnitudeSquared(e.sub(B[(w+1)%B.length],G[O])),$=e.magnitudeSquared(e.sub(B[w],G[(O+1)%G.length]));H<N&&$<N&&(B[w].isInternal=!0,G[O].isInternal=!0)}}}}}return x.length>1?(y=r.create(a.extend({parts:x.slice(0)},h)),r.setPosition(y,{x:s,y:o}),y):x[0]},l.flagCoincidentParts=function(s,o){o===void 0&&(o=5);for(var i=0;i<s.length;i++)for(var h=s[i],u=i+1;u<s.length;u++){var d=s[u];if(n.overlaps(h.bounds,d.bounds))for(var f=h.vertices,c=d.vertices,g=0;g<h.vertices.length;g++)for(var m=0;m<d.vertices.length;m++){var y=e.magnitudeSquared(e.sub(f[(g+1)%f.length],c[m])),x=e.magnitudeSquared(e.sub(f[g],c[(m+1)%c.length]));y<o&&x<o&&(f[g].isInternal=!0,c[m].isInternal=!0)}}return s}})()},74116:(v,T,t)=>{var l={};v.exports=l;var p=t(69351),a=t(48140),r=t(53402),n=t(22562),e=t(66280);(function(){l.stack=function(s,o,i,h,u,d,f){for(var c=p.create({label:"Stack"}),g=s,m=o,y,x=0,S=0;S<h;S++){for(var C=0,A=0;A<i;A++){var F=f(g,m,A,S,y,x);if(F){var M=F.bounds.max.y-F.bounds.min.y,w=F.bounds.max.x-F.bounds.min.x;M>C&&(C=M),n.translate(F,{x:w*.5,y:M*.5}),g=F.bounds.max.x+u,p.addBody(c,F),y=F,x+=1}else g+=u}m+=C+d,g=s}return c},l.chain=function(s,o,i,h,u,d){for(var f=s.bodies,c=1;c<f.length;c++){var g=f[c-1],m=f[c],y=g.bounds.max.y-g.bounds.min.y,x=g.bounds.max.x-g.bounds.min.x,S=m.bounds.max.y-m.bounds.min.y,C=m.bounds.max.x-m.bounds.min.x,A={bodyA:g,pointA:{x:x*o,y:y*i},bodyB:m,pointB:{x:C*h,y:S*u}},F=r.extend(A,d);p.addConstraint(s,a.create(F))}return s.label+=" Chain",s},l.mesh=function(s,o,i,h,u){var d=s.bodies,f,c,g,m,y;for(f=0;f<i;f++){for(c=1;c<o;c++)g=d[c-1+f*o],m=d[c+f*o],p.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:m},u)));if(f>0)for(c=0;c<o;c++)g=d[c+(f-1)*o],m=d[c+f*o],p.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:m},u))),h&&c>0&&(y=d[c-1+(f-1)*o],p.addConstraint(s,a.create(r.extend({bodyA:y,bodyB:m},u)))),h&&c<o-1&&(y=d[c+1+(f-1)*o],p.addConstraint(s,a.create(r.extend({bodyA:y,bodyB:m},u))))}return s.label+=" Mesh",s},l.pyramid=function(s,o,i,h,u,d,f){return l.stack(s,o,i,h,u,d,function(c,g,m,y,x,S){var C=Math.min(h,Math.ceil(i/2)),A=x?x.bounds.max.x-x.bounds.min.x:0;if(!(y>C)){y=C-y;var F=y,M=i-1-y;if(!(m<F||m>M)){S===1&&n.translate(x,{x:(m+(i%2===1?1:-1))*A,y:0});var w=x?m*A:0;return f(s+w+m*u,g,m,y,x,S)}}})},l.newtonsCradle=function(s,o,i,h,u){for(var d=p.create({label:"Newtons Cradle"}),f=0;f<i;f++){var c=1.9,g=e.circle(s+f*(h*c),o+u,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=a.create({pointA:{x:s+f*(h*c),y:o},bodyB:g});p.addBody(d,g),p.addConstraint(d,m)}return d},l.car=function(s,o,i,h,u){var d=n.nextGroup(!0),f=20,c=-i*.5+f,g=i*.5-f,m=0,y=p.create({label:"Car"}),x=e.rectangle(s,o,i,h,{collisionFilter:{group:d},chamfer:{radius:h*.5},density:2e-4}),S=e.circle(s+c,o+m,u,{collisionFilter:{group:d},friction:.8}),C=e.circle(s+g,o+m,u,{collisionFilter:{group:d},friction:.8}),A=a.create({bodyB:x,pointB:{x:c,y:m},bodyA:S,stiffness:1,length:0}),F=a.create({bodyB:x,pointB:{x:g,y:m},bodyA:C,stiffness:1,length:0});return p.addBody(y,x),p.addBody(y,S),p.addBody(y,C),p.addConstraint(y,A),p.addConstraint(y,F),y},l.softBody=function(s,o,i,h,u,d,f,c,g,m){g=r.extend({inertia:1/0},g),m=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var y=l.stack(s,o,i,h,u,d,function(x,S){return e.circle(x,S,c,g)});return l.mesh(y,i,h,f,m),y.label="Soft Body",y}})()},66615:(v,T,t)=>{var l={};v.exports=l;var p=t(31725),a=t(53402);(function(){l.fromVertices=function(r){for(var n={},e=0;e<r.length;e++){var s=(e+1)%r.length,o=p.normalise({x:r[s].y-r[e].y,y:r[e].x-r[s].x}),i=o.y===0?1/0:o.x/o.y;i=i.toFixed(3).toString(),n[i]=o}return a.values(n)},l.rotate=function(r,n){if(n!==0)for(var e=Math.cos(n),s=Math.sin(n),o=0;o<r.length;o++){var i=r[o],h;h=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=h}}})()},15647:v=>{var T={};v.exports=T,function(){T.create=function(t){var l={min:{x:0,y:0},max:{x:0,y:0}};return t&&T.update(l,t),l},T.update=function(t,l,p){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<l.length;a++){var r=l[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}p&&(p.x>0?t.max.x+=p.x:t.min.x+=p.x,p.y>0?t.max.y+=p.y:t.min.y+=p.y)},T.contains=function(t,l){return l.x>=t.min.x&&l.x<=t.max.x&&l.y>=t.min.y&&l.y<=t.max.y},T.overlaps=function(t,l){return t.min.x<=l.max.x&&t.max.x>=l.min.x&&t.max.y>=l.min.y&&t.min.y<=l.max.y},T.translate=function(t,l){t.min.x+=l.x,t.max.x+=l.x,t.min.y+=l.y,t.max.y+=l.y},T.shift=function(t,l){var p=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=l.x,t.max.x=l.x+p,t.min.y=l.y,t.max.y=l.y+a},T.wrap=function(t,l,p){var a=null,r=null;if(typeof l.min.x<"u"&&typeof l.max.x<"u"&&(t.min.x>l.max.x?a=l.min.x-t.max.x:t.max.x<l.min.x&&(a=l.max.x-t.min.x)),typeof l.min.y<"u"&&typeof l.max.y<"u"&&(t.min.y>l.max.y?r=l.min.y-t.max.y:t.max.y<l.min.y&&(r=l.max.y-t.min.y)),a!==null||r!==null)return{x:a||0,y:r||0}}}()},74058:(v,T,t)=>{var l={};v.exports=l,t(15647);var p=t(53402);(function(){l.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&p.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,s,o,i,h,u,d,f,c,g=[],m,y,x=0,S=0,C=0;r=r||15;var A=function(M,w,R){var O=R%2===1&&R>1;if(!f||M!=f.x||w!=f.y){f&&O?(m=f.x,y=f.y):(m=0,y=0);var U={x:m+M,y:y+w};(O||!f)&&(f=U),g.push(U),S=m+M,C=y+w}},F=function(M){var w=M.pathSegTypeAsLetter.toUpperCase();if(w!=="Z"){switch(w){case"M":case"L":case"T":case"C":case"S":case"Q":S=M.x,C=M.y;break;case"H":S=M.x;break;case"V":C=M.y;break}A(S,C,M.pathSegType)}};for(l._svgPathToAbsolute(a),s=a.getTotalLength(),h=[],n=0;n<a.pathSegList.numberOfItems;n+=1)h.push(a.pathSegList.getItem(n));for(u=h.concat();x<s;){if(c=a.getPathSegAtLength(x),i=h[c],i!=d){for(;u.length&&u[0]!=i;)F(u.shift());d=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=a.getPointAtLength(x),A(o.x,o.y,0);break}x+=r}for(n=0,e=u.length;n<e;++n)F(u[n]);return g},l._svgPathToAbsolute=function(a){for(var r,n,e,s,o,i,h=a.pathSegList,u=0,d=0,f=h.numberOfItems,c=0;c<f;++c){var g=h.getItem(c),m=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(m))"x"in g&&(u=g.x),"y"in g&&(d=g.y);else switch("x1"in g&&(e=u+g.x1),"x2"in g&&(o=u+g.x2),"y1"in g&&(s=d+g.y1),"y2"in g&&(i=d+g.y2),"x"in g&&(u+=g.x),"y"in g&&(d+=g.y),m){case"m":h.replaceItem(a.createSVGPathSegMovetoAbs(u,d),c);break;case"l":h.replaceItem(a.createSVGPathSegLinetoAbs(u,d),c);break;case"h":h.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(u),c);break;case"v":h.replaceItem(a.createSVGPathSegLinetoVerticalAbs(d),c);break;case"c":h.replaceItem(a.createSVGPathSegCurvetoCubicAbs(u,d,e,s,o,i),c);break;case"s":h.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(u,d,o,i),c);break;case"q":h.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(u,d,e,s),c);break;case"t":h.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(u,d),c);break;case"a":h.replaceItem(a.createSVGPathSegArcAbs(u,d,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),c);break;case"z":case"Z":u=r,d=n;break}(m=="M"||m=="m")&&(r=u,n=d)}}})()},31725:v=>{var T={};v.exports=T,function(){T.create=function(t,l){return{x:t||0,y:l||0}},T.clone=function(t){return{x:t.x,y:t.y}},T.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},T.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},T.rotate=function(t,l,p){var a=Math.cos(l),r=Math.sin(l);p||(p={});var n=t.x*a-t.y*r;return p.y=t.x*r+t.y*a,p.x=n,p},T.rotateAbout=function(t,l,p,a){var r=Math.cos(l),n=Math.sin(l);a||(a={});var e=p.x+((t.x-p.x)*r-(t.y-p.y)*n);return a.y=p.y+((t.x-p.x)*n+(t.y-p.y)*r),a.x=e,a},T.normalise=function(t){var l=T.magnitude(t);return l===0?{x:0,y:0}:{x:t.x/l,y:t.y/l}},T.dot=function(t,l){return t.x*l.x+t.y*l.y},T.cross=function(t,l){return t.x*l.y-t.y*l.x},T.cross3=function(t,l,p){return(l.x-t.x)*(p.y-t.y)-(l.y-t.y)*(p.x-t.x)},T.add=function(t,l,p){return p||(p={}),p.x=t.x+l.x,p.y=t.y+l.y,p},T.sub=function(t,l,p){return p||(p={}),p.x=t.x-l.x,p.y=t.y-l.y,p},T.mult=function(t,l){return{x:t.x*l,y:t.y*l}},T.div=function(t,l){return{x:t.x/l,y:t.y/l}},T.perp=function(t,l){return l=l===!0?-1:1,{x:l*-t.y,y:l*t.x}},T.neg=function(t){return{x:-t.x,y:-t.y}},T.angle=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(v,T,t)=>{var l={};v.exports=l;var p=t(31725),a=t(53402);(function(){l.create=function(r,n){for(var e=[],s=0;s<r.length;s++){var o=r[s],i={x:o.x,y:o.y,index:s,body:n,isInternal:!1};e.push(i)}return e},l.fromPath=function(r,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(e,function(o,i,h){s.push({x:parseFloat(i),y:parseFloat(h)})}),l.create(s,n)},l.centre=function(r){for(var n=l.area(r,!0),e={x:0,y:0},s,o,i,h=0;h<r.length;h++)i=(h+1)%r.length,s=p.cross(r[h],r[i]),o=p.mult(p.add(r[h],r[i]),s),e=p.add(e,o);return p.div(e,6*n)},l.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return p.div(n,r.length)},l.area=function(r,n){for(var e=0,s=r.length-1,o=0;o<r.length;o++)e+=(r[s].x-r[o].x)*(r[s].y+r[o].y),s=o;return n?e/2:Math.abs(e)/2},l.inertia=function(r,n){for(var e=0,s=0,o=r,i,h,u=0;u<o.length;u++)h=(u+1)%o.length,i=Math.abs(p.cross(o[h],o[u])),e+=i*(p.dot(o[h],o[h])+p.dot(o[h],o[u])+p.dot(o[u],o[u])),s+=i;return n/6*(e/s)},l.translate=function(r,n,e){e=typeof e<"u"?e:1;var s=r.length,o=n.x*e,i=n.y*e,h;for(h=0;h<s;h++)r[h].x+=o,r[h].y+=i;return r},l.rotate=function(r,n,e){if(n!==0){var s=Math.cos(n),o=Math.sin(n),i=e.x,h=e.y,u=r.length,d,f,c,g;for(g=0;g<u;g++)d=r[g],f=d.x-i,c=d.y-h,d.x=i+(f*s-c*o),d.y=h+(f*o+c*s);return r}},l.contains=function(r,n){for(var e=n.x,s=n.y,o=r.length,i=r[o-1],h,u=0;u<o;u++){if(h=r[u],(e-i.x)*(h.y-i.y)+(s-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},l.scale=function(r,n,e,s){if(n===1&&e===1)return r;s=s||l.centre(r);for(var o,i,h=0;h<r.length;h++)o=r[h],i=p.sub(o,s),r[h].x=s.x+i.x*n,r[h].y=s.y+i.y*e;return r},l.chamfer=function(r,n,e,s,o){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,s=s||2,o=o||14;for(var i=[],h=0;h<r.length;h++){var u=r[h-1>=0?h-1:r.length-1],d=r[h],f=r[(h+1)%r.length],c=n[h<n.length?h:n.length-1];if(c===0){i.push(d);continue}var g=p.normalise({x:d.y-u.y,y:u.x-d.x}),m=p.normalise({x:f.y-d.y,y:d.x-f.x}),y=Math.sqrt(2*Math.pow(c,2)),x=p.mult(a.clone(g),c),S=p.normalise(p.mult(p.add(g,m),.5)),C=p.sub(d,p.mult(S,y)),A=e;e===-1&&(A=Math.pow(c,.32)*1.75),A=a.clamp(A,s,o),A%2===1&&(A+=1);for(var F=Math.acos(p.dot(g,m)),M=F/A,w=0;w<A;w++)i.push(p.add(p.rotate(x,M*w),C))}return i},l.clockwiseSort=function(r){var n=l.mean(r);return r.sort(function(e,s){return p.angle(n,e)-p.angle(n,s)}),r},l.isConvex=function(r){var n=0,e=r.length,s,o,i,h;if(e<3)return null;for(s=0;s<e;s++)if(o=(s+1)%e,i=(s+2)%e,h=(r[o].x-r[s].x)*(r[i].y-r[o].y),h-=(r[o].y-r[s].y)*(r[i].x-r[o].x),h<0?n|=1:h>0&&(n|=2),n===3)return!1;return n!==0?!0:null},l.hull=function(r){var n=[],e=[],s,o;for(r=r.slice(0),r.sort(function(i,h){var u=i.x-h.x;return u!==0?u:i.y-h.y}),o=0;o<r.length;o+=1){for(s=r[o];e.length>=2&&p.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(o=r.length-1;o>=0;o-=1){for(s=r[o];n.length>=2&&p.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}return n.pop(),e.pop(),n.concat(e)}})()},55973:v=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={decomp:F,quickDecomp:O,isSimple:w,removeCollinearPoints:U,removeDuplicatePoints:X,makeCCW:f};function T(N,V,I){I=I||0;var B=[0,0],G,H,$,Z,Q,j,_;return G=N[1][1]-N[0][1],H=N[0][0]-N[1][0],$=G*N[0][0]+H*N[0][1],Z=V[1][1]-V[0][1],Q=V[0][0]-V[1][0],j=Z*V[0][0]+Q*V[0][1],_=G*Q-Z*H,W(_,0,I)||(B[0]=(Q*$-H*j)/_,B[1]=(G*j-Z*$)/_),B}function t(N,V,I,B){var G=V[0]-N[0],H=V[1]-N[1],$=B[0]-I[0],Z=B[1]-I[1];if($*H-Z*G===0)return!1;var Q=(G*(I[1]-N[1])+H*(N[0]-I[0]))/($*H-Z*G),j=($*(N[1]-I[1])+Z*(I[0]-N[0]))/(Z*G-$*H);return Q>=0&&Q<=1&&j>=0&&j<=1}function l(N,V,I){return(V[0]-N[0])*(I[1]-N[1])-(I[0]-N[0])*(V[1]-N[1])}function p(N,V,I){return l(N,V,I)>0}function a(N,V,I){return l(N,V,I)>=0}function r(N,V,I){return l(N,V,I)<0}function n(N,V,I){return l(N,V,I)<=0}var e=[],s=[];function o(N,V,I,B){if(B){var G=e,H=s;G[0]=V[0]-N[0],G[1]=V[1]-N[1],H[0]=I[0]-V[0],H[1]=I[1]-V[1];var $=G[0]*H[0]+G[1]*H[1],Z=Math.sqrt(G[0]*G[0]+G[1]*G[1]),Q=Math.sqrt(H[0]*H[0]+H[1]*H[1]),j=Math.acos($/(Z*Q));return j<B}else return l(N,V,I)===0}function i(N,V){var I=V[0]-N[0],B=V[1]-N[1];return I*I+B*B}function h(N,V){var I=N.length;return N[V<0?V%I+I:V%I]}function u(N){N.length=0}function d(N,V,I,B){for(var G=I;G<B;G++)N.push(V[G])}function f(N){for(var V=0,I=N,B=1;B<N.length;++B)(I[B][1]<I[V][1]||I[B][1]===I[V][1]&&I[B][0]>I[V][0])&&(V=B);return p(h(N,V-1),h(N,V),h(N,V+1))?!1:(c(N),!0)}function c(N){for(var V=[],I=N.length,B=0;B!==I;B++)V.push(N.pop());for(var B=0;B!==I;B++)N[B]=V[B]}function g(N,V){return r(h(N,V-1),h(N,V),h(N,V+1))}var m=[],y=[];function x(N,V,I){var B,G,H=m,$=y;if(a(h(N,V+1),h(N,V),h(N,I))&&n(h(N,V-1),h(N,V),h(N,I)))return!1;G=i(h(N,V),h(N,I));for(var Z=0;Z!==N.length;++Z)if(!((Z+1)%N.length===V||Z===V)&&a(h(N,V),h(N,I),h(N,Z+1))&&n(h(N,V),h(N,I),h(N,Z))&&(H[0]=h(N,V),H[1]=h(N,I),$[0]=h(N,Z),$[1]=h(N,Z+1),B=T(H,$),i(h(N,V),B)<G))return!1;return!0}function S(N,V,I){for(var B=0;B!==N.length;++B)if(!(B===V||B===I||(B+1)%N.length===V||(B+1)%N.length===I)&&t(h(N,V),h(N,I),h(N,B),h(N,B+1)))return!1;return!0}function C(N,V,I,B){var G=B||[];if(u(G),V<I)for(var H=V;H<=I;H++)G.push(N[H]);else{for(var H=0;H<=I;H++)G.push(N[H]);for(var H=V;H<N.length;H++)G.push(N[H])}return G}function A(N){for(var V=[],I=[],B=[],G=[],H=Number.MAX_VALUE,$=0;$<N.length;++$)if(g(N,$)){for(var Z=0;Z<N.length;++Z)if(x(N,$,Z)){I=A(C(N,$,Z,G)),B=A(C(N,Z,$,G));for(var Q=0;Q<B.length;Q++)I.push(B[Q]);I.length<H&&(V=I,H=I.length,V.push([h(N,$),h(N,Z)]))}}return V}function F(N){var V=A(N);return V.length>0?M(N,V):[N]}function M(N,V){if(V.length===0)return[N];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var I=[N],B=0;B<V.length;B++)for(var G=V[B],H=0;H<I.length;H++){var $=I[H],Z=M($,G);if(Z){I.splice(H,1),I.push(Z[0],Z[1]);break}}return I}else{var G=V,B=N.indexOf(G[0]),H=N.indexOf(G[1]);return B!==-1&&H!==-1?[C(N,B,H),C(N,H,B)]:!1}}function w(N){var V=N,I;for(I=0;I<V.length-1;I++)for(var B=0;B<I-1;B++)if(t(V[I],V[I+1],V[B],V[B+1]))return!1;for(I=1;I<V.length-2;I++)if(t(V[0],V[V.length-1],V[I],V[I+1]))return!1;return!0}function R(N,V,I,B,G){G=G||0;var H=V[1]-N[1],$=N[0]-V[0],Z=H*N[0]+$*N[1],Q=B[1]-I[1],j=I[0]-B[0],_=Q*I[0]+j*I[1],tt=H*j-Q*$;return W(tt,0,G)?[0,0]:[(j*Z-$*_)/tt,(H*_-Q*Z)/tt]}function O(N,V,I,B,G,H,$){H=H||100,$=$||0,G=G||25,V=typeof V<"u"?V:[],I=I||[],B=B||[];var Z=[0,0],Q=[0,0],j=[0,0],_=0,tt=0,et=0,rt=0,at=0,st=0,ct=0,vt=[],pt=[],nt=N,ht=N;if(ht.length<3)return V;if($++,$>H)return console.warn("quickDecomp: max level ("+H+") reached."),V;for(var lt=0;lt<N.length;++lt)if(g(nt,lt)){I.push(nt[lt]),_=tt=Number.MAX_VALUE;for(var xt=0;xt<N.length;++xt)p(h(nt,lt-1),h(nt,lt),h(nt,xt))&&n(h(nt,lt-1),h(nt,lt),h(nt,xt-1))&&(j=R(h(nt,lt-1),h(nt,lt),h(nt,xt),h(nt,xt-1)),r(h(nt,lt+1),h(nt,lt),j)&&(et=i(nt[lt],j),et<tt&&(tt=et,Q=j,st=xt))),p(h(nt,lt+1),h(nt,lt),h(nt,xt+1))&&n(h(nt,lt+1),h(nt,lt),h(nt,xt))&&(j=R(h(nt,lt+1),h(nt,lt),h(nt,xt),h(nt,xt+1)),p(h(nt,lt-1),h(nt,lt),j)&&(et=i(nt[lt],j),et<_&&(_=et,Z=j,at=xt)));if(st===(at+1)%N.length)j[0]=(Q[0]+Z[0])/2,j[1]=(Q[1]+Z[1])/2,B.push(j),lt<at?(d(vt,nt,lt,at+1),vt.push(j),pt.push(j),st!==0&&d(pt,nt,st,nt.length),d(pt,nt,0,lt+1)):(lt!==0&&d(vt,nt,lt,nt.length),d(vt,nt,0,at+1),vt.push(j),pt.push(j),d(pt,nt,st,lt+1));else{if(st>at&&(at+=N.length),rt=Number.MAX_VALUE,at<st)return V;for(var xt=st;xt<=at;++xt)a(h(nt,lt-1),h(nt,lt),h(nt,xt))&&n(h(nt,lt+1),h(nt,lt),h(nt,xt))&&(et=i(h(nt,lt),h(nt,xt)),et<rt&&S(nt,lt,xt)&&(rt=et,ct=xt%N.length));lt<ct?(d(vt,nt,lt,ct+1),ct!==0&&d(pt,nt,ct,ht.length),d(pt,nt,0,lt+1)):(lt!==0&&d(vt,nt,lt,ht.length),d(vt,nt,0,ct+1),d(pt,nt,ct,lt+1))}return vt.length<pt.length?(O(vt,V,I,B,G,H,$),O(pt,V,I,B,G,H,$)):(O(pt,V,I,B,G,H,$),O(vt,V,I,B,G,H,$)),V}return V.push(N),V}function U(N,V){for(var I=0,B=N.length-1;N.length>3&&B>=0;--B)o(h(N,B-1),h(N,B),h(N,B+1),V)&&(N.splice(B%N.length,1),I++);return I}function X(N,V){for(var I=N.length-1;I>=1;--I)for(var B=N[I],G=I-1;G>=0;--G)if(Y(B,N[G],V)){N.splice(I,1);continue}}function W(N,V,I){return I=I||0,Math.abs(N-V)<=I}function Y(N,V,I){return W(N[0],V[0],I)&&W(N[1],V[1],I)}},52018:(v,T,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(83419),p=new l({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=p},42363:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};v.exports=T},37277:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},t={},l={};l.register=function(p,a,r,n){n===void 0&&(n=!1),T[p]={plugin:a,mapping:r,custom:n}},l.registerCustom=function(p,a,r,n){t[p]={plugin:a,mapping:r,data:n}},l.hasCore=function(p){return T.hasOwnProperty(p)},l.hasCustom=function(p){return t.hasOwnProperty(p)},l.getCore=function(p){return T[p]},l.getCustom=function(p){return t[p]},l.getCustomClass=function(p){return t.hasOwnProperty(p)?t[p].plugin:null},l.remove=function(p){T.hasOwnProperty(p)&&delete T[p]},l.removeCustom=function(p){t.hasOwnProperty(p)&&delete t[p]},l.destroyCorePlugins=function(){for(var p in T)T.hasOwnProperty(p)&&delete T[p]},l.destroyCustomPlugins=function(){for(var p in t)t.hasOwnProperty(p)&&delete t[p]},v.exports=l},77332:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(8443),a=t(50792),r=t(74099),n=t(44603),e=t(39429),s=t(95540),o=t(37277),i=t(72905),h=t(8054),u=new l({Extends:a,initialize:function(f){a.call(this),this.game=f,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],f.isBooted||f.config.renderType===h.HEADLESS?this.boot():f.events.once(p.BOOT,this.boot,this)},boot:function(){var d,f,c,g,m,y,x,S=this.game.config,C=S.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),d=0;d<C.length;d++)f=C[d],c=s(f,"key",null),g=s(f,"plugin",null),m=s(f,"start",!1),y=s(f,"mapping",null),x=s(f,"data",null),c&&(g?this.install(c,g,m,y,x):console.warn("Missing `plugin` for key: "+c));for(C=S.installScenePlugins,C=C.concat(this._pendingScene),d=0;d<C.length;d++)f=C[d],c=s(f,"key",null),g=s(f,"plugin",null),y=s(f,"mapping",null),c&&(g?this.installScenePlugin(c,g,y):console.warn("Missing `plugin` for key: "+c));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(d,f,c){var g,m,y,x=this.game,S=d.scene,C=d.settings.map,A=d.settings.isBooted;for(g=0;g<f.length;g++)m=f[g],x[m]?(d[m]=x[m],C.hasOwnProperty(m)&&(S[C[m]]=d[m])):m==="game"&&C.hasOwnProperty(m)&&(S[C[m]]=x);for(var F=0;F<c.length;F++)for(y=c[F],g=0;g<y.length;g++)if(m=y[g],!!o.hasCore(m)){var M=o.getCore(m),w=M.mapping,R=new M.plugin(S,this,w);d[w]=R,M.custom?S[w]=R:C.hasOwnProperty(w)&&(S[C[w]]=R),A&&R.boot()}for(y=this.plugins,g=0;g<y.length;g++){var O=y[g];O.mapping&&(S[O.mapping]=O.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,f,c,g,m){if(m===void 0&&(m=!1),typeof f!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(o.hasCore(d)||o.register(d,f,c,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!m&&o.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(g){var y=new f(g,this,d);g.sys[d]=y,c&&c!==""&&(g[c]=y),y.boot()}},install:function(d,f,c,g,m){if(c===void 0&&(c=!1),g===void 0&&(g=null),m===void 0&&(m=null),typeof f!="function")return console.warn("Invalid Plugin: "+d),null;if(o.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(g!==null&&(c=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:f,start:c,mapping:g,data:m});else if(o.registerCustom(d,f,g,m),c)return this.start(d);return null},getIndex:function(d){for(var f=this.plugins,c=0;c<f.length;c++){var g=f[c];if(g.key===d)return c}return-1},getEntry:function(d){var f=this.getIndex(d);if(f!==-1)return this.plugins[f]},isActive:function(d){var f=this.getEntry(d);return f&&f.active},start:function(d,f){f===void 0&&(f=d);var c=this.getEntry(f);return c&&!c.active?(c.active=!0,c.plugin.start()):c||(c=this.createEntry(d,f)),c?c.plugin:null},createEntry:function(d,f){var c=o.getCustom(d);if(c){var g=new c.plugin(this);c={key:f,plugin:g,active:!0,mapping:c.mapping,data:c.data},this.plugins.push(c),g.init(c.data),g.start()}return c},stop:function(d){var f=this.getEntry(d);return f&&f.active&&(f.active=!1,f.plugin.stop()),this},get:function(d,f){f===void 0&&(f=!0);var c=this.getEntry(d);if(c)return c.plugin;var g=this.getClass(d);return g&&f?(c=this.createEntry(d,d),c?c.plugin:null):g||null},getClass:function(d){return o.getCustomClass(d)},removeGlobalPlugin:function(d){var f=this.getEntry(d);f&&i(this.plugins,f),o.removeCustom(d)},removeScenePlugin:function(d){i(this.scenePlugins,d),o.remove(d)},registerGameObject:function(d,f,c){return f&&e.register(d,f),c&&n.register(d,c),this},removeGameObject:function(d,f,c){return f===void 0&&(f=!0),c===void 0&&(c=!0),f&&e.remove(d),c&&n.remove(d),this},registerFileType:function(d,f,c){r.register(d,f),c&&c.sys.load&&(c.sys.load[d]=f)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();o.destroyCustomPlugins(),this.game.noReturn&&o.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});v.exports=u},45145:(v,T,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(52018),p=t(83419),a=t(44594),r=new p({Extends:l,initialize:function(e,s,o){l.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=o,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=r},18922:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(v){const T=performance.now(),t=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,p=(a,r)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>l){const s=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,o=r-a;v(r,{presentationTime:r+s*1e3,expectedDisplayTime:r+o,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+o/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(s=>p(r,s))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(a=>p(T,a)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(v){cancelAnimationFrame(this._rvfcpolyfillmap[v]),delete this._rvfcpolyfillmap[v]})},10312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};v.exports=T},68627:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19715),p=t(32880),a=t(83419),r=t(8054),n=t(50792),e=t(92503),s=t(56373),o=t(97480),i=t(69442),h=t(8443),u=t(61340),d=new a({Extends:n,initialize:function(c){n.call(this);var g=c.config;this.config={clearBeforeRender:g.clearBeforeRender,backgroundColor:g.backgroundColor,antialias:g.antialias,roundPixels:g.roundPixels,transparent:g.transparent},this.game=c,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=c.canvas;var m={alpha:g.transparent,desynchronized:g.desynchronized,willReadFrequently:!1};this.gameContext=g.context?g.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=g.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.isBooted=!1,this.init()},init:function(){var f=this.game;f.events.once(h.BOOT,function(){var c=this.config;if(!c.transparent){var g=this.gameContext,m=this.gameCanvas;g.fillStyle=c.backgroundColor.rgba,g.fillRect(0,0,m.width,m.height)}},this),f.textures.once(i.READY,this.boot,this)},boot:function(){var f=this.game,c=f.scale.baseSize;this.width=c.width,this.height=c.height,this.isBooted=!0,f.scale.on(o.RESIZE,this.onResize,this),this.resize(c.width,c.height)},onResize:function(f,c){(c.width!==this.width||c.height!==this.height)&&this.resize(c.width,c.height)},resize:function(f,c){this.width=f,this.height=c,this.emit(e.RESIZE,f,c)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(f){return this.currentContext.globalCompositeOperation=f,this},setContext:function(f){return this.currentContext=f||this.gameContext,this},setAlpha:function(f){return this.currentContext.globalAlpha=f,this},preRender:function(){var f=this.gameContext,c=this.config,g=this.width,m=this.height;f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),c.clearBeforeRender&&(f.clearRect(0,0,g,m),c.transparent||(f.fillStyle=c.backgroundColor.rgba,f.fillRect(0,0,g,m))),f.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(f,c,g){var m=c.length;this.emit(e.RENDER,f,g);var y=g.x,x=g.y,S=g.width,C=g.height,A=g.renderToTexture?g.context:f.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(y,x,S,C),A.clip()),g.emit(l.PRE_RENDER,g),this.currentContext=A;var F=g.mask;F&&F.preRenderCanvas(this,null,g._maskCamera),g.transparent||(A.fillStyle=g.backgroundColor.rgba,A.fillRect(y,x,S,C)),A.globalAlpha=g.alpha,A.globalCompositeOperation="source-over",this.drawCount+=m,g.renderToTexture&&g.emit(l.PRE_RENDER,g),g.matrix.copyToContext(A);for(var M=0;M<m;M++){var w=c[M];w.mask&&w.mask.preRenderCanvas(this,w,g),w.renderCanvas(this,w,g),w.mask&&w.mask.postRenderCanvas(this,w,g)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,g.flashEffect.postRenderCanvas(A),g.fadeEffect.postRenderCanvas(A),g.dirty=!1,F&&F.postRenderCanvas(this),A.restore(),g.renderToTexture&&(g.emit(l.POST_RENDER,g),g.renderToGame&&f.sys.context.drawImage(g.canvas,y,x)),g.emit(l.POST_RENDER,g)},postRender:function(){var f=this.gameContext;f.restore(),this.emit(e.POST_RENDER);var c=this.snapshotState;c.callback&&(p(this.gameCanvas,c),c.callback=null)},snapshotCanvas:function(f,c,g,m,y,x,S,C,A){g===void 0&&(g=!1),this.snapshotArea(m,y,x,S,c,C,A);var F=this.snapshotState;return F.getPixel=g,p(f,F),F.callback=null,this},snapshot:function(f,c,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,f,c,g)},snapshotArea:function(f,c,g,m,y,x,S){var C=this.snapshotState;return C.callback=y,C.type=x,C.encoder=S,C.getPixel=!1,C.x=f,C.y=c,C.width=Math.min(g,this.gameCanvas.width),C.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(f,c,g){return this.snapshotArea(f,c,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(f,c,g,m){var y=g.alpha*f.alpha;if(y!==0){var x=this.currentContext,S=this._tempMatrix1,C=this._tempMatrix2,A=c.canvasData,F=A.x,M=A.y,w=c.cutWidth,R=c.cutHeight,O=c.customPivot,U=c.source.resolution,X=f.displayOriginX,W=f.displayOriginY,Y=-X+c.x,N=-W+c.y;if(f.isCropped){var V=f._crop;(V.flipX!==f.flipX||V.flipY!==f.flipY)&&c.updateCropUVs(V,f.flipX,f.flipY),w=V.cw,R=V.ch,F=V.cx,M=V.cy,Y=-X+V.x,N=-W+V.y,f.flipX&&(Y>=0?Y=-(Y+w):Y<0&&(Y=Math.abs(Y)-w)),f.flipY&&(N>=0?N=-(N+R):N<0&&(N=Math.abs(N)-R))}var I=1,B=1;f.flipX&&(O||(Y+=-c.realWidth+X*2),I=-1),f.flipY&&(O||(N+=-c.realHeight+W*2),B=-1);var G=f.x,H=f.y;if(g.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),C.applyITRS(G,H,f.rotation,f.scaleX*I,f.scaleY*B),S.copyFrom(g.matrix),m?(S.multiplyWithOffset(m,-g.scrollX*f.scrollFactorX,-g.scrollY*f.scrollFactorY),C.e=G,C.f=H):(C.e-=g.scrollX*f.scrollFactorX,C.f-=g.scrollY*f.scrollFactorY),S.multiply(C),g.renderRoundPixels&&(S.e=Math.floor(S.e+.5),S.f=Math.floor(S.f+.5)),x.save(),S.setToContext(x),x.globalCompositeOperation=this.blendModes[f.blendMode],x.globalAlpha=y,x.imageSmoothingEnabled=!c.source.scaleMode,f.mask&&f.mask.preRenderCanvas(this,f,g),w>0&&R>0){var $=w/U,Z=R/U;g.roundPixels&&(Y=Math.floor(Y+.5),N=Math.floor(N+.5),$+=.5,Z+=.5),x.drawImage(c.source.image,F,M,w,R,Y,N,$,Z)}f.mask&&f.mask.postRenderCanvas(this,f,g),x.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});v.exports=d},55830:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),p=t(89289),a=function(){var r=[],n=p.supportNewBlendModes,e="source-over";return r[l.NORMAL]=e,r[l.ADD]="lighter",r[l.MULTIPLY]=n?"multiply":e,r[l.SCREEN]=n?"screen":e,r[l.OVERLAY]=n?"overlay":e,r[l.DARKEN]=n?"darken":e,r[l.LIGHTEN]=n?"lighten":e,r[l.COLOR_DODGE]=n?"color-dodge":e,r[l.COLOR_BURN]=n?"color-burn":e,r[l.HARD_LIGHT]=n?"hard-light":e,r[l.SOFT_LIGHT]=n?"soft-light":e,r[l.DIFFERENCE]=n?"difference":e,r[l.EXCLUSION]=n?"exclusion":e,r[l.HUE]=n?"hue":e,r[l.SATURATION]=n?"saturation":e,r[l.COLOR]=n?"color":e,r[l.LUMINOSITY]=n?"luminosity":e,r[l.ERASE]="destination-out",r[l.SOURCE_IN]="source-in",r[l.SOURCE_OUT]="source-out",r[l.SOURCE_ATOP]="source-atop",r[l.DESTINATION_OVER]="destination-over",r[l.DESTINATION_IN]="destination-in",r[l.DESTINATION_OUT]="destination-out",r[l.DESTINATION_ATOP]="destination-atop",r[l.LIGHTER]="lighter",r[l.COPY]="copy",r[l.XOR]="xor",r};v.exports=a},20926:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),p=function(a,r,n,e,s){var o=e.alpha*n.alpha;if(o<=0)return!1;var i=l(n,e,s).calc;return r.globalCompositeOperation=a.blendModes[n.blendMode],r.globalAlpha=o,r.save(),i.setToContext(r),r.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:a.antialias,!0};v.exports=p},63899:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="losewebgl"},6119:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},48070:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},15640:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},8912:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},87124:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="restorewebgl"},92503:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(92503),Snapshot:t(89966)},v.exports.Canvas=t(55830),v.exports.WebGL=t(4159)},32880:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),p=t(40987),a=t(95540),r=function(n,e){var s=a(e,"callback"),o=a(e,"type","image/png"),i=a(e,"encoder",.92),h=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),d=Math.floor(a(e,"width",n.width)),f=Math.floor(a(e,"height",n.height)),c=a(e,"getPixel",!1);if(c){var g=n.getContext("2d",{willReadFrequently:!1}),m=g.getImageData(h,u,1,1),y=m.data;s.call(null,new p(y[0],y[1],y[2],y[3]))}else if(h!==0||u!==0||d!==n.width||f!==n.height){var x=l.createWebGL(this,d,f),S=x.getContext("2d",{willReadFrequently:!0});d>0&&f>0&&S.drawImage(n,h,u,d,f,0,0,d,f);var C=new Image;C.onerror=function(){s.call(null),l.remove(x)},C.onload=function(){s.call(null,C),l.remove(x)},C.src=x.toDataURL(o,i)}else{var A=new Image;A.onerror=function(){s.call(null)},A.onload=function(){s.call(null,A)},A.src=n.toDataURL(o,i)}};v.exports=r},88815:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),p=t(40987),a=t(95540),r=function(n,e){var s=n,o=a(e,"callback"),i=a(e,"type","image/png"),h=a(e,"encoder",.92),u=Math.abs(Math.round(a(e,"x",0))),d=Math.abs(Math.round(a(e,"y",0))),f=a(e,"getPixel",!1),c=a(e,"isFramebuffer",!1),g=c?a(e,"bufferWidth",1):s.drawingBufferWidth,m=c?a(e,"bufferHeight",1):s.drawingBufferHeight;if(f){var y=new Uint8Array(4),x=c?d:m-d;s.readPixels(u,x,1,1,s.RGBA,s.UNSIGNED_BYTE,y),o.call(null,new p(y[0],y[1],y[2],y[3]))}else{var S=Math.floor(a(e,"width",g)),C=Math.floor(a(e,"height",m)),A=S*C*4,F=new Uint8Array(A);s.readPixels(u,m-d-C,S,C,s.RGBA,s.UNSIGNED_BYTE,F);for(var M=l.createWebGL(this,S,C),w=M.getContext("2d",{willReadFrequently:!0}),R=w.getImageData(0,0,S,C),O=R.data,U=0;U<C;U++)for(var X=0;X<S;X++){var W=((C-U-1)*S+X)*4,Y=c?A-(U*S+(S-X))*4:(U*S+X)*4;O[Y+0]=F[W+0],O[Y+1]=F[W+1],O[Y+2]=F[W+2],O[Y+3]=F[W+3]}w.putImageData(R,0,0);var N=new Image;N.onerror=function(){o.call(null),l.remove(M)},N.onload=function(){o.call(null,N),l.remove(M)},N.src=M.toDataURL(i,h)}};v.exports=r},89966:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(36060),a=t(90330),r=t(82264),n=t(95540),e=t(32302),s=t(63448),o=t(31302),i=t(58918),h=t(14811),u=t(92651),d=t(96569),f=t(56527),c=t(57516),g=t(43439),m=t(81041),y=t(12385),x=t(7589),S=t(95428),C=t(72905),A=new l({initialize:function(M){this.game=M.game,this.renderer=M,this.classes=new a([[p.UTILITY_PIPELINE,x],[p.MULTI_PIPELINE,c],[p.BITMAPMASK_PIPELINE,o],[p.SINGLE_PIPELINE,y],[p.ROPE_PIPELINE,m],[p.LIGHT_PIPELINE,d],[p.POINTLIGHT_PIPELINE,g],[p.MOBILE_PIPELINE,f]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,M,w){var R=this.renderer,O=this.renderTargets;this.frameInc=Math.floor(n(F,"frameInc",32));var U=R.width,X=R.height,W=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(h.BARREL),i.Barrel],[String(h.BLOOM),i.Bloom],[String(h.BLUR),i.Blur],[String(h.BOKEH),i.Bokeh],[String(h.CIRCLE),i.Circle],[String(h.COLOR_MATRIX),i.ColorMatrix],[String(h.DISPLACEMENT),i.Displacement],[String(h.GLOW),i.Glow],[String(h.GRADIENT),i.Gradient],[String(h.PIXELATE),i.Pixelate],[String(h.SHADOW),i.Shadow],[String(h.SHINE),i.Shine],[String(h.VIGNETTE),i.Vignette],[String(h.WIPE),i.Wipe]]),!W){this.classes.set(p.FX_PIPELINE,u);for(var N=Math.min(U,X),V=Math.ceil(N/this.frameInc),I=1;I<V;I++){var B=I*this.frameInc;O.push(new e(R,B,B)),O.push(new e(R,B,B)),O.push(new e(R,B,B)),this.maxDimension=B}O.push(new e(R,U,X,1,0,!0,!0)),O.push(new e(R,U,X,1,0,!0,!0)),O.push(new e(R,U,X,1,0,!0,!0))}var G,H,$=this,Z=this.game;if(this.classes.each(function(j,_){G=$.add(j,new _({game:Z})),j===p.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=G,$.fullFrame1=G.fullFrame1,$.fullFrame2=G.fullFrame2,$.halfFrame1=G.halfFrame1,$.halfFrame2=G.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),F)for(H in F){var Q=F[H];G=new Q(Z),G.name=H,G.isPostFX?this.postPipelineClasses.set(H,Q):this.has(H)||(this.classes.set(H,Q),this.add(H,G))}this.default=this.get(M),w&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var M=this.get(F);return M&&(this.default=M),M},add:function(F,M){if(M.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var w=this.pipelines,R=this.renderer;return w.has(F)?console.warn("Pipeline exists: "+F):(M.name=F,M.manager=this,w.set(F,M)),M.hasBooted||M.boot(),R.width!==0&&R.height!==0&&!M.isPreFX&&M.resize(R.width,R.height),M},addPostPipeline:function(F,M){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,M)},flush:function(){this.current&&this.current.flush()},has:function(F){var M=this.pipelines;return typeof F=="string"?M.has(F):!!M.contains(F)},get:function(F){var M=this.pipelines;if(typeof F=="string")return M.get(F);if(M.contains(F))return F},getPostPipeline:function(F,M,w){var R=this.postPipelineClasses,O,U="",X=typeof F;if(X==="string"||X==="number"?(O=R.get(F),U=F):X==="function"?(R.contains(F)&&(O=F),U=F.name):X==="object"&&(O=R.get(F.name),U=F.name),O){var W=new O(this.game,w);return W.name=U,M&&(W.gameObject=M),this.postPipelineInstances.push(W),W}},removePostPipeline:function(F){C(this.postPipelineInstances,F)},remove:function(F,M,w){M===void 0&&(M=!0),w===void 0&&(w=!0),this.pipelines.delete(F),M&&this.classes.delete(F),w&&this.postPipelineClasses.delete(F)},set:function(F,M,w){if(!F.isPostFX)return this.isCurrent(F,w)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(w)),F.updateProjectionMatrix(),F.onBind(M),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,w=M.length-1;w>=0;w--){var R=M[w];R.active&&R.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,w=0;w<M.length;w++){var R=M[w];R.active&&R.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,w=M.length-1;w>=0;w--){var R=M[w];R.active&&R.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,w=0;w<M.length;w++){var R=M[w];R.active&&R.postBatch(F)}}},isCurrent:function(F,M){var w=this.renderer,R=this.current;return R&&!M&&(M=R.currentShader),!(R!==F||M.program!==w.currentProgram)},copyFrame:function(F,M,w,R,O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,M,w,R,O),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,M,w,R){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,M,w,R),this},blendFrames:function(F,M,w,R,O){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,M,w,R,O),this},blendFramesAdditive:function(F,M,w,R,O){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,M,w,R,O),this},clearFrame:function(F,M){return this.UTILITY_PIPELINE.clearFrame(F,M),this},blitFrame:function(F,M,w,R,O,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,M,w,R,O,U),this},copyFrameRect:function(F,M,w,R,O,U,X,W){return this.UTILITY_PIPELINE.copyFrameRect(F,M,w,R,O,U,X,W),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,M){M.restoreContext()}),S(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var M=this.renderer,w=M.gl;w.disable(w.DEPTH_TEST),w.disable(w.CULL_FACE),M.hasActiveStencilMask()?w.clear(w.DEPTH_BUFFER_BIT):(w.disable(w.STENCIL_TEST),w.clear(w.DEPTH_BUFFER_BIT|w.STENCIL_BUFFER_BIT)),w.viewport(0,0,M.width,M.height),M.currentProgram=null,M.setBlendMode(0,!0);var R=M.vaoExtension;R&&R.bindVertexArrayOES(null);var O=this.pipelines.entries;for(var U in O)O[U].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var M=F.vaoExtension;M&&M.bindVertexArrayOES(null)},getRenderTarget:function(F){var M=this.renderTargets,w=3;if(F>this.maxDimension)return this.targetIndex=M.length-w,M[this.targetIndex];var R=(s(F,this.frameInc,0,!0)-1)*w;return this.targetIndex=R,M[R]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});v.exports=A},32302:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(92503),a=new l({initialize:function(n,e,s,o,i,h,u,d,f){o===void 0&&(o=1),i===void 0&&(i=0),h===void 0&&(h=!0),u===void 0&&(u=!1),d===void 0&&(d=!0),f===void 0&&(f=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=o,this.minFilter=i,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=f,this.init(e,s),u?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(r,n){var e=this.renderer;this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,n){if(this.autoResize&&this.willResize(r,n)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n}return this},willResize:function(r,n){return typeof r!="number"||typeof n!="number"?!1:(r=Math.round(r*this.scale),n=Math.round(n*this.scale),r=Math.max(r,1),n=Math.max(n,1),r!==this.width||n!==this.height)},bind:function(r,n,e){r===void 0&&(r=!1);var s=this.renderer;if(r&&s.flush(),n&&e&&this.resize(n,e),s.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var o=this.renderer.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(r,n,e,s){var o=this.renderer,i=o.gl;o.pushFramebuffer(this.framebuffer),r!==void 0&&n!==void 0&&e!==void 0&&s!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(r,n,e,s)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),o.popFramebuffer(),o.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var n=this.renderer;return r&&n.flush(),n.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(p.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});v.exports=a},70554:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={getTintFromFloats:function(T,t,l,p){var a=(T*255|0)&255,r=(t*255|0)&255,n=(l*255|0)&255,e=(p*255|0)&255;return(e<<24|a<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(T,t){var l=(t*255|0)&255;return(l<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,t){var l=(T>>16|0)&255,p=(T>>8|0)&255,a=(T|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|p<<8|l)>>>0},getFloatsFromUintRGB:function(T){var t=(T>>16|0)&255,l=(T>>8|0)&255,p=(T|0)&255;return[t/255,l/255,p/255]},checkShaderMax:function(T,t){var l=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?l:Math.min(l,t)},parseFragmentShaderMaxTextures:function(T,t){if(!T)return"";for(var l="",p=0;p<t;p++)p>0&&(l+=`
	else `),p<t-1&&(l+="if (outTexId < "+p+".5)"),l+=`
	{`,l+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",l+=`
	}`;return T=T.replace(/%count%/gi,t.toString()),T.replace(/%forloop%/gi,l)},setGlowQuality:function(T,t,l,p){return l===void 0&&(l=t.config.glowFXQuality),p===void 0&&(p=t.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/l/p).toFixed(7)),T=T.replace(/__DIST__/gi,p.toFixed(0)+".0"),T}}},29100:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(62644),a=t(50792),r=t(77085),n=t(95540),e=t(37867),s=t(92503),o=t(32302),i=t(70554),h=t(38683),u=new l({Extends:a,initialize:function(f){a.call(this);var c=f.game,g=c.renderer,m=g.gl;this.name=n(f,"name","WebGLPipeline"),this.game=c,this.renderer=g,this.manager,this.gl=m,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(f,"topology",m.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(f,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=f,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=n(f,"resizeUniform","")},boot:function(){var d,f=this.gl,c=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var m=this.renderTargets,y=n(c,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var x=g.width,S=g.height;if(typeof y=="number")for(d=0;d<y;d++)m.push(new o(g,x,S,1,0,!0));else if(Array.isArray(y))for(d=0;d<y.length;d++){var C=n(y[d],"scale",1),A=n(y[d],"minFilter",0),F=n(y[d],"autoClear",1),M=n(y[d],"autoResize",!1),w=n(y[d],"width",null),R=n(y[d],"height",w);w?m.push(new o(g,w,R,1,A,F,M)):m.push(new o(g,x,S,C,A,F,M))}m.length&&(this.currentRenderTarget=m[0]),this.setShadersFromConfig(c);var O=this.shaders,U=0;for(d=0;d<O.length;d++)O[d].vertexSize>U&&(U=O[d].vertexSize);var X=n(c,"batchSize",g.config.batchSize);this.vertexCapacity=X*6;var W=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var Y=n(c,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=g.createVertexBuffer(W,f.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(W.byteLength,f.DYNAMIC_DRAW),this.setVertexBuffer(),d=O.length-1;d>=0;d--)O[d].rebind();this.hasBooted=!0,g.on(s.RESIZE,this.resize,this),g.on(s.PRE_RENDER,this.onPreRender,this),g.on(s.RENDER,this.onRender,this),g.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,f,c){var g=this.renderer;if(d!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var m=this.setVertexBuffer(c);m&&!f&&(f=!0),d.bind(f,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var f=this.shaders,c=0;c<f.length;c++)if(f[c].name===d)return f[c]},setShadersFromConfig:function(d){var f,c=this.shaders,g=this.renderer;for(f=0;f<c.length;f++)c[f].destroy();var m="vertShader",y="fragShader",x="attributes",S=n(d,m,null),C=i.parseFragmentShaderMaxTextures(n(d,y,null),g.maxTextures),A=n(d,x,null),F=n(d,"shaders",[]),M=F.length;if(M===0)S&&C&&(this.shaders=[new h(this,"default",S,C,p(A))]);else{var w=[];for(f=0;f<M;f++){var R=F[f],O,U,X,W;if(typeof R=="string"?(O="default",U=S,X=i.parseFragmentShaderMaxTextures(R,g.maxTextures),W=A):(O=n(R,"name","default"),U=n(R,m,S),X=i.parseFragmentShaderMaxTextures(n(R,y,C),g.maxTextures),W=n(R,x,A)),O==="default"){var Y=X.split(`
`),N=Y[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(O=N.substring(20))}U&&X&&w.push(new h(this,O,U,X,p(W)))}this.shaders=w}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var f=this.currentBatch;f&&(f.texture.push(d),f.unit++,f.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var f=this.currentBatch,c=f.texture.indexOf(d);return c===-1?f.texture.length===this.renderer.maxTextures?this.createBatch(d):(f.unit++,f.maxUnit++,f.texture.push(d),this.currentUnit=f.unit,this.currentTexture=d,f.unit):(this.currentUnit=c,this.currentTexture=d,c)},setGameObject:function(d,f){return f===void 0&&(f=d.frame),this.pushBatch(f.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,f){(d!==this.width||f!==this.height)&&this.flush(),this.width=d,this.height=f;for(var c=this.renderTargets,g=0;g<c.length;g++)c[g].resize(d,f);return this.setProjectionMatrix(d,f),this.resizeUniform&&this.set2f(this.resizeUniform,d,f),this.emit(r.RESIZE,d,f,this),this.onResize(d,f),this},setProjectionMatrix:function(d,f){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=d,this.projectionHeight=f,c.ortho(0,d,f,0,-1e3,1e3);for(var g=this.shaders,m="uProjectionMatrix",y=0;y<g.length;y++){var x=g[y];x.hasUniform(m)&&(x.resetUniform(m),x.setMatrix4fv(m,!1,c.val,x))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var f=this.projectionMatrix;if(!f)return this;var c=this.projectionWidth,g=this.projectionHeight;d?f.ortho(0,c,0,g,-1e3,1e3):f.ortho(0,c,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,f.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,f=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==f)&&this.setProjectionMatrix(d,f)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var f=!1,c=this.gl;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,f=!0),d.bind(f),this.currentShader=d,this.activeTextures.length=0,this.emit(r.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var f=this.shaders,c=f.length-1;c>=0;c--){var g=f[c].rebind();(!d||g===d)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,f=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,f&&this.setVertexBuffer();for(var c=0;c<d.length;c++){var g=d[c];g.syncUniforms(),f&&g.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var f=this.gl;return this.gl.bindBuffer(f.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var f=this.gl,c=this.vertexCount,g=this.currentShader.vertexSize,m=this.topology;if(this.active){this.setVertexBuffer(),c===this.vertexCapacity?f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.DYNAMIC_DRAW):f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,c*g));var y,x,S,C=this.batch,A=this.activeTextures;if(this.forceZero)for(A[0]||f.activeTexture(f.TEXTURE0),y=0;y<C.length;y++)x=C[y],S=x.texture[0],A[0]!==S&&(f.bindTexture(f.TEXTURE_2D,S.webGLTexture),A[0]=S),f.drawArrays(m,x.start,x.count);else for(y=0;y<C.length;y++){x=C[y];for(var F=0;F<=x.maxUnit;F++)S=x.texture[F],A[F]!==S&&(f.activeTexture(f.TEXTURE0+F),f.bindTexture(f.TEXTURE_2D,S.webGLTexture),A[F]=S);f.drawArrays(m,x.start,x.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,f,c,g,m,y,x){var S=this.vertexViewF32,C=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++A]=d,S[++A]=f,S[++A]=c,S[++A]=g,S[++A]=m,S[++A]=y,C[++A]=x,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,f,c,g,m,y,x,S,C,A,F,M,w,R,O,U,X,W,Y,N){N===void 0&&(N=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(N=this.setTexture2D(Y));var I=this.vertexViewF32,B=this.vertexViewU32,G=this.vertexCount*this.currentShader.vertexComponentCount-1;return I[++G]=f,I[++G]=c,I[++G]=A,I[++G]=F,I[++G]=N,I[++G]=W,B[++G]=R,I[++G]=g,I[++G]=m,I[++G]=A,I[++G]=w,I[++G]=N,I[++G]=W,B[++G]=U,I[++G]=y,I[++G]=x,I[++G]=M,I[++G]=w,I[++G]=N,I[++G]=W,B[++G]=X,I[++G]=f,I[++G]=c,I[++G]=A,I[++G]=F,I[++G]=N,I[++G]=W,B[++G]=R,I[++G]=y,I[++G]=x,I[++G]=M,I[++G]=w,I[++G]=N,I[++G]=W,B[++G]=X,I[++G]=S,I[++G]=C,I[++G]=M,I[++G]=F,I[++G]=N,I[++G]=W,B[++G]=O,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),V},batchTri:function(d,f,c,g,m,y,x,S,C,A,F,M,w,R,O,U,X){X===void 0&&(X=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(X=this.setTexture2D(U));var Y=this.vertexViewF32,N=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++V]=f,Y[++V]=c,Y[++V]=S,Y[++V]=C,Y[++V]=X,Y[++V]=O,N[++V]=M,Y[++V]=g,Y[++V]=m,Y[++V]=S,Y[++V]=F,Y[++V]=X,Y[++V]=O,N[++V]=w,Y[++V]=y,Y[++V]=x,Y[++V]=A,Y[++V]=F,Y[++V]=X,Y[++V]=O,N[++V]=R,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),W},drawFillRect:function(d,f,c,g,m,y,x,S){x===void 0&&(x=this.renderer.whiteTexture),S===void 0&&(S=!0),d=Math.floor(d),f=Math.floor(f);var C=Math.floor(d+c),A=Math.floor(f+g),F=this.setTexture2D(x),M=i.getTintAppendFloatAlphaAndSwap(m,y),w=0,R=0,O=1,U=1;S&&(R=1,U=0),this.batchQuad(null,d,f,d,A,C,A,C,f,w,R,O,U,M,M,M,M,0,x,F)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,f){f===void 0&&(f=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+f),c.bindTexture(c.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,f){return this.bindTexture(d.texture,f)},setTime:function(d,f){return this.set1f(d,this.game.loop.getDuration(),f),this},setBoolean:function(d,f,c){return c===void 0&&(c=this.currentShader),c.setBoolean(d,f),this},set1f:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1f(d,f),this},set2f:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.set2f(d,f,c),this},set3f:function(d,f,c,g,m){return m===void 0&&(m=this.currentShader),m.set3f(d,f,c,g),this},set4f:function(d,f,c,g,m,y){return y===void 0&&(y=this.currentShader),y.set4f(d,f,c,g,m),this},set1fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1fv(d,f),this},set2fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set2fv(d,f),this},set3fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set3fv(d,f),this},set4fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set4fv(d,f),this},set1iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1iv(d,f),this},set2iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set2iv(d,f),this},set3iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set3iv(d,f),this},set4iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set4iv(d,f),this},set1i:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1i(d,f),this},set2i:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.set2i(d,f,c),this},set3i:function(d,f,c,g,m){return m===void 0&&(m=this.currentShader),m.set3i(d,f,c,g),this},set4i:function(d,f,c,g,m,y){return y===void 0&&(y=this.currentShader),y.set4i(d,f,c,g,m),this},setMatrix2fv:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(d,f,c),this},setMatrix3fv:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(d,f,c),this},setMatrix4fv:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(d,f,c),this},destroy:function(){this.emit(r.DESTROY,this);var d,f=this.shaders;for(d=0;d<f.length;d++)f[d].destroy();var c=this.renderTargets;for(d=0;d<c.length;d++)c[d].destroy();var g=this.renderer;return g.deleteBuffer(this.vertexBuffer),g.off(s.RESIZE,this.resize,this),g.off(s.PRE_RENDER,this.onPreRender,this),g.off(s.RENDER,this.onRender,this),g.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});v.exports=u},74797:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95428),p=t(72905),a=t(19715),r=t(83419),n=t(8054),e=t(50792),s=t(92503),o=t(50030),i=t(37867),h=t(29747),u=t(7530),d=t(32302),f=t(97480),c=t(69442),g=t(70554),m=t(88815),y=t(26128),x=t(1482),S=t(82751),C=t(84387),A=t(93567),F=t(57183),M=new r({Extends:e,initialize:function(R){e.call(this);var O=R.config,U={alpha:O.transparent,desynchronized:O.desynchronized,depth:!0,antialias:O.antialiasGL,premultipliedAlpha:O.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:O.failIfMajorPerformanceCaveat,powerPreference:O.powerPreference,preserveDrawingBuffer:O.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:O.clearBeforeRender,antialias:O.antialias,backgroundColor:O.backgroundColor,contextCreation:U,roundPixels:O.roundPixels,maxTextures:O.maxTextures,maxTextureSize:O.maxTextureSize,batchSize:O.batchSize,maxLights:O.maxLights,mipmapFilter:O.mipmapFilter},this.game=R,this.type=n.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=R.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.previousContextLostHandler=h,this.previousContextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(w){var R,O=this.game,U=this.canvas,X=w.backgroundColor;if(O.config.context?R=O.config.context:R=U.getContext("webgl",w.contextCreation)||U.getContext("experimental-webgl",w.contextCreation),!R||R.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=R,this.setExtensions(),this.setContextHandlers(),O.context=R;for(var W=0;W<=27;W++)this.blendModes.push({func:[R.ONE,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_ADD});this.blendModes[1].func=[R.ONE,R.DST_ALPHA],this.blendModes[2].func=[R.DST_COLOR,R.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[R.ONE,R.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[R.ZERO,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_REVERSE_SUBTRACT},this.glFormats=[R.BYTE,R.SHORT,R.UNSIGNED_BYTE,R.UNSIGNED_SHORT,R.FLOAT],this.glFuncMap={mat2:{func:R.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:R.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:R.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:R.uniform1f,length:1},"1fv":{func:R.uniform1fv,length:1},"1i":{func:R.uniform1i,length:1},"1iv":{func:R.uniform1iv,length:1},"2f":{func:R.uniform2f,length:2},"2fv":{func:R.uniform2fv,length:1},"2i":{func:R.uniform2i,length:2},"2iv":{func:R.uniform2iv,length:1},"3f":{func:R.uniform3f,length:3},"3fv":{func:R.uniform3fv,length:1},"3i":{func:R.uniform3i,length:3},"3iv":{func:R.uniform3iv,length:1},"4f":{func:R.uniform4f,length:4},"4fv":{func:R.uniform4fv,length:1},"4i":{func:R.uniform4i,length:4},"4iv":{func:R.uniform4iv,length:1}},(!w.maxTextures||w.maxTextures===-1)&&(w.maxTextures=R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS)),w.maxTextureSize||(w.maxTextureSize=R.getParameter(R.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),R.disable(R.DEPTH_TEST),R.disable(R.CULL_FACE),R.enable(R.BLEND),R.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),R.clear(R.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(w.mipmapFilter)!==-1&&(this.mipmapFilter=R[w.mipmapFilter]),this.maxTextures=g.checkShaderMax(R,w.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(n.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),O.textures.once(c.READY,this.boot,this),this},boot:function(){var w=this.game,R=this.pipelines,O=w.scale.baseSize,U=O.width,X=O.height;this.width=U,this.height=X,this.isBooted=!0,this.renderTarget=new d(this,U,X,1,0,!0,!0),this.maskTarget=new d(this,U,X,1,0,!0,!0),this.maskSource=new d(this,U,X,1,0,!0,!0);var W=w.config;R.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=w.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=w.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=w.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),w.scale.on(f.RESIZE,this.onResize,this),this.resize(U,X)},setExtensions:function(){var w=this.gl,R=w.getSupportedExtensions();this.supportedExtensions=R;var O="ANGLE_instanced_arrays";this.instancedArraysExtension=R.indexOf(O)>-1?w.getExtension(O):null;var U="OES_vertex_array_object";this.vaoExtension=R.indexOf(U)>-1?w.getExtension(U):null},setContextHandlers:function(w,R){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof w=="function"?this.contextLostHandler=w.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof R=="function"?this.contextRestoredHandler=R.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(w){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(s.LOSE_WEBGL,this),w.preventDefault()},dispatchContextRestored:function(w){var R=this.gl;if(R.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(n.BlendModes.NORMAL),R.disable(R.BLEND),R.disable(R.DEPTH_TEST),R.enable(R.CULL_FACE),this.compression=this.getCompressedTextures();var O=function(U){U.createResource()};l(this.glTextureWrappers,O),l(this.glBufferWrappers,O),l(this.glFramebufferWrappers,O),l(this.glProgramWrappers,O),l(this.glAttribLocationWrappers,O),l(this.glUniformLocationWrappers,O),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(s.RESTORE_WEBGL,this),w.preventDefault()},createTemporaryTextures:function(){for(var w=this.gl,R=0;R<this.maxTextures;R++){var O=w.createTexture();w.activeTexture(w.TEXTURE0+R),w.bindTexture(w.TEXTURE_2D,O),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,1,1,0,w.RGBA,w.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(R)}},captureFrame:function(w,R){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(w,R,O){},stopCapture:function(){},onCapture:function(w){},onResize:function(w,R){(R.width!==this.width||R.height!==this.height)&&this.resize(R.width,R.height)},beginCapture:function(w,R){w===void 0&&(w=this.width),R===void 0&&(R=this.height),this.renderTarget.bind(!0,w,R),this.setProjectionMatrix(w,R)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(w,R){var O=this.gl;return this.width=w,this.height=R,this.setProjectionMatrix(w,R),O.viewport(0,0,w,R),this.drawingBufferHeight=O.drawingBufferHeight,O.scissor(0,O.drawingBufferHeight-R,w,R),this.defaultScissor[2]=w,this.defaultScissor[3]=R,this.emit(s.RESIZE,w,R),this},getCompressedTextures:function(){var w="WEBGL_compressed_texture_",R="WEBKIT_"+w,O="EXT_texture_compression_",U=function(W,Y){var N=W.getExtension(w+Y)||W.getExtension(R+Y)||W.getExtension(O+Y);if(N){var V={};for(var I in N)V[N[I]]=I;return V}},X=this.gl;return{ETC:U(X,"etc"),ETC1:U(X,"etc1"),ATC:U(X,"atc"),ASTC:U(X,"astc"),BPTC:U(X,"bptc"),RGTC:U(X,"rgtc"),PVRTC:U(X,"pvrtc"),S3TC:U(X,"s3tc"),S3TCSRGB:U(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(w,R){var O=this.compression[w.toUpperCase()];if(R in O)return O[R]},supportsCompressedTexture:function(w,R){var O=this.compression[w.toUpperCase()];return O?R?R in O:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(w,R){return(w!==this.projectionWidth||R!==this.projectionHeight)&&(this.projectionWidth=w,this.projectionHeight=R,this.projectionMatrix.ortho(0,w,R,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(w){return this.supportedExtensions?this.supportedExtensions.indexOf(w):!1},getExtension:function(w){return this.hasExtension(w)?(w in this.extensions||(this.extensions[w]=this.gl.getExtension(w)),this.extensions[w]):null},flush:function(){this.pipelines.flush()},pushScissor:function(w,R,O,U,X){X===void 0&&(X=this.drawingBufferHeight);var W=this.scissorStack,Y=[w,R,O,U];return W.push(Y),this.setScissor(w,R,O,U,X),this.currentScissor=Y,Y},setScissor:function(w,R,O,U,X){X===void 0&&(X=this.drawingBufferHeight);var W=this.gl,Y=this.currentScissor,N=O>0&&U>0;if(Y&&N){var V=Y[0],I=Y[1],B=Y[2],G=Y[3];N=V!==w||I!==R||B!==O||G!==U}N&&(this.flush(),W.scissor(w,X-R-U,O,U))},resetScissor:function(){var w=this.gl;w.enable(w.SCISSOR_TEST);var R=this.currentScissor;if(R){var O=R[0],U=R[1],X=R[2],W=R[3];X>0&&W>0&&w.scissor(O,this.drawingBufferHeight-U-W,X,W)}},popScissor:function(){var w=this.scissorStack;w.pop();var R=w[w.length-1];R&&this.setScissor(R[0],R[1],R[2],R[3]),this.currentScissor=R},hasActiveStencilMask:function(){var w=this.currentMask.mask,R=this.currentCameraMask.mask;return w&&w.isStencil||R&&R.isStencil},resetViewport:function(){var w=this.gl;w.viewport(0,0,this.width,this.height),this.drawingBufferHeight=w.drawingBufferHeight},setBlendMode:function(w,R){R===void 0&&(R=!1);var O=this.gl,U=this.blendModes[w];return R||w!==n.BlendModes.SKIP_CHECK&&this.currentBlendMode!==w?(this.flush(),O.enable(O.BLEND),O.blendEquation(U.equation),U.func.length>2?O.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):O.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=w,!0):!1},addBlendMode:function(w,R){var O=this.blendModes.push({func:w,equation:R});return O-1},updateBlendMode:function(w,R,O){return this.blendModes[w]&&(this.blendModes[w].func=R,O&&(this.blendModes[w].equation=O)),this},removeBlendMode:function(w){return w>17&&this.blendModes[w]&&this.blendModes.splice(w,1),this},pushFramebuffer:function(w,R,O,U,X){return w===this.currentFramebuffer?this:(this.fboStack.push(w),this.setFramebuffer(w,R,O,U,X))},setFramebuffer:function(w,R,O,U,X){if(R===void 0&&(R=!1),O===void 0&&(O=!0),U===void 0&&(U=null),X===void 0&&(X=!1),w===this.currentFramebuffer)return this;var W=this.gl,Y=this.width,N=this.height;return w&&w.renderTexture&&O?(Y=w.renderTexture.width,N=w.renderTexture.height):this.flush(),w?W.bindFramebuffer(W.FRAMEBUFFER,w.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),O&&W.viewport(0,0,Y,N),U&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,U.webGLTexture,0),X&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),R&&(w?(this.drawingBufferHeight=N,this.pushScissor(0,0,Y,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=w,this},popFramebuffer:function(w,R){w===void 0&&(w=!1),R===void 0&&(R=!0);var O=this.fboStack;O.pop();var U=O[O.length-1];return U||(U=null),this.setFramebuffer(U,w,R),U},restoreFramebuffer:function(w,R){w===void 0&&(w=!1),R===void 0&&(R=!0);var O=this.fboStack,U=O[O.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,w,R)},setProgram:function(w){return w!==this.currentProgram?(this.flush(),this.gl.useProgram(w.webGLProgram),this.currentProgram=w,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(w,R,O,U,X){X===void 0&&(X=!1);var W=this.gl,Y=W.NEAREST,N=W.NEAREST,V=W.CLAMP_TO_EDGE,I=null;R=w?w.width:R,O=w?w.height:O;var B=o(R,O);if(B&&!X&&(V=W.REPEAT),U===n.ScaleModes.LINEAR&&this.config.antialias){var G=w&&w.compressed,H=!G&&B||G&&w.mipmaps.length>1;Y=this.mipmapFilter&&H?this.mipmapFilter:W.LINEAR,N=W.LINEAR}return!w&&typeof R=="number"&&typeof O=="number"?I=this.createTexture2D(0,Y,N,V,V,W.RGBA,null,R,O):I=this.createTexture2D(0,Y,N,V,V,W.RGBA,w),I},createTexture2D:function(w,R,O,U,X,W,Y,N,V,I,B,G){typeof N!="number"&&(N=Y?Y.width:1),typeof V!="number"&&(V=Y?Y.height:1);var H=new S(this.gl,w,R,O,U,X,W,Y,N,V,I,B,G);return this.glTextureWrappers.push(H),H},createFramebuffer:function(w,R,O,U){this.currentFramebuffer=null;var X=new C(this.gl,w,R,O,U);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(w,R){var O=this.gl;O&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==w&&(this.currentMask.mask=w,this.currentMask.camera=R))},drawBitmapMask:function(w,R,O){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),w.renderWebGL(this,w,R),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,X=this.getCurrentStencilMask();X?(U.enable(U.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(O),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(w,R){var O=new x(this.gl,w,R);return this.glProgramWrappers.push(O),O},createVertexBuffer:function(w,R){var O=this.gl,U=new y(O,w,O.ARRAY_BUFFER,R);return this.glBufferWrappers.push(U),U},createAttribLocation:function(w,R){var O=new A(this.gl,w,R);return this.glAttribLocationWrappers.push(O),O},createUniformLocation:function(w,R){var O=new F(this.gl,w,R);return this.glUniformLocationWrappers.push(O),O},createIndexBuffer:function(w,R){var O=this.gl,U=new y(O,w,O.ELEMENT_ARRAY_BUFFER,R);return this.glBufferWrappers.push(U),U},deleteTexture:function(w){if(w)return p(this.glTextureWrappers,w),w.destroy(),this},deleteFramebuffer:function(w){return w?(p(this.fboStack,w),p(this.glFramebufferWrappers,w),w.destroy(),this):this},deleteProgram:function(w){return w&&(p(this.glProgramWrappers,w),w.destroy()),this},deleteAttribLocation:function(w){return w&&(p(this.glAttribLocationWrappers,w),w.destroy()),this},deleteUniformLocation:function(w){return w&&(p(this.glUniformLocationWrappers,w),w.destroy()),this},deleteBuffer:function(w){return w?(p(this.glBufferWrappers,w),w.destroy(),this):this},preRenderCamera:function(w){var R=w.x,O=w.y,U=w.width,X=w.height,W=w.backgroundColor;if(w.emit(a.PRE_RENDER,w),this.pipelines.preBatchCamera(w),this.pushScissor(R,O,U,X),w.mask&&(this.currentCameraMask.mask=w.mask,this.currentCameraMask.camera=w._maskCamera,w.mask.preRenderWebGL(this,w,w._maskCamera)),W.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(R,O,U,X,g.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},getCurrentStencilMask:function(){var w=null,R=this.maskStack,O=this.currentCameraMask;return R.length>0?w=R[R.length-1]:O.mask&&O.mask.isStencil&&(w=O),w},postRenderCamera:function(w){var R=w.flashEffect,O=w.fadeEffect;if(R.isRunning||O.isRunning||O.isComplete){var U=this.pipelines.setMulti();R.postRenderWebGL(U,g.getTintFromFloats),O.postRenderWebGL(U,g.getTintFromFloats)}w.dirty=!1,this.popScissor(),w.mask&&(this.currentCameraMask.mask=null,w.mask.postRenderWebGL(this,w._maskCamera)),this.pipelines.postBatchCamera(w),w.emit(a.POST_RENDER,w)},preRender:function(){if(!this.contextLost){var w=this.gl;if(w.bindFramebuffer(w.FRAMEBUFFER,null),this.emit(s.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var R=this.config.backgroundColor;w.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT|w.STENCIL_BUFFER_BIT)}w.enable(w.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&w.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(s.PRE_RENDER)}},render:function(w,R,O){if(!this.contextLost){var U=R.length;if(this.emit(s.RENDER,w,O),this.preRenderCamera(O),U===0){this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(O);return}this.currentType="";for(var X=this.currentMask,W=0;W<U;W++){this.finalType=W===U-1;var Y=R[W],N=Y.mask;X=this.currentMask,X.mask&&X.mask!==N&&X.mask.postRenderWebGL(this,X.camera),N&&X.mask!==N&&N.preRenderWebGL(this,Y,O),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var V=Y.type;V!==this.currentType&&(this.newType=!0,this.currentType=V),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=R[W+1].type===this.currentType,Y.renderWebGL(this,Y,O),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(O)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(s.POST_RENDER);var w=this.snapshotState;w.callback&&(m(this.gl,w),w.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var w=this.gl,R=this.getCurrentStencilMask();if(R){var O=R.mask;w.enable(w.STENCIL_TEST),O.invertAlpha?w.stencilFunc(w.NOTEQUAL,O.level,255):w.stencilFunc(w.EQUAL,O.level,255)}},snapshot:function(w,R,O){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,w,R,O)},snapshotArea:function(w,R,O,U,X,W,Y){var N=this.snapshotState;return N.callback=X,N.type=W,N.encoder=Y,N.getPixel=!1,N.x=w,N.y=R,N.width=O,N.height=U,this},snapshotPixel:function(w,R,O){return this.snapshotArea(w,R,1,1,O),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(w,R,O,U,X,W,Y,N,V,I,B){X===void 0&&(X=!1),W===void 0&&(W=0),Y===void 0&&(Y=0),N===void 0&&(N=R),V===void 0&&(V=O),I==="pixel"&&(X=!0,I="image/png");var G=this.currentFramebuffer;this.snapshotArea(W,Y,N,V,U,I,B);var H=this.snapshotState;return H.getPixel=X,H.isFramebuffer=!0,H.bufferWidth=R,H.bufferHeight=O,H.width=Math.min(H.width,R),H.height=Math.min(H.height,O),this.setFramebuffer(w),m(this.gl,H),this.setFramebuffer(G),H.callback=null,H.isFramebuffer=!1,this},canvasToTexture:function(w,R,O,U){O===void 0&&(O=!1),U===void 0&&(U=!1);var X=this.gl,W=X.NEAREST,Y=X.NEAREST,N=w.width,V=w.height,I=X.CLAMP_TO_EDGE,B=o(N,V);return!O&&B&&(I=X.REPEAT),this.config.antialias&&(W=B&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Y=X.LINEAR),R?(R.update(w,N,V,U,I,I,W,Y,R.format),R):this.createTexture2D(0,W,Y,I,I,X.RGBA,w,N,V,!0,!1,U)},createCanvasTexture:function(w,R,O){return R===void 0&&(R=!1),O===void 0&&(O=!1),this.canvasToTexture(w,null,R,O)},updateCanvasTexture:function(w,R,O,U){return O===void 0&&(O=!1),U===void 0&&(U=!1),this.canvasToTexture(w,R,U,O)},videoToTexture:function(w,R,O,U){O===void 0&&(O=!1),U===void 0&&(U=!1);var X=this.gl,W=X.NEAREST,Y=X.NEAREST,N=w.videoWidth,V=w.videoHeight,I=X.CLAMP_TO_EDGE,B=o(N,V);return!O&&B&&(I=X.REPEAT),this.config.antialias&&(W=B&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Y=X.LINEAR),R?(R.update(w,N,V,U,I,I,W,Y,R.format),R):this.createTexture2D(0,W,Y,I,I,X.RGBA,w,N,V,!0,!0,U)},createVideoTexture:function(w,R,O){return R===void 0&&(R=!1),O===void 0&&(O=!1),this.videoToTexture(w,null,R,O)},updateVideoTexture:function(w,R,O,U){return O===void 0&&(O=!1),U===void 0&&(U=!1),this.videoToTexture(w,R,U,O)},createUint8ArrayTexture:function(w,R,O){var U=this.gl,X=U.NEAREST,W=U.NEAREST,Y=U.CLAMP_TO_EDGE,N=o(R,O);return N&&(Y=U.REPEAT),this.createTexture2D(0,X,W,Y,Y,U.RGBA,w,R,O)},setTextureFilter:function(w,R){var O=this.gl,U=R===0?O.LINEAR:O.NEAREST;O.activeTexture(O.TEXTURE0);var X=O.getParameter(O.TEXTURE_BINDING_2D);return O.bindTexture(O.TEXTURE_2D,w.webGLTexture),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,U),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,U),w.minFilter=U,w.magFilter=U,X&&O.bindTexture(O.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var w=function(R){R.destroy()};l(this.glAttribLocationWrappers,w),l(this.glBufferWrappers,w),l(this.glFramebufferWrappers,w),l(this.glProgramWrappers,w),l(this.glTextureWrappers,w),l(this.glUniformLocationWrappers,w),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});v.exports=M},38683:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95428),a=t(95540),r=t(14500),n=new l({initialize:function(s,o,i,h,u){this.pipeline=s,this.name=o,this.renderer=s.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=i,this.program=this.renderer.createProgram(i,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(e){var s=0,o=0,i=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var u=e[h],d=u.name,f=a(u,"size",1),c=a(u,"type",r.FLOAT),g=c.enum,m=c.size,y=!!u.normalized;i.push({name:d,size:f,type:g,normalized:y,offset:o,enabled:!1,location:-1}),m===4?s+=f:s++,o+=f*m}this.vertexSize=o,this.vertexComponentCount=s,this.attributes=i},bind:function(e,s){return e===void 0&&(e=!1),s===void 0&&(s=!1),s&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var s=this.gl,o=this.renderer,i=this.vertexSize,h=this.attributes,u=this.program,d=0;d<h.length;d++){var f=h[d],c=f.size,g=f.type,m=f.offset,y=f.enabled,x=f.location,S=!!f.normalized;if(e){x!==-1&&o.deleteAttribLocation(x);var C=this.renderer.createAttribLocation(u,f.name);C.webGLAttribLocation>=0?(s.enableVertexAttribArray(C.webGLAttribLocation),s.vertexAttribPointer(C.webGLAttribLocation,c,g,S,i,m),f.enabled=!0,f.location=C):C.webGLAttribLocation!==-1&&s.disableVertexAttribArray(C.webGLAttribLocation)}else y?s.vertexAttribPointer(x.webGLAttribLocation,c,g,S,i,m):!y&&x!==-1&&x.webGLAttribLocation>-1&&(s.disableVertexAttribArray(x.webGLAttribLocation),f.location=-1)}return this},createUniforms:function(){var e=this.gl,s=this.program,o=this.uniforms,i,h,u,d=e.getProgramParameter(s.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<d;i++){var f=e.getActiveUniform(s.webGLProgram,i);if(f){h=f.name,u=this.renderer.createUniformLocation(s,h),u!==null&&(o[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var c=h.indexOf("[");c>0&&(h=h.substr(0,c),o.hasOwnProperty(h)||(u=this.renderer.createUniformLocation(s,h),u!==null&&(o[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var s in this.uniforms){var o=this.uniforms[s];o.setter&&o.setter.call(e,o.location.webGLUniformLocation,o.value1,o.value2,o.value3,o.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var s=this.uniforms[e];return s&&(s.value1=null,s.value2=null,s.value3=null,s.value4=null),this},setUniform1:function(e,s,o,i){var h=this.uniforms[s];return h?((i||h.value1!==o)&&(h.setter||(h.setter=e),h.value1=o,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,o),this.pipeline.currentShader=this),this):this},setUniform2:function(e,s,o,i,h){var u=this.uniforms[s];return u?((h||u.value1!==o||u.value2!==i)&&(u.setter||(u.setter=e),u.value1=o,u.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,o,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,s,o,i,h,u){var d=this.uniforms[s];return d?((u||d.value1!==o||d.value2!==i||d.value3!==h)&&(d.setter||(d.setter=e),d.value1=o,d.value2=i,d.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,o,i,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,s,o,i,h,u,d){var f=this.uniforms[s];return f?((d||f.value1!==o||f.value2!==i||f.value3!==h||f.value4!==u)&&(f.setter||(f.setter=e),f.value1=o,f.value2=i,f.value3=h,f.value4=u,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,o,i,h,u),this.pipeline.currentShader=this),this):this},setBoolean:function(e,s){return this.setUniform1(this.gl.uniform1i,e,Number(s))},set1f:function(e,s){return this.setUniform1(this.gl.uniform1f,e,s)},set2f:function(e,s,o){return this.setUniform2(this.gl.uniform2f,e,s,o)},set3f:function(e,s,o,i){return this.setUniform3(this.gl.uniform3f,e,s,o,i)},set4f:function(e,s,o,i,h){return this.setUniform4(this.gl.uniform4f,e,s,o,i,h)},set1fv:function(e,s){return this.setUniform1(this.gl.uniform1fv,e,s,!0)},set2fv:function(e,s){return this.setUniform1(this.gl.uniform2fv,e,s,!0)},set3fv:function(e,s){return this.setUniform1(this.gl.uniform3fv,e,s,!0)},set4fv:function(e,s){return this.setUniform1(this.gl.uniform4fv,e,s,!0)},set1iv:function(e,s){return this.setUniform1(this.gl.uniform1iv,e,s,!0)},set2iv:function(e,s){return this.setUniform1(this.gl.uniform2iv,e,s,!0)},set3iv:function(e,s){return this.setUniform1(this.gl.uniform3iv,e,s,!0)},set4iv:function(e,s){return this.setUniform1(this.gl.uniform4iv,e,s,!0)},set1i:function(e,s){return this.setUniform1(this.gl.uniform1i,e,s)},set2i:function(e,s,o){return this.setUniform2(this.gl.uniform2i,e,s,o)},set3i:function(e,s,o,i){return this.setUniform3(this.gl.uniform3i,e,s,o,i)},set4i:function(e,s,o,i,h){return this.setUniform4(this.gl.uniform4i,e,s,o,i,h)},setMatrix2fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix2fv,e,s,o,!0)},setMatrix3fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix3fv,e,s,o,!0)},setMatrix4fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix4fv,e,s,o,!0)},createProgram:function(e,s){return e===void 0&&(e=this.vertSrc),s===void 0&&(s=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=s,this.program=this.renderer.createProgram(e,s),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;p(this.uniforms,function(s){e.deleteUniformLocation(s.location)}),this.uniforms=null,p(this.attributes,function(s){e.deleteAttribLocation(s.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});v.exports=n},14500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};v.exports=T},4159:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14500),p=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=p(!1,a,l),v.exports=a},31302:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(78908),r=t(85191),n=t(14500),e=t(29100),s=new l({Extends:e,initialize:function(i){i.fragShader=p(i,"fragShader",a),i.vertShader=p(i,"vertShader",r),i.batchSize=p(i,"batchSize",1),i.vertices=p(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=p(i,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(o,i){e.prototype.resize.call(this,o,i),this.set2f("uResolution",o,i)},beginMask:function(o,i,h){this.renderer.beginBitmapMask(o,h)},endMask:function(o,i,h){var u=this.gl,d=this.renderer,f=o.bitmapMask;f&&u&&(d.drawBitmapMask(f,i,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",o.invertAlpha),u.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});v.exports=s},92651:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(58918),a=t(14811),r=t(95540),n=t(43558),e=t(89350),s=t(70554),o=new l({Extends:n,initialize:function(h){h.shaders=[s.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,h);var u=this.game;this.glow=new p.Glow(u),this.shadow=new p.Shadow(u),this.pixelate=new p.Pixelate(u),this.vignette=new p.Vignette(u),this.shine=new p.Shine(u),this.gradient=new p.Gradient(u),this.circle=new p.Circle(u),this.barrel=new p.Barrel(u),this.wipe=new p.Wipe(u),this.bokeh=new p.Bokeh(u);var d=[];d[a.GLOW]=this.onGlow,d[a.SHADOW]=this.onShadow,d[a.PIXELATE]=this.onPixelate,d[a.VIGNETTE]=this.onVignette,d[a.SHINE]=this.onShine,d[a.BLUR]=this.onBlur,d[a.GRADIENT]=this.onGradient,d[a.BLOOM]=this.onBloom,d[a.COLOR_MATRIX]=this.onColorMatrix,d[a.CIRCLE]=this.onCircle,d[a.BARREL]=this.onBarrel,d[a.DISPLACEMENT]=this.onDisplacement,d[a.WIPE]=this.onWipe,d[a.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(i,h,u){this.source=i,this.target=h,this.swap=u;var d=i.width,f=i.height,c=this.tempSprite,g=this.fxHandlers;if(c&&c.preFX)for(var m=c.preFX.list,y=0;y<m.length;y++){var x=m[y];x.active&&g[x.type].call(this,x,d,f)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,h=this.target;this.copy(i,h),this.source=h,this.target=i},onGlow:function(i,h,u){var d=this.shaders[a.GLOW];this.setShader(d),this.glow.onPreRender(i,d,h,u),this.runDraw()},onShadow:function(i){var h=this.shaders[a.SHADOW];this.setShader(h),this.shadow.onPreRender(i,h),this.runDraw()},onPixelate:function(i,h,u){var d=this.shaders[a.PIXELATE];this.setShader(d),this.pixelate.onPreRender(i,d,h,u),this.runDraw()},onVignette:function(i){var h=this.shaders[a.VIGNETTE];this.setShader(h),this.vignette.onPreRender(i,h),this.runDraw()},onShine:function(i,h,u){var d=this.shaders[a.SHINE];this.setShader(d),this.shine.onPreRender(i,d,h,u),this.runDraw()},onBlur:function(i,h,u){var d=r(i,"quality"),f=this.shaders[a.BLUR+d];this.setShader(f),this.set1i("uMainSampler",0),this.set2f("resolution",h,u),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var c=r(i,"x"),g=r(i,"y"),m=r(i,"steps"),y=0;y<m;y++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(i){var h=this.shaders[a.GRADIENT];this.setShader(h),this.gradient.onPreRender(i,h),this.runDraw()},onBloom:function(i,h,u){var d=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var f=2/h*r(i,"offsetX"),c=2/u*r(i,"offsetY"),g=r(i,"steps"),m=0;m<g;m++)this.set2f("offset",f,0),this.runDraw(),this.set2f("offset",0,c),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,h,u){var d=this.shaders[a.CIRCLE];this.setShader(d),this.circle.onPreRender(i,d,h,u),this.runDraw()},onBarrel:function(i){var h=this.shaders[a.BARREL];this.setShader(h),this.barrel.onPreRender(i,h),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var h=this.shaders[a.WIPE];this.setShader(h),this.wipe.onPreRender(i,h),this.runDraw()},onBokeh:function(i,h,u){var d=this.shaders[a.BOKEH];this.setShader(d),this.bokeh.onPreRender(i,d,h,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});v.exports=o},96569:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(31063),r=t(57516),n=t(61340),e=t(26099),s=t(29100),o=new l({Extends:r,initialize:function(h){var u=p(h,"fragShader",a);h.fragShader=u.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),r.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){s.prototype.boot.call(this)},onRender:function(i,h){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var d=u.getLights(h),f=d.length;this.lightsActive=!0;var c,g=this.renderer,m=g.height,y=h.matrix,x=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",f),c=0;c<f;c++){var S=d[c].light,C=S.color,A="uLights["+c+"].";y.transformPoint(S.x,S.y,x),this.set2f(A+"position",x.x-h.scrollX*S.scrollFactorX*h.zoom,m-(x.y-h.scrollY*S.scrollFactorY*h.zoom)),this.set3f(A+"color",C.r,C.g,C.b),this.set1f(A+"intensity",S.intensity),this.set1f(A+"radius",S.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(i){var u=-i,d=Math.cos(u),f=Math.sin(u);h[1]=f,h[3]=-f,h[0]=h[4]=d}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=i}},setTexture2D:function(i,h){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var d=this.getNormalMap(h);this.isNewNormalMap(i,d)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(d),this.currentNormalMap=d);var f=0;if(h&&h.parentContainer){var c=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);f=c.rotationNormalized}else h&&(f=h.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(d)),this.setNormalMapRotation(f),0},setGameObject:function(i,h){h===void 0&&(h=i.frame);var u=h.glTexture,d=this.getNormalMap(i);if(this.isNewNormalMap(u,d)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(d),this.currentNormalMap=d),i.parentContainer){var f=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(f.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(d)),0},isNewNormalMap:function(i,h){return this.currentTexture!==i||this.currentNormalMap!==h},getNormalMap:function(i){var h;if(i)i.displayTexture?h=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?h=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?h=i.tileset[0].image.dataSource[0]:h=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(i,h,u){this.lightsActive&&r.prototype.batchSprite.call(this,i,h,u)},batchTexture:function(i,h,u,d,f,c,g,m,y,x,S,C,A,F,M,w,R,O,U,X,W,Y,N,V,I,B,G,H,$,Z,Q,j){this.lightsActive&&r.prototype.batchTexture.call(this,i,h,u,d,f,c,g,m,y,x,S,C,A,F,M,w,R,O,U,X,W,Y,N,V,I,B,G,H,$,Z,Q,j)},batchTextureFrame:function(i,h,u,d,f,c,g){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,h,u,d,f,c,g)}});v.exports=o},56527:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(14500),s=t(29100),o=new l({Extends:a,initialize:function(h){h.fragShader=p(h,"fragShader",r),h.vertShader=p(h,"vertShader",n),h.attributes=p(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",a.call(this,h)},boot:function(){s.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});v.exports=o},57516:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(94811),a=t(95540),r=t(98840),n=t(44667),e=t(61340),s=t(70554),o=t(14500),i=t(29100),h=new l({Extends:i,initialize:function(d){var f=d.game.renderer,c=a(d,"fragShader",r);d.fragShader=s.parseFragmentShaderMaxTextures(c,f.maxTextures),d.vertShader=a(d,"vertShader",n),d.attributes=a(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",i.call(this,d),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height)},batchSprite:function(u,d,f){this.manager.set(this,u);var c=this._tempMatrix1,g=this._tempMatrix2,m=this._tempMatrix3,y=u.frame,x=y.glTexture,S=y.u0,C=y.v0,A=y.u1,F=y.v1,M=y.x,w=y.y,R=y.cutWidth,O=y.cutHeight,U=y.customPivot,X=u.displayOriginX,W=u.displayOriginY,Y=-X+M,N=-W+w;if(u.isCropped){var V=u._crop;(V.flipX!==u.flipX||V.flipY!==u.flipY)&&y.updateCropUVs(V,u.flipX,u.flipY),S=V.u0,C=V.v0,A=V.u1,F=V.v1,R=V.width,O=V.height,M=V.x,w=V.y,Y=-X+M,N=-W+w}var I=1,B=1;u.flipX&&(U||(Y+=-y.realWidth+X*2),I=-1),u.flipY&&(U||(N+=-y.realHeight+W*2),B=-1);var G=u.x,H=u.y;d.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),g.applyITRS(G,H,u.rotation,u.scaleX*I,u.scaleY*B),c.copyFrom(d.matrix),f?(c.multiplyWithOffset(f,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),g.e=G,g.f=H):(g.e-=d.scrollX*u.scrollFactorX,g.f-=d.scrollY*u.scrollFactorY),c.multiply(g,m);var $=m.setQuad(Y,N,Y+R,N+O,d.renderRoundPixels),Z=s.getTintAppendFloatAlpha,Q=d.alpha,j=Z(u.tintTopLeft,Q*u._alphaTL),_=Z(u.tintTopRight,Q*u._alphaTR),tt=Z(u.tintBottomLeft,Q*u._alphaBL),et=Z(u.tintBottomRight,Q*u._alphaBR);this.shouldFlush(6)&&this.flush();var rt=this.setGameObject(u,y);this.manager.preBatch(u),this.batchQuad(u,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],S,C,A,F,j,_,tt,et,u.tintFill,x,rt),this.manager.postBatch(u)},batchTexture:function(u,d,f,c,g,m,y,x,S,C,A,F,M,w,R,O,U,X,W,Y,N,V,I,B,G,H,$,Z,Q,j,_,tt,et){et===void 0&&(et=!1),this.manager.set(this,u);var rt=this._tempMatrix1,at=this._tempMatrix2,st=this._tempMatrix3,ct=X/f+$,vt=W/c+Z,pt=(X+Y)/f+$,nt=(W+N)/c+Z,ht=y,lt=x,xt=-O,Et=-U;if(u.isCropped){var Bt=u._crop,Tt=Bt.width,St=Bt.height;ht=Tt,lt=St,y=Tt,x=St,X=Bt.x,W=Bt.y;var It=X,Ht=W;F&&(It=Y-Bt.x-Tt),M&&(Ht=N-Bt.y-St),ct=It/f+$,vt=Ht/c+Z,pt=(It+Tt)/f+$,nt=(Ht+St)/c+Z,xt=-O+X,Et=-U+W}M=M^(!_&&d.isRenderTexture?1:0),F&&(ht*=-1,xt+=y),M&&(lt*=-1,Et+=x),Q.roundPixels&&(g=Math.floor(g),m=Math.floor(m)),at.applyITRS(g,m,A,S,C),rt.copyFrom(Q.matrix),j?(rt.multiplyWithOffset(j,-Q.scrollX*w,-Q.scrollY*R),at.e=g,at.f=m):(at.e-=Q.scrollX*w,at.f-=Q.scrollY*R),rt.multiply(at,st);var Lt=st.setQuad(xt,Et,xt+ht,Et+lt,Q.renderRoundPixels);tt==null&&(tt=this.setTexture2D(d)),u&&!et&&this.manager.preBatch(u),this.batchQuad(u,Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5],Lt[6],Lt[7],ct,vt,pt,nt,V,I,B,G,H,d,tt),u&&!et&&this.manager.postBatch(u)},batchTextureFrame:function(u,d,f,c,g,m,y){this.manager.set(this);var x=this._tempMatrix1.copyFrom(m),S=this._tempMatrix2;y?x.multiply(y,S):S=x;var C=S.setQuad(d,f,d+u.width,f+u.height),A=this.setTexture2D(u.source.glTexture);c=s.getTintAppendFloatAlpha(c,g),this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],u.u0,u.v0,u.u1,u.v1,c,c,c,c,0,u.glTexture,A)},batchFillRect:function(u,d,f,c,g,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(g,y);var x=y.setQuad(u,d,u+f,d+c),S=this.fillTint;this.batchQuad(null,x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7],0,0,1,1,S.TL,S.TR,S.BL,S.BR,2)},batchFillTriangle:function(u,d,f,c,g,m,y,x){this.renderer.pipelines.set(this);var S=this.calcMatrix;x&&x.multiply(y,S);var C=S.getX(u,d),A=S.getY(u,d),F=S.getX(f,c),M=S.getY(f,c),w=S.getX(g,m),R=S.getY(g,m),O=this.fillTint;this.batchTri(null,C,A,F,M,w,R,0,0,1,1,O.TL,O.TR,O.BL,2)},batchStrokeTriangle:function(u,d,f,c,g,m,y,x,S){var C=this.tempTriangle;C[0].x=u,C[0].y=d,C[0].width=y,C[1].x=f,C[1].y=c,C[1].width=y,C[2].x=g,C[2].y=m,C[2].width=y,C[3].x=u,C[3].y=d,C[3].width=y,this.batchStrokePath(C,y,!1,x,S)},batchFillPath:function(u,d,f){this.renderer.pipelines.set(this);var c=this.calcMatrix;f&&f.multiply(d,c);for(var g=u.length,m=this.polygonCache,y,x,S=this.fillTint.TL,C=this.fillTint.TR,A=this.fillTint.BL,F=0;F<g;++F)x=u[F],m.push(x.x,x.y);y=p(m),g=y.length;for(var M=0;M<g;M+=3){var w=y[M+0]*2,R=y[M+1]*2,O=y[M+2]*2,U=m[w+0],X=m[w+1],W=m[R+0],Y=m[R+1],N=m[O+0],V=m[O+1],I=c.getX(U,X),B=c.getY(U,X),G=c.getX(W,Y),H=c.getY(W,Y),$=c.getX(N,V),Z=c.getY(N,V);this.batchTri(null,I,B,G,H,$,Z,0,0,1,1,S,C,A,2)}m.length=0},batchStrokePath:function(u,d,f,c,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var m=u.length-1,y=0;y<m;y++){var x=u[y],S=u[y+1];this.batchLine(x.x,x.y,S.x,S.y,x.width/2,S.width/2,d,y,!f&&y===m-1,c,g)}},batchLine:function(u,d,f,c,g,m,y,x,S,C,A){this.renderer.pipelines.set(this);var F=this.calcMatrix;A&&A.multiply(C,F);var M=f-u,w=c-d,R=Math.sqrt(M*M+w*w);if(R!==0){var O=g*(c-d)/R,U=g*(u-f)/R,X=m*(c-d)/R,W=m*(u-f)/R,Y=f-X,N=c-W,V=u-O,I=d-U,B=f+X,G=c+W,H=u+O,$=d+U,Z=F.getX(Y,N),Q=F.getY(Y,N),j=F.getX(V,I),_=F.getY(V,I),tt=F.getX(B,G),et=F.getY(B,G),rt=F.getX(H,$),at=F.getY(H,$),st=this.strokeTint,ct=st.TL,vt=st.TR,pt=st.BL,nt=st.BR;if(this.batchQuad(null,rt,at,j,_,Z,Q,tt,et,0,0,1,1,ct,vt,pt,nt,2),!(y<=2)){var ht=this.prevQuad,lt=this.firstQuad;x>0&&ht[4]?this.batchQuad(null,rt,at,j,_,ht[0],ht[1],ht[2],ht[3],0,0,1,1,ct,vt,pt,nt,2):(lt[0]=rt,lt[1]=at,lt[2]=j,lt[3]=_,lt[4]=1),S&&lt[4]?this.batchQuad(null,Z,Q,tt,et,lt[0],lt[1],lt[2],lt[3],0,0,1,1,ct,vt,pt,nt,2):(ht[0]=Z,ht[1]=Q,ht[2]=tt,ht[3]=et,ht[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});v.exports=h},43439:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(4127),r=t(89924),n=t(29100),e=new l({Extends:n,initialize:function(o){o.vertShader=p(o,"vertShader",r),o.fragShader=p(o,"fragShader",a),o.attributes=p(o,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,o)},onRender:function(s,o){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",o.zoom)},batchPointLight:function(s,o,i,h,u,d,f,c,g,m,y,x){var S=s.color,C=s.intensity,A=s.radius,F=s.attenuation,M=S.r*C,w=S.g*C,R=S.b*C,O=o.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,h,y,x,A,F,M,w,R,O),this.batchLightVert(u,d,y,x,A,F,M,w,R,O),this.batchLightVert(f,c,y,x,A,F,M,w,R,O),this.batchLightVert(i,h,y,x,A,F,M,w,R,O),this.batchLightVert(f,c,y,x,A,F,M,w,R,O),this.batchLightVert(g,m,y,x,A,F,M,w,R,O),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,o,i,h,u,d,f,c,g,m){var y=this.vertexViewF32,x=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++x]=s,y[++x]=o,y[++x]=i,y[++x]=h,y[++x]=u,y[++x]=d,y[++x]=f,y[++x]=c,y[++x]=g,y[++x]=m,this.vertexCount++}});v.exports=e},84057:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(89422),a=t(95540),r=t(27681),n=t(49627),e=t(29100),s=new l({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",n),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var o=this.manager.UTILITY_PIPELINE;this.fullFrame1=o.fullFrame1,this.fullFrame2=o.fullFrame2,this.halfFrame1=o.halfFrame1,this.halfFrame2=o.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var h=this.renderTargets,u=0;u<h.length;u++)h[u].autoResize=!0},postBatch:function(o){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(o),this},onDraw:function(o){this.bindAndDraw(o)},getController:function(o){return o!==void 0?o:this.controller?this.controller:this},copySprite:function(o,i,h){h===void 0&&(h=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,o.texture.webGLTexture);var d=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),h&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,d))},copyFrame:function(o,i,h,u,d){this.manager.copyFrame(o,i,h,u,d)},copyToGame:function(o){this.manager.copyToGame(o)},drawFrame:function(o,i,h){this.manager.drawFrame(o,i,h,this.colorMatrix)},blendFrames:function(o,i,h,u,d){this.manager.blendFrames(o,i,h,u,d)},blendFramesAdditive:function(o,i,h,u,d){this.manager.blendFramesAdditive(o,i,h,u,d)},clearFrame:function(o,i){this.manager.clearFrame(o,i)},blitFrame:function(o,i,h,u,d,f){this.manager.blitFrame(o,i,h,u,d,f)},copyFrameRect:function(o,i,h,u,d,f,c,g){this.manager.copyFrameRect(o,i,h,u,d,f,c,g)},bindAndDraw:function(o,i,h,u,d){h===void 0&&(h=!0),u===void 0&&(u=!0);var f=this.gl,c=this.renderer;this.bind(d),this.set1i("uMainSampler",0),i?(f.viewport(0,0,i.width,i.height),f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),h&&(u?f.clearColor(0,0,0,0):f.clearColor(0,0,0,1),f.clear(f.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1),c.currentFramebuffer||f.viewport(0,0,c.width,c.height)),c.restoreStencilMask(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,o.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),i&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});v.exports=s},43558:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),p=t(67502),a=t(83419),r=t(96293),n=t(95540),e=t(57516),s=t(27681),o=t(87841),i=t(32302),h=t(45561),u=t(60722),d=t(29100),f=new a({Extends:e,initialize:function(g){var m=n(g,"fragShader",s),y=n(g,"vertShader",u),x=n(g,"drawShader",s),S=[{name:"DrawSprite",fragShader:h,vertShader:u},{name:"CopySprite",fragShader:m,vertShader:y},{name:"DrawGame",fragShader:x,vertShader:u},{name:"ColorMatrix",fragShader:r}],C=n(g,"shaders",[]);g.shaders=S.concat(C),g.vertShader||(g.vertShader=y),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new o,this.targetBounds=new o,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var c=this.shaders,g=this.renderer;this.drawSpriteShader=c[0],this.copyShader=c[1],this.gameShader=c[2],this.colorMatrixShader=c[3],this.fsTarget=new i(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var m=new ArrayBuffer(168);this.quadVertexData=m,this.quadVertexViewF32=new Float32Array(m),this.quadVertexBuffer=g.createVertexBuffer(m,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader,this.set2f("uResolution",g.width,g.height)},onResize:function(c,g){var m=this.quadVertexViewF32;m[1]=g,m[22]=g,m[14]=c,m[28]=c,m[35]=c,m[36]=g},batchQuad:function(c,g,m,y,x,S,C,A,F,M,w,R,O,U,X,W,Y,N,V){var I=Math.min(g,y,S,A),B=Math.min(m,x,C,F),G=Math.max(g,y,S,A),H=Math.max(m,x,C,F),$=G-I,Z=H-B,Q=this.spriteBounds.setTo(I,B,$,Z),j=c?c.preFX.padding:0,_=$+j*2,tt=Z+j*2,et=Math.abs(Math.max(_,tt)),rt=this.manager.getRenderTarget(et),at=this.targetBounds.setTo(0,0,rt.width,rt.height);p(at,Math.round(Q.centerX),Math.round(Q.centerY)),this.tempSprite=c;var st=this.gl,ct=this.renderer;ct.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ct.width,ct.height),this.flipProjectionMatrix(!0),c&&(this.onDrawSprite(c,rt),c.preFX.onFX(this));var vt=this.fsTarget;return this.flush(),st.viewport(0,0,ct.width,ct.height),st.bindFramebuffer(st.FRAMEBUFFER,vt.framebuffer.webGLFramebuffer),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,vt.texture.webGLTexture,0),st.clearColor(0,0,0,0),st.clear(st.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(g,m,M,w,0,N,U),this.batchVert(y,x,M,O,0,N,W),this.batchVert(S,C,R,O,0,N,Y),this.batchVert(g,m,M,w,0,N,U),this.batchVert(S,C,R,O,0,N,Y),this.batchVert(A,F,R,w,0,N,X),this.flush(),this.flipProjectionMatrix(!1),st.activeTexture(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,rt.texture.webGLTexture),st.copyTexSubImage2D(st.TEXTURE_2D,0,0,0,at.x,at.y,at.width,at.height),st.bindFramebuffer(st.FRAMEBUFFER,null),st.bindTexture(st.TEXTURE_2D,null),this.onBatch(c),this.currentShader=this.copyShader,this.onDraw(rt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(c,g,m,y,x,S,C){m===void 0&&(m=!0),y===void 0&&(y=!0),x===void 0&&(x=!1),C===void 0&&(C=this.copyShader);var A=this.gl,F=this.tempSprite;S&&(C=this.colorMatrixShader),this.currentShader=C;var M=this.setVertexBuffer(this.quadVertexBuffer);C.bind(M,!1);var w=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",w.width,w.height),F.preFX.onFXCopy(this),this.onCopySprite(c,g,F),S&&(this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,c.texture.webGLTexture),c.height>g.height)A.viewport(0,0,c.width,c.height),this.setTargetUVs(c,g);else{var R=g.height-c.height;A.viewport(0,R,c.width,c.height),this.resetUVs()}if(A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),m&&(A.clearColor(0,0,0,+!y),A.clear(A.COLOR_BUFFER_BIT)),x){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(l.ERASE)}A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),x&&this.renderer.setBlendMode(O),A.bindFramebuffer(A.FRAMEBUFFER,null)},copy:function(c,g){var m=this.gl;this.set1i("uMainSampler",0),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,c.texture.webGLTexture),m.viewport(0,0,c.width,c.height),this.setUVs(0,0,0,1,1,1,1,0),m.bindFramebuffer(m.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,g.texture.webGLTexture,0),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.quadVertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null)},blendFrames:function(c,g,m,y,x){this.manager.blendFrames(c,g,m,y,x)},blendFramesAdditive:function(c,g,m,y,x){this.manager.blendFramesAdditive(c,g,m,y,x)},drawToGame:function(c){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(c)},copyToGame:function(c){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(c)},bindAndDraw:function(c){var g=this.gl,m=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(c.texture);var y=this._tempMatrix1.loadIdentity(),x=this.targetBounds.x,S=this.targetBounds.y,C=x+c.width,A=S+c.height,F=y.getX(x,S),M=y.getX(x,A),w=y.getX(C,A),R=y.getX(C,S),O=y.getY(x,S),U=y.getY(x,A),X=y.getY(C,A),W=y.getY(C,S),Y=16777215;this.batchVert(F,O,0,0,0,0,Y),this.batchVert(M,U,0,1,0,0,Y),this.batchVert(w,X,1,1,0,0,Y),this.batchVert(F,O,0,0,0,0,Y),this.batchVert(w,X,1,1,0,0,Y),this.batchVert(R,W,1,0,0,0,Y),m.restoreFramebuffer(!1,!0),m.currentFramebuffer||g.viewport(0,0,m.width,m.height),m.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(c){this.drawToGame(c)},setUVs:function(c,g,m,y,x,S,C,A){var F=this.quadVertexViewF32;F[2]=c,F[3]=g,F[9]=m,F[10]=y,F[16]=x,F[17]=S,F[23]=c,F[24]=g,F[30]=x,F[31]=S,F[37]=C,F[38]=A},setTargetUVs:function(c,g){var m=g.height/c.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});v.exports=f},81041:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(57516),r=new l({Extends:a,initialize:function(e){e.topology=5,e.batchSize=p(e,"batchSize",256),a.call(this,e)}});v.exports=r},12385:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(29100),s=new l({Extends:a,initialize:function(i){i.fragShader=p(i,"fragShader",r),i.vertShader=p(i,"vertShader",n),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var o=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",o.width,o.height)}});v.exports=s},7589:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35407),p=t(10312),a=t(83419),r=t(89422),n=t(96293),e=t(36682),s=t(95540),o=t(48247),i=t(49627),h=t(29100),u=new a({Extends:h,initialize:function(f){f.renderTarget=s(f,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),f.vertShader=s(f,"vertShader",i),f.shaders=s(f,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:o},{name:"ColorMatrix",fragShader:n}]),f.attributes=s(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],f.batchSize=1,h.call(this,f),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var d=this.shaders,f=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=f[0],this.fullFrame2=f[1],this.halfFrame1=f[2],this.halfFrame2=f[3]},copyFrame:function(d,f,c,g,m){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0);var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,d.texture.webGLTexture),f?(y.viewport(0,0,f.width,f.height),y.bindFramebuffer(y.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f.texture.webGLTexture,0)):y.viewport(0,0,d.width,d.height),g&&(m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blitFrame:function(d,f,c,g,m,y,x){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0),y===void 0&&(y=!1),x===void 0&&(x=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,d.texture.webGLTexture),d.height>f.height)S.viewport(0,0,d.width,d.height),this.setTargetUVs(d,f);else{var C=f.height-d.height;S.viewport(0,C,d.width,d.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,f.texture.webGLTexture,0),g&&(m?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),y){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}x&&this.flipY(),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),y&&this.renderer.setBlendMode(A),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,f,c,g,m,y,x,S){x===void 0&&(x=!0),S===void 0&&(S=!0);var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,d.texture.webGLTexture,0),x&&(S?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,f.texture.webGLTexture),C.copyTexSubImage2D(C.TEXTURE_2D,0,0,0,c,g,m,y),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},copyToGame:function(d){var f=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,d.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6)},drawFrame:function(d,f,c,g){c===void 0&&(c=!0),g===void 0&&(g=this.colorMatrix);var m=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,d.texture.webGLTexture),f?(m.viewport(0,0,f.width,f.height),m.bindFramebuffer(m.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,f.texture.webGLTexture,0)):m.viewport(0,0,d.width,d.height),c?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blendFrames:function(d,f,c,g,m,y){g===void 0&&(g=1),m===void 0&&(m=!0),y===void 0&&(y=this.linearShader);var x=this.gl;this.setShader(y),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,d.texture.webGLTexture),x.activeTexture(x.TEXTURE1),x.bindTexture(x.TEXTURE_2D,f.texture.webGLTexture),c?(x.bindFramebuffer(x.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,c.texture.webGLTexture,0),x.viewport(0,0,c.width,c.height)):x.viewport(0,0,d.width,d.height),m?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFramesAdditive:function(d,f,c,g,m){this.blendFrames(d,f,c,g,m,this.addShader)},clearFrame:function(d,f){f===void 0&&(f=!0);var c=this.gl;c.viewport(0,0,d.width,d.height),c.bindFramebuffer(c.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),f?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,g.webGLFramebuffer)},setUVs:function(d,f,c,g,m,y,x,S){var C=this.vertexViewF32;C[2]=d,C[3]=f,C[6]=c,C[7]=g,C[10]=m,C[11]=y,C[14]=d,C[15]=f,C[18]=m,C[19]=y,C[22]=x,C[23]=S},setTargetUVs:function(d,f){var c=f.height/d.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});v.exports=u},36060:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};v.exports=T},84817:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineafterflush"},36712:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebeforeflush"},40285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebind"},65918:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineboot"},92852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinedestroy"},56072:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinerebind"},57566:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineresize"},77085:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(99155),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});v.exports=r},67329:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(24400),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1,o=this.fullFrame2;this.copyFrame(n,o);for(var i=2/n.width*e.offsetX,h=2/n.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(n,s),this.set2f("offset",0,h),this.copySprite(s,n);this.blendFrames(o,n,s,e.strength),this.copyToGame(s)}});v.exports=r},8861:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(41514),a=t(51078),r=t(94328),n=t(84057),e=new l({Extends:n,initialize:function(o){n.call(this,{game:o,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var o=this.getController(),i=this.gl,h=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[o.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",o.strength),this.set3fv("color",o.glcolor);for(var d=0;d<o.steps;d++)this.set2f("offset",o.x,0),this.copySprite(s,h),this.set2f("offset",0,o.y),this.copySprite(h,s);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});v.exports=e},51051:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(90610),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},89428:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(91899),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},88904:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(84057),a=new l({Extends:p,initialize:function(n){p.call(this,{game:n})},onDraw:function(r){var n=this.fullFrame1;this.controller?this.manager.drawFrame(r,n,!0,this.controller):this.drawFrame(r,n),this.copyToGame(n)}});v.exports=a},63563:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(47838),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,s),this.copyToGame(s)}});v.exports=r},94045:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=t(98656),r=t(84057),n=t(70554),e=new l({Extends:r,initialize:function(o,i){var h=p(i,"quality",.1),u=p(i,"distance",10);r.call(this,{game:o,fragShader:n.setGlowQuality(a,o,h,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,o,i,h){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,o),this.set1f("innerStrength",s.innerStrength,o),this.set4fv("glowColor",s.glcolor,o),this.setBoolean("knockout",s.knockout,o),i&&h&&this.set2f("resolution",i,h,o)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=e},74088:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(70463),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});v.exports=r},99636:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50831),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.amount=1},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("amount",n.amount,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},34700:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(92595),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var s=n.samples;this.set1i("samples",s,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/s,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});v.exports=r},91157:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(72464),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,s,o){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},27797:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(39249),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});v.exports=r},67603:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(2878),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var s=n.progress,o=n.wipeWidth,i=n.direction,h=n.axis;this.set4f("config",s,o,i,h,e),this.setBoolean("reveal",n.reveal,e)}});v.exports=r},58918:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};v.exports=l},96615:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36060),p=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=p(!1,a,l),v.exports=a},35407:v=>{v.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:v=>{v.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:v=>{v.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:v=>{v.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:v=>{v.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:v=>{v.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:v=>{v.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:v=>{v.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:v=>{v.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:v=>{v.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:v=>{v.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:v=>{v.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:v=>{v.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:v=>{v.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:v=>{v.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:v=>{v.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:v=>{v.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:v=>{v.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:v=>{v.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:v=>{v.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:v=>{v.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:v=>{v.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(v,T,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(v,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e){this.webGLAttribLocation=-1,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});v.exports=p},26128:(v,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e,s){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=n,this.bufferType=e,this.bufferUsage=s,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var r=this.bufferType,n=a.createBuffer();this.webGLBuffer=n,a.bindBuffer(r,this.webGLBuffer),a.bufferData(r,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(r,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});v.exports=p},84387:(v,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new l({initialize:function(n,e,s,o,i){this.webGLFramebuffer=null,this.gl=n,this.width=e,this.height=s,this.renderTexture=o,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var n=this.renderTexture,e=0,s=r.createFramebuffer();if(this.webGLFramebuffer=s,r.bindFramebuffer(r.FRAMEBUFFER,s),n.isRenderTexture=!0,n.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n.webGLTexture,0),e=r.checkFramebufferStatus(r.FRAMEBUFFER),e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[e]||e));if(this.addDepthStencilBuffer){var o=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,o),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var n=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(n));var e=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&r.deleteRenderbuffer(e),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});v.exports=a},1482:(v,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e){this.webGLProgram=null,this.gl=r,this.vertexSource=n,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=a.createProgram(),n=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(n,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(n),a.compileShader(e);var s=`Shader failed:
`;if(!a.getShaderParameter(n,a.COMPILE_STATUS))throw new Error("Vertex "+s+a.getShaderInfoLog(n));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+s+a.getShaderInfoLog(e));if(a.attachShader(r,n),a.attachShader(r,e),a.linkProgram(r),!a.getProgramParameter(r,a.LINK_STATUS))throw new Error("Link "+s+a.getProgramInfoLog(r));a.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});v.exports=p},82751:(v,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50030),a=new l({initialize:function(n,e,s,o,i,h,u,d,f,c,g,m,y){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=n,this.mipLevel=e,this.minFilter=s,this.magFilter=o,this.wrapT=i,this.wrapS=h,this.format=u,this.pixels=d,this.width=f,this.height=c,this.pma=g??!0,this.forceSize=!!m,this.flipY=!!y,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var n=r.createTexture();n.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=n,this._processTexture()}},update:function(r,n,e,s,o,i,h,u,d){if(!(n===0||e===0)){this.pixels=r,this.width=n,this.height=e,this.flipY=s,this.wrapS=o,this.wrapT=i,this.minFilter=h,this.magFilter=u,this.format=d;var f=this.gl;f.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var n=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,s=this.mipLevel,o=this.width,i=this.height,h=this.format,u=!1;if(e==null)r.texImage2D(r.TEXTURE_2D,s,h,o,i,0,h,r.UNSIGNED_BYTE,null),u=p(o,i);else if(e.compressed){o=e.width,i=e.height,u=e.generateMipmap;for(var d=0;d<e.mipmaps.length;d++)r.compressedTexImage2D(r.TEXTURE_2D,d,e.internalFormat,e.mipmaps[d].width,e.mipmaps[d].height,0,e.mipmaps[d].data)}else e instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,s,h,o,i,0,h,r.UNSIGNED_BYTE,e),u=p(o,i)):(this.forceSize||(o=e.width,i=e.height),r.texImage2D(r.TEXTURE_2D,s,h,h,r.UNSIGNED_BYTE,e),u=p(o,i));u&&r.generateMipmap(r.TEXTURE_2D),n?r.bindTexture(r.TEXTURE_2D,n):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});v.exports=a},57183:(v,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e){this.webGLUniformLocation=null,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});v.exports=p},9503:(v,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};v.exports=l},76531:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13560),p=t(83419),a=t(50792),r=t(97480),n=t(8443),e=t(57811),s=t(74403),o=t(45818),i=t(29747),h=t(87841),u=t(86555),d=t(56583),f=t(26099),c=t(38058),g=new p({Extends:a,initialize:function(y){a.call(this),this.game=y,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new f(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var m=this.game;this.canvas=m.canvas,this.fullscreen=m.device.fullscreen;var y=this.scaleMode;y!==l.SCALE_MODE.RESIZE&&y!==l.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(y),y===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),m.events.on(n.PRE_STEP,this.step,this),m.events.once(n.READY,this.refresh,this),m.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(m){this.getParent(m),this.getParentBounds();var y=m.width,x=m.height,S=m.scaleMode,C=m.zoom,A=m.autoRound;if(typeof y=="string")if(y.substr(-1)!=="%")y=parseInt(y,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var M=parseInt(y,10)/100;y=Math.floor(F*M)}if(typeof x=="string")if(x.substr(-1)!=="%")x=parseInt(x,10);else{var w=this.parentSize.height;w===0&&(w=window.innerHeight);var R=parseInt(x,10)/100;x=Math.floor(w*R)}this.scaleMode=S,this.autoRound=A,this.autoCenter=m.autoCenter,this.resizeInterval=m.resizeInterval,A&&(y=Math.floor(y),x=Math.floor(x)),this.gameSize.setSize(y,x),C===l.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,x),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),m.minWidth>0&&this.displaySize.setMin(m.minWidth*C,m.minHeight*C),m.maxWidth>0&&this.displaySize.setMax(m.maxWidth*C,m.maxHeight*C),this.displaySize.setSize(y,x),(m.snapWidth>0||m.snapHeight>0)&&this.displaySize.setSnap(m.snapWidth,m.snapHeight),this.orientation=o(y,x)},getParent:function(m){var y=m.parent;if(y!==null){if(this.parent=s(y),this.parentIsWindow=this.parent===document.body,m.expandParent&&m.scaleMode!==l.SCALE_MODE.NONE){var x=this.parent.getBoundingClientRect();(this.parentIsWindow||x.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",x=this.parent.getBoundingClientRect(),!this.parentIsWindow&&x.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}m.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(m.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var m=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=e(!0));var x=y.width,S=y.height;if(m.width!==x||m.height!==S)return m.setSize(x,S),!0;if(this.canvas){var C=this.canvasBounds,A=this.canvas.getBoundingClientRect();if(A.x!==C.x||A.y!==C.y)return!0}return!1},lockOrientation:function(m){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,m):!1},setParentSize:function(m,y){return this.parentSize.setSize(m,y),this.refresh()},setGameSize:function(m,y){var x=this.autoRound;x&&(m=Math.floor(m),y=Math.floor(y));var S=this.width,C=this.height;return this.gameSize.resize(m,y),this.baseSize.resize(m,y),x&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(m/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,C)},resize:function(m,y){var x=this.zoom,S=this.autoRound;S&&(m=Math.floor(m),y=Math.floor(y));var C=this.width,A=this.height;this.gameSize.resize(m,y),this.baseSize.resize(m,y),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(m*x,y*x),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,M=m*x,w=y*x;return S&&(M=Math.floor(M),w=Math.floor(w)),(M!==m||w!==y)&&(F.width=M+"px",F.height=w+"px"),this.refresh(C,A)},setZoom:function(m){return this.zoom=m,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(m,y){return m===void 0&&(m=0),y===void 0&&(y=m),this.displaySize.setSnap(m,y),this.refresh()},refresh:function(m,y){m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var x=this.game.domContainer;if(x){this.baseSize.setCSS(x);var S=this.canvas.style,C=x.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=S.marginLeft,C.marginTop=S.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,m,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var m=o(this.width,this.height);m!==this.orientation&&(this.orientation=m,this.emit(r.ORIENTATION_CHANGE,m))}},updateScale:function(){var m=this.canvas.style,y=this.gameSize.width,x=this.gameSize.height,S,C,A=this.zoom,F=this.autoRound;if(this.scaleMode===l.SCALE_MODE.NONE)this.displaySize.setSize(y*A,x*A),S=this.displaySize.width,C=this.displaySize.height,F&&(S=Math.floor(S),C=Math.floor(C)),this._resetZoom&&(m.width=S+"px",m.height=C+"px",this._resetZoom=!1);else if(this.scaleMode===l.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,C=this.displaySize.height,F&&(S=Math.floor(S),C=Math.floor(C)),this.canvas.width=S,this.canvas.height=C;else if(this.scaleMode===l.SCALE_MODE.EXPAND){var M=this.game.config.width,w=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,C=this.displaySize.height,F&&(S=Math.floor(S),C=Math.floor(C)),m.width=S+"px",m.height=C+"px";var R=this.parentSize.width/M,O=this.parentSize.height/w;R<O&&R!==0?this.baseSize.setSize(M,this.parentSize.height/R):O!==0&&this.baseSize.setSize(this.displaySize.width/O,w),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),S=this.baseSize.width,C=this.baseSize.height,F&&(S=Math.floor(S),C=Math.floor(C)),this.canvas.width=S,this.canvas.height=C}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,C=this.displaySize.height,F&&(S=Math.floor(S),C=Math.floor(C)),m.width=S+"px",m.height=C+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var m=d(this.parentSize.width,this.gameSize.width,0,!0),y=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(m,y),1)},updateCenter:function(){var m=this.autoCenter;if(m!==l.CENTER.NO_CENTER){var y=this.canvas,x=y.style,S=y.getBoundingClientRect(),C=S.width,A=S.height,F=Math.floor((this.parentSize.width-C)/2),M=Math.floor((this.parentSize.height-A)/2);m===l.CENTER.CENTER_HORIZONTALLY?M=0:m===l.CENTER.CENTER_VERTICALLY&&(F=0),x.marginLeft=F+"px",x.marginTop=M+"px"}},updateBounds:function(){var m=this.canvasBounds,y=this.canvas.getBoundingClientRect();m.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),m.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),m.width=y.width,m.height=y.height},transformX:function(m){return(m-this.canvasBounds.left)*this.displayScale.x},transformY:function(m){return(m-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(m){m===void 0&&(m={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var x=this.getFullscreenTarget();y.keyboard?x[y.request](Element.ALLOW_KEYBOARD_INPUT):x[y.request](m)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(m){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,m)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var m=document.createElement("div");m.style.margin="0",m.style.padding="0",m.style.width="100%",m.style.height="100%",this.fullscreenTarget=m,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var m=this.fullscreenTarget;if(m&&m.parentNode){var y=m.parentNode;y.insertBefore(this.canvas,m),y.removeChild(m)}}},stopFullscreen:function(){var m=this.fullscreen;if(!m.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;m.active&&document[m.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(m){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(m)},startListeners:function(){var m=this,y=this.domlisteners;if(y.orientationChange=function(){m.updateBounds(),m._checkOrientation=!0,m.dirty=!0,m.refresh()},y.windowResize=function(){m.updateBounds(),m.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",y.orientationChange,!1):window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(S){return m.onFullScreenChange(S)},y.fullScreenError=function(S){return m.onFullScreenError(S)};var x=["webkit","moz",""];x.forEach(function(S){document.addEventListener(S+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(m,y){m instanceof c||(y=m,m=void 0),y===void 0&&(y=new h);var x=this.baseSize,S=this.parentSize,C=this.canvasBounds,A=this.displayScale,F=C.x>=0?0:-(C.x*A.x),M=C.y>=0?0:-(C.y*A.y),w;S.width>=C.width?w=x.width:w=x.width-(C.width-S.width)*A.x;var R;return S.height>=C.height?R=x.height:R=x.height-(C.height-S.height)*A.y,y.setTo(F,M,w,R),m&&(y.width/=m.zoomX,y.height/=m.zoomY,y.centerX=m.centerX+m.scrollX,y.centerY=m.centerY+m.scrollY),y},step:function(m,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var m=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",m.orientationChange,!1):window.removeEventListener("orientationchange",m.orientationChange,!1),window.removeEventListener("resize",m.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(x){document.removeEventListener(x+"fullscreenchange",m.fullScreenChange,!1),document.removeEventListener(x+"fullscreenerror",m.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",m.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});v.exports=g},64743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};v.exports=l},56139:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="enterfullscreen"},2336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenfailed"},47412:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenunsupported"},51452:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="leavefullscreen"},20666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="orientationchange"},47945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},97480:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),p=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=l(!1,a,p.CENTER),a=l(!1,a,p.ORIENTATION),a=l(!1,a,p.SCALE_MODE),a=l(!1,a,p.ZOOM),v.exports=a},27397:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=t(35355),a=function(r){var n=r.game.config.defaultPhysicsSystem,e=l(r.settings,"physics",!1);if(!(!n&&!e)){var s=[];if(n&&s.push(p(n+"Physics")),e)for(var o in e)o=p(o.concat("Physics")),s.indexOf(o)===-1&&s.push(o);return s}};v.exports=a},52106:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=function(a){var r=a.plugins.getDefaultScenePlugins(),n=l(a.settings,"plugins",!1);return Array.isArray(n)?n:r||[]};v.exports=p},87033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};v.exports=T},97482:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(2368),a=new l({initialize:function(n){this.sys=new p(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});v.exports=a},60903:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(89993),a=t(44594),r=t(8443),n=t(35154),e=t(54899),s=t(29747),o=t(97482),i=t(2368),h=new l({initialize:function(d,f){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)this._pending.push({key:"default",scene:f[c],autoStart:c===0,data:{}})}d.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new o),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var u,d,f,c;for(u=0;u<this._pending.length;u++){d=this._pending[u],f=d.key,c=d.scene;var g;c instanceof o?g=this.createSceneFromInstance(f,c):typeof c=="object"?g=this.createSceneFromObject(f,c):typeof c=="function"&&(g=this.createSceneFromFunction(f,c)),f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),this._data[f]&&(g.sys.settings.data=this._data[f].data,this._data[f].autoStart&&(d.autoStart=!0)),(d.autoStart||g.sys.settings.active)&&this._start.push(f)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)d=this._start[u],this.start(d);this._start.length=0}},processQueue:function(){var u=this._pending.length,d=this._queue.length;if(!(u===0&&d===0)){var f,c;if(u){for(f=0;f<u;f++)c=this._pending[f],this.add(c.key,c.scene,c.autoStart,c.data);for(f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0,this._pending.length=0}for(f=0;f<this._queue.length;f++)c=this._queue[f],this[c.op](c.keyA,c.keyB,c.data);this._queue.length=0}},add:function(u,d,f,c){if(f===void 0&&(f=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:d,autoStart:f,data:c}),this.isBooted||(this._data[u]={data:c}),null;u=this.getKey(u,d);var g;return d instanceof o?g=this.createSceneFromInstance(u,d):typeof d=="object"?(d.key=u,g=this.createSceneFromObject(u,d)):typeof d=="function"&&(g=this.createSceneFromFunction(u,d)),g.sys.settings.data=c,u=g.sys.settings.key,this.keys[u]=g,this.scenes.push(g),(f||g.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),g},remove:function(u){if(this.isProcessing)return this.queueOp("remove",u);var d=this.getScene(u);if(!d||d.sys.isTransitioning())return this;var f=this.scenes.indexOf(d),c=d.sys.settings.key;return f>-1&&(delete this.keys[c],this.scenes.splice(f,1),this._start.indexOf(c)>-1&&(f=this._start.indexOf(c),this._start.splice(f,1)),d.sys.destroy()),this},bootScene:function(u){var d=u.sys,f=d.settings;d.sceneUpdate=s,u.init&&(u.init.call(u,f.data),f.status=p.INIT,f.isTransition&&d.events.emit(a.TRANSITION_INIT,f.transitionFrom,f.transitionDuration));var c;d.load&&(c=d.load,c.reset()),c&&u.preload?(u.preload.call(u),f.status=p.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start()):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,d){this.processQueue(),this.isProcessing=!0;for(var f=this.scenes.length-1;f>=0;f--){var c=this.scenes[f].sys;c.settings.status>p.START&&c.settings.status<=p.RUNNING&&c.step(u,d),c.scenePlugin&&c.scenePlugin._target&&c.scenePlugin.step(u,d)}},render:function(u){for(var d=0;d<this.scenes.length;d++){var f=this.scenes[d].sys;f.settings.visible&&f.settings.status>=p.LOADING&&f.settings.status<p.SLEEPING&&f.render(u)}this.isProcessing=!1},create:function(u){var d=u.sys,f=d.settings;u.create&&(f.status=p.CREATING,u.create.call(u,f.data),f.status===p.DESTROYED)||(f.isTransition&&d.events.emit(a.TRANSITION_START,f.transitionFrom,f.transitionDuration),u.update&&(d.sceneUpdate=u.update),f.status=p.RUNNING,d.events.emit(a.CREATE,u))},createSceneFromFunction:function(u,d){var f=new d;if(f instanceof o){var c=f.sys.settings.key;if(c!==""&&(u=c),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return this.createSceneFromInstance(u,f)}else return f.sys=new i(f),f.sys.settings.key=u,f.sys.init(this.game),f},createSceneFromInstance:function(u,d){var f=d.sys.settings.key;return f===""&&(d.sys.settings.key=u),d.sys.init(this.game),d},createSceneFromObject:function(u,d){var f=new o(d),c=f.sys.settings.key;c!==""?u=c:f.sys.settings.key=u,f.sys.init(this.game);for(var g=["init","preload","create","update","render"],m=0;m<g.length;m++){var y=n(d,g[m],null);y&&(f[g[m]]=y)}if(d.hasOwnProperty("extend")){for(var x in d.extend)if(d.extend.hasOwnProperty(x)){var S=d.extend[x];x==="data"&&f.hasOwnProperty("data")&&typeof S=="object"?f.data.merge(S):x!=="sys"&&(f[x]=S)}}return f},getKey:function(u,d){if(u||(u="default"),typeof d=="function")return u;if(d instanceof o?u=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(u=d.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return u},getScenes:function(u,d){u===void 0&&(u=!0),d===void 0&&(d=!1);for(var f=[],c=this.scenes,g=0;g<c.length;g++){var m=c[g];m&&(!u||u&&m.sys.isActive())&&f.push(m)}return d?f.reverse():f},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var d=0;d<this.scenes.length;d++)if(u===this.scenes[d])return u;return null},isActive:function(u){var d=this.getScene(u);return d?d.sys.isActive():null},isPaused:function(u){var d=this.getScene(u);return d?d.sys.isPaused():null},isVisible:function(u){var d=this.getScene(u);return d?d.sys.isVisible():null},isSleeping:function(u){var d=this.getScene(u);return d?d.sys.isSleeping():null},pause:function(u,d){var f=this.getScene(u);return f&&f.sys.pause(d),this},resume:function(u,d){var f=this.getScene(u);return f&&f.sys.resume(d),this},sleep:function(u,d){var f=this.getScene(u);return f&&!f.sys.isTransitioning()&&f.sys.sleep(d),this},wake:function(u,d){var f=this.getScene(u);return f&&f.sys.wake(d),this},run:function(u,d){var f=this.getScene(u);if(!f){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===u){this.queueOp("start",u,d);break}return this}f.sys.isSleeping()?f.sys.wake(d):f.sys.isPaused()?f.sys.resume(d):this.start(u,d)},start:function(u,d){if(!this.isBooted)return this._data[u]={autoStart:!0,data:d},this;var f=this.getScene(u);if(!f)return console.warn("Scene key not found: "+u),this;var c=f.sys,g=c.settings.status;if(g>=p.START&&g<=p.CREATING)return this;if(g>=p.RUNNING&&g<=p.SLEEPING)c.shutdown(),c.sceneUpdate=s,c.start(d);else{c.sceneUpdate=s,c.start(d);var m;if(c.load&&(m=c.load),m&&c.settings.hasOwnProperty("pack")&&(m.reset(),m.addPack({payload:c.settings.pack})))return c.settings.status=p.LOADING,m.once(e.COMPLETE,this.payloadComplete,this),m.start(),this}return this.bootScene(f),this},stop:function(u,d){var f=this.getScene(u);if(f&&!f.sys.isTransitioning()&&f.sys.settings.status!==p.SHUTDOWN){var c=f.sys.load;c&&(c.off(e.COMPLETE,this.loadComplete,this),c.off(e.COMPLETE,this.payloadComplete,this)),f.sys.shutdown(d)}return this},switch:function(u,d,f){var c=this.getScene(u),g=this.getScene(d);return c&&g&&c!==g&&(this.sleep(u),this.isSleeping(d)?this.wake(d,f):this.start(d,f)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var d=this.getScene(u);return this.scenes.indexOf(d)},bringToTop:function(u){if(this.isProcessing)return this.queueOp("bringToTop",u);var d=this.getIndex(u),f=this.scenes;if(d!==-1&&d<f.length){var c=this.getScene(u);f.splice(d,1),f.push(c)}return this},sendToBack:function(u){if(this.isProcessing)return this.queueOp("sendToBack",u);var d=this.getIndex(u);if(d!==-1&&d>0){var f=this.getScene(u);this.scenes.splice(d,1),this.scenes.unshift(f)}return this},moveDown:function(u){if(this.isProcessing)return this.queueOp("moveDown",u);var d=this.getIndex(u);if(d>0){var f=d-1,c=this.getScene(u),g=this.getAt(f);this.scenes[d]=g,this.scenes[f]=c}return this},moveUp:function(u){if(this.isProcessing)return this.queueOp("moveUp",u);var d=this.getIndex(u);if(d<this.scenes.length-1){var f=d+1,c=this.getScene(u),g=this.getAt(f);this.scenes[d]=g,this.scenes[f]=c}return this},moveAbove:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",u,d);var f=this.getIndex(u),c=this.getIndex(d);if(f!==-1&&c!==-1&&c<f){var g=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(f+(c>f),0,g)}return this},moveBelow:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",u,d);var f=this.getIndex(u),c=this.getIndex(d);if(f!==-1&&c!==-1&&c>f){var g=this.getAt(c);this.scenes.splice(c,1),f===0?this.scenes.unshift(g):this.scenes.splice(f-(c<f),0,g)}return this},queueOp:function(u,d,f,c){return this._queue.push({op:u,keyA:d,keyB:f,data:c}),this},swapPosition:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",u,d);var f=this.getIndex(u),c=this.getIndex(d);if(f!==c&&f!==-1&&c!==-1){var g=this.getAt(f);this.scenes[f]=this.scenes[c],this.scenes[c]=g}return this},dump:function(){for(var u=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys,g=c.settings.visible&&(c.settings.status===p.RUNNING||c.settings.status===p.PAUSED)?"[*] ":"[-] ";g+=c.settings.key+" ("+d[c.settings.status]+")",u.push(g)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});v.exports=h},52209:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(44594),r=t(95540),n=t(37277),e=new p({initialize:function(o){this.scene=o,this.systems=o.sys,this.settings=o.sys.settings,this.key=o.sys.settings.key,this.manager=o.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,o),this},restart:function(s){var o=this.key;return this.manager.queueOp("stop",o),this.manager.queueOp("start",o,s),this},transition:function(s){s===void 0&&(s={});var o=r(s,"target",!1),i=this.manager.getScene(o);if(!o||!this.checkValidTransition(i))return!1;var h=r(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=h,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var u=r(s,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var d=r(s,"allowInput",!1);this.settings.transitionAllowInput=d;var f=i.sys.settings;f.isTransition=!0,f.transitionFrom=this.scene,f.transitionDuration=h,f.transitionAllowInput=d,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,o):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,o),i.sys.isSleeping()?i.sys.wake(r(s,"data")):this.manager.start(o,r(s,"data"));var c=r(s,"onStart",null),g=r(s,"onStartScope",this.scene);return c&&c.call(g,this.scene,i,h),this.systems.events.emit(a.TRANSITION_OUT,i,h),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,o){this._elapsed+=o,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,o=this._target.sys.settings;s.events.emit(a.TRANSITION_COMPLETE,this.scene),o.isTransition=!1,o.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,o,i,h){return this.manager.add(s,o,i,h)},launch:function(s,o){return s&&s!==this.key&&this.manager.queueOp("start",s,o),this},run:function(s,o){return s&&s!==this.key&&this.manager.queueOp("run",s,o),this},pause:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,o),this},resume:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,o),this},sleep:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,o),this},wake:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,o),this},switch:function(s,o){return s!==this.key&&this.manager.queueOp("switch",this.key,s,o),this},stop:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,o),this},setActive:function(s,o,i){o===void 0&&(o=this.key);var h=this.manager.getScene(o);return h&&h.sys.setActive(s,i),this},setVisible:function(s,o){o===void 0&&(o=this.key);var i=this.manager.getScene(o);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.swapPosition(s,o),this},moveAbove:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveAbove(s,o),this},moveBelow:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveBelow(s,o),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var o=this.manager.getScene(s);if(o)return o.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(a.SHUTDOWN,this.shutdown,this),s.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),v.exports=e},55681:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89993),p=t(35154),a=t(46975),r=t(87033),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:l.PENDING,key:p(e,"key",""),active:p(e,"active",!1),visible:p(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(e,"pack",!1),cameras:p(e,"cameras",null),map:p(e,"map",a(r,p(e,"mapAdd",{}))),physics:p(e,"physics",{}),loader:p(e,"loader",{}),plugins:p(e,"plugins",!1),input:p(e,"input",{})}}};v.exports=n},2368:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(89993),a=t(42363),r=t(44594),n=t(27397),e=t(52106),s=t(29747),o=t(55681),i=new l({initialize:function(u,d){this.scene=u,this.game,this.renderer,this.config=d,this.settings=o.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(h){this.settings.status=p.INIT,this.sceneUpdate=s,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var u=h.plugins;this.plugins=u,u.addToScene(this,a.Global,[a.CoreScene,e(this),n(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(h,u){var d=this.events;d.emit(r.PRE_UPDATE,h,u),d.emit(r.UPDATE,h,u),this.sceneUpdate.call(this.scene,h,u),d.emit(r.POST_UPDATE,h,u)},render:function(h){var u=this.displayList;u.depthSort(),this.events.emit(r.PRE_RENDER,h),this.cameras.render(h,u),this.events.emit(r.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var u=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=p.PAUSED,u.active=!1,this.events.emit(r.PAUSE,this,h)),this},resume:function(h){var u=this.events,d=this.settings;return this.settings.active||(d.status=p.RUNNING,d.active=!0,u.emit(r.RESUME,this,h)),this},sleep:function(h){var u=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=p.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(r.SLEEP,this,h)),this},wake:function(h){var u=this.events,d=this.settings;return d.status=p.RUNNING,d.active=!0,d.visible=!0,u.emit(r.WAKE,this,h),d.isTransition&&u.emit(r.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>p.PENDING&&h<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,u){return h?this.resume(u):this.pause(u)},start:function(h){var u=this.events,d=this.settings;h&&(d.data=h),d.status=p.START,d.active=!0,d.visible=!0,u.emit(r.START,this),u.emit(r.READY,this,h)},shutdown:function(h){var u=this.events,d=this.settings;u.off(r.TRANSITION_INIT),u.off(r.TRANSITION_START),u.off(r.TRANSITION_COMPLETE),u.off(r.TRANSITION_OUT),d.status=p.SHUTDOWN,d.active=!1,d.visible=!1,u.emit(r.SHUTDOWN,this,h)},destroy:function(){var h=this.events,u=this.settings;u.status=p.DESTROYED,u.active=!1,u.visible=!1,h.emit(r.DESTROY,this),h.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],f=0;f<d.length;f++)this[d[f]]=null}});v.exports=i},89993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};v.exports=T},69830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},7919:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},46763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="create"},11763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},71555:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},36735:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postupdate"},3809:v=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},90716:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},58262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},91633:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},10319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},87132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},81961:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},90194:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleep"},6265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},33178:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioncomplete"},43063:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioninit"},11259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionout"},61611:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionstart"},45209:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionwake"},22966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},21747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wake"},44594:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89993),p=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=p(!1,a,l),v.exports=a},30341:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(14463),r=t(79291),n=t(29747),e=new l({Extends:p,initialize:function(o,i,h){p.call(this),this.manager=o,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var o=this.markers[s];return o?(this.markers[s]=null,o):null},play:function(s,o){if(s===void 0&&(s=""),typeof s=="object"&&(o=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,o),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,o=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,o);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});v.exports=e},85034:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(41786),a=t(50792),r=t(14463),n=t(8443),e=t(46710),s=t(58731),o=t(29747),i=t(26099),h=new l({Extends:a,initialize:function(d){a.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i;var f=d.events;f.on(n.BLUR,this.onGameBlur,this),f.on(n.FOCUS,this.onGameFocus,this),f.on(n.PRE_STEP,this.update,this),f.once(n.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(u,d){d===void 0&&(d={});var f=this.add(u,d);f.spritemap=this.jsonCache.get(u).spritemap;for(var c in f.spritemap)if(f.spritemap.hasOwnProperty(c)){var g=p(d),m=f.spritemap[c];g.loop=m.hasOwnProperty("loop")?m.loop:!1,f.addMarker({name:c,start:m.start,duration:m.end-m.start,config:g})}return f},get:function(u){return s(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,d){var f=this.add(u);return f.once(r.COMPLETE,f.destroy,f),d?d.name?(f.addMarker(d),f.play(d.name)):f.play(d):f.play()},playAudioSprite:function(u,d,f){var c=this.addAudioSprite(u);return c.once(r.COMPLETE,c.destroy,c),c.play(d,f)},remove:function(u){var d=this.sounds.indexOf(u);return d!==-1?(u.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var d=0,f=this.sounds.length-1;f>=0;f--){var c=this.sounds[f];c.key===u&&(c.destroy(),this.sounds.splice(f,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:o,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(u){var d=0;return this.getAll(u).forEach(function(f){f.stop()&&d++}),d},isPlaying:function(u){var d=this.sounds,f=d.length-1,c;if(u===void 0){for(;f>=0;f--)if(c=this.sounds[f],c.isPlaying)return!0}else for(;f>=0;f--)if(c=this.sounds[f],c.key===u&&c.isPlaying)return!0;return!1},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var f=this.sounds.length-1;f>=0;f--)this.sounds[f].pendingRemove&&this.sounds.splice(f,1);this.sounds.forEach(function(c){c.update(u,d)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,d){var f=this;this.sounds.forEach(function(c,g){c&&!c.pendingRemove&&u.call(d||f,c,g,f.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,u)}}});v.exports=h},14747:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33684),p=t(25960),a=t(57490),r={create:function(n){var e=n.config.audio,s=n.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new p(n):s.webAudio&&!e.disableWebAudio?new a(n):new l(n)}};v.exports=r},19723:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},98882:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decodedall"},57506:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decoded"},73146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},11305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},40577:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},30333:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},20394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},21802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},1299:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="looped"},99190:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},97125:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},89259:v=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pan"},79986:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},17586:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},19618:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},42306:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},10387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},48959:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},9960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seek"},19180:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stopall"},98328:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},50401:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},52498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},14463:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),p=t(83419),a=t(14463),r=t(45319),n=new p({Extends:l,initialize:function(s,o,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(o),!this.tags)throw new Error('No cached audio asset with key "'+o);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,s,o,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!l.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,o=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=o,this.audio.currentTime=o,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var o=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&o.push(h)},this),o.sort(function(h,u){return h.loop===u.loop?u.seek/u.duration-h.seek/h.duration:h.loop?1:-1});var i=o[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,o=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=o-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-o),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=o){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=n},33684:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85034),p=t(83419),a=t(14463),r=t(64895),n=new p({Extends:l,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,s)},add:function(e,s){var o=new r(this,e,s);return this.sounds.push(o),o},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,u){for(var d=0;d<u.length;d++)if(u[d].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,o=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",i);var h=[];if(e.game.cache.audio.entries.each(function(d,f){for(var c=0;c<f.length;c++){var g=f[c];g.dataset.locked==="true"&&h.push(g)}return!0}),h.length!==0){var u=h[h.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,h.forEach(function(d){d.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(d){d.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,o){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:o}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});v.exports=n},23717:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),p=t(83419),a=t(50792),r=t(79291),n=t(29747),e=function(){return!1},s=function(){return null},o=function(){return this},i=new p({Extends:a,initialize:function(u,d,f){f===void 0&&(f={}),a.call(this),this.manager=u,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},f),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:o,setVolume:o,setRate:o,setDetune:o,setSeek:o,setLoop:o,setPan:o,applyConfig:s,resetConfig:s,update:n,calculateRate:s,destroy:function(){l.prototype.destroy.call(this)}});v.exports=i},25960:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85034),p=t(83419),a=t(50792),r=t(4603),n=t(29747),e=new p({Extends:a,initialize:function(o){a.call(this),this.game=o,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,o){var i=new r(this,s,o);return this.sounds.push(i),i},addAudioSprite:function(s,o){var i=this.add(s,o);return i.spritemap={},i},get:function(s){return l.prototype.get.call(this,s)},getAll:function(s){return l.prototype.getAll.call(this,s)},play:function(s,o){return!1},playAudioSprite:function(s,o,i){return!1},remove:function(s){return l.prototype.remove.call(this,s)},removeAll:function(){return l.prototype.removeAll.call(this)},removeByKey:function(s){return l.prototype.removeByKey.call(this,s)},stopByKey:function(s){return l.prototype.stopByKey.call(this,s)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(s,o){l.prototype.forEachActiveSound.call(this,s,o)},destroy:function(){l.prototype.destroy.call(this)}});v.exports=e},71741:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),p=t(83419),a=t(14463),r=t(95540),n=new p({Extends:l,initialize:function(s,o,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(o),!this.audioBuffer)throw new Error('Audio key "'+o+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,s,o,i)},play:function(e,s){return l.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return l.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,o=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=o-e,this.startTime=o,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,o),Math.max(0,i),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,o=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,o))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(o){var i=o.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=r(e,"panningModel","equalpower"),s.distanceModel=r(e,"distanceModel","inverse"),s.orientationX.value=r(e,"orientationX",0),s.orientationY.value=r(e,"orientationY",0),s.orientationZ.value=r(e,"orientationZ",-1),s.refDistance=r(e,"refDistance",1),s.maxDistance=r(e,"maxDistance",1e4),s.rolloffFactor=r(e,"rolloffFactor",1),s.coneInnerAngle=r(e,"coneInnerAngle",360),s.coneOuterAngle=r(e,"coneOuterAngle",0),s.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(s.positionX.value=r(e,"x",0),s.positionY.value=r(e,"y",0),s.positionZ.value=r(e,"z",0))}l.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),s=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){l.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var o=0;s<this.rateUpdates.length-1?o=this.rateUpdates[s+1].time:o=this.manager.context.currentTime-this.playTime,e+=(o-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var o=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+o.time+(this.duration-e)/o.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=n},57490:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53134),p=t(85034),a=t(83419),r=t(14463),n=t(8443),e=t(71741),s=t(95540),o=new a({Extends:p,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",p.call(this,h),this.locked&&(h.isBooted?this.unlock():h.events.once(n.BOOT,this.unlock,this)),h.events.on(n.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var i=this.context;window.setTimeout(function(){i&&(i.suspend(),i.resume())},100)},createAudioContext:function(i){var h=i.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,h){var u=new e(this,i,h);return this.sounds.push(u),u},decodeAudio:function(i,h){var u;Array.isArray(i)?u=i:u=[{key:i,data:h}];for(var d=this.game.cache.audio,f=u.length,c=0;c<u.length;c++){var g=u[c],m=g.key,y=g.data;typeof y=="string"&&(y=l(y));var x=(function(C,A){d.add(C,A),this.emit(r.DECODED,C),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,m),S=(function(C,A){console.error("Error decoding audio: "+C+" - ",A?A.message:""),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,m);this.context.decodeAudioData(y,x,S)}},setListenerPosition:function(i,h){return i===void 0&&(i=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(i,h),this},unlock:function(){var i=this,h=document.body,u=function d(){if(i.context&&h){var f=h.removeEventListener.bind(h);i.context.resume().then(function(){f("touchstart",d),f("touchend",d),f("mousedown",d),f("mouseup",d),f("keydown",d),i.unlocked=!0},function(){f("touchstart",d),f("touchend",d),f("mousedown",d),f("mouseup",d),f("keydown",d)})}};h&&(h.addEventListener("touchstart",u,!1),h.addEventListener("touchend",u,!1),h.addEventListener("mousedown",u,!1),h.addEventListener("mouseup",u,!1),h.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,h){var u=this.context.listener;if(u&&u.positionX!==void 0){var d=s(this.listenerPosition,"x",null),f=s(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=u.positionX.value=d),f&&f!==this._spatialy&&(this._spatialy=u.positionY.value=f)}p.prototype.update.call(this,i,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}this.game.events.off(n.VISIBLE,this.onGameVisible,this),p.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});v.exports=o},73162:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),p=t(83419),a=t(29747),r=t(19186),n=new p({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,s){return s?l.Add(this.list,e):l.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,o){return o?l.AddAt(this.list,e,s):l.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(o,i){return o[e]-i[e]}),r(this.list,s),this):this},getByName:function(e){return l.GetFirst(this.list,"name",e)},getRandom:function(e,s){return l.GetRandom(this.list,e,s)},getFirst:function(e,s,o,i){return l.GetFirst(this.list,e,s,o,i)},getAll:function(e,s,o,i){return l.GetAll(this.list,e,s,o,i)},count:function(e,s){return l.CountAllMatching(this.list,e,s)},swap:function(e,s){l.Swap(this.list,e,s)},moveTo:function(e,s){return l.MoveTo(this.list,e,s)},moveAbove:function(e,s){return l.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return l.MoveBelow(this.list,e,s)},remove:function(e,s){return s?l.Remove(this.list,e):l.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?l.RemoveAt(this.list,e):l.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,o){return o?l.RemoveBetween(this.list,e,s):l.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return l.BringToTop(this.list,e)},sendToBack:function(e){return l.SendToBack(this.list,e)},moveUp:function(e){return l.MoveUp(this.list,e),e},moveDown:function(e){return l.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(e,s){return l.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,o,i){return l.SetAll(this.list,e,s,o,i),this},each:function(e,s){for(var o=[null],i=2;i<arguments.length;i++)o.push(arguments[i]);for(i=0;i<this.list.length;i++)o[0]=this.list[i],e.apply(s,o)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});v.exports=n},90330:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var n in r)if(a(n,r[n])===!1)break;return this},contains:function(a){var r=this.entries;for(var n in r)if(r[n]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var n=this.entries,e=a.entries;for(var s in e)n.hasOwnProperty(s)&&r?n[s]=e[s]:this.set(s,e[s]);return this}});v.exports=p},25774:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(82348),r=new l({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,s=e.indexOf(n);s!==-1&&e.splice(s,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,s=n.length;s--;)e.push(n[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,s,o;for(s=0;s<n.length;s++){o=n[s];var i=e.indexOf(o);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,o))}for(n.length=0,n=this._pending,s=0;s<n.length;s++)o=n[s],(!this.checkQueue||this.checkQueue&&e.indexOf(o)===-1)&&(e.push(o),this.emit(a.PROCESS_QUEUE_ADD,o));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});v.exports=r},59542:(v,T,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43886);function p(y){if(!(this instanceof p))return new p(y);this._maxEntries=Math.max(4,y||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(y){var x=this.data,S=[],C=this.toBBox;if(!c(y,x))return S;for(var A=[],F,M,w,R;x;){for(F=0,M=x.children.length;F<M;F++)w=x.children[F],R=x.leaf?C(w):w,c(y,R)&&(x.leaf?S.push(w):f(y,R)?this._all(w,S):A.push(w));x=A.pop()}return S},collides:function(y){var x=this.data,S=this.toBBox;if(!c(y,x))return!1;for(var C=[],A,F,M,w;x;){for(A=0,F=x.children.length;A<F;A++)if(M=x.children[A],w=x.leaf?S(M):M,c(y,w)){if(x.leaf||f(y,w))return!0;C.push(M)}x=C.pop()}return!1},load:function(y){if(!(y&&y.length))return this;if(y.length<this._minEntries){for(var x=0,S=y.length;x<S;x++)this.insert(y[x]);return this}var C=this._build(y.slice(),0,y.length-1,0);if(!this.data.children.length)this.data=C;else if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var A=this.data;this.data=C,C=A}this._insert(C,this.data.height-C.height-1,!0)}return this},insert:function(y){return y&&this._insert(y,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(y,x){if(!y)return this;for(var S=this.data,C=this.toBBox(y),A=[],F=[],M,w,R,O;S||A.length;){if(S||(S=A.pop(),w=A[A.length-1],M=F.pop(),O=!0),S.leaf&&(R=a(y,S.children,x),R!==-1))return S.children.splice(R,1),A.push(S),this._condense(A),this;!O&&!S.leaf&&f(S,C)?(A.push(S),F.push(M),M=0,w=S,S=S.children[0]):w?(M++,S=w.children[M],O=!1):S=null}return this},toBBox:function(y){return y},compareMinX:s,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(y){return this.data=y,this},_all:function(y,x){for(var S=[];y;)y.leaf?x.push.apply(x,y.children):S.push.apply(S,y.children),y=S.pop();return x},_build:function(y,x,S,C){var A=S-x+1,F=this._maxEntries,M;if(A<=F)return M=g(y.slice(x,S+1)),r(M,this.toBBox),M;C||(C=Math.ceil(Math.log(A)/Math.log(F)),F=Math.ceil(A/Math.pow(F,C-1))),M=g([]),M.leaf=!1,M.height=C;var w=Math.ceil(A/F),R=w*Math.ceil(Math.sqrt(F)),O,U,X,W;for(m(y,x,S,R,this.compareMinX),O=x;O<=S;O+=R)for(X=Math.min(O+R-1,S),m(y,O,X,w,this.compareMinY),U=O;U<=X;U+=w)W=Math.min(U+w-1,X),M.children.push(this._build(y,U,W,C-1));return r(M,this.toBBox),M},_chooseSubtree:function(y,x,S,C){for(var A,F,M,w,R,O,U,X;C.push(x),!(x.leaf||C.length-1===S);){for(U=X=1/0,A=0,F=x.children.length;A<F;A++)M=x.children[A],R=i(M),O=u(y,M)-R,O<X?(X=O,U=R<U?R:U,w=M):O===X&&R<U&&(U=R,w=M);x=w||x.children[0]}return x},_insert:function(y,x,S){var C=this.toBBox,A=S?y:C(y),F=[],M=this._chooseSubtree(A,this.data,x,F);for(M.children.push(y),e(M,A);x>=0&&F[x].children.length>this._maxEntries;)this._split(F,x),x--;this._adjustParentBBoxes(A,F,x)},_split:function(y,x){var S=y[x],C=S.children.length,A=this._minEntries;this._chooseSplitAxis(S,A,C);var F=this._chooseSplitIndex(S,A,C),M=g(S.children.splice(F,S.children.length-F));M.height=S.height,M.leaf=S.leaf,r(S,this.toBBox),r(M,this.toBBox),x?y[x-1].children.push(M):this._splitRoot(S,M)},_splitRoot:function(y,x){this.data=g([y,x]),this.data.height=y.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(y,x,S){var C,A,F,M,w,R,O,U;for(R=O=1/0,C=x;C<=S-x;C++)A=n(y,0,C,this.toBBox),F=n(y,C,S,this.toBBox),M=d(A,F),w=i(A)+i(F),M<R?(R=M,U=C,O=w<O?w:O):M===R&&w<O&&(O=w,U=C);return U},_chooseSplitAxis:function(y,x,S){var C=y.leaf?this.compareMinX:s,A=y.leaf?this.compareMinY:o,F=this._allDistMargin(y,x,S,C),M=this._allDistMargin(y,x,S,A);F<M&&y.children.sort(C)},_allDistMargin:function(y,x,S,C){y.children.sort(C);var A=this.toBBox,F=n(y,0,x,A),M=n(y,S-x,S,A),w=h(F)+h(M),R,O;for(R=x;R<S-x;R++)O=y.children[R],e(F,y.leaf?A(O):O),w+=h(F);for(R=S-x-1;R>=x;R--)O=y.children[R],e(M,y.leaf?A(O):O),w+=h(M);return w},_adjustParentBBoxes:function(y,x,S){for(var C=S;C>=0;C--)e(x[C],y)},_condense:function(y){for(var x=y.length-1,S;x>=0;x--)y[x].children.length===0?x>0?(S=y[x-1].children,S.splice(S.indexOf(y[x]),1)):this.clear():r(y[x],this.toBBox)},compareMinX:function(y,x){return y.left-x.left},compareMinY:function(y,x){return y.top-x.top},toBBox:function(y){return{minX:y.left,minY:y.top,maxX:y.right,maxY:y.bottom}}};function a(y,x,S){if(!S)return x.indexOf(y);for(var C=0;C<x.length;C++)if(S(y,x[C]))return C;return-1}function r(y,x){n(y,0,y.children.length,x,y)}function n(y,x,S,C,A){A||(A=g(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var F=x,M;F<S;F++)M=y.children[F],e(A,y.leaf?C(M):M);return A}function e(y,x){return y.minX=Math.min(y.minX,x.minX),y.minY=Math.min(y.minY,x.minY),y.maxX=Math.max(y.maxX,x.maxX),y.maxY=Math.max(y.maxY,x.maxY),y}function s(y,x){return y.minX-x.minX}function o(y,x){return y.minY-x.minY}function i(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function h(y){return y.maxX-y.minX+(y.maxY-y.minY)}function u(y,x){return(Math.max(x.maxX,y.maxX)-Math.min(x.minX,y.minX))*(Math.max(x.maxY,y.maxY)-Math.min(x.minY,y.minY))}function d(y,x){var S=Math.max(y.minX,x.minX),C=Math.max(y.minY,x.minY),A=Math.min(y.maxX,x.maxX),F=Math.min(y.maxY,x.maxY);return Math.max(0,A-S)*Math.max(0,F-C)}function f(y,x){return y.minX<=x.minX&&y.minY<=x.minY&&x.maxX<=y.maxX&&x.maxY<=y.maxY}function c(y,x){return x.minX<=y.maxX&&x.minY<=y.maxY&&x.maxX>=y.minX&&x.maxY>=y.minY}function g(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(y,x,S,C,A){for(var F=[x,S],M;F.length;)S=F.pop(),x=F.pop(),!(S-x<=C)&&(M=x+Math.ceil((S-x)/C/2)*C,l(y,M,x,S,A),F.push(x,M,M,S))}v.exports=p},35072:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var n,e=this.entries.slice(),s=e.length;if(r)for(n=0;n<s&&a.call(r,e[n],n)!==!1;n++);else for(n=0;n<s&&a(e[n],n)!==!1;n++);return this},iterate:function(a,r){var n,e=this.entries.length;if(r)for(n=0;n<e&&a.call(r,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&a(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(a){var r,n=[];for(r=1;r<arguments.length;r++)n.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var s=this.entries[r];s[a].apply(s,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new p;return a.entries.forEach(function(n){r.set(n)}),this.entries.forEach(function(n){r.set(n)}),r},intersect:function(a){var r=new p;return this.entries.forEach(function(n){a.contains(n)&&r.set(n)}),r},difference:function(a){var r=new p;return this.entries.forEach(function(n){a.contains(n)||r.set(n)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});v.exports=p},86555:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),p=t(83419),a=t(56583),r=t(26099),n=new p({initialize:function(s,o,i,h){s===void 0&&(s=0),o===void 0&&(o=s),i===void 0&&(i=0),h===void 0&&(h=null),this._width=s,this._height=o,this._parent=h,this.aspectMode=i,this.aspectRatio=o===0?1:s/o,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=l(e,0,this.maxWidth),this.minHeight=l(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=l(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,s,!0);break;case n.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=l(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=l(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,o){e===void 0&&(e=0),s===void 0&&(s=e),o===void 0&&(o=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,h=s===0?1:e/s;return o&&this.aspectRatio>h||!o&&this.aspectRatio<h?(e=a(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=a(s,i.y),e=s*this.aspectRatio)):(o&&this.aspectRatio<h||!o&&this.aspectRatio>h)&&(s=a(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=a(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,v.exports=n},15238:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},56187:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},82348:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(45319),a=t(40987),r=t(8054),n=t(50030),e=t(79237),s=new l({Extends:e,initialize:function(i,h,u,d,f){e.call(this,i,h,u,d,f),this.add("__BASE",0,0,0,d,f),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=f,this.imageData=this.context.getImageData(0,0,d,f),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(o,i,h,u){return u===void 0&&(u=!0),this.context.drawImage(h,o,i),u&&this.update(),this},drawFrame:function(o,i,h,u,d){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=!0);var f=this.manager.getFrame(o,i);if(f){var c=f.canvasData,g=f.cutWidth,m=f.cutHeight,y=f.source.resolution;this.context.drawImage(f.source.image,c.x,c.y,g,m,h,u,g/y,m/y),d&&this.update()}return this},setPixel:function(o,i,h,u,d,f){f===void 0&&(f=255),o=Math.abs(Math.floor(o)),i=Math.abs(Math.floor(i));var c=this.getIndex(o,i);if(c>-1){var g=this.context.getImageData(o,i,1,1);g.data[0]=h,g.data[1]=u,g.data[2]=d,g.data[3]=f,this.context.putImageData(g,o,i)}return this},putData:function(o,i,h,u,d,f,c){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=o.width),c===void 0&&(c=o.height),this.context.putImageData(o,i,h,u,d,f,c),this},getData:function(o,i,h,u){o=p(Math.floor(o),0,this.width-1),i=p(Math.floor(i),0,this.height-1),h=p(h,1,this.width-o),u=p(u,1,this.height-i);var d=this.context.getImageData(o,i,h,u);return d},getPixel:function(o,i,h){h||(h=new a);var u=this.getIndex(o,i);if(u>-1){var d=this.data,f=d[u+0],c=d[u+1],g=d[u+2],m=d[u+3];h.setTo(f,c,g,m)}return h},getPixels:function(o,i,h,u){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=h),o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i));for(var d=p(o,0,this.width),f=p(o+h,0,this.width),c=p(i,0,this.height),g=p(i+u,0,this.height),m=new a,y=[],x=c;x<g;x++){for(var S=[],C=d;C<f;C++)m=this.getPixel(C,x,m),S.push({x:C,y:x,color:m.color,alpha:m.alphaGL});y.push(S)}return y},getIndex:function(o,i){return o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i)),o<this.width&&i<this.height?(o+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(o,i,h,u,d){return o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=this.height),d===void 0&&(d=!0),this.context.clearRect(o,i,h,u),d&&this.update(),this},setSize:function(o,i){return i===void 0&&(i=o),(o!==this.width||i!==this.height)&&(this.canvas.width=o,this.canvas.height=i,this._source.width=o,this._source.height=i,this._source.isPowerOf2=n(o,i),this.frames.__BASE.setSize(o,i,0,0),this.width=o,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});v.exports=s},81320:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),p=t(38058),a=t(27919),r=t(83419),n=t(8054),e=t(4327),s=t(95540),o=t(36060),i=t(32302),h=t(79237),u=t(70554),d=new r({Extends:h,initialize:function(c,g,m,y,x){m===void 0&&(m=256),y===void 0&&(y=256),x===void 0&&(x=!0),this.type="DynamicTexture";var S=c.game.renderer,C=S&&S.type===n.CANVAS,A=C?a.create2D(this,m,y):[this];h.call(this,c,g,A,m,y),this.add("__BASE",0,0,0,m,y),this.renderer=S,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=C?A:null,this.context=C?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,m,y).setScene(c.game.scene.systemScene,!1),this.renderTarget=C?null:new i(S,m,y,1,0,!1,!1,!0,!1),this.pipeline=C?null:S.pipelines.get(o.SINGLE_PIPELINE),this.setSize(m,y,x)},setSize:function(f,c,g){c===void 0&&(c=f),g===void 0&&(g=!0),g&&(f=Math.floor(f),c=Math.floor(c),f%2!==0&&f++,c%2!==0&&c++);var m=this.get(),y=m.source;if(f!==this.width||c!==this.height){this.canvas&&(this.canvas.width=f,this.canvas.height=c);var x=this.renderTarget;x&&(x.willResize(f,c)&&x.resize(f,c),x.texture!==y.glTexture&&this.renderer.deleteTexture(y.glTexture),this.setFromRenderTarget()),this.camera.setSize(f,c),y.width=f,y.height=c,m.setSize(f,c),this.width=f,this.height=c}else{var S=this.getSourceImage();m.cutX+f>S.width&&(f=S.width-m.cutX),m.cutY+c>S.height&&(c=S.height-m.cutY),m.setSize(f,c,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var f=this.get(),c=f.source,g=this.renderTarget;return c.isRenderTexture=!0,c.isGLTexture=!0,c.glTexture=g.texture,this},setIsSpriteTexture:function(f){return this.isSpriteTexture=f,this},fill:function(f,c,g,m,y,x){var S=this.camera,C=this.renderer;c===void 0&&(c=1),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),x===void 0&&(x=this.height);var A=f>>16&255,F=f>>8&255,M=f&255,w=this.renderTarget;if(S.preRender(),w){w.bind(!0);var R=this.pipeline.manager.set(this.pipeline),O=C.width/w.width,U=C.height/w.height,X=w.height-(m+x);R.drawFillRect(g*O,X*U,y*O,x*U,u.getTintFromFloats(M/255,F/255,A/255,1),c),w.unbind(!0)}else{var W=this.context;C.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+A+","+F+","+M+","+c+")",W.fillRect(g,m,y,x),C.setContext()}return this.dirty=!0,this},clear:function(f,c,g,m){if(this.dirty){var y=this.context,x=this.renderTarget;x?x.clear(f,c,g,m):y&&(f!==void 0&&c!==void 0&&g!==void 0&&m!==void 0?y.clearRect(f,c,g,m):(y.save(),y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,this.width,this.height),y.restore())),this.dirty=!1}return this},stamp:function(f,c,g,m,y){g===void 0&&(g=0),m===void 0&&(m=0);var x=s(y,"alpha",1),S=s(y,"tint",16777215),C=s(y,"angle",0),A=s(y,"rotation",0),F=s(y,"scale",1),M=s(y,"scaleX",F),w=s(y,"scaleY",F),R=s(y,"originX",.5),O=s(y,"originY",.5),U=s(y,"blendMode",0),X=s(y,"erase",!1),W=s(y,"skipBatch",!1),Y=this.manager.resetStamp(x,S);return Y.setAngle(0),C!==0?Y.setAngle(C):A!==0&&Y.setRotation(A),Y.setScale(M,w),Y.setTexture(f,c),Y.setOrigin(R,O),Y.setBlendMode(U),X&&(this._eraseMode=!0),W?this.batchGameObject(Y,g,m):this.draw(Y,g,m),X&&(this._eraseMode=!1),this},erase:function(f,c,g){return this._eraseMode=!0,this.draw(f,c,g),this._eraseMode=!1,this},draw:function(f,c,g,m,y){return this.beginDraw(),this.batchDraw(f,c,g,m,y),this.endDraw(),this},drawFrame:function(f,c,g,m,y,x){return this.beginDraw(),this.batchDrawFrame(f,c,g,m,y,x),this.endDraw(),this},repeat:function(f,c,g,m,y,x,S,C,A){if(g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),x===void 0&&(x=this.height),S===void 0&&(S=1),C===void 0&&(C=16777215),A===void 0&&(A=!1),f instanceof e?c=f:c=this.manager.getFrame(f,c),!c)return this;var F=this.manager.resetStamp(S,C);F.setFrame(c),F.setOrigin(0);var M=c.width,w=c.height;y=Math.floor(y),x=Math.floor(x);var R=Math.ceil(y/M),O=Math.ceil(x/w),U=R*M-y,X=O*w-x;U>0&&(U=M-U),X>0&&(X=w-X),g<0&&(R+=Math.ceil(Math.abs(g)/M)),m<0&&(O+=Math.ceil(Math.abs(m)/w));var W=g,Y=m,N=!1,V=this.manager.stampCrop.setTo(0,0,M,w);A||this.beginDraw();for(var I=0;I<O;I++){if(Y+w<0){Y+=w;continue}for(var B=0;B<R;B++){if(N=!1,W+M<0){W+=M;continue}else W<0&&(N=!0,V.width=M+W,V.x=M-V.width);Y<0&&(N=!0,V.height=w+Y,V.y=w-V.height),U>0&&B===R-1&&(N=!0,V.width=U),X>0&&I===O-1&&(N=!0,V.height=X),N&&F.setCrop(V),this.batchGameObject(F,W,Y),F.isCropped=!1,V.setTo(0,0,M,w),W+=M}W=g,Y+=w}return A||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var f=this.camera,c=this.renderer,g=this.renderTarget;f.preRender(),g?c.beginCapture(g.width,g.height):c.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(f,c,g,m,y){return Array.isArray(f)||(f=[f]),this.batchList(f,c,g,m,y),this},batchDrawFrame:function(f,c,g,m,y,x){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=1),x===void 0&&(x=16777215);var S=this.manager.getFrame(f,c);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,g,m,x,y,this.camera.matrix,null):this.batchTextureFrame(S,g,m,y,x)),this},endDraw:function(f){if(f===void 0&&(f=this._eraseMode),this.isDrawing){var c=this.renderer,g=this.renderTarget;if(g){var m=c.endCapture(),y=c.pipelines.setUtility();y.blitFrame(m,g,1,!1,!1,f,this.isSpriteTexture),c.resetScissor(),c.resetViewport()}else c.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(f,c,g,m,y){var x=f.length;if(x!==0)for(var S=0;S<x;S++){var C=f[S];!C||C===this||(C.renderWebGL||C.renderCanvas?this.batchGameObject(C,c,g):C.isParent||C.list?this.batchGroup(C.getChildren(),c,g):typeof C=="string"?this.batchTextureFrameKey(C,null,c,g,m,y):C instanceof e?this.batchTextureFrame(C,c,g,m,y):Array.isArray(C)&&this.batchList(C,c,g,m,y))}},batchGroup:function(f,c,g){c===void 0&&(c=0),g===void 0&&(g=0);for(var m=0;m<f.length;m++){var y=f[m];y.willRender(this.camera)&&this.batchGameObject(y,y.x+c,y.y+g)}},batchGameObject:function(f,c,g){c===void 0&&(c=f.x),g===void 0&&(g=f.y);var m=f.x,y=f.y,x=this.camera,S=this.renderer,C=this._eraseMode,A=f.mask;if(f.setPosition(c,g),this.canvas){if(C){var F=f.blendMode;f.blendMode=l.ERASE}A&&A.preRenderCanvas(S,f,x),f.renderCanvas(S,f,x,null),A&&A.postRenderCanvas(S,f,x),C&&(f.blendMode=F)}else S&&(A&&A.preRenderWebGL(S,f,x),C||S.setBlendMode(f.blendMode),f.renderWebGL(S,f,x),A&&A.postRenderWebGL(S,x,this.renderTarget));f.setPosition(m,y)},batchTextureFrameKey:function(f,c,g,m,y,x){var S=this.manager.getFrame(f,c);S&&this.batchTextureFrame(S,g,m,y,x)},batchTextureFrame:function(f,c,g,m,y){c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=1),y===void 0&&(y=16777215);var x=this.camera.matrix,S=this.renderTarget;if(S)this.pipeline.batchTextureFrame(f,c,g,y,m,x,null);else{var C=this.context,A=f.canvasData,F=f.source.image;C.save(),C.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",C.globalAlpha=m,x.setToContext(C),A.width>0&&A.height>0&&C.drawImage(F,A.x,A.y,A.width,A.height,c,g,A.width,A.height),C.restore()}},snapshotArea:function(f,c,g,m,y,x,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,f,c,g,m,x,S):this.renderer.snapshotCanvas(this.canvas,y,!1,f,c,g,m,x,S),this},snapshot:function(f,c,g){return this.snapshotArea(0,0,this.width,this.height,f,c,g)},snapshotPixel:function(f,c,g){return this.snapshotArea(f,c,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(f,c,g,m){var y=this.manager.resetStamp();y.setTexture(this),y.setOrigin(0),y.renderWebGL(f,y,g,m)},renderCanvas:function(){},destroy:function(){var f=this.manager.stamp;f&&f.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});v.exports=d},4327:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(45319),a=t(79291),r=new l({initialize:function(e,s,o,i,h,u,d){this.texture=e,this.name=s,this.source=e.source[o],this.sourceIndex=o,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,d,i,h)},setCutPosition:function(n,e){return n===void 0&&(n=0),e===void 0&&(e=0),this.cutX=n,this.cutY=e,this.updateUVs()},setCutSize:function(n,e){return this.cutWidth=n,this.cutHeight=e,this.updateUVs()},setSize:function(n,e,s,o){s===void 0&&(s=0),o===void 0&&(o=0),this.setCutPosition(s,o),this.setCutSize(n,e),this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var i=this.data,h=i.cut;h.x=s,h.y=o,h.w=n,h.h=e,h.r=s+n,h.b=o+e,i.sourceSize.w=n,i.sourceSize.h=e,i.spriteSourceSize.w=n,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(n*n+e*e);var u=i.drawImage;return u.x=s,u.y=o,u.width=n,u.height=e,this.updateUVs()},setTrim:function(n,e,s,o,i,h){var u=this.data,d=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=n,u.sourceSize.h=e,d.x=s,d.y=o,d.w=i,d.h=h,d.r=s+i,d.b=o+h,this.x=s,this.y=o,this.width=i,this.height=h,this.halfWidth=i*.5,this.halfHeight=h*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(n,e,s,o){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&o===this.height,i.scale9Borders.x=n,i.scale9Borders.y=e,i.scale9Borders.w=s,i.scale9Borders.h=o,this},setCropUVs:function(n,e,s,o,i,h,u){var d=this.cutX,f=this.cutY,c=this.cutWidth,g=this.cutHeight,m=this.realWidth,y=this.realHeight;e=p(e,0,m),s=p(s,0,y),o=p(o,0,m-e),i=p(i,0,y-s);var x=d+e,S=f+s,C=o,A=i,F=this.data;if(F.trim){var M=F.spriteSourceSize;o=p(o,0,M.x+c-e),i=p(i,0,M.y+g-s);var w=e+o,R=s+i,O=!(M.r<e||M.b<s||M.x>w||M.y>R);if(O){var U=Math.max(M.x,e),X=Math.max(M.y,s),W=Math.min(M.r,w)-U,Y=Math.min(M.b,R)-X;C=W,A=Y,h?x=d+(c-(U-M.x)-W):x=d+(U-M.x),u?S=f+(g-(X-M.y)-Y):S=f+(X-M.y),e=U,s=X,o=W,i=Y}else x=0,S=0,C=0,A=0}else h&&(x=d+(c-e-o)),u&&(S=f+(g-s-i));var N=this.source.width,V=this.source.height;return n.u0=Math.max(0,x/N),n.v0=Math.max(0,S/V),n.u1=Math.min(1,(x+C)/N),n.v1=Math.min(1,(S+A)/V),n.x=e,n.y=s,n.cx=x,n.cy=S,n.cw=C,n.ch=A,n.width=o,n.height=i,n.flipX=h,n.flipY=u,n},updateCropUVs:function(n,e,s){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,s)},setUVs:function(n,e,s,o,i,h){var u=this.data.drawImage;return u.width=n,u.height=e,this.u0=s,this.v0=o,this.u1=i,this.v1=h,this},updateUVs:function(){var n=this.cutX,e=this.cutY,s=this.cutWidth,o=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=o;var h=this.source.width,u=this.source.height;return this.u0=n/h,this.v0=e/u,this.u1=(n+s)/h,this.v1=(e+o)/u,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new r(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=a(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});v.exports=r},79237:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(4327),a=t(11876),r='Texture "%s" has no frame "%s"',n=new l({initialize:function(s,o,i,h,u){Array.isArray(i)||(i=[i]),this.manager=s,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<i.length;d++)this.source.push(new a(this,i[d],h,u))},add:function(e,s,o,i,h,u){if(this.has(e))return null;var d=new p(this,e,s,o,i,h,u);return this.frames[e]=d,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,d},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(r,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var o=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var h=this.frames[i];h.sourceIndex===e&&o.push(h)}return o},getFrameBounds:function(e){e===void 0&&(e=0);for(var s=this.getFramesFromTextureSource(e,!0),o=s[0],i=o.cutX,h=o.cutY,u=o.cutX+o.cutWidth,d=o.cutY+o.cutHeight,f=1;f<s.length;f++){var c=s[f];c.cutX<i&&(i=c.cutX),c.cutY<h&&(h=c.cutY),c.cutX+c.cutWidth>u&&(u=c.cutX+c.cutWidth),c.cutY+c.cutHeight>d&&(d=c.cutY+c.cutHeight)}return{x:i,y:h,width:u-i,height:d-h}},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var o=s.indexOf("__BASE");o!==-1&&s.splice(o,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],o;return s?o=s.sourceIndex:(console.warn(r,this.key,e),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var o=this.source[s];this.dataSource.push(new a(this,e[s],o.width,o.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,o=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<o.length;e++)o[e]&&o[e].destroy();for(var i in this.frames){var h=this.frames[i];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});v.exports=n},17130:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),p=t(57382),a=t(83419),r=t(40987),n=t(8054),e=t(81320),s=t(50792),o=t(69442),i=t(4327),h=t(8443),u=t(99584),d=t(35154),f=t(88571),c=t(41212),g=t(61309),m=t(87841),y=t(79237),x=new a({Extends:s,initialize:function(C){s.call(this),this.game=C,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new m,this.silentWarnings=!1,C.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(o.LOAD,this.updatePending,this),this.on(o.ERROR,this.updatePending,this);var S=this.game.config;S.defaultImage!==null&&this.addBase64("__DEFAULT",S.defaultImage),S.missingImage!==null&&this.addBase64("__MISSING",S.missingImage),S.whiteImage!==null&&this.addBase64("__WHITE",S.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(C){this.stamp=new f(C).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(o.LOAD),this.off(o.ERROR),this.emit(o.READY))},checkKey:function(S){return!S||typeof S!="string"||this.exists(S)?(this.silentWarnings||console.error("Texture key already in use: "+S),!1):!0},remove:function(S){if(typeof S=="string")if(this.exists(S))S=this.get(S);else return this.silentWarnings||console.warn("No texture found matching key: "+S),this;var C=S.key;return this.list.hasOwnProperty(C)&&(S.destroy(),this.emit(o.REMOVE,C),this.emit(o.REMOVE_KEY+C)),this},removeKey:function(S){return this.list.hasOwnProperty(S)&&delete this.list[S],this},addBase64:function(S,C){if(this.checkKey(S)){var A=this,F=new Image;F.onerror=function(){A.emit(o.ERROR,S)},F.onload=function(){var M=A.create(S,F);M&&(g.Image(M,0),A.emit(o.ADD,S,M),A.emit(o.ADD_KEY+S,M),A.emit(o.LOAD,S,M))},F.src=C}return this},getBase64:function(S,C,A,F){A===void 0&&(A="image/png"),F===void 0&&(F=.92);var M="",w=this.getFrame(S,C);if(w&&(w.source.isRenderTexture||w.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(w){var R=w.canvasData,O=l.create2D(this,R.width,R.height),U=O.getContext("2d",{willReadFrequently:!0});R.width>0&&R.height>0&&U.drawImage(w.source.image,R.x,R.y,R.width,R.height,0,0,R.width,R.height),M=O.toDataURL(A,F),l.remove(O)}return M},addImage:function(S,C,A){var F=null;return this.checkKey(S)&&(F=this.create(S,C),g.Image(F,0),A&&F.setDataSource(A),this.emit(o.ADD,S,F),this.emit(o.ADD_KEY+S,F)),F},addGLTexture:function(S,C){var A=null;if(this.checkKey(S)){var F=C.width,M=C.height;A=this.create(S,C,F,M),A.add("__BASE",0,0,0,F,M),this.emit(o.ADD,S,A),this.emit(o.ADD_KEY+S,A)}return A},addCompressedTexture:function(S,C,A){var F=null;if(this.checkKey(S)){if(F=this.create(S,C),F.add("__BASE",0,0,0,C.width,C.height),A){var M=function(R,O,U){Array.isArray(U.textures)||Array.isArray(U.frames)?g.JSONArray(R,O,U):g.JSONHash(R,O,U)};if(Array.isArray(A))for(var w=0;w<A.length;w++)M(F,w,A[w]);else M(F,0,A)}this.emit(o.ADD,S,F),this.emit(o.ADD_KEY+S,F)}return F},addRenderTexture:function(S,C){var A=null;return this.checkKey(S)&&(A=this.create(S,C),A.add("__BASE",0,0,0,C.width,C.height),this.emit(o.ADD,S,A),this.emit(o.ADD_KEY+S,A)),A},generate:function(S,C){if(this.checkKey(S)){var A=l.create(this,1,1);return C.canvas=A,u(C),this.addCanvas(S,A)}else return null},createCanvas:function(S,C,A){if(C===void 0&&(C=256),A===void 0&&(A=256),this.checkKey(S)){var F=l.create(this,C,A,n.CANVAS,!0);return this.addCanvas(S,F)}return null},addCanvas:function(S,C,A){A===void 0&&(A=!1);var F=null;return A?F=new p(this,S,C,C.width,C.height):this.checkKey(S)&&(F=new p(this,S,C,C.width,C.height),this.list[S]=F,this.emit(o.ADD,S,F),this.emit(o.ADD_KEY+S,F)),F},addDynamicTexture:function(S,C,A){var F=null;return typeof S=="string"&&!this.exists(S)?F=new e(this,S,C,A):(F=S,S=F.key),this.checkKey(S)?(this.list[S]=F,this.emit(o.ADD,S,F),this.emit(o.ADD_KEY+S,F)):F=null,F},addAtlas:function(S,C,A,F){return Array.isArray(A.textures)||Array.isArray(A.frames)?this.addAtlasJSONArray(S,C,A,F):this.addAtlasJSONHash(S,C,A,F)},addAtlasJSONArray:function(S,C,A,F){var M=null;if(C instanceof y?(S=C.key,M=C):this.checkKey(S)&&(M=this.create(S,C)),M){if(Array.isArray(A))for(var w=A.length===1,R=0;R<M.source.length;R++){var O=w?A[0]:A[R];g.JSONArray(M,R,O)}else g.JSONArray(M,0,A);F&&M.setDataSource(F),this.emit(o.ADD,S,M),this.emit(o.ADD_KEY+S,M)}return M},addAtlasJSONHash:function(S,C,A,F){var M=null;if(C instanceof y?(S=C.key,M=C):this.checkKey(S)&&(M=this.create(S,C)),M){if(Array.isArray(A))for(var w=0;w<A.length;w++)g.JSONHash(M,w,A[w]);else g.JSONHash(M,0,A);F&&M.setDataSource(F),this.emit(o.ADD,S,M),this.emit(o.ADD_KEY+S,M)}return M},addAtlasXML:function(S,C,A,F){var M=null;return C instanceof y?(S=C.key,M=C):this.checkKey(S)&&(M=this.create(S,C)),M&&(g.AtlasXML(M,0,A),F&&M.setDataSource(F),this.emit(o.ADD,S,M),this.emit(o.ADD_KEY+S,M)),M},addUnityAtlas:function(S,C,A,F){var M=null;return C instanceof y?(S=C.key,M=C):this.checkKey(S)&&(M=this.create(S,C)),M&&(g.UnityYAML(M,0,A),F&&M.setDataSource(F),this.emit(o.ADD,S,M),this.emit(o.ADD_KEY+S,M)),M},addSpriteSheet:function(S,C,A,F){var M=null;if(C instanceof y?(S=C.key,M=C):this.checkKey(S)&&(M=this.create(S,C)),M){var w=M.source[0].width,R=M.source[0].height;g.SpriteSheet(M,0,0,0,w,R,A),F&&M.setDataSource(F),this.emit(o.ADD,S,M),this.emit(o.ADD_KEY+S,M)}return M},addSpriteSheetFromAtlas:function(S,C){if(!this.checkKey(S))return null;var A=d(C,"atlas",null),F=d(C,"frame",null);if(!(!A||!F)){var M=this.get(A),w=M.get(F);if(w){var R=w.source.image;R||(R=w.source.glTexture);var O=this.create(S,R);return w.trimmed?g.SpriteSheetFromAtlas(O,w,C):g.SpriteSheet(O,0,w.cutX,w.cutY,w.cutWidth,w.cutHeight,C),this.emit(o.ADD,S,O),this.emit(o.ADD_KEY+S,O),O}}},addUint8Array:function(S,C,A,F){if(!this.checkKey(S)||C.length/4!==A*F)return null;var M=this.create(S,C,A,F);return M.add("__BASE",0,0,0,A,F),this.emit(o.ADD,S,M),this.emit(o.ADD_KEY+S,M),M},create:function(S,C,A,F){var M=null;return this.checkKey(S)&&(M=new y(this,S,C,A,F),this.list[S]=M),M},exists:function(S){return this.list.hasOwnProperty(S)},get:function(S){return S===void 0&&(S="__DEFAULT"),this.list[S]?this.list[S]:S instanceof y?S:S instanceof i?S.texture:this.list.__MISSING},cloneFrame:function(S,C){if(this.list[S])return this.list[S].get(C).clone()},getFrame:function(S,C){if(this.list[S])return this.list[S].get(C)},parseFrame:function(S){if(S){if(typeof S=="string")return this.getFrame(S);if(Array.isArray(S)&&S.length===2)return this.getFrame(S[0],S[1]);if(c(S))return this.getFrame(S.key,S.frame);if(S instanceof y)return S.get();if(S instanceof i)return S}else return},getTextureKeys:function(){var S=[];for(var C in this.list)C!=="__DEFAULT"&&C!=="__MISSING"&&C!=="__WHITE"&&C!=="__NORMAL"&&S.push(C);return S},getPixel:function(S,C,A,F){var M=this.getFrame(A,F);if(M){S-=M.x,C-=M.y;var w=M.data.cut;if(S+=w.x,C+=w.y,S>=w.x&&S<w.r&&C>=w.y&&C<w.b){var R=this._tempContext;R.clearRect(0,0,1,1),R.drawImage(M.source.image,S,C,1,1,0,0,1,1);var O=R.getImageData(0,0,1,1);return new r(O.data[0],O.data[1],O.data[2],O.data[3])}}return null},getPixelAlpha:function(S,C,A,F){var M=this.getFrame(A,F);if(M){S-=M.x,C-=M.y;var w=M.data.cut;if(S+=w.x,C+=w.y,S>=w.x&&S<w.r&&C>=w.y&&C<w.b){var R=this._tempContext;R.clearRect(0,0,1,1),R.drawImage(M.source.image,S,C,1,1,0,0,1,1);var O=R.getImageData(0,0,1,1);return O.data[3]}}return null},setTexture:function(S,C,A){return this.list[C]&&(S.texture=this.list[C],S.frame=S.texture.get(A)),S},renameTexture:function(S,C){var A=this.get(S);return A&&S!==C?(A.key=C,this.list[C]=A,delete this.list[S],!0):!1},each:function(S,C){for(var A=[null],F=1;F<arguments.length;F++)A.push(arguments[F]);for(var M in this.list)A[0]=this.list[M],S.apply(C,A)},resetStamp:function(S,C){S===void 0&&(S=1),C===void 0&&(C=16777215);var A=this.stamp;return A.setCrop(),A.setPosition(0),A.setAngle(0),A.setScale(1),A.setAlpha(S),A.setTint(C),A.setTexture("__WHITE"),A},destroy:function(){for(var S in this.list)this.list[S].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,l.remove(this._tempCanvas)}});v.exports=x},11876:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),p=t(83419),a=t(50030),r=t(29795),n=t(82751),e=new p({initialize:function(o,i,h,u,d){d===void 0&&(d=!1);var f=o.manager.game;this.renderer=f.renderer,this.texture=o,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=h||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof n,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(f)},init:function(s){var o=this.renderer;if(o){var i=this.source;if(o.gl){var h=this.image,u=this.flipY,d=this.width,f=this.height,c=this.scaleMode;this.isCanvas?this.glTexture=o.createCanvasTexture(h,!1,u):this.isVideo?this.glTexture=o.createVideoTexture(h,!1,u):this.isRenderTexture?this.glTexture=o.createTextureFromSource(null,d,f,c):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=o.createTextureFromSource(i,void 0,void 0,c):i instanceof Uint8Array?this.glTexture=o.createUint8ArrayTexture(i,d,f,c):this.glTexture=o.createTextureFromSource(h,d,f,c)}else this.isRenderTexture&&(this.image=i.canvas)}s.config.antialias||this.setFilter(1)},setFilter:function(s){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,s),this.scaleMode=s},setFlipY:function(s){return s===void 0&&(s=!0),s===this.flipY?this:(this.flipY=s,this.update(),this)},update:function(){var s=this.renderer,o=this.image,i=this.flipY,h=s.gl;h&&this.isCanvas?s.updateCanvasTexture(o,this.glTexture,i):h&&this.isVideo&&s.updateVideoTexture(o,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});v.exports=e},19673:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};v.exports=T},44538:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture"},63486:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture-"},94851:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onerror"},29099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onload"},8678:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},86415:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture"},30879:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture-"},69442:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),p=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:p,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=l(!1,a,p),v.exports=a},89905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[l];t.add("__BASE",l,0,0,a.width,a.height);for(var r=p.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var s=r[e].attributes,o=s.name.value,i=parseInt(s.x.value,10),h=parseInt(s.y.value,10),u=parseInt(s.width.value,10),d=parseInt(s.height.value,10);if(n=t.add(o,l,i,h,u,d),s.frameX){var f=Math.abs(parseInt(s.frameX.value,10)),c=Math.abs(parseInt(s.frameY.value,10)),g=parseInt(s.frameWidth.value,10),m=parseInt(s.frameHeight.value,10);n.setTrim(u,d,f,c,g,m)}}return t};v.exports=T},72893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.source[l];return t.add("__BASE",l,0,0,p.width,p.height),t};v.exports=T},4832:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.source[l];return t.add("__BASE",l,0,0,p.width,p.height),t};v.exports=T},78566:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),p=function(a,r,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var s=Array.isArray(n.textures)?n.textures[r].frames:n.frames,o,i=0;i<s.length;i++){var h=s[i];if(o=a.add(h.filename,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&o.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=h.anchor||h.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),h.scale9Borders&&o.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),o.customData=l(h)}for(var d in n)d!=="frames"&&(Array.isArray(n[d])?a.customData[d]=n[d].slice(0):a.customData[d]=n[d]);return a};v.exports=p},39711:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),p=function(a,r,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var s=n.frames,o;for(var i in s)if(s.hasOwnProperty(i)){var h=s[i];if(o=a.add(i,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+i);continue}h.trimmed&&o.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=h.anchor||h.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),h.scale9Borders&&o.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),o.customData=l(h)}for(var d in n)d!=="frames"&&(Array.isArray(n[d])?a.customData[d]=n[d].slice(0):a.customData[d]=n[d]);return a};v.exports=p},31403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=[171,75,84,88,32,49,49,187,13,10,26,10],p,a=new Uint8Array(t,0,12);for(p=0;p<a.length;p++)if(a[p]!==l[p]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*r),e=n.getUint32(0,!0)===67305985,s=n.getUint32(1*r,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var o=n.getUint32(4*r,e),i=n.getUint32(6*r,e),h=n.getUint32(7*r,e),u=Math.max(1,n.getUint32(11*r,e)),d=n.getUint32(12*r,e),f=new Array(u),c=12+13*4+d,g=i,m=h;for(p=0;p<u;p++){var y=new Int32Array(t,c,1)[0];c+=4,f[p]={data:new Uint8Array(t,c,y),width:g,height:m},g=Math.max(1,g>>1),m=Math.max(1,m>>1),c+=y}return{mipmaps:f,width:i,height:h,internalFormat:o,compressed:!0,generateMipmap:!1}};v.exports=T},82038:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(C,A,F,M,w,R,O){return O===void 0&&(O=16),Math.floor((C+F)/w)*Math.floor((A+M)/R)*O}function t(C,A){return C=Math.max(C,16),A=Math.max(A,8),C*A/4}function l(C,A){return C=Math.max(C,8),A=Math.max(A,8),C*A/2}function p(C,A){return Math.ceil(C/4)*Math.ceil(A/4)*16}function a(C,A){return T(C,A,3,3,4,4,8)}function r(C,A){return T(C,A,3,3,4,4)}function n(C,A){return T(C,A,4,3,5,4)}function e(C,A){return T(C,A,4,4,5,5)}function s(C,A){return T(C,A,5,4,6,5)}function o(C,A){return T(C,A,5,5,6,6)}function i(C,A){return T(C,A,7,4,8,5)}function h(C,A){return T(C,A,7,5,8,6)}function u(C,A){return T(C,A,7,7,8,8)}function d(C,A){return T(C,A,9,4,10,5)}function f(C,A){return T(C,A,9,5,10,6)}function c(C,A){return T(C,A,9,7,10,8)}function g(C,A){return T(C,A,9,9,10,10)}function m(C,A){return T(C,A,11,9,12,10)}function y(C,A){return T(C,A,11,11,12,12)}var x={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:l,glFormat:[35840]},3:{sizeFunc:l,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:n,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:s,glFormat:[37811,37843]},31:{sizeFunc:o,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:f,glFormat:[37817,37849]},37:{sizeFunc:c,glFormat:[37818,37850]},38:{sizeFunc:g,glFormat:[37819,37851]},39:{sizeFunc:m,glFormat:[37820,37852]},40:{sizeFunc:y,glFormat:[37821,37853]}},S=function(C){for(var A=new Uint32Array(C,0,13),F=A[0],M=F===55727696,w=M?A[2]:A[3],R=A[4],O=x[w].glFormat[R],U=x[w].sizeFunc,X=A[11],W=A[7],Y=A[6],N=52+A[12],V=new Uint8Array(C,N),I=new Array(X),B=0,G=W,H=Y,$=0;$<X;$++){var Z=U(G,H);I[$]={data:new Uint8Array(V.buffer,V.byteOffset+B,Z),width:G,height:H},G=Math.max(1,G>>1),H=Math.max(1,H>>1),B+=Z}return{mipmaps:I,width:W,height:Y,internalFormat:O,compressed:!0,generateMipmap:!1}};v.exports=S},75549:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=function(a,r,n,e,s,o,i){var h=l(i,"frameWidth",null),u=l(i,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=a.source[r];a.add("__BASE",r,0,0,d.width,d.height);var f=l(i,"startFrame",0),c=l(i,"endFrame",-1),g=l(i,"margin",0),m=l(i,"spacing",0),y=Math.floor((s-g+m)/(h+m)),x=Math.floor((o-g+m)/(u+m)),S=y*x;S===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(f>S||f<-S)&&(f=0),f<0&&(f=S+f),(c===-1||c>S||c<f)&&(c=S);for(var C=g,A=g,F=0,M=0,w=0,R=0;R<S;R++){F=0,M=0;var O=C+h,U=A+u;O>s&&(F=O-s),U>o&&(M=U-o),R>=f&&R<=c&&(a.add(w,r,n+C,e+A,h-F,u-M),w++),C+=h+m,C+h>s&&(C=g,A+=u+m)}return a};v.exports=p},47534:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=function(a,r,n){var e=l(n,"frameWidth",null),s=l(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=a.source[0];a.add("__BASE",0,0,0,o.width,o.height),l(n,"startFrame",0),l(n,"endFrame",-1);for(var i=l(n,"margin",0),h=l(n,"spacing",0),u=r.cutX,d=r.cutY,f=r.cutWidth,c=r.cutHeight,g=r.realWidth,m=r.realHeight,y=Math.floor((g-i+h)/(e+h)),x=Math.floor((m-i+h)/(s+h)),S=r.x,C=e-S,A=e-(g-f-S),F=r.y,M=s-F,w=s-(m-c-F),R,O=i,U=i,X=0,W=0,Y=0;Y<x;Y++){for(var N=Y===0,V=Y===x-1,I=0;I<y;I++){var B=I===0,G=I===y-1;if(R=a.add(X,W,u+O,d+U,e,s),B||N||G||V){var H=B?S:0,$=N?F:0,Z=0,Q=0;B&&(Z+=e-C),G&&(Z+=e-A),N&&(Q+=s-M),V&&(Q+=s-w);var j=e-Z,_=s-Q;R.cutWidth=j,R.cutHeight=_,R.setTrim(e,s,H,$,j,_)}O+=h,B?O+=C:G?O+=A:O+=e,X++}O=i,U+=h,N?U+=M:V?U+=w:U+=s}return a};v.exports=p},86147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,t=function(p,a,r,n){var e=T-n.y-n.height;p.add(r,a,n.x,e,n.width,n.height)},l=function(p,a,r){var n=p.source[a];p.add("__BASE",a,0,0,n.width,n.height),T=n.height;for(var e=r.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",i="",h={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var d=e[u].match(s);if(d){var f=d[1]==="- ",c=d[2],g=d[3];if(f&&(i!==o&&(t(p,a,i,h),o=i),h={x:0,y:0,width:0,height:0}),c==="name"){i=g;continue}switch(c){case"x":case"y":case"width":case"height":h[c]=parseInt(g,10);break}}}return i!==o&&t(p,a,i,h),p};v.exports=l},55222:(v,T,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50030),p=function(o){for(var i=o.mipmaps,h=1;h<i.length;h++){var u=i[h].width,d=i[h].height;if(!l(u,d))return console.warn("Mip level "+h+" is not a power-of-two size: "+u+"x"+d),!1}var f=s[o.internalFormat];return f?f(o):(console.warn("No format checker found for internal format "+o.internalFormat+". Assuming valid."),!0)};function a(o){for(var i=o.mipmaps,h=0;h<i.length;h++){var u=i[h].width,d=i[h].height;if((u<<h)%4!==0||(d<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+u+"x"+d),!1}return!0}function r(){return!0}function n(o){var i=o.mipmaps,h=i[0];return l(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(o){var i=o.mipmaps,h=i[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var s={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:n,35841:n,35842:n,35843:n,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};v.exports=p},61309:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r,n,e,s,o,i,h){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),o===void 0&&(o=0),i===void 0&&(i=0),this.name=r,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=o|0,this.imageSpacing=i|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r,n,e){return this.images.push({gid:a,image:r,width:n,height:e}),this.total++,this}});v.exports=p},27462:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=new l({initialize:function(r){if(this.gids=[],r!==void 0)for(var n=0;n<r.length;++n)for(var e=r[n],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(r){var n=r.getTileData(a.gid);if(n)return n.type}}},setTextureAndFrame:function(a,r,n,e){if(r===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(r===null&&s.image!==void 0&&(r=s.image.key),n===null&&(n=e.gid-s.firstgid),a.scene.textures.getFrame(r,n)||(r=null,n=null))}a.setTexture(r,n)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var n=this.gids[r.gid];n!==void 0&&this.setFromJSON(a,n.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++){var e=r[n];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var s in r)a[s]!==void 0?a[s]=r[s]:a.setData(s,r[s])}}});v.exports=p},31989:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),p=t(87010),a=t(46177),r=t(49075),n=function(e,s,o,i,h,u,d,f){o===void 0&&(o=32),i===void 0&&(i=32),h===void 0&&(h=10),u===void 0&&(u=10),f===void 0&&(f=!1);var c=null;if(Array.isArray(d)){var g=s!==void 0?s:"map";c=a(g,l.ARRAY_2D,d,o,i,f)}else if(s!==void 0){var m=e.cache.tilemap.get(s);m?c=a(s,m.format,m.data,o,i,f):console.warn("No map data found for key "+s)}return c===null&&(c=new p({tileWidth:o,tileHeight:i,width:h,height:u})),new r(e,c)};v.exports=n},23029:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(31401),a=t(91907),r=t(62644),n=t(93232),e=new l({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(o,i,h,u,d,f,c,g){this.layer=o,this.index=i,this.x=h,this.y=u,this.width=d,this.height=f,this.right,this.bottom,this.baseWidth=c!==void 0?c:d,this.baseHeight=g!==void 0?g:f,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(s,o){return!(s<this.pixelX||o<this.pixelY||s>this.right||o>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=r(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var o=this.tilemapLayer;return o?this.getLeft(s)+this.width*o.scaleX:this.getLeft(s)+this.width},getTop:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var o=this.tilemapLayer;return o?this.getTop(s)+this.height*o.scaleY:this.getTop(s)+this.height},getBounds:function(s,o){return o===void 0&&(o=new n),o.x=this.getLeft(s),o.y=this.getTop(s),o.width=this.getRight(s)-o.x,o.height=this.getBottom(s)-o.y,o},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,o,i,h){return!(i<=this.pixelX||h<=this.pixelY||s>=this.right||o>=this.bottom)},isInteresting:function(s,o){return s&&o?this.canCollide||this.hasInterestingFace:s?this.collides:o?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var o=this.tilemapLayer;o&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,o,i,h,u){if(o===void 0&&(o=s),i===void 0&&(i=s),h===void 0&&(h=s),u===void 0&&(u=!0),this.collideLeft=s,this.collideRight=o,this.collideUp=i,this.collideDown=h,this.faceLeft=s,this.faceRight=o,this.faceTop=i,this.faceBottom=h,u){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,o){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=o),this},setSize:function(s,o,i,h){return s!==void 0&&(this.width=s),o!==void 0&&(this.height=o),i!==void 0&&(this.baseWidth=i),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===a.HEXAGONAL){var o=this.layer.staggerAxis,i=this.layer.staggerIndex,h=this.layer.hexSideLength,u,d;o==="y"?(d=(this.baseHeight-h)/2+h,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):o==="x"&&(u=(this.baseWidth-h)/2+h,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var o=s.gidMap[this.index];if(o)return o}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});v.exports=e},49075:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84101),p=t(83419),a=t(39506),r=t(80341),n=t(95540),e=t(14977),s=t(27462),o=t(91907),i=t(36305),h=t(19133),u=t(68287),d=t(23029),f=t(81086),c=t(20442),g=t(33629),m=new p({initialize:function(x,S){this.scene=x,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tiles=S.tiles,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var C=this.orientation;this._convert={WorldToTileXY:f.GetWorldToTileXYFunction(C),WorldToTileX:f.GetWorldToTileXFunction(C),WorldToTileY:f.GetWorldToTileYFunction(C),TileToWorldXY:f.GetTileToWorldXYFunction(C),TileToWorldX:f.GetTileToWorldXFunction(C),TileToWorldY:f.GetTileToWorldYFunction(C),GetTileCorners:f.GetTileCornersFunction(C)}},setRenderOrder:function(y){var x=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=x[y]),x.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,x,S,C,A,F,M,w){if(y===void 0)return null;x==null&&(x=y);var R=this.scene.sys.textures;if(!R.exists(x))return console.warn('Texture key "%s" not found',x),null;var O=R.get(x),U=this.getTilesetIndex(y);if(U===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',y,this.tilesets),null;var X=this.tilesets[U];return X?((S||C)&&X.setTileSize(S,C),(A||F)&&X.setSpacing(A,F),X.setImage(O),X):(S===void 0&&(S=this.tileWidth),C===void 0&&(C=this.tileHeight),A===void 0&&(A=0),F===void 0&&(F=0),M===void 0&&(M=0),w===void 0&&(w={x:0,y:0}),X=new g(y,M,S,C,A,F,void 0,void 0,w),X.setImage(O),this.tilesets.push(X),this.tiles=l(this),X)},copy:function(y,x,S,C,A,F,M,w){return w=this.getLayer(w),w!==null?(f.Copy(y,x,S,C,A,F,M,w),this):null},createBlankLayer:function(y,x,S,C,A,F,M,w){S===void 0&&(S=0),C===void 0&&(C=0),A===void 0&&(A=this.width),F===void 0&&(F=this.height),M===void 0&&(M=this.tileWidth),w===void 0&&(w=this.tileHeight);var R=this.getLayerIndex(y);if(R!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var O=new e({name:y,tileWidth:M,tileHeight:w,width:A,height:F,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,X=0;X<F;X++){U=[];for(var W=0;W<A;W++)U.push(new d(O,-1,W,X,M,w,this.tileWidth,this.tileHeight));O.data.push(U)}this.layers.push(O),this.currentLayerIndex=this.layers.length-1;var Y=new c(this.scene,this,this.currentLayerIndex,x,S,C);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(y,x,S,C){var A=this.getLayerIndex(y);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[A];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=A,S===void 0&&(S=F.x),C===void 0&&(C=F.y);var M=new c(this.scene,this,A,x,S,C);return M.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(M),M},createFromObjects:function(y,x,S){S===void 0&&(S=!0);var C=[],A=this.getObjectLayer(y);if(!A)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),C;var F=new s(S?this.tilesets:void 0);Array.isArray(x)||(x=[x]);for(var M=A.objects,w=0;w<x.length;w++){var R=x[w],O=n(R,"id",null),U=n(R,"gid",null),X=n(R,"name",null),W=n(R,"type",null);F.enabled=!n(R,"ignoreTileset",null);for(var Y,N=[],V=0;V<M.length;V++)Y=M[V],(O===null&&U===null&&X===null&&W===null||O!==null&&Y.id===O||U!==null&&Y.gid===U||X!==null&&Y.name===X||W!==null&&F.getTypeIncludingTile(Y)===W)&&N.push(Y);for(var I=n(R,"classType",u),B=n(R,"scene",this.scene),G=n(R,"container",null),H=n(R,"key",null),$=n(R,"frame",null),Z=0;Z<N.length;Z++){Y=N[Z];var Q=new I(B);if(Q.setName(Y.name),Q.setPosition(Y.x,Y.y),F.setTextureAndFrame(Q,H,$,Y),Y.width&&(Q.displayWidth=Y.width),Y.height&&(Q.displayHeight=Y.height),this.orientation===o.ISOMETRIC){var j=this.tileWidth/this.tileHeight,_={x:Q.x-Q.y,y:(Q.x+Q.y)/j};Q.x=_.x,Q.y=_.y}var tt={x:Q.originX*Y.width,y:(Q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var et=a(Y.rotation);i(tt,et),Q.rotation=et}Q.x+=tt.x,Q.y+=tt.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&Q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(Q.visible=!1),F.setPropertiesFromTiledObject(Q,Y),G?G.add(Q):B.add.existing(Q),C.push(Q)}}return C},createFromTiles:function(y,x,S,C,A,F){return F=this.getLayer(F),F===null?null:f.CreateFromTiles(y,x,S,C,A,F)},fill:function(y,x,S,C,A,F,M){return F===void 0&&(F=!0),M=this.getLayer(M),M===null?null:(f.Fill(y,x,S,C,A,F,M),this)},filterObjects:function(y,x,S){if(typeof y=="string"){var C=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+C),null}return y.objects.filter(x,S)},filterTiles:function(y,x,S,C,A,F,M,w){return w=this.getLayer(w),w===null?null:f.FilterTiles(y,x,S,C,A,F,M,w)},findByIndex:function(y,x,S,C){return C=this.getLayer(C),C===null?null:f.FindByIndex(y,x,S,C)},findObject:function(y,x,S){if(typeof y=="string"){var C=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+C),null}return y.objects.find(x,S)||null},findTile:function(y,x,S,C,A,F,M,w){return w=this.getLayer(w),w===null?null:f.FindTile(y,x,S,C,A,F,M,w)},forEachTile:function(y,x,S,C,A,F,M,w){return w=this.getLayer(w),w===null?null:(f.ForEachTile(y,x,S,C,A,F,M,w),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,x){for(var S=0;S<y.length;S++)if(y[S].name===x)return S;return null},getLayer:function(y){var x=this.getLayerIndex(y);return x!==null?this.layers[x]:null},getObjectLayer:function(y){var x=this.getIndex(this.objects,y);return x!==null?this.objects[x]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof c&&y.tilemap===this?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,x,S,C){return C=this.getLayer(C),C===null?null:f.GetTileAt(y,x,S,C)},getTileAtWorldXY:function(y,x,S,C,A){return A=this.getLayer(A),A===null?null:f.GetTileAtWorldXY(y,x,S,C,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,x,S,C,A,F){return F=this.getLayer(F),F===null?null:f.GetTilesWithin(y,x,S,C,A,F)},getTilesWithinShape:function(y,x,S,C){return C=this.getLayer(C),C===null?null:f.GetTilesWithinShape(y,x,S,C)},getTilesWithinWorldXY:function(y,x,S,C,A,F,M){return M=this.getLayer(M),M===null?null:f.GetTilesWithinWorldXY(y,x,S,C,A,F,M)},getTileset:function(y){var x=this.getIndex(this.tilesets,y);return x!==null?this.tilesets[x]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,x,S){return S=this.getLayer(S),S===null?null:f.HasTileAt(y,x,S)},hasTileAtWorldXY:function(y,x,S,C){return C=this.getLayer(C),C===null?null:f.HasTileAtWorldXY(y,x,S,C)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,x,S,C,A){return C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:f.PutTileAt(y,x,S,C,A)},putTileAtWorldXY:function(y,x,S,C,A,F){return C===void 0&&(C=!0),F=this.getLayer(F),F===null?null:f.PutTileAtWorldXY(y,x,S,C,A,F)},putTilesAt:function(y,x,S,C,A){return C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(f.PutTilesAt(y,x,S,C,A),this)},randomize:function(y,x,S,C,A,F){return F=this.getLayer(F),F===null?null:(f.Randomize(y,x,S,C,A,F),this)},calculateFacesAt:function(y,x,S){return S=this.getLayer(S),S===null?null:(f.CalculateFacesAt(y,x,S),this)},calculateFacesWithin:function(y,x,S,C,A){return A=this.getLayer(A),A===null?null:(f.CalculateFacesWithin(y,x,S,C,A),this)},removeLayer:function(y){var x=this.getLayerIndex(y);if(x!==null){h(this.layers,x);for(var S=x;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===x&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var x=this.getLayerIndex(y);return x!==null?(y=this.layers[x],y.tilemapLayer.destroy(),h(this.layers,x),this.currentLayerIndex===x&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,x=0;x<y.length;x++)y[x].tilemapLayer&&y[x].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,x,S){x===void 0&&(x=-1),S===void 0&&(S=!0);var C=[];Array.isArray(y)||(y=[y]);for(var A=0;A<y.length;A++){var F=y[A];C.push(this.removeTileAt(F.x,F.y,!0,S,F.tilemapLayer)),x>-1&&this.putTileAt(x,F.x,F.y,S,F.tilemapLayer)}return C},removeTileAt:function(y,x,S,C,A){return S===void 0&&(S=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:f.RemoveTileAt(y,x,S,C,A)},removeTileAtWorldXY:function(y,x,S,C,A,F){return S===void 0&&(S=!0),C===void 0&&(C=!0),F=this.getLayer(F),F===null?null:f.RemoveTileAtWorldXY(y,x,S,C,A,F)},renderDebug:function(y,x,S){return S=this.getLayer(S),S===null?null:(this.orientation===o.ORTHOGONAL&&f.RenderDebug(y,x,S),this)},renderDebugFull:function(y,x){for(var S=this.layers,C=0;C<S.length;C++)f.RenderDebug(y,x,S[C]);return this},replaceByIndex:function(y,x,S,C,A,F,M){return M=this.getLayer(M),M===null?null:(f.ReplaceByIndex(y,x,S,C,A,F,M),this)},setCollision:function(y,x,S,C,A){return x===void 0&&(x=!0),S===void 0&&(S=!0),A===void 0&&(A=!0),C=this.getLayer(C),C===null?null:(f.SetCollision(y,x,S,C,A),this)},setCollisionBetween:function(y,x,S,C,A){return S===void 0&&(S=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(f.SetCollisionBetween(y,x,S,C,A),this)},setCollisionByProperty:function(y,x,S,C){return x===void 0&&(x=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionByProperty(y,x,S,C),this)},setCollisionByExclusion:function(y,x,S,C){return x===void 0&&(x=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionByExclusion(y,x,S,C),this)},setCollisionFromCollisionGroup:function(y,x,S){return y===void 0&&(y=!0),x===void 0&&(x=!0),S=this.getLayer(S),S===null?null:(f.SetCollisionFromCollisionGroup(y,x,S),this)},setTileIndexCallback:function(y,x,S,C){return C=this.getLayer(C),C===null?null:(f.SetTileIndexCallback(y,x,S,C),this)},setTileLocationCallback:function(y,x,S,C,A,F,M){return M=this.getLayer(M),M===null?null:(f.SetTileLocationCallback(y,x,S,C,A,F,M),this)},setLayer:function(y){var x=this.getLayerIndex(y);return x!==null&&(this.currentLayerIndex=x),this},setBaseTileSize:function(y,x){this.tileWidth=y,this.tileHeight=x,this.widthInPixels=this.width*y,this.heightInPixels=this.height*x;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=y,this.layers[S].baseTileHeight=x;for(var C=this.layers[S].data,A=this.layers[S].width,F=this.layers[S].height,M=0;M<F;M++)for(var w=0;w<A;w++){var R=C[M][w];R!==null&&R.setSize(void 0,void 0,y,x)}}return this},setLayerTileSize:function(y,x,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=y,S.tileHeight=x;for(var C=S.data,A=S.width,F=S.height,M=0;M<F;M++)for(var w=0;w<A;w++){var R=C[M][w];R!==null&&R.setSize(y,x)}return this},shuffle:function(y,x,S,C,A){return A=this.getLayer(A),A===null?null:(f.Shuffle(y,x,S,C,A),this)},swapByIndex:function(y,x,S,C,A,F,M){return M=this.getLayer(M),M===null?null:(f.SwapByIndex(y,x,S,C,A,F,M),this)},tileToWorldX:function(y,x,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(y,x,S)},tileToWorldY:function(y,x,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(y,x,S)},tileToWorldXY:function(y,x,S,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(y,x,S,C,A)},getTileCorners:function(y,x,S,C){return C=this.getLayer(C),C===null?null:this._convert.GetTileCorners(y,x,S,C)},weightedRandomize:function(y,x,S,C,A,F){return F=this.getLayer(F),F===null?null:(f.WeightedRandomize(x,S,C,A,y,F),this)},worldToTileX:function(y,x,S,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileX(y,x,S,C)},worldToTileY:function(y,x,S,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileY(y,x,S,C)},worldToTileXY:function(y,x,S,C,A,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(y,x,S,C,A,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});v.exports=m},45939:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),p=t(31989);l.register("tilemap",function(a){var r=a!==void 0?a:{};return p(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),p=t(31989);l.register("tilemap",function(a,r,n,e,s,o,i){return a===null&&(a=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),s===null&&(s=void 0),p(this.scene,a,r,n,e,s,o,i)})},20442:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(78389),a=t(31401),r=t(95643),n=t(81086),e=t(19218),s=t(26099),o=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,p,e],initialize:function(h,u,d,f,c,g){r.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=d,this.layer=u.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new s,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(f),this.setAlpha(this.layer.alpha),this.setPosition(c,g),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var h=[],u=[],d=this.tilemap;Array.isArray(i)||(i=[i]);for(var f=0;f<i.length;f++){var c=i[f];if(typeof c=="string"&&(c=d.getTileset(c)),c){u.push(c);for(var g=c.firstgid,m=0;m<c.total;m++)h[g+m]=c}}this.gidMap=h,this.tileset=u},setRenderOrder:function(i){var h=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=h.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,h){return n.CalculateFacesAt(i,h,this.layer),this},calculateFacesWithin:function(i,h,u,d){return n.CalculateFacesWithin(i,h,u,d,this.layer),this},createFromTiles:function(i,h,u,d,f){return n.CreateFromTiles(i,h,u,d,f,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,h,u,d,f,c,g){return n.Copy(i,h,u,d,f,c,g,this.layer),this},fill:function(i,h,u,d,f,c){return n.Fill(i,h,u,d,f,c,this.layer),this},filterTiles:function(i,h,u,d,f,c,g){return n.FilterTiles(i,h,u,d,f,c,g,this.layer)},findByIndex:function(i,h,u){return n.FindByIndex(i,h,u,this.layer)},findTile:function(i,h,u,d,f,c,g){return n.FindTile(i,h,u,d,f,c,g,this.layer)},forEachTile:function(i,h,u,d,f,c,g){return n.ForEachTile(i,h,u,d,f,c,g,this.layer),this},setTint:function(i,h,u,d,f,c){i===void 0&&(i=16777215);var g=function(m){m.tint=i,m.tintFill=!1};return this.forEachTile(g,this,h,u,d,f,c)},setTintFill:function(i,h,u,d,f,c){i===void 0&&(i=16777215);var g=function(m){m.tint=i,m.tintFill=!0};return this.forEachTile(g,this,h,u,d,f,c)},getTileAt:function(i,h,u){return n.GetTileAt(i,h,u,this.layer)},getTileAtWorldXY:function(i,h,u,d){return n.GetTileAtWorldXY(i,h,u,d,this.layer)},getIsoTileAtWorldXY:function(i,h,u,d,f){u===void 0&&(u=!0);var c=this.tempVec;return n.IsometricWorldToTileXY(i,h,!0,c,f,this.layer,u),this.getTileAt(c.x,c.y,d)},getTilesWithin:function(i,h,u,d,f){return n.GetTilesWithin(i,h,u,d,f,this.layer)},getTilesWithinShape:function(i,h,u){return n.GetTilesWithinShape(i,h,u,this.layer)},getTilesWithinWorldXY:function(i,h,u,d,f,c){return n.GetTilesWithinWorldXY(i,h,u,d,f,c,this.layer)},hasTileAt:function(i,h){return n.HasTileAt(i,h,this.layer)},hasTileAtWorldXY:function(i,h,u){return n.HasTileAtWorldXY(i,h,u,this.layer)},putTileAt:function(i,h,u,d){return n.PutTileAt(i,h,u,d,this.layer)},putTileAtWorldXY:function(i,h,u,d,f){return n.PutTileAtWorldXY(i,h,u,d,f,this.layer)},putTilesAt:function(i,h,u,d){return n.PutTilesAt(i,h,u,d,this.layer),this},randomize:function(i,h,u,d,f){return n.Randomize(i,h,u,d,f,this.layer),this},removeTileAt:function(i,h,u,d){return n.RemoveTileAt(i,h,u,d,this.layer)},removeTileAtWorldXY:function(i,h,u,d,f){return n.RemoveTileAtWorldXY(i,h,u,d,f,this.layer)},renderDebug:function(i,h){return n.RenderDebug(i,h,this.layer),this},replaceByIndex:function(i,h,u,d,f,c){return n.ReplaceByIndex(i,h,u,d,f,c,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=1),this.cullPaddingX=i,this.cullPaddingY=h,this},setCollision:function(i,h,u,d){return n.SetCollision(i,h,u,this.layer,d),this},setCollisionBetween:function(i,h,u,d){return n.SetCollisionBetween(i,h,u,d,this.layer),this},setCollisionByProperty:function(i,h,u){return n.SetCollisionByProperty(i,h,u,this.layer),this},setCollisionByExclusion:function(i,h,u){return n.SetCollisionByExclusion(i,h,u,this.layer),this},setCollisionFromCollisionGroup:function(i,h){return n.SetCollisionFromCollisionGroup(i,h,this.layer),this},setTileIndexCallback:function(i,h,u){return n.SetTileIndexCallback(i,h,u,this.layer),this},setTileLocationCallback:function(i,h,u,d,f,c){return n.SetTileLocationCallback(i,h,u,d,f,c,this.layer),this},shuffle:function(i,h,u,d){return n.Shuffle(i,h,u,d,this.layer),this},swapByIndex:function(i,h,u,d,f,c){return n.SwapByIndex(i,h,u,d,f,c,this.layer),this},tileToWorldX:function(i,h){return this.tilemap.tileToWorldX(i,h,this)},tileToWorldY:function(i,h){return this.tilemap.tileToWorldY(i,h,this)},tileToWorldXY:function(i,h,u,d){return this.tilemap.tileToWorldXY(i,h,u,d,this)},getTileCorners:function(i,h,u){return this.tilemap.getTileCorners(i,h,u,this)},weightedRandomize:function(i,h,u,d,f){return n.WeightedRandomize(h,u,d,f,i,this.layer),this},worldToTileX:function(i,h,u){return this.tilemap.worldToTileX(i,h,u,this)},worldToTileY:function(i,h,u){return this.tilemap.worldToTileY(i,h,u,this)},worldToTileXY:function(i,h,u,d,f){return this.tilemap.worldToTileXY(i,h,u,d,f,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});v.exports=o},16153:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),p=new l,a=new l,r=new l,n=function(e,s,o,i){var h=s.cull(o),u=h.length,d=o.alpha*s.alpha;if(!(u===0||d<=0)){var f=p,c=a,g=r;c.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),f.copyFrom(o.matrix);var m=e.currentContext,y=s.gidMap;m.save(),i?(f.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),c.e=s.x,c.f=s.y,f.multiply(c,g),g.copyToContext(m)):(c.e-=o.scrollX*s.scrollFactorX,c.f-=o.scrollY*s.scrollFactorY,c.copyToContext(m)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(m.imageSmoothingEnabled=!1);for(var x=0;x<u;x++){var S=h[x],C=y[S.index];if(C){var A=C.image.getSourceImage(),F=C.getTileTextureCoordinates(S.index),M=C.tileWidth,w=C.tileHeight;if(!(F===null||M===0||w===0)){var R=M*.5,O=w*.5;F.x+=C.tileOffset.x,F.y+=C.tileOffset.y,m.save(),m.translate(S.pixelX+R,S.pixelY+O),S.rotation!==0&&m.rotate(S.rotation),(S.flipX||S.flipY)&&m.scale(S.flipX?-1:1,S.flipY?-1:1),m.globalAlpha=d*S.alpha,m.drawImage(A,F.x,F.y,M,w,-R,-O,M,w),m.restore()}}}m.restore()}};v.exports=n},19218:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),p=l,a=l;p=t(99558),a=t(16153),v.exports={renderWebGL:p,renderCanvas:a}},99558:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),p=function(a,r,n){var e=r.cull(n),s=e.length,o=n.alpha*r.alpha;if(!(s===0||o<=0)){var i=r.gidMap,h=a.pipelines.set(r.pipeline,r),u=l.getTintAppendFloatAlpha,d=r.scrollFactorX,f=r.scrollFactorY,c=r.x,g=r.y,m=r.scaleX,y=r.scaleY;a.pipelines.preBatch(r);for(var x=0;x<s;x++){var S=e[x],C=i[S.index];if(C){var A=C.getTileTextureCoordinates(S.index),F=C.tileWidth,M=C.tileHeight;if(!(!A||F===0||M===0)){var w=F*.5,R=M*.5,O=C.glTexture,U=h.setTexture2D(O,r),X=F,W=M,Y=A.x,N=A.y,V=C.tileOffset.x,I=C.tileOffset.y,B=u(S.tint,o*S.alpha);h.batchTexture(r,O,O.width,O.height,c+S.pixelX*m+(w*m-V),g+S.pixelY*y+(R*y-I),F,M,m,y,S.rotation,S.flipX,S.flipY,d,f,w,R,Y,N,X,W,B,B,B,B,S.tintFill,0,0,n,null,!0,U,!0)}}}a.pipelines.postBatch(r)}};v.exports=p},33629:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(26099),a=new l({initialize:function(n,e,s,o,i,h,u,d,f){(s===void 0||s<=0)&&(s=32),(o===void 0||o<=0)&&(o=32),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u={}),d===void 0&&(d={}),this.name=n,this.firstgid=e,this.tileWidth=s,this.tileHeight=o,this.tileMargin=i,this.tileSpacing=h,this.tileProperties=u,this.tileData=d,this.tileOffset=new p,f!==void 0&&this.tileOffset.set(f.x,f.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var n=this.getTileData(r);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var n=r.get(),e=r.getFrameBounds();return this.glTexture=n.source.glTexture,n.width>e.width||n.height>e.height?this.updateTileData(n.width,n.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(r,n){return r!==void 0&&(this.tileWidth=r),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,n){return r!==void 0&&(this.tileMargin=r),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=0);var o=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(o%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),o=Math.floor(o),i=Math.floor(i),this.rows=o,this.columns=i,this.total=o*i,this.texCoordinates.length=0;for(var h=this.tileMargin+e,u=this.tileMargin+s,d=0;d<this.rows;d++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:h,y:u}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,u+=this.tileHeight+this.tileSpacing}return this}});v.exports=a},72023:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),p=function(a,r,n){var e=l(a,r,!0,n),s=l(a,r-1,!0,n),o=l(a,r+1,!0,n),i=l(a-1,r,!0,n),h=l(a+1,r,!0,n),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(u&&(e.faceTop=!1),s.faceBottom=!u),o&&o.collides&&(u&&(e.faceBottom=!1),o.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),h&&h.collides&&(u&&(e.faceRight=!1),h.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};v.exports=p},42573:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),p=t(7386),a=function(r,n,e,s,o){for(var i=null,h=null,u=null,d=null,f=p(r,n,e,s,null,o),c=0;c<f.length;c++){var g=f[c];g&&(g.collides?(i=l(g.x,g.y-1,!0,o),h=l(g.x,g.y+1,!0,o),u=l(g.x-1,g.y,!0,o),d=l(g.x+1,g.y,!0,o),g.faceTop=!(i&&i.collides),g.faceBottom=!(h&&h.collides),g.faceLeft=!(u&&u.collides),g.faceRight=!(d&&d.collides)):g.resetFaces())}};v.exports=a},33528:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=new l,a=function(r,n,e,s){var o=e.tilemapLayer,i=o.cullPaddingX,h=o.cullPaddingY,u=o.tilemap.tileToWorldXY(r,n,p,s,o);return u.x>s.worldView.x+o.scaleX*e.tileWidth*(-i-.5)&&u.x<s.worldView.right+o.scaleX*e.tileWidth*(i-.5)&&u.y>s.worldView.y+o.scaleY*e.tileHeight*(-h-1)&&u.y<s.worldView.bottom+o.scaleY*e.tileHeight*(h-.5)};v.exports=a},1785:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42573),p=t(7386),a=t(62991),r=t(23029),n=function(e,s,o,i,h,u,d,f){d===void 0&&(d=!0);var c=p(e,s,o,i,null,f),g=[];c.forEach(function(F){var M=new r(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);M.copy(F),g.push(M)});for(var m=h-e,y=u-s,x=0;x<g.length;x++){var S=g[x],C=S.x+m,A=S.y+y;a(C,A,f)&&f.data[A][C]&&(S.x=C,S.y=A,S.updatePixelXY(),f.data[A][C]=S)}d&&l(h-1,u-1,o+2,i+2,f),c.length=0,g.length=0};v.exports=n},78419:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),p=t(7386),a=t(27987),r=function(n,e,s,o,i,h){s||(s={}),Array.isArray(n)||(n=[n]);var u=h.tilemapLayer;o||(o=u.scene),i||(i=o.cameras.main);var d=h.width,f=h.height,c=p(0,0,d,f,null,h),g=[],m,y=function(A,F,M){for(var w=0;w<M.length;w++){var R=M[w];A.hasOwnProperty(R)||(A[R]=F[R])}};for(m=0;m<c.length;m++){var x=c[m],S=l(s);if(n.indexOf(x.index)!==-1){var C=u.tileToWorldXY(x.x,x.y,void 0,i,h);S.x=C.x,S.y=C.y,y(S,x,["rotation","flipX","flipY","alpha","visible","tint"]),S.hasOwnProperty("origin")||(S.x+=x.width*.5,S.y+=x.height*.5),S.hasOwnProperty("useSpriteSheet")&&(S.key=x.tileset.image,S.frame=x.index-1),g.push(o.make.sprite(S))}}if(Array.isArray(e))for(m=0;m<n.length;m++)a(n[m],e[m],0,0,d,f,h);else if(e!==null)for(m=0;m<n.length;m++)a(n[m],e,0,0,d,f,h);return g};v.exports=r},19545:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),p=t(63448),a=t(56583),r=new l,n=function(e,s){var o=e.tilemapLayer.tilemap,i=e.tilemapLayer,h=Math.floor(o.tileWidth*i.scaleX),u=Math.floor(o.tileHeight*i.scaleY),d=a(s.worldView.x-i.x,h,0,!0)-i.cullPaddingX,f=p(s.worldView.right-i.x,h,0,!0)+i.cullPaddingX,c=a(s.worldView.y-i.y,u,0,!0)-i.cullPaddingY,g=p(s.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return r.setTo(d,c,f-d,g-c)};v.exports=n},30003:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19545),p=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=l(r,n);return(o.skipCull||o.scrollFactorX!==1||o.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),p(r,i,s,e),e};v.exports=a},35137:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=t(42573),a=t(20576),r=function(n,e,s,o,i,h,u){for(var d=u.collideIndexes.indexOf(n)!==-1,f=l(e,s,o,i,null,u),c=0;c<f.length;c++)f[c].index=n,a(f[c],d);h&&p(e-1,s-1,o+2,i+2,u)};v.exports=r},40253:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=function(a,r,n,e,s,o,i,h){var u=l(n,e,s,o,i,h);return u.filter(a,r)};v.exports=p},52692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){l===void 0&&(l=0),p===void 0&&(p=!1);var r=0,n,e,s;if(p){for(e=a.height-1;e>=0;e--)for(n=a.width-1;n>=0;n--)if(s=a.data[e][n],s&&s.index===t){if(r===l)return s;r+=1}}else for(e=0;e<a.height;e++)for(n=0;n<a.width;n++)if(s=a.data[e][n],s&&s.index===t){if(r===l)return s;r+=1}return null};v.exports=T},66151:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=function(a,r,n,e,s,o,i,h){var u=l(n,e,s,o,i,h);return u.find(a,r)||null};v.exports=p},97560:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=function(a,r,n,e,s,o,i,h){var u=l(n,e,s,o,i,h);u.forEach(a,r)};v.exports=p},43305:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(30003),a=t(9474),r=t(14018),n=t(29747),e=t(54503),s=function(o){return o===l.ORTHOGONAL?p:o===l.HEXAGONAL?a:o===l.STAGGERED?e:o===l.ISOMETRIC?r:n};v.exports=s},7423:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62991),p=function(a,r,n,e){if(l(a,r,e)){var s=e.data[r][a]||null;return s?s.index===-1?n?s:null:s:null}else return null};v.exports=p},60540:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),p=t(26099),a=new p,r=function(n,e,s,o,i){return i.tilemapLayer.worldToTileXY(n,e,!0,a,o),l(a.x,a.y,s,i)};v.exports=r},55826:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e){var s=e.baseTileWidth,o=e.baseTileHeight,i=e.tilemapLayer,h=0,u=0;i&&(n||(n=i.scene.cameras.main),h=i.x+n.scrollX*(1-i.scrollFactorX),u=i.y+n.scrollY*(1-i.scrollFactorY),s*=i.scaleX,o*=i.scaleY);var d=h+a*s,f=u+r*o;return[new l(d,f),new l(d+s,f),new l(d+s,f+o),new l(d,f+o)]};v.exports=p},11758:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(27229),a=t(29747),r=t(55826),n=function(e){return e===l.ORTHOGONAL?r:e===l.ISOMETRIC?a:e===l.HEXAGONAL?p:(e===l.STAGGERED,a)};v.exports=n},39167:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(29747),a=t(97281),r=function(n){return n===l.ORTHOGONAL?a:p};v.exports=r},62e3:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(19951),a=t(14127),r=t(29747),n=t(97202),e=t(70326),s=function(o){return o===l.ORTHOGONAL?e:o===l.ISOMETRIC?a:o===l.HEXAGONAL?p:o===l.STAGGERED?n:r};v.exports=s},5984:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(29747),a=t(28054),r=t(29650),n=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:p};v.exports=n},7386:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=function(a,r,n,e,s,o){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=o.width),e===void 0&&(e=o.height),s||(s={});var i=l(s,"isNotEmpty",!1),h=l(s,"isColliding",!1),u=l(s,"hasInterestingFace",!1);a<0&&(n+=a,a=0),r<0&&(e+=r,r=0),a+n>o.width&&(n=Math.max(o.width-a,0)),r+e>o.height&&(e=Math.max(o.height-r,0));for(var d=[],f=r;f<r+e;f++)for(var c=a;c<a+n;c++){var g=o.data[f][c];if(g!==null){if(i&&g.index===-1||h&&!g.collides||u&&!g.hasInterestingFace)continue;d.push(g)}}return d};v.exports=p},91141:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55738),p=t(7386),a=t(91865),r=t(29747),n=t(26099),e=t(91907),s=function(d,f){return a.RectangleToTriangle(f,d)},o=new n,i=new n,h=new n,u=function(d,f,c,g){if(g.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(d===void 0)return[];var m=r;d instanceof l.Circle?m=a.CircleToRectangle:d instanceof l.Rectangle?m=a.RectangleToRectangle:d instanceof l.Triangle?m=s:d instanceof l.Line&&(m=a.LineToRectangle),g.tilemapLayer.worldToTileXY(d.left,d.top,!0,i,c);var y=i.x,x=i.y;g.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,h,c);var S=Math.ceil(h.x),C=Math.ceil(h.y),A=Math.max(S-y,1),F=Math.max(C-x,1),M=p(y,x,A,F,f,g),w=g.tileWidth,R=g.tileHeight;g.tilemapLayer&&(w*=g.tilemapLayer.scaleX,R*=g.tilemapLayer.scaleY);for(var O=[],U=new l.Rectangle(0,0,w,R),X=0;X<M.length;X++){var W=M[X];g.tilemapLayer.tileToWorldXY(W.x,W.y,o,c),U.x=o.x,U.y=o.y,m(d,U)&&O.push(W)}return O};v.exports=u},96523:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=t(26099),a=new p,r=new p,n=function(e,s,o,i,h,u,d){var f=d.tilemapLayer.tilemap._convert.WorldToTileXY;f(e,s,!0,a,u,d);var c=a.x,g=a.y;f(e+o,s+i,!1,r,u,d);var m=Math.ceil(r.x),y=Math.ceil(r.y);return l(c,g,m-c,y-g,h,d)};v.exports=n},96113:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(20242),a=t(10095),r=function(n){return n===l.ORTHOGONAL?a:p};v.exports=r},16926:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(86625),a=t(96897),r=t(29747),n=t(15108),e=t(85896),s=function(o){return o===l.ORTHOGONAL?e:o===l.ISOMETRIC?a:o===l.HEXAGONAL?p:o===l.STAGGERED?n:r};v.exports=s},55762:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=t(20242),a=t(51900),r=t(63288),n=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:p};v.exports=n},45091:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62991),p=function(a,r,n){if(l(a,r,n)){var e=n.data[r][a];return e!==null&&e.index>-1}else return!1};v.exports=p},24152:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45091),p=t(26099),a=new p,r=function(n,e,s,o){o.tilemapLayer.worldToTileXY(n,e,!0,a,s);var i=a.x,h=a.y;return l(i,h,o)};v.exports=r},90454:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63448),p=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),h=r.hexSideLength,u,d,f,c;if(r.staggerAxis==="y"){var g=(i-h)/2+h;u=p(n.worldView.x-s.x,o,0,!0)-s.cullPaddingX,d=l(n.worldView.right-s.x,o,0,!0)+s.cullPaddingX,f=p(n.worldView.y-s.y,g,0,!0)-s.cullPaddingY,c=l(n.worldView.bottom-s.y,g,0,!0)+s.cullPaddingY}else{var m=(o-h)/2+h;u=p(n.worldView.x-s.x,m,0,!0)-s.cullPaddingX,d=l(n.worldView.right-s.x,m,0,!0)+s.cullPaddingX,f=p(n.worldView.y-s.y,i,0,!0)-s.cullPaddingY,c=l(n.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:u,right:d,top:f,bottom:c}};v.exports=a},9474:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90454),p=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=l(r,n);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),p(r,i,s,e),e};v.exports=a},27229:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19951),p=t(26099),a=new p,r=function(n,e,s,o){var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(i*=u.scaleX,h*=u.scaleY);var d=l(n,e,a,s,o),f=[],c=.5773502691896257,g,m;o.staggerAxis==="y"?(g=c*i,m=h/2):(g=i/2,m=c*h);for(var y=0;y<6;y++){var x=2*Math.PI*(.5-y)/6;f.push(new p(d.x+g*Math.cos(x),d.y+m*Math.sin(x)))}return f};v.exports=r},19951:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s){n||(n=new l);var o=s.baseTileWidth,i=s.baseTileHeight,h=s.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),d=h.y+e.scrollY*(1-h.scrollFactorY),o*=h.scaleX,i*=h.scaleY);var f=o/2,c=i/2,g,m,y=s.staggerAxis,x=s.staggerIndex;return y==="y"?(g=u+o*a+o,m=d+1.5*r*c+c,r%2===0&&(x==="odd"?g-=f:g+=f)):y==="x"&&x==="odd"&&(g=u+1.5*a*f+f,m=d+i*a+i,a%2===0&&(x==="odd"?m-=c:m+=c)),n.set(g,m)};v.exports=p},86625:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s,o){e||(e=new l);var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var d=.5773502691896257,f=-.3333333333333333,c=0,g=.6666666666666666,m=i/2,y=h/2,x,S,C,A,F;o.staggerAxis==="y"?(x=(a-m)/(d*i),S=(r-y)/y,C=d*x+f*S,A=c*x+g*S):(x=(a-m)/m,S=(r-y)/(d*h),C=f*x+d*S,A=g*x+c*S),F=-C-A;var M=Math.round(C),w=Math.round(A),R=Math.round(F),O=Math.abs(M-C),U=Math.abs(w-A),X=Math.abs(R-F);O>U&&O>X?M=-w-R:U>X&&(w=-M-R);var W,Y=w;return o.staggerIndex==="odd"?W=Y%2===0?w/2+M:w/2+M-.5:W=Y%2===0?w/2+M:w/2+M+.5,e.set(W,Y)};v.exports=p},62991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t>=0&&t<p.width&&l>=0&&l<p.height};v.exports=T},14018:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33528),p=function(a,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var s=a.tilemapLayer,o=a.data,i=a.width,h=a.height,u=s.skipCull,d=0,f=i,c=0,g=h,m,y,x;if(e===0)for(y=c;y<g;y++)for(m=d;m<f;m++)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));else if(e===1)for(y=c;y<g;y++)for(m=f;m>=d;m--)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));else if(e===2)for(y=g;y>=c;y--)for(m=d;m<f;m++)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));else if(e===3)for(y=g;y>=c;y--)for(m=f;m>=d;m--)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));return s.tilesDrawn=n.length,s.tilesTotal=i*h,n};v.exports=p},14127:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s){n||(n=new l);var o=s.baseTileWidth,i=s.baseTileHeight,h=s.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),o*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var f=u+(a-r)*(o/2),c=d+(a+r)*(i/2);return n.set(f,c)};v.exports=p},96897:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s,o,i){e||(e=new l);var h=o.baseTileWidth,u=o.baseTileHeight,d=o.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,a=a-(d.x+s.scrollX*(1-d.scrollFactorX)),h*=d.scaleX);var f=h/2,c=u/2;a=a-f,i||(r=r-u);var g=.5*(a/f+r/c),m=.5*(-a/f+r/c);return n&&(g=Math.floor(g),m=Math.floor(m)),e.set(g,m)};v.exports=p},71558:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23029),p=t(62991),a=t(72023),r=t(20576),n=function(e,s,o,i,h){if(i===void 0&&(i=!0),!p(s,o,h))return null;var u,d=h.data[o][s],f=d&&d.collides;e instanceof l?(h.data[o][s]===null&&(h.data[o][s]=new l(h,e.index,s,o,h.tileWidth,h.tileHeight)),h.data[o][s].copy(e)):(u=e,h.data[o][s]===null?h.data[o][s]=new l(h,u,s,o,h.tileWidth,h.tileHeight):h.data[o][s].index=u);var c=h.data[o][s],g=h.collideIndexes.indexOf(c.index)!==-1;if(u=e instanceof l?e.index:e,u===-1)c.width=h.tileWidth,c.height=h.tileHeight;else{var m=h.tilemapLayer.tilemap,y=m.tiles,x=y[u][2],S=m.tilesets[x];c.width=S.tileWidth,c.height=S.tileHeight}return r(c,g),i&&f!==c.collides&&a(s,o,h),c};v.exports=n},26303:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71558),p=t(26099),a=new p,r=function(n,e,s,o,i,h){return h.tilemapLayer.worldToTileXY(e,s,!0,a,i,h),l(n,a.x,a.y,o,h)};v.exports=r},14051:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42573),p=t(71558),a=function(r,n,e,s,o){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,h=r[0].length,u=0;u<i;u++)for(var d=0;d<h;d++){var f=r[u][d];p(f,n+d,e+u,!1,o)}s&&l(n-1,e-1,h+2,i+2,o)};v.exports=a},77389:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=t(26546),a=function(r,n,e,s,o,i){var h,u=l(r,n,e,s,{},i);if(!o)for(o=[],h=0;h<u.length;h++)o.indexOf(u[h].index)===-1&&o.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=p(o)};v.exports=a},63557:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23029),p=t(62991),a=t(72023),r=function(n,e,s,o,i){if(s===void 0&&(s=!0),o===void 0&&(o=!0),!p(n,e,i))return null;var h=i.data[e][n];if(h)i.data[e][n]=s?null:new l(i,-1,n,e,i.tileWidth,i.tileHeight);else return null;return o&&h&&h.collides&&a(n,e,i),h};v.exports=r},94178:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63557),p=t(26099),a=new p,r=function(n,e,s,o,i,h){return h.tilemapLayer.worldToTileXY(n,e,!0,a,i,h),l(a.x,a.y,s,o,h)};v.exports=r},15533:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=t(3956),a=new p(105,210,231,150),r=new p(243,134,48,200),n=new p(40,39,37,150),e=function(s,o,i){o===void 0&&(o={});var h=o.tileColor!==void 0?o.tileColor:a,u=o.collidingTileColor!==void 0?o.collidingTileColor:r,d=o.faceColor!==void 0?o.faceColor:n,f=l(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<f.length;c++){var g=f[c],m=g.tileset?g.tileset.tileOffset:{x:0,y:0},y=g.width,x=g.height,S=g.pixelX-m.x,C=g.pixelY-m.y,A=g.collides?u:h;A!==null&&(s.fillStyle(A.color,A.alpha/255),s.fillRect(S,C,y,x)),S+=1,C+=1,y-=2,x-=2,d!==null&&(s.lineStyle(1,d.color,d.alpha/255),g.faceTop&&s.lineBetween(S,C,S+y,C),g.faceRight&&s.lineBetween(S+y,C,S+y,C+x),g.faceBottom&&s.lineBetween(S,C+x,S+y,C+x),g.faceLeft&&s.lineBetween(S,C,S,C+x))}};v.exports=e},27987:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=function(a,r,n,e,s,o,i){for(var h=l(n,e,s,o,null,i),u=0;u<h.length;u++)h[u]&&h[u].index===a&&(h[u].index=r)};v.exports=p},32483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=t.data,n=t.width,e=t.height,s=t.tilemapLayer,o=Math.max(0,l.left),i=Math.min(n,l.right),h=Math.max(0,l.top),u=Math.min(e,l.bottom),d,f,c;if(p===0)for(f=h;f<u;f++)for(d=o;r[f]&&d<i;d++)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(p===1)for(f=h;f<u;f++)for(d=i;r[f]&&d>=o;d--)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(p===2)for(f=u;f>=h;f--)for(d=o;r[f]&&d<i;d++)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(p===3)for(f=u;f>=h;f--)for(d=i;r[f]&&d>=o;d--)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);return s.tilesDrawn=a.length,s.tilesTotal=n*e,a};v.exports=T},57068:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),p=t(42573),a=t(9589),r=function(n,e,s,o,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++)a(n[h],e,o);if(i)for(var u=0;u<o.height;u++)for(var d=0;d<o.width;d++){var f=o.data[u][d];f&&n.indexOf(f.index)!==-1&&l(f,e)}s&&p(0,0,o.width,o.height,o)};v.exports=r},37266:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),p=t(42573),a=t(9589),r=function(n,e,s,o,i,h){if(s===void 0&&(s=!0),o===void 0&&(o=!0),h===void 0&&(h=!0),!(n>e)){for(var u=n;u<=e;u++)a(u,s,i);if(h)for(var d=0;d<i.height;d++)for(var f=0;f<i.width;f++){var c=i.data[d][f];c&&c.index>=n&&c.index<=e&&l(c,s)}o&&p(0,0,i.width,i.height,i)}};v.exports=r},75661:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),p=t(42573),a=t(9589),r=function(n,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(n)||(n=[n]);for(var i=0;i<o.height;i++)for(var h=0;h<o.width;h++){var u=o.data[i][h];u&&n.indexOf(u.index)===-1&&(l(u,e),a(u.index,e,o))}s&&p(0,0,o.width,o.height,o)};v.exports=r},64740:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),p=t(42573),a=t(97022),r=function(n,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<o.height;i++)for(var h=0;h<o.width;h++){var u=o.data[i][h];if(u){for(var d in n)if(a(u.properties,d)){var f=n[d];Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)u.properties[d]===f[c]&&l(u,e)}}}s&&p(0,0,o.width,o.height,o)};v.exports=r},63307:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),p=t(42573),a=function(r,n,e){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var s=0;s<e.height;s++)for(var o=0;o<e.width;o++){var i=e.data[s][o];if(i){var h=i.getCollisionGroup();h&&h.objects&&h.objects.length>0&&l(i,r)}}n&&p(0,0,e.width,e.height,e)};v.exports=a},9589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=p.collideIndexes.indexOf(t);l&&a===-1?p.collideIndexes.push(t):!l&&a!==-1&&p.collideIndexes.splice(a,1)};v.exports=T},20576:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};v.exports=T},79583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){if(typeof t=="number")a.callbacks[t]=l!==null?{callback:l,callbackContext:p}:void 0;else for(var r=0,n=t.length;r<n;r++)a.callbacks[t[r]]=l!==null?{callback:l,callbackContext:p}:void 0};v.exports=T},93254:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=function(a,r,n,e,s,o,i){for(var h=l(a,r,n,e,null,i),u=0;u<h.length;u++)h[u].setCollisionCallback(s,o)};v.exports=p},32903:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=t(33680),a=function(r,n,e,s,o){var i=l(r,n,e,s,null,o),h=i.map(function(d){return d.index});p(h);for(var u=0;u<i.length;u++)i[u].index=h[u]};v.exports=a},61325:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63448),p=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),h=p(n.worldView.x-s.x,o,0,!0)-s.cullPaddingX,u=l(n.worldView.right-s.x,o,0,!0)+s.cullPaddingX,d=p(n.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,f=l(n.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:h,right:u,top:d,bottom:f}};v.exports=a},54503:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61325),p=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=l(r,n);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),p(r,i,s,e),e};v.exports=a},97202:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s){n||(n=new l);var o=s.baseTileWidth,i=s.baseTileHeight,h=s.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),o*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var f=u+a*o+r%2*(o/2),c=d+r*(i/2);return n.set(f,c)};v.exports=p},28054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=p.baseTileHeight,r=p.tilemapLayer,n=0;return r&&(l===void 0&&(l=r.scene.cameras.main),n=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*(a/2)+a};v.exports=T},15108:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s,o){e||(e=new l);var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),h*=u.scaleY,a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var d=n?Math.floor(r/(h/2)):r/(h/2),f=n?Math.floor((a+d%2*.5*i)/i):(a+d%2*.5*i)/i;return e.set(f,d)};v.exports=p},51900:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=a.baseTileHeight,n=a.tilemapLayer;return n&&(p||(p=n.scene.cameras.main),t=t-(n.y+p.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),l?Math.floor(t/(r/2)):t/(r/2)};v.exports=T},86560:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=function(a,r,n,e,s,o,i){for(var h=l(n,e,s,o,null,i),u=0;u<h.length;u++)h[u]&&(h[u].index===a?h[u].index=r:h[u].index===r&&(h[u].index=a))};v.exports=p},97281:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=p.baseTileWidth,r=p.tilemapLayer,n=0;return r&&(l||(l=r.scene.cameras.main),n=r.x+l.scrollX*(1-r.scrollFactorX),a*=r.scaleX),n+t*a};v.exports=T},70326:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97281),p=t(29650),a=t(26099),r=function(n,e,s,o,i){return s||(s=new a(0,0)),s.x=l(n,o,i),s.y=p(e,o,i),s};v.exports=r},29650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=p.baseTileHeight,r=p.tilemapLayer,n=0;return r&&(l||(l=r.scene.cameras.main),n=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*a};v.exports=T},77366:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),p=t(75508),a=function(r,n,e,s,o,i){if(o){var h,u=l(r,n,e,s,null,i),d=0;for(h=0;h<o.length;h++)d+=o[h].weight;if(!(d<=0))for(h=0;h<u.length;h++){for(var f=p.RND.frac()*d,c=0,g=-1,m=0;m<o.length;m++)if(c+=o[m].weight,f<=c){var y=o[m].index;g=Array.isArray(y)?y[Math.floor(p.RND.frac()*y.length)]:y;break}u[h].index=g}}};v.exports=a},10095:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85896),p=t(26099),a=new p,r=function(n,e,s,o){return l(n,0,e,a,s,o),a.x};v.exports=r},85896:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),p=function(a,r,n,e,s,o){n===void 0&&(n=!0),e||(e=new l);var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var d=a/i,f=r/h;return n&&(d=Math.floor(d),f=Math.floor(f)),e.set(d,f)};v.exports=p},63288:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85896),p=t(26099),a=new p,r=function(n,e,s,o){return l(0,n,e,a,s,o),a.y};v.exports=r},81086:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ORIENTATION:t(91907)};v.exports=l},62501:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),p=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=l(!1,a,p.ORIENTATION),v.exports=a},14977:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(91907),a=t(95540),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",p.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=r},87010:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(91907),a=t(95540),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",p.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=r},48700:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=new l({initialize:function(n){n===void 0&&(n={}),this.name=p(n,"name","object layer"),this.id=p(n,"id",0),this.opacity=p(n,"opacity",1),this.properties=p(n,"properties",{}),this.propertyTypes=p(n,"propertytypes",{}),this.type=p(n,"type","objectgroup"),this.visible=p(n,"visible",!0),this.objects=p(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});v.exports=a},6641:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),p=function(a){return a=a.toLowerCase(),a==="isometric"?l.ISOMETRIC:a==="staggered"?l.STAGGERED:a==="hexagonal"?l.HEXAGONAL:l.ORTHOGONAL};v.exports=p},46177:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),p=t(2342),a=t(82593),r=t(46594),n=t(87021),e=function(s,o,i,h,u,d){var f;switch(o){case l.ARRAY_2D:f=p(s,i,h,u,d);break;case l.CSV:f=a(s,i,h,u,d);break;case l.TILED_JSON:f=r(s,i,d);break;case l.WELTMEISTER:f=n(s,i,d);break;default:console.warn("Unrecognized tilemap data format: "+o),f=null}return f};v.exports=e},2342:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),p=t(14977),a=t(87010),r=t(23029),n=function(e,s,o,i,h){for(var u=new p({tileWidth:o,tileHeight:i}),d=new a({name:e,tileWidth:o,tileHeight:i,format:l.ARRAY_2D,layers:[u]}),f=[],c=s.length,g=0,m=0;m<s.length;m++){f[m]=[];for(var y=s[m],x=0;x<y.length;x++){var S=parseInt(y[x],10);isNaN(S)||S===-1?f[m][x]=h?null:new r(u,-1,x,m,o,i):f[m][x]=new r(u,S,x,m,o,i)}g===0&&(g=y.length)}return d.width=u.width=g,d.height=u.height=c,d.widthInPixels=u.widthInPixels=g*o,d.heightInPixels=u.heightInPixels=c*i,u.data=f,d};v.exports=n},82593:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),p=t(2342),a=function(r,n,e,s,o){var i=n.trim().split(`
`).map(function(u){return u.split(",")}),h=p(r,i,e,s,o);return h.format=l.CSV,h};v.exports=a},6656:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14977),p=t(23029),a=function(r,n){for(var e=[],s=0;s<r.layer.length;s++){for(var o=r.layer[s],i=new l({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:o.visible===1}),h=[],u=[],d=0;d<o.data.length;d++){for(var f=0;f<o.data[d].length;f++){var c=o.data[d][f]-1,g;c>-1?g=new p(i,c,f,d,o.tilesize,o.tilesize):g=n?null:new p(i,-1,f,d,o.tilesize,o.tilesize),h.push(g)}u.push(h),h=[]}i.data=u,e.push(i)}return e};v.exports=a},96483:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),p=function(a){for(var r=[],n=[],e=0;e<a.layer.length;e++){var s=a.layer[e],o=s.tilesetName;o!==""&&n.indexOf(o)===-1&&(n.push(o),r.push(new l(o,0,s.tilesize,s.tilesize,0,0)))}return r};v.exports=p},87021:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),p=t(87010),a=t(6656),r=t(96483),n=function(e,s,o){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,h=0,u=0;u<s.layer.length;u++)s.layer[u].width>i&&(i=s.layer[u].width),s.layer[u].height>h&&(h=s.layer[u].height);var d=new p({width:i,height:h,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:l.WELTMEISTER});return d.layers=a(s,o),d.tilesets=r(s),d};v.exports=n},52833:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),p=function(a){for(var r,n,e,s,o,i=0;i<a.layers.length;i++){r=a.layers[i],s=null;for(var h=0;h<r.data.length;h++){o=r.data[h];for(var u=0;u<o.length;u++)n=o[u],!(n===null||n.index<0)&&(e=a.tiles[n.index][2],s=a.tilesets[e],n.width=s.tileWidth,n.height=s.tileHeight,s.tileProperties&&s.tileProperties[n.index-s.firstgid]&&(n.properties=l(n.properties,s.tileProperties[n.index-s.firstgid])))}}};v.exports=p},41868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var l=window.atob(t),p=l.length,a=new Array(p/4),r=0;r<p;r+=4)a[r/4]=(l.charCodeAt(r)|l.charCodeAt(r+1)<<8|l.charCodeAt(r+2)<<16|l.charCodeAt(r+3)<<24)>>>0;return a};v.exports=T},84101:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),p=function(a){var r,n,e=[];for(r=0;r<a.imageCollections.length;r++)for(var s=a.imageCollections[r],o=s.images,i=0;i<o.length;i++){var h=o[i],u={x:0,y:h.height-a.tileHeight};n=new l(h.image,h.gid,h.width,h.height,0,0,null,null,u),n.updateTileData(h.width,h.height),a.tilesets.push(n)}for(r=0;r<a.tilesets.length;r++){n=a.tilesets[r];for(var d=n.tileMargin,f=n.tileMargin,c=0,g=0,m=0,y=n.firstgid;y<n.firstgid+n.total&&(e[y]=[d,f,r],d+=n.tileWidth+n.tileSpacing,c++,!(c===n.total||(g++,g===n.columns&&(d=n.tileMargin,f+=n.tileHeight+n.tileSpacing,g=0,m++,m===n.rows))));y++);}return e};v.exports=p},79677:(v,T,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=function(a,r,n){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+l(r,"startx",0)*a.tilewidth+l(r,"offsetx",0),s=r.y+l(r,"starty",0)*a.tileheight+l(r,"offsety",0);return{i:0,layers:r.layers,name:n.name+r.name+"/",opacity:n.opacity*r.opacity,visible:n.visible&&r.visible,x:n.x+e,y:n.y+s}};v.exports=p},29920:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,t=1073741824,l=536870912,p=function(a){var r=!!(a&T),n=!!(a&t),e=!!(a&l);a=a&536870911;var s=0,o=!1;return r&&n&&e?(s=Math.PI/2,o=!0):r&&n&&!e?(s=Math.PI,o=!1):r&&!n&&e?(s=Math.PI/2,o=!1):r&&!n&&!e?(s=0,o=!0):!r&&n&&e?(s=3*Math.PI/2,o=!1):!r&&n&&!e?(s=Math.PI,o=!0):!r&&!n&&e?(s=3*Math.PI/2,o=!0):!r&&!n&&!e&&(s=0,o=!1),{gid:a,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:s,flipped:o}};v.exports=p},12635:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=t(79677),a=function(r){for(var n=[],e=[],s=p(r);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var o=s.layers[s.i];if(s.i++,o.type!=="imagelayer"){if(o.type==="group"){var i=p(r,o,s);e.push(s),s=i}continue}var h=l(o,"offsetx",0)+l(o,"startx",0),u=l(o,"offsety",0)+l(o,"starty",0);n.push({name:s.name+o.name,image:o.image,x:s.x+h+o.x,y:s.y+u+o.y,alpha:s.opacity*o.opacity,visible:s.visible&&o.visible,properties:l(o,"properties",{})})}return n};v.exports=a},46594:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51233),p=t(84101),a=t(91907),r=t(62644),n=t(80341),e=t(6641),s=t(87010),o=t(12635),i=t(22611),h=t(28200),u=t(24619),d=function(f,c,g){var m=r(c),y=new s({width:m.width,height:m.height,name:f,tileWidth:m.tilewidth,tileHeight:m.tileheight,orientation:e(m.orientation),format:n.TILED_JSON,version:m.version,properties:m.properties,renderOrder:m.renderorder,infinite:m.infinite});if(y.orientation===a.HEXAGONAL)if(y.hexSideLength=m.hexsidelength,y.staggerAxis=m.staggeraxis,y.staggerIndex=m.staggerindex,y.staggerAxis==="y"){var x=(y.tileHeight-y.hexSideLength)/2;y.widthInPixels=y.tileWidth*(y.width+.5),y.heightInPixels=y.height*(y.hexSideLength+x)+x}else{var S=(y.tileWidth-y.hexSideLength)/2;y.widthInPixels=y.width*(y.hexSideLength+S)+S,y.heightInPixels=y.tileHeight*(y.height+.5)}y.layers=h(m,g),y.images=o(m);var C=u(m);return y.tilesets=C.tilesets,y.imageCollections=C.imageCollections,y.objects=i(m),y.tiles=p(y),l(y),y};v.exports=d},52205:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18254),p=t(29920),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,s,o){s===void 0&&(s=0),o===void 0&&(o=0);var i=l(e,r);if(i.x+=s,i.y+=o,e.gid){var h=p(e.gid);i.gid=h.gid,i.flippedHorizontal=h.flippedHorizontal,i.flippedVertical=h.flippedVertical,i.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};v.exports=n},22611:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),p=t(52205),a=t(48700),r=t(79677),n=function(e){for(var s=[],o=[],i=r(e);i.i<i.layers.length||o.length>0;){if(i.i>=i.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=o.pop();continue}var h=i.layers[i.i];if(i.i++,h.opacity*=i.opacity,h.visible=i.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var u=r(e,h,i);o.push(i),i=u}continue}h.name=i.name+h.name;for(var d=i.x+l(h,"startx",0)+l(h,"offsetx",0),f=i.y+l(h,"starty",0)+l(h,"offsety",0),c=[],g=0;g<h.objects.length;g++){var m=p(h.objects[g],d,f);c.push(m)}var y=new a(h);y.objects=c,s.push(y)}return s};v.exports=n},28200:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41868),p=t(91907),a=t(79677),r=t(6641),n=t(95540),e=t(14977),s=t(29920),o=t(23029),i=function(h,u){for(var d=n(h,"infinite",!1),f=[],c=[],g=a(h);g.i<g.layers.length||c.length>0;){if(g.i>=g.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=c.pop();continue}var m=g.layers[g.i];if(g.i++,m.type!=="tilelayer"){if(m.type==="group"){var y=a(h,m,g);c.push(g),g=y}continue}if(m.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+m.name+"'");continue}else if(m.encoding&&m.encoding==="base64"){if(m.chunks)for(var x=0;x<m.chunks.length;x++)m.chunks[x].data=l(m.chunks[x].data);m.data&&(m.data=l(m.data)),delete m.encoding}var S,C,A,F,M,w,R=[],O=0;if(d){var U=n(m,"startx",0)+m.x,X=n(m,"starty",0)+m.y;S=new e({name:g.name+m.name,id:m.id,x:g.x+n(m,"offsetx",0)+U*h.tilewidth,y:g.y+n(m,"offsety",0)+X*h.tileheight,width:m.width,height:m.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:n(m,"properties",[]),orientation:r(h.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=h.hexsidelength,S.staggerAxis=h.staggeraxis,S.staggerIndex=h.staggerindex,S.staggerAxis==="y"?(M=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+M)+M):(w=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+w)+w,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var W=0;W<m.height;W++){R[W]=[null];for(var Y=0;Y<m.width;Y++)R[W][Y]=null}for(W=0,_=m.chunks.length;W<_;W++)for(var N=m.chunks[W],V=N.x-U,I=N.y-X,B=0,G=0,H=N.data.length;G<H;G++){var $=O+V,Z=B+I;C=s(N.data[G]),C.gid>0?(A=new o(S,C.gid,$,Z,h.tilewidth,h.tileheight),A.rotation=C.rotation,A.flipX=C.flipped,R[Z][$]=A):(F=u?null:new o(S,-1,$,Z,h.tilewidth,h.tileheight),R[Z][$]=F),O++,O===N.width&&(B++,O=0)}}else{S=new e({name:g.name+m.name,id:m.id,x:g.x+n(m,"offsetx",0)+m.x,y:g.y+n(m,"offsety",0)+m.y,width:m.width,height:m.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:n(m,"properties",[]),orientation:r(h.orientation)}),S.orientation===p.HEXAGONAL&&(S.hexSideLength=h.hexsidelength,S.staggerAxis=h.staggeraxis,S.staggerIndex=h.staggerindex,S.staggerAxis==="y"?(M=(S.tileHeight-S.hexSideLength)/2,S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+M)+M):(w=(S.tileWidth-S.hexSideLength)/2,S.widthInPixels=S.width*(S.hexSideLength+w)+w,S.heightInPixels=S.tileHeight*(S.height+.5)));for(var Q=[],j=0,_=m.data.length;j<_;j++)C=s(m.data[j]),C.gid>0?(A=new o(S,C.gid,O,R.length,h.tilewidth,h.tileheight),A.rotation=C.rotation,A.flipX=C.flipped,Q.push(A)):(F=u?null:new o(S,-1,O,R.length,h.tilewidth,h.tileheight),Q.push(F)),O++,O===m.width&&(R.push(Q),O=0,Q=[])}S.data=R,f.push(S)}return f};v.exports=i},24619:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),p=t(16536),a=t(52205),r=t(57880),n=function(e){for(var s=[],o=[],i=null,h,u=0;u<e.tilesets.length;u++){var d=e.tilesets[u];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var f=new l(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(e.version>1){var c=void 0,g=void 0;if(Array.isArray(d.tiles)){c=c||{},g=g||{};for(var m=0;m<d.tiles.length;m++){var y=d.tiles[m];if(y.properties){var x={};y.properties.forEach(function(W){x[W.name]=W.value}),g[y.id]=x}if(y.objectgroup&&((c[y.id]||(c[y.id]={})).objectgroup=y.objectgroup,y.objectgroup.objects)){var S=y.objectgroup.objects.map(function(W){return a(W)});c[y.id].objectgroup.objects=S}y.animation&&((c[y.id]||(c[y.id]={})).animation=y.animation),y.type&&((c[y.id]||(c[y.id]={})).type=y.type)}}Array.isArray(d.wangsets)&&(c=c||{},g=g||{},r(d.wangsets,c)),c&&(f.tileData=c,f.tileProperties=g)}else if(d.tileproperties&&(f.tileProperties=d.tileproperties),d.tiles){f.tileData=d.tiles;for(h in f.tileData){var C=f.tileData[h].objectgroup;if(C&&C.objects){var A=C.objects.map(function(W){return a(W)});f.tileData[h].objectgroup.objects=A}}}f.updateTileData(d.imagewidth,d.imageheight),s.push(f)}else{var F=new p(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),M=0;for(m=0;m<d.tiles.length;m++){y=d.tiles[m];var w=y.image,R=parseInt(y.id,10),O=d.firstgid+R,U=y.imagewidth,X=y.imageheight;F.addImage(O,w,U,X),M=Math.max(R,M)}F.maxId=M,o.push(F)}i&&(i.lastgid=d.firstgid-1),i=d}return{tilesets:s,imageCollections:o}};v.exports=n},57880:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){for(var p=0;p<t.length;p++){var a=t[p],r=p;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var n={},e={},s,o,i;if(Array.isArray(a.edgecolors))for(s=0;s<a.edgecolors.length;s++)i=1+s,o=a.edgecolors[s],o.name!==""&&(n[i]=o.name);if(Array.isArray(a.cornercolors))for(s=0;s<a.cornercolors.length;s++)i=1+s,o=a.cornercolors[s],o.name!==""&&(e[i]=o.name);if(Array.isArray(a.colors))for(s=0;s<a.colors.length;s++)o=a.colors[s],i=1+s,o.name!==""&&(n[i]=e[i]=o.name);for(var h=[n,e,n,e,n,e,n,e],u=0;u<a.wangtiles.length;u++){var d=a.wangtiles[u],f=l[d.tileid]||(l[d.tileid]={});f=f.wangid||(f.wangid={});for(var c=[],g=0;g<Math.min(h.length,d.wangid.length);g++){if(o=d.wangid[g],o===0){c.push(void 0);continue}var m=h[g][o];if(m!==void 0){c.push(m);continue}c.push(o)}f[r]=c}}}};v.exports=T},96761:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(37277),a=t(44594),r=t(94880),n=t(72905),e=new l({initialize:function(o){this.scene=o,this.systems=o.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(a.PRE_UPDATE,this.preUpdate,this),s.on(a.UPDATE,this.update,this),s.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var o;if(s instanceof r){if(o=s,this.removeEvent(o),o.elapsed=o.startAt,o.hasDispatched=!1,o.repeatCount=o.repeat===-1||o.loop?999999999999:o.repeat,o.delay<=0&&o.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else o=new r(s);return this._pendingInsertion.push(o),o},delayedCall:function(s,o,i,h){return this.addEvent({delay:s,callback:o,args:i,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=s[o];n(this._pendingRemoval,i),n(this._pendingInsertion,i),n(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,o=this._pendingInsertion.length;if(!(s===0&&o===0)){var i,h;for(i=0;i<s;i++){h=this._pendingRemoval[i];var u=this._active.indexOf(h);u>-1&&this._active.splice(u,1),h.destroy()}for(i=0;i<o;i++)h=this._pendingInsertion[i],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,o){if(this.now=s,!this.paused){o*=this.timeScale;for(var i=0;i<this._active.length;i++){var h=this._active[i];if(!h.paused&&(h.elapsed+=o*h.timeScale,h.elapsed>=h.delay)){var u=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,u>=h.delay)for(;u>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),u-=h.delay,h.repeatCount--;h.elapsed=u,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var o=this.systems.events;o.off(a.PRE_UPDATE,this.preUpdate,this),o.off(a.UPDATE,this.update,this),o.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",e,"time"),v.exports=e},96120:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(39429),r=t(95540),n=t(44594),e=t(89809),s=new l({Extends:p,initialize:function(i,h){p.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(n.PRE_UPDATE,this.preUpdate,this),u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(o,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var o,i=this.events,h=!1,u=this.systems,d;for(o=0;o<i.length;o++){var f=i[o];if(!f.complete&&f.time<=this.elapsed){if(f.complete=!0,this.totalComplete++,d=f.target?f.target:this,f.if&&!f.if.call(d,f))continue;if(f.once&&(h=!0),f.set&&f.target)for(var c in f.set)f.target[c]=f.set[c];this.iteration&&f.repeat++,f.loop&&f.repeat&&f.loop.call(d),f.tween&&(f.tweenInstance=u.tweens.add(f.tween)),f.sound&&(typeof f.sound=="string"?u.sound.play(f.sound):u.sound.play(f.sound.key,f.sound.config)),f.event&&this.emit(f.event,d),f.run&&f.run.call(d),f.stop&&this.stop()}}if(h)for(o=0;o<i.length;o++)i[o].complete&&i[o].once&&(i.splice(o,1),o--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(o){return o===void 0&&(o=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,o&&this.reset(),this},pause:function(){this.paused=!0;for(var o=this.events,i=0;i<o.length;i++){var h=o[i];h.tweenInstance&&(h.tweenInstance.paused=!0)}return this},repeat:function(o){return(o===void 0||o===!0)&&(o=-1),o===!1&&(o=0),this.loop=o,this},resume:function(){this.paused=!1;for(var o=this.events,i=0;i<o.length;i++){var h=o[i];h.tweenInstance&&(h.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(o){o===void 0&&(o=!1),this.elapsed=0,o||(this.iteration=0);for(var i=this.events,h=0;h<i.length;h++){var u=i[h];u.complete=!1,o||(u.repeat=0),u.tweenInstance&&u.tweenInstance.stop()}return this.play(!1)},add:function(o){Array.isArray(o)||(o=[o]);var i=this.events,h=0;i.length>0&&(h=i[i.length-1].time);for(var u=0;u<o.length;u++){var d=o[u],f=r(d,"at",0),c=r(d,"in",null);c!==null&&(f=this.elapsed+c);var g=r(d,"from",null);g!==null&&(f=h+g),i.push({complete:!1,time:f,repeat:0,if:r(d,"if",null),run:r(d,"run",null),loop:r(d,"loop",null),event:r(d,"event",null),target:r(d,"target",null),set:r(d,"set",null),tween:r(d,"tween",null),sound:r(d,"sound",null),once:r(d,"once",!1),stop:r(d,"stop",!1)}),h=f}return this.complete=!1,this},clear:function(){for(var o=this.events,i=0;i<o.length;i++){var h=o[i];h.tweenInstance&&h.tweenInstance.stop()}return o=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var o=Math.min(this.totalComplete,this.events.length);return o/this.events.length},destroy:function(){var o=this.systems.events;o.off(n.PRE_UPDATE,this.preUpdate,this),o.off(n.UPDATE,this.update,this),o.off(n.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});a.register("timeline",function(o){return new s(this.scene,o)}),v.exports=s},94880:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(95540),a=new l({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(r){if(this.delay=p(r,"delay",0),this.repeat=p(r,"repeat",0),this.loop=p(r,"loop",!1),this.callback=p(r,"callback",void 0),this.callbackScope=p(r,"callbackScope",this),this.args=p(r,"args",[]),this.timeScale=p(r,"timeScale",1),this.startAt=p(r,"startAt",0),this.paused=p(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});v.exports=a},35945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},89809:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(35945)}},90291:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),p=t(83419),a=t(43491),r=t(88032),n=t(37277),e=t(44594),s=t(93109),o=t(86081),i=t(8357),h=t(43960),u=t(26012),d=new p({initialize:function(c){this.scene=c,this.events=c.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(f){Array.isArray(f)||(f=[f]);for(var c=[],g=0;g<f.length;g++){var m=f[g];m instanceof o||m instanceof h?c.push(m):Array.isArray(m.tweens)?c.push(u(this,m)):c.push(i(this,m))}return c.length===1?c[0]:c},add:function(f){var c=f,g=this.tweens;return c instanceof o||c instanceof h||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),g.push(c.reset()),c},addMultiple:function(f){for(var c,g=[],m=this.tweens,y=0;y<f.length;y++)c=f[y],c instanceof o||c instanceof h||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),m.push(c.reset()),g.push(c);return g},chain:function(f){var c=u(this,f);return this.tweens.push(c.init()),c},getChainedTweens:function(f){return f.getChainedTweens()},has:function(f){return this.tweens.indexOf(f)>-1},existing:function(f){return this.has(f)||this.tweens.push(f.reset()),this},addCounter:function(f){var c=r(this,f);return this.tweens.push(c.reset()),c},stagger:function(f,c){return s(f,c)},setLagSmooth:function(f,c){return f===void 0&&(f=1/1e-8),c===void 0&&(c=0),this.maxLag=f,this.lagSkip=Math.min(c,this.maxLag),this},setFps:function(f){return f===void 0&&(f=240),this.gap=1e3/f,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(f){var c=Date.now()-this.prevTime;c>this.maxLag&&(this.startTime+=c-this.lagSkip),this.prevTime+=c;var g=this.prevTime-this.startTime,m=g-this.nextTime,y=g-this.time*1e3;return m>0||f?(g/=1e3,this.time=g,this.nextTime+=m+(m>=this.gap?4:this.gap-m)):y=0,y},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(f){f===void 0&&(f=!1);var c=this.getDelta(f);if(!(c<=0)){this.processing=!0;var g,m,y=[],x=this.tweens;for(g=0;g<x.length;g++)m=x[g],m.update(c)&&y.push(m);var S=y.length;if(S&&x.length>0){for(g=0;g<S;g++){m=y[g];var C=x.indexOf(m);C>-1&&(m.isPendingRemove()||m.isDestroyed())&&(x.splice(C,1),m.destroy())}y.length=0}this.processing=!1}},remove:function(f){return this.processing?f.setPendingRemoveState():(l(this.tweens,f),f.setRemovedState()),this},reset:function(f){return this.existing(f),f.seek(),f.setActiveState(),this},makeActive:function(f){return this.existing(f),f.setActiveState(),this},each:function(f,c){var g,m=[null];for(g=1;g<arguments.length;g++)m.push(arguments[g]);return this.tweens.forEach(function(y){m[0]=y,f.apply(c,m)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(f){var c=[],g=this.tweens;Array.isArray(f)?f=a(f):f=[f];for(var m=f.length,y=0;y<g.length;y++)for(var x=g[y],S=0;S<m;S++)!x.isDestroyed()&&x.hasTarget(f[S])&&c.push(x);return c},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(f){return this.timeScale=f,this},isTweening:function(f){for(var c=this.tweens,g,m=0;m<c.length;m++)if(g=c[m],g.isPlaying()&&g.hasTarget(f))return!0;return!1},killAll:function(){for(var f=this.processing?this.getTweens():this.tweens,c=0;c<f.length;c++)f[c].destroy();return this.processing||(f.length=0),this},killTweensOf:function(f){for(var c=this.getTweensOf(f),g=0;g<c.length;g++)c[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",d,"tweens"),v.exports=d},57355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){return t&&t.hasOwnProperty(l)?t[l]:p};v.exports=T},6113:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62640),p=t(35355),a=function(r,n){var e=l.Power0;if(typeof r=="string")if(l.hasOwnProperty(r))e=l[r];else{var s="";if(r.indexOf(".")){s=r.substring(r.indexOf(".")+1);var o=s.toLowerCase();o==="in"?s="easeIn":o==="out"?s="easeOut":o==="inout"&&(s="easeInOut")}r=p(r.substring(0,r.indexOf(".")+1)+s),l.hasOwnProperty(r)&&(e=l[r])}else typeof r=="function"&&(e=r);if(!n)return e;var i=n.slice(0);return i.unshift(0),function(h){return i[0]=h,e.apply(this,i)}};v.exports=a},91389:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89318),p=t(77259),a=t(28392),r={bezier:l,catmull:p,catmullrom:p,linear:a},n=function(e){if(e===null)return null;var s=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(s=r[e]):typeof e=="function"&&(s=e),s};v.exports=n},55292:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a;if(t.hasOwnProperty(l)){var r=typeof t[l];r==="function"?a=function(n,e,s,o,i,h){return t[l](n,e,s,o,i,h)}:a=function(){return t[l]}}else typeof p=="function"?a=p:a=function(){return p};return a};v.exports=T},82985:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81076),p=function(a){var r,n=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&n.push({key:r,value:a.props[r]});else for(r in a)l.indexOf(r)===-1&&r.substring(0,1)!=="_"&&n.push({key:r,value:a[r]});return n};v.exports=p},62329:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),p=function(a){var r=l(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};v.exports=p},17777:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),p=t(99472);function a(o){return!!o.getActive&&typeof o.getActive=="function"}function r(o){return!!o.getStart&&typeof o.getStart=="function"}function n(o){return!!o.getEnd&&typeof o.getEnd=="function"}function e(o){return r(o)||n(o)||a(o)}var s=function(o,i){var h,u=function(W,Y,N){return N},d=function(W,Y,N){return N},f=null,c=typeof i;if(c==="number")u=function(){return i};else if(Array.isArray(i))d=function(){return i[0]},u=function(){return i[i.length-1]};else if(c==="string"){var g=i.toLowerCase(),m=g.substring(0,6)==="random",y=g.substring(0,3)==="int";if(m||y){var x=g.indexOf("("),S=g.indexOf(")"),C=g.indexOf(",");if(x&&S&&C){var A=parseFloat(g.substring(x+1,C)),F=parseFloat(g.substring(C+1,S));m?u=function(){return p(A,F)}:u=function(){return l(A,F)}}else throw new Error("invalid random() format")}else{g=g[0];var M=parseFloat(i.substr(2));switch(g){case"+":u=function(W,Y,N){return N+M};break;case"-":u=function(W,Y,N){return N-M};break;case"*":u=function(W,Y,N){return N*M};break;case"/":u=function(W,Y,N){return N/M};break;default:u=function(){return parseFloat(i)}}}}else if(c==="function")u=i;else if(c==="object")if(e(i))a(i)&&(f=i.getActive),n(i)&&(u=i.getEnd),r(i)&&(d=i.getStart);else if(i.hasOwnProperty("value"))h=s(o,i.value);else{var w=i.hasOwnProperty("to"),R=i.hasOwnProperty("from"),O=i.hasOwnProperty("start");if(w&&(R||O)){if(h=s(o,i.to),O){var U=s(o,i.start);h.getActive=U.getEnd}if(R){var X=s(o,i.from);h.getStart=X.getEnd}}}return h||(h={getActive:f,getEnd:u,getStart:d}),h};v.exports=s},88032:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),p=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(55292),o=t(35154),i=t(17777),h=t(269),u=t(86081),d=function(f,c,g){if(c instanceof u)return c.parent=f,c;g===void 0?g=p:g=h(p,g);var m=e(c,"from",0),y=e(c,"to",1),x=[{value:m}],S=e(c,"delay",g.delay),C=e(c,"easeParams",g.easeParams),A=e(c,"ease",g.ease),F=i("value",y),M=new u(f,x),w=M.add(0,"value",F.getEnd,F.getStart,F.getActive,n(e(c,"ease",A),e(c,"easeParams",C)),s(c,"delay",S),e(c,"duration",g.duration),r(c,"yoyo",g.yoyo),e(c,"hold",g.hold),e(c,"repeat",g.repeat),e(c,"repeatDelay",g.repeatDelay),!1,!1);w.start=m,w.current=m,M.completeDelay=a(c,"completeDelay",0),M.loop=Math.round(a(c,"loop",0)),M.loopDelay=Math.round(a(c,"loopDelay",0)),M.paused=r(c,"paused",!1),M.persist=r(c,"persist",!1),M.isNumberTween=!0,M.callbackScope=o(c,"callbackScope",M);for(var R=l.TYPES,O=0;O<R.length;O++){var U=R[O],X=o(c,U,!1);if(X){var W=o(c,U+"Params",[]);M.setCallback(U,X,W)}}return M};v.exports=d},93109:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6113),p=t(35154),a=t(36383),r=function(n,e){e===void 0&&(e={});var s,o=p(e,"start",0),i=p(e,"ease",null),h=p(e,"grid",null),u=p(e,"from",0),d=u==="first",f=u==="center",c=u==="last",g=typeof u=="number",m=Array.isArray(n),y=parseFloat(m?n[0]:n),x=m?parseFloat(n[1]):0,S=Math.max(y,x);if(m&&(o+=y),h){var C=h[0],A=h[1],F=0,M=0,w=0,R=0,O=[];c?(F=C-1,M=A-1):g?(F=u%C,M=Math.floor(u/C)):f&&(F=(C-1)/2,M=(A-1)/2);for(var U=a.MIN_SAFE_INTEGER,X=0;X<A;X++){O[X]=[];for(var W=0;W<C;W++){w=F-W,R=M-X;var Y=Math.sqrt(w*w+R*R);Y>U&&(U=Y),O[X][W]=Y}}}var N=i?l(i):null;return h?s=function(V,I,B,G){var H=0,$=G%C,Z=Math.floor(G/C);$>=0&&$<C&&Z>=0&&Z<A&&(H=O[Z][$]);var Q;if(m){var j=x-y;N?Q=H/U*j*N(H/U):Q=H/U*j}else N?Q=H*y*N(H/U):Q=H*y;return Q+o}:s=function(V,I,B,G,H){H--;var $;d?$=G:f?$=Math.abs(H/2-G):c?$=H-G:g&&($=Math.abs(u-G));var Z;if(m){var Q;f?Q=(x-y)/H*($*2):Q=(x-y)/H*$,N?Z=Q*N($/H):Z=Q}else N?Z=H*S*N($/H):Z=$*y;return Z+o},s};v.exports=r},8357:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),p=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(91389),o=t(55292),i=t(82985),h=t(62329),u=t(35154),d=t(17777),f=t(269),c=t(86081),g=function(m,y,x){if(y instanceof c)return y.parent=m,y;x===void 0?x=p:x=f(p,x);var S=h(y);!S&&x.targets&&(S=x.targets);for(var C=i(y),A=e(y,"delay",x.delay),F=e(y,"duration",x.duration),M=e(y,"easeParams",x.easeParams),w=e(y,"ease",x.ease),R=e(y,"hold",x.hold),O=e(y,"repeat",x.repeat),U=e(y,"repeatDelay",x.repeatDelay),X=r(y,"yoyo",x.yoyo),W=r(y,"flipX",x.flipX),Y=r(y,"flipY",x.flipY),N=e(y,"interpolation",x.interpolation),V=function(et,rt,at,st){if(at==="texture"){var ct=st,vt=void 0;Array.isArray(st)?(ct=st[0],vt=st[1]):st.hasOwnProperty("value")?(ct=st.value,Array.isArray(st.value)?(ct=st.value[0],vt=st.value[1]):typeof st.value=="string"&&(ct=st.value)):typeof st=="string"&&(ct=st),et.addFrame(rt,ct,vt,o(st,"delay",A),e(st,"duration",F),e(st,"hold",R),e(st,"repeat",O),e(st,"repeatDelay",U),r(st,"flipX",W),r(st,"flipY",Y))}else{var pt=d(at,st),nt=s(e(st,"interpolation",N));et.add(rt,at,pt.getEnd,pt.getStart,pt.getActive,n(e(st,"ease",w),e(st,"easeParams",M)),o(st,"delay",A),e(st,"duration",F),r(st,"yoyo",X),e(st,"hold",R),e(st,"repeat",O),e(st,"repeatDelay",U),r(st,"flipX",W),r(st,"flipY",Y),nt,nt?st:null)}},I=new c(m,S),B=0;B<C.length;B++)for(var G=C[B].key,H=C[B].value,$=0;$<S.length;$++)G==="scale"&&!S[$].hasOwnProperty("scale")?(V(I,$,"scaleX",H),V(I,$,"scaleY",H)):V(I,$,G,H);I.completeDelay=a(y,"completeDelay",0),I.loop=Math.round(a(y,"loop",0)),I.loopDelay=Math.round(a(y,"loopDelay",0)),I.paused=r(y,"paused",!1),I.persist=r(y,"persist",!1),I.callbackScope=e(y,"callbackScope",I);for(var Z=l.TYPES,Q=0;Q<Z.length;Q++){var j=Z[Q],_=u(y,j,!1);if(_){var tt=u(y,j+"Params",[]);I.setCallback(j,_,tt)}}return I};v.exports=g},26012:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),p=t(23568),a=t(57355),r=t(62329),n=t(35154),e=t(8357),s=t(43960),o=function(i,h){if(h instanceof s)return h.parent=i,h;var u=new s(i);u.startDelay=n(h,"delay",0),u.completeDelay=p(h,"completeDelay",0),u.loop=Math.round(p(h,"loop",n(h,"repeat",0))),u.loopDelay=Math.round(p(h,"loopDelay",n(h,"repeatDelay",0))),u.paused=a(h,"paused",!1),u.persist=a(h,"persist",!1),u.callbackScope=n(h,"callbackScope",u);var d,f=l.TYPES;for(d=0;d<f.length;d++){var c=f[d],g=n(h,c,!1);if(g){var m=n(h,c+"Params",[]);u.setCallback(c,g,m)}}var y=n(h,"tweens",null);if(Array.isArray(y)){var x=[],S=r(h),C=void 0;for(S&&(C={targets:S}),d=0;d<y.length;d++)x.push(e(u,y[d],C));u.add(x)}return u};v.exports=o},30231:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="active"},98540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},67233:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},2859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},98336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="repeat"},25764:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},32193:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},84371:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},70766:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},55659:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="yoyo"},842:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};v.exports=l},70402:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(50792),a=t(842),r=t(86353),n=new l({Extends:p,initialize:function(s){p.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,o){return o===void 0&&(o=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:o}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],v.exports=n},95042:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),p=t(842),a=t(86353),r=new l({initialize:function(e,s,o,i,h,u,d,f,c,g){this.tween=e,this.targetIndex=s,this.duration=i<=0?.01:i,this.totalDuration=0,this.delay=0,this.getDelay=o,this.yoyo=h,this.hold=u,this.repeat=d,this.repeatDelay=f,this.repeatCounter=0,this.flipX=c,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,s=this.targetIndex,o=n.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(o,i,0,s,e,n),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var u=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=u*a.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,s){var o=this.tween,i=o.totalTargets,h=this.targetIndex,u=o.targets[h],d=this.key,f=d!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),f&&(e||s)&&(this.start=this.getStartValue(u,d,this.start,h,i,o)),s){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,f&&(this.end=this.getEndValue(u,d,this.start,h,i,o)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,f&&(this.current=this.start,u[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});v.exports=r},69902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};v.exports=T},81076:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),p=t(83419),a=t(842),r=t(44603),n=t(39429),e=t(36383),s=t(86353),o=t(48177),i=t(42220),h=new p({Extends:l,initialize:function(d,f){l.call(this,d),this.targets=f,this.totalTargets=f.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(u,d,f,c,g,m,y,x,S,C,A,F,M,w,R,O){var U=new o(this,u,d,f,c,g,m,y,x,S,C,A,F,M,w,R,O);return this.totalData=this.data.push(U),U},addFrame:function(u,d,f,c,g,m,y,x,S,C){var A=new i(this,u,d,f,c,g,m,y,x,S,C);return this.totalData=this.data.push(A),A},getValue:function(u){u===void 0&&(u=0);var d=null;return this.data&&(d=this.data[u].current),d},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,d,f){if(f===void 0&&(f=!1),u!=="texture")for(var c=0;c<this.totalData;c++){var g=this.data[c];g.key===u&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=d,f&&(g.start=g.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,l.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,d,f){if(u===void 0&&(u=0),d===void 0&&(d=16.6),f===void 0&&(f=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;f||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var c=this.paused;if(this.paused=!1,u>0){for(var g=Math.floor(u/d),m=u-g*d,y=0;y<g;y++)this.update(d);m>0&&this.update(m)}return this.paused=c,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var d=this.data,f=0;f<this.totalData;f++)d[f].reset(u);this.duration=Math.max(this.duration,.01);var c=this.duration,g=this.completeDelay,m=this.loopCounter,y=this.loopDelay;m>0?this.totalDuration=c+g+(c+y)*m:this.totalDuration=c+g},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),u=0));var d=!1;if(this.isActive())for(var f=this.data,c=0;c<this.totalData;c++)f[c].update(u)&&(d=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,d){if(!this.isSeeking){if(this.emit(u,this,this.targets),!this.callbacks)return;var f=this.callbacks[d];f&&f.func.apply(this.callbackScope,[this,this.targets].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(u){return this.scene.sys.tweens.add(u)}),r.register("tween",function(u){return this.scene.sys.tweens.create(u)}),v.exports=h},43960:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),p=t(70402),a=t(83419),r=t(842),n=t(44603),e=t(39429),s=t(86353),o=new a({Extends:p,initialize:function(h){p.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var h=this.parent.create(i);Array.isArray(h)||(h=[h]);for(var u=this.data,d=0;d<h.length;d++){var f=h[d];f.parent=this,u.push(f.reset())}return this.totalData=u.length,this},remove:function(i){return l(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var h=this.data,u=0;u<this.totalData;u++)if(h[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,h=this.totalData,u=0;u<h;u++)i[u].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(i*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(i),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(i),!1;this.hasStarted||(this.startDelay-=i,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(r.TWEEN_START,"onStart"),i=0));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,h){this.emit(i,this);var u=this.callbacks[h];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),n.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),v.exports=o},48177:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95042),p=t(45319),a=t(83419),r=t(842),n=new a({Extends:l,initialize:function(s,o,i,h,u,d,f,c,g,m,y,x,S,C,A,F,M){l.call(this,s,o,c,g,m,y,x,S,C,A),this.key=i,this.getActiveValue=d,this.getEndValue=h,this.getStartValue=u,this.ease=f,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=M},reset:function(e){l.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],o=this.key;e&&(s[o]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[o]=this.getActiveValue(s,o,0))},update:function(e){var s=this.tween,o=s.totalTargets,i=this.targetIndex,h=s.targets[i],u=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,u,h[u],i,o,s),this.end=this.getEndValue(h,u,this.start,i,o,s),this.current=this.start,h[u]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),f=this.isPlayingBackward();if(d||f){var c=this.elapsed,g=this.duration,m=0,y=!1;c+=e,c>=g?(m=c-g,c=g,y=!0):c<0&&(c=0);var x=p(c/g,0,1);this.elapsed=c,this.progress=x,this.previous=this.current,d||(x=1-x);var S=this.ease(x);this.interpolation?this.current=this.interpolation(this.interpolationData,S):this.current=this.start+(this.end-this.start)*S,h[u]=this.current,y&&(d?(s.isNumberTween&&(this.current=this.end,h[u]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(s.isNumberTween&&(this.current=this.start,h[u]=this.current),this.setStateFromStart(m))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],h=this.key,u=this.current,d=this.previous;o.emit(e,o,h,i,u,d);var f=o.callbacks[s];f&&f.func.apply(o.callbackScope,[o,i,h,u,d].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});v.exports=n},42220:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95042),p=t(45319),a=t(83419),r=t(842),n=new a({Extends:l,initialize:function(s,o,i,h,u,d,f,c,g,m,y){l.call(this,s,o,u,d,!1,f,c,g,m,y),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=h,this.yoyo=c!==0},reset:function(e){l.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,o=this.targetIndex,i=s.targets[o];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),u=this.isPlayingBackward();if(h||u){var d=this.elapsed,f=this.duration,c=0,g=!1;d+=e,d>=f?(c=d-f,d=f,g=!0):d<0&&(d=0);var m=p(d/f,0,1);this.elapsed=d,this.progress=m,g&&(h?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(c))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],h=this.key;o.emit(e,o,h,i);var u=o.callbacks[s];u&&u.func.apply(o.callbackScope,[o,i,h].concat(u.params))}},destroy:function(){l.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});v.exports=n},86353:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};v.exports=T},83419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,s){var o=s?n[e]:Object.getOwnPropertyDescriptor(n,e);return!s&&o.value&&typeof o.value=="object"&&(o=o.value),o&&T(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function l(n,e){var s=Object.getOwnPropertyDescriptor(n,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function p(n,e,s,o){for(var i in e)if(e.hasOwnProperty(i)){var h=t(e,i,s);if(h!==!1){var u=o||n;if(l(u.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,i,h)}else n.prototype[i]=e[i]}}function a(n,e){if(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)p(n,e[s].prototype||e[s])}}function r(n){n||(n={});var e,s;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var o=n.Extends;e=function(){o.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,s=n.Extends,delete n.Extends):e.prototype.constructor=e;var i=null;return n.Mixins&&(i=n.Mixins,delete n.Mixins),a(e,i),p(e,n,!0,s),e}r.extend=p,r.mixin=a,r.ignoreFinals=!1,v.exports=r},29747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};v.exports=T},20242:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};v.exports=T},71146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r){if(r===void 0&&(r=t),p>0){var n=p-t.length;if(n<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.push(l),a&&a.call(r,l),l):null;for(var e=l.length-1;e>=0;)t.indexOf(l[e])!==-1&&l.splice(e,1),e--;if(e=l.length,e===0)return null;p>0&&e>n&&(l.splice(n),e=n);for(var s=0;s<e;s++){var o=l[s];t.push(o),a&&a.call(r,o)}return l};v.exports=T},51067:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a,r,n){if(p===void 0&&(p=0),n===void 0&&(n=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.splice(p,0,l),r&&r.call(n,l),l):null;for(var s=l.length-1;s>=0;)t.indexOf(l[s])!==-1&&l.pop(),s--;if(s=l.length,s===0)return null;a>0&&s>e&&(l.splice(e),s=e);for(var o=s-1;o>=0;o--){var i=l[o];t.splice(p,0,i),r&&r.call(n,i)}return l};v.exports=T},66905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.indexOf(l);return p!==-1&&p<t.length&&(t.splice(p,1),t.push(l)),l};v.exports=T},21612:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),p=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=0;if(l(a,e,s))for(var i=e;i<s;i++){var h=a[i];h[r]===n&&o++}return o};v.exports=p},95428:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],l.apply(p,r);return t};v.exports=T},36914:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),p=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),l(a,e,s)){var o,i=[null];for(o=5;o<arguments.length;o++)i.push(arguments[o]);for(o=e;o<s;o++)i[0]=a[o],r.apply(n,i)}return a};v.exports=p},81957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(l.length){if(l.length===1)return l[0]}else return NaN;var a=1,r,n;if(p){if(t<l[0][p])return l[0];for(;l[a][p]<t;)a++}else for(;l[a]<t;)a++;return a>l.length&&(a=l.length),p?(r=l[a-1][p],n=l[a][p],n-t<=t-r?l[a]:l[a-1]):(r=l[a-1],n=l[a],n-t<=t-r?n:r)};v.exports=T},43491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=[]);for(var p=0;p<t.length;p++)Array.isArray(t[p])?T(t[p],l):l.push(t[p]);return l};v.exports=T},46710:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),p=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=[];if(l(a,e,s))for(var i=e;i<s;i++){var h=a[i];(!r||r&&n===void 0&&h.hasOwnProperty(r)||r&&n!==void 0&&h[r]===n)&&o.push(h)}return o};v.exports=p},58731:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),p=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),e!==-1){if(l(a,e,s))for(var o=e;o<s;o++){var i=a[o];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}}else if(l(a,0,s))for(var o=s;o>=0;o--){var i=a[o];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}return null};v.exports=p},26546:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){l===void 0&&(l=0),p===void 0&&(p=t.length);var a=l+Math.floor(Math.random()*p);return t[a]===void 0?null:t[a]};v.exports=T},85835:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(l===p)return t;var a=t.indexOf(l),r=t.indexOf(p);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r=t.indexOf(p),t.splice(r+1,0,l)),t};v.exports=T},83371:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(l===p)return t;var a=t.indexOf(l),r=t.indexOf(p);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(l):t.splice(r,0,l)),t};v.exports=T},70864:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.indexOf(l);if(p>0){var a=t[p-1],r=t.indexOf(a);t[p]=a,t[r]=l}return t};v.exports=T},69693:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=t.indexOf(l);if(a===-1||p<0||p>=t.length)throw new Error("Supplied index out of bounds");return a!==p&&(t.splice(a,1),t.splice(p,0,l)),l};v.exports=T},40853:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.indexOf(l);if(p!==-1&&p<t.length-1){var a=t[p+1],r=t.indexOf(a);t[p]=a,t[r]=l}return t};v.exports=T},20283:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=[],n,e=!1;if((p||a)&&(e=!0,p||(p=""),a||(a="")),l<t)for(n=t;n>=l;n--)e?r.push(p+n.toString()+a):r.push(n);else for(n=t;n<=l;n++)e?r.push(p+n.toString()+a):r.push(n);return r};v.exports=T},593:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2284),p=function(a,r,n){a===void 0&&(a=0),r===void 0&&(r=null),n===void 0&&(n=1),r===null&&(r=a,a=0);for(var e=[],s=Math.max(l((r-a)/(n||1)),0),o=0;o<s;o++)e.push(a),a+=n;return e};v.exports=p},43886:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(p,a,r){var n=p[a];p[a]=p[r],p[r]=n}function t(p,a){return p<a?-1:p>a?1:0}var l=function(p,a,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=p.length-1),e===void 0&&(e=t);n>r;){if(n-r>600){var s=n-r+1,o=a-r+1,i=Math.log(s),h=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*h*(s-h)/s)*(o-s/2<0?-1:1),d=Math.max(r,Math.floor(a-o*h/s+u)),f=Math.min(n,Math.floor(a+(s-o)*h/s+u));l(p,a,d,f,e)}var c=p[a],g=r,m=n;for(T(p,r,a),e(p[n],c)>0&&T(p,r,n);g<m;){for(T(p,g,m),g++,m--;e(p[g],c)<0;)g++;for(;e(p[m],c)>0;)m--}e(p[r],c)===0?T(p,r,m):(m++,T(p,m,n)),m<=a&&(r=m+1),a<=m&&(n=m-1)}};v.exports=l},88492:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),p=t(33680),a=function(n,e,s){for(var o=[],i=0;i<n.length;i++)for(var h=0;h<e.length;h++)for(var u=0;u<s;u++)o.push({a:n[i],b:e[h]});return o},r=function(n,e,s){var o=l(s,"max",0),i=l(s,"qty",1),h=l(s,"random",!1),u=l(s,"randomB",!1),d=l(s,"repeat",0),f=l(s,"yoyo",!1),c=[];if(u&&p(e),d===-1)if(o===0)d=0;else{var g=n.length*e.length*i;f&&(g*=2),d=Math.ceil(o/g)}for(var m=0;m<=d;m++){var y=a(n,e,i);h&&p(y),c=c.concat(y),f&&(y.reverse(),c=c.concat(y))}return o&&c.splice(o),c};v.exports=r},72905:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),p=function(a,r,n,e){e===void 0&&(e=a);var s;if(!Array.isArray(r))return s=a.indexOf(r),s!==-1?(l(a,s),n&&n.call(e,r),r):null;for(var o=r.length-1,i=[];o>=0;){var h=r[o];s=a.indexOf(h),s!==-1&&(l(a,s),i.push(h),n&&n.call(e,h)),o--}return i};v.exports=p},60248:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),p=function(a,r,n,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var s=l(a,r);return n&&n.call(e,s),s};v.exports=p},81409:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),p=function(a,r,n,e,s){if(r===void 0&&(r=0),n===void 0&&(n=a.length),s===void 0&&(s=a),l(a,r,n)){var o=n-r,i=a.splice(r,o);if(e)for(var h=0;h<i.length;h++){var u=i[h];e.call(s,u)}return i}else return[]};v.exports=p},31856:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),p=function(a,r,n){r===void 0&&(r=0),n===void 0&&(n=a.length);var e=r+Math.floor(Math.random()*n);return l(a,e)};v.exports=p},42169:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=t.indexOf(l),r=t.indexOf(p);return a!==-1&&r===-1?(t[a]=p,!0):!1};v.exports=T},86003:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=1);for(var p=null,a=0;a<l;a++)p=t.shift(),t.push(p);return p};v.exports=T},49498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){l===void 0&&(l=1);for(var p=null,a=0;a<l;a++)p=t.pop(),t.unshift(p);return p};v.exports=T},82011:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){var r=t.length;if(l<0||l>=r||l>=p||p>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};v.exports=T},89545:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){var p=t.indexOf(l);return p!==-1&&p>0&&(t.splice(p,1),t.unshift(l)),l};v.exports=T},17810:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),p=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),l(a,e,s))for(var o=e;o<s;o++){var i=a[o];i.hasOwnProperty(r)&&(i[r]=n)}return a};v.exports=p},33680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var l=t.length-1;l>0;l--){var p=Math.floor(Math.random()*(l+1)),a=t[l];t[l]=t[p],t[p]=a}return t};v.exports=T},90126:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l=/\D/g;return t.sort(function(p,a){return parseInt(p.replace(l,""),10)-parseInt(a.replace(l,""),10)}),t};v.exports=T},19133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){if(!(l>=t.length)){for(var p=t.length-1,a=t[l],r=l;r<p;r++)t[r]=t[r+1];return t.length=p,a}};v.exports=T},19186:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82264);function p(e,s){return String(e).localeCompare(s)}function a(e,s){var o=e.length;if(o<=1)return e;for(var i=new Array(o),h=1;h<o;h*=2){r(e,s,h,i);var u=e;e=i,i=u}return e}function r(e,s,o,i){var h=e.length,u=0,d=o*2,f,c,g,m,y;for(f=0;f<h;f+=d)for(c=f+o,g=c+o,c>h&&(c=h),g>h&&(g=h),m=f,y=c;;)if(m<c&&y<g)s(e[m],e[y])<=0?i[u++]=e[m++]:i[u++]=e[y++];else if(m<c)i[u++]=e[m++];else if(y<g)i[u++]=e[y++];else break}var n=function(e,s){if(s===void 0&&(s=p),!e||e.length<2)return e;if(l.features.stableSort)return e.sort(s);var o=a(e,s);return o!==e&&r(o,null,e.length,e),e};v.exports=n},25630:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(l===p)return t;var a=t.indexOf(l),r=t.indexOf(p);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=p,t[r]=l,t};v.exports=T},37105:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var l=t[0].length,p=1;p<t.length;p++)if(t[p].length!==l)return!1;return!0};v.exports=T},63362:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41836),p=t(86922),a=function(r){var n="";if(!p(r))return n;for(var e=0;e<r.length;e++){for(var s=0;s<r[e].length;s++){var o=r[e][s].toString();o!=="undefined"?n+=l(o,2):n+="?",s<r[e].length-1&&(n+=" |")}if(e<r.length-1){n+=`
`;for(var i=0;i<r[e].length;i++)n+="---",i<r[e].length-1&&(n+="+");n+=`
`}}return n};v.exports=a},92598:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.reverse()};v.exports=T},21224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var l=0;l<t.length;l++)t[l].reverse();return t};v.exports=T},98717:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),p=function(a){return l(a,180)};v.exports=p},44657:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),p=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=l(a,90);return a};v.exports=p},37829:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86922),p=t(2429),a=function(r,n){if(n===void 0&&(n=90),!l(r))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")r=p(r),r.reverse();else if(n===-90||n===270||n==="rotateRight")r.reverse(),r=p(r);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};v.exports=a},92632:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),p=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=l(a,-90);return a};v.exports=p},69512:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86003),p=t(49498),a=function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?l(r,Math.abs(e)):p(r,e)),n!==0)for(var s=0;s<r.length;s++){var o=r[s];n<0?l(o,Math.abs(n)):p(o,n)}return r};v.exports=a},2429:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var l=t.length,p=t[0].length,a=new Array(p),r=0;r<p;r++){a[r]=new Array(l);for(var n=l-1;n>-1;n--)a[r][n]=t[n][r]}return a};v.exports=T},54915:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(l,p){for(var a=new Uint8Array(l),r=a.length,n=p?"data:"+p+";base64,":"",e=0;e<r;e+=3)n+=T[a[e]>>2],n+=T[(a[e]&3)<<4|a[e+1]>>4],n+=T[(a[e+1]&15)<<2|a[e+2]>>6],n+=T[a[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};v.exports=t},53134:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),l=0;l<T.length;l++)t[T.charCodeAt(l)]=l;var p=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,n=r*.75,e=0,s,o,i,h;a[r-1]==="="&&(n--,a[r-2]==="="&&n--);for(var u=new ArrayBuffer(n),d=new Uint8Array(u),f=0;f<r;f+=4)s=t[a.charCodeAt(f)],o=t[a.charCodeAt(f+1)],i=t[a.charCodeAt(f+2)],h=t[a.charCodeAt(f+3)],d[e++]=s<<2|o>>4,d[e++]=(o&15)<<4|i>>2,d[e++]=(i&3)<<6|h&63;return u};v.exports=p},65839:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l={};for(var p in t)Array.isArray(t[p])?l[p]=t[p].slice(0):l[p]=t[p];return l};v.exports=T},62644:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var l,p,a;if(typeof t!="object"||t===null)return t;l=Array.isArray(t)?[]:{};for(a in t)p=t[a],l[a]=T(p);return l};v.exports=T},79291:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41212),p=function(){var a,r,n,e,s,o,i=arguments[0]||{},h=1,u=arguments.length,d=!1;for(typeof i=="boolean"&&(d=i,i=arguments[1]||{},h=2),u===h&&(i=this,--h);h<u;h++)if((a=arguments[h])!=null)for(r in a)n=i[r],e=a[r],i!==e&&(d&&e&&(l(e)||(s=Array.isArray(e)))?(s?(s=!1,o=n&&Array.isArray(n)?n:[]):o=n&&l(n)?n:{},i[r]=p(d,o,e)):e!==void 0&&(i[r]=e));return i};v.exports=p},23568:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75508),p=t(35154),a=function(r,n,e){var s=p(r,n,null);if(s===null)return e;if(Array.isArray(s))return l.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return l.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return l.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(n);return s};v.exports=a},95540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){var a=typeof t;return!t||a==="number"||a==="string"?p:t.hasOwnProperty(l)&&t[l]!==void 0?t[l]:p};v.exports=T},82840:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),p=t(45319),a=function(r,n,e,s,o){o===void 0&&(o=e);var i=l(r,n,o);return p(i,e,s)};v.exports=a},35154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){if(!t&&!a||typeof t=="number")return p;if(t&&t.hasOwnProperty(l))return t[l];if(a&&a.hasOwnProperty(l))return a[l];if(l.indexOf(".")!==-1){for(var r=l.split("."),n=t,e=a,s=p,o=p,i=!0,h=!0,u=0;u<r.length;u++)n&&n.hasOwnProperty(r[u])?(s=n[r[u]],n=n[r[u]]):i=!1,e&&e.hasOwnProperty(r[u])?(o=e[r[u]],e=e[r[u]]):h=!1;return i?s:h?o:p}else return p};v.exports=T},69036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){for(var p=0;p<l.length;p++)if(!t.hasOwnProperty(l[p]))return!1;return!0};v.exports=T},1985:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){for(var p=0;p<l.length;p++)if(t.hasOwnProperty(l[p]))return!0;return!1};v.exports=T},97022:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.hasOwnProperty(l)};v.exports=T},41212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};v.exports=T},46975:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),p=function(a,r){var n=l(a);for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e]);return n};v.exports=p},269:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),p=function(a,r){var n=l(a);for(var e in r)n.hasOwnProperty(e)&&(n[e]=r[e]);return n};v.exports=p},18254:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97022),p=function(a,r){for(var n={},e=0;e<r.length;e++){var s=r[e];l(a,s)&&(n[s]=a[s])}return n};v.exports=p},61622:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(l))return t[l]=p,!0;if(l.indexOf(".")!==-1){for(var a=l.split("."),r=t,n=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))n=r,r=r[a[e]];else return!1;return n[a[a.length-1]]=p,!0}return!1};v.exports=T},1183:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return t.replace(/%([0-9]+)/g,function(p,a){return l[Number(a)-1]})};v.exports=T},41836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l,p,a){l===void 0&&(l=0),p===void 0&&(p=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(l+1>=t.length)switch(a){case 1:t=new Array(l+1-t.length).join(p)+t;break;case 3:var n=Math.ceil((r=l-t.length)/2),e=r-n;t=new Array(e+1).join(p)+t+new Array(n+1).join(p);break;default:t=t+new Array(l+1-t.length).join(p);break}return t};v.exports=T},33628:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,l){return l===0?t.slice(1):t.slice(0,l)+t.slice(l+1)};v.exports=T},27671:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.split("").reverse().join("")};v.exports=T},45650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var l=Math.random()*16|0,p=t==="x"?l:l&3|8;return p.toString(16)})};v.exports=T},35355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t&&t[0].toUpperCase()+t.slice(1)};v.exports=T},31749:(v,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},b={};function D(v){var T=b[v];if(T!==void 0)return T.exports;var t=b[v]={exports:{}};return P[v](t,t.exports,D),t.exports}D.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var z=D(85454);return z})())})(Nn);var re=Nn.exports;const gt=nr(re);var Rt,mt,Fn,Ie=(Fn=class{constructor(L){Ct(this,Rt);Ct(this,mt,0);dt(this,Rt,new DataView(L.buffer)),dt(this,mt,L.byteOffset)}get offset(){return q(this,mt)}readUInt8Array(){const L=this.readU32(),E=new Uint8Array(q(this,Rt).buffer,q(this,mt),L);return dt(this,mt,q(this,mt)+L),E}readBool(){const L=q(this,Rt).getUint8(q(this,mt));return dt(this,mt,q(this,mt)+1),L!==0}readByte(){const L=q(this,Rt).getUint8(q(this,mt));return dt(this,mt,q(this,mt)+1),L}readBytes(L){const E=new DataView(q(this,Rt).buffer,q(this,mt),L);return dt(this,mt,q(this,mt)+L),new Uint8Array(E.buffer)}readI8(){const L=q(this,Rt).getInt8(q(this,mt));return dt(this,mt,q(this,mt)+1),L}readU8(){const L=q(this,Rt).getUint8(q(this,mt));return dt(this,mt,q(this,mt)+1),L}readI16(){const L=q(this,Rt).getInt16(q(this,mt),!0);return dt(this,mt,q(this,mt)+2),L}readU16(){const L=q(this,Rt).getUint16(q(this,mt),!0);return dt(this,mt,q(this,mt)+2),L}readI32(){const L=q(this,Rt).getInt32(q(this,mt),!0);return dt(this,mt,q(this,mt)+4),L}readU32(){const L=q(this,Rt).getUint32(q(this,mt),!0);return dt(this,mt,q(this,mt)+4),L}readI64(){const L=q(this,Rt).getBigInt64(q(this,mt),!0);return dt(this,mt,q(this,mt)+8),L}readU64(){const L=q(this,Rt).getBigUint64(q(this,mt),!0);return dt(this,mt,q(this,mt)+8),L}readU128(){const L=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigUint64(q(this,mt)+8,!0);return dt(this,mt,q(this,mt)+16),(E<<BigInt(64))+L}readI128(){const L=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigInt64(q(this,mt)+8,!0);return dt(this,mt,q(this,mt)+16),(E<<BigInt(64))+L}readU256(){const L=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigUint64(q(this,mt)+8,!0),P=q(this,Rt).getBigUint64(q(this,mt)+16,!0),b=q(this,Rt).getBigUint64(q(this,mt)+24,!0);return dt(this,mt,q(this,mt)+32),(b<<BigInt(3*64))+(P<<BigInt(2*64))+(E<<BigInt(1*64))+L}readI256(){const L=q(this,Rt).getBigUint64(q(this,mt),!0),E=q(this,Rt).getBigUint64(q(this,mt)+8,!0),P=q(this,Rt).getBigUint64(q(this,mt)+16,!0),b=q(this,Rt).getBigInt64(q(this,mt)+24,!0);return dt(this,mt,q(this,mt)+32),(b<<BigInt(3*64))+(P<<BigInt(2*64))+(E<<BigInt(1*64))+L}readF32(){const L=q(this,Rt).getFloat32(q(this,mt),!0);return dt(this,mt,q(this,mt)+4),L}readF64(){const L=q(this,Rt).getFloat64(q(this,mt),!0);return dt(this,mt,q(this,mt)+8),L}readString(){const L=this.readU32(),E=new Uint8Array(q(this,Rt).buffer,q(this,mt),L),b=new TextDecoder("utf-8").decode(E);return dt(this,mt,q(this,mt)+L),b}},Rt=new WeakMap,mt=new WeakMap,Fn),te,Ot,yt,Yt,Kt,Rn,Vt=(Rn=class{constructor(L){Ct(this,Yt);Ct(this,te);Ct(this,Ot);Ct(this,yt,0);dt(this,te,new Uint8Array(L)),dt(this,Ot,new DataView(q(this,te).buffer))}getBuffer(){return q(this,te).slice(0,q(this,yt))}writeUInt8Array(L){const E=L.length;ft(this,Yt,Kt).call(this,4+E),this.writeU32(E),q(this,te).set(L,q(this,yt)),dt(this,yt,q(this,yt)+L.length)}writeBool(L){ft(this,Yt,Kt).call(this,1),q(this,Ot).setUint8(q(this,yt),L?1:0),dt(this,yt,q(this,yt)+1)}writeByte(L){ft(this,Yt,Kt).call(this,1),q(this,Ot).setUint8(q(this,yt),L),dt(this,yt,q(this,yt)+1)}writeI8(L){ft(this,Yt,Kt).call(this,1),q(this,Ot).setInt8(q(this,yt),L),dt(this,yt,q(this,yt)+1)}writeU8(L){ft(this,Yt,Kt).call(this,1),q(this,Ot).setUint8(q(this,yt),L),dt(this,yt,q(this,yt)+1)}writeI16(L){ft(this,Yt,Kt).call(this,2),q(this,Ot).setInt16(q(this,yt),L,!0),dt(this,yt,q(this,yt)+2)}writeU16(L){ft(this,Yt,Kt).call(this,2),q(this,Ot).setUint16(q(this,yt),L,!0),dt(this,yt,q(this,yt)+2)}writeI32(L){ft(this,Yt,Kt).call(this,4),q(this,Ot).setInt32(q(this,yt),L,!0),dt(this,yt,q(this,yt)+4)}writeU32(L){ft(this,Yt,Kt).call(this,4),q(this,Ot).setUint32(q(this,yt),L,!0),dt(this,yt,q(this,yt)+4)}writeI64(L){ft(this,Yt,Kt).call(this,8),q(this,Ot).setBigInt64(q(this,yt),L,!0),dt(this,yt,q(this,yt)+8)}writeU64(L){ft(this,Yt,Kt).call(this,8),q(this,Ot).setBigUint64(q(this,yt),L,!0),dt(this,yt,q(this,yt)+8)}writeU128(L){ft(this,Yt,Kt).call(this,16);const E=L&BigInt("0xFFFFFFFFFFFFFFFF"),P=L>>BigInt(64);q(this,Ot).setBigUint64(q(this,yt),E,!0),q(this,Ot).setBigUint64(q(this,yt)+8,P,!0),dt(this,yt,q(this,yt)+16)}writeI128(L){ft(this,Yt,Kt).call(this,16);const E=L&BigInt("0xFFFFFFFFFFFFFFFF"),P=L>>BigInt(64);q(this,Ot).setBigInt64(q(this,yt),E,!0),q(this,Ot).setBigInt64(q(this,yt)+8,P,!0),dt(this,yt,q(this,yt)+16)}writeU256(L){ft(this,Yt,Kt).call(this,32);const E=BigInt("0xFFFFFFFFFFFFFFFF"),P=L&E,b=L>>BigInt(64*1)&E,D=L>>BigInt(64*2)&E,z=L>>BigInt(64*3);q(this,Ot).setBigUint64(q(this,yt)+8*0,P,!0),q(this,Ot).setBigUint64(q(this,yt)+8*1,b,!0),q(this,Ot).setBigUint64(q(this,yt)+8*2,D,!0),q(this,Ot).setBigUint64(q(this,yt)+8*3,z,!0),dt(this,yt,q(this,yt)+32)}writeI256(L){ft(this,Yt,Kt).call(this,32);const E=BigInt("0xFFFFFFFFFFFFFFFF"),P=L&E,b=L>>BigInt(64*1)&E,D=L>>BigInt(64*2)&E,z=L>>BigInt(64*3);q(this,Ot).setBigUint64(q(this,yt)+8*0,P,!0),q(this,Ot).setBigUint64(q(this,yt)+8*1,b,!0),q(this,Ot).setBigUint64(q(this,yt)+8*2,D,!0),q(this,Ot).setBigInt64(q(this,yt)+8*3,z,!0),dt(this,yt,q(this,yt)+32)}writeF32(L){ft(this,Yt,Kt).call(this,4),q(this,Ot).setFloat32(q(this,yt),L,!0),dt(this,yt,q(this,yt)+4)}writeF64(L){ft(this,Yt,Kt).call(this,8),q(this,Ot).setFloat64(q(this,yt),L,!0),dt(this,yt,q(this,yt)+8)}writeString(L){const P=new TextEncoder().encode(L);this.writeU32(P.length),ft(this,Yt,Kt).call(this,P.length),q(this,te).set(P,q(this,yt)),dt(this,yt,q(this,yt)+P.length)}},te=new WeakMap,Ot=new WeakMap,yt=new WeakMap,Yt=new WeakSet,Kt=function(L){const E=q(this,yt)+L+1;if(E<=q(this,te).length)return;let P=q(this,te).length*2;P<E&&(P=E);const b=new Uint8Array(P);b.set(q(this,te)),dt(this,te,b),dt(this,Ot,new DataView(q(this,te).buffer))},Rn);function Pt(L,E){if(L===E)return!0;if(typeof L!="object"||L===null||typeof E!="object"||E===null)return!1;const P=Object.keys(L),b=Object.keys(E);if(P.length!==b.length)return!1;for(let D of P)if(!b.includes(D)||!Pt(L[D],E[D]))return!1;return!0}function Un(L){return Array.prototype.map.call(L.reverse(),E=>("00"+E.toString(16)).slice(-2)).join("")}function rr(L){if(L.length!=16)throw new Error(`Uint8Array is not 16 bytes long: ${L}`);return new Ie(L).readU128()}function ar(L){if(L.length!=32)throw new Error(`Uint8Array is not 32 bytes long: [${L}]`);return new Ie(L).readU256()}function zn(L){L.startsWith("0x")&&(L=L.slice(2));let E=L.match(/.{1,2}/g)||[],P=Uint8Array.from(E.map(b=>parseInt(b,16)));return P.length!=32?new Uint8Array(0):P.reverse()}function or(L){return rr(zn(L))}function hr(L){return ar(zn(L))}function Gn(L){let E=new Vt(16);return E.writeU128(L),E.getBuffer()}function lr(L){return Un(Gn(L))}function Vn(L){let E=new Vt(32);return E.writeU256(L),E.getBuffer()}function ur(L){return Un(Vn(L))}var rs=class pi{constructor(E){K(this,"data");this.data=E}get __connection_id__(){return this.data}isZero(){return this.data===BigInt(0)}static nullIfZero(E){return E.isZero()?null:E}static random(){function E(){return Math.floor(Math.random()*255)}let P=BigInt(0);for(let b=0;b<16;b++)P=P<<BigInt(8)|BigInt(E());return new pi(P)}isEqual(E){return this.data==E.data}toHexString(){return lr(this.data)}toUint8Array(){return Gn(this.data)}static fromString(E){return new pi(or(E))}static fromStringOrNull(E){let P=pi.fromString(E);return P.isZero()?null:P}},he,fr=(he=class{constructor(E){K(this,"__time_duration_micros__");this.__time_duration_micros__=E}get micros(){return this.__time_duration_micros__}get millis(){return Number(this.micros/he.MICROS_PER_MILLIS)}static fromMillis(E){return new he(BigInt(E)*he.MICROS_PER_MILLIS)}},K(he,"MICROS_PER_MILLIS",1000n),he),ne,dr=(ne=class{constructor(E){K(this,"__timestamp_micros_since_unix_epoch__");this.__timestamp_micros_since_unix_epoch__=E}get microsSinceUnixEpoch(){return this.__timestamp_micros_since_unix_epoch__}static now(){return ne.fromDate(new Date)}static fromDate(E){const P=E.getTime(),b=BigInt(P)*ne.MICROS_PER_MILLIS;return new ne(b)}toDate(){const P=this.__timestamp_micros_since_unix_epoch__/ne.MICROS_PER_MILLIS;if(P>BigInt(Number.MAX_SAFE_INTEGER)||P<BigInt(Number.MIN_SAFE_INTEGER))throw new RangeError("Timestamp is outside of the representable range of JS's Date");return new Date(Number(P))}},K(ne,"MICROS_PER_MILLIS",1000n),K(ne,"UNIX_EPOCH",new ne(0n)),ne),cr=class Xn{constructor(E){K(this,"data");this.data=typeof E=="string"?hr(E):E}get __identity__(){return this.data}isEqual(E){return this.toHexString()===E.toHexString()}toHexString(){return ur(this.data)}toUint8Array(){return Vn(this.data)}static fromString(E){return new Xn(E)}},as;(L=>{function E(){return J.createSumType([new ot("Interval",J.createU64Type()),new ot("Time",J.createU64Type())])}L.getAlgebraicType=E;function P(D){switch(D.tag){case"Interval":return{Interval:D.value};case"Time":return{Time:D.value};default:throw"unreachable"}}L.serialize=P,L.Interval=D=>({tag:"Interval",value:D}),L.Time=D=>({tag:"Time",value:D});function b(D){let z=D.asSumValue();switch(z.tag){case 0:return{tag:"Interval",value:z.value.asBigInt()};case 1:return{tag:"Time",value:z.value.asBigInt()};default:throw"unreachable"}}L.fromValue=b})(as||(as={}));var vr=as,ot=class{constructor(L,E){K(this,"name");K(this,"algebraicType");this.name=L,this.algebraicType=E}},pr=class{constructor(L){K(this,"variants");K(this,"serialize",(L,E)=>{if(this.variants.length==2&&this.variants[0].name==="some"&&this.variants[1].name==="none")E?(L.writeByte(0),this.variants[0].algebraicType.serialize(L,E)):L.writeByte(1);else{let P=E.tag;const b=this.variants.findIndex(D=>D.name===P);if(b<0)throw`Can't serialize a sum type, couldn't find ${E.tag} tag`;L.writeU8(b),this.variants[b].algebraicType.serialize(L,E.value)}});K(this,"deserialize",L=>{let E=L.readU8();if(this.variants.length==2&&this.variants[0].name==="some"&&this.variants[1].name==="none"){if(E===0)return this.variants[0].algebraicType.deserialize(L);if(E===1)return;throw`Can't deserialize an option type, couldn't find ${E} tag`}else{let P=this.variants[E],b=P.algebraicType.deserialize(L);return{tag:P.name,value:b}}});this.variants=L}},k=class{constructor(L,E){K(this,"name");K(this,"algebraicType");this.name=L,this.algebraicType=E}},gr=class{constructor(L){K(this,"elements");K(this,"serialize",(L,E)=>{for(let P of this.elements)P.algebraicType.serialize(L,E[P.name])});K(this,"deserialize",L=>{let E={};if(this.elements.length===1){if(this.elements[0].name==="__time_duration_micros__")return new fr(L.readI64());if(this.elements[0].name==="__timestamp_micros_since_unix_epoch__")return new dr(L.readI64());if(this.elements[0].name==="__identity__")return new cr(L.readU256());if(this.elements[0].name==="__connection_id__")return new rs(L.readU128())}for(let P of this.elements)E[P.name]=P.algebraicType.deserialize(L);return E});this.elements=L}isEmpty(){return this.elements.length===0}},mr=class{constructor(L,E){K(this,"keyType");K(this,"valueType");this.keyType=L,this.valueType=E}},Zt,Oe,Ut,Ae,Gt,os,hs,ls,J=(Ae=class{constructor(){Ct(this,Zt);K(this,"type");K(this,"type_")}get product(){if(this.type!==ut.ProductType)throw"product type was requested, but the type is not ProductType";return this.type_}set product(E){ft(this,Zt,Oe).call(this,ut.ProductType,E)}get sum(){if(this.type!==ut.SumType)throw"sum type was requested, but the type is not SumType";return this.type_}set sum(E){ft(this,Zt,Oe).call(this,ut.SumType,E)}get array(){if(this.type!==ut.ArrayType)throw"array type was requested, but the type is not ArrayType";return this.type_}set array(E){ft(this,Zt,Oe).call(this,ut.ArrayType,E)}get map(){if(this.type!==ut.MapType)throw"map type was requested, but the type is not MapType";return this.type_}set map(E){ft(this,Zt,Oe).call(this,ut.MapType,E)}static createProductType(E){return ft(this,Ut,Gt).call(this,ut.ProductType,new gr(E))}static createSumType(E){return ft(this,Ut,Gt).call(this,ut.SumType,new pr(E))}static createArrayType(E){return ft(this,Ut,Gt).call(this,ut.ArrayType,E)}static createMapType(E,P){return ft(this,Ut,Gt).call(this,ut.MapType,new mr(E,P))}static createBoolType(){return ft(this,Ut,Gt).call(this,ut.Bool,null)}static createI8Type(){return ft(this,Ut,Gt).call(this,ut.I8,null)}static createU8Type(){return ft(this,Ut,Gt).call(this,ut.U8,null)}static createI16Type(){return ft(this,Ut,Gt).call(this,ut.I16,null)}static createU16Type(){return ft(this,Ut,Gt).call(this,ut.U16,null)}static createI32Type(){return ft(this,Ut,Gt).call(this,ut.I32,null)}static createU32Type(){return ft(this,Ut,Gt).call(this,ut.U32,null)}static createI64Type(){return ft(this,Ut,Gt).call(this,ut.I64,null)}static createU64Type(){return ft(this,Ut,Gt).call(this,ut.U64,null)}static createI128Type(){return ft(this,Ut,Gt).call(this,ut.I128,null)}static createU128Type(){return ft(this,Ut,Gt).call(this,ut.U128,null)}static createI256Type(){return ft(this,Ut,Gt).call(this,ut.I256,null)}static createU256Type(){return ft(this,Ut,Gt).call(this,ut.U256,null)}static createF32Type(){return ft(this,Ut,Gt).call(this,ut.F32,null)}static createF64Type(){return ft(this,Ut,Gt).call(this,ut.F64,null)}static createStringType(){return ft(this,Ut,Gt).call(this,ut.String,null)}static createBytesType(){return this.createArrayType(this.createU8Type())}static createOptionType(E){return this.createSumType([new ot("some",E),new ot("none",this.createProductType([]))])}static createIdentityType(){return this.createProductType([new k("__identity__",this.createU256Type())])}static createConnectionIdType(){return this.createProductType([new k("__connection_id__",this.createU128Type())])}static createScheduleAtType(){return vr.getAlgebraicType()}static createTimestampType(){return this.createProductType([new k("__timestamp_micros_since_unix_epoch__",this.createI64Type())])}static createTimeDurationType(){return this.createProductType([new k("__time_duration_micros__",this.createI64Type())])}isProductType(){return this.type===ut.ProductType}isSumType(){return this.type===ut.SumType}isArrayType(){return this.type===ut.ArrayType}isMapType(){return this.type===ut.MapType}isIdentity(){return ft(this,Zt,hs).call(this,"__identity__")}isConnectionId(){return ft(this,Zt,hs).call(this,"__connection_id__")}isScheduleAt(){return this.isSumType()&&this.sum.variants.length===2&&this.sum.variants[0].name==="Interval"&&this.sum.variants[0].algebraicType.type===ut.U64&&this.sum.variants[1].name==="Time"&&this.sum.variants[1].algebraicType.type===ut.U64}isTimestamp(){return ft(this,Zt,ls).call(this,"__timestamp_micros_since_unix_epoch__")}isTimeDuration(){return ft(this,Zt,ls).call(this,"__time_duration_micros__")}serialize(E,P){switch(this.type){case ut.ProductType:this.product.serialize(E,P);break;case ut.SumType:this.sum.serialize(E,P);break;case ut.ArrayType:if(ft(this,Zt,os).call(this))E.writeUInt8Array(P);else{const b=this.array;E.writeU32(P.length);for(let D of P)b.serialize(E,D)}break;case ut.MapType:throw new Error("not implemented");case ut.Bool:E.writeBool(P);break;case ut.I8:E.writeI8(P);break;case ut.U8:E.writeU8(P);break;case ut.I16:E.writeI16(P);break;case ut.U16:E.writeU16(P);break;case ut.I32:E.writeI32(P);break;case ut.U32:E.writeU32(P);break;case ut.I64:E.writeI64(P);break;case ut.U64:E.writeU64(P);break;case ut.I128:E.writeI128(P);break;case ut.U128:E.writeU128(P);break;case ut.I256:E.writeI256(P);break;case ut.U256:E.writeU256(P);break;case ut.F32:E.writeF32(P);break;case ut.F64:E.writeF64(P);break;case ut.String:E.writeString(P);break;default:throw new Error(`not implemented, ${this.type}`)}}deserialize(E){switch(this.type){case ut.ProductType:return this.product.deserialize(E);case ut.SumType:return this.sum.deserialize(E);case ut.ArrayType:if(ft(this,Zt,os).call(this))return E.readUInt8Array();{const P=this.array,b=E.readU32();let D=[];for(let z=0;z<b;z++)D.push(P.deserialize(E));return D}case ut.MapType:throw new Error("not implemented");case ut.Bool:return E.readBool();case ut.I8:return E.readI8();case ut.U8:return E.readU8();case ut.I16:return E.readI16();case ut.U16:return E.readU16();case ut.I32:return E.readI32();case ut.U32:return E.readU32();case ut.I64:return E.readI64();case ut.U64:return E.readU64();case ut.I128:return E.readI128();case ut.U128:return E.readU128();case ut.U256:return E.readU256();case ut.F32:return E.readF32();case ut.F64:return E.readF64();case ut.String:return E.readString();default:throw new Error(`not implemented, ${this.type}`)}}},Zt=new WeakSet,Oe=function(E,P){this.type_=P,this.type=P===void 0?ut.None:E},Ut=new WeakSet,Gt=function(E,P){var D;let b=new Ae;return ft(D=b,Zt,Oe).call(D,E,P),b},os=function(){return this.isArrayType()&&this.array.type==ut.U8},hs=function(E){return this.isProductType()&&this.product.elements.length===1&&(this.product.elements[0].algebraicType.type==ut.U128||this.product.elements[0].algebraicType.type==ut.U256)&&this.product.elements[0].name===E},ls=function(E){return this.isProductType()&&this.product.elements.length===1&&this.product.elements[0].algebraicType.type===ut.I64&&this.product.elements[0].name===E},Ct(Ae,Ut),Ae);(L=>{(E=>{E.SumType="SumType",E.ProductType="ProductType",E.ArrayType="ArrayType",E.MapType="MapType",E.Bool="Bool",E.I8="I8",E.U8="U8",E.I16="I16",E.U16="U16",E.I32="I32",E.U32="U32",E.I64="I64",E.U64="U64",E.I128="I128",E.U128="U128",E.I256="I256",E.U256="U256",E.F32="F32",E.F64="F64",E.String="String",E.None="None"})(L.Type||(L.Type={}))})(J||(J={}));var ut=J.Type;function yr(L,E){const P=new Ie(E);return L.deserialize(P)}var us;(L=>{L.FixedSize=D=>({tag:"FixedSize",value:D}),L.RowOffsets=D=>({tag:"RowOffsets",value:D});function E(){return J.createSumType([new ot("FixedSize",J.createU16Type()),new ot("RowOffsets",J.createArrayType(J.createU64Type()))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(us||(us={}));var _e;(L=>{function E(){return J.createProductType([new k("sizeHint",us.getTypeScriptAlgebraicType()),new k("rowsData",J.createArrayType(J.createU8Type()))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(_e||(_e={}));var fs;(L=>{function E(){return J.createProductType([new k("reducer",J.createStringType()),new k("args",J.createArrayType(J.createU8Type())),new k("requestId",J.createU32Type()),new k("flags",J.createU8Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(fs||(fs={}));var ds;(L=>{function E(){return J.createProductType([new k("queryStrings",J.createArrayType(J.createStringType())),new k("requestId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ds||(ds={}));var cs;(L=>{function E(){return J.createProductType([new k("messageId",J.createArrayType(J.createU8Type())),new k("queryString",J.createStringType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(cs||(cs={}));var oe;(L=>{function E(){return J.createProductType([new k("id",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(oe||(oe={}));var vs;(L=>{function E(){return J.createProductType([new k("query",J.createStringType()),new k("requestId",J.createU32Type()),new k("queryId",oe.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(vs||(vs={}));var ps;(L=>{function E(){return J.createProductType([new k("queryStrings",J.createArrayType(J.createStringType())),new k("requestId",J.createU32Type()),new k("queryId",oe.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ps||(ps={}));var gs;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("queryId",oe.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(gs||(gs={}));var ms;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("queryId",oe.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ms||(ms={}));var Be;(L=>{L.CallReducer=D=>({tag:"CallReducer",value:D}),L.Subscribe=D=>({tag:"Subscribe",value:D}),L.OneOffQuery=D=>({tag:"OneOffQuery",value:D}),L.SubscribeSingle=D=>({tag:"SubscribeSingle",value:D}),L.SubscribeMulti=D=>({tag:"SubscribeMulti",value:D}),L.Unsubscribe=D=>({tag:"Unsubscribe",value:D}),L.UnsubscribeMulti=D=>({tag:"UnsubscribeMulti",value:D});function E(){return J.createSumType([new ot("CallReducer",fs.getTypeScriptAlgebraicType()),new ot("Subscribe",ds.getTypeScriptAlgebraicType()),new ot("OneOffQuery",cs.getTypeScriptAlgebraicType()),new ot("SubscribeSingle",vs.getTypeScriptAlgebraicType()),new ot("SubscribeMulti",ps.getTypeScriptAlgebraicType()),new ot("Unsubscribe",gs.getTypeScriptAlgebraicType()),new ot("UnsubscribeMulti",ms.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Be||(Be={}));var mi;(L=>{function E(){return J.createProductType([new k("deletes",_e.getTypeScriptAlgebraicType()),new k("inserts",_e.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(mi||(mi={}));var ys;(L=>{L.Uncompressed=D=>({tag:"Uncompressed",value:D}),L.Brotli=D=>({tag:"Brotli",value:D}),L.Gzip=D=>({tag:"Gzip",value:D});function E(){return J.createSumType([new ot("Uncompressed",mi.getTypeScriptAlgebraicType()),new ot("Brotli",J.createArrayType(J.createU8Type())),new ot("Gzip",J.createArrayType(J.createU8Type()))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ys||(ys={}));var yi;(L=>{function E(){return J.createProductType([new k("tableId",J.createU32Type()),new k("tableName",J.createStringType()),new k("numRows",J.createU64Type()),new k("updates",J.createArrayType(ys.getTypeScriptAlgebraicType()))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(yi||(yi={}));var Re;(L=>{function E(){return J.createProductType([new k("tables",J.createArrayType(yi.getTypeScriptAlgebraicType()))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Re||(Re={}));var xs;(L=>{function E(){return J.createProductType([new k("quanta",J.createU128Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(xs||(xs={}));var Ts;(L=>{function E(){return J.createProductType([new k("identity",J.createIdentityType()),new k("token",J.createStringType()),new k("connectionId",J.createConnectionIdType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ts||(Ts={}));var Ss;(L=>{function E(){return J.createProductType([new k("databaseUpdate",Re.getTypeScriptAlgebraicType()),new k("requestId",J.createU32Type()),new k("totalHostExecutionDuration",J.createTimeDurationType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ss||(Ss={}));var Cs;(L=>{function E(){return J.createProductType([new k("tableName",J.createStringType()),new k("rows",_e.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Cs||(Cs={}));var Es;(L=>{function E(){return J.createProductType([new k("messageId",J.createArrayType(J.createU8Type())),new k("error",J.createOptionType(J.createStringType())),new k("tables",J.createArrayType(Cs.getTypeScriptAlgebraicType())),new k("totalHostExecutionDuration",J.createTimeDurationType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Es||(Es={}));var As;(L=>{function E(){return J.createProductType([new k("reducerName",J.createStringType()),new k("reducerId",J.createU32Type()),new k("args",J.createArrayType(J.createU8Type())),new k("requestId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(As||(As={}));var Ps;(L=>{L.Committed=D=>({tag:"Committed",value:D}),L.Failed=D=>({tag:"Failed",value:D}),L.OutOfEnergy={tag:"OutOfEnergy"};function E(){return J.createSumType([new ot("Committed",Re.getTypeScriptAlgebraicType()),new ot("Failed",J.createStringType()),new ot("OutOfEnergy",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ps||(Ps={}));var Ms;(L=>{function E(){return J.createProductType([new k("status",Ps.getTypeScriptAlgebraicType()),new k("timestamp",J.createTimestampType()),new k("callerIdentity",J.createIdentityType()),new k("callerConnectionId",J.createConnectionIdType()),new k("reducerCall",As.getTypeScriptAlgebraicType()),new k("energyQuantaUsed",xs.getTypeScriptAlgebraicType()),new k("totalHostExecutionDuration",J.createTimeDurationType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ms||(Ms={}));var ws;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("update",Re.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ws||(ws={}));var xi;(L=>{function E(){return J.createProductType([new k("tableId",J.createU32Type()),new k("tableName",J.createStringType()),new k("tableRows",yi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(xi||(xi={}));var Fs;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",oe.getTypeScriptAlgebraicType()),new k("rows",xi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Fs||(Fs={}));var Rs;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",oe.getTypeScriptAlgebraicType()),new k("rows",xi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Rs||(Rs={}));var Ls;(L=>{function E(){return J.createProductType([new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("requestId",J.createOptionType(J.createU32Type())),new k("queryId",J.createOptionType(J.createU32Type())),new k("tableId",J.createOptionType(J.createU32Type())),new k("error",J.createStringType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ls||(Ls={}));var bs;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",oe.getTypeScriptAlgebraicType()),new k("update",Re.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(bs||(bs={}));var Ds;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",oe.getTypeScriptAlgebraicType()),new k("update",Re.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ds||(Ds={}));var Os;(L=>{L.InitialSubscription=D=>({tag:"InitialSubscription",value:D}),L.TransactionUpdate=D=>({tag:"TransactionUpdate",value:D}),L.TransactionUpdateLight=D=>({tag:"TransactionUpdateLight",value:D}),L.IdentityToken=D=>({tag:"IdentityToken",value:D}),L.OneOffQueryResponse=D=>({tag:"OneOffQueryResponse",value:D}),L.SubscribeApplied=D=>({tag:"SubscribeApplied",value:D}),L.UnsubscribeApplied=D=>({tag:"UnsubscribeApplied",value:D}),L.SubscriptionError=D=>({tag:"SubscriptionError",value:D}),L.SubscribeMultiApplied=D=>({tag:"SubscribeMultiApplied",value:D}),L.UnsubscribeMultiApplied=D=>({tag:"UnsubscribeMultiApplied",value:D});function E(){return J.createSumType([new ot("InitialSubscription",Ss.getTypeScriptAlgebraicType()),new ot("TransactionUpdate",Ms.getTypeScriptAlgebraicType()),new ot("TransactionUpdateLight",ws.getTypeScriptAlgebraicType()),new ot("IdentityToken",Ts.getTypeScriptAlgebraicType()),new ot("OneOffQueryResponse",Es.getTypeScriptAlgebraicType()),new ot("SubscribeApplied",Fs.getTypeScriptAlgebraicType()),new ot("UnsubscribeApplied",Rs.getTypeScriptAlgebraicType()),new ot("SubscriptionError",Ls.getTypeScriptAlgebraicType()),new ot("SubscribeMultiApplied",bs.getTypeScriptAlgebraicType()),new ot("UnsubscribeMultiApplied",Ds.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Os||(Os={}));var Pe,Ln,ts=(Ln=class{constructor(){Ct(this,Pe,new Map)}on(L,E){let P=q(this,Pe).get(L);P||(P=new Set,q(this,Pe).set(L,P)),P.add(E)}off(L,E){let P=q(this,Pe).get(L);P&&P.delete(E)}emit(L,...E){let P=q(this,Pe).get(L);if(P)for(let b of P)b(...E)}},Pe=new WeakMap,Ln),ee,Me,ke,bn,fn=(bn=class{constructor(){Ct(this,Me);Ct(this,ee,[])}set(L,E){const P=q(this,ee).findIndex(({key:b})=>ft(this,Me,ke).call(this,b,L));P>-1?q(this,ee)[P].value=E:q(this,ee).push({key:L,value:E})}get(L){const E=q(this,ee).find(({key:P})=>ft(this,Me,ke).call(this,P,L));return E?E.value:void 0}delete(L){const E=q(this,ee).findIndex(({key:P})=>ft(this,Me,ke).call(this,P,L));return E>-1?(q(this,ee).splice(E,1),!0):!1}has(L){return q(this,ee).some(({key:E})=>ft(this,Me,ke).call(this,E,L))}values(){return q(this,ee).map(L=>L.value)}entries(){return q(this,ee)}[Symbol.iterator](){let L=0;const E=q(this,ee);return{next(){return L<E.length?{value:E[L++],done:!1}:{value:null,done:!0}}}}},ee=new WeakMap,Me=new WeakSet,ke=function(L,E){return L&&typeof L=="object"&&"isEqual"in L?L.isEqual(E):L===E},bn),xr={component:"",info:"",warn:"",error:"",debug:""},Tr={component:"color: #fff; background-color: #8D6FDD; padding: 2px 5px; border-radius: 3px;",info:"color: #fff; background-color: #007bff; padding: 2px 5px; border-radius: 3px;",warn:"color: #fff; background-color: #ffc107; padding: 2px 5px; border-radius: 3px;",error:"color: #fff; background-color: #dc3545; padding: 2px 5px; border-radius: 3px;",debug:"color: #fff; background-color: #28a745; padding: 2px 5px; border-radius: 3px;"},Sr={component:"color: #8D6FDD;",info:"color: #007bff;",warn:"color: #ffc107;",error:"color: #dc3545;",debug:"color: #28a745;"},Ee=(L,E)=>{console.log(`%c${xr[L]} ${L.toUpperCase()}%c ${E}`,Tr[L],Sr[L])},Cr=class{constructor(L){K(this,"rows");K(this,"tableTypeInfo");K(this,"emitter");K(this,"applyOperations",(L,E)=>{const P=[];if(this.tableTypeInfo.primaryKey!==void 0){const b=this.tableTypeInfo.primaryKey,D=new fn,z=new fn;for(const v of L)if(v.type==="insert"){const[T,t]=D.get(v.row[b])||[v,0];D.set(v.row[b],[v,t+1])}else{const[T,t]=z.get(v.row[b])||[v,0];z.set(v.row[b],[v,t+1])}for(const{key:v,value:[T,t]}of D){const l=z.get(v);if(l){const[p,a]=l,r=t-a,n=this.update(E,T,p,r);n&&P.push(n),z.delete(v)}else{const p=this.insert(E,T,t);p&&P.push(p)}}for(const[v,T]of z.values()){const t=this.delete(E,v,T);t&&P.push(t)}}else for(const b of L)if(b.type==="insert"){const D=this.insert(E,b);D&&P.push(D)}else{const D=this.delete(E,b);D&&P.push(D)}return P});K(this,"update",(L,E,P,b=0)=>{const[D,z]=this.rows.get(P.rowId)||[P.row,0],v=Math.max(1,z+b);return this.rows.delete(P.rowId),this.rows.set(E.rowId,[E.row,v]),z===0?(Ee("error","Updating a row that was not present in the cache"),{type:"insert",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("insert",L,E.row)}}):(z+b<=0&&Ee("error","Negative reference count for row"),{type:"update",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("update",L,D,E.row)}})});K(this,"insert",(L,E,P=1)=>{const[b,D]=this.rows.get(E.rowId)||[E.row,0];if(this.rows.set(E.rowId,[E.row,D+P]),D===0)return{type:"insert",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("insert",L,E.row)}}});K(this,"delete",(L,E,P=1)=>{const[b,D]=this.rows.get(E.rowId)||[E.row,0];if(D===0){Ee("warn","Deleting a row that was not present in the cache");return}if(D<=P)return this.rows.delete(E.rowId),{type:"delete",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("delete",L,E.row)}};this.rows.set(E.rowId,[E.row,D-P])});K(this,"onInsert",L=>{this.emitter.on("insert",L)});K(this,"onDelete",L=>{this.emitter.on("delete",L)});K(this,"onUpdate",L=>{this.emitter.on("update",L)});K(this,"removeOnInsert",L=>{this.emitter.off("insert",L)});K(this,"removeOnDelete",L=>{this.emitter.off("delete",L)});K(this,"removeOnUpdate",L=>{this.emitter.off("update",L)});this.tableTypeInfo=L,this.rows=new Map,this.emitter=new ts}count(){return this.rows.size}iter(){return Array.from(this.rows.values()).map(([L])=>L)}},Er=class{constructor(){K(this,"tables");this.tables=new Map}getTable(L){const E=this.tables.get(L);if(!E)throw console.error("The table has not been registered for this client. Please register the table before using it. If you have registered global tables using the SpacetimeDBClient.registerTables() or `registerTable()` method, please make sure that is executed first!"),new Error(`Table ${L} does not exist`);return E}getOrCreateTable(L){let E;return this.tables.has(L.tableName)?E=this.tables.get(L.tableName):(E=new Cr(L),this.tables.set(L.tableName,E)),E}};async function Yn(L,E,P=128*1024){let b=0;const D=new ReadableStream({pull(n){if(b<L.length){const e=L.subarray(b,Math.min(b+P,L.length));n.enqueue(e),b+=P}else n.close()}}),z=new DecompressionStream(E),T=D.pipeThrough(z).getReader(),t=[];let l=0,p;for(;!(p=await T.read()).done;)t.push(p.value),l+=p.value.length;const a=new Uint8Array(l);let r=0;for(const n of t)a.set(n,r),r+=n.length;return a}var Ne,le,Wn,Hn,Bs,Ue,Ar=(Ue=class{constructor(E){Ct(this,le);K(this,"onclose");K(this,"onopen");K(this,"onmessage");K(this,"onerror");Ct(this,Ne);this.onmessage=void 0,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,E.onmessage=ft(this,le,Wn).bind(this),E.onerror=ft(this,le,Bs).bind(this),E.onclose=ft(this,le,Bs).bind(this),E.onopen=ft(this,le,Hn).bind(this),E.binaryType="arraybuffer",dt(this,Ne,E)}send(E){q(this,Ne).send(E)}close(){q(this,Ne).close()}static async createWebSocketFn({url:E,wsProtocol:P,authToken:b,compression:D,lightMode:z}){const v=new Headers;let T;if(T=WebSocket,b){v.set("Authorization",`Bearer ${b}`);const l=new URL("/v1/identity/websocket-token",E);l.protocol=E.protocol==="wss:"?"https:":"http:";const p=await fetch(l,{method:"POST",headers:v});if(p.ok){const{token:a}=await p.json();E.searchParams.set("token",a)}}E.searchParams.set("compression",D==="gzip"?"Gzip":"None"),z&&E.searchParams.set("light","true");const t=new T(E,P);return new Ue(t)}},Ne=new WeakMap,le=new WeakSet,Wn=async function(E){var D;const P=new Uint8Array(E.data);let b;if(P[0]===0)b=P.slice(1);else{if(P[0]===1)throw new Error("Brotli Compression not supported. Please use gzip or none compression in withCompression method on DbConnection.");if(P[0]===2)b=await Yn(P.slice(1),"gzip");else throw new Error("Unexpected Compression Algorithm. Please use `gzip` or `none`")}(D=this.onmessage)==null||D.call(this,{data:b})},Hn=function(E){var P;(P=this.onopen)==null||P.call(this,E)},Bs=function(E){var P;(P=this.onerror)==null||P.call(this,E)},Ue),ze,Ge,ji,ei,we,ii,si,Ve,Dn,Pr=(Dn=class{constructor(L,E){Ct(this,ze);Ct(this,Ge);Ct(this,ji);Ct(this,ei);Ct(this,we,new ts);Ct(this,ii,"gzip");Ct(this,si,!1);Ct(this,Ve);this.remoteModule=L,this.dbConnectionConstructor=E,dt(this,Ve,Ar.createWebSocketFn)}withUri(L){return dt(this,ze,new URL(L)),this}withModuleName(L){return dt(this,Ge,L),this}withToken(L){return dt(this,ei,L),this}withWSFn(L){return dt(this,Ve,L),this}withCompression(L){return dt(this,ii,L),this}withLightMode(L){return dt(this,si,L),this}onConnect(L){return q(this,we).on("connect",L),this}onConnectError(L){return q(this,we).on("connectError",L),this}onDisconnect(L){return q(this,we).on("disconnect",L),this}build(){if(!q(this,ze))throw new Error("URI is required to connect to SpacetimeDB");if(!q(this,Ge))throw new Error("Database name or address is required to connect to SpacetimeDB");return this.dbConnectionConstructor(new $n({uri:q(this,ze),nameOrAddress:q(this,Ge),identity:q(this,ji),token:q(this,ei),emitter:q(this,we),compression:q(this,ii),lightMode:q(this,si),createWSFn:q(this,Ve),remoteModule:this.remoteModule}))}},ze=new WeakMap,Ge=new WeakMap,ji=new WeakMap,ei=new WeakMap,we=new WeakMap,ii=new WeakMap,si=new WeakMap,Ve=new WeakMap,Dn),ni,ri,On,Kn=(On=class{constructor(L){Ct(this,ni);Ct(this,ri);this.db=L}onApplied(L){return dt(this,ni,L),this}onError(L){return dt(this,ri,L),this}subscribe(L){const E=Array.isArray(L)?L:[L];if(E.length===0)throw new Error("Subscriptions must have at least one query");return new wr(this.db,E,q(this,ni),q(this,ri))}subscribeToAllTables(){this.subscribe("SELECT * FROM *")}},ni=new WeakMap,ri=new WeakMap,On),Mr=class{constructor(){K(this,"subscriptions",new Map)}},Xe,Fe,ue,fe,de,Bn,wr=(Bn=class{constructor(L,E,P,b){Ct(this,Xe);Ct(this,Fe,!1);Ct(this,ue,!1);Ct(this,fe,!1);Ct(this,de,new ts);this.db=L,q(this,de).on("applied",D=>{dt(this,fe,!0),P&&P(D)}),q(this,de).on("error",(D,z)=>{dt(this,fe,!1),dt(this,ue,!0),b&&b(D,z)}),dt(this,Xe,this.db.registerSubscription(this,q(this,de),E))}unsubscribe(){if(q(this,Fe))throw new Error("Unsubscribe has already been called");dt(this,Fe,!0),this.db.unregisterSubscription(q(this,Xe)),q(this,de).on("end",L=>{dt(this,ue,!0),dt(this,fe,!1)})}unsubscribeThen(L){if(q(this,ue))throw new Error("Subscription has already ended");if(q(this,Fe))throw new Error("Unsubscribe has already been called");dt(this,Fe,!0),this.db.unregisterSubscription(q(this,Xe)),q(this,de).on("end",E=>{dt(this,ue,!0),dt(this,fe,!1),L(E)})}isEnded(){return q(this,ue)}isActive(){return q(this,fe)}},Xe=new WeakMap,Fe=new WeakMap,ue=new WeakMap,fe=new WeakMap,de=new WeakMap,Bn);function Fr(L){switch(L){case"FullUpdate":return 0;case"NoSuccessNotify":return 1}}var ai,kt,Ye,qi,$t,oi,ae,_i,Dt,Zn,gi,Jn,Te,Qn,kn,jn,Rr,Lr,br,Dr,Or,Br,Ir,In,$n=(In=class{constructor({uri:L,nameOrAddress:E,identity:P,token:b,emitter:D,remoteModule:z,createWSFn:v,compression:T,lightMode:t}){Ct(this,Dt);K(this,"isActive",!1);K(this,"identity");K(this,"token");K(this,"db");K(this,"reducers");K(this,"setReducerFlags");K(this,"connectionId",rs.random());Ct(this,ai,0);Ct(this,kt);Ct(this,Ye,new ts);Ct(this,qi);Ct(this,$t);Ct(this,oi,Promise.resolve());Ct(this,ae,new Mr);K(this,"clientCache");K(this,"ws");K(this,"wsPromise");Ct(this,_i,()=>{const L=q(this,ai);return dt(this,ai,q(this,ai)+1),L});K(this,"subscriptionBuilder",()=>new Kn(this));Ee("info","Connecting to SpacetimeDB WS...");let l=new URL(`v1/database/${E}/subscribe`,L);/^wss?:/.test(L.protocol)||(l.protocol="ws:"),this.identity=P,this.token=b,dt(this,$t,z),dt(this,kt,D);let p=this.connectionId.toHexString();l.searchParams.set("connection_id",p),this.clientCache=new Er,this.db=q(this,$t).dbViewConstructor(this),this.setReducerFlags=q(this,$t).setReducerFlagsConstructor(),this.reducers=q(this,$t).reducersConstructor(this,this.setReducerFlags),this.wsPromise=v({url:l,wsProtocol:"v1.bsatn.spacetimedb",authToken:b,compression:T,lightMode:t}).then(a=>(this.ws=a,this.ws.onclose=()=>{q(this,kt).emit("disconnect",this)},this.ws.onerror=r=>{q(this,kt).emit("connectError",this,r)},this.ws.onopen=ft(this,Dt,Jn).bind(this),this.ws.onmessage=ft(this,Dt,kn).bind(this),a)).catch(a=>{throw Ee("error","Error connecting to SpacetimeDB WS"),ft(this,Dt,jn).call(this,"connectError",a),a})}registerSubscription(L,E,P){const b=q(this,_i).call(this);return q(this,ae).subscriptions.set(b,{handle:L,emitter:E}),ft(this,Dt,gi).call(this,Be.SubscribeMulti({queryStrings:P,queryId:{id:b},requestId:0})),b}unregisterSubscription(L){ft(this,Dt,gi).call(this,Be.UnsubscribeMulti({queryId:{id:L},requestId:0}))}callReducer(L,E,P){const b=Be.CallReducer({reducer:L,args:E,requestId:0,flags:Fr(P)});ft(this,Dt,gi).call(this,b)}disconnect(){this.wsPromise.then(L=>{L.close()})}onReducer(L,E){q(this,Ye).on(L,E)}offReducer(L,E){q(this,Ye).off(L,E)}},ai=new WeakMap,kt=new WeakMap,Ye=new WeakMap,qi=new WeakMap,$t=new WeakMap,oi=new WeakMap,ae=new WeakMap,_i=new WeakMap,Dt=new WeakSet,Zn=async function(L){const E=(D,z,v)=>{const T=v.rowsData,t=new Ie(T),l=[],p=q(this,$t).tables[z].rowType;for(;t.offset<T.length+T.byteOffset;){const a=p.deserialize(t),r=JSON.stringify(a,(n,e)=>typeof e=="bigint"?e.toString():e);l.push({type:D,rowId:r,row:a})}return l},P=async D=>{const z=D.tableName;let v=[];for(const T of D.updates){let t;if(T.tag==="Gzip"){const l=await Yn(T.value,"gzip");t=mi.deserialize(new Ie(l))}else{if(T.tag==="Brotli")throw new Error("Brotli compression not supported. Please use gzip or none compression in withCompression method on DbConnection.");t=T.value}v=v.concat(E("insert",z,t.inserts)),v=v.concat(E("delete",z,t.deletes))}return{tableName:z,operations:v}},b=async D=>{const z=[];for(const v of D.tables)z.push(await P(v));return z};switch(L.tag){case"InitialSubscription":{const D=L.value.databaseUpdate;return{tag:"InitialSubscription",tableUpdates:await b(D)}}case"TransactionUpdateLight":{const D=L.value.update;return{tag:"TransactionUpdateLight",tableUpdates:await b(D)}}case"TransactionUpdate":{const D=L.value,z=D.callerIdentity,v=rs.nullIfZero(D.callerConnectionId),T=D.reducerCall.reducerName,t=D.reducerCall.args,l=D.energyQuantaUsed;let p,a="";switch(D.status.tag){case"Committed":p=await b(D.status.value);break;case"Failed":p=[],a=D.status.value;break;case"OutOfEnergy":p=[];break}if(T==="<none>"){console.error(`Received an error from the database: ${a}`);return}let r;return T!==""&&(r={reducerName:T,args:t}),{tag:"TransactionUpdate",tableUpdates:p,identity:z,connectionId:v,reducerInfo:r,status:D.status,energyConsumed:l.quanta,message:a,timestamp:D.timestamp}}case"IdentityToken":return{tag:"IdentityToken",identity:L.value.identity,token:L.value.token,connectionId:L.value.connectionId};case"OneOffQueryResponse":throw new Error(`TypeScript SDK never sends one-off queries, but got OneOffQueryResponse ${L}`);case"SubscribeMultiApplied":{const D=await b(L.value.update);return{tag:"SubscribeApplied",queryId:L.value.queryId.id,tableUpdates:D}}case"UnsubscribeMultiApplied":{const D=await b(L.value.update);return{tag:"UnsubscribeApplied",queryId:L.value.queryId.id,tableUpdates:D}}case"SubscriptionError":return{tag:"SubscriptionError",queryId:L.value.queryId,error:L.value.error}}},gi=function(L){this.wsPromise.then(E=>{const P=new Vt(1024);Be.serialize(P,L);const b=P.getBuffer();E.send(b)})},Jn=function(){this.isActive=!0},Te=function(L,E){const P=[];for(let b of L){const D=b.tableName,z=q(this,$t).tables[D],v=this.clientCache.getOrCreateTable(z);P.push(...v.applyOperations(b.operations,E))}return P},Qn=async function(L){var b,D;const E=yr(Os,L),P=await ft(this,Dt,Zn).call(this,E);if(P)switch(P.tag){case"InitialSubscription":{let z={tag:"SubscribeApplied"};const v=q(this,$t).eventContextConstructor(this,z),{event:T,...t}=v,l=ft(this,Dt,Te).call(this,P.tableUpdates,v);q(this,kt)&&((b=q(this,qi))==null||b.call(this,t));for(const p of l)p.cb();break}case"TransactionUpdateLight":{let z={tag:"UnknownTransaction"};const v=q(this,$t).eventContextConstructor(this,z),T=ft(this,Dt,Te).call(this,P.tableUpdates,v);for(const t of T)t.cb();break}case"TransactionUpdate":{let z=P.reducerInfo,v=!1,T,t;if(!z)v=!0;else{t=q(this,$t).reducers[z.reducerName];try{const s=new Ie(z.args);T=t.argsType.deserialize(s)}catch{console.debug("Failed to deserialize reducer arguments"),v=!0}}if(v){const s={tag:"UnknownTransaction"},o=q(this,$t).eventContextConstructor(this,s),i=ft(this,Dt,Te).call(this,P.tableUpdates,o);for(const h of i)h.cb();return}z=z,t=t;const l={callerIdentity:P.identity,status:P.status,callerConnectionId:P.connectionId,timestamp:P.timestamp,energyConsumed:P.energyConsumed,reducer:{name:z.reducerName,args:T}},p={tag:"Reducer",value:l},a=q(this,$t).eventContextConstructor(this,p),r={...a,event:l},n=ft(this,Dt,Te).call(this,P.tableUpdates,a),e=[];t.argsType.product.elements.forEach((s,o)=>{e.push(T[s.name])}),q(this,Ye).emit(z.reducerName,r,...e);for(const s of n)s.cb();break}case"IdentityToken":{this.identity=P.identity,!this.token&&P.token&&(this.token=P.token),this.connectionId=P.connectionId,q(this,kt).emit("connect",this,this.identity,this.token);break}case"SubscribeApplied":{const z=q(this,ae).subscriptions.get(P.queryId);if(z===void 0){Ee("error",`Received SubscribeApplied for unknown queryId ${P.queryId}.`);break}const v={tag:"SubscribeApplied"},T=q(this,$t).eventContextConstructor(this,v),{event:t,...l}=T,p=ft(this,Dt,Te).call(this,P.tableUpdates,T);z==null||z.emitter.emit("applied",l);for(const a of p)a.cb();break}case"UnsubscribeApplied":{const z=q(this,ae).subscriptions.get(P.queryId);if(z===void 0){Ee("error",`Received UnsubscribeApplied for unknown queryId ${P.queryId}.`);break}const v={tag:"UnsubscribeApplied"},T=q(this,$t).eventContextConstructor(this,v),{event:t,...l}=T,p=ft(this,Dt,Te).call(this,P.tableUpdates,T);z==null||z.emitter.emit("end",l),q(this,ae).subscriptions.delete(P.queryId);for(const a of p)a.cb();break}case"SubscriptionError":{const z=Error(P.error),v={tag:"Error",value:z},t={...q(this,$t).eventContextConstructor(this,v),event:z};P.queryId!==void 0?((D=q(this,ae).subscriptions.get(P.queryId))==null||D.emitter.emit("error",t,z),q(this,ae).subscriptions.delete(P.queryId)):(console.error("Received an error message without a queryId: ",z),q(this,ae).subscriptions.forEach(({emitter:l})=>{l.emit("error",t,z)}))}}},kn=function(L){dt(this,oi,q(this,oi).then(()=>ft(this,Dt,Qn).call(this,L.data)))},jn=function(L,E){q(this,kt).on(L,E)},Rr=function(L,E){q(this,kt).off(L,E)},Lr=function(L){q(this,kt).on("connect",L)},br=function(L){q(this,kt).on("disconnect",L)},Dr=function(L){q(this,kt).on("connectError",L)},Or=function(L){q(this,kt).off("connect",L)},Br=function(L){q(this,kt).off("disconnect",L)},Ir=function(L){q(this,kt).off("connectError",L)},In),Ti;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ti||(Ti={}));var Si;(L=>{function E(){return J.createProductType([new k("timer",Ti.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Si||(Si={}));var Ci;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type()),new k("upgradeIndex",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ci||(Ci={}));var Ei;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType()),new k("activeAttackId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ei||(Ei={}));var Ai;(L=>{function E(){return J.createProductType([new k("cleanup",Ei.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ai||(Ai={}));var Pi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType()),new k("activeBossAttackId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Pi||(Pi={}));var Mi;(L=>{function E(){return J.createProductType([new k("cleanup",Pi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Mi||(Mi={}));var wi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("damageId",J.createU32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(wi||(wi={}));var Fi;(L=>{function E(){return J.createProductType([new k("cleanup",wi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Fi||(Fi={}));var Is;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Is||(Is={}));var Ri;(L=>{function E(){return J.createProductType([new k("bossTypeIndex",J.createI32Type()),new k("spawnPhaseTwo",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ri||(Ri={}));var Li;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Li||(Li={}));var bi;(L=>{function E(){return J.createProductType([new k("timer",Li.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(bi||(bi={}));var ce;(L=>{L.Sword={tag:"Sword"},L.Wand={tag:"Wand"},L.Knives={tag:"Knives"},L.Shield={tag:"Shield"},L.Football={tag:"Football"},L.Cards={tag:"Cards"},L.Dumbbell={tag:"Dumbbell"},L.Garlic={tag:"Garlic"},L.BossBolt={tag:"BossBolt"},L.BossJorgeBolt={tag:"BossJorgeBolt"},L.BossBjornBolt={tag:"BossBjornBolt"},L.WormSpit={tag:"WormSpit"},L.ScorpionSting={tag:"ScorpionSting"};function E(){return J.createSumType([new ot("Sword",J.createProductType([])),new ot("Wand",J.createProductType([])),new ot("Knives",J.createProductType([])),new ot("Shield",J.createProductType([])),new ot("Football",J.createProductType([])),new ot("Cards",J.createProductType([])),new ot("Dumbbell",J.createProductType([])),new ot("Garlic",J.createProductType([])),new ot("BossBolt",J.createProductType([])),new ot("BossJorgeBolt",J.createProductType([])),new ot("BossBjornBolt",J.createProductType([])),new ot("WormSpit",J.createProductType([])),new ot("ScorpionSting",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ce||(ce={}));var Di;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("playerId",J.createU32Type()),new k("attackType",ce.getTypeScriptAlgebraicType()),new k("remainingShots",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("parameterI",J.createI32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Di||(Di={}));var Oi;(L=>{function E(){return J.createProductType([new k("burstCooldown",Di.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Oi||(Oi={}));var Ns;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ns||(Ns={}));var Us;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Us||(Us={}));var Bi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Bi||(Bi={}));var Ii;(L=>{function E(){return J.createProductType([new k("timer",Bi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ii||(Ii={}));var Ni;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ni||(Ni={}));var Ui;(L=>{function E(){return J.createProductType([new k("scheduler",Ni.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ui||(Ui={}));var zi;(L=>{function E(){return J.createProductType([new k("poisonId",J.createU64Type()),new k("playerId",J.createU32Type()),new k("originalSpeed",J.createF32Type()),new k("poisonedSpeed",J.createF32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(zi||(zi={}));var Gi;(L=>{function E(){return J.createProductType([new k("poisonEffect",zi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Gi||(Gi={}));var Vi;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Vi||(Vi={}));var zs;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(zs||(zs={}));var Xi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("playerId",J.createU32Type()),new k("attackType",ce.getTypeScriptAlgebraicType()),new k("skillLevel",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("parameterI",J.createI32Type()),new k("duration",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("fireDelay",J.createU32Type()),new k("speed",J.createF32Type()),new k("piercing",J.createBoolType()),new k("radius",J.createF32Type()),new k("damage",J.createU32Type()),new k("armorPiercing",J.createU32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Xi||(Xi={}));var Yi;(L=>{function E(){return J.createProductType([new k("attack",Xi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Yi||(Yi={}));var Wi;(L=>{function E(){return J.createProductType([new k("name",J.createStringType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Wi||(Wi={}));var Hi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Hi||(Hi={}));var Ki;(L=>{function E(){return J.createProductType([new k("timer",Hi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ki||(Ki={}));var ti;(L=>{function E(){return J.createProductType([new k("x",J.createF32Type()),new k("y",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ti||(ti={}));var Wt;(L=>{L.Rat={tag:"Rat"},L.Slime={tag:"Slime"},L.Orc={tag:"Orc"},L.Wolf={tag:"Wolf"},L.Worm={tag:"Worm"},L.Scorpion={tag:"Scorpion"},L.FinalBossPhase1={tag:"FinalBossPhase1"},L.FinalBossPhase2={tag:"FinalBossPhase2"},L.FinalBossJorgePhase1={tag:"FinalBossJorgePhase1"},L.FinalBossJorgePhase2={tag:"FinalBossJorgePhase2"},L.FinalBossBjornPhase1={tag:"FinalBossBjornPhase1"},L.FinalBossBjornPhase2={tag:"FinalBossBjornPhase2"},L.FinalBossSimonPhase1={tag:"FinalBossSimonPhase1"},L.FinalBossSimonPhase2={tag:"FinalBossSimonPhase2"};function E(){return J.createSumType([new ot("Rat",J.createProductType([])),new ot("Slime",J.createProductType([])),new ot("Orc",J.createProductType([])),new ot("Wolf",J.createProductType([])),new ot("Worm",J.createProductType([])),new ot("Scorpion",J.createProductType([])),new ot("FinalBossPhase1",J.createProductType([])),new ot("FinalBossPhase2",J.createProductType([])),new ot("FinalBossJorgePhase1",J.createProductType([])),new ot("FinalBossJorgePhase2",J.createProductType([])),new ot("FinalBossBjornPhase1",J.createProductType([])),new ot("FinalBossBjornPhase2",J.createProductType([])),new ot("FinalBossSimonPhase1",J.createProductType([])),new ot("FinalBossSimonPhase2",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Wt||(Wt={}));var $i;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("position",ti.getTypeScriptAlgebraicType()),new k("monsterType",Wt.getTypeScriptAlgebraicType()),new k("targetEntityId",J.createU32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})($i||($i={}));var Zi;(L=>{function E(){return J.createProductType([new k("spawner",$i.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Zi||(Zi={}));var Ji;(L=>{function E(){return J.createProductType([new k("classId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ji||(Ji={}));var Gs;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Gs||(Gs={}));var Qi;(L=>{function E(){return J.createProductType([new k("dirX",J.createF32Type()),new k("dirY",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Qi||(Qi={}));class Nr{constructor(E){K(this,"tableCache");K(this,"identity",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.identity,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Ur{constructor(E){K(this,"tableCache");K(this,"achievementsId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.achievementsId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class zr{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Gr{constructor(E){K(this,"tableCache");K(this,"activeAttackId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.activeAttackId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Vr{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Xr{constructor(E){K(this,"tableCache");K(this,"activeBossAttackId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.activeBossAttackId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Yr{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Wr{constructor(E){K(this,"tableCache");K(this,"attackId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.attackId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Hr{constructor(E){K(this,"tableCache");K(this,"bestiaryId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.bestiaryId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Kr{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class $r{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Zr{constructor(E){K(this,"tableCache");K(this,"chosenUpgradeId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.chosenUpgradeId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Jr{constructor(E){K(this,"tableCache");K(this,"classId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.classId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Qr{constructor(E){K(this,"tableCache");K(this,"id",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.id,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class kr{constructor(E){K(this,"tableCache");K(this,"playerId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.playerId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class jr{constructor(E){K(this,"tableCache");K(this,"entityId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.entityId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class qr{constructor(E){K(this,"tableCache");K(this,"configId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.configId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class _r{constructor(E){K(this,"tableCache");K(this,"id",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.id,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ta{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ea{constructor(E){K(this,"tableCache");K(this,"gemId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.gemId,E))return P}});K(this,"entityId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.entityId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ia{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class sa{constructor(E){K(this,"tableCache");K(this,"damageId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.damageId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class na{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ra{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class aa{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class oa{constructor(E){K(this,"tableCache");K(this,"monsterId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.monsterId,E))return P}});K(this,"entityId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.entityId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ha{constructor(E){K(this,"tableCache");K(this,"playerId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.playerId,E))return P}});K(this,"entityId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.entityId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class la{constructor(E){K(this,"tableCache");K(this,"poisonId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.poisonId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ua{constructor(E){K(this,"tableCache");K(this,"scheduledId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.scheduledId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class fa{constructor(E){K(this,"tableCache");K(this,"upgradeId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.upgradeId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class da{constructor(E){K(this,"tableCache");K(this,"worldId",{find:E=>{for(let P of this.tableCache.iter())if(Pt(P.worldId,E))return P}});K(this,"onInsert",E=>this.tableCache.onInsert(E));K(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));K(this,"onDelete",E=>this.tableCache.onDelete(E));K(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));K(this,"onUpdate",E=>this.tableCache.onUpdate(E));K(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}var Vs;(L=>{function E(){return J.createProductType([new k("identity",J.createIdentityType()),new k("name",J.createStringType()),new k("currentPlayerId",J.createU32Type()),new k("lastLogin",J.createTimestampType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Vs||(Vs={}));var Xs;(L=>{L.SlimeSlayer={tag:"SlimeSlayer"},L.RatSlayer={tag:"RatSlayer"},L.WormSlayer={tag:"WormSlayer"},L.ScorpionSlayer={tag:"ScorpionSlayer"},L.OrcHunter={tag:"OrcHunter"},L.WolfHunter={tag:"WolfHunter"},L.DefeatJorge={tag:"DefeatJorge"},L.DefeatBjrn={tag:"DefeatBjrn"},L.DefeatSimon={tag:"DefeatSimon"},L.WeaponArsenal={tag:"WeaponArsenal"},L.Expert={tag:"Expert"},L.Survivor={tag:"Survivor"};function E(){return J.createSumType([new ot("SlimeSlayer",J.createProductType([])),new ot("RatSlayer",J.createProductType([])),new ot("WormSlayer",J.createProductType([])),new ot("ScorpionSlayer",J.createProductType([])),new ot("OrcHunter",J.createProductType([])),new ot("WolfHunter",J.createProductType([])),new ot("DefeatJorge",J.createProductType([])),new ot("DefeatBjrn",J.createProductType([])),new ot("DefeatSimon",J.createProductType([])),new ot("WeaponArsenal",J.createProductType([])),new ot("Expert",J.createProductType([])),new ot("Survivor",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Xs||(Xs={}));var Ys;(L=>{function E(){return J.createProductType([new k("achievementsId",J.createU32Type()),new k("accountIdentity",J.createIdentityType()),new k("achievementTypeType",Xs.getTypeScriptAlgebraicType()),new k("titleKey",J.createStringType()),new k("descriptionKey",J.createStringType()),new k("spritePath",J.createStringType()),new k("progress",J.createU32Type()),new k("target",J.createU32Type()),new k("isCompleted",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ys||(Ys={}));var Ws;(L=>{function E(){return J.createProductType([new k("activeAttackId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("playerId",J.createU32Type()),new k("attackType",ce.getTypeScriptAlgebraicType()),new k("idWithinBurst",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("ticksElapsed",J.createU32Type()),new k("damage",J.createU32Type()),new k("radius",J.createF32Type()),new k("piercing",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ws||(Ws={}));var Hs;(L=>{function E(){return J.createProductType([new k("activeBossAttackId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("bossMonsterId",J.createU32Type()),new k("attackType",ce.getTypeScriptAlgebraicType()),new k("idWithinBurst",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("ticksElapsed",J.createU32Type()),new k("damage",J.createU32Type()),new k("radius",J.createF32Type()),new k("piercing",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Hs||(Hs={}));var Ks;(L=>{function E(){return J.createProductType([new k("attackId",J.createU32Type()),new k("attackType",ce.getTypeScriptAlgebraicType()),new k("name",J.createStringType()),new k("cooldown",J.createU32Type()),new k("duration",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("fireDelay",J.createU32Type()),new k("speed",J.createF32Type()),new k("piercing",J.createBoolType()),new k("radius",J.createF32Type()),new k("damage",J.createU32Type()),new k("armorPiercing",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ks||(Ks={}));var $s;(L=>{function E(){return J.createProductType([new k("bestiaryId",J.createU32Type()),new k("monsterType",Wt.getTypeScriptAlgebraicType()),new k("maxHp",J.createU32Type()),new k("speed",J.createF32Type()),new k("exp",J.createU32Type()),new k("atk",J.createF32Type()),new k("radius",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})($s||($s={}));var ki;(L=>{L.MaxHp={tag:"MaxHp"},L.HpRegen={tag:"HpRegen"},L.Speed={tag:"Speed"},L.Armor={tag:"Armor"},L.AttackSword={tag:"AttackSword"},L.AttackWand={tag:"AttackWand"},L.AttackKnives={tag:"AttackKnives"},L.AttackShield={tag:"AttackShield"},L.AttackFootball={tag:"AttackFootball"},L.AttackCards={tag:"AttackCards"},L.AttackDumbbell={tag:"AttackDumbbell"},L.AttackGarlic={tag:"AttackGarlic"};function E(){return J.createSumType([new ot("MaxHp",J.createProductType([])),new ot("HpRegen",J.createProductType([])),new ot("Speed",J.createProductType([])),new ot("Armor",J.createProductType([])),new ot("AttackSword",J.createProductType([])),new ot("AttackWand",J.createProductType([])),new ot("AttackKnives",J.createProductType([])),new ot("AttackShield",J.createProductType([])),new ot("AttackFootball",J.createProductType([])),new ot("AttackCards",J.createProductType([])),new ot("AttackDumbbell",J.createProductType([])),new ot("AttackGarlic",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ki||(ki={}));var Zs;(L=>{function E(){return J.createProductType([new k("chosenUpgradeId",J.createU32Type()),new k("playerId",J.createU32Type()),new k("upgradeType",ki.getTypeScriptAlgebraicType()),new k("isAttackUpgrade",J.createBoolType()),new k("value",J.createU32Type()),new k("attackType",J.createU32Type()),new k("damage",J.createU32Type()),new k("cooldownRatio",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("speed",J.createU32Type()),new k("radius",J.createU32Type()),new k("isNewAttack",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Zs||(Zs={}));var We;(L=>{L.Fighter={tag:"Fighter"},L.Rogue={tag:"Rogue"},L.Mage={tag:"Mage"},L.Paladin={tag:"Paladin"},L.Football={tag:"Football"},L.Gambler={tag:"Gambler"},L.Athlete={tag:"Athlete"},L.Gourmand={tag:"Gourmand"};function E(){return J.createSumType([new ot("Fighter",J.createProductType([])),new ot("Rogue",J.createProductType([])),new ot("Mage",J.createProductType([])),new ot("Paladin",J.createProductType([])),new ot("Football",J.createProductType([])),new ot("Gambler",J.createProductType([])),new ot("Athlete",J.createProductType([])),new ot("Gourmand",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(We||(We={}));const Qt=We;var Js;(L=>{function E(){return J.createProductType([new k("classId",J.createU32Type()),new k("playerClass",We.getTypeScriptAlgebraicType()),new k("maxHp",J.createI32Type()),new k("armor",J.createI32Type()),new k("speed",J.createF32Type()),new k("startingAttackType",ce.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Js||(Js={}));var Qs;(L=>{function E(){return J.createProductType([new k("id",J.createU32Type()),new k("worldSize",J.createU32Type()),new k("gameTickRate",J.createU32Type()),new k("maxMonsters",J.createU32Type()),new k("playerSpawnGracePeriod",J.createU32Type()),new k("monsterHitCleanupDelay",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Qs||(Qs={}));var ks;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type()),new k("name",J.createStringType()),new k("isTrueSurvivor",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ks||(ks={}));var js;(L=>{function E(){return J.createProductType([new k("entityId",J.createU32Type()),new k("position",ti.getTypeScriptAlgebraicType()),new k("direction",ti.getTypeScriptAlgebraicType()),new k("isMoving",J.createBoolType()),new k("radius",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(js||(js={}));var qs;(L=>{function E(){return J.createProductType([new k("configId",J.createU32Type()),new k("expSmallGem",J.createU32Type()),new k("expMediumGem",J.createU32Type()),new k("expLargeGem",J.createU32Type()),new k("expHugeGem",J.createU32Type()),new k("baseExpPerLevel",J.createU32Type()),new k("levelExpFactor",J.createF32Type()),new k("gemRadius",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(qs||(qs={}));var _s;(L=>{function E(){return J.createProductType([new k("id",J.createU32Type()),new k("bossActive",J.createBoolType()),new k("bossPhase",J.createU32Type()),new k("bossMonsterId",J.createU32Type()),new k("normalSpawningPaused",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(_s||(_s={}));var tn;(L=>{L.Small={tag:"Small"},L.Medium={tag:"Medium"},L.Large={tag:"Large"},L.Huge={tag:"Huge"};function E(){return J.createSumType([new ot("Small",J.createProductType([])),new ot("Medium",J.createProductType([])),new ot("Large",J.createProductType([])),new ot("Huge",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(tn||(tn={}));var en;(L=>{function E(){return J.createProductType([new k("gemId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("level",tn.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(en||(en={}));var sn;(L=>{function E(){return J.createProductType([new k("damageId",J.createU32Type()),new k("monsterId",J.createU32Type()),new k("attackEntityId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(sn||(sn={}));var nn;(L=>{function E(){return J.createProductType([new k("monsterId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("bestiaryId",Wt.getTypeScriptAlgebraicType()),new k("hp",J.createU32Type()),new k("maxHp",J.createU32Type()),new k("atk",J.createF32Type()),new k("speed",J.createF32Type()),new k("targetEntityId",J.createU32Type()),new k("lastDamagerIdentity",J.createIdentityType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(nn||(nn={}));var rn;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("name",J.createStringType()),new k("spawnGracePeriodRemaining",J.createU32Type()),new k("playerClass",We.getTypeScriptAlgebraicType()),new k("level",J.createU32Type()),new k("exp",J.createU32Type()),new k("expForNextLevel",J.createU32Type()),new k("maxHp",J.createF32Type()),new k("hp",J.createF32Type()),new k("hpRegen",J.createU32Type()),new k("speed",J.createF32Type()),new k("armor",J.createU32Type()),new k("unspentUpgrades",J.createU32Type()),new k("rerolls",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(rn||(rn={}));var an;(L=>{function E(){return J.createProductType([new k("upgradeId",J.createU32Type()),new k("playerId",J.createU32Type()),new k("upgradeIndex",J.createU32Type()),new k("upgradeType",ki.getTypeScriptAlgebraicType()),new k("isAttackUpgrade",J.createBoolType()),new k("value",J.createU32Type()),new k("attackType",J.createU32Type()),new k("damage",J.createU32Type()),new k("cooldownRatio",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("speed",J.createU32Type()),new k("radius",J.createU32Type()),new k("isNewAttack",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(an||(an={}));var on;(L=>{function E(){return J.createProductType([new k("worldId",J.createU32Type()),new k("tickCount",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function P(D,z){L.getTypeScriptAlgebraicType().serialize(D,z)}L.serialize=P;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(on||(on={}));const Ft={tables:{account:{tableName:"account",rowType:Vs.getTypeScriptAlgebraicType(),primaryKey:"identity"},achievements:{tableName:"achievements",rowType:Ys.getTypeScriptAlgebraicType(),primaryKey:"achievementsId"},active_attack_cleanup:{tableName:"active_attack_cleanup",rowType:Ei.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},active_attacks:{tableName:"active_attacks",rowType:Ws.getTypeScriptAlgebraicType(),primaryKey:"activeAttackId"},active_boss_attack_cleanup:{tableName:"active_boss_attack_cleanup",rowType:Pi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},active_boss_attacks:{tableName:"active_boss_attacks",rowType:Hs.getTypeScriptAlgebraicType(),primaryKey:"activeBossAttackId"},attack_burst_cooldowns:{tableName:"attack_burst_cooldowns",rowType:Di.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},attack_data:{tableName:"attack_data",rowType:Ks.getTypeScriptAlgebraicType(),primaryKey:"attackId"},bestiary:{tableName:"bestiary",rowType:$s.getTypeScriptAlgebraicType(),primaryKey:"bestiaryId"},boss_attack_timer:{tableName:"boss_attack_timer",rowType:Ti.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},boss_spawn_timer:{tableName:"boss_spawn_timer",rowType:Hi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},chosen_upgrades:{tableName:"chosen_upgrades",rowType:Zs.getTypeScriptAlgebraicType(),primaryKey:"chosenUpgradeId"},class_data:{tableName:"class_data",rowType:Js.getTypeScriptAlgebraicType(),primaryKey:"classId"},config:{tableName:"config",rowType:Qs.getTypeScriptAlgebraicType(),primaryKey:"id"},dead_players:{tableName:"dead_players",rowType:ks.getTypeScriptAlgebraicType(),primaryKey:"playerId"},entity:{tableName:"entity",rowType:js.getTypeScriptAlgebraicType(),primaryKey:"entityId"},exp_config:{tableName:"exp_config",rowType:qs.getTypeScriptAlgebraicType(),primaryKey:"configId"},game_state:{tableName:"game_state",rowType:_s.getTypeScriptAlgebraicType(),primaryKey:"id"},game_tick_timer:{tableName:"game_tick_timer",rowType:Li.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},gems:{tableName:"gems",rowType:en.getTypeScriptAlgebraicType(),primaryKey:"gemId"},health_regen_scheduler:{tableName:"health_regen_scheduler",rowType:Ni.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_damage:{tableName:"monster_damage",rowType:sn.getTypeScriptAlgebraicType(),primaryKey:"damageId"},monster_hit_cleanup:{tableName:"monster_hit_cleanup",rowType:wi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_spawn_timer:{tableName:"monster_spawn_timer",rowType:Bi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_spawners:{tableName:"monster_spawners",rowType:$i.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monsters:{tableName:"monsters",rowType:nn.getTypeScriptAlgebraicType(),primaryKey:"monsterId"},player:{tableName:"player",rowType:rn.getTypeScriptAlgebraicType(),primaryKey:"playerId"},player_poison_effect:{tableName:"player_poison_effect",rowType:zi.getTypeScriptAlgebraicType(),primaryKey:"poisonId"},player_scheduled_attacks:{tableName:"player_scheduled_attacks",rowType:Xi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},upgrade_options:{tableName:"upgrade_options",rowType:an.getTypeScriptAlgebraicType(),primaryKey:"upgradeId"},world:{tableName:"world",rowType:on.getTypeScriptAlgebraicType(),primaryKey:"worldId"}},reducers:{BossFireProjectile:{reducerName:"BossFireProjectile",argsType:Si.getTypeScriptAlgebraicType()},ChooseUpgrade:{reducerName:"ChooseUpgrade",argsType:Ci.getTypeScriptAlgebraicType()},CleanupActiveAttack:{reducerName:"CleanupActiveAttack",argsType:Ai.getTypeScriptAlgebraicType()},CleanupActiveBossAttack:{reducerName:"CleanupActiveBossAttack",argsType:Mi.getTypeScriptAlgebraicType()},CleanupMonsterHitRecord:{reducerName:"CleanupMonsterHitRecord",argsType:Fi.getTypeScriptAlgebraicType()},ClientConnected:{reducerName:"ClientConnected",argsType:Is.getTypeScriptAlgebraicType()},DebugSpawnBoss:{reducerName:"DebugSpawnBoss",argsType:Ri.getTypeScriptAlgebraicType()},GameTick:{reducerName:"GameTick",argsType:bi.getTypeScriptAlgebraicType()},HandleAttackBurstCooldown:{reducerName:"HandleAttackBurstCooldown",argsType:Oi.getTypeScriptAlgebraicType()},InitAttackData:{reducerName:"InitAttackData",argsType:Ns.getTypeScriptAlgebraicType()},InitHealthRegenSystem:{reducerName:"InitHealthRegenSystem",argsType:Us.getTypeScriptAlgebraicType()},PreSpawnMonster:{reducerName:"PreSpawnMonster",argsType:Ii.getTypeScriptAlgebraicType()},ProcessHealthRegen:{reducerName:"ProcessHealthRegen",argsType:Ui.getTypeScriptAlgebraicType()},RemovePoisonEffect:{reducerName:"RemovePoisonEffect",argsType:Gi.getTypeScriptAlgebraicType()},RerollUpgrades:{reducerName:"RerollUpgrades",argsType:Vi.getTypeScriptAlgebraicType()},ResetWorld:{reducerName:"ResetWorld",argsType:zs.getTypeScriptAlgebraicType()},ServerTriggerAttack:{reducerName:"ServerTriggerAttack",argsType:Yi.getTypeScriptAlgebraicType()},SetName:{reducerName:"SetName",argsType:Wi.getTypeScriptAlgebraicType()},SpawnBossPhaseOne:{reducerName:"SpawnBossPhaseOne",argsType:Ki.getTypeScriptAlgebraicType()},SpawnMonster:{reducerName:"SpawnMonster",argsType:Zi.getTypeScriptAlgebraicType()},SpawnPlayer:{reducerName:"SpawnPlayer",argsType:Ji.getTypeScriptAlgebraicType()},UpdateLastLogin:{reducerName:"UpdateLastLogin",argsType:Gs.getTypeScriptAlgebraicType()},UpdatePlayerDirection:{reducerName:"UpdatePlayerDirection",argsType:Qi.getTypeScriptAlgebraicType()}},eventContextConstructor:(L,E)=>({...L,event:E}),dbViewConstructor:L=>new pa(L),reducersConstructor:(L,E)=>new ca(L,E),setReducerFlagsConstructor:()=>new va};class ca{constructor(E,P){this.connection=E,this.setCallReducerFlags=P}bossFireProjectile(E){const P={timer:E};let b=new Vt(1024);Si.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("BossFireProjectile",D,this.setCallReducerFlags.bossFireProjectileFlags)}onBossFireProjectile(E){this.connection.onReducer("BossFireProjectile",E)}removeOnBossFireProjectile(E){this.connection.offReducer("BossFireProjectile",E)}chooseUpgrade(E,P){const b={playerId:E,upgradeIndex:P};let D=new Vt(1024);Ci.getTypeScriptAlgebraicType().serialize(D,b);let z=D.getBuffer();this.connection.callReducer("ChooseUpgrade",z,this.setCallReducerFlags.chooseUpgradeFlags)}onChooseUpgrade(E){this.connection.onReducer("ChooseUpgrade",E)}removeOnChooseUpgrade(E){this.connection.offReducer("ChooseUpgrade",E)}cleanupActiveAttack(E){const P={cleanup:E};let b=new Vt(1024);Ai.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("CleanupActiveAttack",D,this.setCallReducerFlags.cleanupActiveAttackFlags)}onCleanupActiveAttack(E){this.connection.onReducer("CleanupActiveAttack",E)}removeOnCleanupActiveAttack(E){this.connection.offReducer("CleanupActiveAttack",E)}cleanupActiveBossAttack(E){const P={cleanup:E};let b=new Vt(1024);Mi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("CleanupActiveBossAttack",D,this.setCallReducerFlags.cleanupActiveBossAttackFlags)}onCleanupActiveBossAttack(E){this.connection.onReducer("CleanupActiveBossAttack",E)}removeOnCleanupActiveBossAttack(E){this.connection.offReducer("CleanupActiveBossAttack",E)}cleanupMonsterHitRecord(E){const P={cleanup:E};let b=new Vt(1024);Fi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("CleanupMonsterHitRecord",D,this.setCallReducerFlags.cleanupMonsterHitRecordFlags)}onCleanupMonsterHitRecord(E){this.connection.onReducer("CleanupMonsterHitRecord",E)}removeOnCleanupMonsterHitRecord(E){this.connection.offReducer("CleanupMonsterHitRecord",E)}onClientConnected(E){this.connection.onReducer("ClientConnected",E)}removeOnClientConnected(E){this.connection.offReducer("ClientConnected",E)}debugSpawnBoss(E,P){const b={bossTypeIndex:E,spawnPhaseTwo:P};let D=new Vt(1024);Ri.getTypeScriptAlgebraicType().serialize(D,b);let z=D.getBuffer();this.connection.callReducer("DebugSpawnBoss",z,this.setCallReducerFlags.debugSpawnBossFlags)}onDebugSpawnBoss(E){this.connection.onReducer("DebugSpawnBoss",E)}removeOnDebugSpawnBoss(E){this.connection.offReducer("DebugSpawnBoss",E)}gameTick(E){const P={timer:E};let b=new Vt(1024);bi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("GameTick",D,this.setCallReducerFlags.gameTickFlags)}onGameTick(E){this.connection.onReducer("GameTick",E)}removeOnGameTick(E){this.connection.offReducer("GameTick",E)}handleAttackBurstCooldown(E){const P={burstCooldown:E};let b=new Vt(1024);Oi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("HandleAttackBurstCooldown",D,this.setCallReducerFlags.handleAttackBurstCooldownFlags)}onHandleAttackBurstCooldown(E){this.connection.onReducer("HandleAttackBurstCooldown",E)}removeOnHandleAttackBurstCooldown(E){this.connection.offReducer("HandleAttackBurstCooldown",E)}initAttackData(){this.connection.callReducer("InitAttackData",new Uint8Array(0),this.setCallReducerFlags.initAttackDataFlags)}onInitAttackData(E){this.connection.onReducer("InitAttackData",E)}removeOnInitAttackData(E){this.connection.offReducer("InitAttackData",E)}initHealthRegenSystem(){this.connection.callReducer("InitHealthRegenSystem",new Uint8Array(0),this.setCallReducerFlags.initHealthRegenSystemFlags)}onInitHealthRegenSystem(E){this.connection.onReducer("InitHealthRegenSystem",E)}removeOnInitHealthRegenSystem(E){this.connection.offReducer("InitHealthRegenSystem",E)}preSpawnMonster(E){const P={timer:E};let b=new Vt(1024);Ii.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("PreSpawnMonster",D,this.setCallReducerFlags.preSpawnMonsterFlags)}onPreSpawnMonster(E){this.connection.onReducer("PreSpawnMonster",E)}removeOnPreSpawnMonster(E){this.connection.offReducer("PreSpawnMonster",E)}processHealthRegen(E){const P={scheduler:E};let b=new Vt(1024);Ui.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("ProcessHealthRegen",D,this.setCallReducerFlags.processHealthRegenFlags)}onProcessHealthRegen(E){this.connection.onReducer("ProcessHealthRegen",E)}removeOnProcessHealthRegen(E){this.connection.offReducer("ProcessHealthRegen",E)}removePoisonEffect(E){const P={poisonEffect:E};let b=new Vt(1024);Gi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("RemovePoisonEffect",D,this.setCallReducerFlags.removePoisonEffectFlags)}onRemovePoisonEffect(E){this.connection.onReducer("RemovePoisonEffect",E)}removeOnRemovePoisonEffect(E){this.connection.offReducer("RemovePoisonEffect",E)}rerollUpgrades(E){const P={playerId:E};let b=new Vt(1024);Vi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("RerollUpgrades",D,this.setCallReducerFlags.rerollUpgradesFlags)}onRerollUpgrades(E){this.connection.onReducer("RerollUpgrades",E)}removeOnRerollUpgrades(E){this.connection.offReducer("RerollUpgrades",E)}resetWorld(){this.connection.callReducer("ResetWorld",new Uint8Array(0),this.setCallReducerFlags.resetWorldFlags)}onResetWorld(E){this.connection.onReducer("ResetWorld",E)}removeOnResetWorld(E){this.connection.offReducer("ResetWorld",E)}serverTriggerAttack(E){const P={attack:E};let b=new Vt(1024);Yi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("ServerTriggerAttack",D,this.setCallReducerFlags.serverTriggerAttackFlags)}onServerTriggerAttack(E){this.connection.onReducer("ServerTriggerAttack",E)}removeOnServerTriggerAttack(E){this.connection.offReducer("ServerTriggerAttack",E)}setName(E){const P={name:E};let b=new Vt(1024);Wi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("SetName",D,this.setCallReducerFlags.setNameFlags)}onSetName(E){this.connection.onReducer("SetName",E)}removeOnSetName(E){this.connection.offReducer("SetName",E)}spawnBossPhaseOne(E){const P={timer:E};let b=new Vt(1024);Ki.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("SpawnBossPhaseOne",D,this.setCallReducerFlags.spawnBossPhaseOneFlags)}onSpawnBossPhaseOne(E){this.connection.onReducer("SpawnBossPhaseOne",E)}removeOnSpawnBossPhaseOne(E){this.connection.offReducer("SpawnBossPhaseOne",E)}spawnMonster(E){const P={spawner:E};let b=new Vt(1024);Zi.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("SpawnMonster",D,this.setCallReducerFlags.spawnMonsterFlags)}onSpawnMonster(E){this.connection.onReducer("SpawnMonster",E)}removeOnSpawnMonster(E){this.connection.offReducer("SpawnMonster",E)}spawnPlayer(E){const P={classId:E};let b=new Vt(1024);Ji.getTypeScriptAlgebraicType().serialize(b,P);let D=b.getBuffer();this.connection.callReducer("SpawnPlayer",D,this.setCallReducerFlags.spawnPlayerFlags)}onSpawnPlayer(E){this.connection.onReducer("SpawnPlayer",E)}removeOnSpawnPlayer(E){this.connection.offReducer("SpawnPlayer",E)}updateLastLogin(){this.connection.callReducer("UpdateLastLogin",new Uint8Array(0),this.setCallReducerFlags.updateLastLoginFlags)}onUpdateLastLogin(E){this.connection.onReducer("UpdateLastLogin",E)}removeOnUpdateLastLogin(E){this.connection.offReducer("UpdateLastLogin",E)}updatePlayerDirection(E,P){const b={dirX:E,dirY:P};let D=new Vt(1024);Qi.getTypeScriptAlgebraicType().serialize(D,b);let z=D.getBuffer();this.connection.callReducer("UpdatePlayerDirection",z,this.setCallReducerFlags.updatePlayerDirectionFlags)}onUpdatePlayerDirection(E){this.connection.onReducer("UpdatePlayerDirection",E)}removeOnUpdatePlayerDirection(E){this.connection.offReducer("UpdatePlayerDirection",E)}}class va{constructor(){K(this,"bossFireProjectileFlags","FullUpdate");K(this,"chooseUpgradeFlags","FullUpdate");K(this,"cleanupActiveAttackFlags","FullUpdate");K(this,"cleanupActiveBossAttackFlags","FullUpdate");K(this,"cleanupMonsterHitRecordFlags","FullUpdate");K(this,"debugSpawnBossFlags","FullUpdate");K(this,"gameTickFlags","FullUpdate");K(this,"handleAttackBurstCooldownFlags","FullUpdate");K(this,"initAttackDataFlags","FullUpdate");K(this,"initHealthRegenSystemFlags","FullUpdate");K(this,"preSpawnMonsterFlags","FullUpdate");K(this,"processHealthRegenFlags","FullUpdate");K(this,"removePoisonEffectFlags","FullUpdate");K(this,"rerollUpgradesFlags","FullUpdate");K(this,"resetWorldFlags","FullUpdate");K(this,"serverTriggerAttackFlags","FullUpdate");K(this,"setNameFlags","FullUpdate");K(this,"spawnBossPhaseOneFlags","FullUpdate");K(this,"spawnMonsterFlags","FullUpdate");K(this,"spawnPlayerFlags","FullUpdate");K(this,"updateLastLoginFlags","FullUpdate");K(this,"updatePlayerDirectionFlags","FullUpdate")}bossFireProjectile(E){this.bossFireProjectileFlags=E}chooseUpgrade(E){this.chooseUpgradeFlags=E}cleanupActiveAttack(E){this.cleanupActiveAttackFlags=E}cleanupActiveBossAttack(E){this.cleanupActiveBossAttackFlags=E}cleanupMonsterHitRecord(E){this.cleanupMonsterHitRecordFlags=E}debugSpawnBoss(E){this.debugSpawnBossFlags=E}gameTick(E){this.gameTickFlags=E}handleAttackBurstCooldown(E){this.handleAttackBurstCooldownFlags=E}initAttackData(E){this.initAttackDataFlags=E}initHealthRegenSystem(E){this.initHealthRegenSystemFlags=E}preSpawnMonster(E){this.preSpawnMonsterFlags=E}processHealthRegen(E){this.processHealthRegenFlags=E}removePoisonEffect(E){this.removePoisonEffectFlags=E}rerollUpgrades(E){this.rerollUpgradesFlags=E}resetWorld(E){this.resetWorldFlags=E}serverTriggerAttack(E){this.serverTriggerAttackFlags=E}setName(E){this.setNameFlags=E}spawnBossPhaseOne(E){this.spawnBossPhaseOneFlags=E}spawnMonster(E){this.spawnMonsterFlags=E}spawnPlayer(E){this.spawnPlayerFlags=E}updateLastLogin(E){this.updateLastLoginFlags=E}updatePlayerDirection(E){this.updatePlayerDirectionFlags=E}}class pa{constructor(E){this.connection=E}get account(){return new Nr(this.connection.clientCache.getOrCreateTable(Ft.tables.account))}get achievements(){return new Ur(this.connection.clientCache.getOrCreateTable(Ft.tables.achievements))}get activeAttackCleanup(){return new zr(this.connection.clientCache.getOrCreateTable(Ft.tables.active_attack_cleanup))}get activeAttacks(){return new Gr(this.connection.clientCache.getOrCreateTable(Ft.tables.active_attacks))}get activeBossAttackCleanup(){return new Vr(this.connection.clientCache.getOrCreateTable(Ft.tables.active_boss_attack_cleanup))}get activeBossAttacks(){return new Xr(this.connection.clientCache.getOrCreateTable(Ft.tables.active_boss_attacks))}get attackBurstCooldowns(){return new Yr(this.connection.clientCache.getOrCreateTable(Ft.tables.attack_burst_cooldowns))}get attackData(){return new Wr(this.connection.clientCache.getOrCreateTable(Ft.tables.attack_data))}get bestiary(){return new Hr(this.connection.clientCache.getOrCreateTable(Ft.tables.bestiary))}get bossAttackTimer(){return new Kr(this.connection.clientCache.getOrCreateTable(Ft.tables.boss_attack_timer))}get bossSpawnTimer(){return new $r(this.connection.clientCache.getOrCreateTable(Ft.tables.boss_spawn_timer))}get chosenUpgrades(){return new Zr(this.connection.clientCache.getOrCreateTable(Ft.tables.chosen_upgrades))}get classData(){return new Jr(this.connection.clientCache.getOrCreateTable(Ft.tables.class_data))}get config(){return new Qr(this.connection.clientCache.getOrCreateTable(Ft.tables.config))}get deadPlayers(){return new kr(this.connection.clientCache.getOrCreateTable(Ft.tables.dead_players))}get entity(){return new jr(this.connection.clientCache.getOrCreateTable(Ft.tables.entity))}get expConfig(){return new qr(this.connection.clientCache.getOrCreateTable(Ft.tables.exp_config))}get gameState(){return new _r(this.connection.clientCache.getOrCreateTable(Ft.tables.game_state))}get gameTickTimer(){return new ta(this.connection.clientCache.getOrCreateTable(Ft.tables.game_tick_timer))}get gems(){return new ea(this.connection.clientCache.getOrCreateTable(Ft.tables.gems))}get healthRegenScheduler(){return new ia(this.connection.clientCache.getOrCreateTable(Ft.tables.health_regen_scheduler))}get monsterDamage(){return new sa(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_damage))}get monsterHitCleanup(){return new na(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_hit_cleanup))}get monsterSpawnTimer(){return new ra(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_spawn_timer))}get monsterSpawners(){return new aa(this.connection.clientCache.getOrCreateTable(Ft.tables.monster_spawners))}get monsters(){return new oa(this.connection.clientCache.getOrCreateTable(Ft.tables.monsters))}get player(){return new ha(this.connection.clientCache.getOrCreateTable(Ft.tables.player))}get playerPoisonEffect(){return new la(this.connection.clientCache.getOrCreateTable(Ft.tables.player_poison_effect))}get playerScheduledAttacks(){return new ua(this.connection.clientCache.getOrCreateTable(Ft.tables.player_scheduled_attacks))}get upgradeOptions(){return new fa(this.connection.clientCache.getOrCreateTable(Ft.tables.upgrade_options))}get world(){return new da(this.connection.clientCache.getOrCreateTable(Ft.tables.world))}}class ga extends Kn{}class qn extends $n{constructor(){super(...arguments);K(this,"subscriptionBuilder",()=>new ga(this))}}K(qn,"builder",()=>new Pr(Ft,P=>P));const is={Rat:"monster_rat",Slime:"monster_slime",Orc:"monster_orc",Wolf:"monster_wolf",Worm:"monster_worm",Scorpion:"monster_scorpion",FinalBossJorgePhase1:"final_boss_jorge_phase_1",FinalBossJorgePhase2:"final_boss_jorge_phase_2",FinalBossBjornPhase1:"final_boss_bjorn_phase_1",FinalBossBjornPhase2:"final_boss_bjorn_phase_2",FinalBossSimonPhase1:"final_boss_simon_phase_1",FinalBossSimonPhase2:"final_boss_simon_phase_2"},ma={Rat:-10,Slime:-12,Orc:12,Wolf:-5,Worm:-8,Scorpion:-9,FinalBossJorgePhase1:16,FinalBossJorgePhase2:20,FinalBossBjornPhase1:16,FinalBossBjornPhase2:20,FinalBossSimonPhase1:16,FinalBossSimonPhase2:20};var it=(L=>(L.CONNECTION_ESTABLISHED="connection_established",L.CONNECTION_LOST="connection_lost",L.ACCOUNT_CREATED="account_created",L.ACCOUNT_UPDATED="account:updated",L.NAME_SET="name_set",L.PLAYER_CREATED="player_created",L.PLAYER_UPDATED="player:updated",L.PLAYER_DELETED="player:deleted",L.PLAYER_DIED="player_died",L.PLAYER_POISONED="player:poisoned",L.ENTITY_CREATED="entity:created",L.ENTITY_UPDATED="entity:updated",L.ENTITY_DELETED="entity:deleted",L.MONSTER_CREATED="monster:created",L.MONSTER_UPDATED="monster:updated",L.MONSTER_DELETED="monster:deleted",L.ATTACK_CREATED="ATTACK_CREATED",L.ATTACK_UPDATED="ATTACK_UPDATED",L.ATTACK_DELETED="ATTACK_DELETED",L.BOSS_ATTACK_CREATED="BOSS_ATTACK_CREATED",L.BOSS_ATTACK_UPDATED="BOSS_ATTACK_UPDATED",L.BOSS_ATTACK_DELETED="BOSS_ATTACK_DELETED",L.GEM_CREATED="gem:created",L.GEM_UPDATED="gem:updated",L.GEM_DELETED="gem:deleted",L.LOADING_COMPLETE="loading_complete",L.LOADING_ERROR="loading_error",L.GAME_STARTED="game_started",L.GAME_ENDED="game_ended",L.SUBSCRIPTION_APPLIED="subscription:applied",L.GAME_STATE_UPDATED="game_state:updated",L.BOSS_SPAWN_TIMER_CREATED="boss_spawn_timer:created",L.BOSS_SPAWN_TIMER_DELETED="boss_spawn_timer:deleted",L.BOSS_PHASE_CHANGED="boss_phase_changed",L.ACTIVE_ATTACK_CLEANUP_CREATED="ACTIVE_ATTACK_CLEANUP_CREATED",L.ACTIVE_ATTACK_CLEANUP_DELETED="ACTIVE_ATTACK_CLEANUP_DELETED",L.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED="ACTIVE_BOSS_ATTACK_CLEANUP_CREATED",L.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED="ACTIVE_BOSS_ATTACK_CLEANUP_DELETED",L.ATTACK_DATA_CREATED="ATTACK_DATA_CREATED",L.ATTACK_DATA_UPDATED="ATTACK_DATA_UPDATED",L.POISON_EFFECT_CREATED="poison_effect:created",L.POISON_EFFECT_DELETED="poison_effect:deleted",L))(it||{});const ya="shadow",xa=.4,He=40,dn=4,cn=12,ss=1e3,Ta=-1,Sa=1,Ca=1.1;class Ea{constructor(E,P){K(this,"scene");K(this,"spacetimeDBClient");K(this,"monsters",new Map);K(this,"pendingMonsters",new Map);K(this,"gameEvents");K(this,"bossPhase1Killed",!1);K(this,"timeOfBossPhase1Death",0);K(this,"bossMonsterId",0);K(this,"bossPosition",null);this.scene=E,this.spacetimeDBClient=P,this.gameEvents=window.gameEvents,console.log("MonsterManager constructed")}initializeMonsters(E){var P,b,D,z;if(!((b=(P=this.spacetimeDBClient)==null?void 0:P.sdkConnection)!=null&&b.db)){console.error("Cannot initialize monsters: database connection not available");return}console.log("MonsterManager initalizing monsters"),this.registerMonsterListeners(),this.registerEntityListeners();for(const v of(D=E.db)==null?void 0:D.monsters.iter()){const T=(z=E.db)==null?void 0:z.entity.entityId.find(v.entityId);T?this.createMonsterSprite(v,T.position):this.createOrUpdateMonster(v)}}registerMonsterListeners(){console.log("Registering monster listeners for MonsterManager"),this.gameEvents.on(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.gameEvents.on(it.MONSTER_UPDATED,(E,P,b)=>{this.createOrUpdateMonster(b)}),this.gameEvents.on(it.MONSTER_DELETED,(E,P)=>{this.removeMonster(P.monsterId)})}registerEntityListeners(){console.log("Registering entity event listeners for MonsterManager"),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityEvent,this)}handleEntityEvent(E,P){this.handleEntityUpdate(E,P)}handleEntityUpdate(E,P){var z,v,T;const b=this.pendingMonsters.get(P.entityId);if(b){const t=this.monsters.get(b.monsterId);return t?(t.x=P.position.x,t.y=P.position.y,t.setDepth(ss+P.position.y),t.setData("targetX",P.position.x),t.setData("targetY",P.position.y),t.setData("lastUpdateTime",Date.now()),this.pendingMonsters.delete(P.entityId),this.applySimonBuffEffect(b),!0):(this.pendingMonsters.delete(P.entityId),this.createMonsterSprite(b,P.position),this.applySimonBuffEffect(b),!0)}const D=(v=(z=E.db)==null?void 0:z.monsters.entityId)==null?void 0:v.find(P.entityId);if(D){const t=this.monsters.get(D.monsterId);if(t){this.scene.tweens.killTweensOf(t);const l=this.getMonsterTypeName(D.bestiaryId);t.setData("targetX",P.position.x),t.setData("targetY",P.position.y),t.setData("lastUpdateTime",Date.now());const p=P.isMoving;return Math.pow(t.x-P.position.x,2)+Math.pow(t.y-P.position.y,2)>1e4?(t.x=P.position.x,t.y=P.position.y):p?this.scene.tweens.add({targets:t,x:P.position.x,y:P.position.y,duration:100,ease:"Linear"}):(t.x=P.position.x,t.y=P.position.y),t.setData("isMoving",p),t.setData("monsterType",l),t.setData("direction",{x:P.direction.x,y:P.direction.y}),this.applySimonBuffEffect(D),!0}else return this.createMonsterSprite(D,P.position),this.applySimonBuffEffect(D),!0}if(!D){for(const t of((T=E.db)==null?void 0:T.monsters.iter())||[])if(t.entityId===P.entityId)return this.createOrUpdateMonster(t),!0}return!1}getHealthBarColor(E){return E>.6?65280:E>.3?16776960:16711680}createOrUpdateMonster(E){var D,z;if(!((z=(D=this.spacetimeDBClient)==null?void 0:D.sdkConnection)!=null&&z.db)){console.error("Cannot create monster sprite: database connection not available");return}const P=this.monsters.get(E.monsterId);if(P&&(P.x!==0||P.y!==0)){const v=P.getData("currentHP")||E.maxHp;if(E.hp<v){const t=P.getByName("sprite");t&&(t.setTintFill(16711680),this.scene.time.delayedCall(100,()=>{t.clearTint()}))}const T=P.getByName("healthBar");if(T){const t=E.hp/E.maxHp;T.width=He*t,T.fillColor=this.getHealthBarColor(t)}P.setData("currentHP",E.hp),this.applySimonBuffEffect(E);return}const b=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(E.entityId);b?(this.createMonsterSprite(E,b.position),this.applySimonBuffEffect(E)):(this.monsters.get(E.monsterId)||this.createMonsterSprite(E,{x:0,y:0}),this.pendingMonsters.set(E.entityId,E))}applySimonBuffEffect(E){const P=this.monsters.get(E.monsterId);if(!P)return;const b=this.getMonsterTypeName(E.bestiaryId);if(Aa(b)){const D=b==="FinalBossSimonPhase1"?120:150,z=b==="FinalBossSimonPhase1"?25:40,v=E.speed>D||E.atk>z,T=P.getByName("simonBuffEffect");if(T&&T.destroy(),this.scene.tweens.killTweensOf(P.getData("simonBuffTween")),v){const t=this.scene.add.sprite(0,-50,"attack_boss_simon");t.setOrigin(.5,.5),t.setScale(.7),t.setAlpha(.9),t.setName("simonBuffEffect"),P.add(t),P.setData("simonBuffTween",t),this.scene.tweens.add({targets:t,scale:.9,duration:500,yoyo:!0,repeat:3,ease:"Sine.easeInOut",onComplete:()=>{t&&t.destroy()}})}}}createMonsterSprite(E,P){const b=E.bestiaryId.tag,D=is[b];if(console.log(`Creating monster sprite: type=${b}, spriteKey=${D}, position=(${P.x}, ${P.y})`),!D){console.error(`No sprite key defined for monster type: ${b}`);return}if(!this.scene.textures.exists(D)){console.error(`Missing texture for monster type: ${b}, key: ${D}`),console.log("Available textures:",this.scene.textures.list);return}if(this.monsters.has(E.monsterId)){const z=this.monsters.get(E.monsterId);if(z){z.setPosition(P.x,P.y),z.setDepth(ss+P.y);const v=z.getAll();for(const T of v)if(T.name==="healthBar"){const t=T,l=E.maxHp,p=E.hp/l;t.width=He*p,t.fillColor=this.getHealthBarColor(p),z.setData("currentHP",E.hp),z.setData("maxHP",E.maxHp);break}this.updateCollisionCircle(z,E.entityId)}}else try{console.log(`Creating new monster container for ${b} at (${P.x}, ${P.y})`);const z=ss+P.y,v=this.scene.add.container(P.x,P.y),T=ma[b]||8,t=this.scene.add.image(0,T,ya).setAlpha(xa).setDepth(Ta);t.setScale(.7),console.log(`Added shadow for ${b}`);let l;try{l=this.scene.add.sprite(0,0,D),l.setDepth(0),l.name="sprite",xe(b)&&(console.log(`Setting up boss sprite: ${b} (ID: ${E.monsterId})`),console.log(`Boss data: HP=${E.hp}/${E.maxHp}, Entity ID=${E.entityId}`),l.setScale(1),l.setAlpha(1),l.setVisible(!0),console.log(`Boss sprite properties: visible=${l.visible}, alpha=${l.alpha}, scale=${l.scaleX}, texture=${l.texture.key}`),console.log(`Is boss sprite texture missing: ${l.texture.key==="__MISSING"}`)),console.log(`Added sprite for ${b}: visible=${l.visible}, alpha=${l.alpha}`)}catch(e){console.error(`Failed to create sprite for ${b}:`,e);return}const p=E.maxHp;v.setData("maxHP",p),v.setData("currentHP",E.hp),v.setData("entityId",E.entityId),v.setData("monsterId",E.monsterId),v.setData("monsterType",b);const a=this.scene.add.rectangle(0,-l.height/2-cn,He,dn,0,.7);a.setDepth(Sa);const r=E.hp/p,n=this.scene.add.rectangle(-He/2,-l.height/2-cn,He*r,dn,this.getHealthBarColor(r),1);n.setOrigin(0,.5),n.setDepth(Ca),n.name="healthBar",v.add([t,l,a,n]),v.setDepth(z),v.setSize(l.width,l.height),v.setAlpha(1),v.setVisible(!0),this.createCollisionCircle(v,E.entityId),this.monsters.set(E.monsterId,v),console.log(`Successfully created monster: ${b} (ID: ${E.monsterId})`),xe(b)&&(console.log(`BOSS CONTAINER: visible=${v.visible}, alpha=${v.alpha}, x=${v.x}, y=${v.y}, depth=${v.depth}`),console.log(`BOSS SPRITE: visible=${l.visible}, alpha=${l.alpha}`))}catch(z){console.error(`Failed to create monster sprite for ${b}:`,z)}}createCollisionCircle(E,P){}updateCollisionCircle(E,P){}getDefaultRadiusForMonster(E){switch(E.getData("monsterType")){case"Rat":return 24;case"Slime":return 30;case"Wolf":return 34;case"Worm":return 28;case"Orc":return 40;default:return 30}}removeMonster(E){console.log(`Removing monster: ${E}`);const P=this.monsters.get(E);if(P){const D=P.getData("monsterType");xe(D)?(console.log(`*** BOSS PHASE 1 DEFEATED (ID: ${E})! Waiting for phase 2 to spawn... ***`),this.bossPhase1Killed=!0,this.timeOfBossPhase1Death=Date.now(),this.bossMonsterId=E,this.bossPosition={x:P.x,y:P.y},console.log(`Boss position stored: (${this.bossPosition.x}, ${this.bossPosition.y})`),this.createBossTransformationEffect(P.x,P.y)):xe(D)&&console.log(`*** FINAL BOSS DEFEATED (ID: ${E})! GAME COMPLETE! ***`)}const b=this.monsters.get(E);b&&b.destroy(),this.monsters.delete(E)}getMonster(E){return this.monsters.get(E)}getAllMonsters(){return this.monsters}getMonsterCount(){return this.monsters.size}getPendingMonsterCount(){return this.pendingMonsters.size}update(E,P){this.checkForBossPhaseTransition(),this.monsters.forEach((b,D)=>{b.getData("targetX"),b.getData("targetY"),b.getData("lastUpdateTime"),b.getData("isMoving")})}unregisterListeners(){console.log("Unregistering event listeners for MonsterManager"),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.off(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.gameEvents.off(it.MONSTER_UPDATED),this.gameEvents.off(it.MONSTER_DELETED)}shutdown(){this.unregisterListeners()}handleMonsterCreated(E,P){var z,v;const b=(z=E.db)==null?void 0:z.entity.entityId.find(P.entityId),D=this.getMonsterTypeName(P.bestiaryId);if(console.log(`Monster created: ${P.monsterId}, type: ${D}, entity: ${P.entityId}`),xe(D)){console.log(`BOSS SPAWNED: ${D}`),console.log(`- Monster ID: ${P.monsterId}`),console.log(`- Entity ID: ${P.entityId}`),console.log(`- HP: ${P.hp}/${P.maxHp}`),console.log(`- Asset key: ${is[D]}`),console.log(`- Texture exists: ${this.scene.textures.exists(is[D])}`),console.log(b?`- Position: (${b.position.x}, ${b.position.y})`:"- WARNING: No entity data found for boss!"),console.log("All entities in database:");for(const T of((v=E.db)==null?void 0:v.entity.iter())||[])console.log(`- Entity ID: ${T.entityId}, Position: (${T.position.x}, ${T.position.y})`);if((D==="FinalBossJorgePhase2"||D==="FinalBossBjornPhase2"||D==="FinalBossSimonPhase2")&&(console.log("*** PHASE 2 OF THE BOSS HAS BEGUN! ***"),this.bossPhase1Killed)){const T=Date.now()-this.timeOfBossPhase1Death;console.log(`Phase transition took ${T}ms from phase 1 death to phase 2 spawn`),this.bossPhase1Killed=!1}this.debugLogAllSprites()}if(!b){console.warn(`Monster created but no entity found: ${P.monsterId} (type: ${D})`);return}if(xe(D)&&(console.log("Final Boss Phase 2 spawned - playing transformation effect"),this.createBossTransformationEffect(b.position.x,b.position.y)),this.createMonsterSprite(P,b.position),xe(D)){const T=this.monsters.get(P.monsterId);T?console.log(`Boss container after creation: visible=${T.visible}, alpha=${T.alpha}`):console.error("Failed to find boss container after creation!"),this.debugLogAllSprites()}}getMonsterTypeName(E){if(E&&typeof E=="object"&&"tag"in E)return E.tag;switch(E){case 0:return"Rat";case 1:return"Slime";case 2:return"Orc";case 3:return"FinalBossJorgePhase1";case 4:return"FinalBossJorgePhase2";case 5:return"FinalBossBjornPhase1";case 6:return"FinalBossBjornPhase2";case 7:return"FinalBossSimonPhase1";case 8:return"FinalBossSimonPhase2";default:return console.warn(`Unknown monster type: ${E}`),"Unknown"}}createBossTransformationEffect(E,P){console.log(`Creating boss transformation effect at (${E}, ${P})`);const b=this.scene.add.circle(E,P,150,16711680,.7);b.setDepth(10),this.scene.tweens.add({targets:b,alpha:0,radius:300,duration:1e3,ease:"Power2",onComplete:()=>{b.destroy()}});const D=this.scene.add.particles(E,P,"white_pixel",{speed:{min:100,max:300},angle:{min:0,max:360},scale:{start:2,end:0},blendMode:"ADD",lifespan:1e3,quantity:1,frequency:20,emitting:!1,tint:16711680});D.setDepth(9),D.explode(100,E,P),this.scene.time.delayedCall(1200,()=>{D.destroy()});const z=this.scene.add.text(E,P-100,"BOSS PHASE 2 INCOMING!",{fontSize:"32px",color:"#ff0000",stroke:"#000000",strokeThickness:4,fontStyle:"bold"}).setOrigin(.5);z.setDepth(10),this.scene.tweens.add({targets:z,y:P-200,alpha:0,duration:2e3,ease:"Power2",onComplete:()=>{z.destroy()}})}debugLogAllSprites(){console.log("=== ALL SPRITES IN SCENE ===");const E=this.scene.children.list.filter(P=>P instanceof gt.GameObjects.Sprite||P instanceof gt.GameObjects.Container);console.log(`Found ${E.length} sprites/containers`),E.forEach((P,b)=>{var D;if(P instanceof gt.GameObjects.Container){const z=P;console.log(`Container #${b}: x=${z.x}, y=${z.y}, visible=${z.visible}, alpha=${z.alpha}, depth=${z.depth}`),console.log(`  - Children: ${z.length}`),console.log(`  - Data: ${JSON.stringify((D=z.data)==null?void 0:D.getAll())}`)}else{const z=P;console.log(`Sprite #${b}: name=${z.name}, texture=${z.texture.key}, x=${z.x}, y=${z.y}, visible=${z.visible}, alpha=${z.alpha}`)}})}checkForBossPhaseTransition(){var P,b;const E=Date.now();this.bossPhase1Killed&&E-this.timeOfBossPhase1Death>5e3&&(console.error(`ERROR: Boss phase 1 was killed ${(E-this.timeOfBossPhase1Death)/1e3} seconds ago, but phase 2 has not spawned!`),console.log(`Boss phase 1 details - ID: ${this.bossMonsterId}, Position: (${(P=this.bossPosition)==null?void 0:P.x}, ${(b=this.bossPosition)==null?void 0:b.y})`),this.bossPhase1Killed=!1,console.log("Current active monsters:"),this.monsters.forEach((D,z)=>{const v=D.getData("monsterType");console.log(`- Monster ID: ${z}, Type: ${v}, Position: (${D.x}, ${D.y})`)}),console.log("BOSS PHASE 2 SPAWN FAILED - Please report this bug!"))}}function xe(L){return["FinalBossJorgePhase1","FinalBossJorgePhase2","FinalBossBjornPhase1","FinalBossBjornPhase2","FinalBossSimonPhase1","FinalBossSimonPhase2"].includes(L)}function Aa(L){return["FinalBossSimonPhase1","FinalBossSimonPhase2"].includes(L)}const Pa="monster_spawn_indicator",Ma=34,wa=54,Fa=1e3,Ra=.7,La=900;class ba{constructor(E,P){K(this,"scene");K(this,"spacetimeDBClient");K(this,"spawnerIndicators",new Map);var D,z,v;this.scene=E,this.spacetimeDBClient=P,console.log("MonsterSpawnerManager constructed");const b=(D=this.spacetimeDBClient.sdkConnection)==null?void 0:D.db;b?((z=b.monsterSpawners)==null||z.onInsert(this.handleSpawnerInsert.bind(this)),(v=b.monsterSpawners)==null||v.onDelete(this.handleSpawnerDelete.bind(this))):console.error("Could not set up MonsterSpawnerManager database listeners (database not connected)")}handleSpawnerInsert(E,P){console.log(`New monster spawner at position (${P.position.x}, ${P.position.y}) for monster type: ${P.monsterType.tag}`),this.createSpawnerIndicator(P)}handleSpawnerDelete(E,P){console.log(`Monster spawner deleted: ${P.scheduledId}`),this.removeSpawnerIndicator(String(P.scheduledId))}createSpawnerIndicator(E){const P=String(E.scheduledId);if(this.spawnerIndicators.has(P)){console.log(`Indicator for spawner ${P} already exists`);return}const b=this.scene.add.sprite(E.position.x,E.position.y,Pa);b.setOrigin(Ma/b.width,wa/b.height),b.setScale(.1),b.setAlpha(Ra),b.setDepth(La+E.position.y),E.monsterType.tag.includes("Boss")&&b.setTint(16733525),this.spawnerIndicators.set(P,b),this.scene.tweens.add({targets:b,scale:1,duration:Fa,ease:"Elastic.Out",onComplete:()=>{this.scene.tweens.add({targets:b,scale:{from:.95,to:1.05},duration:700,yoyo:!0,repeat:-1,ease:"Sine.InOut"})}})}removeSpawnerIndicator(E){const P=this.spawnerIndicators.get(E);P&&this.scene.tweens.add({targets:P,alpha:0,scale:.1,duration:500,ease:"Power2",onComplete:()=>{P.destroy(),this.spawnerIndicators.delete(E)}})}destroy(){this.spawnerIndicators.forEach(E=>E.destroy()),this.spawnerIndicators.clear()}}const Ke=1/60,Da=!1;class Oa{constructor(E,P){K(this,"scene");K(this,"attackGraphics",new Map);K(this,"localPlayerId",null);K(this,"localPlayerRadius",0);K(this,"spacetimeClient");K(this,"gameEvents");K(this,"gameTime",0);K(this,"debugCirclesEnabled",Da);this.scene=E,this.spacetimeClient=P,this.gameEvents=window.gameEvents,console.log("AttackManager initialized")}initializeAttacks(E){var P,b,D,z;if(!((b=(P=this.spacetimeClient)==null?void 0:P.sdkConnection)!=null&&b.db)){console.error("Cannot initialize attacks: database connection not available");return}console.log("AttackManager initalizing attacks"),this.registerAttackListeners();for(const v of(D=E.db)==null?void 0:D.activeAttacks.iter())this.createOrUpdateAttackGraphic(E,v);for(const v of(z=E.db)==null?void 0:z.activeBossAttacks.iter())this.createOrUpdateBossAttackGraphic(E,v)}registerAttackListeners(){this.gameEvents.on(it.ATTACK_CREATED,this.handleAttackInsert,this),this.gameEvents.on(it.ATTACK_UPDATED,this.handleAttackUpdate,this),this.gameEvents.on(it.ATTACK_DELETED,this.handleAttackDelete,this),this.gameEvents.on(it.BOSS_ATTACK_CREATED,this.handleBossAttackInsert,this),this.gameEvents.on(it.BOSS_ATTACK_UPDATED,this.handleBossAttackUpdate,this),this.gameEvents.on(it.BOSS_ATTACK_DELETED,this.handleBossAttackDelete,this),this.gameEvents.on(it.ACTIVE_ATTACK_CLEANUP_CREATED,this.handleAttackCleanupCreated,this),this.gameEvents.on(it.ACTIVE_ATTACK_CLEANUP_DELETED,this.handleAttackCleanupDeleted,this),this.gameEvents.on(it.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED,this.handleBossAttackCleanupCreated,this),this.gameEvents.on(it.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED,this.handleBossAttackCleanupDeleted,this),this.gameEvents.on(it.ATTACK_DATA_CREATED,this.handleAttackDataCreated,this),this.gameEvents.on(it.ATTACK_DATA_UPDATED,this.handleAttackDataUpdated,this)}unregisterAttackListeners(){this.gameEvents.off(it.ATTACK_CREATED,this.handleAttackInsert,this),this.gameEvents.off(it.ATTACK_UPDATED,this.handleAttackUpdate,this),this.gameEvents.off(it.ATTACK_DELETED,this.handleAttackDelete,this),this.gameEvents.off(it.BOSS_ATTACK_CREATED,this.handleBossAttackInsert,this),this.gameEvents.off(it.BOSS_ATTACK_UPDATED,this.handleBossAttackUpdate,this),this.gameEvents.off(it.BOSS_ATTACK_DELETED,this.handleBossAttackDelete,this)}setLocalPlayerId(E){this.localPlayerId=E,console.log(`AttackManager: Local player ID set to ${E}`)}setLocalPlayerRadius(E){this.localPlayerRadius=E}handleAttackInsert(E,P){this.createOrUpdateAttackGraphic(E,P)}handleAttackUpdate(E,P,b){this.createOrUpdateAttackGraphic(E,b)}handleAttackDelete(E,P){const b=this.attackGraphics.get(P.activeAttackId);b&&(b.graphic.destroy(),b.sprite&&b.sprite.destroy(),this.attackGraphics.delete(P.activeAttackId))}handleBossAttackInsert(E,P){console.log(`Boss attack created: ${P.activeBossAttackId} of type ${P.attackType.tag}`),this.createOrUpdateBossAttackGraphic(E,P)}handleBossAttackUpdate(E,P,b){console.log(`Boss attack updated: ${b.activeBossAttackId}`),this.createOrUpdateBossAttackGraphic(E,b)}handleBossAttackDelete(E,P){console.log(`Boss attack deleted: ${P.activeBossAttackId}`);const b=this.attackGraphics.get(P.activeBossAttackId);b&&(b.graphic.destroy(),b.sprite&&b.sprite.destroy(),this.attackGraphics.delete(P.activeBossAttackId))}createOrUpdateAttackGraphic(E,P){var a;if(!this.spacetimeClient.sdkConnection)return;const b=(a=E.db)==null?void 0:a.entity.entityId.find(P.entityId);if(!b){console.error(`Entity ${P.entityId} not found for attack ${P.activeAttackId}`);return}const D=this.findAttackDataByType(E,P.attackType);if(!D){console.error(`Attack data not found for type ${P.attackType.tag}`);return}const v=P.playerId===this.localPlayerId?.7:.4,T=P.attackType.tag==="Shield",t=P.attackType.tag;let l=this.attackGraphics.get(P.activeAttackId);if(l){l.serverPosition.set(b.position.x,b.position.y),l.lastUpdateTime=this.gameTime,l.ticksElapsed=P.ticksElapsed,l.attackType=t,l.radius=P.radius;const r=l.predictedPosition.x-b.position.x,n=l.predictedPosition.y-b.position.y,e=r*r+n*n;var p=Ke*l.speed*(Ke*l.speed);e>p&&l.predictedPosition.set(b.position.x,b.position.y)}else{const r=this.scene.add.graphics();r.setDepth(1.4);const n=this.createAttackSprite(t,b.position.x,b.position.y),e=new re.Math.Vector2(b.direction.x,b.direction.y);l={graphic:r,sprite:n,radius:P.radius,baseRadius:D.radius,alpha:v,lastUpdateTime:this.gameTime,predictedPosition:new re.Math.Vector2(b.position.x,b.position.y),serverPosition:new re.Math.Vector2(b.position.x,b.position.y),direction:e,speed:D.speed,isShield:T,playerId:P.playerId,parameterU:P.parameterU,ticksElapsed:P.ticksElapsed,attackType:t},this.attackGraphics.set(P.activeAttackId,l)}this.updateAttackGraphic(l)}createAttackSprite(E,P,b){let D="";switch(E){case"Sword":D="attack_sword";break;case"Wand":D="attack_wand";break;case"Knives":D="attack_knife";break;case"Shield":D="attack_shield";break;case"Football":D="attack_football";break;case"Cards":D="attack_cards";break;case"Dumbbell":D="attack_dumbbell";break;case"Garlic":D="attack_garlic";break;case"BossJorgeBolt":D="attack_boss_jorge";break;case"BossBjornBolt":D="attack_boss_bjorn";break;case"BossSimonBolt":D="attack_boss_simon";break;case"WormSpit":D="attack_spit";break;case"ScorpionSting":D="attack_sting";break;default:return console.warn(`Unknown attack type: ${E}, using default sprite`),null}const z=this.scene.add.sprite(P,b,D);return z.setDepth(1.5),z.setOrigin(.5,.5),z.setAlpha(1),E==="Dumbbell"?z.setScale(1.5):E==="BossJorgeBolt"||E==="BossBjornBolt"||E==="BossSimonBolt"?z.setScale(1):E==="Football"?z.setScale(.6):E==="Garlic"?z.setScale(.1):E==="ScorpionSting"?z.setScale(.8):z.setScale(1),z}updateAttackGraphic(E){const{graphic:P,sprite:b,radius:D,alpha:z,predictedPosition:v,serverPosition:T,direction:t,speed:l,ticksElapsed:p}=E;if(P.clear(),(this.debugCirclesEnabled||E.attackType==="Garlic")&&(P.lineStyle(1,16777215,z*.4),P.strokeCircle(0,0,D),E.attackType==="Garlic")){const a=1+Math.sin(p*.2)*.2;P.scale=a,this.createGarlicParticles(v.x,v.y)}if(E.attackType==="Dumbbell"&&b){const a=Math.max(.1,1-p*.1);P.fillStyle(0,a),P.fillCircle(0,D,D*.5)}if(P.setPosition(v.x,v.y),b){if(b.setPosition(v.x,v.y),E.attackType==="BossSimonBolt")return;if(E.attackType==="Dumbbell")return;if(E.attackType==="WormSpit"){if(b.setScale(1),t.length()>0){const a=Math.atan2(t.y,t.x),r=Math.sin(this.gameTime*.01)*.2;Math.abs(a)>Math.PI/2?(b.setRotation(0),b.setFlipX(!0),b.setFlipY(!1)):(b.setRotation(a+r),b.setFlipX(!1),b.setFlipY(!1))}Math.random()<.2&&this.createWormSpitParticles(v.x,v.y)}else if(E.attackType==="ScorpionSting"){if(t.length()>0){const r=Math.atan2(t.y,t.x);Math.abs(r)>Math.PI/2?(b.setRotation(0),b.setFlipX(!0),b.setFlipY(!1)):(b.setRotation(r),b.setFlipX(!1),b.setFlipY(!1));const n=Math.atan2(t.y,t.x);Math.abs(n)>Math.PI/2?b.flipX||b.setFlipX(!0):b.flipX&&b.setFlipX(!1)}const a=.8+Math.sin(this.gameTime*.01)*.2;b.setAlpha(a),Math.random()<.3&&this.createScorpionStingParticles(v.x,v.y)}else if(E.isShield){const a=this.getPlayerPosition(E.playerId||0);if(a){const r=v.x-a.x,n=v.y-a.y,e=Math.atan2(n,r);b.setRotation(e)}}else if(t.length()>0){const a=Math.atan2(t.y,t.x);E.attackType==="Sword"||E.attackType==="Knives"?Math.abs(a)>Math.PI/2?(b.setRotation(0),b.setFlipX(!0),b.setFlipY(!1)):(b.setRotation(a),b.setFlipX(!1),b.setFlipY(!1)):b.setRotation(a)}}}createGarlicParticles(E,P){if(!this.scene)return;const b=Array.from(this.attackGraphics.values()).find(l=>l.attackType==="Garlic");if(!b||Math.random()>.1*(b.radius/b.baseRadius))return;const D=b.radius/b.baseRadius,z=.3*D,v=Math.min(D*30,100),T=new re.Geom.Circle(0,0,b.radius*.8),t=this.scene.add.particles(E,P,"white_pixel",{speed:{min:v*.5,max:v},angle:{min:0,max:360},scale:{start:z,end:0},lifespan:800,tint:[13434828,10092441,6750054],blendMode:"ADD",gravityY:-20*D,quantity:Math.ceil(D),rotate:{min:-180,max:180},alpha:{start:.6,end:0},frequency:50,emitZone:{type:"random",source:T,quantity:Math.ceil(D),stepRate:50}});this.scene.time.delayedCall(800,()=>{t.destroy()})}createWormSpitParticles(E,P){if(!this.scene)return;const b=this.scene.add.particles(E,P,"white_pixel",{speed:{min:10,max:30},angle:{min:0,max:360},scale:{start:.5,end:.1},lifespan:300,tint:8978312,alpha:{start:.7,end:0},quantity:1,frequency:-1,blendMode:"ADD"});b.explode(3,E,P),this.scene.time.delayedCall(300,()=>{b.destroy()})}createScorpionStingParticles(E,P){if(!this.scene)return;const b=this.scene.add.particles(E,P,"white_pixel",{speed:{min:10,max:40},angle:{min:0,max:360},scale:{start:.6,end:.1},lifespan:400,tint:[6750054,3394611],alpha:{start:.8,end:0},quantity:2,frequency:-1,blendMode:"ADD"});b.explode(4,E,P),this.scene.time.delayedCall(400,()=>{b.destroy()})}findAttackDataByType(E,P){var D;const b=(D=E.db)==null?void 0:D.attackData.iter();for(const z of b)if(z.attackType.tag===P.tag)return z}getPlayerPosition(E){if(!this.spacetimeClient.sdkConnection)return null;const P=this.spacetimeClient.sdkConnection.db.player.playerId.find(E);if(!P)return null;const b=this.spacetimeClient.sdkConnection.db.entity.entityId.find(P.entityId);return b?new re.Math.Vector2(b.position.x,b.position.y):null}update(E,P){if(this.spacetimeClient.sdkConnection){E&&(this.gameTime=E);var b=Ke;P&&(b=P/1e3);for(const[r,n]of this.attackGraphics.entries())if(this.spacetimeClient.sdkConnection.db.activeAttacks.activeAttackId.find(r)){if(n.isShield){const s=this.getPlayerPosition(n.playerId||0);if(s){var D=(this.localPlayerRadius+n.radius)*2,z=n.predictedPosition.x-s.x,v=n.predictedPosition.y-s.y,T=Math.atan2(v,z),t=n.speed*b*Math.PI/180/2,l=T+t,p=s.x+Math.cos(l)*D,a=s.y+Math.sin(l)*D;n.predictedPosition.set(p,a),this.updateAttackGraphic(n)}}else if(n.attackType==="BossBjornBolt"&&n.parameterU===1){const s=this.getPlayerPosition(this.localPlayerId||0);if(s){const i=s.x-n.predictedPosition.x,h=s.y-n.predictedPosition.y,u=Math.sqrt(i*i+h*h);if(u>0){const d=i/u,f=h/u;n.direction.x=re.Math.Linear(n.direction.x,d,.1),n.direction.y=re.Math.Linear(n.direction.y,f,.1);const c=Math.sqrt(n.direction.x*n.direction.x+n.direction.y*n.direction.y);c>0&&(n.direction.x/=c,n.direction.y/=c)}}const o=n.speed*b;n.predictedPosition.x+=n.direction.x*o,n.predictedPosition.y+=n.direction.y*o,this.updateAttackGraphic(n)}else if(n.attackType==="BossSimonBolt"){const s=this.gameTime/1e3,o=20*(1+s*.1),h=s*5,u=Math.cos(h)*o,d=Math.sin(h)*o,f=n.speed*b;n.predictedPosition.x+=n.direction.x*f+u*b,n.predictedPosition.y+=n.direction.y*f+d*b,n.sprite&&n.sprite.setRotation(h),this.updateAttackGraphic(n)}else if(n.direction.length()>0){const s=n.speed*b;if(n.attackType==="Dumbbell"){if(n.direction.y+=200*b,n.predictedPosition.x+=n.direction.x*b,n.predictedPosition.y+=n.direction.y*b,n.sprite){n.sprite.setScale(1.5);const i=Math.min(.4,.1+n.direction.y*5e-4);n.graphic.clear(),n.graphic.fillStyle(0,i),n.graphic.fillCircle(n.predictedPosition.x,n.predictedPosition.y+n.radius,n.radius*.5)}}else if(n.attackType.includes("Boss")){const o=n.direction.normalize();n.predictedPosition.x+=o.x*s,n.predictedPosition.y+=o.y*s}else n.predictedPosition.x+=n.direction.x*s,n.predictedPosition.y+=n.direction.y*s;this.updateAttackGraphic(n)}}}}shutdown(){for(const E of this.attackGraphics.values())E.graphic.destroy(),E.sprite&&E.sprite.destroy();this.attackGraphics.clear(),this.unregisterAttackListeners()}setDebugCirclesEnabled(E){this.debugCirclesEnabled=E,console.log(`Attack debug circles ${E?"enabled":"disabled"}`);for(const P of this.attackGraphics.values())this.updateAttackGraphic(P)}createOrUpdateBossAttackGraphic(E,P){var t;if(!this.spacetimeClient.sdkConnection){console.error("Cannot create boss attack graphic: no connection");return}const b=(t=E.db)==null?void 0:t.entity.entityId.find(P.entityId);if(!b){console.error(`Entity ${P.entityId} not found for boss attack ${P.activeBossAttackId}`);return}console.log(`Creating/updating boss attack graphic for ${P.activeBossAttackId} at position (${b.position.x}, ${b.position.y})`);const D=this.findAttackDataByType(E,P.attackType);if(!D){console.error(`Attack data not found for type ${P.attackType.tag}`);return}const z=.4;let v=this.attackGraphics.get(P.activeBossAttackId);if(v){console.log(`Updating existing boss attack graphic for ${P.activeBossAttackId}`),v.serverPosition.set(b.position.x,b.position.y),v.lastUpdateTime=this.gameTime,v.ticksElapsed=P.ticksElapsed,v.attackType=P.attackType.tag,v.radius=P.radius;const l=v.predictedPosition.x-b.position.x,p=v.predictedPosition.y-b.position.y,a=l*l+p*p;var T=Ke*v.speed*(Ke*v.speed);a>T&&(console.log(`Correcting boss attack position for ${P.activeBossAttackId}`),v.predictedPosition.set(b.position.x,b.position.y))}else{console.log(`Creating new boss attack graphic for ${P.activeBossAttackId}`);const l=this.scene.add.graphics();l.setDepth(1.4);const p=this.createAttackSprite(P.attackType.tag,b.position.x,b.position.y);p||console.error(`Failed to create sprite for boss attack type ${P.attackType.tag}`);const a=new re.Math.Vector2(b.direction.x,b.direction.y);v={graphic:l,sprite:p,radius:P.radius,baseRadius:D.radius,alpha:z,lastUpdateTime:this.gameTime,predictedPosition:new re.Math.Vector2(b.position.x,b.position.y),serverPosition:new re.Math.Vector2(b.position.x,b.position.y),direction:a,speed:D.speed,isShield:!1,playerId:null,parameterU:P.parameterU,ticksElapsed:P.ticksElapsed,attackType:P.attackType.tag},p&&p.setRotation(Math.atan2(a.y,a.x)),this.attackGraphics.set(P.activeBossAttackId,v),console.log(`Created new boss attack graphic data for ${P.activeBossAttackId}`)}this.updateAttackGraphic(v)}handleAttackCleanupCreated(E,P){console.log("Attack cleanup created:",P)}handleAttackCleanupDeleted(E,P){console.log("Attack cleanup deleted:",P)}handleBossAttackCleanupCreated(E,P){console.log("Boss attack cleanup created:",P)}handleBossAttackCleanupDeleted(E,P){console.log("Boss attack cleanup deleted:",P)}handleAttackDataCreated(E,P){console.log("Attack data created:",P)}handleAttackDataUpdated(E,P,b){console.log("Attack data updated:",P,b)}}const vn={Small:"gem_1",Medium:"gem_2",Large:"gem_3",Huge:"gem_4"},$e={HOVER_AMPLITUDE:5,HOVER_SPEED:1.5,COLLECTION_PARTICLES:8},pn={Small:13756671,Medium:5898134,Large:16766553,Huge:16734629},Ba="shadow",Ia=.4,hi=1e3,Na=-1,qe=class qe{constructor(E,P){K(this,"scene");K(this,"spacetimeDBClient");K(this,"gems",new Map);K(this,"pendingGems",new Map);K(this,"gameEvents");K(this,"particleEmitter");K(this,"gemManagerId");this.scene=E,this.spacetimeDBClient=P,this.gameEvents=window.gameEvents,qe.nextGemManagerId+=1,this.gemManagerId=qe.nextGemManagerId,console.log("GemManager constructed",this.gemManagerId),this.particleEmitter=this.scene.add.particles(0,0,"white_pixel",{speed:{min:50,max:150},scale:.6,blendMode:gt.BlendModes.ADD,lifespan:800,tint:16777215,quantity:$e.COLLECTION_PARTICLES}),this.particleEmitter.stop()}initializeGems(E){var P,b,D;if(!((b=(P=this.spacetimeDBClient)==null?void 0:P.sdkConnection)!=null&&b.db)){console.error("Cannot initialize gems: database connection not available");return}console.log("GemManager initializing gems",this.gemManagerId),this.registerGemListeners(),this.registerEntityListeners();for(const z of(D=E.db)==null?void 0:D.gems.iter()){const v=E.db.entity.entityId.find(z.entityId);v?this.createGemSprite(z,v.position):this.createOrUpdateGem(E,z)}}registerGemListeners(){console.log("Registering gem listeners for GemManager",this.gemManagerId),this.gameEvents.on(it.GEM_CREATED,(E,P)=>{this.createOrUpdateGem(E,P)}),this.gameEvents.on(it.GEM_UPDATED,(E,P,b)=>{this.createOrUpdateGem(E,b)}),this.gameEvents.on(it.GEM_DELETED,(E,P)=>{this.removeGem(P.gemId)})}registerEntityListeners(){console.log("Registering entity event listeners for GemManager",this.gemManagerId),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.on(it.ENTITY_UPDATED,this.handleEntityEvent,this)}handleEntityEvent(E,P){this.handleEntityUpdate(E,P)}handleEntityUpdate(E,P){var z;const b=this.pendingGems.get(P.entityId);if(b){const v=this.gems.get(b.gemId);return v?(v.x=P.position.x,v.y=P.position.y,v.setDepth(hi+P.position.y),this.pendingGems.delete(P.entityId),!0):(this.pendingGems.delete(P.entityId),this.createGemSprite(b,P.position),!0)}const D=(z=E.db)==null?void 0:z.gems.entityId.find(P.entityId);if(D){const v=this.gems.get(D.gemId);if(v)return v.x=P.position.x,v.y=P.position.y,v.setDepth(hi+P.position.y),!0}return!1}createOrUpdateGem(E,P){var z;if(this.gems.has(P.gemId))return;let b=null;const D=(z=E.db)==null?void 0:z.entity.entityId.find(P.entityId);D&&(b=D.position),b?this.createGemSprite(P,b):this.pendingGems.set(P.entityId,P)}createGemSprite(E,P){const b=P.x,D=P.y,z=this.scene.add.container(b,D),v=E.level;let T="Small";v&&typeof v=="object"&&v.tag?T=v.tag:typeof v=="number"&&(T=["Small","Medium","Large","Huge"][v]||"Small");const t=vn[T]||vn.Small;var l=b-4;const p=this.scene.add.image(l,D,Ba);p.setAlpha(Ia),p.setScale(.5),p.setDepth(hi+D+Na);const a=this.scene.add.image(0,0,t);return z.add(a),z.setDepth(hi+D),z.setData("gemId",E.gemId),z.setData("gemLevel",T),z.setData("entityId",E.entityId),z.setData("baseY",D),z.setData("shadow",p),z.setData("hoverOffset",Math.random()*Math.PI*2),this.scene.tweens.add({targets:z,scaleX:1,scaleY:1,duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.gems.set(E.gemId,z),z}createCollectionEffect(E){const P=E.getData("gemLevel"),b=pn[P]||pn.Small;this.particleEmitter.setPosition(E.x,E.y),this.particleEmitter.stop(),this.particleEmitter.setConfig({speed:{min:50,max:150},scale:.6,blendMode:gt.BlendModes.ADD,lifespan:800,tint:b,quantity:$e.COLLECTION_PARTICLES}),this.particleEmitter.explode($e.COLLECTION_PARTICLES)}removeGem(E){const P=this.gems.get(E);if(P){this.createCollectionEffect(P);const b=P.getData("shadow");this.scene.tweens.add({targets:P,scaleX:0,scaleY:0,duration:200,ease:"Back.easeIn",onComplete:()=>{P.destroy(!0),b&&b.destroy(),this.gems.delete(E)}})}}getGem(E){return this.gems.get(E)}getAllGems(){return this.gems}getGemCount(){return this.gems.size}getPendingGemCount(){return this.pendingGems.size}update(E,P){for(const[b,D]of this.gems.entries()){const z=D.getData("baseY")||D.y,v=D.getData("hoverOffset")||0,T=z+Math.sin(E/1e3*$e.HOVER_SPEED+v)*$e.HOVER_AMPLITUDE;D.y=T}}unregisterListeners(){console.log("Unregistering event listeners for GemManager",this.gemManagerId),this.gameEvents.off(it.GEM_CREATED),this.gameEvents.off(it.GEM_UPDATED),this.gameEvents.off(it.GEM_DELETED),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.off(it.ENTITY_UPDATED,this.handleEntityEvent,this)}shutdown(){console.log("Shutting down GemManager",this.gemManagerId),this.unregisterListeners();for(const[E,P]of this.gems.entries()){const b=P.getData("shadow");b&&b.destroy(),P.destroy(!0)}this.gems.clear(),this.pendingGems.clear(),this.particleEmitter&&(this.particleEmitter.stop(),this.particleEmitter.destroy())}};K(qe,"nextGemManagerId",0);let hn=qe;const Ua=300,za=16711680,Ga=.7,gn=1e3,Va=.6,mn=65280,Xa=100,yn=new Map;function xn(L){const E=Date.now(),P=yn.get(L)||0;if(E-P<Xa)return;yn.set(L,E),L.setData("originalAlpha",1),L.setTint(za),L.setAlpha(Ga),L.getData("damageResetTimerKey")&&L.scene.time.removeEvent(L.getData("damageResetTimerKey"));const D=L.scene.time.delayedCall(Ua,()=>{try{if(L&&L.active){const z=L.getData("originalAlpha")||1;L.clearTint(),L.alpha=z,L.setData("damageResetTimerKey",null)}}catch(z){console.error("Error resetting player damage effect:",z)}});L.setData("damageResetTimerKey",D)}function Tn(L,E){if(L.getData("isPoisoned"))return;L.setData("isPoisoned",!0),L.getData("originalSpeed")||L.setData("originalSpeed",L.getData("playerSpeed")||200);const P=L.getData("originalSpeed"),b=P*Va;L.setData("playerSpeed",b);const D=E.add.particles(0,0,"white_pixel",{x:0,y:0,follow:L,scale:{start:.5,end:.1},speed:{min:10,max:30},lifespan:500,blendMode:"ADD",tint:mn,frequency:50,emitting:!0});E.tweens.add({targets:L,alpha:.8,duration:200,yoyo:!0,repeat:4,ease:"Sine.InOut",onUpdate:()=>{L.setTint(mn)}});const z=E.time.delayedCall(gn,()=>{try{L&&L.active&&(L.setData("playerSpeed",L.getData("originalSpeed")),L.setData("isPoisoned",!1),L.clearTint(),D.destroy(),console.log("Poison effect removed, speed restored"))}catch(v){console.error("Error removing poison effect:",v)}});L.setData("poisonTimerKey",z),console.log(`Scorpion poison applied: Speed reduced from ${P} to ${b} for ${gn}ms`)}const Sn=180,Ya=250,Cn=10,En=.8,An=.65,Wa=1e5,Ha=5,Ka=20,$a={MaxHp:"upgrade_maxHP",HpRegen:"upgrade_regenHP",Speed:"upgrade_speed",Armor:"upgrade_armor",AttackSword:"attack_sword",AttackWand:"attack_wand",AttackKnives:"attack_knife",AttackShield:"attack_shield",AttackFootball:"attack_football",AttackCards:"attack_cards",AttackDumbbell:"attack_dumbbell",AttackGarlic:"attack_garlic"};class Pn{constructor(E,P,b){K(this,"scene");K(this,"spacetimeClient");K(this,"container");K(this,"cards",[]);K(this,"localPlayerId",0);K(this,"upgradeOptions",[]);K(this,"isVisible",!1);K(this,"keyListeners",[]);K(this,"rerollText",null);K(this,"isMobile",!1);var D,z,v;this.scene=E,this.spacetimeClient=P,this.localPlayerId=b,this.isMobile=this.detectMobile(),console.log(`UpgradeUI initialized on ${this.isMobile?"mobile":"desktop"} device`),this.container=this.scene.add.container(0,0),this.container.setDepth(Wa),this.container.setVisible(!1),this.keyListeners=[(D=this.scene.input.keyboard)==null?void 0:D.addKey(gt.Input.Keyboard.KeyCodes.ONE),(z=this.scene.input.keyboard)==null?void 0:z.addKey(gt.Input.Keyboard.KeyCodes.TWO),(v=this.scene.input.keyboard)==null?void 0:v.addKey(gt.Input.Keyboard.KeyCodes.THREE)].filter(T=>T!==void 0),console.log("UpgradeUI initialized")}detectMobile(){const E=navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|windows phone/i.test(E)||window.innerWidth<=800}update(E,P){if(!this.isVisible)return;const b=this.scene.cameras.main;if(b){this.container.x=b.scrollX+b.width/2;const D=this.isMobile?Ha:Ka;this.container.y=b.scrollY+b.height-Ya/2-D}for(let D=0;D<this.keyListeners.length;D++)if(gt.Input.Keyboard.JustDown(this.keyListeners[D])){this.chooseUpgrade(D);break}}setUpgradeOptions(E){var P;if(console.log("Setting upgrade options:",E),this.upgradeOptions=E,this.rerollText&&((P=this.spacetimeClient.sdkConnection)!=null&&P.db)){const b=this.spacetimeClient.sdkConnection.db.player.playerId.find(this.localPlayerId);b&&b.rerolls!==void 0&&this.rerollText.setText(`Press R to reroll (Available: ${b.rerolls})`)}E.length>0?(this.createUpgradeCards(),this.show()):this.hide()}createUpgradeCards(){this.cards.forEach(z=>z.destroy()),this.cards=[];const E=this.isMobile?Sn*An:Sn*En,P=this.isMobile?Cn/2:Cn,D=-(this.upgradeOptions.length*E+(this.upgradeOptions.length-1)*P)/2+E/2;this.upgradeOptions.forEach((z,v)=>{const T=D+v*(E+P),t=this.createCard(T,0,z,v);this.cards.push(t),this.container.add(t)})}createCard(E,P,b,D){const z=this.scene.add.container(E,P),v=this.isMobile?An:En,T=this.scene.add.image(0,0,"card_blank");T.setScale(v),z.add(T),T.setInteractive({useHandCursor:!0}),T.on("pointerdown",()=>this.chooseUpgrade(D)),T.on("pointerover",()=>T.setTint(14540253)),T.on("pointerout",()=>T.clearTint());const t=this.scene.add.text(0,T.height*v,`${D+1}`,{fontSize:this.isMobile?"36px":"48px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:this.isMobile?3:4});t.setOrigin(.5),z.add(t);const l=b.upgradeType.tag,p=$a[l]||"white_pixel",a=this.isMobile?-10:-20,r=this.scene.add.image(0,a,p);r.setScale(this.isMobile?.65:.8),z.add(r);let n=this.getUpgradeDescription(b);const e=this.scene.add.text(0,T.height*v*.28,n,{fontSize:this.isMobile?"16px":"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:this.isMobile?2:3,align:"center",wordWrap:{width:T.width*v*.85}});return e.setOrigin(.5),z.add(e),z}getUpgradeDescription(E){const P=E.upgradeType.tag;switch(P){case"MaxHp":return"HP";case"HpRegen":return"Regen";case"Speed":return"Speed";case"Armor":return"Armor"}return E.isNewAttack?"New":E.damage>0?"Atk":E.cooldownRatio>0?"CD":E.projectiles>0?"Count":E.speed>0?"Speed":E.radius>0?"Size":P}chooseUpgrade(E){var b;if(!this.isVisible||E>=this.upgradeOptions.length)return;console.log(`Choosing upgrade at index ${E}`);const P=this.upgradeOptions[E];if(P)if((b=this.spacetimeClient.sdkConnection)!=null&&b.reducers){this.spacetimeClient.sdkConnection.reducers.chooseUpgrade(this.localPlayerId,P.upgradeIndex),console.log(`Sent ChooseUpgrade reducer call for index ${P.upgradeIndex}`);const D=this.scene.registry.get("localPlayerSprite");this.createUpgradeAppliedEffect(D),this.hide()}else console.error("Cannot choose upgrade: SpacetimeDB connection not available")}createUpgradeAppliedEffect(E){if(!E)return;console.log("Playing upgrade applied effect");const P=E.tintTopLeft;E.setTint(16777215);const b=this.scene.add.circle(E.x,E.y,E.width/1.5,65535,.7);b.setDepth(E.depth-1);const D=this.scene.add.particles(E.x,E.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:500,gravityY:-20,tint:65535,emitting:!1});D.explode(20,E.x,E.y),this.scene.time.delayedCall(100,()=>{E.setTint(65535),this.scene.time.delayedCall(200,()=>{E.setTint(P)})}),this.scene.tweens.add({targets:b,scale:2.5,alpha:0,duration:400,ease:"Sine.easeOut",onComplete:()=>{b.destroy()}}),this.scene.time.delayedCall(600,()=>{D.destroy()})}show(){this.isVisible=!0,this.container.setVisible(!0)}hide(){this.isVisible=!1,this.container.setVisible(!1)}destroy(){this.keyListeners.forEach(E=>E.destroy()),this.cards.forEach(E=>E.destroy()),this.container.destroy()}}const Za=1e5;class Ja{constructor(E,P,b){K(this,"scene");K(this,"spacetimeClient");K(this,"container");K(this,"rerollCountText");K(this,"localPlayerId",0);this.scene=E,this.spacetimeClient=P,this.localPlayerId=b,this.container=this.scene.add.container(0,0),this.container.setDepth(Za),this.rerollCountText=this.scene.add.text(0,0,"Rerolls: 0",{fontSize:"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:3}),this.rerollCountText.setOrigin(1,0),this.container.add(this.rerollCountText),this.updateRerollCount(),console.log("PlayerHUD initialized")}update(E,P){const b=this.scene.cameras.main;b&&(this.rerollCountText.x=b.scrollX+b.width-20,this.rerollCountText.y=b.scrollY+20),E%1e3<20&&this.updateRerollCount()}updateRerollCount(){var E;if((E=this.spacetimeClient.sdkConnection)!=null&&E.db){const P=this.spacetimeClient.sdkConnection.db.player.playerId.find(this.localPlayerId);P&&P.rerolls!==void 0&&this.rerollCountText.setText(`Rerolls: ${P.rerolls}`)}}destroy(){this.container.destroy()}}const Qa=1e5,ka=60*1e3;class ja{constructor(E,P){K(this,"scene");K(this,"spacetimeClient");K(this,"container");K(this,"timerText");K(this,"timerBackground");K(this,"gameEvents");K(this,"bossSpawnTime",null);K(this,"isTimerActive",!1);K(this,"flashAnimation",null);this.scene=E,this.spacetimeClient=P,this.gameEvents=window.gameEvents,this.container=this.scene.add.container(0,0),this.container.setDepth(Qa);const b=this.scene.cameras.main;b&&(this.container.x=b.scrollX+b.width/2,this.container.y=b.scrollY+40),this.timerBackground=this.scene.add.rectangle(0,0,300,40,0,.7),this.timerBackground.setStrokeStyle(2,4473924),this.timerBackground.setOrigin(.5,.5),this.timerText=this.scene.add.text(0,0,"End of the world in: --:--",{fontSize:"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}),this.timerText.setOrigin(.5,.5),this.container.add([this.timerBackground,this.timerText]),this.container.setVisible(!1),this.registerEventListeners(),this.checkForExistingBossTimer(),console.log("BossTimerUI initialized")}registerEventListeners(){this.gameEvents.on(it.GAME_STATE_UPDATED,this.handleGameStateUpdated,this),this.gameEvents.on(it.BOSS_SPAWN_TIMER_CREATED,this.handleBossTimerCreated,this),this.gameEvents.on(it.MONSTER_CREATED,this.handleMonsterCreated,this)}handleGameStateUpdated(E,P,b){!P.bossActive&&b.bossActive&&(this.stopTimer(),this.container.setVisible(!1)),P.bossActive&&!b.bossActive&&(this.bossSpawnTime=null)}handleBossTimerCreated(E,P){var D,z;console.log("Boss timer created event received"),console.log("Raw timer in event:",P),console.log("Timer type:",typeof P),(D=P==null?void 0:P.scheduledAt)!=null&&D.value&&(console.log("Timer value direct access:",P.scheduledAt.value),console.log("Value type:",typeof P.scheduledAt.value));const b=this.extractTimestampFromTimer(P);if(b)console.log("Successfully extracted timestamp:",b),console.log("Human readable date:",new Date(b).toLocaleString()),this.bossSpawnTime=b,this.startTimer(),console.log("Started boss timer from timer creation event");else{if(console.log("Failed to extract timestamp from timer, trying fallbacks..."),(z=P==null?void 0:P.scheduledAt)!=null&&z.value){const v=P.scheduledAt.value;if(typeof v=="bigint"||!isNaN(Number(v))){const T=Number(v)/1e3;console.log("Fallback 1: Direct value conversion:",T),this.bossSpawnTime=T,this.startTimer();return}}this.stopTimer(),this.container.setVisible(!1),console.log("Could not extract valid timestamp from created timer, hiding boss timer UI")}}handleMonsterCreated(E,P){if(P.bestiaryId&&P.bestiaryId.tag){const b=P.bestiaryId.tag;b==="FinalBossPhase1"||b==="FinalBossPhase2"?(this.stopTimer(),this.container.setVisible(!1)):this.checkForExistingBossTimer()}}startTimer(){if(!this.bossSpawnTime){console.log("Cannot start timer - no valid boss spawn time"),this.container.setVisible(!1);return}this.isTimerActive=!0,this.container.setVisible(!0),this.container.visible||(console.warn("Boss timer container not visible after setVisible(true), forcing visibility"),this.container.visible=!0,this.container.alpha=1),this.bossSpawnTime<=Date.now()&&(console.log("Boss spawn time is in the past, showing IMMINENT message"),this.timerText.setText("End of the world: IMMINENT!"),this.startWarningFlash(!0)),console.log(`Boss timer started. Boss will spawn at: ${new Date(this.bossSpawnTime).toLocaleTimeString()}`),console.log(`Timer container properties: visible=${this.container.visible}, alpha=${this.container.alpha}, x=${this.container.x}, y=${this.container.y}`)}stopTimer(){this.isTimerActive=!1,this.flashAnimation&&(this.flashAnimation.stop(),this.flashAnimation=null),this.timerText.setColor("#ffffff")}update(E,P){const b=this.scene.cameras.main;if(b&&(this.container.x=b.scrollX+b.width/2,this.container.y=b.scrollY+40),this.isTimerActive&&this.bossSpawnTime){const D=Date.now(),z=Math.max(0,this.bossSpawnTime-D);if(z<=0)this.timerText.setText("End of the world: IMMINENT!"),this.flashAnimation||this.startWarningFlash(!0);else{const v=Math.floor(z/6e4),T=Math.floor(z%6e4/1e3),t=`End of the world in: ${v}:${T.toString().padStart(2,"0")}`;this.timerText.setText(t),z<=ka&&!this.flashAnimation&&this.startWarningFlash(!1)}}}startWarningFlash(E){const P=E?"#ff0000":"#ffff00",b="#ffffff";this.flashAnimation=this.scene.tweens.add({targets:this.timerText,alpha:{from:1,to:.7},duration:E?300:500,ease:"Sine.InOut",yoyo:!0,repeat:-1,onYoyo:()=>{this.timerText.setColor(this.timerText.style.color===P?b:P)},onRepeat:()=>{this.timerText.setColor(this.timerText.style.color===P?b:P)}})}destroy(){this.gameEvents.off(it.GAME_STATE_UPDATED,this.handleGameStateUpdated,this),this.gameEvents.off(it.BOSS_SPAWN_TIMER_CREATED,this.handleBossTimerCreated,this),this.gameEvents.off(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.flashAnimation&&this.flashAnimation.stop(),this.container.destroy()}checkForExistingBossTimer(){var E,P,b,D;if((P=(E=this.spacetimeClient)==null?void 0:E.sdkConnection)!=null&&P.db){console.log("Checking for existing boss spawn timer...");try{const z=Array.from(this.spacetimeClient.sdkConnection.db.bossSpawnTimer.iter());if(console.log("Boss timers found:",z.length),console.log("Raw timer data:",JSON.stringify(z,(v,T)=>typeof T=="bigint"?T.toString()+"n":T)),z.length>0){const v=z[0];if(console.log("Found existing boss timer:",v),console.log("Timer properties:",Object.keys(v)),(b=v==null?void 0:v.scheduledAt)!=null&&b.value&&(console.log("Direct value:",v.scheduledAt.value),console.log("Value type:",typeof v.scheduledAt.value)),v){const T=this.extractTimestampFromTimer(v);if(T)console.log("Successfully extracted timestamp:",T),console.log("Human readable date:",new Date(T).toLocaleString()),this.bossSpawnTime=T,this.startTimer(),console.log("Started boss timer from existing database entry");else{if(console.log("Failed to extract timestamp using standard method, trying fallbacks..."),(D=v==null?void 0:v.scheduledAt)!=null&&D.value){const t=v.scheduledAt.value;if(typeof t=="bigint"||!isNaN(Number(t))){const l=Number(t)/1e3;console.log("Fallback 1: Direct value conversion:",l),console.log("Human readable date:",new Date(l).toLocaleString()),this.bossSpawnTime=l,this.startTimer();return}}this.stopTimer(),this.container.setVisible(!1),console.log("Could not extract valid timestamp from timer, hiding boss timer UI")}}}else console.log("No existing boss spawn timer found, hiding timer UI"),this.stopTimer(),this.container.setVisible(!1)}catch(z){console.error("Error checking for existing boss timer:",z),this.stopTimer(),this.container.setVisible(!1)}}}extractTimestampFromTimer(E){var P,b;try{if(console.log("Raw timer before stringification:",E),console.log("Raw scheduledAt:",E==null?void 0:E.scheduledAt),console.log("Raw value:",(P=E==null?void 0:E.scheduledAt)==null?void 0:P.value),(b=E==null?void 0:E.scheduledAt)!=null&&b.value&&(console.log("Value type:",typeof E.scheduledAt.value),console.log("Is BigInt:",typeof E.scheduledAt.value=="bigint")),console.log("Extracting timestamp from timer:",JSON.stringify(E,(z,v)=>typeof v=="bigint"?v.toString():v)),!E||!E.scheduledAt)return console.log("Timer or scheduledAt property is missing"),null;const D=E.scheduledAt;if(D.microsSinceUnixEpoch!==void 0){const z=D.microsSinceUnixEpoch;if(typeof z=="bigint")return Number(z)/1e3;if(typeof z=="number")return z/1e3}if(D.timeMs!==void 0)return typeof D.timeMs=="bigint"?Number(D.timeMs):D.timeMs;if(typeof D=="object"&&D.tag&&D.value&&D.tag==="Time"){const z=D.value;if(console.log("Processing Time tag with value:",z,"type:",typeof z),typeof z=="bigint")return console.log("Converting BigInt value to timestamp"),Number(z)/1e3;if(typeof z=="string")if(console.log("Found string timestamp:",z),z.endsWith("n")){const v=z.slice(0,-1);return console.log("Removed 'n' suffix, processing:",v),Number(v)/1e3}else return console.log("Processing as regular string number"),Number(z)/1e3;if(z&&typeof z=="object"&&z.microsSinceUnixEpoch!==void 0){const v=z.microsSinceUnixEpoch;if(typeof v=="bigint")return Number(v)/1e3;if(typeof v=="number")return v/1e3}if(z&&typeof z=="object"&&z.timeMs!==void 0)return typeof z.timeMs=="bigint"?Number(z.timeMs):z.timeMs;if(z){console.log("Attempting direct conversion of value");const v=Number(z);if(!isNaN(v)&&v>0)return console.log("Direct conversion succeeded:",v),v/1e3}}return console.log("Could not extract timestamp - unknown timer structure"),null}catch(D){return console.error("Error extracting timestamp:",D),null}}}const qa=200,li="grass_background",Le="shadow",Ze=14,ns=.4,Mn=.2,_a=100,wn={fontSize:"16px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:3},jt=50,be=6,_t=18,qt=50,De=4,ie=8,Je=_t+16,bt=1e3,Qe=-1,ui=2,fi=1,di=1.1,ci=1,vi=1.1,to=49;class eo extends gt.Scene{constructor(){super("GameScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"playerInitialized",!1);K(this,"localPlayerSprite",null);K(this,"localPlayerNameText",null);K(this,"localPlayerShadow",null);K(this,"otherPlayers",new Map);K(this,"pendingPlayers",new Map);K(this,"monsterManager",null);K(this,"monsterSpawnerManager",null);K(this,"attackManager",null);K(this,"gemManager",null);K(this,"upgradeUI",null);K(this,"playerHUD",null);K(this,"bossTimerUI",null);K(this,"minimap",null);K(this,"localPlayerId",0);K(this,"cursors",null);K(this,"wasdKeys",null);K(this,"backgroundTile",null);K(this,"isPlayerDataReady",!1);K(this,"lastDirectionUpdateTime",0);K(this,"serverPosition",null);K(this,"currentDirection",new gt.Math.Vector2(0,0));K(this,"isMoving",!1);K(this,"tapTarget",null);K(this,"tapMarker",null);K(this,"isNearBoundary",{top:!1,right:!1,bottom:!1,left:!1});K(this,"gameOver",!1);this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("GameScene constructor called.")}preload(){console.log("GameScene preload started."),this.load.image("class_fighter","assets/class_fighter_1.png"),this.load.image("class_rogue","assets/class_rogue_1.png"),this.load.image("class_mage","assets/class_mage_1.png"),this.load.image("class_paladin","assets/class_paladin_1.png"),this.load.image("class_football","assets/class_football_1.png"),this.load.image("class_gambler","assets/class_gambler_1.png"),this.load.image("class_athlete","assets/class_athlete_1.png"),this.load.image("class_chef","assets/class_chef_1.png"),this.load.image(li,"assets/grass.png"),this.load.image(Le,"assets/shadow.png"),this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_wolf","assets/monster_wolf.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("monster_spawn_indicator","assets/monster_spawn_indicator.png"),this.load.image("final_boss_jorge_phase_1","assets/final_boss_jorge_phase_1.png"),this.load.image("final_boss_jorge_phase_2","assets/final_boss_jorge_phase_2.png"),this.load.image("final_boss_bjorn_phase_1","assets/final_boss_phase_bjrn_1.png"),this.load.image("final_boss_bjorn_phase_2","assets/final_boss_phase_bjrn_2.png"),this.load.image("final_boss_simon_phase_1","assets/final_boss_simon_phase_1.png"),this.load.image("final_boss_simon_phase_2","assets/final_boss_simon_phase_2.png"),this.load.image("attack_sword","assets/attack_sword.png"),this.load.image("attack_wand","assets/attack_wand.png"),this.load.image("attack_knife","assets/attack_knife.png"),this.load.image("attack_shield","assets/attack_shield.png"),this.load.image("attack_football","assets/attack_football.png"),this.load.image("attack_cards","assets/attack_cards.png"),this.load.image("attack_dumbbell","assets/attack_dumbbell.png"),this.load.image("attack_garlic","assets/attack_garlic.png"),this.load.image("attack_boss_jorge","assets/attack_boss_jorge.png"),this.load.image("attack_boss_bjorn","assets/attack_boss_bjrn.png"),this.load.image("attack_boss_simon","assets/attack_boss_simon.png"),this.load.image("attack_spit","assets/attack_spit.png"),this.load.image("attack_sting","assets/attack_sting.png"),this.load.image("card_blank","assets/card_blank.png"),this.load.image("upgrade_maxHP","assets/upgrade_maxHP.png"),this.load.image("upgrade_regenHP","assets/upgrade_regenHP.png"),this.load.image("upgrade_speed","assets/upgrade_speed.png"),this.load.image("upgrade_armor","assets/upgrade_armor.png"),this.load.image("gem_1","assets/gem_1.png"),this.load.image("gem_2","assets/gem_2.png"),this.load.image("gem_3","assets/gem_3.png"),this.load.image("gem_4","assets/gem_4.png"),this.load.image("white_pixel","assets/white_pixel.png"),this.load.on("loaderror",P=>{console.error(`Error loading asset: ${P.key} (${P.url})`,P),alert(`Failed to load game asset: ${P.key}. Check browser console for details.`)}),this.load.on("complete",()=>{console.log("All assets loaded. Checking existence:"),console.log("player_fighter:",this.textures.exists("player_fighter")),console.log("player_rogue:",this.textures.exists("player_rogue")),console.log("player_mage:",this.textures.exists("player_mage")),console.log("player_paladin:",this.textures.exists("player_paladin")),console.log("monster_rat:",this.textures.exists("monster_rat")),console.log("monster_slime:",this.textures.exists("monster_slime")),console.log("monster_orc:",this.textures.exists("monster_orc")),console.log("monster_wolf:",this.textures.exists("monster_wolf")),console.log("monster_worm:",this.textures.exists("monster_worm")),console.log("attack_sword:",this.textures.exists("attack_sword")),console.log("attack_wand:",this.textures.exists("attack_wand")),console.log("attack_knife:",this.textures.exists("attack_knife")),console.log("attack_shield:",this.textures.exists("attack_shield")),console.log(li+":",this.textures.exists(li)),console.log(Le+":",this.textures.exists(Le))}),console.log("GameScene preload finished. Started asset loading...")}create(){var T,t;console.log("GameScene create started."),console.log("Available textures:",Object.keys(this.textures.list)),this.cleanupLingeringUIElements(),this.cameras.main.setBackgroundColor("#336699"),this.registerEventListeners(),console.log("Game event listeners registered."),this.playerInitialized=!1,this.cursors=((T=this.input.keyboard)==null?void 0:T.createCursorKeys())??null,this.input.keyboard&&(this.wasdKeys={W:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.W),A:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.A),S:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.S),D:this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.D)},this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.BACKTICK).on("down",this.toggleAttackDebugCircles,this),this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.R).on("down",this.rerollUpgrades,this)),console.log("Keyboard input set up."),this.bossTimerUI=new ja(this,this.spacetimeDBClient),console.log("Boss timer UI initialized."),this.input.on("pointermove",l=>{l.isDown&&this.localPlayerSprite&&(this.tapTarget=new gt.Math.Vector2(l.worldX,l.worldY),this.updateTapMarker())}),this.input.on("pointerdown",l=>{this.localPlayerSprite&&(this.tapTarget=new gt.Math.Vector2(l.worldX,l.worldY),this.updateTapMarker())}),this.input.on("pointerup",()=>{}),console.log("Touch input set up.");const P=this.add.circle(0,0,32,16777215,.3),b=this.add.circle(0,0,16,65535,.5),D=this.add.graphics();D.lineStyle(4,16777215,.7),D.beginPath(),D.moveTo(-8,-8),D.lineTo(8,8),D.moveTo(8,-8),D.lineTo(-8,8),D.closePath(),D.strokePath();const z=this.add.container(0,0,[P,b,D]);this.tapMarker=z,this.tapMarker&&(this.tapMarker.setVisible(!1),this.tapMarker.setDepth(.5),this.tapMarker.setAlpha(.8)),console.log("Tap marker set up.");const v=2e4;this.backgroundTile=this.add.tileSprite(0,0,v,v,li).setOrigin(0,0).setScrollFactor(1),this.physics.world.setBounds(0,0,v,v),console.log("Background and world bounds set up. World size:",v),console.log("Waiting for account login updated event to initialize game world..."),this.monsterManager=new Ea(this,this.spacetimeDBClient),this.attackManager=new Oa(this,this.spacetimeDBClient),this.monsterSpawnerManager=new ba(this,this.spacetimeDBClient),this.createMinimap(),(t=this.spacetimeDBClient.sdkConnection)==null||t.reducers.updateLastLogin()}registerEventListeners(){this.gameEvents.on(it.ACCOUNT_UPDATED,this.handleAccountUpdated,this),this.gameEvents.on(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.on(it.PLAYER_UPDATED,this.handlePlayerUpdated,this),this.gameEvents.on(it.PLAYER_DELETED,this.handlePlayerDeleted,this),this.gameEvents.on(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityCreated,this),this.gameEvents.on(it.ENTITY_UPDATED,this.handleEntityUpdated,this),this.gameEvents.on(it.ENTITY_DELETED,this.handleEntityDeleted,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.spacetimeDBClient.sdkConnection&&(this.spacetimeDBClient.sdkConnection.db.upgradeOptions.onInsert((P,b)=>this.handleUpgradeOptionCreated(P,b)),this.spacetimeDBClient.sdkConnection.db.upgradeOptions.onDelete((P,b)=>this.handleUpgradeOptionDeleted(P,b))),this.events.on("shutdown",this.shutdown,this)}handleAccountUpdated(P,b,D){console.log("Account updated event received in GameScene"),this.spacetimeDBClient.identity&&D.identity.isEqual(this.spacetimeDBClient.identity)?(this.gameOver&&(console.log("Resetting game state after death when rejoining"),this.gameOver=!1,this.playerInitialized=!1,this.isPlayerDataReady=!1,this.currentDirection.x=0,this.currentDirection.y=0,this.isMoving=!1,this.serverPosition=null,this.tapTarget=null,this.tapMarker&&(this.tapMarker.visible=!1)),console.log("Local account updated: ",D),this.playerInitialized?console.log("Game world already initialized, not reinitializing"):this.initializeGameWorld(P)):console.log("Other account updated: ",D)}handlePlayerCreated(P,b,D=!0){console.log("Player created event received in GameScene"),D?(console.log("Local player created:",b),this.initializeLocalPlayer(P,b)):(console.log("Other player created:",b),this.addOrUpdateOtherPlayer(b,P))}handlePlayerUpdated(P,b,D,z){z&&D.unspentUpgrades>b.unspentUpgrades&&(console.log("Player level up: upgrade points available:",D.unspentUpgrades),this.localPlayerSprite&&this.createLevelUpEffect(this.localPlayerSprite)),z?this.updateLocalPlayerAttributes(P,D):this.addOrUpdateOtherPlayer(D,P)}handlePlayerDeleted(P,b,D=!1){D?console.log("Local player deleted event received"):(console.log("Other player deleted:",b),this.removeOtherPlayer(b.playerId))}handlePlayerDied(P,b){var T,t;console.log("Player died event received in GameScene"),console.log("Local player died:",b),this.upgradeUI&&(console.log("Clearing upgrade UI for dying player"),this.upgradeUI.hide());const D=(T=P.db)==null?void 0:T.deadPlayers.playerId.find(b.playerId);console.log("Dead player record:",D);let z=!1;D&&(z=D.isTrueSurvivor),console.log("Final isTrueSurvivor value:",z);var v=(t=this.localPlayerSprite)==null?void 0:t.getCenter();v&&this.createDeathEffects(v.x,v.y),z?(console.log("Showing TRUE SURVIVOR victory screen!"),this.showVictoryScreen()):(console.log("Showing regular death screen"),this.showDeathScreen()),this.gameOver=!0}handleConnectionLost(P){console.log("Connection lost event received in GameScene");const{width:b,height:D}=this.scale;this.add.text(b/2,D/2,`CONNECTION LOST
Please refresh the page`,{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.disablePlayerControls()}initializeGameWorld(P){var t,l,p,a,r,n;if(console.log("Initializing game world elements..."),!this.spacetimeDBClient||!this.spacetimeDBClient.identity||!((t=this.spacetimeDBClient.sdkConnection)!=null&&t.db)){console.error("SpacetimeDB client, identity, or tables not available in initializeGameWorld.");return}const b=this.spacetimeDBClient.identity,D=(l=P.db)==null?void 0:l.account.identity.find(b);if(!D){console.error("Local account not found!");return}if(console.log("Local account found:",D),!D.currentPlayerId){console.error("Local account has no currentPlayerId!");return}var z=D.currentPlayerId,v=(p=P.db)==null?void 0:p.player.playerId.find(z);if(!v){var T=(a=P.db)==null?void 0:a.deadPlayers.playerId.find(z);if(T){console.error("Local player is dead! The game scene should not have been loaded.");return}const e=Array.from(((r=P.db)==null?void 0:r.player.iter())||[]);console.log("All players:",e),console.error("Local player data not found for playerID:",D.currentPlayerId);return}console.log("Local player data found during initialization:",v),this.initializeLocalPlayer(P,v),console.log("Performing initial player synchronization..."),this.syncPlayers(P),(n=this.monsterManager)==null||n.initializeMonsters(P),this.attackManager&&(this.attackManager.setLocalPlayerId(z),this.attackManager.initializeAttacks(P),console.log("Existing attacks checked")),this.gemManager=new hn(this,this.spacetimeDBClient),this.gemManager.initializeGems(P),console.log("Game world initialization complete.")}initializeLocalPlayer(P,b){var v,T;if(console.log("Initializing local player..."),this.playerInitialized){console.log("Local player already initialized, skipping...");return}this.localPlayerId=b.playerId,this.playerHUD=new Ja(this,this.spacetimeDBClient,this.localPlayerId);const D=(v=P.db)==null?void 0:v.entity.entityId.find(b.entityId);if(!D){console.log("Entity data not found for local player, adding to pending players"),this.pendingPlayers.set(b.entityId,b);return}(T=this.attackManager)==null||T.setLocalPlayerRadius(D.radius),console.log("Found entity data for player:",D);const z=this.getClassSpriteKey(b.playerClass);if(this.localPlayerSprite){this.localPlayerSprite.setTexture(z),this.localPlayerSprite.setPosition(D.position.x,D.position.y);const t=this.localPlayerSprite.getData("healthBar"),l=this.localPlayerSprite.getData("healthBarBackground");if(t&&l){l.x=D.position.x,l.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-_t,t.x=D.position.x-jt/2,t.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-_t;const r=Math.max(0,Math.min(1,b.hp/b.maxHp));t.width=jt*r,this.localPlayerSprite.setData("hp",b.hp),this.localPlayerSprite.setData("maxHp",b.maxHp),console.log(`Updated health bar: ${b.hp}/${b.maxHp}`)}else console.warn("Health bar elements not found on existing sprite");const p=this.localPlayerSprite.getData("expBar"),a=this.localPlayerSprite.getData("expBarBackground");if(p&&a){a.x=D.position.x,a.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-ie,p.x=D.position.x-qt/2,p.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-ie;const r=b.expForNextLevel>0?Math.min(1,b.exp/b.expForNextLevel):0;p.width=qt*r,this.localPlayerSprite.setData("exp",b.exp),this.localPlayerSprite.setData("expForNextLevel",b.expForNextLevel),console.log(`Updated exp bar: ${b.exp}/${b.expForNextLevel}`)}else console.warn("Exp bar elements not found on existing sprite")}else{console.log("Creating new player sprite at position:",D.position),this.localPlayerSprite=this.physics.add.sprite(D.position.x,D.position.y,z),this.localPlayerSprite.setDepth(bt+D.position.y),this.localPlayerShadow=this.add.image(D.position.x,D.position.y,Le),this.localPlayerShadow.setAlpha(ns),this.localPlayerShadow.setDepth(bt+D.position.y+Qe),this.localPlayerNameText=this.add.text(D.position.x,D.position.y-Math.floor(this.localPlayerSprite.height/2)-Je,`${b.name} (${b.level})`,{fontSize:"16px",color:"#FFFFFF",stroke:"#000000",strokeThickness:3,fontStyle:"bold"}).setOrigin(.5),this.localPlayerNameText.setDepth(bt+D.position.y+ui);const t=D.position.x,l=D.position.y,p=this.add.rectangle(t,l-Math.floor(this.localPlayerSprite.height/2)-_t,jt,be,0,.7).setOrigin(.5,.5),a=this.add.rectangle(t-jt/2,l-Math.floor(this.localPlayerSprite.height/2)-_t,jt*(b.hp/b.maxHp),be,65280,1).setOrigin(0,.5),r=this.add.rectangle(t,l-Math.floor(this.localPlayerSprite.height/2)-ie,qt,De,0,.7).setOrigin(.5,.5),n=b.expForNextLevel>0?Math.min(1,b.exp/b.expForNextLevel):0,e=this.add.rectangle(t-qt/2,l-Math.floor(this.localPlayerSprite.height/2)-ie,qt*n,De,3447003,1).setOrigin(0,.5);p.setDepth(bt+D.position.y+fi),a.setDepth(bt+D.position.y+di),r.setDepth(bt+D.position.y+ci),e.setDepth(bt+D.position.y+vi),this.localPlayerSprite.setData("healthBarBackground",p),this.localPlayerSprite.setData("healthBar",a),this.localPlayerSprite.setData("hp",b.hp),this.localPlayerSprite.setData("maxHp",b.maxHp),this.localPlayerSprite.setData("expBarBackground",r),this.localPlayerSprite.setData("expBar",e),this.localPlayerSprite.setData("exp",b.exp),this.localPlayerSprite.setData("expForNextLevel",b.expForNextLevel),console.log(`Created health bar for player: ${b.hp}/${b.maxHp}`),console.log(`Created exp bar for player: ${b.exp}/${b.expForNextLevel}`),this.localPlayerSprite.setCollideWorldBounds(!0),console.log("Setting camera to follow player"),this.cameras.main.startFollow(this.localPlayerSprite,!0,.5,.5),this.cameras.main.setZoom(1)}if(this.registry.set("localPlayerSprite",this.localPlayerSprite),this.serverPosition=new gt.Math.Vector2(D.position.x,D.position.y),this.currentDirection.x=D.direction.x,this.currentDirection.y=D.direction.y,this.isMoving=D.isMoving,this.playerInitialized=!0,this.isPlayerDataReady=!0,b.unspentUpgrades>0){const t=Array.from(P.db.upgradeOptions.iter()).filter(l=>l.playerId===this.localPlayerId);t.length>0?(console.log("Player has pending upgrades, initializing upgrade UI"),this.upgradeUI=new Pn(this,this.spacetimeDBClient,this.localPlayerId),this.upgradeUI.setUpgradeOptions(t)):console.log("No pending upgrades found for player")}else console.log("No pending upgrades found for player");console.log("Local player initialized successfully")}updateLocalPlayerAttributes(P,b){var v,T;const D=this.localPlayerNameText?parseInt(this.localPlayerNameText.text.split("(")[1].split(")")[0]):b.level;if(this.localPlayerNameText&&this.localPlayerNameText.text!==`${b.name} (${b.level})`&&(this.localPlayerNameText.setText(`${b.name} (${b.level})`),b.level>D&&this.localPlayerSprite&&this.createLevelUpEffect(this.localPlayerSprite)),this.localPlayerSprite){const t=this.localPlayerSprite.getData("hp"),l=this.localPlayerSprite.getData("maxHp");if(t!==b.hp||l!==b.maxHp){t!==void 0&&b.hp<t&&(xn(this.localPlayerSprite),this.checkForScorpionDamage(this.localPlayerSprite)),this.localPlayerSprite.setData("hp",b.hp),this.localPlayerSprite.setData("maxHp",b.maxHp);const r=this.localPlayerSprite.getData("healthBar");if(r){const n=Math.max(0,Math.min(1,b.hp/b.maxHp));r.width=jt*n,n>.6?r.fillColor=65280:n>.3?r.fillColor=16776960:r.fillColor=16711680}}const p=this.localPlayerSprite.getData("exp"),a=this.localPlayerSprite.getData("expForNextLevel");if(p!==b.exp||a!==b.expForNextLevel){this.localPlayerSprite.setData("exp",b.exp),this.localPlayerSprite.setData("expForNextLevel",b.expForNextLevel);const r=this.localPlayerSprite.getData("expBar");if(r){const n=b.expForNextLevel>0?Math.min(1,b.exp/b.expForNextLevel):0;r.width=qt*n,p!==void 0&&b.exp>p&&this.tweens.add({targets:r,fillColor:65535,duration:200,yoyo:!0,onComplete:()=>{r.fillColor=3447003}})}}if(b.spawnGracePeriodRemaining>0){if(!this.localPlayerSprite.getData("graceActive")){if(this.localPlayerSprite.setData("graceActive",!0),!this.localPlayerSprite.getData("graceTween")){const r=this.tweens.add({targets:this.localPlayerSprite,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{var i;const n=Math.sin(this.time.now/200)*.5+.5,e=new gt.Display.Color(255,255,255),s=new gt.Display.Color(200,200,200),o=gt.Display.Color.Interpolate.ColorWithColor(e,s,100,Math.floor(n*100));(i=this.localPlayerSprite)==null||i.setTint(gt.Display.Color.GetColor(o.r,o.g,o.b))}});this.localPlayerSprite.setData("graceTween",r)}console.log("Grace period active: "+b.spawnGracePeriodRemaining)}}else if(this.localPlayerSprite.getData("graceActive")){this.localPlayerSprite.setData("graceActive",!1);const r=this.localPlayerSprite.getData("graceTween");r&&(r.stop(),this.localPlayerSprite.setData("graceTween",null)),this.localPlayerSprite.clearTint(),this.localPlayerSprite.alpha=1}}const z=(v=P.db)==null?void 0:v.entity.entityId.find(b.entityId);z&&this.serverPosition&&this.serverPosition.set(z.position.x,z.position.y),z&&((T=this.attackManager)==null||T.setLocalPlayerRadius(z.radius))}createLevelUpEffect(P){if(!P)return;console.log("Playing level up effect!");const b=this.add.text(P.x,P.y-100,"LEVEL UP!",{fontFamily:"Arial",fontSize:"32px",color:"#ffff00",stroke:"#000000",strokeThickness:6,fontStyle:"bold"});b.setOrigin(.5),b.setDepth(bt+P.y+100),this.tweens.add({targets:b,y:b.y-80,alpha:{from:1,to:0},scale:{from:.5,to:2},duration:2e3,ease:"Power2",onComplete:()=>{b.destroy()}});const D=this.add.circle(P.x,P.y,P.width/1.5,16776960,.5);D.setDepth(bt+P.y-1),this.tweens.add({targets:D,scale:3,alpha:0,duration:500,ease:"Sine.easeOut",onComplete:()=>{D.destroy()}});const z=this.add.particles(P.x,P.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:1e3,gravityY:-50,tint:16776960,emitting:!1});z.explode(30,P.x,P.y),this.time.delayedCall(700,()=>{z.destroy()});const v=P.tintTopLeft;P.setTint(16777215),this.time.delayedCall(200,()=>{P.setTint(v)})}handleEntityUpdate(P,b){var v,T,t,l,p,a,r,n;if((v=this.monsterManager)==null?void 0:v.handleEntityUpdate(P,b))return;let z;try{if((T=this.spacetimeDBClient)!=null&&T.identity){const e=(t=P.db)==null?void 0:t.account.identity.find(this.spacetimeDBClient.identity);if(e&&e.currentPlayerId>0){const s=(l=P.db)==null?void 0:l.player.playerId.find(e.currentPlayerId);s&&(z=s.entityId)}}}catch(e){console.error("Error getting local player entity ID:",e)}if(z===b.entityId){if(!this.localPlayerSprite){const e=Math.floor(b.position.x),s=Math.floor(b.position.y);let o="Player",i=We.Fighter,h=1,u=100,d=100,f=0,c=100;try{if((p=this.spacetimeDBClient)!=null&&p.identity){const F=(a=P.db)==null?void 0:a.account.identity.find(this.spacetimeDBClient.identity);if(F&&F.currentPlayerId>0){const M=(r=P.db)==null?void 0:r.player.playerId.find(F.currentPlayerId);M&&(M.name&&(o=M.name),M.playerClass&&(i=M.playerClass),M.level&&(h=M.level),M.maxHp&&(u=M.maxHp),M.hp&&(d=M.hp),M.exp!==void 0&&(f=M.exp),M.expForNextLevel&&(c=M.expForNextLevel))}}}catch(F){console.error("Error getting player data:",F)}const g=this.getClassSpriteKey(i);this.localPlayerSprite=this.physics.add.sprite(e,s,g);const m=bt+s;this.localPlayerNameText=this.add.text(e,s-Math.floor(this.localPlayerSprite.height/2)-Je,`${o} (${h})`,wn).setOrigin(.5,.5),this.localPlayerNameText.setDepth(m+ui);const y=this.add.rectangle(e,s-Math.floor(this.localPlayerSprite.height/2)-_t,jt,be,0,.7).setOrigin(.5,.5),x=this.add.rectangle(e-jt/2,s-Math.floor(this.localPlayerSprite.height/2)-_t,jt*(d/u),be,65280,1).setOrigin(0,.5),S=this.add.rectangle(e,s-Math.floor(this.localPlayerSprite.height/2)-ie,qt,De,0,.7).setOrigin(.5,.5),C=c>0?Math.min(1,f/c):0,A=this.add.rectangle(e-qt/2,s-Math.floor(this.localPlayerSprite.height/2)-ie,qt*C,De,3447003,1).setOrigin(0,.5);y.setDepth(m+fi),x.setDepth(m+di),S.setDepth(m+ci),A.setDepth(m+vi),this.localPlayerSprite.setData("healthBarBackground",y),this.localPlayerSprite.setData("healthBar",x),this.localPlayerSprite.setData("hp",d),this.localPlayerSprite.setData("maxHp",u),this.localPlayerSprite.setData("expBarBackground",S),this.localPlayerSprite.setData("expBar",A),this.localPlayerSprite.setData("exp",f),this.localPlayerSprite.setData("expForNextLevel",c),this.localPlayerShadow=this.add.image(e,s+Ze,Le).setAlpha(ns).setDepth(m+Qe),this.localPlayerSprite.setCollideWorldBounds(!0),this.cameras.main.startFollow(this.localPlayerSprite,!0,1,1),this.cameras.main.setRoundPixels(!0)}this.serverPosition===null?this.serverPosition=new gt.Math.Vector2(b.position.x,b.position.y):this.serverPosition.set(b.position.x,b.position.y)}else{let e=null;try{e=((n=P.db)==null?void 0:n.player.entityId.find(b.entityId))||null}catch(s){console.error("Error finding player for entity:",s)}if(e)try{this.otherPlayers.get(e.playerId)?this.updateOtherPlayerPosition(e.playerId,b.position.x,b.position.y):this.pendingPlayers.set(b.entityId,e)}catch(s){console.error("Error updating other player position:",s)}}}getClassSpriteKey(P){if(P&&typeof P=="object"&&"tag"in P){const b=P.tag;return{Fighter:"class_fighter",Rogue:"class_rogue",Mage:"class_mage",Paladin:"class_paladin",Football:"class_football",Gambler:"class_gambler",Athlete:"class_athlete",Gourmand:"class_chef"}[b]||"class_fighter"}return typeof P=="string"?{Fighter:"class_fighter",Rogue:"class_rogue",Mage:"class_mage",Paladin:"class_paladin",Football:"class_football",Gambler:"class_gambler",Athlete:"class_athlete",Gourmand:"class_chef"}[P]||"class_fighter":typeof P=="number"?["class_fighter","class_rogue","class_mage","class_paladin","class_football","class_gambler","class_athlete","class_chef"][P]||"class_fighter":(console.log("Using default fighter class"),"class_fighter_1")}createOtherPlayerSprite(P,b){if(this.otherPlayers.has(P.playerId)){this.updateOtherPlayerPosition(P.playerId,b.position.x,b.position.y);return}const D=Math.floor(b.position.x),z=Math.floor(b.position.y),v=bt+z,T=this.add.image(0,Ze,Le).setAlpha(ns).setDepth(Qe),t=this.getClassSpriteKey(P.playerClass),l=this.add.sprite(0,0,t),p=`${P.name} (${P.level})`,a=this.add.text(0,-Math.floor(l.height/2)-Je,p,wn).setOrigin(.5,.5),r=this.add.rectangle(0,-Math.floor(l.height/2)-_t,jt,be,0,.7).setOrigin(.5,.5),n=this.add.rectangle(-50/2,-Math.floor(l.height/2)-_t,jt*(P.hp/P.maxHp),be,65280,1).setOrigin(0,.5),e=this.add.rectangle(0,-Math.floor(l.height/2)-ie,qt,De,0,.7).setOrigin(.5,.5),s=P.expForNextLevel>0?Math.min(1,P.exp/P.expForNextLevel):0,o=this.add.rectangle(-50/2,-Math.floor(l.height/2)-ie,qt*s,De,3447003,1).setOrigin(0,.5),i=this.add.container(D,z,[T,l,a,r,n,e,o]);if(i.setData("entityId",b.entityId),i.setData("hp",P.hp),i.setData("maxHp",P.maxHp),i.setData("exp",P.exp),i.setData("expForNextLevel",P.expForNextLevel),i.setData("sprite",l),l.setName("sprite"),a.setName("nameText"),n.setName("healthBar"),r.setName("healthBarBackground"),o.setName("expBar"),e.setName("expBarBackground"),i.setDepth(v),this.otherPlayers.set(P.playerId,i),P.spawnGracePeriodRemaining>0){i.setData("graceActive",!0);const h=this.tweens.add({targets:l,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{const u=Math.sin(this.time.now/200)*.5+.5,d=new gt.Display.Color(255,255,255),f=new gt.Display.Color(200,200,200),c=gt.Display.Color.Interpolate.ColorWithColor(d,f,100,Math.floor(u*100));l.setTint(gt.Display.Color.GetColor(c.r,c.g,c.b))}});i.setData("graceTween",h),console.log(`Player ${P.name} has grace period: ${P.spawnGracePeriodRemaining}`)}}addOrUpdateOtherPlayer(P,b){var D,z,v;if((D=this.spacetimeDBClient)!=null&&D.identity){const T=(z=b.db)==null?void 0:z.account.identity.find(this.spacetimeDBClient.identity);if(T&&T.currentPlayerId===P.playerId)return;if(this.otherPlayers.has(P.playerId)){const t=this.otherPlayers.get(P.playerId);if(t){const l=t.getByName("nameText");if(l&&l.text!==`${P.name} (${P.level})`){const a=parseInt(l.text.split("(")[1].split(")")[0]);l.setText(`${P.name} (${P.level})`),P.level>a&&this.createOtherPlayerLevelUpEffect(t)}if(P.hp!==void 0&&P.maxHp!==void 0){const a=t.getData("hp")||P.maxHp;if(P.hp<a){const n=t.getByName("sprite");n&&(xn(n),this.checkForOtherPlayerScorpionDamage(n,t))}t.setData("hp",P.hp),t.setData("maxHp",P.maxHp);const r=t.getByName("healthBar");if(r){const n=Math.max(0,Math.min(1,P.hp/P.maxHp));r.width=jt*n,r.x=-50/2}}if(P.exp!==void 0&&P.expForNextLevel!==void 0){const a=t.getData("exp")||0;t.getData("expForNextLevel"),t.setData("exp",P.exp),t.setData("expForNextLevel",P.expForNextLevel);const r=t.getByName("expBar");if(r){const n=P.expForNextLevel>0?Math.min(1,P.exp/P.expForNextLevel):0;r.width=qt*n,r.x=-50/2,P.exp>a&&this.tweens.add({targets:r,fillColor:65535,duration:200,yoyo:!0,onComplete:()=>{r.fillColor=3447003}})}}const p=t.getByName("sprite");if(p){if(P.spawnGracePeriodRemaining>0){if(!t.getData("graceActive")&&(t.setData("graceActive",!0),!t.getData("graceTween"))){const a=this.tweens.add({targets:p,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{const r=Math.sin(this.time.now/200)*.5+.5,n=new gt.Display.Color(255,255,255),e=new gt.Display.Color(200,200,200),s=gt.Display.Color.Interpolate.ColorWithColor(n,e,100,Math.floor(r*100));p.setTint(gt.Display.Color.GetColor(s.r,s.g,s.b))}});t.setData("graceTween",a)}}else if(t.getData("graceActive")){t.setData("graceActive",!1);const a=t.getData("graceTween");a&&(a.stop(),t.setData("graceTween",null)),p.clearTint(),p.alpha=1}}}}else if(P.entityId){const t=(v=b.db)==null?void 0:v.entity.entityId.find(P.entityId);t?this.createOtherPlayerSprite(P,t):this.pendingPlayers.set(P.entityId,P)}}}updateTapMarker(){if(!this.tapMarker){console.warn("Cannot update tap marker - it doesn't exist!");return}this.tapTarget?(this.tapMarker.setPosition(this.tapTarget.x,this.tapTarget.y+Ze+20),this.tapMarker.setVisible(!0),this.tweens.add({targets:this.tapMarker,scale:{from:.8,to:1},duration:300,ease:"Bounce.Out"})):this.tapMarker.setVisible(!1)}updateOtherPlayerPosition(P,b,D){const z=this.otherPlayers.get(P);z&&this.tweens.add({targets:z,x:Math.floor(b),y:Math.floor(D),duration:100,ease:"Linear",onUpdate:()=>{z.setDepth(bt+z.y)}})}removeOtherPlayer(P){var D,z;const b=this.otherPlayers.get(P);if(b){const v=(D=this.minimap)==null?void 0:D.otherPlayerDots.get(P);v&&(v.destroy(),(z=this.minimap)==null||z.otherPlayerDots.delete(P)),b.destroy(),this.otherPlayers.delete(P)}}update(P,b){var p,a,r,n,e,s,o,i,h,u,d;if(!this.localPlayerSprite||!((a=(p=this.spacetimeDBClient)==null?void 0:p.sdkConnection)!=null&&a.db))return;let D=0,z=0,v=!1;if(this.cursors&&((r=this.cursors.left)!=null&&r.isDown&&(D-=1,v=!0),(n=this.cursors.right)!=null&&n.isDown&&(D+=1,v=!0),(e=this.cursors.up)!=null&&e.isDown&&(z-=1,v=!0),(s=this.cursors.down)!=null&&s.isDown&&(z+=1,v=!0)),this.wasdKeys&&(this.wasdKeys.A.isDown&&(D-=1,v=!0),this.wasdKeys.D.isDown&&(D+=1,v=!0),this.wasdKeys.W.isDown&&(z-=1,v=!0),this.wasdKeys.S.isDown&&(z+=1,v=!0)),v&&this.tapTarget&&(this.tapTarget=null,(o=this.tapMarker)==null||o.setVisible(!1)),D===0&&z===0&&this.tapTarget){const f=this.getPlayerEntityRadius(),c=this.clampToWorldBounds(this.tapTarget,f);(c.x!==this.tapTarget.x||c.y!==this.tapTarget.y)&&(this.tapTarget.set(c.x,c.y),this.updateTapMarker());const g=this.tapTarget.x-this.localPlayerSprite.x,m=this.tapTarget.y-this.localPlayerSprite.y,y=g*g+m*m;if(y>100){const x=Math.sqrt(y);D=g/x,z=m/x}else this.tapTarget=null,(i=this.tapMarker)==null||i.setVisible(!1)}const T=D!==0||z!==0,t=this.currentDirection.x!==D||this.currentDirection.y!==z,l=P-this.lastDirectionUpdateTime>_a;if((t||T&&l)&&(this.currentDirection.set(D,z),this.isMoving=T,this.gameOver||((h=this.spacetimeDBClient.sdkConnection)==null||h.reducers.updatePlayerDirection(D,z),this.lastDirectionUpdateTime=P)),this.isMoving){const f=qa*(b/1e3),c=this.currentDirection.x*f,g=this.currentDirection.y*f,m=this.getPlayerEntityRadius(),y={x:this.localPlayerSprite.x+c,y:this.localPlayerSprite.y+g},x=this.clampToWorldBounds(y,m);(x.x!==y.x||x.y!==y.y)&&console.debug(`Movement clamped to boundary: (${y.x.toFixed(1)}, ${y.y.toFixed(1)})  (${x.x.toFixed(1)}, ${x.y.toFixed(1)})`),this.localPlayerSprite.x=x.x,this.localPlayerSprite.y=x.y,this.localPlayerSprite.setDepth(bt+this.localPlayerSprite.y),this.localPlayerNameText&&(this.localPlayerNameText.x=this.localPlayerSprite.x,this.localPlayerNameText.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-Je,this.localPlayerNameText.setDepth(bt+this.localPlayerSprite.y+ui)),this.localPlayerShadow&&(this.localPlayerShadow.x=this.localPlayerSprite.x,this.localPlayerShadow.y=this.localPlayerSprite.y+Ze,this.localPlayerShadow.setDepth(bt+this.localPlayerSprite.y+Qe));const S=this.localPlayerSprite.getData("healthBarBackground"),C=this.localPlayerSprite.getData("healthBar");S&&C&&(S.x=this.localPlayerSprite.x,S.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,S.setDepth(bt+this.localPlayerSprite.y+fi),C.x=this.localPlayerSprite.x-jt/2,C.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,C.setDepth(bt+this.localPlayerSprite.y+di));const A=this.localPlayerSprite.getData("expBarBackground"),F=this.localPlayerSprite.getData("expBar");A&&F&&(A.x=this.localPlayerSprite.x,A.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-ie,A.setDepth(bt+this.localPlayerSprite.y+ci),F.x=this.localPlayerSprite.x-qt/2,F.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-ie,F.setDepth(bt+this.localPlayerSprite.y+vi))}if(this.serverPosition&&this.localPlayerSprite){const f=this.getPlayerEntityRadius(),c=this.clampToWorldBounds(this.serverPosition,f),g=c.x-this.localPlayerSprite.x,m=c.y-this.localPlayerSprite.y;if(g*g+m*m>to){this.localPlayerSprite.x+=g*Mn,this.localPlayerSprite.y+=m*Mn,this.localPlayerSprite.setDepth(bt+this.localPlayerSprite.y),this.localPlayerNameText&&(this.localPlayerNameText.x=this.localPlayerSprite.x,this.localPlayerNameText.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-Je,this.localPlayerNameText.setDepth(bt+this.localPlayerSprite.y+ui)),this.localPlayerShadow&&(this.localPlayerShadow.x=this.localPlayerSprite.x,this.localPlayerShadow.y=this.localPlayerSprite.y+Ze,this.localPlayerShadow.setDepth(bt+this.localPlayerSprite.y+Qe));const x=this.localPlayerSprite.getData("healthBarBackground"),S=this.localPlayerSprite.getData("healthBar");x&&S&&(x.x=this.localPlayerSprite.x,x.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,x.setDepth(bt+this.localPlayerSprite.y+fi),S.x=this.localPlayerSprite.x-jt/2,S.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,S.setDepth(bt+this.localPlayerSprite.y+di));const C=this.localPlayerSprite.getData("expBarBackground"),A=this.localPlayerSprite.getData("expBar");C&&A&&(C.x=this.localPlayerSprite.x,C.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-ie,C.setDepth(bt+this.localPlayerSprite.y+ci),A.x=this.localPlayerSprite.x-qt/2,A.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-ie,A.setDepth(bt+this.localPlayerSprite.y+vi))}}this.otherPlayers.forEach(f=>{f.setDepth(bt+f.y)}),(u=this.monsterManager)==null||u.update(P,b),(d=this.attackManager)==null||d.update(P,b),this.gemManager&&this.gemManager.update(P,b),this.upgradeUI&&this.upgradeUI.update(P,b),this.playerHUD&&this.playerHUD.update(P,b),this.bossTimerUI&&this.bossTimerUI.update(P,b),this.updateMinimap()}updateMinimap(){if(!this.minimap||!this.localPlayerSprite)return;const P=this.physics.world.bounds,b=this.minimap.background.width,D=this.localPlayerSprite.x/P.width,z=this.localPlayerSprite.y/P.height;this.minimap.playerDot.x=D*b,this.minimap.playerDot.y=z*b,this.otherPlayers.forEach((v,T)=>{var l;let t=(l=this.minimap)==null?void 0:l.otherPlayerDots.get(T);if(!t&&this.minimap&&(t=this.add.circle(0,0,5,65280,1),this.minimap.container.add(t),this.minimap.otherPlayerDots.set(T,t)),t){const p=v.x/P.width,a=v.y/P.height;t.x=p*b,t.y=a*b}})}syncPlayers(P){var z;if(console.log("Forcing player sync..."),!this.spacetimeDBClient||!this.spacetimeDBClient.identity||!((z=this.spacetimeDBClient.sdkConnection)!=null&&z.db)){console.error("Cannot sync players: SpacetimeDB client, identity, or tables not available");return}const b=this.spacetimeDBClient.identity,D=P.db.account.identity.find(b);if(!D){console.error("Local account not found during sync!");return}if(!this.localPlayerSprite&&D.currentPlayerId>0){const v=P.db.player.playerId.find(D.currentPlayerId);if(v){const T=P.db.entity.entityId.find(v.entityId);T?(console.log(`Creating local player during sync: ${v.name} at (${T.position.x}, ${T.position.y})`),this.handleEntityUpdate(P,T)):console.warn(`Entity data not found for local player (entityId: ${v.entityId})`)}else console.warn("Local player data not found in player table during sync")}for(const v of P.db.player.iter()){if(v.playerId===D.currentPlayerId)continue;const T=P.db.entity.entityId.find(v.entityId);T?this.otherPlayers.get(v.playerId)?this.updateOtherPlayerPosition(v.playerId,T.position.x,T.position.y):this.createOtherPlayerSprite(v,T):console.warn(`Entity data not found for player ${v.name} (entityId: ${v.entityId})`)}console.log(`Total tracked other players after sync: ${this.otherPlayers.size}`)}createDeathEffects(P,b){console.log(`Creating death effects at (${P}, ${b})`);const D=this.add.particles(P,b,"shadow",{speed:{min:50,max:200},angle:{min:0,max:360},scale:{start:.4,end:.1},lifespan:800,quantity:20,tint:16711680,gravityY:300,blendMode:"ADD",emitting:!1});D.setDepth(5e4),D.explode(30,P,b),this.time.delayedCall(1e3,()=>{D.destroy()})}showDeathScreen(){console.log("Showing death screen for local player");const{width:P,height:b}=this.scale,D=this.add.rectangle(0,0,P,b,0,.7).setOrigin(0,0).setScrollFactor(0).setDepth(1e5),z=this.add.text(P/2,b/2-50,"You are no Survivor",{fontFamily:"Arial",fontSize:"48px",color:"#FF0000",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001),v=this.add.text(P/2,b/2+50,"Choose a new character",{fontFamily:"Arial",fontSize:"24px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001);D.alpha=0,z.alpha=0,v.alpha=0,this.tweens.add({targets:[D,z,v],alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(3e3,()=>{console.log("Death screen timer complete, transitioning to ClassSelectScene"),this.scene.start("ClassSelectScene")})}}),this.disablePlayerControls()}disablePlayerControls(){this.tapTarget=null,this.tapMarker&&this.tapMarker.setVisible(!1),this.isMoving=!1,this.currentDirection.set(0,0),this.input&&(this.input.off("pointermove"),this.input.off("pointerdown"),this.input.off("pointerup"))}shutdown(){var P,b,D,z,v;console.log("GameScene shutting down..."),(P=this.monsterManager)==null||P.shutdown(),(b=this.monsterSpawnerManager)==null||b.destroy(),this.monsterSpawnerManager=null,(D=this.attackManager)==null||D.shutdown(),(z=this.gemManager)==null||z.shutdown(),this.gemManager=null,this.upgradeUI&&(this.upgradeUI.destroy(),this.upgradeUI=null),this.playerHUD&&(this.playerHUD.destroy(),this.playerHUD=null),this.bossTimerUI&&(this.bossTimerUI.destroy(),this.bossTimerUI=null),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.ACCOUNT_UPDATED,this.handleAccountUpdated,this),this.gameEvents.off(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.off(it.PLAYER_UPDATED,this.handlePlayerUpdated,this),this.gameEvents.off(it.PLAYER_DELETED,this.handlePlayerDeleted,this),this.gameEvents.off(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityCreated,this),this.gameEvents.off(it.ENTITY_UPDATED,this.handleEntityUpdated,this),this.gameEvents.off(it.ENTITY_DELETED,this.handleEntityDeleted,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.monsterManager&&this.monsterManager.unregisterListeners(),this.localPlayerSprite&&(this.localPlayerSprite.destroy(),this.localPlayerSprite=null),this.localPlayerShadow&&(this.localPlayerShadow.destroy(),this.localPlayerShadow=null),this.localPlayerNameText&&(this.localPlayerNameText.destroy(),this.localPlayerNameText=null);for(const[T,t]of this.otherPlayers)t.destroy();if(this.otherPlayers.clear(),this.tapTarget=null,this.tapMarker&&(this.tapMarker.destroy(),this.tapMarker=null),(v=this.input)!=null&&v.keyboard)try{this.input.keyboard.removeCapture(gt.Input.Keyboard.KeyCodes.BACKTICK),this.input.keyboard.addKey(gt.Input.Keyboard.KeyCodes.BACKTICK)}catch(T){console.warn("Could not clean up debug key binding:",T)}this.minimap&&(this.minimap.container.destroy(),this.minimap=null),console.log("GameScene shutdown complete.")}handleEntityCreated(P,b){this.handleEntityUpdate(P,b)}handleEntityUpdated(P,b,D){this.handleEntityUpdate(P,D)}handleEntityDeleted(P,b){}cleanupLingeringUIElements(){console.log("GameScene: Cleaning up lingering UI elements from other scenes only");try{const P=document.getElementById("login-name-input");P&&P.parentNode&&(console.log("GameScene: Removing lingering login input"),P.remove());const b=document.getElementById("class-select-container");b&&b.parentNode&&(console.log("GameScene: Removing lingering class container"),b.remove())}catch(P){console.error("Error in GameScene cleanupLingeringUIElements:",P)}}getPlayerEntityRadius(){var b,D,z;let P=48;try{if((b=this.spacetimeDBClient)!=null&&b.identity&&((z=(D=this.spacetimeDBClient)==null?void 0:D.sdkConnection)!=null&&z.db)){const v=this.spacetimeDBClient.sdkConnection.db.account.identity.find(this.spacetimeDBClient.identity);if(v&&v.currentPlayerId>0){const T=this.spacetimeDBClient.sdkConnection.db.player.playerId.find(v.currentPlayerId);if(T&&T.entityId){const t=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(T.entityId);t&&t.radius&&(P=t.radius)}}}}catch(v){console.error("Error getting entity radius:",v)}return P}clampToWorldBounds(P,b){const D=this.physics.world.bounds,z=8;return{x:gt.Math.Clamp(P.x,D.x+b,D.right-b),y:gt.Math.Clamp(P.y,D.y+b+z,D.bottom-b-z)}}toggleAttackDebugCircles(){if(this.attackManager){this.attackManager.debugCirclesEnabled===void 0&&(this.attackManager.debugCirclesEnabled=!1);const P=!this.attackManager.debugCirclesEnabled;this.attackManager.debugCirclesEnabled=P,this.attackManager.setDebugCirclesEnabled(P),console.log(`Attack debug circles ${P?"enabled":"disabled"}`)}else console.log("Attack manager not initialized, can't toggle debug circles")}createOtherPlayerLevelUpEffect(P){if(!P)return;console.log("Playing level up effect for other player!");const b=P.getByName("sprite");if(!b)return;const D=this.add.text(P.x,P.y-100,"LEVEL UP!",{fontFamily:"Arial",fontSize:"28px",color:"#ffff00",stroke:"#000000",strokeThickness:5,fontStyle:"bold"});D.setOrigin(.5),D.setDepth(bt+P.y+100),this.tweens.add({targets:D,y:D.y-80,alpha:{from:1,to:0},scale:{from:.5,to:2},duration:2e3,ease:"Power2",onComplete:()=>{D.destroy()}});const z=this.add.circle(P.x,P.y,b.width/1.5,16776960,.5);z.setDepth(bt+P.y-1),this.tweens.add({targets:z,scale:3,alpha:0,duration:500,ease:"Sine.easeOut",onComplete:()=>{z.destroy()}});const v=this.add.particles(P.x,P.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:1e3,gravityY:-50,tint:16776960,emitting:!1});v.explode(30,P.x,P.y),this.time.delayedCall(700,()=>{v.destroy()});const T=b.tintTopLeft;b.setTint(16777215),this.time.delayedCall(200,()=>{b.setTint(T)})}handleUpgradeOptionCreated(P,b){var D;if(b.playerId===this.localPlayerId){if(console.log("Received upgrade option:",b),!this.upgradeUI&&this.localPlayerId>0&&(this.upgradeUI=new Pn(this,this.spacetimeDBClient,this.localPlayerId)),this.upgradeUI){const z=Array.from((D=P.db)==null?void 0:D.upgradeOptions.iter()).filter(v=>v.playerId===this.localPlayerId);this.upgradeUI.setUpgradeOptions(z)}}else console.log("Received upgrade option for other player:"+b.playerId+", local player id:"+this.localPlayerId)}handleUpgradeOptionDeleted(P,b){if(b.playerId===this.localPlayerId&&this.upgradeUI){const D=Array.from(P.db.upgradeOptions.iter()).filter(z=>z.playerId===this.localPlayerId);D.length===0?this.upgradeUI.hide():this.upgradeUI.setUpgradeOptions(D)}}rerollUpgrades(){var b;if(!((b=this.spacetimeDBClient.sdkConnection)!=null&&b.db)||this.localPlayerId<=0){console.log("Cannot reroll: Connection not available or player not initialized");return}const P=this.spacetimeDBClient.sdkConnection.db.player.playerId.find(this.localPlayerId);if(!P){console.log("Cannot reroll: Player data not found");return}if(P.unspentUpgrades<=0){console.log("Cannot reroll: No unspent upgrades available");return}if(P.rerolls<=0){console.log("Cannot reroll: No rerolls available");return}console.log("Rerolling upgrades..."),this.upgradeUI&&this.upgradeUI.hide(),this.localPlayerSprite&&this.createRerollEffect(this.localPlayerSprite),this.spacetimeDBClient.sdkConnection.reducers.rerollUpgrades(this.localPlayerId)}createRerollEffect(P){if(!P)return;console.log("Playing reroll effect!");const b=this.add.text(P.x,P.y-80,"REROLL!",{fontFamily:"Arial",fontSize:"28px",color:"#00ffff",stroke:"#000000",strokeThickness:5,fontStyle:"bold"});b.setOrigin(.5),b.setDepth(bt+P.y+100),this.tweens.add({targets:b,y:b.y-50,alpha:{from:1,to:0},scale:{from:.8,to:1.5},duration:1e3,ease:"Power2",onComplete:()=>{b.destroy()}});const D=this.add.particles(P.x,P.y,"white_pixel",{speed:{min:80,max:180},scale:{start:.5,end:0},blendMode:"ADD",lifespan:800,gravityY:0,tint:65535,emitting:!1,emitCallback:v=>{const T=Math.random()*Math.PI*2,t=gt.Math.Between(80,180);gt.Math.Between(30,80),v.velocityX=Math.cos(T)*t,v.velocityY=Math.sin(T)*t,v.rotation=T}});D.explode(40,P.x,P.y);const z=P.tintTopLeft;P.setTint(65535),this.time.delayedCall(300,()=>{P.setTint(z)}),this.time.delayedCall(800,()=>{D.destroy()})}createMinimap(){const{width:P,height:b}=this.scale,D=150,z=20,v=.7,T=5,t=2,l=this.add.container(z,b-z-D),p=this.add.rectangle(0,0,D,D,0,.5).setOrigin(0),a=this.add.rectangle(0,0,D,D,16777215,.3).setOrigin(0);a.setStrokeStyle(t,16777215,.5);const r=this.add.circle(0,0,T,255,1);l.add([p,a,r]),l.setScrollFactor(0),l.setAlpha(v),this.minimap={container:l,background:p,playerDot:r,otherPlayerDots:new Map,border:a},console.log("Minimap created")}showVictoryScreen(){console.log("Showing True Survivor victory screen");const{width:P,height:b}=this.scale,D=this.add.rectangle(0,0,P,b,16777215,.7).setOrigin(0,0).setScrollFactor(0).setDepth(1e5),z=this.add.text(P/2,b/2-50,"YOU ARE A TRUE SURVIVOR",{fontFamily:"Arial",fontSize:"48px",color:"#FFD700",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001),v=this.add.text(P/2,b/2+50,"The Final Boss has been defeated!",{fontFamily:"Arial",fontSize:"24px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001);D.alpha=0,z.alpha=0,v.alpha=0,this.tweens.add({targets:[D,z,v],alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(5e3,()=>{console.log("Victory screen timer complete, transitioning to ClassSelectScene"),this.scene.start("ClassSelectScene")})}}),this.createVictoryParticles(),this.disablePlayerControls()}createVictoryParticles(){const{width:P,height:b}=this.scale,D=this.add.particles(0,0,"white_pixel",{x:{min:0,max:P},y:-50,quantity:2,lifespan:6e3,speedY:{min:100,max:300},speedX:{min:-100,max:100},scale:{start:.5,end:1},rotate:{start:0,end:360},tint:[16766720,16753920,16777215,14329120],frequency:50,emitting:!0}).setDepth(100002),z=this.add.particles(P/2,b/2,"white_pixel",{speed:{min:100,max:500},angle:{min:0,max:360},scale:{start:1,end:0},lifespan:2e3,blendMode:"ADD",tint:16766720,quantity:2,frequency:200,emitting:!0}).setDepth(100002);this.time.delayedCall(5e3,()=>{D.destroy(),z.destroy()})}checkForScorpionDamage(P){var b,D;if(!P.getData("isPoisoned")&&!(!this.monsterManager||!((D=(b=this.spacetimeDBClient)==null?void 0:b.sdkConnection)!=null&&D.db)))try{const z=Array.from(this.spacetimeDBClient.sdkConnection.db.monsters.iter()).filter(l=>l.bestiaryId===Wt.Scorpion);if(z.length===0)return;const v=P.x,T=P.y;let t=!1;for(const l of z){const p=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(l.entityId);if(p){const a=v-p.position.x,r=T-p.position.y,n=a*a+r*r,e=p.radius*1.5;if(n<=e*e){t=!0;break}}}t&&(Tn(P,this),console.log("Player poisoned by scorpion!"))}catch(z){console.error("Error checking for scorpion damage:",z)}}checkForOtherPlayerScorpionDamage(P,b){var D,z;if(!b.getData("isPoisoned")&&!(!this.monsterManager||!((z=(D=this.spacetimeDBClient)==null?void 0:D.sdkConnection)!=null&&z.db)))try{const v=Array.from(this.spacetimeDBClient.sdkConnection.db.monsters.iter()).filter(p=>p.bestiaryId===Wt.Scorpion);if(v.length===0)return;const T=P.x,t=P.y;let l=!1;for(const p of v){const a=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(p.entityId);if(a){const r=T-a.position.x,n=t-a.position.y,e=r*r+n*n,s=a.radius*1.5;if(e<=s*s){l=!0;break}}}l&&(Tn(P,this),console.log("Other player poisoned by scorpion!"))}catch(v){console.error("Error checking for scorpion damage:",v)}}}const wt=()=>{const L="ontouchstart"in window||navigator.maxTouchPoints>0,E=window.innerWidth<768,b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return L&&(E||b)},Mt=L=>{const E=window.innerWidth;return E<360?`${Math.max(10,Math.floor(L*.6))}px`:E<480?`${Math.max(12,Math.floor(L*.7))}px`:E<768?`${Math.max(14,Math.floor(L*.8))}px`:`${L}px`};class io extends gt.Scene{constructor(){super("LoginScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"statusText");K(this,"nameInput");K(this,"nameButton");K(this,"errorText");K(this,"loginContainer");K(this,"nameInputContainer");this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("LoginScene constructor called")}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){const{width:P,height:b}=this.scale;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(P/2,b/2,"title_bg").setDisplaySize(P,b).setDepth(0)}catch(z){console.error("Error loading background:",z)}this.loginContainer=this.add.container(P/2,b/2);const D=this.add.text(0,-150,"SURVIVE WITH FRIENDS",{fontFamily:"Arial Black",fontSize:"64px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:8}).setOrigin(.5);this.loginContainer.add(D),this.statusText=this.add.text(0,-80,"Connecting to server...",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5),this.loginContainer.add(this.statusText),this.createHTMLElements(),this.errorText=this.add.text(0,200,"",{fontFamily:"Arial",fontSize:"18px",color:"#ff0000",align:"center"}).setOrigin(.5).setVisible(!1),this.loginContainer.add(this.errorText),this.registerEventListeners(),this.updateConnectionStatus(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createHTMLElements(){const P=document.getElementById("login-name-input-container");P&&P.remove(),document.querySelectorAll(".login-button").forEach(z=>z.remove());const D=wt();this.nameInputContainer=document.createElement("div"),this.nameInputContainer.id="login-name-input-container",this.nameInputContainer.className="login-input-container",this.nameInputContainer.style.position="absolute",this.nameInputContainer.style.left="50%",this.nameInputContainer.style.transform="translateX(-50%)",this.nameInputContainer.style.width=D?"80%":"300px",this.nameInputContainer.style.maxWidth="300px",this.nameInputContainer.style.display="none",this.nameInputContainer.style.zIndex="1000",this.nameInputContainer.style.top=D?"60px":`${window.innerHeight/2-25}px`,document.body.appendChild(this.nameInputContainer),this.nameInput=document.createElement("input"),this.nameInput.id="login-name-input",this.nameInput.type="text",this.nameInput.placeholder="Enter your name",this.nameInput.maxLength=16,this.nameInput.style.width="100%",this.nameInput.style.fontFamily="Arial",this.nameInput.style.fontSize="16px",this.nameInput.style.padding=D?"12px":"10px",this.nameInput.style.textAlign="center",this.nameInput.style.borderRadius="4px",this.nameInput.style.marginBottom="15px",this.nameInput.style.boxSizing="border-box",this.nameInput.style.border="2px solid #34495e",this.nameInput.style.backgroundColor="#fff",this.nameInputContainer.appendChild(this.nameInput),this.nameButton=document.createElement("button"),this.nameButton.textContent="Set Name",this.nameButton.className="login-button",this.nameButton.style.width="100%",this.nameButton.style.boxSizing="border-box",this.nameButton.style.fontFamily="Arial",this.nameButton.style.fontSize="16px",this.nameButton.style.padding=D?"14px 20px":"10px 20px",this.nameButton.style.borderRadius="4px",this.nameButton.style.backgroundColor="#4CAF50",this.nameButton.style.color="white",this.nameButton.style.border="none",this.nameButton.style.cursor="pointer",this.nameButton.style.textAlign="center",this.nameInputContainer.appendChild(this.nameButton),this.nameButton.addEventListener("click",()=>this.setPlayerName()),this.nameInput.addEventListener("keypress",z=>{z.key==="Enter"&&this.setPlayerName()}),D&&(this.nameInput.addEventListener("focus",()=>{document.body.classList.add("keyboard-open")}),this.nameInput.addEventListener("blur",()=>{document.body.classList.remove("keyboard-open")}))}positionHTMLElements(){}handleResize(){const{width:P,height:b}=this.scale,D=wt();if(this.loginContainer){this.loginContainer.setPosition(P/2,b/2);const z=this.loginContainer.getAt(0);z&&z.setFontSize(D?parseInt(Mt(48)):64),this.statusText&&this.statusText.setFontSize(D?parseInt(Mt(20)):24),this.errorText&&this.errorText.setFontSize(D?parseInt(Mt(16)):18)}document.getElementById("login-name-input-container")||this.createHTMLElements()}registerEventListeners(){this.gameEvents.on(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.on(it.ACCOUNT_CREATED,this.handleAccountCreated,this),this.gameEvents.on(it.NAME_SET,this.handleNameSet,this),this.gameEvents.on(it.LOADING_ERROR,this.handleLoadingError,this)}handleConnectionEstablished(){console.log("Connection established event received in LoginScene"),this.updateConnectionStatus()}handleConnectionLost(){console.log("Connection lost event received in LoginScene"),this.updateConnectionStatus(),this.statusText.setText("Disconnected. Please refresh the page."),this.hideAllInputs()}handleAccountCreated(P){console.log("Account created event received in LoginScene"),P.name||this.showNameInput()}handleNameSet(){console.log("Name set event received in LoginScene")}handleLoadingError(P){console.log("Loading error event received in LoginScene",P),this.showError(P)}updateConnectionStatus(){this.spacetimeDBClient.isConnected?(console.log("Connected to server"),this.statusText.setText(""),this.showNameInput()):(this.statusText.setText("Connecting to server..."),this.hideAllInputs())}setPlayerName(){var b;const P=this.nameInput.value.trim();if(!P||P.length<1||P.length>16){this.showError("Please enter a valid name (1-16 characters)");return}this.hideAllInputs(),this.scene.start("LoadingScene",{message:"Setting your name...",nextScene:"PrologScene",timeoutDuration:1e4});try{(b=this.spacetimeDBClient.sdkConnection)!=null&&b.reducers?(console.log(`Setting name to: ${P}`),this.spacetimeDBClient.sdkConnection.reducers.setName(P)):(this.scene.start("LoginScene"),setTimeout(()=>{this.showError("Cannot set name: SpacetimeDB reducers not available")},100))}catch(D){console.error("Error setting name:",D),this.scene.start("LoginScene"),setTimeout(()=>{this.showError("An error occurred while setting your name")},100)}}hideAllInputs(){this.nameInputContainer&&(this.nameInputContainer.style.display="none")}showNameInput(){this.nameInputContainer&&(this.nameInputContainer.style.display="block",setTimeout(()=>{this.nameInput&&this.nameInput.focus()},300))}showError(P){this.errorText.setText(P),this.errorText.setVisible(!0)}shutdown(){this.hideAllInputs(),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.off(it.ACCOUNT_CREATED,this.handleAccountCreated,this),this.gameEvents.off(it.NAME_SET,this.handleNameSet,this),this.gameEvents.off(it.LOADING_ERROR,this.handleLoadingError,this);try{let P=[],b=[];this.nameInputContainer&&P.push(this.nameInputContainer);const D=document.getElementById("login-name-input-container");D&&P.push(D),document.querySelectorAll(".login-button").forEach(z=>b.push(z)),P.forEach(z=>{z&&z.parentNode&&(console.log("Removing login input container element:",z.id),z.remove())}),b.forEach(z=>{z&&z.parentNode&&(console.log("Removing login button element:",z.className),z.remove())}),console.log("LoginScene HTML elements cleaned up")}catch(P){console.error("Error cleaning up LoginScene HTML elements:",P)}this.scale.off("resize",this.handleResize)}forceCleanupDOMElements(){console.log("LoginScene: Force cleaning up all DOM elements");try{this.nameInputContainer&&(this.nameInputContainer.style.display="none");const P=document.getElementById("login-name-input-container");P&&(console.log("Force-removing login input container by ID"),P.remove()),document.querySelectorAll(".login-button").forEach(b=>{console.log("Force-removing login button by class"),b.remove()}),document.querySelectorAll('input[type="text"]').forEach(b=>{b.id==="login-name-input"&&(console.log("Force-removing text input"),b.remove())}),document.querySelectorAll("button").forEach(b=>{b.textContent==="Set Name"&&(console.log("Force-removing button by text content"),b.remove())})}catch(P){console.error("Error in forceCleanupDOMElements:",P)}}}const so={"story.intro.1":`Chris, Marc, Til and Max - are on the road again, as they often are when they are looking for a new challenge.
 This time, they are heading high up into the mountains. After hours of hiking over narrow paths and steep climbs, they have already covered more than 2,000 meters in altitude. Drenched in sweat and full of anticipation, they are now almost at their destination: only one last step separates them from the summit cross.`,"story.intro.2":"But then: a huge abyss. So deep that you can no longer see the ground. Between them and the summit hangs only a rotten, swaying wooden suspension bridge - held by two thin ropes that tremble suspiciously against every gust of wind.","story.intro.3":`Max stops. 'This is too dangerous. We should turn back', he says. But Chris, Marc and Til just look at each other - and grin and shout: 'TRUST.'
Without hesitation, Chris is the first to trudge onto the bridge. He even jumps a few times to show how stable it is. And indeed - it holds. So the others follow, step by step.`,"story.intro.4":`But then - ZACK!
A loud crash. The ropes snap. A scream. And the four friends plunge into the depths.`,"story.intro.5":"They fall - endlessly, through absolute darkness. But instead of smashing against the rock, they land... softly? Confused and dazed, they regain consciousness. All around them: a dark, strange place. Rock faces, moss, shimmering crystals - an underground labyrinth, a dungeon, as if from another world.","story.intro.6":`An ancient inscription is engraved on the wall in front of them:

 'Only those who steel body and mind, use every resource and conquer the gatekeeper will find their way back to the surface.`,"story.intro.7":`The adventure begins. No more excuses. No turning back.
Only training, teamwork - and the fight for survival.`,"class.til.description":"A melee specialist with high base damage.","class.til.weapon":"Sword Slash - A close-range piercing attack with high damage","class.til.strengths":"High base damage, Can hit multiple enemies","class.til.weaknesses":"Limited range","class.marc.description":"A swift assassin that excels at burst damage.","class.marc.weapon":"Throwing Knives - Multiple fast projectiles in a spread pattern","class.marc.strengths":"High attack speed, Multi-directional attacks","class.marc.weaknesses":"Low individual projectile damage","class.max.description":"A ranged specialist with seeking projectiles.","class.max.weapon":"Magic Bolt - Homes in on the nearest enemy","class.max.strengths":"Auto-targeting attacks, Good single target damage","class.max.weaknesses":"Low armor piercing","class.chris.description":"A holy warrior protected by orbiting shields.","class.chris.weapon":"Shield Bash - Rotating shield that damages nearby enemies","class.chris.strengths":"Good defensive capabilities, Constant AoE damage","class.chris.weaknesses":"Slower attack speed","class.football_til.description":"Til unleashes his football skills for devastating attacks.","class.football_til.weapon":"Football - A powerful bouncing projectile that pierces through enemies","class.football_til.strengths":"Very high damage, Pierce through multiple enemies","class.football_til.weaknesses":"Slower attack speed, Less control over bounces","class.yugioh_marc.description":"Marc channels his inner duelist to unleash devastating card combinations.","class.yugioh_marc.weapon":"Card Burst - Launches a barrage of magical cards","class.yugioh_marc.strengths":"Multiple projectiles, Fast attacks, Wide coverage","class.yugioh_marc.weaknesses":"Very low health, No armor, Cards have random patterns","class.gym_max.description":"Max embraces his inner gym bro for maximum gains and damage.","class.gym_max.weapon":"Dumbbell Slam - Devastating area damage with weights","class.gym_max.strengths":"Extremely high health, Maximum armor, Massive damage","class.gym_max.weaknesses":"Very slow movement, Long attack recovery","class.chef_chris.description":"Chris masters the art of combat cooking with his signature garlic attacks.","class.chef_chris.weapon":"Garlic Storm - Creates an intense damaging field","class.chef_chris.strengths":"Powerful AoE damage, Enhanced defense, Larger area","class.chef_chris.weaknesses":"Must stay close to enemies, Lower burst damage","ui.confirm_selection":"Confirm Selection","ui.select_class.title":"SELECT YOUR CLASS","ui.select_class.subtitle":"Choose wisely, brave survivor...","ui.bestiary.title":"ENEMY BESTIARY","ui.bestiary.description":"Learn about the creatures that lurk in the depths","ui.bestiary.select_monster":"Select a monster to view details","ui.back":"Back","bestiary.category.common":"Common Enemies","bestiary.category.bosses":"Bosses","bestiary.monster.Rat.name":"Rat","bestiary.monster.Rat.description":"Small and fast vermin that travel in packs. While individually weak, they can overwhelm careless adventurers with their numbers.","bestiary.monster.Rat.tips":`- Rats are weak but fast and often attack in groups
- Use area attacks to handle multiple rats at once
- They have very low HP, so one hit is usually enough`,"bestiary.monster.Slime.name":"Slime","bestiary.monster.Slime.description":"Gelatinous creatures that slowly pursue their prey. Their bodies can absorb significant damage before breaking apart.","bestiary.monster.Slime.tips":`- Slimes are slow but have more health than rats
- Keep your distance and use ranged attacks
- They occasionally split into smaller slimes when damaged`,"bestiary.monster.Orc.name":"Orc","bestiary.monster.Orc.description":"Brutish warriors with considerable strength. They wield crude but effective weapons and have a surprisingly tactical mind.","bestiary.monster.Orc.tips":`- Orcs are tough enemies with high damage
- They have a strong frontal attack, so avoid direct confrontation
- Circle around them to exploit their slow turning speed`,"bestiary.monster.Wolf.name":"Wolf","bestiary.monster.Wolf.description":"Swift predators with sharp instincts. Wolves are fast and agile, often circling their prey before lunging with deadly precision.","bestiary.monster.Wolf.tips":`- Wolves are very fast and will chase you relentlessly
- They often attack in coordinated packs
- Use obstacles to break their line of sight`,"bestiary.monster.Worm.name":"Worm","bestiary.monster.Worm.description":"Tunneling creatures that burrow through the ground. They can surprise victims by erupting from beneath, launching acidic projectiles.","bestiary.monster.Worm.tips":`- Worms can attack from underground with little warning
- Watch for ground disturbances that indicate their presence
- They're vulnerable after their attack animation`,"bestiary.monster.Scorpion.name":"Scorpion","bestiary.monster.Scorpion.description":"Venomous arachnids with deadly stingers. Their poisonous attacks can temporarily slow down even the most agile adventurers.","bestiary.monster.Scorpion.tips":`- Scorpions use a poisonous sting attack that reduces movement speed
- Their poison effect is temporary but can be deadly in swarms
- Maintain distance to avoid their close-range attacks
- Watch for the bright green projectile - that's the poisonous sting`,"bestiary.monster.FinalBossPhase1.name":"Final Boss","bestiary.monster.FinalBossPhase1.description":"The first form of the final challenge standing between you and freedom. This formidable entity guards the exit to the surface world.","bestiary.monster.FinalBossPhase1.tips":`- The boss has multiple attack patterns that change throughout the fight
- Look for visual cues that telegraph powerful attacks
- Target the weak points when they become exposed`,"bestiary.monster.FinalBossPhase2.name":"Final Boss","bestiary.monster.FinalBossPhase2.description":"The enhanced form of the final boss, now more dangerous and aggressive than before.","bestiary.monster.FinalBossPhase2.tips":`- The second phase is much more dangerous than the first
- New attack patterns will emerge
- Stay mobile and be ready to dodge powerful area attacks`,"bestiary.monster.FinalBossJorgePhase1.name":"Jorge","bestiary.monster.FinalBossJorgePhase1.description":"Jorge, the first of the gatekeepers, uses chaotic energy and unpredictable movements in battle.","bestiary.monster.FinalBossJorgePhase1.tips":`- Jorge's attacks are unpredictable but have noticeable tells
- Keep your distance when he charges his energy
- Use the environment to your advantage`,"bestiary.monster.FinalBossJorgePhase2.name":"Jorge","bestiary.monster.FinalBossJorgePhase2.description":"Jorge's ultimate form, channeling the full extent of his chaotic power.","bestiary.monster.FinalBossJorgePhase2.tips":`- Watch out for his teleportation abilities
- His energy bursts can hit multiple targets
- Strike when he's recovering from a large attack`,"bestiary.monster.FinalBossBjornPhase1.name":"Bjrn","bestiary.monster.FinalBossBjornPhase1.description":"Bjrn, the second gatekeeper, relies on brute strength and powerful ground-based attacks.","bestiary.monster.FinalBossBjornPhase1.tips":`- Bjrn's attacks create shockwaves that travel along the ground
- Jump to avoid his ground-based attacks
- His charging attack is powerful but leaves him vulnerable afterward`,"bestiary.monster.FinalBossBjornPhase2.name":"Bjrn","bestiary.monster.FinalBossBjornPhase2.description":"Bjrn unleashes his full strength, causing devastation with each powerful strike.","bestiary.monster.FinalBossBjornPhase2.tips":`- His attacks now cover a wider area
- Watch for the cracking ground before a major attack
- Use ranged attacks to keep a safe distance`,"bestiary.monster.FinalBossSimonPhase1.name":"Simon","bestiary.monster.FinalBossSimonPhase1.description":"Simon, the final gatekeeper, uses tactical precision and energy projections to keep enemies at bay.","bestiary.monster.FinalBossSimonPhase1.tips":`- Simon attacks with precise energy beams
- His defensive shields can reflect your projectiles
- Look for patterns in his attack sequences`,"bestiary.monster.FinalBossSimonPhase2.name":"Simon","bestiary.monster.FinalBossSimonPhase2.description":"Simon's ultimate form, combining tactical genius with overwhelming power.","bestiary.monster.FinalBossSimonPhase2.tips":`- He now creates multiple energy clones
- His attack patterns become more complex
- Focus on the real Simon, identified by his unique aura`,"achievement.SlimeSlayer.title":"Slime Slayer","achievement.SlimeSlayer.description":"Defeat 100 slimes","achievement.RatSlayer.title":"Rat Slayer","achievement.RatSlayer.description":"Defeat 100 rats","achievement.WormSlayer.title":"Worm Slayer","achievement.WormSlayer.description":"Defeat 100 worms","achievement.ScorpionSlayer.title":"Scorpion Slayer","achievement.ScorpionSlayer.description":"Defeat 100 scorpions","achievement.OrcHunter.title":"Orc Hunter","achievement.OrcHunter.description":"Defeat 100 orcs","achievement.WolfHunter.title":"Wolf Hunter","achievement.WolfHunter.description":"Defeat 100 wolfs","achievement.DefeatJorge.title":"Jorge Slayer","achievement.DefeatJorge.description":"Defeat Boss Jorge","achievement.DefeatBjrn.title":"Bjrn Slayer","achievement.DefeatBjrn.description":"Defeat Boss Bjrn","achievement.DefeatSimon.title":"Simon Slayer","achievement.DefeatSimon.description":"Defeat Boss Simon","achievement.WeaponArsenal.title":"Weapon Collector","achievement.WeaponArsenal.description":"Collect 5 different weapons","achievement.Expert.title":"Expert Survivor","achievement.Expert.description":"Reach level 10","achievement.Survivor.title":"Ultimate Survivor","achievement.Survivor.description":"Win the game","quest.survive.title":"Til's Challenge","quest.survive.description":"Track 5 Running Sessions","quest.survive.reward":"Unlock Football Til class","quest.defeat.title":"Marc's Challenge","quest.defeat.description":"Win a Card Game Session with the boys","quest.defeat.reward":"Unlock Yugioh Marc class","quest.level.title":"Max's Challenge","quest.level.description":"Track 5 Gym Sessions","quest.level.reward":"Unlock Gym Max class","quest.gems.title":"Chris's Challenge","quest.gems.description":"Track Food for 5 days","quest.gems.reward":"Unlock Chef Chris class"},no={"story.intro.1":`Chris, Marc, Til und Max - sind wieder unterwegs, wie so oft, wenn sie eine neue Herausforderung suchen.
 Diesmal geht es hoch hinauf in die Berge. Nach stundenlangem Wandern ber schmale Pfade und steile Anstiege haben sie bereits mehr als 2.000 Hhenmeter berwunden. Vllig verschwitzt und voller Vorfreude trennt sie nur noch ein letzter Schritt vom Gipfelkreuz.`,"story.intro.2":"Doch dann: ein riesiger Abgrund. So tief, dass man den Grund nicht mehr sehen kann. Zwischen ihnen und dem Gipfel hngt nur noch eine morsche, schwankende Holz-Hngebrcke - gehalten von zwei dnnen Seilen, die bei jedem Windsto verdchtig zittern.","story.intro.3":`Max bleibt stehen. 'Das ist zu gefhrlich. Wir sollten umkehren', sagt er. Doch Chris, Marc und Til schauen sich nur an - und grinsen und rufen: 'TRUST.'
Ohne zu zgern ist Chris der Erste, der auf die Brcke stapft. Er hpft sogar ein paar Mal, um zu zeigen, wie stabil sie ist. Und tatschlich - sie hlt. Also folgen die anderen, Schritt fr Schritt.`,"story.intro.4":`Doch dann - ZACK!
Ein lauter Knall. Die Seile reien. Ein Schrei. Und die vier Freunde strzen in die Tiefe.`,"story.intro.5":"Sie fallen - endlos, durch absolute Dunkelheit. Doch statt auf dem Fels zu zerschellen, landen sie... weich? Verwirrt und benommen kommen sie wieder zu sich. Um sie herum: ein dunkler, fremdartiger Ort. Felswnde, Moos, schimmernde Kristalle - ein unterirdisches Labyrinth, ein Dungeon, als wre er aus einer anderen Welt.","story.intro.6":`Eine uralte Inschrift ist in die Wand vor ihnen eingemeielt:

 'Nur wer Krper und Geist sthlt, jede Ressource nutzt und den Torwchter bezwingt, wird den Weg zurck an die Oberflche finden.`,"story.intro.7":`Das Abenteuer beginnt. Keine Ausreden mehr. Kein Zurck.
Nur Training, Teamwork - und der Kampf ums berleben.`,"class.football_til.description":"Til entfesselt seine Fuballknste fr verheerende Angriffe.","class.football_til.weapon":"Fuball - Ein mchtiges, abprallendes Geschoss, das durch Gegner dringt","class.football_til.strengths":"Sehr hoher Schaden, Durchdringt mehrere Gegner","class.football_til.weaknesses":"Langsamere Angriffsgeschwindigkeit, Weniger Kontrolle ber Abpraller","class.yugioh_marc.description":"Marc kanalisiert seinen inneren Duellanten fr mchtige Kartenkombinationen.","class.yugioh_marc.weapon":"Kartensturm - Entfesselt eine Flut magischer Karten","class.yugioh_marc.strengths":"Mehrere Geschosse, Schnelle Angriffe, Breite Abdeckung","class.yugioh_marc.weaknesses":"Sehr wenig Gesundheit, Keine Rstung, Zufllige Kartenmuster","class.gym_max.description":"Max entfesselt seinen inneren Gym-Bro fr maximale Gains und Schaden.","class.gym_max.weapon":"Hantelschlag - Verheerender Flchenschaden mit Gewichten","class.gym_max.strengths":"Extrem hohe Gesundheit, Maximale Rstung, Massiver Schaden","class.gym_max.weaknesses":"Sehr langsame Bewegung, Lange Erholungszeit nach Angriffen","class.chef_chris.description":"Chris meistert die Kampfkochkunst mit seinen Knoblauchangriffen.","class.chef_chris.weapon":"Knoblauchsturm - Erzeugt ein intensives Schadensfeld","class.chef_chris.strengths":"Mchtiger Flchenschaden, Verbesserte Verteidigung, Grerer Wirkungsbereich","class.chef_chris.weaknesses":"Muss nah an Gegnern bleiben, Geringerer Sofortschaden","class.til.description":"Ein Nahkampfspezialist mit hohem Basisschaden.","class.til.weapon":"Schwertschlag - Ein nahbereichiger durchdringender Angriff mit hohem Schaden","class.til.strengths":"Hoher Basisschaden, Kann mehrere Gegner treffen","class.til.weaknesses":"Begrenzte Reichweite","class.marc.description":"Ein schneller Assassine, der sich auf Burst-Schaden spezialisiert hat.","class.marc.weapon":"Wurfmesser - Mehrere schnelle Projektil in einem Fchermuster","class.marc.strengths":"Hohe Angriffsgeschwindigkeit, Mehrere Angriffsrichtungen","class.marc.weaknesses":"Geringer Einzelschaden pro Projektil","class.max.description":"Ein Fernkampfspezialist mit verfolgenden Projektilen.","class.max.weapon":"Magischer Bolzen - Sucht sich den nchsten Gegner","class.max.strengths":"Automatische Zielerfassung, Guter Einzelschaden","class.max.weaknesses":"Geringe Rstungsdurchdringung","class.chris.description":"Ein heiliger Krieger, geschtzt durch rotierende Schilde.","class.chris.weapon":"Schildschlag - Rotierender Schild, der nahe Gegner schdigt","class.chris.strengths":"Gute Verteidigungsfhigkeiten, Konstanter AoE-Schaden","class.chris.weaknesses":"Langsamere Angriffsgeschwindigkeit","ui.confirm_selection":"Auswahl besttigen","ui.select_class.title":"WHLE DEINE KLASSE","ui.select_class.subtitle":"Whle weise, tapferer berlebender...","bestiary.boss.tips":`- Der Boss hat mehrere Angriffsmuster, die sich im Laufe des Kampfes ndern
- Achte auf visuelle Hinweise, die mchtige Angriffe ankndigen
- Ziele auf die Schwachstellen, wenn sie freigelegt werden
- Die zweite Phase ist viel gefhrlicher als die erste`,"ui.bestiary.title":"MONSTER-BESTIARIUM","ui.bestiary.description":"Erfahre mehr ber die Kreaturen, die in der Tiefe lauern","ui.bestiary.select_monster":"Whle ein Monster, um Details anzuzeigen","ui.back":"Zurck","bestiary.category.common":"Gewhnliche Gegner","bestiary.category.bosses":"Bosse","bestiary.monster.Rat.name":"Ratte","bestiary.monster.Rat.description":"Kleine und schnelle Schdlinge, die in Rudeln unterwegs sind. Obwohl einzeln schwach, knnen sie unvorsichtige Abenteurer mit ihrer Anzahl berwltigen.","bestiary.monster.Rat.tips":`- Ratten sind schwach, aber schnell und greifen oft in Gruppen an
- Nutze Flchenangriffe, um mehrere Ratten auf einmal zu bekmpfen
- Sie haben sehr wenig HP, ein Treffer reicht meist aus`,"bestiary.monster.Slime.name":"Schleim","bestiary.monster.Slime.description":"Gelatinse Kreaturen, die langsam ihre Beute verfolgen. Ihre Krper knnen erheblichen Schaden absorbieren, bevor sie zerbrechen.","bestiary.monster.Slime.tips":`- Schleime sind langsam, haben aber mehr Gesundheit als Ratten
- Halte Abstand und nutze Fernangriffe
- Sie teilen sich gelegentlich in kleinere Schleime auf, wenn sie beschdigt werden`,"bestiary.monster.Orc.name":"Ork","bestiary.monster.Orc.description":"Brutale Krieger mit betrchtlicher Strke. Sie fhren grobe, aber effektive Waffen und haben einen berraschend taktischen Verstand.","bestiary.monster.Orc.tips":`- Orks sind zhe Gegner mit hohem Schaden
- Sie haben einen starken Frontalangriff, vermeide direkte Konfrontation
- Umkreise sie, um ihre langsame Drehgeschwindigkeit auszunutzen`,"bestiary.monster.Wolf.name":"Wolf","bestiary.monster.Wolf.description":"Schnelle Raubtiere mit scharfen Instinkten. Wlfe sind schnell und wendig, kreisen oft um ihre Beute, bevor sie mit tdlicher Przision zuschlagen.","bestiary.monster.Wolf.tips":`- Wlfe sind sehr schnell und werden dich unerbittlich jagen
- Sie greifen oft in koordinierten Rudeln an
- Nutze Hindernisse, um ihre Sichtlinie zu unterbrechen`,"bestiary.monster.Worm.name":"Wurm","bestiary.monster.Worm.description":"Grabende Kreaturen, die sich durch den Boden bohren. Sie knnen Opfer berraschen, indem sie von unten ausbrechen und tzende Projektile abfeuern.","bestiary.monster.Worm.tips":`- Wrmer knnen ohne Vorwarnung aus dem Untergrund angreifen
- Achte auf Bodenstrungen, die ihre Anwesenheit anzeigen
- Sie sind nach ihrer Angriffsanimation verwundbar`,"bestiary.monster.FinalBossPhase1.name":"Endgegner - Phase 1","bestiary.monster.FinalBossPhase1.description":"Die erste Form der letzten Herausforderung, die zwischen dir und der Freiheit steht. Diese gewaltige Entitt bewacht den Ausgang zur Oberflche.","bestiary.monster.FinalBossPhase1.tips":`- Der Boss hat mehrere Angriffsmuster, die sich im Laufe des Kampfes ndern
- Achte auf visuelle Hinweise, die mchtige Angriffe ankndigen
- Ziele auf die Schwachstellen, wenn sie freigelegt werden`,"bestiary.monster.FinalBossPhase2.name":"Endgegner - Phase 2","bestiary.monster.FinalBossPhase2.description":"Die verstrkte Form des Endgegners, jetzt noch gefhrlicher und aggressiver als zuvor.","bestiary.monster.FinalBossPhase2.tips":`- Die zweite Phase ist viel gefhrlicher als die erste
- Neue Angriffsmuster werden auftauchen
- Bleibe in Bewegung und sei bereit, mchtigen Flchenangriffen auszuweichen`,"bestiary.monster.FinalBossJorgePhase1.name":"Jorge - Phase 1","bestiary.monster.FinalBossJorgePhase1.description":"Jorge, der erste der Torwchter, nutzt chaotische Energie und unberechenbare Bewegungen im Kampf.","bestiary.monster.FinalBossJorgePhase1.tips":`- Jorges Angriffe sind unberechenbar, haben aber erkennbare Anzeichen
- Halte Abstand, wenn er seine Energie aufldt.`,"bestiary.monster.FinalBossJorgePhase2.name":"Jorge - Phase 2","bestiary.monster.FinalBossJorgePhase2.description":"Jorges ultimative Form, die das volle Ausma seiner chaotischen Kraft kanalisiert.","bestiary.monster.FinalBossJorgePhase2.tips":`- Achte auf seine Teleportationsfhigkeiten
- Seine Energieausbrche knnen mehrere Ziele treffen
- Greife an, wenn er sich von einem groen Angriff erholt`,"bestiary.monster.FinalBossBjornPhase1.name":"Bjrn - Phase 1","bestiary.monster.FinalBossBjornPhase1.description":"Bjrn, der zweite Torwchter, verlsst sich auf rohe Kraft und mchtige bodenbasierte Angriffe.","bestiary.monster.FinalBossBjornPhase1.tips":`- Bjrns Angriffe erzeugen verfolgungs Geschosse, die euch hinterher fliegen
- Bleibe immer in Bewegung um seinen Angriffen auszuweichen.`,"bestiary.monster.FinalBossBjornPhase2.name":"Bjrn - Phase 2","bestiary.monster.FinalBossBjornPhase2.description":"Bjrn entfesselt seine volle Strke und verursacht mit jedem mchtigen Schlag Verwstung.","bestiary.monster.FinalBossBjornPhase2.tips":`- Seine Angriffe decken jetzt einen greren Bereich ab
- Achte auf den rissigen Boden vor einem groen Angriff
- Nutze Fernangriffe, um einen sicheren Abstand zu halten`,"bestiary.monster.FinalBossSimonPhase1.name":"Simon - Phase 1","bestiary.monster.FinalBossSimonPhase1.description":"Simon, der dritte Torwchter, nutzt selbst gemischte Medikamente um seine Geschwindigkeit und Strke zu erhhen.","bestiary.monster.FinalBossSimonPhase1.tips":`- Simon greift mit seiner mit Toxin gefllten Spritze an
- Seine Stabile Statur ermglicht ihm viel Schaden auszuhalten.
- Halte Abstand`,"bestiary.monster.FinalBossSimonPhase2.name":"Simon - Phase 2","bestiary.monster.FinalBossSimonPhase2.description":"Simons ultimative Form, die taktisches Genie mit berwltigender Kraft verbindet.","bestiary.monster.FinalBossSimonPhase2.tips":`- Er erschafft jetzt mehrere Energieklone
- Seine Angriffsmuster werden komplexer
- Konzentriere dich auf den echten Simon, erkennbar an seiner einzigartigen Aura`,"bestiary.monster.Scorpion.name":"Skorpion","bestiary.monster.Scorpion.description":"Giftige Gliederfer mit tdlichen Stacheln. Ihre Giftangriffe knnen selbst die wendigsten Abenteurer vorbergehend verlangsamen.","bestiary.monster.Scorpion.tips":`- Skorpione setzen einen giftigen Stachelangriff ein, der die Bewegungsgeschwindigkeit reduziert
- Der Gifteffekt ist vorbergehend, kann aber in Schwrmen tdlich sein
- Halte Abstand, um ihre Nahkampfangriffe zu vermeiden
- Achte auf das hellgrne Projektil - das ist der giftige Stich`,"achievement.SlimeSlayer.title":"Schleimjger","achievement.SlimeSlayer.description":"Besiege 100 Schleime","achievement.RatSlayer.title":"Rattenjger","achievement.RatSlayer.description":"Besiege 100 Ratten","achievement.WormSlayer.title":"Wurmjger","achievement.WormSlayer.description":"Besiege 100 Wrmer","achievement.ScorpionSlayer.title":"Skorpionjger","achievement.ScorpionSlayer.description":"Besiege 100 Skorpione","achievement.OrcHunter.title":"Orkjger","achievement.OrcHunter.description":"Besiege 100 Orks","achievement.WolfHunter.title":"Wolfjger","achievement.WolfHunter.description":"Besiege 100 Wlfe","achievement.DefeatJorge.title":"Jorge-Bezwinger","achievement.DefeatJorge.description":"Besiege Boss Jorge","achievement.DefeatBjrn.title":"Bjrn-Bezwinger","achievement.DefeatBjrn.description":"Besiege Boss Bjrn","achievement.DefeatSimon.title":"Simon-Bezwinger","achievement.DefeatSimon.description":"Besiege Boss Simon","achievement.WeaponArsenal.title":"Waffensammler","achievement.WeaponArsenal.description":"Sammle 5 verschiedene Waffen","achievement.Expert.title":"Erfahrener berlebender","achievement.Expert.description":"Erreiche Level 10","achievement.Survivor.title":"Ultimativer berlebender","achievement.Survivor.description":"Gewinne das Spiel","quest.survive.title":"Tils Herausforderung","quest.survive.description":"Tracke 5 Laufeinheiten","quest.survive.reward":"Schalte Fuball-Til frei","quest.defeat.title":"Marcs Herausforderung","quest.defeat.description":"Gewinne eine Kartenspiel-Runde mit den Jungs","quest.defeat.reward":"Schalte Yugioh-Marc frei","quest.level.title":"Max' Herausforderung","quest.level.description":"Tracke 5 Fitnessstudio-Besuche","quest.level.reward":"Schalte Fitness-Max frei","quest.gems.title":"Chris' Herausforderung","quest.gems.description":"Tracke die Ernhrung fr 5 Tage","quest.gems.reward":"Schalte Koch-Chris frei"},Ce=class Ce{constructor(){K(this,"currentLanguage","en");K(this,"translations",{en:so,de:no});this.detectBrowserLanguage()}static getInstance(){return Ce.instance||(Ce.instance=new Ce),Ce.instance}detectBrowserLanguage(){try{const E=navigator.language.split("-")[0];this.translations[E]?(console.log(`Setting language to browser preference: ${E}`),this.currentLanguage=E):console.log(`Browser language ${E} not supported, using default: en`)}catch(E){console.warn("Failed to detect browser language:",E)}}setLanguage(E){this.translations[E]?this.currentLanguage=E:(console.warn(`Language ${E} not found, falling back to English`),this.currentLanguage="en")}getLanguage(){return this.currentLanguage}getText(E){const P=this.translations[this.currentLanguage];if(!P)return console.warn(`No translations found for language ${this.currentLanguage}`),E;const b=P[E];return b||(console.warn(`No translation found for key ${E} in language ${this.currentLanguage}`),E)}};K(Ce,"instance");let ln=Ce;const At=ln.getInstance(),ro={Fighter:0,Rogue:1,Mage:2,Paladin:3,Football:4,Gambler:5,Athlete:6,Gourmand:7},ao={Fighter:"Til",Rogue:"Marc",Mage:"Max",Paladin:"Chris",Football:"Dominik",Gambler:"Robin",Athlete:"David",Gourmand:"Benni"},oo={Til:{description:"class.til.description",weapon:"class.til.weapon",strengths:"class.til.strengths",weaknesses:"class.til.weaknesses",altName:"Football Til",altClass:"Football"},Marc:{description:"class.marc.description",weapon:"class.marc.weapon",strengths:"class.marc.strengths",weaknesses:"class.marc.weaknesses",altName:"Yu-gi-oh Marc",altClass:"Gambler"},Max:{description:"class.max.description",weapon:"class.max.weapon",strengths:"class.max.strengths",weaknesses:"class.max.weaknesses",altName:"Gym Rat Max",altClass:"Athlete"},Chris:{description:"class.chris.description",weapon:"class.chris.weapon",strengths:"class.chris.strengths",weaknesses:"class.chris.weaknesses",altName:"Chef Chris",altClass:"Gourmand"}};class ho extends gt.Scene{constructor(){super("ClassSelectScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"titleText");K(this,"subtitleText");K(this,"classButtonsContainer");K(this,"classInfoPanel");K(this,"fighterButton");K(this,"rogueButton");K(this,"mageButton");K(this,"paladinButton");K(this,"confirmButton");K(this,"errorText");K(this,"questButton");K(this,"footballButton");K(this,"gamblerButton");K(this,"athleteButton");K(this,"gourmandButton");K(this,"bestiaryButton");K(this,"achievementsButton");K(this,"burgerMenuButton");K(this,"burgerMenuContainer");K(this,"selectedClass",null);K(this,"isLoading",!1);K(this,"titleElement",null);K(this,"subtitleElement",null);K(this,"selectedAltVersion",!1);K(this,"selectedAltVersions",{Til:!1,Marc:!1,Max:!1,Chris:!1});K(this,"isBurgerMenuOpen",!1);this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("ClassSelectScene constructor called")}preload(){this.load.image("fighter_icon","assets/class_fighter_1.png"),this.load.image("rogue_icon","assets/class_rogue_1.png"),this.load.image("mage_icon","assets/class_mage_1.png"),this.load.image("paladin_icon","assets/class_paladin_1.png"),this.load.image("football_icon","assets/class_football_1.png"),this.load.image("gambler_icon","assets/class_gambler_1.png"),this.load.image("athlete_icon","assets/class_athlete_1.png"),this.load.image("gourmand_icon","assets/class_chef_1.png"),this.load.image("attack_sword","assets/attack_sword.png"),this.load.image("attack_knife","assets/attack_knife.png"),this.load.image("attack_wand","assets/attack_wand.png"),this.load.image("attack_shield","assets/attack_shield.png"),this.load.image("attack_football","assets/attack_football.png"),this.load.image("attack_cards","assets/attack_cards.png"),this.load.image("attack_dumbbell","assets/attack_dumbbell.png"),this.load.image("attack_garlic","assets/attack_garlic.png"),this.load.image("quest_icon","assets/white_pixel.png")}create(){const P=this.cameras.main.width,b=this.cameras.main.height;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(P/2,b/2,"title_bg").setDisplaySize(P,b).setDepth(0)}catch(a){console.error("Error loading background:",a)}wt()?(this.titleText=this.add.text(-1e3,-1e3,"",{fontFamily:"Arial Black",fontSize:"1px"}).setVisible(!1),this.subtitleText=this.add.text(-1e3,-1e3,"",{fontFamily:"Arial",fontSize:"1px"}).setVisible(!1)):(this.titleText=this.add.text(P/2,b/4,At.getText("ui.select_class.title"),{fontFamily:"Arial Black",fontSize:"48px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.subtitleText=this.add.text(P/2,b/4+60,At.getText("ui.select_class.subtitle"),{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:3}).setOrigin(.5)),this.createClassButtons(),this.createConfirmButton(),this.createClassInfoPanel(),this.createLanguageSelector(),this.errorText=this.add.text(P/2,b*.85,"",{fontFamily:"Arial",fontSize:"18px",color:"#ff0000",align:"center"}).setOrigin(.5).setVisible(!1),this.registerEventListeners(),this.scale.on("resize",this.handleResize,this),this.positionHTMLElements(),this.events.on("shutdown",this.shutdown,this);const z=document.createElement("button");z.style.position="absolute",z.style.top="50px",z.style.right="50px",z.style.width="180px",z.style.height="50px",z.style.padding="10px",z.style.backgroundColor="#2c3e50",z.style.color="white",z.style.border="2px solid #34495e",z.style.borderRadius="5px",z.style.cursor="pointer",z.style.fontFamily="Arial",z.style.fontSize="18px",z.style.transition="background-color 0.2s, border-color 0.2s",z.style.display="flex",z.style.alignItems="center",z.style.justifyContent="center",z.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",z.textContent=" Quests",z.addEventListener("mouseover",()=>{z.style.backgroundColor="#3498db",z.style.borderColor="#2980b9"}),z.addEventListener("mouseout",()=>{z.style.backgroundColor="#2c3e50",z.style.borderColor="#34495e"}),z.addEventListener("click",()=>{this.scene.start("QuestScene")}),document.body.appendChild(z),this.questButton=z;const v=document.createElement("button");v.style.position="absolute",v.style.top="110px",v.style.right="50px",v.style.width="180px",v.style.height="50px",v.style.padding="10px",v.style.backgroundColor="#2c3e50",v.style.color="white",v.style.border="2px solid #34495e",v.style.borderRadius="5px",v.style.cursor="pointer",v.style.fontFamily="Arial",v.style.fontSize="18px",v.style.transition="background-color 0.2s, border-color 0.2s",v.style.display="flex",v.style.alignItems="center",v.style.justifyContent="center",v.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",v.textContent=" Bestiary",v.addEventListener("mouseover",()=>{v.style.backgroundColor="#3498db",v.style.borderColor="#2980b9"}),v.addEventListener("mouseout",()=>{v.style.backgroundColor="#2c3e50",v.style.borderColor="#34495e"}),v.addEventListener("click",()=>{this.scene.start("BestaryScene",{spacetimeDBClient:this.spacetimeDBClient})}),document.body.appendChild(v),this.bestiaryButton=v;const T=document.createElement("button");T.style.position="absolute",T.style.top="170px",T.style.right="50px",T.style.width="180px",T.style.height="50px",T.style.padding="10px",T.style.backgroundColor="#2c3e50",T.style.color="white",T.style.border="2px solid #34495e",T.style.borderRadius="5px",T.style.cursor="pointer",T.style.fontFamily="Arial",T.style.fontSize="18px",T.style.transition="background-color 0.2s, border-color 0.2s",T.style.display="flex",T.style.alignItems="center",T.style.justifyContent="center",T.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",T.textContent=" Achievements",T.addEventListener("mouseover",()=>{T.style.backgroundColor="#3498db",T.style.borderColor="#2980b9"}),T.addEventListener("mouseout",()=>{T.style.backgroundColor="#2c3e50",T.style.borderColor="#34495e"}),T.addEventListener("click",()=>{this.scene.start("AchievementScene")}),document.body.appendChild(T),this.achievementsButton=T;const t=document.createElement("button");t.style.position="absolute",t.style.top="20px",t.style.right="20px",t.style.width="50px",t.style.height="50px",t.style.backgroundColor="#2c3e50",t.style.border="2px solid #34495e",t.style.borderRadius="5px",t.style.cursor="pointer",t.style.zIndex="1001",t.style.display="flex",t.style.flexDirection="column",t.style.justifyContent="center",t.style.alignItems="center";for(let a=0;a<3;a++){const r=document.createElement("div");r.style.width="25px",r.style.height="3px",r.style.backgroundColor="white",r.style.margin="3px 0",t.appendChild(r)}const l=document.createElement("div");l.style.position="absolute",l.style.top="80px",l.style.right="20px",l.style.width="200px",l.style.backgroundColor="rgba(44, 62, 80, 0.95)",l.style.color="white",l.style.borderRadius="8px",l.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)",l.style.zIndex="1000",l.style.display="none",[{text:" Quests",scene:"QuestScene"},{text:" Bestiary",scene:"BestaryScene"},{text:" Achievements",scene:"AchievementScene"}].forEach(a=>{const r=document.createElement("button");r.textContent=a.text,r.style.width="100%",r.style.padding="15px",r.style.backgroundColor="transparent",r.style.color="white",r.style.border="none",r.style.borderBottom="1px solid #34495e",r.style.cursor="pointer",r.style.fontFamily="Arial",r.style.fontSize="18px",r.style.transition="background-color 0.2s",r.style.textAlign="left",r.addEventListener("mouseover",()=>{r.style.backgroundColor="#3498db"}),r.addEventListener("mouseout",()=>{r.style.backgroundColor="transparent"}),r.addEventListener("click",()=>{a.scene==="BestaryScene"?this.scene.start(a.scene,{spacetimeDBClient:this.spacetimeDBClient}):this.scene.start(a.scene)}),l.appendChild(r)}),t.addEventListener("click",()=>{this.isBurgerMenuOpen=!this.isBurgerMenuOpen,l.style.display=this.isBurgerMenuOpen?"block":"none"}),document.addEventListener("click",a=>{this.isBurgerMenuOpen&&a.target!==t&&!t.contains(a.target)&&!l.contains(a.target)&&(this.isBurgerMenuOpen=!1,l.style.display="none")}),document.body.appendChild(t),document.body.appendChild(l),this.burgerMenuButton=t,this.burgerMenuContainer=l,wt()?(this.burgerMenuButton&&(this.burgerMenuButton.style.display="flex"),this.questButton&&(this.questButton.style.display="none"),this.bestiaryButton&&(this.bestiaryButton.style.display="none"),this.achievementsButton&&(this.achievementsButton.style.display="none")):(this.burgerMenuButton&&(this.burgerMenuButton.style.display="none"),this.burgerMenuContainer&&(this.burgerMenuContainer.style.display="none"),this.questButton&&(this.questButton.style.display="flex"),this.bestiaryButton&&(this.bestiaryButton.style.display="flex"),this.achievementsButton&&(this.achievementsButton.style.display="flex"))}createConfirmButton(){this.confirmButton=document.createElement("button"),this.confirmButton.textContent=At.getText("ui.confirm_selection"),this.confirmButton.style.position="absolute",this.confirmButton.style.padding="12px 24px",this.confirmButton.style.backgroundColor="#27ae60",this.confirmButton.style.color="white",this.confirmButton.style.border="none",this.confirmButton.style.borderRadius="5px",this.confirmButton.style.fontSize="18px",this.confirmButton.style.cursor="pointer",this.confirmButton.style.transition="background-color 0.2s",this.confirmButton.style.display="none",this.confirmButton.style.bottom="0",this.confirmButton.style.width="100%",this.confirmButton.style.transform="translateX(0)",this.confirmButton.style.margin="15px 0 0 0",this.confirmButton.addEventListener("mouseover",()=>{this.confirmButton.style.backgroundColor="#219a52"}),this.confirmButton.addEventListener("mouseout",()=>{this.confirmButton.style.backgroundColor="#27ae60"}),this.confirmButton.addEventListener("click",()=>{this.spawnPlayer()}),this.classButtonsContainer.appendChild(this.confirmButton)}createClassButtons(){const P=document.getElementById("class-select-container");P&&P.remove(),this.classButtonsContainer=document.createElement("div"),this.classButtonsContainer.id="class-select-container",this.classButtonsContainer.style.position="absolute",this.classButtonsContainer.style.display="flex",this.classButtonsContainer.style.flexDirection="column",this.classButtonsContainer.style.alignItems="center",this.classButtonsContainer.style.gap="20px",this.classButtonsContainer.style.width="250px",this.classButtonsContainer.style.transform="translate(-50%, -50%)",this.classButtonsContainer.style.height="400px",document.body.appendChild(this.classButtonsContainer);const b=wt(),D=(z,v,T,t)=>{const l=document.createElement("button");l.className="class-select-button",l.setAttribute("data-class-type",v.tag),l.style.position="relative",l.style.width="250px",l.style.height="70px",l.style.padding="10px",l.style.backgroundColor="#2c3e50",l.style.color="white",l.style.border="2px solid #34495e",l.style.borderRadius="5px",l.style.cursor="pointer",l.style.fontFamily="Arial",l.style.fontSize="18px",l.style.textAlign="left",l.style.transition="background-color 0.2s, border-color 0.2s",l.style.display="flex",l.style.alignItems="center";try{if(this.textures.exists(T)){const a=document.createElement("img");a.id=`${z.toLowerCase()}-icon`,a.src="assets/"+t,a.style.width="50px",a.style.height="50px",a.style.marginRight="10px",l.appendChild(a)}}catch(a){console.error(`Error adding icon for ${z}:`,a)}const p=document.createElement("span");if(p.id=`${z.toLowerCase()}-text`,p.textContent=z,l.appendChild(p),b){const a=document.createElement("button");a.className="class-info-button",a.innerHTML='<span style="font-size: 20px"></span>',a.style.position="absolute",a.style.right="10px",a.style.backgroundColor="transparent",a.style.border="none",a.style.cursor="pointer",a.style.width="36px",a.style.height="36px",a.style.borderRadius="50%",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.padding="0",a.addEventListener("click",r=>{r.stopPropagation(),this.selectClass(v,l),this.showClassInfoModal(v)}),l.appendChild(a)}return l.addEventListener("click",()=>{this.selectClass(v,l),!b&&this.classInfoPanel&&(this.classInfoPanel.style.display="block")}),l};this.fighterButton=D("Til",Qt.Fighter,"fighter_icon","class_fighter_1.png"),this.rogueButton=D("Marc",Qt.Rogue,"rogue_icon","class_rogue_1.png"),this.mageButton=D("Max",Qt.Mage,"mage_icon","class_mage_1.png"),this.paladinButton=D("Chris",Qt.Paladin,"paladin_icon","class_paladin_1.png"),this.classButtonsContainer.appendChild(this.fighterButton),this.classButtonsContainer.appendChild(this.rogueButton),this.classButtonsContainer.appendChild(this.mageButton),this.classButtonsContainer.appendChild(this.paladinButton)}createClassInfoPanel(){const P=document.getElementById("class-info-panel");if(P&&P.remove(),this.classInfoPanel=document.createElement("div"),this.classInfoPanel.id="class-info-panel",this.classInfoPanel.style.position="absolute",this.classInfoPanel.style.width="300px",this.classInfoPanel.style.padding="20px",this.classInfoPanel.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.classInfoPanel.style.color="white",this.classInfoPanel.style.borderRadius="8px",this.classInfoPanel.style.border="2px solid #34495e",this.classInfoPanel.style.fontFamily="Arial",this.classInfoPanel.style.fontSize="16px",this.classInfoPanel.style.display="none",this.classInfoPanel.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",wt()){const b=document.createElement("button");b.textContent="",b.style.position="absolute",b.style.top="10px",b.style.right="10px",b.style.background="transparent",b.style.border="none",b.style.color="white",b.style.fontSize="20px",b.style.cursor="pointer",b.style.padding="5px 10px",b.addEventListener("click",()=>{this.hideClassInfoModal()}),this.classInfoPanel.appendChild(b)}if(document.body.appendChild(this.classInfoPanel),wt()){const b=document.createElement("div");b.id="modal-overlay",b.style.position="fixed",b.style.top="0",b.style.left="0",b.style.width="100%",b.style.height="100%",b.style.backgroundColor="rgba(0, 0, 0, 0.7)",b.style.zIndex="1000",b.style.display="none",b.addEventListener("click",D=>{D.target===b&&this.hideClassInfoModal()}),document.body.appendChild(b)}}showClassInfoModal(P){if(this.classInfoPanel)if(wt()){const b=document.getElementById("modal-overlay");if(!b)return;this.classInfoPanel.style.left="50%",this.classInfoPanel.style.top="50%",this.classInfoPanel.style.transform="translate(-50%, -50%)",this.classInfoPanel.style.zIndex="1001",this.classInfoPanel.style.width="85%",this.classInfoPanel.style.maxWidth="400px",this.classInfoPanel.style.maxHeight="80%",this.classInfoPanel.style.overflowY="auto",b.style.display="block",this.classInfoPanel.style.display="block"}else this.classInfoPanel.style.display="block",this.positionHTMLElements()}hideClassInfoModal(){if(!wt())return;const P=document.getElementById("modal-overlay");P&&(P.style.display="none"),this.classInfoPanel&&(this.classInfoPanel.style.display="none")}getAltVersionKey(P){return{Til:"football_til",Marc:"yugioh_marc",Max:"gym_max",Chris:"chef_chris"}[P]||P.toLowerCase()}getOriginalCharacterName(P){if(["Til","Marc","Max","Chris"].includes(P))return P;const b={Football:"Til",Gambler:"Marc",Athlete:"Max",Gourmand:"Chris"},D=typeof P=="string"?P:P.tag;return b[D]||D}updateClassInfoPanel(P,b,D){if(!D)return;const z=this.getOriginalCharacterName(P),v=this.selectedAltVersions[z]||!1,T=v?D.altClass:b.tag,t=v?D.altName:z;if(v&&D.altClass){for(const i in Qt)if(typeof Qt[i]=="object"&&Qt[i].tag===D.altClass){Qt[i];break}}const l=`class.${z.toLowerCase()}`,p=`class.${this.getAltVersionKey(z)}`,a=v?p:l,r=this.getWeaponImageFile(T),n=document.getElementById(`${z.toLowerCase()}-icon`),e=document.getElementById(`${z.toLowerCase()}-text`);if(n){const i=v?this.getAltClassIcon(D.altClass):this.getClassIcon(b.tag);n.src=`assets/${i}`}e&&(e.textContent=t);const s=D.altClass?`
            <button id="version-toggle" style="
                position: absolute;
                right: 20px;
                background-color: #3498db;
                border: none;
                border-radius: 15px;
                padding: 6px 12px;
                color: white;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 14px;
                transition: background-color 0.2s;
            ">
            <span style="font-size: 18px;">${v?"":""}</span>
            <span>${v?"Switch to Original":"Unlock Alt Class"}</span>
            </button>
        `:"";this.classInfoPanel.innerHTML=`
            <div style="position: relative; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;">
                <h2 style="margin: 0; font-size: 24px; color: #3498db;">
                    ${t}
                </h2>
                ${s}
            </div>
            <p style="margin: 0 0 15px 0;">${At.getText(`${a}.description`)}</p>
            <h3 style="margin: 0 0 10px 0; font-size: 18px; color:rgb(183, 204, 46);">Weapon</h3>
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <img src="assets/${r}" style="height: 45px; width: 45px; margin-right: 10px;" 
                    alt="${At.getText(`${a}.weapon`)} icon" />
                <p style="margin: 0 0 0 10px;">
                    ${At.getText(`${a}.weapon`)}
                </p>
            </div>
            <h3 style="margin: 0 0 10px 0; fontSize: 18px; color: #2ecc71;">Strengths </h3>
            <p style="margin: 0 0 15px 0;">
                ${At.getText(`${a}.strengths`)}
            </p>
            <h3 style="margin: 0 0 10px 0; fontSize: 18px; color: #e74c3c;">Weaknesses </h3>
            <p style="margin: 0;">
                ${At.getText(`${a}.weaknesses`)}
            </p>
        `;const o=document.getElementById("version-toggle");o&&o.addEventListener("click",()=>{if(this.selectedAltVersions[z]=!this.selectedAltVersions[z],this.selectedAltVersions[z]&&D.altClass){for(const i in Qt)if(typeof Qt[i]=="object"&&Qt[i].tag===D.altClass){this.selectedClass=Qt[i];break}}else for(const i in Qt)if(typeof Qt[i]=="object"&&Qt[i].tag===b.tag){this.selectedClass=Qt[i];break}if(this.updateClassInfoPanel(z,b,D),this.selectedClass){const i=this.getButtonForClass(this.selectedClass);i&&this.selectClass(this.selectedClass,i)}})}getWeaponImageFile(P){return{Fighter:"attack_sword.png",Rogue:"attack_knife.png",Mage:"attack_wand.png",Paladin:"attack_shield.png",Football:"attack_football.png",Gambler:"attack_cards.png",Athlete:"attack_dumbbell.png",Gourmand:"attack_garlic.png"}[P]||"attack_sword.png"}positionHTMLElements(){wt()?(this.classButtonsContainer.style.left="50%",this.classButtonsContainer.style.top="50%",this.classButtonsContainer.style.width="90%",this.classButtonsContainer.style.maxWidth="300px",this.classInfoPanel&&this.classInfoPanel.style.display!=="none"&&(this.classInfoPanel.style.left="50%",this.classInfoPanel.style.top="calc(50% + 220px)",this.classInfoPanel.style.transform="translate(-50%, 0)",this.classInfoPanel.style.width="90%",this.classInfoPanel.style.maxWidth="300px",this.classInfoPanel.style.maxHeight="calc(100% - 450px)",this.classInfoPanel.style.overflowY="auto"),this.burgerMenuButton&&(this.burgerMenuButton.style.display="flex"),this.questButton&&(this.questButton.style.display="none"),this.bestiaryButton&&(this.bestiaryButton.style.display="none"),this.achievementsButton&&(this.achievementsButton.style.display="none")):(this.classButtonsContainer.style.left="50%",this.classButtonsContainer.style.top="60%",this.classButtonsContainer.style.width="250px",this.classInfoPanel&&this.classInfoPanel.style.display!=="none"&&(this.classInfoPanel.style.left="50%",this.classInfoPanel.style.top="60%",this.classInfoPanel.style.transform=`translate(calc(${250/2+30}px), -55%)`,this.classInfoPanel.style.width="300px",this.classInfoPanel.style.maxHeight="450px"),this.burgerMenuButton&&(this.burgerMenuButton.style.display="none"),this.burgerMenuContainer&&(this.burgerMenuContainer.style.display="none",this.isBurgerMenuOpen=!1),this.questButton&&(this.questButton.style.display="flex",this.questButton.style.top="50px",this.questButton.style.right="50px",this.questButton.style.width="180px",this.questButton.style.height="50px",this.questButton.style.fontSize="18px"),this.bestiaryButton&&(this.bestiaryButton.style.display="flex",this.bestiaryButton.style.top="110px",this.bestiaryButton.style.right="50px",this.bestiaryButton.style.width="180px",this.bestiaryButton.style.height="50px",this.bestiaryButton.style.fontSize="18px"),this.achievementsButton&&(this.achievementsButton.style.display="flex",this.achievementsButton.style.top="170px",this.achievementsButton.style.right="50px",this.achievementsButton.style.width="180px",this.achievementsButton.style.height="50px",this.achievementsButton.style.fontSize="18px"))}handleResize(){this.positionHTMLElements()}registerEventListeners(){this.gameEvents.on(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.on(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.on(it.NAME_SET,this.handleNameSet,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.on(it.LOADING_ERROR,this.handleLoadingError,this)}handlePlayerCreated(P,b=!0){console.log("Player created event received in ClassSelectScene"),b&&console.log("Our player was created. Will transition to GameScene.")}handlePlayerDied(P){console.log("Player died event received in ClassSelectScene"),this.subtitleText.setText("Your previous character died. Choose a new class...")}handleNameSet(P){console.log("Name set event received in ClassSelectScene",P.name)}handleConnectionLost(){console.log("Connection lost event received in ClassSelectScene"),this.showError("Connection to server lost. Please refresh the page.")}handleLoadingError(P){console.log("Loading error event received in ClassSelectScene",P),this.showError(P)}selectClass(P,b){[this.fighterButton,this.rogueButton,this.mageButton,this.paladinButton].forEach(a=>{a&&(a.style.backgroundColor="#2c3e50",a.style.borderColor="#34495e")}),b.style.backgroundColor="#3498db",b.style.borderColor="#2980b9",this.selectedClass=P,this.confirmButton.style.display="block",this.errorText.setVisible(!1);const z=ao[P.tag],v=oo[z],T=this.getOriginalCharacterName(z),t=this.selectedAltVersions[T]||!1,l=document.getElementById(`${T.toLowerCase()}-icon`),p=document.getElementById(`${T.toLowerCase()}-text`);if(l){const a=t?this.getAltClassIcon(v.altClass):this.getClassIcon(P.tag);l.src=`assets/${a}`}p&&(p.textContent=t?v.altName:T),!wt()&&this.classInfoPanel&&(this.classInfoPanel.style.display="block",this.positionHTMLElements()),this.updateClassInfoPanel(z,P,v)}getButtonForClass(P){return{Fighter:this.fighterButton,Rogue:this.rogueButton,Mage:this.mageButton,Paladin:this.paladinButton}[P.tag]||null}spawnPlayer(){var P;if(!this.selectedClass){this.showError("Please select a class first");return}try{if((P=this.spacetimeDBClient.sdkConnection)!=null&&P.reducers){const b=ro[this.selectedClass.tag];console.log(`Spawning player with class: ${this.selectedClass.tag} (ID: ${b})`),this.cleanupHTMLElements(),console.log("Spawning player with class: "+this.selectedClass.tag+" (ID: "+b+")"),this.scene.start("LoadingScene",{message:"Creating your character...",nextScene:"GameScene",timeoutDuration:1e4}),this.spacetimeDBClient.sdkConnection.reducers.spawnPlayer(b)}else this.showError("Cannot spawn player: SpacetimeDB reducers not available")}catch(b){console.error("Error spawning player:",b),this.showError("An error occurred while spawning your player")}}cleanupHTMLElements(){console.log("Cleaning up ClassSelectScene HTML elements");try{this.classButtonsContainer&&this.classButtonsContainer.parentNode&&this.classButtonsContainer.remove(),this.classInfoPanel&&this.classInfoPanel.parentNode&&this.classInfoPanel.remove(),this.questButton&&this.questButton.parentNode&&this.questButton.remove(),this.bestiaryButton&&this.bestiaryButton.parentNode&&this.bestiaryButton.remove(),this.achievementsButton&&this.achievementsButton.parentNode&&this.achievementsButton.remove(),this.burgerMenuButton&&this.burgerMenuButton.parentNode&&this.burgerMenuButton.remove(),this.burgerMenuContainer&&this.burgerMenuContainer.parentNode&&this.burgerMenuContainer.remove();const P=document.getElementById("class-select-container");P&&P.parentNode&&P.remove();const b=document.getElementById("class-info-panel");b&&b.parentNode&&b.remove(),document.querySelectorAll(".class-select-button").forEach(z=>{z&&z.parentNode&&z.remove()}),document.querySelectorAll("button").forEach(z=>{var v,T,t,l,p,a;((v=z.textContent)!=null&&v.includes("Fighter")||(T=z.textContent)!=null&&T.includes("Rogue")||(t=z.textContent)!=null&&t.includes("Mage")||(l=z.textContent)!=null&&l.includes("Paladin")||(p=z.textContent)!=null&&p.includes("Confirm Selection")||(a=z.textContent)!=null&&a.includes("Quests"))&&z&&z.parentNode&&(console.log("Removing button:",z.textContent),z.remove())}),document.querySelectorAll("div").forEach(z=>{(z.id==="class-select-container"||z.id==="class-info-panel"||z.children.length>0&&Array.from(z.children).some(v=>v.className==="class-select-button"))&&z&&z.parentNode&&(console.log("Removing div:",z.id||"unnamed"),z.remove())});const D=document.querySelector("select");D&&D.parentNode&&D.remove()}catch(P){console.error("Error in cleanupHTMLElements:",P)}}showError(P){this.errorText.setText(P),this.errorText.setVisible(!0)}createLanguageSelector(){const P=document.createElement("select");P.style.position="absolute",P.style.bottom="20px",P.style.right="20px",P.style.padding="8px",P.style.fontFamily="Arial",P.style.fontSize="16px",P.style.backgroundColor="#2c3e50",P.style.color="white",P.style.border="2px solid #34495e",P.style.borderRadius="5px",P.style.cursor="pointer",[{code:"en",name:"English"},{code:"de",name:"Deutsch"}].forEach(D=>{const z=document.createElement("option");z.value=D.code,z.textContent=D.name,P.appendChild(z)}),P.value=At.getLanguage(),P.addEventListener("change",D=>{const z=D.target;if(At.setLanguage(z.value),this.titleText.setText(At.getText("ui.select_class.title")),this.subtitleText.setText(At.getText("ui.select_class.subtitle")),this.selectedClass){const v=this.getButtonForClass(this.selectedClass);v&&this.selectClass(this.selectedClass,v)}this.confirmButton&&(this.confirmButton.textContent=At.getText("ui.confirm_selection"))}),document.body.appendChild(P)}getClassIcon(P){return{Fighter:"class_fighter_1.png",Rogue:"class_rogue_1.png",Mage:"class_mage_1.png",Paladin:"class_paladin_1.png",Football:"class_football_1.png",Gambler:"class_gambler_1.png",Athlete:"class_athlete_1.png",Gourmand:"class_chef_1.png"}[P]||"class_fighter_1.png"}getClassIconKey(P){return{Fighter:"fighter_icon",Rogue:"rogue_icon",Mage:"mage_icon",Paladin:"paladin_icon",Football:"football_icon",Gambler:"gambler_icon",Athlete:"athlete_icon",Gourmand:"gourmand_icon"}[P]||"fighter_icon"}getAltClassIcon(P){return{Football:"class_football_1.png",Gambler:"class_gambler_1.png",Athlete:"class_athlete_1.png",Gourmand:"class_chef_1.png"}[P]||"class_fighter_1.png"}shutdown(){console.log("ClassSelectScene shutdown called"),this.gameEvents.off(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.off(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.off(it.NAME_SET,this.handleNameSet,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.off(it.LOADING_ERROR,this.handleLoadingError,this),this.cleanupHTMLElements(),this.scale.off("resize",this.handleResize)}}class lo extends gt.Scene{constructor(){super("LoadingScene");K(this,"loadingText");K(this,"spinner");K(this,"dots");K(this,"dotCount",0);K(this,"dotTimer");K(this,"nextScene","");K(this,"message","");K(this,"timeoutDuration",1e4);K(this,"timeoutTimer",null);K(this,"gameEvents");K(this,"waitingFor","");this.gameEvents=window.gameEvents}init(P){this.message=P.message||"Loading...",this.nextScene=P.nextScene||"",this.timeoutDuration=P.timeoutDuration||1e4,this.waitingFor=P.waitingFor||"",console.log(`LoadingScene initialized with message: ${this.message}, next scene: ${this.nextScene}, waiting for: ${this.waitingFor}`)}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){this.cleanupLingeringUIElements();const{width:P,height:b}=this.scale;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(P/2,b/2,"title_bg").setDisplaySize(P,b).setDepth(0)}catch(D){console.error("Error loading background:",D)}this.loadingText=this.add.text(P/2,b/2-50,this.message,{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5),this.dots=this.add.text(P/2,b/2-20,"",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff"}).setOrigin(.5),this.createSpinner(P/2,b/2+50),this.dotTimer=this.time.addEvent({delay:500,callback:this.updateDots,callbackScope:this,loop:!0}),this.registerEventListeners(),this.nextScene&&(this.timeoutTimer=this.time.delayedCall(this.timeoutDuration,()=>{console.log(`Loading timed out after ${this.timeoutDuration}ms, proceeding to ${this.nextScene}`),this.proceedToNextScene()})),this.scale.on("resize",this.handleResize,this)}registerEventListeners(){this.gameEvents.on(it.LOADING_COMPLETE,this.completeLoading,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.waitingFor==="name"?(console.log("done waiting for name"),this.gameEvents.on(it.NAME_SET,this.completeLoading,this)):this.waitingFor==="player"&&(console.log("done waiting for player"),this.gameEvents.on(it.PLAYER_CREATED,this.completeLoading,this)),this.events.on("shutdown",this.shutdown,this)}createSpinner(P,b){this.spinner=this.add.container(P,b);const D=30,z=8;for(let v=0;v<z;v++){const T=v/z*Math.PI*2,t=Math.cos(T)*D,l=Math.sin(T)*D,p=8,a=.3+.7*v/z,r=this.add.circle(t,l,p,16777215,a);this.spinner.add(r)}this.tweens.add({targets:this.spinner,angle:360,duration:2e3,repeat:-1,ease:"Linear"})}updateDots(){this.dotCount=(this.dotCount+1)%4,this.dots.setText(".".repeat(this.dotCount))}handleResize(){const{width:P,height:b}=this.scale;this.loadingText&&this.loadingText.setPosition(P/2,b/2-50),this.dots&&this.dots.setPosition(P/2,b/2-20),this.spinner&&this.spinner.setPosition(P/2,b/2+50)}handleConnectionLost(){var P;console.log("Connection lost during loading"),this.loadingText.setText("Connection lost. Please refresh the page."),(P=this.timeoutTimer)==null||P.remove(),this.timeoutTimer=null}completeLoading(){this.timeoutTimer&&(this.timeoutTimer.remove(),this.timeoutTimer=null),this.nextScene&&(this.proceedToNextScene(),this.nextScene="")}proceedToNextScene(){this.nextScene?(console.log(`Loading complete, proceeding to ${this.nextScene}`),this.scene.start(this.nextScene)):console.warn("No next scene specified, staying in LoadingScene")}shutdown(){this.dotTimer&&this.dotTimer.remove(),this.timeoutTimer&&(this.timeoutTimer.remove(),this.timeoutTimer=null),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.LOADING_COMPLETE,this.completeLoading,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.waitingFor==="name"?this.gameEvents.off(it.NAME_SET,this.completeLoading,this):this.waitingFor==="player"&&this.gameEvents.off(it.PLAYER_CREATED,this.completeLoading,this),this.scale.off("resize",this.handleResize),this.nextScene=""}cleanupLingeringUIElements(){console.log("LoadingScene: Cleaning up any lingering UI elements from other scenes");try{const P=document.getElementById("login-name-input");P&&P.parentNode&&(console.log("Removing lingering login input"),P.remove()),document.querySelectorAll(".login-button").forEach(D=>{D&&D.parentNode&&(console.log("Removing lingering login button"),D.remove())});const b=document.getElementById("class-select-container");b&&b.parentNode&&(console.log("Removing lingering class container"),b.remove()),document.querySelectorAll(".class-select-button").forEach(D=>{D&&D.parentNode&&(console.log("Removing lingering class button"),D.remove())}),document.querySelectorAll('input[type="text"]').forEach(D=>{D.id==="login-name-input"&&D.parentNode&&(console.log("Removing generic text input"),D.remove())}),document.querySelectorAll("button").forEach(D=>{const z=D.textContent||"";(z.includes("Set Name")||z.includes("Fighter")||z.includes("Rogue")||z.includes("Mage")||z.includes("Paladin")||z.includes("Confirm"))&&D.parentNode&&(console.log("Removing generic button:",z),D.remove())})}catch(P){console.error("Error in cleanupLingeringUIElements:",P)}}}class uo extends gt.Scene{constructor(){super("QuestScene");K(this,"spacetimeDBClient");K(this,"gameEvents");K(this,"questContainer");K(this,"backButton");this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){const{width:P,height:b}=this.scale;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(P/2,b/2,"title_bg").setDisplaySize(P,b).setDepth(0)}catch(D){console.error("Error loading background:",D)}this.add.text(P/2,b/6,"QUESTS",{fontFamily:"Arial Black",fontSize:"48px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.createQuestList(),this.createBackButton(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createQuestList(){const P=wt(),b=document.getElementById("quest-container");b&&b.remove(),this.questContainer=document.createElement("div"),this.questContainer.id="quest-container",this.questContainer.style.position="absolute",this.questContainer.style.left="50%",this.questContainer.style.top="50%",this.questContainer.style.transform="translate(-50%, -50%)",P?(this.questContainer.style.width="90%",this.questContainer.style.maxWidth="450px",this.questContainer.style.maxHeight="60vh",this.questContainer.style.fontSize=Mt(14)):(this.questContainer.style.width="600px",this.questContainer.style.maxHeight="500px",this.questContainer.style.fontSize="16px"),this.questContainer.style.overflowY="auto",this.questContainer.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.questContainer.style.borderRadius="8px",this.questContainer.style.border="2px solid #34495e",this.questContainer.style.padding="20px",[{titleKey:"quest.survive.title",descriptionKey:"quest.survive.description",rewardKey:"quest.survive.reward"},{titleKey:"quest.defeat.title",descriptionKey:"quest.defeat.description",rewardKey:"quest.defeat.reward"},{titleKey:"quest.level.title",descriptionKey:"quest.level.description",rewardKey:"quest.level.reward"},{titleKey:"quest.gems.title",descriptionKey:"quest.gems.description",rewardKey:"quest.gems.reward"}].forEach(z=>{const v=document.createElement("div");v.style.backgroundColor="rgba(52, 73, 94, 0.7)",v.style.margin="10px 0",v.style.padding=P?"12px":"15px",v.style.borderRadius="5px",v.style.border="1px solid #2980b9",v.style.color="white",v.style.fontFamily="Arial";const T=P?Mt(18):"20px",t=P?Mt(14):"16px";v.innerHTML=`
                <h3 style="margin: 0 0 10px 0; font-size: ${T}; color: #3498db;">${At.getText(z.titleKey)}</h3>
                <p style="margin: 0 0 10px 0; color: #ecf0f1; font-size: ${t};">${At.getText(z.descriptionKey)}</p>
                <p style="margin: 0; color: #2ecc71; font-size: ${t};">${At.getText(z.rewardKey)}</p>
            `,this.questContainer.appendChild(v)}),document.body.appendChild(this.questContainer)}createBackButton(){const P=wt();this.backButton=document.createElement("button"),this.backButton.textContent=" Back",this.backButton.style.position="absolute",P?(this.backButton.style.bottom="20px",this.backButton.style.left="50%",this.backButton.style.transform="translateX(-50%)",this.backButton.style.top="auto",this.backButton.style.padding="12px 15px",this.backButton.style.fontSize=Mt(16),this.backButton.style.minWidth="80px",this.backButton.style.minHeight="44px"):(this.backButton.style.bottom="40px",this.backButton.style.left="40px",this.backButton.style.top="auto",this.backButton.style.padding="10px 20px",this.backButton.style.fontSize="18px"),this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.transition="background-color 0.2s, border-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db",this.backButton.style.borderColor="#2980b9"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.borderColor="#34495e"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton)}handleResize(){this.createQuestList(),this.createBackButton();const{width:P,height:b}=this.scale,D=wt();this.children.list.forEach(z=>{z instanceof gt.GameObjects.Text&&z.text==="QUESTS"&&z.setFontSize(D?parseInt(Mt(36)):48)})}cleanupHTMLElements(){this.questContainer&&this.questContainer.parentNode&&this.questContainer.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove()}shutdown(){this.events.off("shutdown",this.shutdown,this),this.scale.off("resize",this.handleResize),this.cleanupHTMLElements()}}const fo="vibesurvivors-with-friends",co="ws://localhost:3000",vo="wss://maincloud.spacetimedb.com";function _n(){return typeof window<"u"?window.location.hostname==="localhost"||window.location.port==="8080":!1}const tr=_n()?co:vo;console.log(`Environment: ${_n()?"Development":"Production"}`);console.log(`Using SpacetimeDB URI: ${tr}`);class po{constructor(E,P,b){K(this,"sdkConnection",null);K(this,"identity",null);K(this,"onSubscriptionApplied",null);K(this,"onConnect",null);K(this,"onDisconnect",null);K(this,"gameEvents");console.log("Initializing SpacetimeDBClient and preparing connection..."),this.gameEvents=window.gameEvents,this.onSubscriptionApplied=E||null,this.onConnect=P||null,this.onDisconnect=b||null,qn.builder().withUri(tr).withModuleName(fo).withToken(localStorage.getItem("auth_token")||"").onConnect(this.handleConnect.bind(this)).onDisconnect(this.handleDisconnect.bind(this)).onConnectError(this.handleConnectError.bind(this)).build(),console.log("Connection attempt initiated.")}disconnect(){console.log("Disconnecting from SpacetimeDB..."),this.sdkConnection?this.sdkConnection.disconnect():console.warn("Attempted to disconnect before connection was established."),this.sdkConnection=null,this.identity=null}handleConnect(E,P,b){var D;console.log("Successfully connected to SpacetimeDB."),this.sdkConnection=E,this.identity=P,console.log("Local Identity:",(D=this.identity)==null?void 0:D.toHexString()),localStorage.setItem("auth_token",b),console.log("Subscribing to relevant tables..."),this.sdkConnection.subscriptionBuilder().onApplied(this.handleSubscriptionApplied.bind(this)).onError(this.handleSubscriptionError.bind(this)).subscribe(["SELECT * FROM account","SELECT * FROM world","SELECT * FROM player","SELECT * FROM dead_players","SELECT * FROM entity","SELECT * FROM monsters","SELECT * FROM active_attacks","SELECT * FROM active_boss_attacks","SELECT * FROM attack_data","SELECT * FROM gems","SELECT * FROM upgrade_options","SELECT * FROM chosen_upgrades","SELECT * FROM monster_spawners","SELECT * FROM game_state","SELECT * FROM boss_spawn_timer","SELECT * FROM boss_attack_timer","SELECT * FROM player_poison_effect","SELECT * FROM achievements","SELECT * FROM bestiary"]),this.registerTableCallbacks(E),this.onConnect&&this.onConnect(E,P,b)}registerTableCallbacks(E){E.db.player&&(E.db.player.onInsert((P,b)=>{this.gameEvents.emit(it.PLAYER_CREATED,P,b)}),E.db.player.onUpdate((P,b,D)=>{this.gameEvents.emit(it.PLAYER_UPDATED,P,b,D)}),E.db.player.onDelete((P,b)=>{this.gameEvents.emit(it.PLAYER_DELETED,P,b)})),E.db.entity&&(E.db.entity.onInsert((P,b)=>{this.gameEvents.emit(it.ENTITY_CREATED,P,b)}),E.db.entity.onUpdate((P,b,D)=>{this.gameEvents.emit(it.ENTITY_UPDATED,P,b,D)}),E.db.entity.onDelete((P,b)=>{this.gameEvents.emit(it.ENTITY_DELETED,P,b)})),E.db.monsters&&(E.db.monsters.onInsert((P,b)=>{this.gameEvents.emit(it.MONSTER_CREATED,P,b)}),E.db.monsters.onUpdate((P,b,D)=>{this.gameEvents.emit(it.MONSTER_UPDATED,P,b,D)}),E.db.monsters.onDelete((P,b)=>{this.gameEvents.emit(it.MONSTER_DELETED,P,b)})),E.db.gameState&&E.db.gameState.onUpdate((P,b,D)=>{this.gameEvents.emit(it.GAME_STATE_UPDATED,P,b,D)}),E.db.bossSpawnTimer&&(E.db.bossSpawnTimer.onInsert((P,b)=>{this.gameEvents.emit(it.BOSS_SPAWN_TIMER_CREATED,P,b)}),E.db.bossSpawnTimer.onDelete((P,b)=>{this.gameEvents.emit(it.BOSS_SPAWN_TIMER_DELETED,P,b)})),E.db.activeAttacks&&(E.db.activeAttacks.onInsert((P,b)=>{this.gameEvents.emit(it.ATTACK_CREATED,P,b)}),E.db.activeAttacks.onUpdate((P,b,D)=>{this.gameEvents.emit(it.ATTACK_UPDATED,P,b,D)}),E.db.activeAttacks.onDelete((P,b)=>{this.gameEvents.emit(it.ATTACK_DELETED,P,b)})),E.db.activeBossAttacks&&(E.db.activeBossAttacks.onInsert((P,b)=>{this.gameEvents.emit(it.BOSS_ATTACK_CREATED,P,b)}),E.db.activeBossAttacks.onUpdate((P,b,D)=>{this.gameEvents.emit(it.BOSS_ATTACK_UPDATED,P,b,D)}),E.db.activeBossAttacks.onDelete((P,b)=>{this.gameEvents.emit(it.BOSS_ATTACK_DELETED,P,b)}));try{E.db.gems&&(E.db.gems.onInsert((P,b)=>{this.gameEvents.emit(it.GEM_CREATED,P,b)}),E.db.gems.onUpdate((P,b,D)=>{this.gameEvents.emit(it.GEM_UPDATED,P,b,D)}),E.db.gems.onDelete((P,b)=>{this.gameEvents.emit(it.GEM_DELETED,P,b)}),console.log("Registered gem event handlers successfully"))}catch(P){console.warn("Could not register gem event handlers - the gems table might not be in current bindings yet:",P)}E.db.world&&E.db.world.onUpdate((P,b,D)=>{D.tickCount%50==0&&console.log("Game tick:",D.tickCount)}),E.db.attackData&&(E.db.attackData.onInsert((P,b)=>{this.gameEvents.emit(it.ATTACK_DATA_CREATED,P,b)}),E.db.attackData.onUpdate((P,b,D)=>{this.gameEvents.emit(it.ATTACK_DATA_UPDATED,P,b,D)})),E.db.activeAttackCleanup&&(E.db.activeAttackCleanup.onInsert((P,b)=>{this.gameEvents.emit(it.ACTIVE_ATTACK_CLEANUP_CREATED,P,b)}),E.db.activeAttackCleanup.onDelete((P,b)=>{this.gameEvents.emit(it.ACTIVE_ATTACK_CLEANUP_DELETED,P,b)})),E.db.activeBossAttackCleanup&&(E.db.activeBossAttackCleanup.onInsert((P,b)=>{this.gameEvents.emit(it.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED,P,b)}),E.db.activeBossAttackCleanup.onDelete((P,b)=>{this.gameEvents.emit(it.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED,P,b)}))}handleSubscriptionApplied(E){console.log("SpacetimeDB subscription applied callback triggered."),this.onSubscriptionApplied&&this.onSubscriptionApplied(E)}handleSubscriptionError(E){console.error("SpacetimeDB Subscription Error Context:",E);const P=E.error;P?console.error("SpacetimeDB Subscription Error:",P):console.error("SpacetimeDB Subscription Error: (Could not extract specific error from context)")}handleDisconnect(E,P){console.warn("Disconnected from SpacetimeDB."),P&&console.error("Disconnect Error:",P),this.sdkConnection=null,this.identity=null,this.onDisconnect&&this.onDisconnect(E,P)}handleConnectError(E,P){console.error("SpacetimeDB Connection Error:",P),this.sdkConnection=null,this.identity=null,this.onDisconnect&&this.onDisconnect(E,P)}get isConnected(){return this.sdkConnection!==null&&this.identity!==null}}class go extends gt.Scene{constructor(){super({key:"PrologScene"});K(this,"storyIndex",0);K(this,"isTyping",!1);K(this,"typingTimer");K(this,"onComplete");K(this,"background");K(this,"container");K(this,"textBox");K(this,"storyText");K(this,"nextIndicator");K(this,"languageSelector");K(this,"indicatorTween");K(this,"isSkipping",!1);K(this,"storyKeys",["story.intro.1","story.intro.2","story.intro.3","story.intro.4","story.intro.5","story.intro.6","story.intro.7"])}init(P){this.onComplete=P.onComplete}async preload(){this.load.image("scene_1","assets/scene_1.png"),this.load.image("scene_2","assets/scene_2.png"),this.load.image("scene_3","assets/scene_3.png")}createLanguageSelector(){const P=document.createElement("select");P.style.position="absolute",P.style.top="20px",P.style.right="20px",P.style.padding="8px",P.style.fontFamily="Arial",P.style.fontSize="16px",P.style.backgroundColor="#2c3e50",P.style.color="white",P.style.border="2px solid #34495e",P.style.borderRadius="5px",P.style.cursor="pointer",P.style.zIndex="1000",[{code:"en",name:"English"},{code:"de",name:"Deutsch"}].forEach(D=>{const z=document.createElement("option");z.value=D.code,z.textContent=D.name,P.appendChild(z)}),P.value=At.getLanguage(),P.addEventListener("change",D=>{const z=D.target;At.setLanguage(z.value),this.typingTimer&&this.typingTimer.remove(),this.isTyping=!1,this.isSkipping=!1;const v=this.storyKeys[this.storyIndex],T=At.getText(v);this.storyText.setText(T),this.nextIndicator.visible=!0}),document.body.appendChild(P),this.languageSelector=P}cleanupHTMLElements(){console.log("PrologScene: Cleaning up HTML elements");try{const P=document.getElementById("class-select-container");P&&P.parentNode&&(console.log("Removing class select container"),P.remove()),document.querySelectorAll(".class-select-button").forEach(z=>{z&&z.parentNode&&(console.log("Removing class select button"),z.remove())}),document.querySelectorAll("button").forEach(z=>{const v=z.textContent;v&&(v.includes("Confirm Selection")||v.includes("Set Name")||v.includes("Quests"))&&z&&z.parentNode&&(console.log("Removing button:",v),z.remove())});const b=document.getElementById("login-name-input");b&&b.parentNode&&(console.log("Removing login input"),b.remove());const D=document.getElementById("class-info-panel");D&&D.parentNode&&(console.log("Removing info panel"),D.remove()),document.querySelectorAll("button").forEach(z=>{var v;(v=z.textContent)!=null&&v.includes(" Quests")&&z&&z.parentNode&&(console.log("Removing quest button"),z.remove())}),this.languageSelector&&this.languageSelector.parentNode&&this.languageSelector.remove(),console.log("PrologScene HTML elements cleaned up successfully")}catch(P){console.error("Error in PrologScene cleanupHTMLElements:",P)}}create(){var T,t;this.cleanupHTMLElements(),this.cameras.main.setBackgroundColor("#000000");const{width:P,height:b}=this.scale;this.background=this.add.image(P*.5,b*.5,"scene_1").setOrigin(.5).setAlpha(0);const D=P/this.background.width,z=b/this.background.height,v=Math.min(D,z);this.background.setScale(v),this.createDialogBox(),this.createLanguageSelector(),(T=this.input.keyboard)==null||T.on("keydown-ENTER",()=>this.handleNext()),(t=this.input.keyboard)==null||t.on("keydown-SPACE",()=>this.handleNext()),this.input.on("pointerdown",()=>this.handleNext()),this.displayNextText(),this.updateBackground()}createDialogBox(){const{width:P,height:b}=this.scale,D=wt();this.container=this.add.container(0,0);const z=D?12:25,T=parseInt(Mt(D?16:24).replace("px","")),t=D?P*.9:P*.85,l=this.add.text(0,0,At.getText(this.storyKeys[this.storyIndex]),{fontFamily:'"Trebuchet MS", "Arial", sans-serif',fontSize:`${T}px`,color:"#ffffff",wordWrap:{width:t-z*2},lineSpacing:D?3:8});let p=l.height+z*2;const a=D?b*.15:b*.18,r=D?b*.25:b*.28,n=Math.max(a,Math.min(r,p));l.destroy();const e=b-n*.65,s=P*.5,o=D?8:16;this.textBox=this.add.graphics(),this.textBox.fillStyle(1714498,.85),this.textBox.fillRoundedRect(s-t/2,e-n/2,t,n,o),this.container.add(this.textBox);const i=this.add.graphics();i.lineStyle(3,16777215,.4),i.strokeRoundedRect(s-t/2+3,e-n/2+3,t-6,n-6,o-2),this.container.add(i),this.storyText=this.add.text(s-t/2+z,e-n/2+z,"",{fontFamily:'"Trebuchet MS", "Arial", sans-serif',fontSize:`${T}px`,color:"#ffffff",wordWrap:{width:t-z*2},lineSpacing:D?3:8}),this.container.add(this.storyText),this.nextIndicator=this.add.text(s+t/2-z,e+n/2-z,"",{fontFamily:"Arial",fontSize:`${Math.floor(T*(D?1:1.2))}px`,color:"#ffffff"}).setOrigin(1,1),this.container.add(this.nextIndicator),this.indicatorTween=this.tweens.add({targets:this.nextIndicator,y:"+=5",duration:800,yoyo:!0,repeat:-1}),this.nextIndicator.visible=!1}updateBackground(){let P="scene_1";this.storyIndex>=3&&this.storyIndex<=4?P="scene_2":this.storyIndex>=5&&(P="scene_3"),this.tweens.add({targets:this.background,alpha:0,duration:300,onComplete:()=>{if(this.background.setTexture(P),P==="scene_2"){this.background.setRotation(-Math.PI/2);const{width:b,height:D}=this.scale,z=D/this.background.width,v=b/this.background.height,T=Math.min(z,v);this.background.setScale(T)}else{this.background.setRotation(0);const{width:b,height:D}=this.scale,z=b/this.background.width,v=D/this.background.height,T=Math.min(z,v);this.background.setScale(T)}this.tweens.add({targets:this.background,alpha:1,duration:300})}})}displayNextText(){const P=this.storyKeys[this.storyIndex],b=At.getText(P);if(!b){console.error(`Translation missing for key: ${P}`),this.storyText.setText("Translation missing for: "+P),this.nextIndicator.visible=!0;return}this.container&&(this.container.removeAll(!0),this.createDialogBox()),this.isTyping=!0,this.isSkipping=!1,this.nextIndicator.visible=!1,this.storyText.setText("");const D=wt()?30:40,z=Math.max(10,D-b.length/100);let v=0;this.typingTimer=this.time.addEvent({delay:z,callback:()=>{v<b.length&&(this.storyText.text+=b[v],v++),v>=b.length&&(this.isTyping=!1,this.nextIndicator.visible=!0)},repeat:b.length-1})}handleNext(){if(this.isTyping&&!this.isSkipping){this.isSkipping=!0,this.typingTimer&&this.typingTimer.remove();const P=this.storyKeys[this.storyIndex];this.storyText.setText(At.getText(P)),this.isTyping=!1,this.nextIndicator.visible=!0}else if(!this.isTyping){const P=this.storyIndex;this.storyIndex++,this.storyIndex<this.storyKeys.length?((P<3&&this.storyIndex>=3||P<5&&this.storyIndex>=5)&&this.updateBackground(),this.displayNextText()):(this.cleanupHTMLElements(),this.scene.start("ClassSelectScene"))}}resize(){if(this.container&&(this.container.removeAll(!0),this.createDialogBox(),this.storyIndex<this.storyKeys.length)){const P=this.storyKeys[this.storyIndex],b=At.getText(P);this.isTyping?this.displayNextText():(this.storyText.setText(b),this.nextIndicator.visible=!0)}}shutdown(){var P,b;(P=this.input.keyboard)==null||P.off("keydown-ENTER"),(b=this.input.keyboard)==null||b.off("keydown-SPACE"),this.input.off("pointerdown"),this.indicatorTween&&this.indicatorTween.stop(),this.cleanupHTMLElements()}}class mo extends gt.Scene{constructor(){super("BestaryScene");K(this,"spacetimeDBClient");K(this,"titleText");K(this,"descriptionText");K(this,"monstersList");K(this,"monsterDetailsPanel");K(this,"backButton");K(this,"commonMonstersTab");K(this,"bossesTab");K(this,"phaseToggleButton");K(this,"selectedMonster",null);K(this,"selectedMonsterPhase",1);K(this,"currentTab","common");K(this,"monsterImageMapping",{Rat:"monster_rat.png",Slime:"monster_slime.png",Orc:"monster_orc.png",Wolf:"monster_wolf.png",Worm:"monster_worm.png",Scorpion:"monster_scorpion.png",FinalBossPhase1:"final_boss_phase_1.png",FinalBossPhase2:"final_boss_phase_2.png",FinalBossJorgePhase1:"final_boss_jorge_phase_1.png",FinalBossJorgePhase2:"final_boss_jorge_phase_2.png",FinalBossBjornPhase1:"final_boss_phase_bjrn_1.png",FinalBossBjornPhase2:"final_boss_phase_bjrn_2.png",FinalBossSimonPhase1:"final_boss_simon_phase_1.png",FinalBossSimonPhase2:"final_boss_simon_phase_2.png"});this.spacetimeDBClient=window.spacetimeDBClient}init(){}preload(){this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_wolf","assets/monster_wolf.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("final_boss_jorge_phase_1","assets/final_boss_jorge_phase_1.png"),this.load.image("final_boss_jorge_phase_2","assets/final_boss_jorge_phase_2.png"),this.load.image("final_boss_phase_bjorn_1","assets/final_boss_phase_bjrn_1.png"),this.load.image("final_boss_phase_bjorn_2","assets/final_boss_phase_bjrn_2.png"),this.load.image("final_boss_simon_phase_1","assets/final_boss_simon_phase_1.png"),this.load.image("final_boss_simon_phase_2","assets/final_boss_simon_phase_2.png")}create(){const P=this.cameras.main.width,b=this.cameras.main.height;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(P/2,b/2,"title_bg").setDisplaySize(P,b).setDepth(0)}catch(D){console.error("Error loading background:",D)}this.titleText=this.add.text(P/2,60,At.getText("ui.bestiary.title"),{fontFamily:"Arial Black",fontSize:"36px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.descriptionText=this.add.text(P/2,110,At.getText("ui.bestiary.description"),{fontFamily:"Arial",fontSize:"18px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:2,wordWrap:{width:P*.8}}).setOrigin(.5),this.createTabButtons(),this.createMonstersList(),this.createMonsterDetailsPanel(),this.createPhaseToggleButton(),this.createBackButton(),this.positionHTMLElements(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createMonstersList(){const P=document.getElementById("bestiary-monsters-list");P&&P.remove(),this.monstersList=document.createElement("div"),this.monstersList.id="bestiary-monsters-list",this.monstersList.style.position="absolute",this.monstersList.style.overflow="auto",this.monstersList.style.width="220px",this.monstersList.style.maxHeight="500px",this.monstersList.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.monstersList.style.border="2px solid #34495e",this.monstersList.style.borderRadius="8px",this.monstersList.style.padding="10px";const b=wt();let D=[];this.currentTab==="common"?D=[Wt.Rat,Wt.Slime,Wt.Orc,Wt.Wolf,Wt.Worm,Wt.Scorpion]:D=[Wt.FinalBossJorgePhase1,Wt.FinalBossBjornPhase1,Wt.FinalBossSimonPhase1],D.forEach(z=>{const v=document.createElement("button");v.className="bestiary-monster-button",v.setAttribute("data-monster-type",z.toString()),v.style.display="flex",v.style.alignItems="center",v.style.width="100%",v.style.padding="8px",v.style.marginBottom="5px",v.style.backgroundColor="#2c3e50",v.style.border="1px solid #34495e",v.style.borderRadius="4px",v.style.cursor="pointer",v.style.color="white",v.style.textAlign="left",v.style.transition="background-color 0.2s";try{const t=this.monsterImageMapping[z.tag];if(t){const l=document.createElement("img");l.src="assets/"+t,l.style.width="40px",l.style.height="40px",l.style.marginRight="10px",l.style.objectFit="contain",v.appendChild(l)}}catch(t){console.error(`Error adding icon for monster type ${z.tag}:`,t)}const T=document.createElement("span");T.textContent=At.getText(`bestiary.monster.${z.tag}.name`),v.appendChild(T),v.addEventListener("click",()=>{this.selectMonster(z),document.querySelectorAll(".bestiary-monster-button").forEach(t=>{t.style.backgroundColor="#2c3e50"}),v.style.backgroundColor="#3498db",b&&this.showMonsterDetailsModal()}),v.addEventListener("mouseover",()=>{this.selectedMonster!==z&&(v.style.backgroundColor="#34495e")}),v.addEventListener("mouseout",()=>{this.selectedMonster!==z&&(v.style.backgroundColor="#2c3e50")}),this.monstersList.appendChild(v)}),document.body.appendChild(this.monstersList)}createMonsterDetailsPanel(){const P=document.getElementById("bestiary-details-panel");P&&P.remove();const b=wt();if(this.monsterDetailsPanel=document.createElement("div"),this.monsterDetailsPanel.id="bestiary-details-panel",this.monsterDetailsPanel.style.position="absolute",this.monsterDetailsPanel.style.width="450px",this.monsterDetailsPanel.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.monsterDetailsPanel.style.border="2px solid #34495e",this.monsterDetailsPanel.style.borderRadius="8px",this.monsterDetailsPanel.style.padding="20px",this.monsterDetailsPanel.style.color="white",this.monsterDetailsPanel.style.display="none",this.monsterDetailsPanel.innerHTML=`
            <div style="text-align: center; padding: 40px 0;">
                <p style="color: #95a5a6; font-style: italic;">
                    ${At.getText("ui.bestiary.select_monster")}
                </p>
            </div>
        `,document.body.appendChild(this.monsterDetailsPanel),b){const D=document.createElement("div");D.id="bestiary-modal-overlay",D.style.position="fixed",D.style.top="0",D.style.left="0",D.style.width="100%",D.style.height="100%",D.style.backgroundColor="rgba(0, 0, 0, 0.7)",D.style.zIndex="1000",D.style.display="none",D.addEventListener("click",z=>{z.target===D&&this.hideMonsterDetailsModal()}),document.body.appendChild(D)}}showMonsterDetailsModal(){if(!wt())return;const P=document.getElementById("bestiary-modal-overlay");if(P&&(this.monsterDetailsPanel.style.left="50%",this.monsterDetailsPanel.style.top="50%",this.monsterDetailsPanel.style.transform="translate(-50%, -50%)",this.monsterDetailsPanel.style.zIndex="1001",this.monsterDetailsPanel.style.width="85%",this.monsterDetailsPanel.style.maxWidth="380px",this.monsterDetailsPanel.style.maxHeight="80%",this.monsterDetailsPanel.style.overflowY="auto",this.monsterDetailsPanel.style.position="fixed",P.style.display="block",this.monsterDetailsPanel.style.display="block",this.currentTab==="bosses"&&this.phaseToggleButton)){const b=this.monsterDetailsPanel.getBoundingClientRect();this.phaseToggleButton.style.position="fixed",this.phaseToggleButton.style.top=`${b.top+10}px`,this.phaseToggleButton.style.right=`${window.innerWidth-b.right+10}px`,this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.zIndex="1002",this.phaseToggleButton.style.display="block"}}hideMonsterDetailsModal(){if(!wt())return;const P=document.getElementById("bestiary-modal-overlay");P&&(P.style.display="none"),this.monsterDetailsPanel&&(this.monsterDetailsPanel.style.display="none"),this.phaseToggleButton&&(this.phaseToggleButton.style.display="none")}selectMonster(P){if(this.selectedMonster=P,this.monsterDetailsPanel.style.display="block",this.updateMonsterDisplay(P),this.currentTab==="bosses"){if(this.phaseToggleButton.style.display="block",this.phaseToggleButton.textContent=this.selectedMonsterPhase===1?"Show Phase 2":"Show Phase 1",wt()){const b=this.monsterDetailsPanel.getBoundingClientRect();this.phaseToggleButton.style.position="fixed",this.phaseToggleButton.style.top=`${b.top+10}px`,this.phaseToggleButton.style.right=`${window.innerWidth-b.right+10}px`,this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.zIndex="1002"}}else this.phaseToggleButton.style.display="none"}shutdown(){console.log("BestaryScene shutdown called"),this.monstersList&&this.monstersList.parentNode&&this.monstersList.remove(),this.monsterDetailsPanel&&this.monsterDetailsPanel.parentNode&&this.monsterDetailsPanel.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove(),this.commonMonstersTab&&this.commonMonstersTab.parentNode&&this.commonMonstersTab.remove(),this.bossesTab&&this.bossesTab.parentNode&&this.bossesTab.remove(),this.phaseToggleButton&&this.phaseToggleButton.parentNode&&this.phaseToggleButton.remove();const P=document.getElementById("bestiary-monsters-list");P&&P.parentNode&&P.remove();const b=document.getElementById("bestiary-details-panel");b&&b.parentNode&&b.remove();const D=document.getElementById("bestiary-back-button");D&&D.parentNode&&D.remove();const z=document.getElementById("bestiary-tabs-container");z&&z.parentNode&&z.remove();const v=document.getElementById("bestiary-phase-toggle");v&&v.parentNode&&v.remove(),this.scale.off("resize",this.handleResize)}createTabButtons(){const P=document.getElementById("bestiary-common-tab");P&&P.remove();const b=document.getElementById("bestiary-bosses-tab");b&&b.remove();const D=document.createElement("div");D.id="bestiary-tabs-container",D.style.position="absolute",D.style.display="flex",D.style.gap="5px",D.style.justifyContent="center",D.style.width="700px",this.commonMonstersTab=document.createElement("button"),this.commonMonstersTab.id="bestiary-common-tab",this.commonMonstersTab.textContent=At.getText("bestiary.category.common"),this.commonMonstersTab.style.padding="12px 25px",this.commonMonstersTab.style.backgroundColor="#3498db",this.commonMonstersTab.style.color="white",this.commonMonstersTab.style.border="2px solid #34495e",this.commonMonstersTab.style.borderRadius="5px 5px 0 0",this.commonMonstersTab.style.cursor="pointer",this.commonMonstersTab.style.fontSize="16px",this.commonMonstersTab.style.fontWeight="bold",this.commonMonstersTab.style.width="50%",this.commonMonstersTab.style.textAlign="center",this.bossesTab=document.createElement("button"),this.bossesTab.id="bestiary-bosses-tab",this.bossesTab.textContent=At.getText("bestiary.category.bosses"),this.bossesTab.style.padding="12px 25px",this.bossesTab.style.backgroundColor="#2c3e50",this.bossesTab.style.color="white",this.bossesTab.style.border="2px solid #34495e",this.bossesTab.style.borderRadius="5px 5px 0 0",this.bossesTab.style.cursor="pointer",this.bossesTab.style.fontSize="16px",this.bossesTab.style.fontWeight="bold",this.bossesTab.style.width="50%",this.bossesTab.style.textAlign="center",this.commonMonstersTab.addEventListener("click",()=>{this.currentTab!=="common"&&(this.currentTab="common",this.updateTabAppearance(),this.refreshMonstersList(),this.phaseToggleButton.style.display="none")}),this.bossesTab.addEventListener("click",()=>{this.currentTab!=="bosses"&&(this.currentTab="bosses",this.updateTabAppearance(),this.refreshMonstersList())}),D.appendChild(this.commonMonstersTab),D.appendChild(this.bossesTab),document.body.appendChild(D);const z=this.cameras.main.width,v=this.cameras.main.height,t=220+30+450,l=(z-t)/2;D.style.left=`${l}px`,D.style.top=`${v*.2-this.commonMonstersTab.offsetHeight}px`}updateTabAppearance(){this.currentTab==="common"?(this.commonMonstersTab.style.backgroundColor="#3498db",this.bossesTab.style.backgroundColor="#2c3e50"):(this.commonMonstersTab.style.backgroundColor="#2c3e50",this.bossesTab.style.backgroundColor="#3498db")}refreshMonstersList(){this.selectedMonster=null,this.selectedMonsterPhase=1,this.monsterDetailsPanel.style.display="none",this.createMonstersList(),this.positionHTMLElements()}createPhaseToggleButton(){const P=document.getElementById("bestiary-phase-toggle");P&&P.remove(),this.phaseToggleButton=document.createElement("button"),this.phaseToggleButton.id="bestiary-phase-toggle",this.phaseToggleButton.textContent="Show Phase 2",this.phaseToggleButton.style.position="absolute",this.phaseToggleButton.style.padding="8px 12px",this.phaseToggleButton.style.backgroundColor="#e67e22",this.phaseToggleButton.style.color="white",this.phaseToggleButton.style.border="2px solid #d35400",this.phaseToggleButton.style.borderRadius="4px",this.phaseToggleButton.style.cursor="pointer",this.phaseToggleButton.style.fontSize="14px",this.phaseToggleButton.style.fontWeight="bold",this.phaseToggleButton.style.display="none",this.phaseToggleButton.addEventListener("mouseover",()=>{this.phaseToggleButton.style.backgroundColor="#d35400"}),this.phaseToggleButton.addEventListener("mouseout",()=>{this.phaseToggleButton.style.backgroundColor="#e67e22"}),this.phaseToggleButton.addEventListener("click",()=>{this.toggleBossPhase()}),document.body.appendChild(this.phaseToggleButton)}toggleBossPhase(){if(!this.selectedMonster||this.currentTab!=="bosses")return;this.selectedMonsterPhase=this.selectedMonsterPhase===1?2:1,this.phaseToggleButton.textContent=this.selectedMonsterPhase===1?"Show Phase 2":"Show Phase 1";const b=`${this.selectedMonster.tag.replace("Phase1","").replace("Phase2","")}Phase${this.selectedMonsterPhase}`;let D=null;for(const z in Wt)if(typeof Wt[z]=="object"&&Wt[z].tag===b){D=Wt[z];break}D?this.updateMonsterDisplay(D):console.error(`Could not find MonsterType for tag: ${b}`)}updateMonsterDisplay(P){const b=At.getText(`bestiary.monster.${P.tag}.name`),D=At.getText(`bestiary.monster.${P.tag}.description`),z=At.getText(`bestiary.monster.${P.tag}.tips`),v=this.monsterImageMapping[P.tag],T=this.getMonsterStats(P.tag),t=this.currentTab==="bosses"?`<div style="color: #e67e22; font-weight: bold; margin-top: 5px;">Phase ${this.selectedMonsterPhase}</div>`:"";wt()?this.monsterDetailsPanel.innerHTML=`
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 5px;">
                        <div>
                            <h2 style="margin: 0; font-size: 20px; color: #3498db;">${b}</h2>
                            ${t}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 5px;">
                        <div style="flex-shrink: 0; width: 70px; height: 70px; display: flex; align-items: center; justify-content: center; background-color: rgba(0, 0, 0, 0.3); border-radius: 4px;">
                            <img src="assets/${v}" style="max-width: 60px; max-height: 60px; object-fit: contain;" alt="${b}">
                        </div>
                        
                        <div style="flex-grow: 1;">
                            <p style="margin: 0; line-height: 1.3; font-size: ${Mt(13)};">${D}</p>
                        </div>
                    </div>
                    
                    <div style="background-color: rgba(0, 0, 0, 0.2); border-radius: 4px; padding: 8px; margin-bottom: 5px;">
                        <h3 style="margin: 0 0 5px 0; font-size: 16px; color: #f39c12;">Stats</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px;">
                            <div>
                                <div style="color: #e74c3c; font-weight: bold; font-size: ${Mt(12)};">HP</div>
                                <div style="font-size: ${Mt(12)};">${T.hp}</div>
                            </div>
                            <div>
                                <div style="color: #3498db; font-weight: bold; font-size: ${Mt(12)};">Speed</div>
                                <div style="font-size: ${Mt(12)};">${T.speed}</div>
                            </div>
                            <div>
                                <div style="color: #e67e22; font-weight: bold; font-size: ${Mt(12)};">Damage</div>
                                <div style="font-size: ${Mt(12)};">${T.damage}</div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; margin-top: 5px;">
                            <div>
                                <div style="color: #9b59b6; font-weight: bold; font-size: ${Mt(12)};">Size</div>
                                <div style="font-size: ${Mt(12)};">${T.radius}</div>
                            </div>
                            <div>
                                <div style="color: #2ecc71; font-weight: bold; font-size: ${Mt(12)};">XP Value</div>
                                <div style="font-size: ${Mt(12)};">${T.exp}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="margin: 0 0 5px 0; font-size: 16px; color: #2ecc71;">Tips</h3>
                        <div style="white-space: pre-line; line-height: 1.3; font-size: ${Mt(12)};">${z}</div>
                    </div>
                </div>
            `:this.monsterDetailsPanel.innerHTML=`
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                        <div>
                            <h2 style="margin: 0; font-size: 24px; color: #3498db;">${b}</h2>
                            ${t}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 20px; margin-bottom: 15px;">
                        <div style="flex-shrink: 0; width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; background-color: rgba(0, 0, 0, 0.3); border-radius: 4px;">
                            <img src="assets/${v}" style="max-width: 100px; max-height: 100px; object-fit: contain;" alt="${b}">
                        </div>
                        
                        <div style="flex-grow: 1;">
                            <p style="margin: 0 0 15px 0; line-height: 1.5;">${D}</p>
                        </div>
                    </div>
                    
                    <div style="background-color: rgba(0, 0, 0, 0.2); border-radius: 4px; padding: 15px; margin-bottom: 15px;">
                        <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #f39c12;">Stats</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 10px;">
                            <div>
                                <div style="color: #e74c3c; font-weight: bold;">HP</div>
                                <div>${T.hp}</div>
                            </div>
                            <div>
                                <div style="color: #3498db; font-weight: bold;">Speed</div>
                                <div>${T.speed}</div>
                            </div>
                            <div>
                                <div style="color: #e67e22; font-weight: bold;">Damage</div>
                                <div>${T.damage}</div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <div>
                                <div style="color: #9b59b6; font-weight: bold;">Size</div>
                                <div>${T.radius}</div>
                            </div>
                            <div>
                                <div style="color: #2ecc71; font-weight: bold;">XP Value</div>
                                <div>${T.exp}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #2ecc71;">Tips</h3>
                        <div style="white-space: pre-line; line-height: 1.5;">${z}</div>
                    </div>
                </div>
            `}getMonsterStats(P){const b=this.spacetimeDBClient.sdkConnection;(!b||!b.db)&&console.error("Database connection not available");for(const D of b.db.bestiary.iter())if(D.monsterType.tag===P)return{hp:D.maxHp,speed:D.speed,damage:this.roundToOneDecimal(D.atk),radius:D.radius,exp:D.exp};return{hp:0,speed:0,damage:0,radius:0,exp:0}}roundToOneDecimal(P){return Math.round(P*10)/10}createBackButton(){const P=document.getElementById("bestiary-back-button");P&&P.remove(),this.backButton=document.createElement("button"),this.backButton.id="bestiary-back-button",this.backButton.textContent=" Back",this.backButton.style.position="absolute",this.backButton.style.padding="10px 20px",this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.fontSize="18px",this.backButton.style.transition="background-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton),wt()&&(this.backButton.style.padding="12px 20px",this.backButton.style.fontSize=Mt(16),this.backButton.style.minWidth="80px",this.backButton.style.minHeight="44px")}positionHTMLElements(){const P=this.cameras.main.width,b=this.cameras.main.height;if(wt()){this.titleText.setFontSize(parseInt(Mt(36))),this.descriptionText.setFontSize(parseInt(Mt(16)));const z=document.getElementById("bestiary-tabs-container");if(z&&(z.style.left="50%",z.style.top=`${b*.2}px`,z.style.width="90%",z.style.transform="translateX(-50%)",this.commonMonstersTab&&this.bossesTab&&(this.commonMonstersTab.style.padding="15px 10px",this.bossesTab.style.padding="15px 10px",this.commonMonstersTab.style.fontSize=Mt(16),this.bossesTab.style.fontSize=Mt(16))),this.monstersList.style.left="50%",this.monstersList.style.top=`${b*.28}px`,this.monstersList.style.width="90%",this.monstersList.style.maxWidth="400px",this.monstersList.style.maxHeight="400px",this.monstersList.style.transform="translateX(-50%)",this.monsterDetailsPanel.style.left="50%",this.monsterDetailsPanel.style.top=`${b*.28+320}px`,this.monsterDetailsPanel.style.transform="translateX(-50%)",this.monsterDetailsPanel.style.width="90%",this.monsterDetailsPanel.style.maxWidth="350px",this.monsterDetailsPanel.style.maxHeight=`${b*.4}px`,this.monsterDetailsPanel.style.overflowY="auto",this.monsterDetailsPanel.style.padding="15px",this.selectedMonster&&this.updateMonsterDisplay(this.selectedMonster),this.backButton.style.left="50%",this.backButton.style.bottom="20px",this.backButton.style.transform="translateX(-50%)",this.backButton.style.top="auto",this.backButton.style.fontSize=Mt(16),this.backButton.style.padding="12px 25px",this.monsterDetailsPanel&&this.monsterDetailsPanel.style.display!=="none"){const v=this.monsterDetailsPanel.getBoundingClientRect();this.phaseToggleButton.style.position="fixed",this.phaseToggleButton.style.top=`${v.top+10}px`,this.phaseToggleButton.style.right=`${window.innerWidth-v.right+10}px`,this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.zIndex="1002"}else this.phaseToggleButton.style.right="5%",this.phaseToggleButton.style.left="auto",this.phaseToggleButton.style.top=`${b*.28+170}px`;this.phaseToggleButton.style.fontSize=Mt(14),this.phaseToggleButton.style.padding="10px 15px"}else{const T=(P-700)/2,t=document.getElementById("bestiary-tabs-container");t&&(t.style.left=`${T}px`,t.style.top=`${b*.2-48}px`,t.style.width="700px"),this.monstersList.style.left=`${T}px`,this.monstersList.style.top=`${b*.2}px`,this.monsterDetailsPanel.style.left=`${T+220+30}px`,this.monsterDetailsPanel.style.top=`${b*.2}px`,this.backButton.style.left="20px",this.backButton.style.bottom="20px",this.phaseToggleButton.style.position="absolute",this.phaseToggleButton.style.left=`${T+220+30+330}px`,this.phaseToggleButton.style.top=`${b*.2+10}px`}this.phaseToggleButton&&(this.currentTab==="bosses"&&this.selectedMonster?this.phaseToggleButton.style.display="block":this.phaseToggleButton.style.display="none")}handleResize(){const P=this.cameras.main.width;this.cameras.main.height,this.titleText.setPosition(P/2,60),this.descriptionText.setPosition(P/2,110),this.descriptionText.setWordWrapWidth(P*.8),this.positionHTMLElements()}}class yo extends gt.Scene{constructor(){super("AchievementScene");K(this,"spacetimeDBClient");K(this,"achievementContainer");K(this,"backButton");this.spacetimeDBClient=window.spacetimeDBClient}preload(){this.load.image("achievement_crown","assets/achievement_crown.png"),this.load.image("title_bg","assets/title_bg.png"),this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("boss_jorge","assets/final_boss_jorge_phase_1.png"),this.load.image("boss_bjorn","assets/final_boss_phase_bjrn_1.png"),this.load.image("boss_simon","assets/final_boss_simon_phase_1.png"),this.load.image("gem_3","assets/gem_3.png"),this.load.image("gem_4","assets/gem_4.png"),this.load.image("attack_cards","assets/attack_cards.png")}create(){const{width:P,height:b}=this.scale,D=wt();this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(P/2,b/2,"title_bg").setDisplaySize(P,b).setDepth(0)}catch(v){console.error("Error loading background:",v)}const z=D?parseInt(Mt(36)):48;this.add.text(P/2,b/6,"ACHIEVEMENTS",{fontFamily:"Arial Black",fontSize:`${z}px`,color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:D?4:6}).setOrigin(.5),this.createAchievementList(),this.createBackButton(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createAchievementList(){const P=wt(),b=document.getElementById("achievement-container");b&&b.remove(),this.achievementContainer=document.createElement("div"),this.achievementContainer.id="achievement-container",this.achievementContainer.style.position="absolute",this.achievementContainer.style.left="50%",this.achievementContainer.style.top="50%",this.achievementContainer.style.transform="translate(-50%, -50%)",P?(this.achievementContainer.style.width="85%",this.achievementContainer.style.maxWidth="400px",this.achievementContainer.style.maxHeight="50vh",this.achievementContainer.style.fontSize=Mt(14)):(this.achievementContainer.style.width="600px",this.achievementContainer.style.maxHeight="450px",this.achievementContainer.style.fontSize="16px"),this.achievementContainer.style.overflowY="auto",this.achievementContainer.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.achievementContainer.style.borderRadius="8px",this.achievementContainer.style.border="2px solid #34495e",this.achievementContainer.style.padding="20px",this.fetchAchievements(),document.body.appendChild(this.achievementContainer)}fetchAchievements(){if(!this.spacetimeDBClient||!this.spacetimeDBClient.isConnected){this.showErrorMessage("Not connected to the database");return}try{const P=this.spacetimeDBClient.sdkConnection;if(!P||!P.db){this.showErrorMessage("Database connection not available");return}const b=this.spacetimeDBClient.identity,D=[];if(!b){this.showErrorMessage("Player identity not available.");return}try{for(const z of P.db.achievements.iter())z.accountIdentity&&z.accountIdentity.isEqual(b)&&D.push(z)}catch(z){console.error("Error getting player achievements:",z),this.showErrorMessage("Error loading your achievements.");return}if(D.sort((z,v)=>z.achievementsId-v.achievementsId),D.length===0){this.showEmptyMessage();return}this.displayAchievements(D)}catch(P){console.error("Error fetching achievements:",P),this.showErrorMessage("Error loading achievements")}}displayAchievements(P){if(this.achievementContainer.innerHTML="",!P||P.length===0){this.showEmptyMessage();return}[...P].sort((D,z)=>D.isCompleted&&!z.isCompleted?1:!D.isCompleted&&z.isCompleted?-1:D.achievementsId-z.achievementsId).forEach(D=>{const z=D.isCompleted,v=D.progress,T=D.target,t=Math.min(100,Math.floor(v/T*100)),l=document.createElement("div");l.style.backgroundColor=z?"rgba(46, 204, 113, 0.2)":"rgba(52, 73, 94, 0.7)",l.style.margin="10px 0",l.style.padding=wt()?"12px":"15px",l.style.borderRadius="5px",l.style.border=z?"1px solid #2ecc71":"1px solid #2980b9",l.style.color="white",l.style.fontFamily="Arial",l.style.display="flex",l.style.gap="15px",l.style.position="relative";const p=wt()?Mt(18):"20px",a=wt()?Mt(14):"16px",r=D.spritePath.replace("assets/","");l.innerHTML=`
                <div style="flex-shrink: 0; width: ${wt()?"40px":"50px"}; height: ${wt()?"40px":"50px"}; 
                     background-color: rgba(0,0,0,0.3); border-radius: 5px; display: flex; 
                     align-items: center; justify-content: center; position: relative;">
                    <img src="assets/${r}" style="max-width: 80%; max-height: 80%; object-fit: contain;" 
                         alt="${At.getText(D.titleKey)}">
                    ${z?`
                        <div style="position: absolute; top: -5px; right: -5px; background-color: #f39c12; 
                             width: 20px; height: 20px; border-radius: 50%; display: flex; 
                             align-items: center; justify-content: center;">
                            <span style="color: white; font-size: 12px;"></span>
                        </div>`:""}
                </div>
                <div style="flex-grow: 1;">
                    <h3 style="margin: 0 0 5px 0; font-size: ${p}; color: ${z?"#2ecc71":"#3498db"};">
                        ${At.getText(D.titleKey)}
                    </h3>
                    <p style="margin: 0 0 10px 0; color: #ecf0f1; font-size: ${a};">
                        ${At.getText(D.descriptionKey)}
                    </p>
                    <div style="height: 10px; background-color: rgba(0,0,0,0.3); border-radius: 5px; overflow: hidden;">
                        <div style="height: 100%; width: ${t}%; background-color: ${z?"#2ecc71":"#3498db"}; 
                             transition: width 0.5s ease-in-out;"></div>
                    </div>
                    <p style="margin: 5px 0 0 0; color: #bdc3c7; font-size: ${wt()?Mt(12):"14px"}; text-align: right;">
                        ${v} / ${T} (${t}%)
                    </p>
                </div>
            `,this.achievementContainer.appendChild(l)}),this.achievementContainer.children.length===0&&this.showEmptyMessage()}showErrorMessage(P){this.achievementContainer.innerHTML=`
            <div style="text-align: center; padding: 40px; color: #e74c3c;">
                <p style="font-size: 18px; margin-bottom: 10px;"> Error</p>
                <p>${P}</p>
                <p style="font-size: 14px; margin-top: 20px; color: #bdc3c7;">
                    Try refreshing the page or reconnecting to the game.
                </p>
            </div>
        `}showEmptyMessage(){this.achievementContainer.innerHTML=`
            <div style="text-align: center; padding: 40px; color: #95a5a6;">
                <p style="font-size: 18px; margin-bottom: 10px;">No achievements found</p>
                <p>Achievements will be added as you play the game.</p>
            </div>
        `}createBackButton(){const P=wt();this.backButton=document.createElement("button"),this.backButton.textContent=" Back",this.backButton.style.position="absolute",P?(this.backButton.style.bottom="20px",this.backButton.style.left="50%",this.backButton.style.transform="translateX(-50%)",this.backButton.style.top="auto",this.backButton.style.padding="12px 15px",this.backButton.style.fontSize=Mt(16),this.backButton.style.minWidth="80px",this.backButton.style.minHeight="44px"):(this.backButton.style.bottom="40px",this.backButton.style.left="40px",this.backButton.style.top="auto",this.backButton.style.padding="10px 20px",this.backButton.style.fontSize="18px"),this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.transition="background-color 0.2s, border-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db",this.backButton.style.borderColor="#2980b9"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.borderColor="#34495e"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton)}handleResize(){this.createAchievementList(),this.createBackButton()}cleanupHTMLElements(){this.achievementContainer&&this.achievementContainer.parentNode&&this.achievementContainer.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove();const P=document.getElementById("achievement-container");P&&P.parentNode&&P.remove()}shutdown(){this.events.off("shutdown",this.shutdown,this),this.scale.off("resize",this.handleResize),this.cleanupHTMLElements()}}console.log("Main script loading...");const Xt=new gt.Events.EventEmitter;window.gameEvents=Xt;window.cleanupDOMElements=()=>{console.log("Global window.cleanupDOMElements called - only for manual use"),Se()};const xo={type:gt.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"gameContainer",physics:{default:"arcade",arcade:{}},scene:[io,go,ho,eo,lo,uo,mo,yo],scale:{mode:gt.Scale.RESIZE,autoCenter:gt.Scale.CENTER_BOTH}},se=new gt.Game(xo);console.log("Phaser game initialized.");const Se=()=>{console.log("Global DOM cleanup triggered");try{const L=document.getElementById("login-name-input");L&&L.parentNode&&(console.log("Global cleanup: Removing login input"),L.remove()),document.querySelectorAll(".login-button").forEach(P=>{P&&P.parentNode&&(console.log("Global cleanup: Removing login button"),P.remove())});const E=document.getElementById("class-select-container");E&&E.parentNode&&(console.log("Global cleanup: Removing class container"),E.remove()),document.querySelectorAll(".class-select-button").forEach(P=>{P&&P.parentNode&&(console.log("Global cleanup: Removing class button"),P.remove())}),document.querySelectorAll('input[type="text"]').forEach(P=>{console.log("Global cleanup: Removing text input",P.id),P.parentNode&&P.remove()}),document.querySelectorAll("button").forEach(P=>{const b=P.textContent;b&&(b.includes("Set Name")||b.includes("Fighter")||b.includes("Rogue")||b.includes("Mage")||b.includes("Paladin")||b.includes("Confirm"))&&(console.log("Global cleanup: Removing button:",b),P.parentNode&&P.remove())})}catch(L){console.error("Error in global DOM cleanup:",L)}},To=L=>{var z,v,T,t,l;if(console.log("SpacetimeDB subscription applied callback triggered in main.ts."),!((z=je.sdkConnection)!=null&&z.db)||!je.identity){console.warn("Subscription applied, but client tables or identity not ready yet.");return}const E=(v=je.sdkConnection)==null?void 0:v.db,P=je.identity;Xt.emit(it.SUBSCRIPTION_APPLIED),E.account.onInsert((p,a)=>{var r;if(console.log("Account inserted event received"),a.identity.isEqual(P))if(console.log("Local account inserted!"),Xt.emit(it.ACCOUNT_CREATED,p,a),a.name)if(a.currentPlayerId===0){Se(),se.scene.start("ClassSelectScene");return}else((r=p.db)==null?void 0:r.player.playerId.find(a.currentPlayerId))?(Se(),se.scene.start("GameScene")):(Se(),se.scene.start("ClassSelectScene"));else return;else console.log("Another user has logged on: "+a.identity.toString())}),E.account.onUpdate((p,a,r)=>{var n;if(console.log("Account updated event received"),console.log("- Account data: ",r.name+" - "+r.currentPlayerId+" - "+r.lastLogin),r.identity.isEqual(P)){if(console.log("Local account updated."),Xt.emit(it.ACCOUNT_UPDATED,p,a,r),(!a.name||a.name==="")&&r.name){if(console.log("Name was set."),Xt.emit(it.NAME_SET,p,r),se.scene.isActive("LoadingScene")){const e=se.scene.getScene("LoadingScene");e.completeLoading&&(console.log("Completing loading for name set"),e.completeLoading())}return}if(a.currentPlayerId!==r.currentPlayerId&&(console.log("Player ID changed from",a.currentPlayerId,"to",r.currentPlayerId),r.currentPlayerId>0&&((n=p.db)==null?void 0:n.player.playerId.find(r.currentPlayerId))&&se.scene.isActive("LoadingScene"))){const s=se.scene.getScene("LoadingScene");s.completeLoading&&(console.log("Completing loading for player id change"),s.completeLoading())}}else console.log("Another user has logged on: "+r.identity.toString())}),E.player.onInsert((p,a)=>{var n;console.log("Player inserted event received"),console.log("- Player data: "+a.name+" - "+a.playerId);const r=(n=p.db)==null?void 0:n.account.identity.find(P);if(!r){console.log("No account found for local identity. Waiting for account.");return}if(r.currentPlayerId===a.playerId){if(console.log("Local player inserted!"),Xt.emit(it.PLAYER_CREATED,p,a),se.scene.isActive("LoadingScene")){const e=se.scene.getScene("LoadingScene");e.completeLoading&&(console.log("Completing loading for player creation"),e.completeLoading())}}else console.log("Another player has logged on: "+a.name),Xt.emit(it.PLAYER_CREATED,p,a,!1)}),E.player.onUpdate((p,a,r)=>{var s;const n=(s=p.db)==null?void 0:s.account.identity.find(P),e=n&&n.currentPlayerId===r.playerId;Xt.emit(it.PLAYER_UPDATED,p,a,r,e)}),E.player.onDelete((p,a)=>{var n;console.log("Player deleted event received"),console.log("- Player data: ",a.name+" - "+a.playerId);const r=(n=p.db)==null?void 0:n.account.identity.find(P);if(!r){console.log("No account found for local identity.");return}r.currentPlayerId===a.playerId?(console.log("Local player was deleted/died!"),Xt.emit(it.PLAYER_DIED,p,a)):Xt.emit(it.PLAYER_DELETED,p,a,!1)}),E.entity.onInsert((p,a)=>{Xt.emit(it.ENTITY_CREATED,p,a)}),E.entity.onUpdate((p,a,r)=>{Xt.emit(it.ENTITY_UPDATED,p,a,r)}),E.entity.onDelete((p,a)=>{Xt.emit(it.ENTITY_DELETED,p,a)}),E.monsters.onInsert((p,a)=>{Xt.emit(it.MONSTER_CREATED,p,a)}),E.monsters.onUpdate((p,a,r)=>{Xt.emit(it.MONSTER_UPDATED,p,a,r)}),E.monsters.onDelete((p,a)=>{Xt.emit(it.MONSTER_DELETED,p,a)}),E.activeAttacks.onInsert((p,a)=>{Xt.emit(it.ATTACK_CREATED,p,a)}),E.activeAttacks.onUpdate((p,a,r)=>{Xt.emit(it.ATTACK_UPDATED,p,a,r)}),E.activeAttacks.onDelete((p,a)=>{Xt.emit(it.ATTACK_DELETED,p,a)}),console.log("Checking current account and player state...");const b=(T=L.db)==null?void 0:T.account.identity.find(P);if(!b){console.log("No account found for local identity. Waiting for account to be created.");return}if(!b.name){console.log("Account has no name. Going to LoginScene.");return}if(b.currentPlayerId===0){console.log("Account has name but no player. Going to ClassSelectScene."),Se(),se.scene.start("ClassSelectScene");return}if((t=L.db)==null?void 0:t.player.playerId.find(b.currentPlayerId))console.log("Account has name and living player. Going to GameScene."),Se(),se.scene.start("GameScene");else{const p=(l=L.db)==null?void 0:l.deadPlayers.playerId.find(b.currentPlayerId);console.log(p?"Player is dead. Going to ClassSelectScene.":"Player not found. Going to ClassSelectScene."),Se(),se.scene.start("ClassSelectScene")}},So=(L,E,P)=>{console.log("SpacetimeDB connection established."),Xt.emit(it.CONNECTION_ESTABLISHED,L,E,P)},Co=(L,E)=>{console.log("SpacetimeDB connection lost."),Xt.emit(it.CONNECTION_LOST,L,E)},je=new po(To,So,Co);window.spacetimeDBClient=je;console.log("Main script finished loading.");
