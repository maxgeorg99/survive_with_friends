var Jn=Object.defineProperty;var hn=L=>{throw TypeError(L)};var Qn=(L,E,F)=>E in L?Jn(L,E,{enumerable:!0,configurable:!0,writable:!0,value:F}):L[E]=F;var $=(L,E,F)=>Qn(L,typeof E!="symbol"?E+"":E,F),ts=(L,E,F)=>E.has(L)||hn("Cannot "+F);var q=(L,E,F)=>(ts(L,E,"read from private field"),F?F.call(L):E.get(L)),Ct=(L,E,F)=>E.has(L)?hn("Cannot add the same private member more than once"):E instanceof WeakSet?E.add(L):E.set(L,F),dt=(L,E,F,b)=>(ts(L,E,"write to private field"),b?b.call(L,F):E.set(L,F),F),ft=(L,E,F)=>(ts(L,E,"access private method"),F);(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))b(D);new MutationObserver(D=>{for(const V of D)if(V.type==="childList")for(const p of V.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&b(p)}).observe(document,{childList:!0,subtree:!0});function F(D){const V={};return D.integrity&&(V.integrity=D.integrity),D.referrerPolicy&&(V.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?V.credentials="include":D.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function b(D){if(D.ep)return;D.ep=!0;const V=F(D);fetch(D.href,V)}})();var kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jn(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}var Dn={exports:{}};(function(L,E){(function(b,D){L.exports=D()})(kn,()=>(()=>{var F={50792:p=>{var S=Object.prototype.hasOwnProperty,t="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(t=!1));function v(e,s,o){this.fn=e,this.context=s,this.once=o||!1}function a(e,s,o,i,h){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new v(o,i||e,h),d=t?t+s:s;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],u]:e._events[d].push(u):(e._events[d]=u,e._eventsCount++),e}function r(e,s){--e._eventsCount===0?e._events=new l:delete e._events[s]}function n(){this._events=new l,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],o,i;if(this._eventsCount===0)return s;for(i in o=this._events)S.call(o,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(o)):s},n.prototype.listeners=function(s){var o=t?t+s:s,i=this._events[o];if(!i)return[];if(i.fn)return[i.fn];for(var h=0,u=i.length,d=new Array(u);h<u;h++)d[h]=i[h].fn;return d},n.prototype.listenerCount=function(s){var o=t?t+s:s,i=this._events[o];return i?i.fn?1:i.length:0},n.prototype.emit=function(s,o,i,h,u,d){var f=t?t+s:s;if(!this._events[f])return!1;var c=this._events[f],g=arguments.length,m,y;if(c.fn){switch(c.once&&this.removeListener(s,c.fn,void 0,!0),g){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,o),!0;case 3:return c.fn.call(c.context,o,i),!0;case 4:return c.fn.call(c.context,o,i,h),!0;case 5:return c.fn.call(c.context,o,i,h,u),!0;case 6:return c.fn.call(c.context,o,i,h,u,d),!0}for(y=1,m=new Array(g-1);y<g;y++)m[y-1]=arguments[y];c.fn.apply(c.context,m)}else{var x=c.length,T;for(y=0;y<x;y++)switch(c[y].once&&this.removeListener(s,c[y].fn,void 0,!0),g){case 1:c[y].fn.call(c[y].context);break;case 2:c[y].fn.call(c[y].context,o);break;case 3:c[y].fn.call(c[y].context,o,i);break;case 4:c[y].fn.call(c[y].context,o,i,h);break;default:if(!m)for(T=1,m=new Array(g-1);T<g;T++)m[T-1]=arguments[T];c[y].fn.apply(c[y].context,m)}}return!0},n.prototype.on=function(s,o,i){return a(this,s,o,i,!1)},n.prototype.once=function(s,o,i){return a(this,s,o,i,!0)},n.prototype.removeListener=function(s,o,i,h){var u=t?t+s:s;if(!this._events[u])return this;if(!o)return r(this,u),this;var d=this._events[u];if(d.fn)d.fn===o&&(!h||d.once)&&(!i||d.context===i)&&r(this,u);else{for(var f=0,c=[],g=d.length;f<g;f++)(d[f].fn!==o||h&&!d[f].once||i&&d[f].context!==i)&&c.push(d[f]);c.length?this._events[u]=c.length===1?c[0]:c:r(this,u)}return this},n.prototype.removeAllListeners=function(s){var o;return s?(o=t?t+s:s,this._events[o]&&r(this,o)):(this._events=new l,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,p.exports=n},11517:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38829),v=function(a,r,n,e){for(var s=a[0],o=1;o<a.length;o++){var i=a[o];l(i,s,r,n,e),s=i}return a};p.exports=v},80318:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s){return l(a,"angle",r,n,e,s)};p.exports=v},60757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){for(var a=0;a<t.length;a++){var r=t[a];l.call(v,r)}return t};p.exports=S},69927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){v===void 0&&(v=0);for(var a=v;a<t.length;a++){var r=t[a],n=!0;for(var e in l)r[e]!==l[e]&&(n=!1);if(n)return r}return null};p.exports=S},32265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){v===void 0&&(v=0);for(var a=t.length-1;a>=v;a--){var r=t[a],n=!0;for(var e in l)r[e]!==l[e]&&(n=!1);if(n)return r}return null};p.exports=S},94420:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(11879),v=t(60461),a=t(95540),r=t(29747),n=t(41481),e=new n({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),s=function(o,i){i===void 0&&(i={});var h=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),d=a(i,"width",-1),f=a(i,"height",-1),c=a(i,"cellWidth",1),g=a(i,"cellHeight",c),m=a(i,"position",v.TOP_LEFT),y=a(i,"x",0),x=a(i,"y",0),T=0,C=0,A=d*c,w=f*g;e.setPosition(y,x),e.setSize(c,g);for(var P=0;P<o.length;P++)if(l(o[P],e,m),h&&d===-1)e.x+=c;else if(u&&f===-1)e.y+=g;else if(u&&!h){if(C+=g,e.y+=g,C===w&&(C=0,T+=c,e.y=x,e.x+=c,T===A))break}else if(T+=c,e.x+=c,T===A&&(T=0,C+=g,e.x=y,e.y+=g,C===w))break;return o};p.exports=s},41721:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s){return l(a,"alpha",r,n,e,s)};p.exports=v},67285:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s){return l(a,"x",r,n,e,s)};p.exports=v},9074:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"x",r,e,o,i),l(a,"y",n,s,o,i)};p.exports=v},75222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s){return l(a,"y",r,n,e,s)};p.exports=v},22983:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var r=v,n=(a-v)/t.length,e=l.x,s=l.y,o=l.radius,i=0;i<t.length;i++)t[i].x=e+o*Math.cos(r),t[i].y=s+o*Math.sin(r),r+=n;return t};p.exports=S},95253:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v===void 0&&(v=0),a===void 0&&(a=6.28);for(var r=v,n=(a-v)/t.length,e=l.width/2,s=l.height/2,o=0;o<t.length;o++)t[o].x=l.x+e*Math.cos(r),t[o].y=l.y+s*Math.sin(r),r+=n;return t};p.exports=S},88505:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15258),v=t(26708),a=function(r,n,e){var s;e?s=v(n,e,r.length):s=l(n,r.length);for(var o=0;o<r.length;o++){var i=r[o],h=s[o];i.x=h.x,i.y=h.y}return r};p.exports=a},41346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14649),v=t(86003),a=t(49498),r=function(n,e,s){s===void 0&&(s=0);var o=l(e,!1,n.length);s>0?v(o,s):s<0&&a(o,Math.abs(s));for(var i=0;i<n.length;i++)n[i].x=o[i].x,n[i].y=o[i].y;return n};p.exports=r},11575:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84993),v=function(a,r,n){var e=l({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n),s=l({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},n),o=l({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},n);e.pop(),s.pop(),o.pop(),e=e.concat(s,o);for(var i=e.length/a.length,h=0,u=0;u<a.length;u++){var d=a[u],f=e[Math.floor(h)];d.x=f.x,d.y=f.y,h+=i}return a};p.exports=v},29953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(l,v)}return t};p.exports=S},66979:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,o=t.length;if(n===1)for(e=r;e<o;e++)t[e][l]+=v+s*a,s++;else for(e=r;e>=0;e--)t[e][l]+=v+s*a,s++;return t};p.exports=S},43967:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,o=t.length;if(n===1)for(e=r;e<o;e++)t[e][l]=v+s*a,s++;else for(e=r;e>=0;e--)t[e][l]=v+s*a,s++;return t};p.exports=S},88926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28176),v=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};p.exports=v},33286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(24820),v=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};p.exports=v},96e3:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65822),v=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};p.exports=v},28789:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26597),v=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};p.exports=v},97154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90260),v=function(a,r){for(var n=0;n<a.length;n++)l(r,a[n]);return a};p.exports=v},20510:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s){return l(a,"rotation",r,n,e,s)};p.exports=v},91051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1163),v=t(20339),a=function(r,n,e){for(var s=n.x,o=n.y,i=0;i<r.length;i++){var h=r[i];l(h,s,o,e,Math.max(1,v(h.x,h.y,s,o)))}return r};p.exports=a},76332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1163),v=function(a,r,n,e){var s=r.x,o=r.y;if(e===0)return a;for(var i=0;i<a.length;i++)l(a[i],s,o,n,e);return a};p.exports=v},61619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s){return l(a,"scaleX",r,n,e,s)};p.exports=v},94868:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"scaleX",r,e,o,i),l(a,"scaleY",n,s,o,i)};p.exports=v},95532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66979),v=function(a,r,n,e,s){return l(a,"scaleY",r,n,e,s)};p.exports=v},8689:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"alpha",r,n,e,s)};p.exports=v},2645:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e){return l(a,"blendMode",r,0,n,e)};p.exports=v},32372:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"depth",r,n,e,s)};p.exports=v},85373:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){for(var a=0;a<t.length;a++)t[a].setInteractive(l,v);return t};p.exports=S},81583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"originX",r,e,o,i),l(a,"originY",n,s,o,i),a.forEach(function(h){h.updateDisplayOrigin()}),a};p.exports=v},79939:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"rotation",r,n,e,s)};p.exports=v},2699:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"scaleX",r,e,o,i),l(a,"scaleY",n,s,o,i)};p.exports=v},98739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"scaleX",r,n,e,s)};p.exports=v},98476:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"scaleY",r,n,e,s)};p.exports=v},6207:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"scrollFactorX",r,e,o,i),l(a,"scrollFactorY",n,s,o,i)};p.exports=v},6607:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"scrollFactorX",r,n,e,s)};p.exports=v},72248:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"scrollFactorY",r,n,e,s)};p.exports=v},14036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){for(var n=0;n<t.length;n++)t[n].setTint(l,v,a,r);return t};p.exports=S},50159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e){return l(a,"visible",r,0,n,e)};p.exports=v},77597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"x",r,n,e,s)};p.exports=v},83194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s,o,i){return n==null&&(n=r),l(a,"x",r,e,o,i),l(a,"y",n,s,o,i)};p.exports=v},67678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43967),v=function(a,r,n,e,s){return l(a,"y",r,n,e,s)};p.exports=v},35850:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=new l);var o,i,h=a.length;if(h===1)o=a[0].x,i=a[0].y,a[0].x=r,a[0].y=n;else{var u=1,d=0;e===0&&(d=h-1,u=h-2),o=a[d].x,i=a[d].y,a[d].x=r,a[d].y=n;for(var f=0;f<h;f++)if(!(u>=h||u===-1)){var c=a[u],g=c.x,m=c.y;c.x=o,c.y=i,o=g,i=m,e===0?u--:u++}}return s.x=o,s.y=i,s};p.exports=v},8628:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33680),v=function(a){return l(a)};p.exports=v},21837:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7602),v=function(a,r,n,e,s){s===void 0&&(s=!1);var o=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=l(i*o,n,e);else for(i=0;i<a.length;i++)a[i][r]=l(i*o,n,e);return a};p.exports=v},21910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54261),v=function(a,r,n,e,s){s===void 0&&(s=!1);var o=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=l(i*o,n,e);else for(i=0;i<a.length;i++)a[i][r]=l(i*o,n,e);return a};p.exports=v},62054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][l]+=(a+v)/2:t[0][l]=(a+v)/2,t;var n=Math.abs(a-v)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][l]+=e*n+v;else for(e=0;e<t.length;e++)t[e][l]=e*n+v;return t};p.exports=S},79815:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=0;l<t.length;l++)t[l].visible=!t[l].visible;return t};p.exports=S},39665:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),v=function(a,r,n){n===void 0&&(n=0);for(var e=0;e<a.length;e++){var s=a[e];s.x=l(s.x,r.left-n,r.right+n),s.y=l(s.y,r.top-n,r.bottom+n)}return a};p.exports=v},61061:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(74943),r=t(81957),n=t(41138),e=t(35154),s=t(90126),o=new v({initialize:function(h,u,d){this.manager=h,this.key=u,this.type="frame",this.frames=this.getFrames(h.textureManager,e(d,"frames",[]),e(d,"defaultTextureKey",null),e(d,"sortFrames",!0)),this.frameRate=e(d,"frameRate",null),this.duration=e(d,"duration",null),this.msPerFrame,this.skipMissedFrames=e(d,"skipMissedFrames",!0),this.delay=e(d,"delay",0),this.repeat=e(d,"repeat",0),this.repeatDelay=e(d,"repeatDelay",0),this.yoyo=e(d,"yoyo",!1),this.showBeforeDelay=e(d,"showBeforeDelay",!1),this.showOnStart=e(d,"showOnStart",!1),this.hideOnComplete=e(d,"hideOnComplete",!1),this.randomFrame=e(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,h,u,d){u===null&&d===null?(i.frameRate=24,i.duration=24/h*1e3):u&&d===null?(i.duration=u,i.frameRate=h/(u/1e3)):(i.frameRate=d,i.duration=h/d*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,h){var u=this.getFrames(this.manager.textureManager,h);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var d=this.frames.slice(0,i),f=this.frames.slice(i);this.frames=d.concat(u,f)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,h,u,d){d===void 0&&(d=!0);var f=[],c,g,m=1,y,x;if(typeof h=="string"){if(x=h,!i.exists(x))return console.warn('Texture "%s" not found',x),f;var T=i.get(x),C=T.getFrameNames();d&&s(C),h=[],C.forEach(function(O){h.push({key:x,frame:O})})}if(!Array.isArray(h)||h.length===0)return f;for(y=0;y<h.length;y++){var A=h[y],w=e(A,"key",u);if(w){var P=e(A,"frame",0),M=i.getFrame(w,P);if(!M){console.warn('Texture "%s" not found',w);continue}g=new n(w,P,m,M),g.duration=e(A,"duration",0),g.isFirst=!c,c&&(c.nextFrame=g,g.prevFrame=c),f.push(g),c=g,m++}}if(f.length>0){g.isLast=!0,g.nextFrame=f[0],f[0].prevFrame=g;var R=1/(f.length-1);for(y=0;y<f.length;y++)f[y].progress=y*R}return f},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameByProgress:function(i){return i=l(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var h=i.currentFrame;h.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,h.nextFrame)},handleYoyoFrame:function(i,h){if(h||(h=!1),i.inReverse===!h&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=h),this.repeatAnimation(i);return}if(i.inReverse!==h&&i.repeatCounter===0){i.complete();return}i.forward=h;var u=h?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var h=i.currentFrame;h.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,h.prevFrame)},updateAndGetNextTick:function(i,h){i.setCurrentFrame(h),this.getNextTick(i)},removeFrame:function(i){var h=this.frames.indexOf(i);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){i.frames.push(h.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,h=1/(i-1),u,d=0;d<i;d++)u=this.frames[d],u.index=d+1,u.isFirst=!1,u.isLast=!1,u.progress=d*h,d===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[d+1])):d===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[d-1],u.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});p.exports=o},41138:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e,s,o){o===void 0&&(o=!1),this.textureKey=r,this.textureFrame=n,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=o},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=v},60848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42099),v=t(83419),a=t(90330),r=t(50792),n=t(74943),e=t(8443),s=t(95540),o=t(35154),i=t(36383),h=t(20283),u=t(41836),d=new v({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",c.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(f,c,g){var m=this.anims,y=this.mixes,x=typeof f=="string"?f:f.key,T=typeof c=="string"?c:c.key;if(m.has(x)&&m.has(T)){var C=y.get(x);C||(C={}),C[T]=g,y.set(x,C)}return this},removeMix:function(f,c){var g=this.mixes,m=typeof f=="string"?f:f.key,y=g.get(m);if(y)if(c){var x=typeof c=="string"?c:c.key;y.hasOwnProperty(x)&&delete y[x]}else c||g.delete(m);return this},getMix:function(f,c){var g=this.mixes,m=typeof f=="string"?f:f.key,y=typeof c=="string"?c:c.key,x=g.get(m);return x&&x.hasOwnProperty(y)?x[y]:0},add:function(f,c){return this.anims.has(f)?(console.warn("Animation key exists: "+f),this):(c.key=f,this.anims.set(f,c),this.emit(n.ADD_ANIMATION,f,c),this)},exists:function(f){return this.anims.has(f)},createFromAseprite:function(f,c,g){var m=[],y=this.game.cache.json.get(f);if(!y)return console.warn("No Aseprite data found for: "+f),m;var x=this,T=o(y,"meta",null),C=o(y,"frames",null);if(T&&C){var A=o(T,"frameTags",[]);A.forEach(function(w){var P=[],M=s(w,"name",null),R=s(w,"from",0),O=s(w,"to",0),U=s(w,"direction","forward");if(M&&(!c||c&&c.indexOf(M)>-1)){for(var X=0,W=R;W<=O;W++){var Y=W.toString(),N=C[Y];if(N){var z=s(N,"duration",i.MAX_SAFE_INTEGER);P.push({key:f,frame:Y,duration:z}),X+=z}}U==="reverse"&&(P=P.reverse());var B={key:M,frames:P,duration:X,yoyo:U==="pingpong"},I;g?g.anims&&(I=g.anims.create(B)):I=x.create(B),I&&m.push(I)}})}return m},create:function(f){var c=f.key,g=!1;return c&&(g=this.get(c),g?console.warn("AnimationManager key already exists: "+c):(g=new l(this,c,f),this.anims.set(c,g),this.emit(n.ADD_ANIMATION,c,g))),g},fromJSON:function(f,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof f=="string"&&(f=JSON.parse(f));var g=[];if(f.hasOwnProperty("anims")&&Array.isArray(f.anims)){for(var m=0;m<f.anims.length;m++)g.push(this.create(f.anims[m]));f.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=f.globalTimeScale)}else f.hasOwnProperty("key")&&f.type==="frame"&&g.push(this.create(f));return g},generateFrameNames:function(f,c){var g=o(c,"prefix",""),m=o(c,"start",0),y=o(c,"end",0),x=o(c,"suffix",""),T=o(c,"zeroPad",0),C=o(c,"outputArray",[]),A=o(c,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),C;var w=this.textureManager.get(f);if(!w)return C;var P;if(c)for(A||(A=h(m,y)),P=0;P<A.length;P++){var M=g+u(A[P],T,"0",1)+x;w.has(M)?C.push({key:f,frame:M}):console.warn('Frame "%s" not found in texture "%s"',M,f)}else for(A=w.getFrameNames(),P=0;P<A.length;P++)C.push({key:f,frame:A[P]});return C},generateFrameNumbers:function(f,c){var g=o(c,"start",0),m=o(c,"end",-1),y=o(c,"first",!1),x=o(c,"outputArray",[]),T=o(c,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),x;var C=this.textureManager.get(f);if(!C)return x;y&&C.has(y)&&x.push({key:f,frame:y}),T||(m===-1&&(m=C.frameTotal-2),T=h(g,m));for(var A=0;A<T.length;A++){var w=T[A];C.has(w)?x.push({key:f,frame:w}):console.warn('Frame "%s" not found in texture "%s"',w,f)}return x},get:function(f){return this.anims.get(f)},getAnimsFromTexture:function(f){for(var c=this.textureManager.get(f),g=c.key,m=this.anims.getArray(),y=[],x=0;x<m.length;x++)for(var T=m[x],C=T.frames,A=0;A<C.length;A++)if(C[A].textureKey===g){y.push(T.key);break}return y},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(f,c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++)c[g].anims.play(f);return this},staggerPlay:function(f,c,g,m){g===void 0&&(g=0),m===void 0&&(m=!0),Array.isArray(c)||(c=[c]);var y=c.length;m||y--;for(var x=0;x<c.length;x++){var T=g<0?Math.abs(g)*(y-x):g*x;c[x].anims.playAfterDelay(f,T)}return this},remove:function(f){var c=this.get(f);return c&&(this.emit(n.REMOVE_ANIMATION,f,c),this.anims.delete(f),this.removeMix(f)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(f){var c={anims:[],globalTimeScale:this.globalTimeScale};return f!==void 0&&f!==""?c.anims.push(this.anims.get(f).toJSON()):this.anims.each(function(g,m){c.anims.push(m.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=d},9674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42099),v=t(30976),a=t(83419),r=t(90330),n=t(74943),e=t(95540),s=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(o){var i=this.parent;if(o===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(o)||(o=[o]);for(var h=0;h<o.length;h++){var u=o[h];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(o){this.isPlaying&&this.stop();var i=this.animationManager,h=typeof o=="string"?o:e(o,"key",null),u=this.exists(h)?this.get(h):i.get(h);if(!u)console.warn("Missing animation: "+h);else{this.currentAnim=u;var d=u.getTotalFrames(),f=e(o,"frameRate",u.frameRate),c=e(o,"duration",u.duration);u.calculateDuration(this,d,c,f),this.delay=e(o,"delay",u.delay),this.repeat=e(o,"repeat",u.repeat),this.repeatDelay=e(o,"repeatDelay",u.repeatDelay),this.yoyo=e(o,"yoyo",u.yoyo),this.showBeforeDelay=e(o,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=e(o,"showOnStart",u.showOnStart),this.hideOnComplete=e(o,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=e(o,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=e(o,"randomFrame",u.randomFrame),this.timeScale=e(o,"timeScale",this.timeScale);var g=e(o,"startFrame",0);g>d&&(g=0),this.randomFrame&&(g=v(0,d-1));var m=u.frames[g];g===0&&!this.forward&&(m=u.getLastFrame()),this.currentFrame=m}return this.parent},pause:function(o){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),o!==void 0&&this.setCurrentFrame(o),this.parent},resume:function(o){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),o!==void 0&&this.setCurrentFrame(o),this.parent},playAfterDelay:function(o,i){if(!this.isPlaying)this.delayCounter=i,this.play(o,!0);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.nextAnim=o,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(o,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(o);else{var h=this.nextAnim,u=this.nextAnimsQueue;h&&u.unshift(h),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=o,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(o,i){i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent,d=typeof o=="string"?o:o.key;if(i&&this.isPlaying&&h.key===d)return u;if(h&&this.isPlaying){var f=this.animationManager.getMix(h.key,o);if(f>0)return this.playAfterDelay(o,f)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o)},playReverse:function(o,i){i===void 0&&(i=!1);var h=typeof o=="string"?o:o.key;return i&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o))},startAnimation:function(o){this.load(o);var i=this.currentAnim,h=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(o,i){var h=this.currentAnim;if(h){var u=this.currentFrame,d=this.parent,f=u.textureFrame;d.emit(o,h,u,d,f),i&&d.emit(i+h.key,h,u,d,f)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var o=this.currentFrame;if(!o)return 0;var i=o.progress;return this.inReverse&&(i*=-1),i},setProgress:function(o){return this.forward||(o=1-o),this.setCurrentFrame(this.currentAnim.getFrameByProgress(o)),this.parent},setRepeat:function(o){return this.repeatCounter=o===-1?Number.MAX_VALUE:o,this.parent},globalRemove:function(o,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(o,i){o===void 0&&(o=!1),i===void 0&&(i=!1);var h=this.currentAnim,u=this.parent;return h?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!o,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(o)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(o)}return this.parent},stopAfterDelay:function(o){return this._pendingStop=1,this._pendingStopValue=o,this.parent},stopAfterRepeat:function(o){return o===void 0&&(o=1),this.repeatCounter!==-1&&o>this.repeatCounter&&(o=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=o,this.parent},stopOnFrame:function(o){return this._pendingStop=3,this._pendingStopValue=o,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(o,i){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?h.nextFrame(this):h.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(o){var i=this.parent;return this.currentFrame=o,i.texture=o.frame.texture,i.frame=o.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),o.setAlpha&&(i.alpha=o.alpha),i.setSizeToFrame(),i._originComponent&&(o.frame.customPivot?i.setOrigin(o.frame.pivotX,o.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===o&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(o){return this.anims?this.anims.get(o):null},exists:function(o){return this.anims?this.anims.has(o):!1},create:function(o){var i=o.key,h=!1;return i&&(h=this.get(i),h?console.warn("Animation key already exists: "+i):(h=new l(this,i,o),this.anims||(this.anims=new r),this.anims.set(i,h))),h},createFromAseprite:function(o,i){return this.animationManager.createFromAseprite(o,i,this.parent)},generateFrameNames:function(o,i){return this.animationManager.generateFrameNames(o,i)},generateFrameNumbers:function(o,i){return this.animationManager.generateFrameNumbers(o,i)},remove:function(o){var i=this.get(o);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(o)),i},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=s},57090:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},25312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},89580:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},52860:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},63850:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},99085:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},28087:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},1794:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},52562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},57953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},68339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},74943:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(90330),a=t(50792),r=t(24736),n=new l({initialize:function(){this.entries=new v,this.events=new a},add:function(e,s){return this.entries.set(e,s),this.events.emit(r.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=n},24047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2161),v=t(83419),a=t(8443),r=new v({initialize:function(e){this.game=e,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new l),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});p.exports=r},51464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},59261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},24736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(39506),r=t(50792),n=t(19715),e=t(87841),s=t(61340),o=t(80333),i=t(26099),h=new l({Extends:r,Mixins:[v.AlphaSingle,v.Visible],initialize:function(d,f,c,g){d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=d,this._y=f,this._width=c,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=o("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(c/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,d){return u===void 0&&(u=.5),d===void 0&&(d=u),this.originX=u,this.originY=d,this},getScroll:function(u,d,f){f===void 0&&(f=new i);var c=this.width*.5,g=this.height*.5;return f.x=u-c,f.y=d-g,this.useBounds&&(f.x=this.clampX(f.x),f.y=this.clampY(f.y)),f},centerOnX:function(u){var d=this.width*.5;return this.midPoint.x=u,this.scrollX=u-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var d=this.height*.5;return this.midPoint.y=u,this.scrollY=u-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,d){return this.centerOnX(u),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,d=this.width*.5,f=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-d,this.scrollY=u.centerY-f}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var d=this.matrix.matrix,f=d[0],c=d[1],g=d[2],m=d[3],y=f*m-c*g;if(!y)return u;var x=d[4],T=d[5],C=this.scrollX,A=this.scrollY,w=this.width,P=this.height,M=this.y,R=M+P,O=this.x,U=O+w,X=this.culledObjects,W=u.length;y=1/y,X.length=0;for(var Y=0;Y<W;++Y){var N=u[Y];if(!N.hasOwnProperty("width")||N.parentContainer){X.push(N);continue}var z=N.width,B=N.height,I=N.x-C*N.scrollFactorX-z*N.originX,G=N.y-A*N.scrollFactorY-B*N.originY,H=I*f+G*g+x,K=I*c+G*m+T,Z=(I+z)*f+(G+B)*g+x,Q=(I+z)*c+(G+B)*m+T;Z>O&&H<U&&Q>M&&K<R&&X.push(N)}return X},getWorldPoint:function(u,d,f){f===void 0&&(f=new i);var c=this.matrix.matrix,g=c[0],m=c[1],y=c[2],x=c[3],T=c[4],C=c[5],A=g*x-m*y;if(!A)return f.x=u,f.y=d,f;A=1/A;var w=x*A,P=-m*A,M=-y*A,R=g*A,O=(y*C-x*T)*A,U=(m*T-g*C)*A,X=Math.cos(this.rotation),W=Math.sin(this.rotation),Y=this.zoomX,N=this.zoomY,z=this.scrollX,B=this.scrollY,I=u+(z*X-B*W)*Y,G=d+(z*W+B*X)*N;return f.x=I*w+G*M+O,f.y=I*P+G*R+U,f},ignore:function(u){var d=this.id;Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var c=u[f];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=d}return this},clampX:function(u){var d=this._bounds,f=this.displayWidth,c=d.x+(f-this.width)/2,g=Math.max(c,c+d.width-f);return u<c?u=c:u>g&&(u=g),u},clampY:function(u){var d=this._bounds,f=this.displayHeight,c=d.y+(f-this.height)/2,g=Math.max(c,c+d.height-f);return u<c?u=c:u>g&&(u=g),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=a(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=o(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,d,f,c,g){return g===void 0&&(g=!1),this._bounds.setTo(u,d,f,c),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var d=this._bounds;return u.setTo(d.x,d.y,d.width,d.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,d){return d===void 0&&(d=u),this.x=u,this.y=d,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=d;var f=u.sys;return this.sceneManager=f.game.scene,this.scaleManager=f.scale,this.cameraManager=f.cameras,this.updateSystem(),this},setScroll:function(u,d){return d===void 0&&(d=u),this.scrollX=u,this.scrollY=d,this},setSize:function(u,d){return d===void 0&&(d=u),this.width=u,this.height=d,this},setViewport:function(u,d,f,c){return this.x=u,this.y=d,this.width=f,this.height=c,this},setZoom:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),u===0&&(u=.001),d===0&&(d=.001),this.zoomX=u,this.zoomY=d,this},setMask:function(u,d){return d===void 0&&(d=!0),this.mask=u,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;u&&!this._customViewport?d.customViewports++:!u&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=h},38058:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71911),v=t(67502),a=t(45319),r=t(83419),n=t(31401),e=t(20052),s=t(19715),o=t(28915),i=t(87841),h=t(26099),u=new r({Extends:l,Mixins:[n.PostPipeline],initialize:function(f,c,g,m){l.call(this,f,c,g,m),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(d,f){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=f):this.deadzone=new i(0,0,d,f),this._follow){var c=this.width/2,g=this.height/2,m=this._follow.x-this.followOffset.x,y=this._follow.y-this.followOffset.y;this.midPoint.set(m,y),this.scrollX=m-c,this.scrollY=y-g}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,f,c,g,m,y){return this.fadeEffect.start(!1,d,f,c,g,!0,m,y)},fadeOut:function(d,f,c,g,m,y){return this.fadeEffect.start(!0,d,f,c,g,!0,m,y)},fadeFrom:function(d,f,c,g,m,y,x){return this.fadeEffect.start(!1,d,f,c,g,m,y,x)},fade:function(d,f,c,g,m,y,x){return this.fadeEffect.start(!0,d,f,c,g,m,y,x)},flash:function(d,f,c,g,m,y,x){return this.flashEffect.start(d,f,c,g,m,y,x)},shake:function(d,f,c,g,m){return this.shakeEffect.start(d,f,c,g,m)},pan:function(d,f,c,g,m,y,x){return this.panEffect.start(d,f,c,g,m,y,x)},rotateTo:function(d,f,c,g,m,y,x){return this.rotateToEffect.start(d,f,c,g,m,y,x)},zoomTo:function(d,f,c,g,m,y){return this.zoomEffect.start(d,f,c,g,m,y)},preRender:function(){this.renderList.length=0;var d=this.width,f=this.height,c=d*.5,g=f*.5,m=this.zoomX,y=this.zoomY,x=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(m)&&Number.isInteger(y);var T=d*this.originX,C=f*this.originY,A=this._follow,w=this.deadzone,P=this.scrollX,M=this.scrollY;w&&v(w,this.midPoint.x,this.midPoint.y);var R=!1;if(A&&!this.panEffect.isRunning){var O=this.lerp,U=A.x-this.followOffset.x,X=A.y-this.followOffset.y;w?(U<w.x?P=o(P,P-(w.x-U),O.x):U>w.right&&(P=o(P,P+(U-w.right),O.x)),X<w.y?M=o(M,M-(w.y-X),O.y):X>w.bottom&&(M=o(M,M+(X-w.bottom),O.y))):(P=o(P,U-T,O.x),M=o(M,X-C,O.y)),R=!0}this.roundPixels&&(P=Math.floor(P),M=Math.floor(M)),this.useBounds&&(P=this.clampX(P),M=this.clampY(M)),this.scrollX=P,this.scrollY=M;var W=P+c,Y=M+g;this.midPoint.set(W,Y);var N=Math.floor(d/m+.5),z=Math.floor(f/y+.5),B=Math.floor(W-N/2+.5),I=Math.floor(Y-z/2+.5);this.worldView.setTo(B,I,N,z),x.applyITRS(Math.floor(this.x+T+.5),Math.floor(this.y+C+.5),this.rotation,m,y),x.translate(-T,-C),this.shakeEffect.preRender(),R&&this.emit(s.FOLLOW_UPDATE,this,A)},setLerp:function(d,f){return d===void 0&&(d=1),f===void 0&&(f=d),this.lerp.set(d,f),this},setFollowOffset:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=0),this.followOffset.set(d,f),this},startFollow:function(d,f,c,g,m,y){f===void 0&&(f=!1),c===void 0&&(c=1),g===void 0&&(g=c),m===void 0&&(m=0),y===void 0&&(y=m),this._follow=d,this.roundPixels=f,c=a(c,0,1),g=a(g,0,1),this.lerp.set(c,g),this.followOffset.set(m,y);var x=this.width/2,T=this.height/2,C=d.x-m,A=d.y-y;return this.midPoint.set(C,A),this.scrollX=C-x,this.scrollY=A-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,f){this.visible&&(this.rotateToEffect.update(d,f),this.panEffect.update(d,f),this.zoomEffect.update(d,f),this.shakeEffect.update(d,f),this.flashEffect.update(d,f),this.fadeEffect.update(d,f))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=u},32743:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38058),v=t(83419),a=t(95540),r=t(37277),n=t(37303),e=t(97480),s=t(44594),o=new v({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(s.BOOT,this.boot,this),h.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(s.UPDATE,this.update,this),h.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,h,u,d,f,c){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),f===void 0&&(f=!1),c===void 0&&(c="");var g=new l(i,h,u,d);return g.setName(c),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),f&&(this.main=g),g},addExisting:function(i,h){h===void 0&&(h=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),h&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,h=1,u=0;u<32;u++){for(var d=!1,f=0;f<i.length;f++){var c=i[f];if(c&&c.id===h){d=!0;continue}}if(d)h=h<<1;else return h}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var h=0,u=this.cameras,d=0;d<u.length;d++){var f=u[d];(!i||i&&f.visible)&&h++}return h},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var h=this.scene.sys.scale.width,u=this.scene.sys.scale.height,d=0;d<i.length;d++){var f=i[d],c=a(f,"x",0),g=a(f,"y",0),m=a(f,"width",h),y=a(f,"height",u),x=this.add(c,g,m,y);x.name=a(f,"name",""),x.zoom=a(f,"zoom",1),x.rotation=a(f,"rotation",0),x.scrollX=a(f,"scrollX",0),x.scrollY=a(f,"scrollY",0),x.roundPixels=a(f,"roundPixels",!1),x.visible=a(f,"visible",!0);var T=a(f,"backgroundColor",!1);T&&x.setBackgroundColor(T);var C=a(f,"bounds",null);if(C){var A=a(C,"x",0),w=a(C,"y",0),P=a(C,"width",h),M=a(C,"height",u);x.setBounds(A,w,P,M)}}return this},getCamera:function(i){for(var h=this.cameras,u=0;u<h.length;u++)if(h[u].name===i)return h[u];return null},getCamerasBelowPointer:function(i){for(var h=this.cameras,u=i.x,d=i.y,f=[],c=0;c<h.length;c++){var g=h[c];g.visible&&g.inputEnabled&&n(g,u,d)&&f.unshift(g)}return f},remove:function(i,h){h===void 0&&(h=!0),Array.isArray(i)||(i=[i]);for(var u=0,d=this.cameras,f=0;f<i.length;f++){var c=d.indexOf(i[f]);c!==-1&&(h?d[c].destroy():d[c].renderList=[],d.splice(c,1),u++)}return!this.main&&d[0]&&(this.main=d[0]),u},render:function(i,h){for(var u=this.scene,d=this.cameras,f=0;f<d.length;f++){var c=d[f];if(c.visible&&c.alpha>0){c.preRender();var g=this.getVisibleChildren(h.getChildren(),c);i.render(u,g,c)}}},getVisibleChildren:function(i,h){return i.filter(function(u){return u.willRender(h)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,h)},onResize:function(i,h,u,d,f){for(var c=0;c<this.cameras.length;c++){var g=this.cameras[c];g._x===0&&g._y===0&&g._width===d&&g._height===f&&g.setSize(h.width,h.height)}},resize:function(i,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,h)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var h=this.systems.events;h.off(s.UPDATE,this.update,this),h.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",o,"cameras"),p.exports=o},5020:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,s,o,i,h,u,d){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=s,this.green=o,this.blue=i,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d;var f=n?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(f,this.camera,this,e,s,o,i),this.camera},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,o=this.red/255,i=this.green/255,h=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(h,i,o,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},10662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=new v({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,s,o,i,h,u){return n===void 0&&(n=250),e===void 0&&(e=255),s===void 0&&(s=255),o===void 0&&(o=255),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=s,this.blue=o,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(a.FLASH_START,this.camera,this,n,e,s,o),this.camera)},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var s=this.camera,o=this.red/255,i=this.green/255,h=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(h,i,o,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},20359:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(62640),r=t(19715),n=t(26099),e=new v({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,o,i,h,u,d,f){i===void 0&&(i=1e3),h===void 0&&(h=a.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(s,o),c.getScroll(s,o,this.current),typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=f,this.camera.emit(r.PAN_START,this.camera,this,i,s,o)),c},update:function(s,o){if(this.isRunning){this._elapsed+=o;var i=l(this._elapsed/this.duration,0,1);this.progress=i;var h=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);h.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*u,f=this.source.y+(this.current.y-this.source.y)*u;h.setScroll(d,f),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,d,f)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,i,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},34208:(p,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=t(62640),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,o,i,h,u,d){o===void 0&&(o=1e3),i===void 0&&(i=r.Linear),h===void 0&&(h=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var f=e;e<0?(f=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;f=f-Math.floor(f/c)*c;var g=this.camera;if(!h&&this.isRunning)return g;if(this.isRunning=!0,this.duration=o,this.progress=0,this.source=g.rotation,this.destination=f,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.shortestPath){var m=0,y=0;this.destination>this.source?m=Math.abs(this.destination-this.source):m=Math.abs(this.destination+c)-this.source,this.source>this.destination?y=Math.abs(this.source-this.destination):y=Math.abs(this.source+c)-this.destination,m<y?this.clockwise=!0:m>y&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,o,f),g},update:function(e,s){if(this.isRunning){this._elapsed+=s;var o=l(this._elapsed/this.duration,0,1);this.progress=o;var i=this.camera;if(this._elapsed<this.duration){var h=this.ease(o);this.current=i.rotation;var u=0,d=360*Math.PI/180,f=this.destination,c=this.current;this.clockwise===!1&&(f=this.current,c=this.destination),f>=c?u=Math.abs(f-c):u=Math.abs(f+d)-c;var g=0;this.clockwise?g=i.rotation+u*h:g=i.rotation-u*h,i.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,g)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,o,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=n},30330:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(19715),r=t(26099),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,h){return e===void 0&&(e=100),s===void 0&&(s=.05),o===void 0&&(o=!1),i===void 0&&(i=null),h===void 0&&(h=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=h,this.camera.emit(a.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(this.isRunning)if(this._elapsed+=s,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var o=this.intensity,i=this.camera.width,h=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*o.x*i*2-o.x*i)*u,this._offsetY=(Math.random()*o.y*h*2-o.y*h)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=n},45641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(62640),r=t(19715),n=new v({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,o,i,h,u){s===void 0&&(s=1e3),o===void 0&&(o=a.Linear),i===void 0&&(i=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene);var d=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=d.zoom,this.destination=e,typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(r.ZOOM_START,this.camera,this,s,e)),d},update:function(e,s){this.isRunning&&(this._elapsed+=s,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=n},20052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},32726:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},87807:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},45917:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},95666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},47056:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},91261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},45047:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},81927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},74264:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},54419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},79330:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},93183:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},80112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},62252:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},86017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},539:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},51892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},19715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(35154),a=new l({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=v(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=v(n,"speed.x",0),this.speedY=v(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},58818:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(35154),a=new l({initialize:function(n){this.camera=v(n,"camera",null),this.left=v(n,"left",null),this.right=v(n,"right",null),this.up=v(n,"up",null),this.down=v(n,"down",null),this.zoomIn=v(n,"zoomIn",null),this.zoomOut=v(n,"zoomOut",null),this.zoomSpeed=v(n,"zoomSpeed",.01),this.minZoom=v(n,"minZoom",.001),this.maxZoom=v(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=v(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=v(n,"acceleration.x",0),this.accelY=v(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=v(n,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=v(n,"drag.x",0),this.dragY=v(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var o=v(n,"maxSpeed",null);typeof o=="number"?(this.maxSpeedX=o,this.maxSpeedY=o):(this.maxSpeedX=v(n,"maxSpeed.x",0),this.maxSpeedY=v(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*r|0),this._speedY!==0&&(n.scrollY-=this._speedY*r|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=a},38865:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=l},69547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(8054),a=t(42363),r=t(82264),n=t(95540),e=t(35154),s=t(41212),o=t(29747),i=t(75508),h=t(36060),u=t(80333),d=new l({initialize:function(c){c===void 0&&(c={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],m="#ffffff",y=e(c,"scale",null);this.width=e(y,"width",1024,c),this.height=e(y,"height",768,c),this.zoom=e(y,"zoom",1,c),this.parent=e(y,"parent",void 0,c),this.scaleMode=e(y,y?"mode":"scaleMode",0,c),this.expandParent=e(y,"expandParent",!0,c),this.autoRound=e(y,"autoRound",!1,c),this.autoCenter=e(y,"autoCenter",0,c),this.resizeInterval=e(y,"resizeInterval",500,c),this.fullscreenTarget=e(y,"fullscreenTarget",null,c),this.minWidth=e(y,"min.width",0,c),this.maxWidth=e(y,"max.width",0,c),this.minHeight=e(y,"min.height",0,c),this.maxHeight=e(y,"max.height",0,c),this.snapWidth=e(y,"snap.width",0,c),this.snapHeight=e(y,"snap.height",0,c),this.renderType=e(c,"type",v.AUTO),this.canvas=e(c,"canvas",null),this.context=e(c,"context",null),this.canvasStyle=e(c,"canvasStyle",null),this.customEnvironment=e(c,"customEnvironment",!1),this.sceneConfig=e(c,"scene",null),this.seed=e(c,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(c,"title",""),this.gameURL=e(c,"url","https://phaser.io/"+v.LOG_VERSION),this.gameVersion=e(c,"version",""),this.autoFocus=e(c,"autoFocus",!0),this.stableSort=e(c,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(c,"dom.createContainer",!1),this.domPointerEvents=e(c,"dom.pointerEvents","none"),this.inputKeyboard=e(c,"input.keyboard",!0),this.inputKeyboardEventTarget=e(c,"input.keyboard.target",window),this.inputKeyboardCapture=e(c,"input.keyboard.capture",[]),this.inputMouse=e(c,"input.mouse",!0),this.inputMouseEventTarget=e(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(c,"input.touch",r.input.touch),this.inputTouchEventTarget=e(c,"input.touch.target",null),this.inputTouchCapture=e(c,"input.touch.capture",!0),this.inputActivePointers=e(c,"input.activePointers",1),this.inputSmoothFactor=e(c,"input.smoothFactor",0),this.inputWindowEvents=e(c,"input.windowEvents",!0),this.inputGamepad=e(c,"input.gamepad",!1),this.inputGamepadEventTarget=e(c,"input.gamepad.target",window),this.disableContextMenu=e(c,"disableContextMenu",!1),this.audio=e(c,"audio",{}),this.hideBanner=e(c,"banner",null)===!1,this.hidePhaser=e(c,"banner.hidePhaser",!1),this.bannerTextColor=e(c,"banner.text",m),this.bannerBackgroundColor=e(c,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(c,"fps",null),this.disablePreFX=e(c,"disablePreFX",!1),this.disablePostFX=e(c,"disablePostFX",!1);var x=e(c,"render",null);this.pipeline=e(x,"pipeline",null,c),this.autoMobilePipeline=e(x,"autoMobilePipeline",!0,c),this.defaultPipeline=e(x,"defaultPipeline",h.MULTI_PIPELINE,c),this.antialias=e(x,"antialias",!0,c),this.antialiasGL=e(x,"antialiasGL",!0,c),this.mipmapFilter=e(x,"mipmapFilter","",c),this.desynchronized=e(x,"desynchronized",!1,c),this.roundPixels=e(x,"roundPixels",!1,c),this.pixelArt=e(x,"pixelArt",this.zoom!==1,c),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(x,"transparent",!1,c),this.clearBeforeRender=e(x,"clearBeforeRender",!0,c),this.preserveDrawingBuffer=e(x,"preserveDrawingBuffer",!1,c),this.premultipliedAlpha=e(x,"premultipliedAlpha",!0,c),this.failIfMajorPerformanceCaveat=e(x,"failIfMajorPerformanceCaveat",!1,c),this.powerPreference=e(x,"powerPreference","default",c),this.batchSize=e(x,"batchSize",4096,c),this.maxTextures=e(x,"maxTextures",-1,c),this.maxLights=e(x,"maxLights",10,c);var T=e(c,"backgroundColor",0);this.backgroundColor=u(T),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(c,"callbacks.preBoot",o),this.postBoot=e(c,"callbacks.postBoot",o),this.physics=e(c,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(c,"loader.baseURL",""),this.loaderPath=e(c,"loader.path",""),this.loaderMaxParallelDownloads=e(c,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(c,"loader.crossOrigin",void 0),this.loaderResponseType=e(c,"loader.responseType",""),this.loaderAsync=e(c,"loader.async",!0),this.loaderUser=e(c,"loader.user",""),this.loaderPassword=e(c,"loader.password",""),this.loaderTimeout=e(c,"loader.timeout",0),this.loaderMaxRetries=e(c,"loader.maxRetries",2),this.loaderWithCredentials=e(c,"loader.withCredentials",!1),this.loaderImageLoadType=e(c,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(c,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(c,"fx.glow.quality",.1),this.glowFXDistance=e(c,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var C=e(c,"plugins",null),A=a.DefaultScene;C&&(Array.isArray(C)?this.defaultPlugins=C:s(C)&&(this.installGlobalPlugins=n(C,"global",[]),this.installScenePlugins=n(C,"scene",[]),Array.isArray(C.default)?A=C.default:Array.isArray(C.defaultMerge)&&(A=A.concat(C.defaultMerge)))),this.defaultPlugins=A;var w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(c,"images.default",w+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(c,"images.missing",w+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});p.exports=d},86054:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20623),v=t(27919),a=t(8054),r=t(89357),n=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==a.HEADLESS)if(s.renderType===a.AUTO&&(s.renderType=r.webGL?a.WEBGL:a.CANVAS),s.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||v.disableSmoothing();var o=e.scale.baseSize,i=o.width,h=o.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=h):e.canvas=v.create(e,i,h,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||l.setCrisp(e.canvas),s.renderType!==a.HEADLESS){var u,d;u=t(68627),d=t(74797),s.renderType===a.WEBGL?e.renderer=new d(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};p.exports=n},96391:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8054),v=function(a){var r=a.config;if(!r.hideBanner){var n="WebGL";r.renderType===l.CANVAS?n="Canvas":r.renderType===l.HEADLESS&&(n="Headless");var e=r.audio,s=a.device.audio,o;if(s.webAudio&&!e.disableWebAudio?o="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?o="No Audio":o="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var i="",h=[i];if(Array.isArray(r.bannerBackgroundColor)){var u;r.bannerBackgroundColor.forEach(function(f){i=i.concat("%c "),h.push("background: "+f),u=f}),h[h.length-1]="color: "+r.bannerTextColor+"; background: "+u}else i=i.concat("%c "),h.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);h.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var d="";r.hidePhaser||(i=i.concat("Phaser v"+l.VERSION+d+" ("+n+" | "+o+")")),i=i.concat(" %c "+r.gameURL),h[0]=i,console.log.apply(console,h)}}};p.exports=v},50127:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),v=t(60848),a=t(24047),r=t(27919),n=t(83419),e=t(69547),s=t(83719),o=t(86054),i=t(45893),h=t(96391),u=t(82264),d=t(57264),f=t(50792),c=t(8443),g=t(7003),m=t(37277),y=t(77332),x=t(76531),T=t(60903),C=t(69442),A=t(17130),w=t(65898),P=t(51085),M=t(14747),R=new n({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new f,this.anims=new v(this),this.textures=new A(this),this.cache=new a(this),this.registry=new i(this,new f),this.input=new g(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=u,this.scale=new x(this,this.config),this.sound=null,this.sound=M.create(this),this.loop=new w(this,this.config.fps),this.plugins=new y(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!m.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),o(this),s(this),h(this),l(this.canvas,this.config.parent),this.textures.once(C.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),P(this);var O=this.events;O.on(c.HIDDEN,this.onHidden,this),O.on(c.VISIBLE,this.onVisible,this),O.on(c.BLUR,this.onBlur,this),O.on(c.FOCUS,this.onFocus,this)},step:function(O,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(c.PRE_STEP,O,U),X.emit(c.STEP,O,U),this.scene.update(O,U),X.emit(c.POST_STEP,O,U);var W=this.renderer;W.preRender(),X.emit(c.PRE_RENDER,W,O,U),this.scene.render(W),W.postRender(),X.emit(c.POST_RENDER,W,O,U)}},headlessStep:function(O,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(c.PRE_STEP,O,U),X.emit(c.STEP,O,U),this.scene.update(O,U),X.emit(c.POST_STEP,O,U),this.scene.isProcessing=!1,X.emit(c.PRE_RENDER,null,O,U),X.emit(c.POST_RENDER,null,O,U)}},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},pause:function(){var O=this.isPaused;this.isPaused=!0,O||this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME,this.loop.pauseDuration)},resume:function(){var O=this.isPaused;this.isPaused=!1,O&&this.events.emit(c.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(O,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=O,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=R},65898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(35154),a=t(29747),r=t(43092),n=new l({initialize:function(s,o){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=v(o,"min",5),this.targetFps=v(o,"target",60),this.fpsLimit=v(o,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=v(o,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(o,"deltaHistory",10),this.panicMax=v(o,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(o,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,o=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=o[s],e=Math.min(e,this._min)),o[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var h=0,u=0;u<i;u++)h+=o[u];return h/=i,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=n},51085:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8443),v=function(a){var r,n=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(o){document[o+"Hidden"]!==void 0&&(document.hidden=function(){return document[o+"Hidden"]},r=o+"visibilitychange")})}var s=function(o){document.hidden||o.type==="pause"?n.emit(l.HIDDEN):n.emit(l.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){n.emit(l.BLUR)},window.onfocus=function(){n.emit(l.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};p.exports=v},97217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},47548:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},19814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},68446:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},41700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},25432:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},65942:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},59211:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},47789:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},39066:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},460:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},16175:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},42331:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},11966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},32969:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="systemready"},94830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},8443:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5290),v=t(27919),a=t(35154),r=function(n){var e=a(n,"data",[]),s=a(n,"canvas",null),o=a(n,"palette",l),i=a(n,"pixelWidth",1),h=a(n,"pixelHeight",i),u=a(n,"resizeCanvas",!0),d=a(n,"clearCanvas",!0),f=a(n,"preRender",null),c=a(n,"postRender",null),g=Math.floor(Math.abs(e[0].length*i)),m=Math.floor(Math.abs(e.length*h));s||(s=v.create2D(this,g,m),u=!1,d=!1),u&&(s.width=g,s.height=m);var y=s.getContext("2d",{willReadFrequently:!0});d&&y.clearRect(0,0,g,m),f&&f(s,y);for(var x=0;x<e.length;x++)for(var T=e[x],C=0;C<T.length;C++){var A=T[C];A!=="."&&A!==" "&&(y.fillStyle=o[A],y.fillRect(C*i,x*h,i,h))}return c&&c(s,y),s};p.exports=r},15822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(36316),a=t(80021),r=t(26099),n=new l({Extends:a,initialize:function(s,o,i,h){a.call(this,"CubicBezierCurve"),Array.isArray(s)&&(h=new r(s[6],s[7]),i=new r(s[4],s[5]),o=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.p0,i=this.p1,h=this.p2,u=this.p3;return s.set(v(e,o.x,i.x,h.x,u.x),v(e,o.y,i.y,h.y,u.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var s=e.points,o=new r(s[0],s[1]),i=new r(s[2],s[3]),h=new r(s[4],s[5]),u=new r(s[6],s[7]);return new n(o,i,h,u)},p.exports=n},80021:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(19217),a=t(87841),r=t(26099),n=new l({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new a),s===void 0&&(s=16);var o=this.getLength();s>o&&(s=o/2);var i=Math.max(1,Math.round(o/s));return v(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),o=Math.max(1,s/e);return this.getSpacedPoints(o)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],o,i=this.getPoint(0,this._tmpVec2A),h=0;s.push(0);for(var u=1;u<=e;u++)o=this.getPoint(u/e,this._tmpVec2B),h+=o.distance(i),s.push(h),i.copy(o);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var o=this.getUtoTmapping(e);return this.getPoint(o,s)},getPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)o.push(this.getPoint(i/e));return o},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,o){o===void 0&&(o=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var h=this.getUtoTmapping(i/e,null,e);o.push(this.getPoint(h))}return o},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new r);var o=1e-4,i=e-o,h=e+o;return i<0&&(i=0),h>1&&(h=1),this.getPoint(i,this._tmpVec2A),this.getPoint(h,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var o=this.getUtoTmapping(e);return this.getTangent(o,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,o){var i=this.getLengths(o),h=0,u=i.length,d;s?d=Math.min(s,i[u-1]):d=e*i[u-1];for(var f=0,c=u-1,g;f<=c;)if(h=Math.floor(f+(c-f)/2),g=i[h]-d,g<0)f=h+1;else if(g>0)c=h-1;else{c=h;break}if(h=c,i[h]===d)return h/(u-1);var m=i[h],y=i[h+1],x=y-m,T=(d-m)/x;return(h+T)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=n},73825:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(80021),a=t(39506),r=t(35154),n=t(43396),e=t(26099),s=new l({Extends:v,initialize:function(i,h,u,d,f,c,g,m){if(typeof i=="object"){var y=i;i=r(y,"x",0),h=r(y,"y",0),u=r(y,"xRadius",0),d=r(y,"yRadius",u),f=r(y,"startAngle",0),c=r(y,"endAngle",360),g=r(y,"clockwise",!1),m=r(y,"rotation",0)}else d===void 0&&(d=u),f===void 0&&(f=0),c===void 0&&(c=360),g===void 0&&(g=!1),m===void 0&&(m=0);v.call(this,"EllipseCurve"),this.p0=new e(i,h),this._xRadius=u,this._yRadius=d,this._startAngle=a(f),this._endAngle=a(c),this._clockwise=g,this._rotation=a(m)},getStartPoint:function(o){return o===void 0&&(o=new e),this.getPoint(0,o)},getResolution:function(o){return o*2},getPoint:function(o,i){i===void 0&&(i=new e);for(var h=Math.PI*2,u=this._endAngle-this._startAngle,d=Math.abs(u)<Number.EPSILON;u<0;)u+=h;for(;u>h;)u-=h;u<Number.EPSILON&&(d?u=0:u=h),this._clockwise&&!d&&(u===h?u=-h:u=u-h);var f=this._startAngle+o*u,c=this.p0.x+this._xRadius*Math.cos(f),g=this.p0.y+this._yRadius*Math.sin(f);if(this._rotation!==0){var m=Math.cos(this._rotation),y=Math.sin(this._rotation),x=c-this.p0.x,T=g-this.p0.y;c=x*m-T*y+this.p0.x,g=x*y+T*m+this.p0.y}return i.set(c,g)},setXRadius:function(o){return this.xRadius=o,this},setYRadius:function(o){return this.yRadius=o,this},setWidth:function(o){return this.xRadius=o/2,this},setHeight:function(o){return this.yRadius=o/2,this},setStartAngle:function(o){return this.startAngle=o,this},setEndAngle:function(o){return this.endAngle=o,this},setClockwise:function(o){return this.clockwise=o,this},setRotation:function(o){return this.rotation=o,this},x:{get:function(){return this.p0.x},set:function(o){this.p0.x=o}},y:{get:function(){return this.p0.y},set:function(o){this.p0.y=o}},xRadius:{get:function(){return this._xRadius},set:function(o){this._xRadius=o}},yRadius:{get:function(){return this._yRadius},set:function(o){this._yRadius=o}},startAngle:{get:function(){return n(this._startAngle)},set:function(o){this._startAngle=a(o)}},endAngle:{get:function(){return n(this._endAngle)},set:function(o){this._endAngle=a(o)}},clockwise:{get:function(){return this._clockwise},set:function(o){this._clockwise=o}},angle:{get:function(){return n(this._rotation)},set:function(o){this._rotation=a(o)}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=o}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});s.fromJSON=function(o){return new s(o)},p.exports=s},33951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(80021),a=t(19217),r=t(87841),n=t(26099),e=new l({Extends:v,initialize:function(o,i){v.call(this,"LineCurve"),Array.isArray(o)&&(i=new n(o[2],o[3]),o=new n(o[0],o[1])),this.p0=o,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),a([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new n),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,o){return o===void 0&&(o=new n),s===1?o.copy(this.p1):(o.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),o)},getPointAt:function(s,o){return this.getPoint(s,o)},getTangent:function(s,o){return o===void 0&&(o=new n),o.copy(this.p1).subtract(this.p0).normalize(),o},getUtoTmapping:function(s,o,i){var h;if(o){var u=this.getLengths(i),d=u[u.length-1],f=Math.min(o,d);h=f/d}else h=s;return h},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var o=s.points,i=new n(o[0],o[1]),h=new n(o[2],o[3]);return new e(i,h)},p.exports=e},14744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(80021),a=t(32112),r=t(26099),n=new l({Extends:v,initialize:function(s,o,i){v.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new r(s[4],s[5]),o=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=o,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.p0,i=this.p1,h=this.p2;return s.set(a(e,o.x,i.x,h.x),a(e,o.y,i.y,h.y))},draw:function(e,s){s===void 0&&(s=32);var o=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<o.length;i++)e.lineTo(o[i].x,o[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var s=e.points,o=new r(s[0],s[1]),i=new r(s[2],s[3]),h=new r(s[4],s[5]);return new n(o,i,h)},p.exports=n},42534:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87842),v=t(83419),a=t(80021),r=t(26099),n=new v({Extends:a,initialize:function(s){s===void 0&&(s=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var o=new r;typeof e[s]=="number"?(o.x=e[s],o.y=e[s+1],s++):Array.isArray(e[s])?(o.x=e[s][0],o.y=e[s][1]):(o.x=e[s].x,o.y=e[s].y),this.points.push(o)}return this},addPoint:function(e,s){var o=new r(e,s);return this.points.push(o),o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new r);var o=this.points,i=(o.length-1)*e,h=Math.floor(i),u=i-h,d=o[h===0?h:h-1],f=o[h],c=o[h>o.length-2?o.length-1:h+1],g=o[h>o.length-3?o.length-1:h+2];return s.set(l(u,d.x,f.x,c.x,g.x),l(u,d.y,f.y,c.y,g.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},p.exports=n},25410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(n,e){this.active=!1,this.p0=new v(n,e)},getPoint:function(r,n){return n===void 0&&(n=new v),n.copy(this.p0)},getPointAt:function(r,n){return this.getPoint(r,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=a},46669:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(46728),a=t(73825),r=t(39429),n=t(33951),e=t(68618),s=t(14744),o=t(87841),i=t(42534),h=t(26099),u=t(36383),d=new l({initialize:function(c,g){c===void 0&&(c=0),g===void 0&&(g=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,g)},add:function(f){return this.curves.push(f),this},circleTo:function(f,c,g){return c===void 0&&(c=!1),this.ellipseTo(f,f,0,360,c,g)},closePath:function(){var f=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return f.equals(c)||this.curves.push(new n(c,f)),this},cubicBezierTo:function(f,c,g,m,y,x){var T=this.getEndPoint(),C,A,w;return f instanceof h?(C=f,A=c,w=g):(C=new h(g,m),A=new h(y,x),w=new h(f,c)),this.add(new v(T,C,A,w))},quadraticBezierTo:function(f,c,g,m){var y=this.getEndPoint(),x,T;return f instanceof h?(x=f,T=c):(x=new h(g,m),T=new h(f,c)),this.add(new s(y,x,T))},draw:function(f,c){for(var g=0;g<this.curves.length;g++){var m=this.curves[g];m.active&&m.draw(f,c)}return f},ellipseTo:function(f,c,g,m,y,x){var T=new a(0,0,f,c,g,m,y,x),C=this.getEndPoint(this._tmpVec2A),A=T.getStartPoint(this._tmpVec2B);return C.subtract(A),T.x=C.x,T.y=C.y,this.add(T)},fromJSON:function(f){this.curves=[],this.cacheLengths=[],this.startPoint.set(f.x,f.y),this.autoClose=f.autoClose;for(var c=0;c<f.curves.length;c++){var g=f.curves[c];switch(g.type){case"LineCurve":this.add(n.fromJSON(g));break;case"EllipseCurve":this.add(a.fromJSON(g));break;case"SplineCurve":this.add(i.fromJSON(g));break;case"CubicBezierCurve":this.add(v.fromJSON(g));break;case"QuadraticBezierCurve":this.add(s.fromJSON(g));break}}return this},getBounds:function(f,c){f===void 0&&(f=new o),c===void 0&&(c=16),f.x=Number.MAX_VALUE,f.y=Number.MAX_VALUE;for(var g=new o,m=u.MIN_SAFE_INTEGER,y=u.MIN_SAFE_INTEGER,x=0;x<this.curves.length;x++){var T=this.curves[x];T.active&&(T.getBounds(g,c),f.x=Math.min(f.x,g.x),f.y=Math.min(f.y,g.y),m=Math.max(m,g.right),y=Math.max(y,g.bottom))}return f.right=m,f.bottom=y,f},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var f=[],c=0,g=0;g<this.curves.length;g++)c+=this.curves[g].getLength(),f.push(c);return this.cacheLengths=f,f},getCurveAt:function(f){for(var c=f*this.getLength(),g=this.getCurveLengths(),m=0;m<g.length;){if(g[m]>=c)return this.curves[m];m++}return null},getEndPoint:function(f){return f===void 0&&(f=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,f):f.copy(this.startPoint),f},getLength:function(){var f=this.getCurveLengths();return f[f.length-1]},getPoint:function(f,c){c===void 0&&(c=new h);for(var g=f*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=g){var x=m[y]-g,T=this.curves[y],C=T.getLength(),A=C===0?0:1-x/C;return T.getPointAt(A,c)}y++}return null},getPoints:function(f,c){!f&&!c&&(f=this.defaultDivisions);for(var g=[],m,y=0;y<this.curves.length;y++){var x=this.curves[y];if(x.active)for(var T=x.getResolution(f),C=x.getPoints(T,c),A=0;A<C.length;A++){var w=C[A];m&&m.equals(w)||(g.push(w),m=w)}}return this.autoClose&&g.length>1&&!g[g.length-1].equals(g[0])&&g.push(g[0]),g},getRandomPoint:function(f){return f===void 0&&(f=new h),this.getPoint(Math.random(),f)},getSpacedPoints:function(f){f===void 0&&(f=40);for(var c=[],g=0;g<=f;g++)c.push(this.getPoint(g/f));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(f){return f===void 0&&(f=new h),f.copy(this.startPoint)},getTangent:function(f,c){c===void 0&&(c=new h);for(var g=f*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=g){var x=m[y]-g,T=this.curves[y],C=T.getLength(),A=C===0?0:1-x/C;return T.getTangentAt(A,c)}y++}return null},lineTo:function(f,c){f instanceof h?this._tmpVec2B.copy(f):typeof f=="object"?this._tmpVec2B.setFromObject(f):this._tmpVec2B.set(f,c);var g=this.getEndPoint(this._tmpVec2A);return this.add(new n([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(f){return f.unshift(this.getEndPoint()),this.add(new i(f))},moveTo:function(f,c){return f instanceof h?this.add(new e(f.x,f.y)):this.add(new e(f,c))},toJSON:function(){for(var f=[],c=0;c<this.curves.length;c++)f.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:f}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(f,c){return new d(f,c)}),p.exports=d},45893:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(24882),a=new l({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(r){var n=this.list;if(Array.isArray(r)){for(var e=[],s=0;s<r.length;s++)e.push(n[r[s]]);return e}else return n[r]},getAll:function(){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&(r[n]=this.list[n]);return r},query:function(r){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(n[e]=this.list[e]);return n},set:function(r,n){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,n);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+n),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,n){if(this._frozen)return this;if(this.has(r))this.values[r]=n;else{var e=this,s=this.list,o=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(h){if(!e._frozen){var u=s[r];s[r]=h,o.emit(v.CHANGE_DATA,i,r,h,u),o.emit(v.CHANGE_DATA_KEY+r,i,h,u)}}}),s[r]=n,o.emit(v.SET_DATA,i,r,n)}return this},each:function(r,n){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var o in this.list)e[1]=o,e[2]=this.list[o],r.apply(n,e);return this},merge:function(r,n){n===void 0&&(n=!0);for(var e in r)r.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var n=0;n<r.length;n++)this.removeValue(r[n]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var n=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,n)}return this},pop:function(r){var n=void 0;return!this._frozen&&this.has(r)&&(n=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(v.REMOVE_DATA,this.parent,r,n)),n},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var n in this.list)this.list[n]!==void 0&&r++;return r}}});p.exports=a},63646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45893),a=t(37277),r=t(44594),n=new l({Extends:v,initialize:function(s){v.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",n,"data"),p.exports=n},10700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},93608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},60883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},69780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},22166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},24882:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),n=!!r.canPlayType;try{if(n){var e=function(i,h){var u=r.canPlayType("audio/"+i).replace(/^no$/,"");return h?!!(u||r.canPlayType("audio/"+h).replace(/^no$/,"")):!!u};if(v.ogg=e('ogg; codecs="vorbis"'),v.opus=e('ogg; codecs="opus"',"opus"),v.mp3=e("mpeg"),v.wav=e("wav"),v.m4a=e("x-m4a"),v.aac=e("aac"),v.flac=e("flac","x-flac"),v.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(l.edge)v.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(s===10&&o>=11||s>10)&&(v.dolby=!0)}}}}catch{}return v}p.exports=a()},84148:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(v.edge=!0,v.es2019=!0):/OPR/.test(r)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(r)&&!l.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&l.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!l.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(v.silk=!0),v}p.exports=a()},89289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",o=new Image;return o.onload=function(){var i=new Image;i.onload=function(){var h=l.create2D(i,6),u=h.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(o,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var d=u.getImageData(2,0,1,1).data;l.remove(i),v.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},i.src=e+"/wCKxvRF"+s},o.src=e+"AP804Oa6"+s,!1}function r(){var e=l.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var o=s.getImageData(0,0,1,1);if(o===null)return!1;s.putImageData(o,1,0);var i=s.getImageData(1,0,1,1),h=i.data[0]===o.data[0]&&i.data[1]===o.data[1]&&i.data[2]===o.data[2]&&i.data[3]===o.data[3];return l.remove(this),h}function n(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=a(),v.supportInverseAlpha=r()),v}p.exports=n()},89357:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),v=t(84148),a=t(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var s=new ArrayBuffer(4),o=new Uint8Array(s),i=new Uint32Array(s);return o[0]=161,o[1]=178,o[2]=195,o[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,o=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),h=i.getContext("webgl")||i.getContext("experimental-webgl"),u=a.create2D(this),d=u.getContext("2d",{willReadFrequently:!0}),f=d.createImageData(1,1);return s=f.data instanceof Uint8ClampedArray,a.remove(i),a.remove(u),!!h}catch{return!1}return!1};return r.webGL=o(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(r.getUserMedia=!1),!l.iOS&&(v.ie||v.firefox||v.chrome)&&(r.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=n()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}p.exports=e()},91639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var l,v="Fullscreen",a="FullScreen",r=["request"+v,"request"+a,"webkitRequest"+v,"webkitRequest"+a,"msRequest"+v,"msRequest"+a,"mozRequest"+a,"mozRequest"+v];for(l=0;l<r.length;l++)if(document.documentElement[r[l]]){S.available=!0,S.request=r[l];break}var n=["cancel"+a,"exit"+v,"webkitCancel"+a,"webkitExit"+v,"msCancel"+a,"msExit"+v,"mozCancel"+a,"mozExit"+v];if(S.available){for(l=0;l<n.length;l++)if(document[n[l]]){S.cancel=n[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}p.exports=t()},31784:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}p.exports=a()},25892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var l=navigator.userAgent;/Windows/.test(l)?S.windows=!0:/Mac OS/.test(l)&&!/like Mac OS/.test(l)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(l)?S.android=!0:/Linux/.test(l)?S.linux=!0:/iP[ao]d|iPhone/i.test(l)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=l.toLowerCase().indexOf("iphone")!==-1,S.iPad=l.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(l)||/\bKF[A-Z][A-Z]+/.test(l)||/Silk.*Mobile Safari/.test(l)?S.kindle=!0:/CrOS/.test(l)&&(S.chromeOS=!0),(/Windows Phone/i.test(l)||/IEMobile/i.test(l))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var v=/Silk/.test(l);return(S.windows||S.macOS||S.linux&&!v||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(l)&&/Touch/i.test(l))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(l)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}p.exports=t()},43267:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return v;var r=document.createElement("video"),n=!!r.canPlayType,e=/^no$/;try{n&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(v.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(v.h264=!0,v.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(v.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(v.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(v.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(v.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),v.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=l(s[o],"url",s[o]);if(i.indexOf("blob:")===0)return{url:i,type:""};var h;if(i.indexOf("data:")===0?h=i.split(",")[0].match(/\/(.*?);/):h=i.match(/\.([a-zA-Z0-9]+)($|\?)/),h=l(s[o],"type",h?h[1]:"").toLowerCase(),v[h])return{url:i,type:h}}return null},v}p.exports=a()},82264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new Float32Array(20),a=new l({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],n)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1),r=r/180*Math.PI;var e=Math.cos(r),s=Math.sin(r),o=.213,i=.715,h=.072;return this.multiply([o+e*(1-o)+s*-.213,i+e*-.715+s*-.715,h+e*-.072+s*(1-h),0,0,o+e*-.213+s*.143,i+e*(1-i)+s*.14,h+e*-.072+s*-.283,0,0,o+e*-.213+s*-.787,i+e*-.715+s*i,h+e*(1-h)+s*h,0,0,0,0,0,1,0],n)},grayscale:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=!1),this.saturate(-r,n)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],n)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,n){return r===void 0&&(r=.1),n===void 0&&(n=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],n)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,s=v;return s.set(e),e.set([s[0]*r[0]+s[1]*r[5]+s[2]*r[10]+s[3]*r[15],s[0]*r[1]+s[1]*r[6]+s[2]*r[11]+s[3]*r[16],s[0]*r[2]+s[1]*r[7]+s[2]*r[12]+s[3]*r[17],s[0]*r[3]+s[1]*r[8]+s[2]*r[13]+s[3]*r[18],s[0]*r[4]+s[1]*r[9]+s[2]*r[14]+s[3]*r[19]+s[4],s[5]*r[0]+s[6]*r[5]+s[7]*r[10]+s[8]*r[15],s[5]*r[1]+s[6]*r[6]+s[7]*r[11]+s[8]*r[16],s[5]*r[2]+s[6]*r[7]+s[7]*r[12]+s[8]*r[17],s[5]*r[3]+s[6]*r[8]+s[7]*r[13]+s[8]*r[18],s[5]*r[4]+s[6]*r[9]+s[7]*r[14]+s[8]*r[19]+s[9],s[10]*r[0]+s[11]*r[5]+s[12]*r[10]+s[13]*r[15],s[10]*r[1]+s[11]*r[6]+s[12]*r[11]+s[13]*r[16],s[10]*r[2]+s[11]*r[7]+s[12]*r[12]+s[13]*r[17],s[10]*r[3]+s[11]*r[8]+s[12]*r[13]+s[13]*r[18],s[10]*r[4]+s[11]*r[9]+s[12]*r[14]+s[13]*r[19]+s[14],s[15]*r[0]+s[16]*r[5]+s[17]*r[10]+s[18]*r[15],s[15]*r[1]+s[16]*r[6]+s[17]*r[11]+s[18]*r[16],s[15]*r[2]+s[16]*r[7]+s[17]*r[12]+s[18]*r[17],s[15]*r[3]+s[16]*r[8]+s[17]*r[13]+s[18]*r[18],s[15]*r[4]+s[16]*r[9]+s[17]*r[14]+s[18]*r[19]+s[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=a},51767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(29747),a=new l({initialize:function(n,e,s){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(n,e,s)},set:function(r,n,e){return r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[r,n,e],this.onChange(),this},equals:function(r,n,e){var s=this._rgb;return s[0]===r&&s[1]===n&&s[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=a},60461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=S},54312:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(35893),a=t(86327),r=t(88417),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,l(s)+i),e};p.exports=n},46768:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,l(s)+i),e};p.exports=n},35827:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(54380),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,l(s)+i),e};p.exports=n},46871:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66786),v=t(35893),a=t(7702),r=function(n,e,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),l(n,v(e)+s,a(e)+o),n};p.exports=r},5198:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(26541),a=t(20786),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,l(s)+i),e};p.exports=n},11879:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=[];v[l.BOTTOM_CENTER]=t(54312),v[l.BOTTOM_LEFT]=t(46768),v[l.BOTTOM_RIGHT]=t(35827),v[l.CENTER]=t(46871),v[l.LEFT_CENTER]=t(5198),v[l.RIGHT_CENTER]=t(80503),v[l.TOP_CENTER]=t(89698),v[l.TOP_LEFT]=t(922),v[l.TOP_RIGHT]=t(21373),v[l.LEFT_BOTTOM]=v[l.BOTTOM_LEFT],v[l.LEFT_TOP]=v[l.TOP_LEFT],v[l.RIGHT_BOTTOM]=v[l.BOTTOM_RIGHT],v[l.RIGHT_TOP]=v[l.TOP_RIGHT];var a=function(r,n,e,s,o){return v[e](r,n,s,o)};p.exports=a},80503:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(54380),a=t(20786),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,l(s)+i),e};p.exports=n},89698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35893),v=t(17717),a=t(88417),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)+o),r(e,v(s)-i),e};p.exports=n},922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),v=t(17717),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)-o),r(e,v(s)-i),e};p.exports=n},21373:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),v=t(17717),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)+o),r(e,v(s)-i),e};p.exports=n},91660:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=t(79291),a={In:t(91660),To:t(16694)};a=v(!1,a,l),p.exports=a},21578:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(35893),a=t(88417),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,v(s)+o),r(e,l(s)+i),e};p.exports=n},10210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,v(s)-o),r(e,l(s)+i),e};p.exports=n},82341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(54380),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,v(s)+o),r(e,l(s)+i),e};p.exports=n},87958:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,l(s)+i),e};p.exports=n},40080:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(26541),a=t(20786),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)-o),a(e,l(s)+i),e};p.exports=n},88466:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),v=t(17717),a=t(40136),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)-o),r(e,v(s)-i),e};p.exports=n},38829:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=[];v[l.BOTTOM_CENTER]=t(21578),v[l.BOTTOM_LEFT]=t(10210),v[l.BOTTOM_RIGHT]=t(82341),v[l.LEFT_BOTTOM]=t(87958),v[l.LEFT_CENTER]=t(40080),v[l.LEFT_TOP]=t(88466),v[l.RIGHT_BOTTOM]=t(19211),v[l.RIGHT_CENTER]=t(34609),v[l.RIGHT_TOP]=t(48741),v[l.TOP_CENTER]=t(49440),v[l.TOP_LEFT]=t(81288),v[l.TOP_RIGHT]=t(61323);var a=function(r,n,e,s,o){return v[e](r,n,s,o)};p.exports=a},19211:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(54380),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,l(s)+i),e};p.exports=n},34609:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7702),v=t(54380),a=t(20786),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,v(s)+o),a(e,l(s)+i),e};p.exports=n},48741:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),v=t(17717),a=t(385),r=t(66737),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),a(e,l(s)+o),r(e,v(s)-i),e};p.exports=n},49440:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35893),v=t(17717),a=t(86327),r=t(88417),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,l(s)+o),a(e,v(s)-i),e};p.exports=n},81288:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26541),v=t(17717),a=t(86327),r=t(385),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,l(s)-o),a(e,v(s)-i),e};p.exports=n},61323:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54380),v=t(17717),a=t(86327),r=t(40136),n=function(e,s,o,i){return o===void 0&&(o=0),i===void 0&&(i=0),r(e,l(s)+o),a(e,v(s)-i),e};p.exports=n},16694:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88417),v=t(20786),a=function(r,n,e){return l(r,n),v(r,e)};p.exports=a},62235:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};p.exports=S},72873:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62235),v=t(26541),a=t(54380),r=t(17717),n=t(87841),e=function(s,o){o===void 0&&(o=new n);var i=v(s),h=r(s);return o.x=i,o.y=h,o.width=a(s)-i,o.height=l(s)-h,o};p.exports=e},35893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=S},7702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=S},26541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};p.exports=S},87431:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};p.exports=S},46928:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};p.exports=S},54380:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};p.exports=S},17717:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};p.exports=S},86327:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.y=l-t.height+t.height*t.originY,t};p.exports=S},88417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.width*t.originX;return t.x=l+v-t.width*.5,t};p.exports=S},20786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.height*t.originY;return t.y=l+v-t.height*.5,t};p.exports=S},385:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x=l+t.width*t.originX,t};p.exports=S},40136:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x=l-t.width+t.width*t.originX,t};p.exports=S},66737:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.y=l+t.height*t.originY,t};p.exports=S},58724:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(v){t.style["image-rendering"]=v}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=S},27919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8054),v=t(68703),a=[],r=!1,n=function(){var e=function(g,m,y,x,T){m===void 0&&(m=1),y===void 0&&(y=1),x===void 0&&(x=l.CANVAS),T===void 0&&(T=!1);var C,A=i(x);return A===null?(A={parent:g,canvas:document.createElement("canvas"),type:x},x===l.CANVAS&&a.push(A),C=A.canvas):(A.parent=g,C=A.canvas),T&&(A.parent=C),C.width=m,C.height=y,r&&x===l.CANVAS&&v.disable(C.getContext("2d",{willReadFrequently:!1})),C},s=function(g,m,y){return e(g,m,y,l.CANVAS)},o=function(g,m,y){return e(g,m,y,l.WEBGL)},i=function(g){if(g===void 0&&(g=l.CANVAS),g===l.WEBGL)return null;for(var m=0;m<a.length;m++){var y=a[m];if(!y.parent&&y.type===g)return y}return null},h=function(g){var m=g instanceof HTMLCanvasElement;a.forEach(function(y){(m&&y.canvas===g||!m&&y.parent===g)&&(y.parent=null,y.canvas.width=1,y.canvas.height=1)})},u=function(){var g=0;return a.forEach(function(m){m.parent&&g++}),g},d=function(){return a.length-u()},f=function(){r=!0},c=function(){r=!1};return{create2D:s,create:e,createWebGL:o,disableSmoothing:f,enableSmoothing:c,first:i,free:d,pool:a,remove:h,total:u}};p.exports=n()},68703:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var l=function(n){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var o=e[s]+"mageSmoothingEnabled";if(o in n)return o}return null},v=function(n){return S===""&&(S=l(n)),S&&(n[S]=!0),n},a=function(n){return S===""&&(S=l(n)),S&&(n[S]=!1),n},r=function(n){return S!==null?n[S]:null};return{disable:a,enable:v,getPrefix:l,isEnabled:r}};p.exports=t()},65208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l="none"),t.style.msTouchAction=l,t.style["ms-touch-action"]=l,t.style["touch-action"]=l,t};p.exports=S},91610:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(a){t.style[a+"user-select"]=l}),t.style["-webkit-touch-callout"]=l,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=S},26253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37589),a=t(1e3),r=t(7537),n=t(87837),e=new l({initialize:function(o,i,h,u){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(o,i,h,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,o,i,h,u){return h===void 0&&(h=255),u===void 0&&(u=!0),this._locked=!0,this.red=s,this.green=o,this.blue=i,this.alpha=h,this._locked=!1,this.update(u)},setGLTo:function(s,o,i,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=s,this.greenGL=o,this.blueGL=i,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,o,i){return r(s,o,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var o=this.r,i=this.g,h=this.b,u=this.a;return this._color=v(o,i,h),this._color32=a(o,i,h,u),this._rgba="rgba("+o+","+i+","+h+","+u/255+")",s&&n(o,i,h,this),this},updateHSV:function(){var s=this.r,o=this.g,i=this.b;return n(s,o,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s)),h=Math.floor(s+Math.random()*(o-s)),u=Math.floor(s+Math.random()*(o-s));return this.setTo(i,h,u)},randomGray:function(s,o){s===void 0&&(s=0),o===void 0&&(o=255);var i=Math.floor(s+Math.random()*(o-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var o=this.r,i=this.g,h=this.b;return o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(s/100)))),this.setTo(o,i,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});p.exports=e},92728:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589),v=function(a){a===void 0&&(a=1024);var r=[],n=255,e,s=255,o=0,i=0;for(e=0;e<=n;e++)r.push({r:s,g:e,b:i,color:l(s,e,i)});for(o=255,e=n;e>=0;e--)r.push({r:e,g:o,b:i,color:l(e,o,i)});for(s=0,e=0;e<=n;e++,o--)r.push({r:s,g:o,b:e,color:l(s,o,e)});for(o=0,i=255,e=0;e<=n;e++,i--,s++)r.push({r:s,g:o,b:i,color:l(s,o,i)});if(a===1024)return r;var h=[],u=0,d=1024/a;for(e=0;e<a;e++)h.push(r[Math.floor(u)]),u+=d;return h};p.exports=v},91588:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(l.a=t>>>24),l};p.exports=S},62957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.toString(16);return l.length===1?"0"+l:l};p.exports=S},37589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t<<16|l<<8|v};p.exports=S},1e3:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return a<<24|t<<16|l<<8|v};p.exports=S},62183:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=t(89528),a=function(r,n,e){var s=e,o=e,i=e;if(n!==0){var h=e<.5?e*(1+n):e+n-e*n,u=2*e-h;s=v(u,h,r+1/3),o=v(u,h,r),i=v(u,h,r-1/3)}var d=new l;return d.setGLTo(s,o,i,1)};p.exports=a},27939:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7537),v=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var n=[],e=0;e<=359;e++)n.push(l(e/359,a,r));return n};p.exports=v},7537:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589);function v(r,n,e,s){var o=(r+n*6)%6,i=Math.min(o,4-o,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var a=function(r,n,e,s){n===void 0&&(n=1),e===void 0&&(e=1);var o=v(5,r,n,e),i=v(3,r,n,e),h=v(1,r,n,e);return s?s.setTo?s.setTo(o,i,h,s.alpha,!0):(s.r=o,s.g=i,s.b=h,s.color=l(o,i,h),s):{r:o,g:i,b:h,color:l(o,i,h)}};p.exports=a},70238:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=function(a){var r=new l;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,h,u,d){return h+h+u+u+d+d});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(n){var e=parseInt(n[1],16),s=parseInt(n[2],16),o=parseInt(n[3],16);r.setTo(e,s,o)}return r};p.exports=v},89528:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?t+(l-t)*6*v:v<.5?l:v<.6666666666666666?t+(l-t)*(.6666666666666666-v)*6:t};p.exports=S},30100:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=t(90664),a=function(r){var n=v(r);return new l(n.r,n.g,n.b,n.a)};p.exports=a},90664:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=S},13699:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28915),v=t(37589),a=function(e,s,o,i,h,u,d,f){d===void 0&&(d=100),f===void 0&&(f=0);var c=f/d,g=l(e,i,c),m=l(s,h,c),y=l(o,u,c);return{r:g,g:m,b:y,a:255,color:v(g,m,y)}},r=function(e,s,o,i){return o===void 0&&(o=100),i===void 0&&(i=0),a(e.r,e.g,e.b,s.r,s.g,s.b,o,i)},n=function(e,s,o,i,h,u){return h===void 0&&(h=100),u===void 0&&(u=0),a(e.r,e.g,e.b,s,o,i,h,u)};p.exports={RGBWithRGB:a,ColorWithRGB:n,ColorWithColor:r}},68957:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=function(a){return new l(a.r,a.g,a.b,a.a)};p.exports=v},87388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987),v=function(a){var r=new l,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(n){var e=parseInt(n[1],10),s=parseInt(n[2],10),o=parseInt(n[3],10),i=n[4]!==void 0?parseFloat(n[4]):1;r.setTo(e,s,o,i*255)}return r};p.exports=v},87837:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,l/=255,v/=255;var r=Math.min(t,l,v),n=Math.max(t,l,v),e=n-r,s=0,o=n===0?0:e/n,i=n;return n!==r&&(n===t?s=(l-v)/e+(l<v?6:0):n===l?s=(v-t)/e+2:n===v&&(s=(t-l)/e+4),s/=6),a.hasOwnProperty("_h")?(a._h=s,a._s=o,a._v=i):(a.h=s,a.s=o,a.v=i),a};p.exports=S},75723:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62957),v=function(a,r,n,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+n).toString(16).slice(1,7):"0x"+l(e)+l(a)+l(r)+l(n)};p.exports=v},85386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(40987),a=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=255),new v(l(r,n),l(r,n),l(r,n))};p.exports=a},80333:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70238),v=t(30100),a=t(68957),r=t(87388),n=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):l(e);case"number":return v(e);case"object":return a(e)}};p.exports=n},3956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40987);l.ColorSpectrum=t(92728),l.ColorToRGBA=t(91588),l.ComponentToHex=t(62957),l.GetColor=t(37589),l.GetColor32=t(1e3),l.HexStringToColor=t(70238),l.HSLToColor=t(62183),l.HSVColorWheel=t(27939),l.HSVToRGB=t(7537),l.HueToComponent=t(89528),l.IntegerToColor=t(30100),l.IntegerToRGB=t(90664),l.Interpolate=t(13699),l.ObjectToColor=t(68957),l.RandomRGB=t(85386),l.RGBStringToColor=t(87388),l.RGBToHSV=t(87837),l.RGBToString=t(75723),l.ValueToColor=t(80333),p.exports=l},27460:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(39429),a=new l({initialize:function(n,e,s,o,i,h){e||(e=n.sys.make.image({x:s,y:o,key:i,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(r,n,e,s,o){return new a(this.scene,r,n,e,s,o)}),p.exports=a},80661:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,n){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:n}),this.applyStencil(a,n,!0),a.maskCount++},applyStencil:function(a,r,n){var e=a.gl,s=this.geometryMask,o=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,o,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),o++):(e.stencilFunc(e.EQUAL,o+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=o,s.renderWebGL(a,s,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,o,i):e.stencilFunc(e.EQUAL,o,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var n=a.currentMask;if(a.maskStack.length===0)n.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(a,r,n){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,n,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=v},69781:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e,s){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=s}});p.exports=v},40366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v;if(l)typeof l=="string"?v=document.getElementById(l):typeof l=="object"&&l.nodeType===1&&(v=l);else if(t.parentElement||l===null)return t;return v||(v=document.body),v.appendChild(t),t};p.exports=S},83719:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),v=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=n,l(n,r.parent)}};p.exports=v},57264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25892),v=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?l.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=v},57811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var l=Math.abs(window.orientation),v={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),v.w=l===90?a.offsetHeight:window.innerWidth,v.h=l===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?v.h:v.w};p.exports=S},45818:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13560),v=function(a,r){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return l.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return l.ORIENTATION.LANDSCAPE}else return r>a?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE};p.exports=v},74403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l;return t!==""&&(typeof t=="string"?l=document.getElementById(t):t&&t.nodeType===1&&(l=t)),l||(l=document.body),l};p.exports=S},56836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l="";try{if(window.DOMParser){var v=new DOMParser;l=v.parseFromString(t,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(t)}catch{l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};p.exports=S},35846:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=S},43092:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(29747),a=new l({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(s){n.callback(s),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(r,n,e){this.isRunning||(this.callback=r,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});p.exports=a},84902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};p.exports=l},47565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(37277),r=new l({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),p.exports=r},93055:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(47565)}},20122:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s){s===void 0&&(s=1),v.call(this,a.BARREL,e),this.amount=s}});p.exports=r},32251:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h,u,d){o===void 0&&(o=1),i===void 0&&(i=1),h===void 0&&(h=1),u===void 0&&(u=1),d===void 0&&(d=4),v.call(this,a.BLOOM,e),this.steps=d,this.offsetX=o,this.offsetY=i,this.blurStrength=h,this.strength=u,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},9047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h,u,d){s===void 0&&(s=0),o===void 0&&(o=2),i===void 0&&(i=2),h===void 0&&(h=1),d===void 0&&(d=4),v.call(this,a.BLUR,e),this.quality=s,this.x=o,this.y=i,this.steps=d,this.strength=h,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},27885:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h,u,d,f){s===void 0&&(s=.5),o===void 0&&(o=1),i===void 0&&(i=.2),h===void 0&&(h=!1),u===void 0&&(u=1),d===void 0&&(d=1),f===void 0&&(f=1),v.call(this,a.BOKEH,e),this.radius=s,this.amount=o,this.contrast=i,this.isTiltShift=h,this.strength=f,this.blurX=u,this.blurY=d}});p.exports=r},12578:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h,u){s===void 0&&(s=8),h===void 0&&(h=1),u===void 0&&(u=.005),v.call(this,a.CIRCLE,e),this.scale=h,this.feather=u,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],o!=null&&(this.color=o),i!=null&&(this.backgroundColor=i)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});p.exports=r},15802:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89422),a=t(14811),r=new l({Extends:v,initialize:function(e){v.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},72898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n){this.type=r,this.gameObject=n,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=v},44553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i){s===void 0&&(s="__WHITE"),o===void 0&&(o=.005),i===void 0&&(i=.005),v.call(this,a.DISPLACEMENT,e),this.x=o,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},68531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h){o===void 0&&(o=4),i===void 0&&(i=0),h===void 0&&(h=!1),v.call(this,a.GLOW,e),this.outerStrength=o,this.innerStrength=i,this.knockout=h,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},37102:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h,u,d,f,c){i===void 0&&(i=.2),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=1),c===void 0&&(c=0),v.call(this,a.GRADIENT,e),this.alpha=i,this.size=c,this.fromX=h,this.fromY=u,this.toX=d,this.toY=f,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),o!=null&&(this.color2=o)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});p.exports=r},86886:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s){s===void 0&&(s=1),v.call(this,a.PIXELATE,e),this.amount=s}});p.exports=r},92322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h,u,d,f){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=.1),h===void 0&&(h=1),d===void 0&&(d=6),f===void 0&&(f=1),v.call(this,a.SHADOW,e),this.x=s,this.y=o,this.decay=i,this.power=h,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=f,u!==void 0&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});p.exports=r},39563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=3),h===void 0&&(h=!1),v.call(this,a.SHINE,e),this.speed=s,this.lineWidth=o,this.gradient=i,this.reveal=h}});p.exports=r},56448:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h){s===void 0&&(s=.5),o===void 0&&(o=.5),i===void 0&&(i=.5),h===void 0&&(h=.5),v.call(this,a.VIGNETTE,e),this.x=s,this.y=o,this.radius=i,this.strength=h}});p.exports=r},38433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72898),a=t(14811),r=new l({Extends:v,initialize:function(e,s,o,i,h){s===void 0&&(s=.1),o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=!1),v.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=o,this.axis=i,this.reveal=h}});p.exports=r},14811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=S},66064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=l(!1,a,v),p.exports=a},25305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(23568),a=function(r,n,e){n.x=v(e,"x",0),n.y=v(e,"y",0),n.depth=v(e,"depth",0),n.flipX=v(e,"flipX",!1),n.flipY=v(e,"flipY",!1);var s=v(e,"scale",null);typeof s=="number"?n.setScale(s):s!==null&&(n.scaleX=v(s,"x",1),n.scaleY=v(s,"y",1));var o=v(e,"scrollFactor",null);typeof o=="number"?n.setScrollFactor(o):o!==null&&(n.scrollFactorX=v(o,"x",1),n.scrollFactorY=v(o,"y",1)),n.rotation=v(e,"rotation",0);var i=v(e,"angle",null);i!==null&&(n.angle=i),n.alpha=v(e,"alpha",1);var h=v(e,"origin",null);if(typeof h=="number")n.setOrigin(h);else if(h!==null){var u=v(h,"x",.5),d=v(h,"y",.5);n.setOrigin(u,d)}n.blendMode=v(e,"blendMode",l.NORMAL),n.visible=v(e,"visible",!0);var f=v(e,"add",!0);return f&&r.sys.displayList.add(n),n.preUpdate&&r.sys.updateList.add(n),n};p.exports=a},13059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23568),v=function(a,r){var n=l(r,"anims",null);if(n===null)return a;if(typeof n=="string")a.anims.play(n);else if(typeof n=="object"){var e=a.anims,s=l(n,"key",void 0);if(s){var o=l(n,"startFrame",void 0),i=l(n,"delay",0),h=l(n,"repeat",0),u=l(n,"repeatDelay",0),d=l(n,"yoyo",!1),f=l(n,"play",!1),c=l(n,"delayedPlay",0),g={key:s,delay:i,repeat:h,repeatDelay:u,yoyo:d,startFrame:o};f?e.play(g):c>0?e.playAfterDelay(g,c):e.load(g)}}return a};p.exports=v},8050:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(73162),a=t(37277),r=t(51708),n=t(44594),e=t(19186),s=new l({Extends:v,initialize:function(i){v.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(o){o.displayList&&o.displayList!==this&&o.removeFromDisplayList(),o.parentContainer&&o.parentContainer.remove(o),o.displayList||(this.queueDepthSort(),o.displayList=this,o.emit(r.ADDED_TO_SCENE,o,this.scene),this.events.emit(n.ADDED_TO_SCENE,o,this.scene))},removeChildCallback:function(o){this.queueDepthSort(),o.displayList=null,o.emit(r.REMOVED_FROM_SCENE,o,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,o,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(o,i){return o._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var o=this.list,i=o.length;i--;)o[i].destroy(!0);o.length=0,this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",s,"displayList"),p.exports=s},95643:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(53774),a=t(45893),r=t(50792),n=t(51708),e=t(44594),s=new l({Extends:r,initialize:function(i,h){r.call(this),this.scene=i,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(o){return this.active=o,this},setName:function(o){return this.name=o,this},setState:function(o){return this.state=o,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(o,i){return this.data||(this.data=new a(this)),this.data.set(o,i),this},incData:function(o,i){return this.data||(this.data=new a(this)),this.data.inc(o,i),this},toggleData:function(o){return this.data||(this.data=new a(this)),this.data.toggle(o),this},getData:function(o){return this.data||(this.data=new a(this)),this.data.get(o)},setInteractive:function(o,i,h){return this.scene.sys.input.enable(this,o,i,h),this},disableInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.disable(this,o),this},removeInteractive:function(o){return o===void 0&&(o=!1),this.scene.sys.input.clear(this),o&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(o){var i=this.displayList&&this.displayList.active?this.displayList.willRender(o):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},getIndexList:function(){for(var o=this,i=this.parentContainer,h=[];i&&(h.unshift(i.getIndex(o)),o=i,i.parentContainer);)i=i.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(o)):h.unshift(this.scene.sys.displayList.getIndex(o)),h},addToDisplayList:function(o){return o===void 0&&(o=this.scene.sys.displayList),this.displayList&&this.displayList!==o&&this.removeFromDisplayList(),o.exists(this)||(this.displayList=o,o.add(this,!0),o.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),o.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var o=this.displayList||this.scene.sys.displayList;return o&&o.exists(this)&&(o.remove(this,!0),o.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),o.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var o=null;return this.parentContainer?o=this.parentContainer.list:this.displayList&&(o=this.displayList.list),o},destroy:function(o){!this.scene||this.ignoreDestroy||(o===void 0&&(o=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,o),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,p.exports=s},44603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37277),a=t(44594),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},v.register("GameObjectCreator",r,"make"),p.exports=r},39429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37277),a=t(44594),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},v.register("GameObjectFactory",r,"add"),p.exports=r},91296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),v=new l,a=new l,r=new l,n={camera:v,sprite:a,calc:r},e=function(s,o,i){var h=v,u=a,d=r;return u.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),h.copyFrom(o.matrix),i?(h.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),u.e=s.x,u.f=s.y):(u.e-=o.scrollX*s.scrollFactorX,u.f-=o.scrollY*s.scrollFactorY),h.multiply(u,d),n};p.exports=e},45027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(25774),a=t(37277),r=t(44594),n=new l({Extends:v,initialize:function(s){v.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var o=this._active,i=o.length,h=0;h<i;h++){var u=o[h];u.active&&u.preUpdate.call(u,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",n,"updateList"),p.exports=n},3217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r,n,e,s,o,i,h,u,d,f,c){var g=v.x-l.displayOriginX+r,m=v.y-l.displayOriginY+n,y=g+v.w,x=m+v.h,T=e.a,C=e.b,A=e.c,w=e.d,P=e.e,M=e.f,R=g*T+m*A+P,O=g*C+m*w+M,U=g*T+x*A+P,X=g*C+x*w+M,W=y*T+x*A+P,Y=y*C+x*w+M,N=y*T+m*A+P,z=y*C+m*w+M;s&&(R=Math.round(R),O=Math.round(O),U=Math.round(U),X=Math.round(X),W=Math.round(W),Y=Math.round(Y),N=Math.round(N),z=Math.round(z)),t.batchQuad(l,R,O,U,X,W,Y,N,z,a.u0,a.v0,a.u1,a.v1,o,i,h,u,d,f,c)};p.exports=S},53048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){if(v===void 0&&(v=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,n=r.length,e=t.maxWidth,s=t.wordWrapCharCode,o=Number.MAX_VALUE,i=Number.MAX_VALUE,h=0,u=0,d=t.fontData.chars,f=t.fontData.lineHeight,c=t.letterSpacing,g=t.lineSpacing,m=0,y=0,x=0,T=null,C=t._align,A=0,w=0,P=t.fontSize/t.fontData.size,M=P*t.scaleX,R=P*t.scaleY,O=null,U=0,X=[],W=Number.MAX_VALUE,Y=0,N=0,z=0,B,I,G,H=[],K=[],Z=null,Q=function(bt,Yt){for(var wt=0,It=0;It<bt.length;It++){var Nt=bt.charCodeAt(It),$t=Yt.chars[Nt];$t&&(wt+=$t.xAdvance)}return wt*M};if(e>0){G=r.split(`
`);var j=[];for(B=0;B<G.length;B++){var _=G[B],tt="",et="",rt="",at="";for(I=0;I<_.length;I++)if(x=_.charCodeAt(I),tt+=_[I],x===s||I===_.length-1){at=rt+tt;var st=Q(at,t.fontData);st<=e?rt=at:(et=et.slice(0,-1),et+=(et?`
`:"")+rt,rt=tt),tt=""}et=et.slice(0,-1),et+=(et?`
`:"")+rt,j.push(et)}r=j.join(`
`),a.wrappedText=r,n=r.length}var ct=0;for(B=0;B<n;B++){if(x=r.charCodeAt(B),x===10){Z!==null&&(H.push({word:Z.word,i:Z.i,x:Z.x*M,y:Z.y*R,w:Z.w*M,h:Z.h*R}),Z=null),O=null,X[N]=z,z>Y&&(Y=z),z<W&&(W=z),N++,z=0,m=0,y=(f+g)*N;continue}if(T=d[x],!!T){if(A=m,w=y,O!==null){var vt=T.kerning[U];A+=vt!==void 0?vt:0}o>A&&(o=A),i>w&&(i=w);var pt=A+T.xAdvance,nt=w+f;h<pt&&(h=pt),u<nt&&(u=nt);var ot=T.xOffset+T.xAdvance+(vt!==void 0?vt:0);x===s?Z!==null&&(H.push({word:Z.word,i:Z.i,x:Z.x*M,y:Z.y*R,w:Z.w*M,h:Z.h*R}),Z=null):(Z===null&&(Z={word:"",i:ct,x:m,y,w:0,h:f}),Z.word=Z.word.concat(r[B]),Z.w+=ot),K.push({i:ct,idx:B,char:r[B],code:x,x:(T.xOffset+A)*P,y:(T.yOffset+y)*P,w:T.width*P,h:T.height*P,t:y*P,r:pt*P,b:f*P,line:N,glyph:T}),m+=T.xAdvance+c+(vt!==void 0?vt:0),O=T,U=x,z=pt*P,ct++}}if(Z!==null&&H.push({word:Z.word,i:Z.i,x:Z.x*M,y:Z.y*R,w:Z.w*M,h:Z.h*R}),X[N]=z,z>Y&&(Y=z),z<W&&(W=z),C>0)for(var ht=0;ht<K.length;ht++){var xt=K[ht];if(C===1){var Et=(Y-X[xt.line])/2;xt.x+=Et,xt.r+=Et}else if(C===2){var Ot=Y-X[xt.line];xt.x+=Ot,xt.r+=Ot}}var Tt=a.local,St=a.global;return G=a.lines,Tt.x=o*P,Tt.y=i*P,Tt.width=h*P,Tt.height=u*P,St.x=t.x-t._displayOriginX+o*M,St.y=t.y-t._displayOriginY+i*R,St.width=h*M,St.height=u*R,G.shortest=W,G.longest=Y,G.lengths=X,l&&(Tt.x=Math.ceil(Tt.x),Tt.y=Math.ceil(Tt.y),Tt.width=Math.ceil(Tt.width),Tt.height=Math.ceil(Tt.height),St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),G.shortest=Math.ceil(W),G.longest=Math.ceil(Y)),v&&(t._displayOriginX=t.originX*Tt.width,t._displayOriginY=t.originY*Tt.height,St.x=t.x-t._displayOriginX*t.scaleX,St.y=t.y-t._displayOriginY*t.scaleY,l&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y))),a.words=H,a.characters=K,a.lines.height=f,a.scale=P,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};p.exports=S},61327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21859),v=function(a,r,n,e,s,o,i){var h=a.sys.textures.get(n),u=h.get(e),d=a.sys.cache.xml.get(s);if(u&&d){var f=l(d,u,o,i,h);return a.sys.cache.bitmapFont.add(r,{data:f,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=v},6925:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=function(a,r){var n=r.width,e=r.height,s=Math.floor(n/2),o=Math.floor(e/2),i=l(r,"chars","");if(i!==""){var h=l(r,"image",""),u=a.sys.textures.getFrame(h),d=u.cutX,f=u.cutY,c=u.source.width,g=u.source.height,m=l(r,"offset.x",0),y=l(r,"offset.y",0),x=l(r,"spacing.x",0),T=l(r,"spacing.y",0),C=l(r,"lineSpacing",0),A=l(r,"charsPerRow",null);A===null&&(A=c/n,A>i.length&&(A=i.length));for(var w=m,P=y,M={retroFont:!0,font:h,size:n,lineHeight:e+C,chars:{}},R=0,O=0;O<i.length;O++){var U=i.charCodeAt(O),X=(d+w)/c,W=(f+P)/g,Y=(d+w+n)/c,N=(f+P+e)/g;M.chars[U]={x:w,y:P,width:n,height:e,centerX:s,centerY:o,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:X,v0:W,u1:Y,v1:N},R++,R===A?(R=0,w=m,P+=e+T):w+=n+x}var z={data:M,frame:null,texture:h};return z}};p.exports=v},21859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(l,v){return parseInt(l.getAttribute(v),10)}var t=function(l,v,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0);var e=v.cutX,s=v.cutY,o=v.source.width,i=v.source.height,h=v.sourceIndex,u={},d=l.getElementsByTagName("info")[0],f=l.getElementsByTagName("common")[0];u.font=d.getAttribute("face"),u.size=S(d,"size"),u.lineHeight=S(f,"lineHeight")+r,u.chars={};var c=l.getElementsByTagName("char"),g=v!==void 0&&v.trimmed;if(g)var m=v.height,y=v.width;for(var x=0;x<c.length;x++){var T=c[x],C=S(T,"id"),A=String.fromCharCode(C),w=S(T,"x"),P=S(T,"y"),M=S(T,"width"),R=S(T,"height");g&&(w<y&&(y=w),P<m&&(m=P)),g&&m!==0&&y!==0&&(w-=v.x,P-=v.y);var O=(e+w)/o,U=(s+P)/i,X=(e+w+M)/o,W=(s+P+R)/i;if(u.chars[C]={x:w,y:P,width:M,height:R,centerX:Math.floor(M/2),centerY:Math.floor(R/2),xOffset:S(T,"xoffset"),yOffset:S(T,"yoffset"),xAdvance:S(T,"xadvance")+a,data:{},kerning:{},u0:O,v0:U,u1:X,v1:W},n&&M!==0&&R!==0){var Y=n.add(A,h,w,P,M,R);Y&&Y.setUVs(M,R,O,U,X,W)}}var N=l.getElementsByTagName("kerning");for(x=0;x<N.length;x++){var z=N[x],B=S(z,"first"),I=S(z,"second"),G=S(z,"amount");u.chars[I].kerning[B]=G}return u};p.exports=t},196:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87662),v=t(79291),a={Parse:t(6925)};a=v(!1,a,l),p.exports=a},87662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=S},2638:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),v=t(83419),a=t(12310),r=new v({Extends:l,Mixins:[a],initialize:function(e,s,o,i,h,u,d){l.call(this,e,s,o,i,h,u,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});p.exports=r},86741:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20926),v=function(a,r,n,e){var s=r._text,o=s.length,i=a.currentContext;if(!(o===0||!l(a,i,r,n,e))){n.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.displayCallback,d=r.callbackData,f=r.fontData.chars,c=r.fontData.lineHeight,g=r._letterSpacing,m=0,y=0,x=0,T=null,C=0,A=0,w=0,P=0,M=0,R=0,O=null,U=0,X=r.frame.source.image,W=h.cutX,Y=h.cutY,N=0,z=0,B=r._fontSize/r.fontData.size,I=r._align,G=0,H=0;r.getTextBounds(!1);var K=r._bounds.lines;I===1?H=(K.longest-K.lengths[0])/2:I===2&&(H=K.longest-K.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var Z=n.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var Q=0;Q<o;Q++){if(z=B,N=0,x=s.charCodeAt(Q),x===10){G++,I===1?H=(K.longest-K.lengths[G])/2:I===2&&(H=K.longest-K.lengths[G]),m=0,y+=c,O=null;continue}if(T=f[x],!!T){if(C=W+T.x,A=Y+T.y,w=T.width,P=T.height,M=T.xOffset+m-r.scrollX,R=T.yOffset+y-r.scrollY,O!==null){var j=T.kerning[U];M+=j!==void 0?j:0}if(u){d.index=Q,d.charCode=x,d.x=M,d.y=R,d.scale=z,d.rotation=N,d.data=T.data;var _=u(d);M=_.x,R=_.y,z=_.scale,N=_.rotation}M*=z,R*=z,M+=H,m+=T.xAdvance+g+(j!==void 0?j:0),O=T,U=x,!(w===0||P===0||x===32)&&(Z&&(M=Math.round(M),R=Math.round(R)),i.save(),i.translate(M,R),i.rotate(N),i.scale(z,z),i.drawImage(X,C,A,w,P,0,0,w,P),i.restore())}}i.restore()}};p.exports=v},11164:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2638),v=t(25305),a=t(44603),r=t(23568);a.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var s=r(n,"font",""),o=r(n,"text",""),i=r(n,"size",!1),h=new l(this.scene,0,0,s,o,i);return e!==void 0&&(n.add=e),v(this.scene,h,n),h})},72566:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2638),v=t(39429);v.register("dynamicBitmapText",function(a,r,n,e,s){return this.displayList.add(new l(this.scene,a,r,n,e,s))})},12310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(73482),a=t(86741),p.exports={renderWebGL:v,renderCanvas:a}},73482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(61340),a=t(70554),r=new v,n=function(e,s,o,i){var h=s.text,u=h.length;if(u!==0){o.addToRenderList(s);var d=e.pipelines.set(s.pipeline,s),f=l(s,o,i);e.pipelines.preBatch(s);var c=f.sprite,g=f.calc,m=r,y=s.cropWidth>0||s.cropHeight>0;y&&(d.flush(),e.pushScissor(g.tx,g.ty,s.cropWidth*g.scaleX,s.cropHeight*g.scaleY));var x=s.frame,T=x.glTexture,C=s.tintFill,A=a.getTintAppendFloatAlpha(s.tintTopLeft,o.alpha*s._alphaTL),w=a.getTintAppendFloatAlpha(s.tintTopRight,o.alpha*s._alphaTR),P=a.getTintAppendFloatAlpha(s.tintBottomLeft,o.alpha*s._alphaBL),M=a.getTintAppendFloatAlpha(s.tintBottomRight,o.alpha*s._alphaBR),R=d.setGameObject(s),O=0,U=0,X=0,W=0,Y=s.letterSpacing,N,z=0,B=0,I,G=s.scrollX,H=s.scrollY,K=s.fontData,Z=K.chars,Q=K.lineHeight,j=s.fontSize/K.size,_=0,tt=s._align,et=0,rt=0,at=s.getTextBounds(!1);s.maxWidth>0&&(h=at.wrappedText,u=h.length);var st=s._bounds.lines;tt===1?rt=(st.longest-st.lengths[0])/2:tt===2&&(rt=st.longest-st.lengths[0]);for(var ct=o.roundPixels,vt=s.displayCallback,pt=s.callbackData,nt=0;nt<u;nt++){if(X=h.charCodeAt(nt),X===10){et++,tt===1?rt=(st.longest-st.lengths[et])/2:tt===2&&(rt=st.longest-st.lengths[et]),O=0,U+=Q,I=null;continue}if(N=Z[X],!!N){z=N.width,B=N.height;var ot=N.xOffset+O-G,ht=N.yOffset+U-H;if(I!==null){var xt=N.kerning[W]||0;ot+=xt,O+=xt}if(O+=N.xAdvance+Y,I=N,W=X,!(z===0||B===0||X===32)){if(j=s.fontSize/s.fontData.size,_=0,vt){pt.color=0,pt.tint.topLeft=A,pt.tint.topRight=w,pt.tint.bottomLeft=P,pt.tint.bottomRight=M,pt.index=nt,pt.charCode=X,pt.x=ot,pt.y=ht,pt.scale=j,pt.rotation=_,pt.data=N.data;var Et=vt(pt);ot=Et.x,ht=Et.y,j=Et.scale,_=Et.rotation,Et.color?(A=Et.color,w=Et.color,P=Et.color,M=Et.color):(A=Et.tint.topLeft,w=Et.tint.topRight,P=Et.tint.bottomLeft,M=Et.tint.bottomRight),A=a.getTintAppendFloatAlpha(A,o.alpha*s._alphaTL),w=a.getTintAppendFloatAlpha(w,o.alpha*s._alphaTR),P=a.getTintAppendFloatAlpha(P,o.alpha*s._alphaBL),M=a.getTintAppendFloatAlpha(M,o.alpha*s._alphaBR)}ot*=j,ht*=j,ot-=s.displayOriginX,ht-=s.displayOriginY,ot+=rt,m.applyITRS(ot,ht,_,j,j),g.multiply(m,c);var Ot=N.u0,Tt=N.v0,St=N.u1,bt=N.v1,Yt=z,wt=B,It=c.e,Nt=c.f,$t=wt*c.c+c.e,fe=wt*c.d+c.f,de=Yt*c.a+wt*c.c+c.e,ce=Yt*c.b+wt*c.d+c.f,ve=Yt*c.a+c.e,pe=Yt*c.b+c.f;ct&&(It=Math.round(It),Nt=Math.round(Nt),$t=Math.round($t),fe=Math.round(fe),de=Math.round(de),ce=Math.round(ce),ve=Math.round(ve),pe=Math.round(pe)),d.shouldFlush(6)&&(d.flush(),R=d.setGameObject(s)),d.batchQuad(s,It,Nt,$t,fe,de,ce,ve,pe,Ot,Tt,St,bt,A,w,P,M,C,T,R)}}}y&&(d.flush(),e.popScissor()),e.pipelines.postBatch(s)}};p.exports=n},22186:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45319),a=t(31401),r=t(95643),n=t(53048),e=t(61327),s=t(21859),o=t(87841),i=t(18658),h=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(d,f,c,g,m,y,x){m===void 0&&(m=""),x===void 0&&(x=0),r.call(this,d,"BitmapText"),this.font=g;var T=this.scene.sys.cache.bitmapFont.get(g);if(!T)throw new Error("Invalid BitmapText key: "+g);this.fontData=T.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=x,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(f,c),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(m)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,d,f,c){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=.5),this.dropShadowX=u,this.dropShadowY=d,this.dropShadowColor=f,this.dropShadowAlpha=c,this},setCharacterTint:function(u,d,f,c,g,m,y){u===void 0&&(u=0),d===void 0&&(d=1),f===void 0&&(f=!1),c===void 0&&(c=-1),g===void 0&&(g=c,m=c,y=c);var x=this.text.length;d===-1&&(d=x),u<0&&(u=x+u),u=v(u,0,x-1);for(var T=v(u+d,u,x),C=this.charColors,A=u;A<T;A++){var w=C[A];if(c===-1)C[A]=null;else{var P=f?1:0;w?(w.tintEffect=P,w.tintTL=c,w.tintTR=g,w.tintBL=m,w.tintBR=y):C[A]={tintEffect:P,tintTL:c,tintTR:g,tintBL:m,tintBR:y}}}return this},setWordTint:function(u,d,f,c,g,m,y){d===void 0&&(d=1);for(var x=this.getTextBounds(),T=x.words,C=typeof u=="number",A=0,w=0;w<T.length;w++){var P=T[w];if((C&&w===u||!C&&P.word===u)&&(this.setCharacterTint(P.i,P.word.length,f,c,g,m,y),A++,A===d))return this}return this},getTextBounds:function(u){var d=this._bounds;return(this._dirty||u||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(n(this,u,!0,d),this._dirty=!1),d},getCharacterAt:function(u,d,f){for(var c=this.getLocalPoint(u,d,null,f),g=this.getTextBounds(),m=g.characters,y=new o,x=0;x<m.length;x++){var T=m[x];if(y.setTo(T.x,T.t,T.r-T.x,T.b),y.contains(c.x,c.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,d,f){d===void 0&&(d=this._fontSize),f===void 0&&(f=this._align);var c=this.scene.sys.cache.bitmapFont.get(u);return c&&(this.font=u,this.fontData=c.data,this._fontSize=d,this._align=f,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),n(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,d){return this._maxWidth=u,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=a.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=d,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=s,p.exports=h},37289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20926),v=function(a,r,n,e){var s=r._text,o=s.length,i=a.currentContext;if(!(o===0||!l(a,i,r,n,e))){n.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.fontData.chars,d=r.fontData.lineHeight,f=r._letterSpacing,c=r._lineSpacing,g=0,m=0,y=0,x=null,T=0,C=0,A=0,w=0,P=0,M=0,R=null,O=0,U=h.source.image,X=h.cutX,W=h.cutY,Y=r._fontSize/r.fontData.size,N=r._align,z=0,B=0,I=r.getTextBounds(!1);r.maxWidth>0&&(s=I.wrappedText,o=s.length);var G=r._bounds.lines;N===1?B=(G.longest-G.lengths[0])/2:N===2&&(B=G.longest-G.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var H=n.roundPixels,K=0;K<o;K++){if(y=s.charCodeAt(K),y===10){z++,N===1?B=(G.longest-G.lengths[z])/2:N===2&&(B=G.longest-G.lengths[z]),g=0,m+=d+c,R=null;continue}if(x=u[y],!!x){if(T=X+x.x,C=W+x.y,A=x.width,w=x.height,P=x.xOffset+g,M=x.yOffset+m,R!==null){var Z=x.kerning[O];P+=Z!==void 0?Z:0}P*=Y,M*=Y,P+=B,g+=x.xAdvance+f+(Z!==void 0?Z:0),R=x,O=y,!(A===0||w===0||y===32)&&(H&&(P=Math.round(P),M=Math.round(M)),i.save(),i.translate(P,M),i.scale(Y,Y),i.drawImage(U,T,C,A,w,0,0,A,w),i.restore())}}i.restore()}};p.exports=v},57336:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),v=t(25305),a=t(44603),r=t(23568),n=t(35154);a.register("bitmapText",function(e,s){e===void 0&&(e={});var o=n(e,"font",""),i=r(e,"text",""),h=r(e,"size",!1),u=n(e,"align",0),d=new l(this.scene,0,0,o,i,h,u);return s!==void 0&&(e.add=s),v(this.scene,d,e),d})},34914:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22186),v=t(39429);v.register("bitmapText",function(a,r,n,e,s,o){return this.displayList.add(new l(this.scene,a,r,n,e,s,o))})},18658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(33590),a=t(37289),p.exports={renderWebGL:v,renderCanvas:a}},33590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3217),v=t(91296),a=t(70554),r=function(n,e,s,o){var i=e._text,h=i.length;if(h!==0){s.addToRenderList(e);var u=n.pipelines.set(e.pipeline,e),d=v(e,s,o).calc;n.pipelines.preBatch(e);var f=s.roundPixels,c=s.alpha,g=e.charColors,m=e.tintFill,y=a.getTintAppendFloatAlpha,x=y(e.tintTopLeft,c*e._alphaTL),T=y(e.tintTopRight,c*e._alphaTR),C=y(e.tintBottomLeft,c*e._alphaBL),A=y(e.tintBottomRight,c*e._alphaBR),w=e.frame.glTexture,P=u.setGameObject(e),M=e.getTextBounds(!1),R,O,U,X=M.characters,W=e.dropShadowX,Y=e.dropShadowY,N=W!==0||Y!==0;if(N){var z=e.dropShadowColor,B=e.dropShadowAlpha,I=y(z,c*B*e._alphaTL),G=y(z,c*B*e._alphaTR),H=y(z,c*B*e._alphaBL),K=y(z,c*B*e._alphaBR);for(R=0;R<X.length;R++)O=X[R],U=O.glyph,!(O.code===32||U.width===0||U.height===0)&&l(u,e,O,U,W,Y,d,f,I,G,H,K,1,w,P)}for(R=0;R<X.length;R++)if(O=X[R],U=O.glyph,!(O.code===32||U.width===0||U.height===0))if(u.shouldFlush(6)&&(u.flush(),P=u.setGameObject(e)),g[O.i]){var Z=g[O.i],Q=Z.tintEffect,j=y(Z.tintTL,c*e._alphaTL),_=y(Z.tintTR,c*e._alphaTR),tt=y(Z.tintBL,c*e._alphaBL),et=y(Z.tintBR,c*e._alphaBR);l(u,e,O,U,0,0,d,f,j,_,tt,et,Q,w,P)}else l(u,e,O,U,0,0,d,f,x,T,C,A,m,w,P);n.pipelines.postBatch(e)}};p.exports=r},6107:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48011),v=t(46590),a=t(83419),r=t(31401),n=t(4327),e=t(95643),s=t(73162),o=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,l],initialize:function(h,u,d,f,c){e.call(this,h,"Blitter"),this.setTexture(f,c),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,h,u,d,f){d===void 0&&(d=!0),f===void 0&&(f=this.children.length),u===void 0?u=this.frame:u instanceof n||(u=this.texture.get(u));var c=new v(this,i,h,u,d);return this.children.addAt(c,f,!1),this.dirty=!0,c},createFromCallback:function(i,h,u,d){for(var f=this.createMultiple(h,u,d),c=0;c<f.length;c++){var g=f[c];i.call(this,g,c)}return f},createMultiple:function(i,h,u){h===void 0&&(h=this.frame.name),u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);var d=[],f=this;return h.forEach(function(c){for(var g=0;g<i;g++)d.push(f.create(0,0,c,u))}),d},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=o},72396:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=l.getRenderList();if(r.length!==0){var n=t.currentContext,e=v.alpha*l.alpha;if(e!==0){v.addToRenderList(l),n.globalCompositeOperation=t.blendModes[l.blendMode],n.imageSmoothingEnabled=!l.frame.source.scaleMode;var s=l.x-v.scrollX*l.scrollFactorX,o=l.y-v.scrollY*l.scrollFactorY;n.save(),a&&a.copyToContext(n);for(var i=v.roundPixels,h=0;h<r.length;h++){var u=r[h],d=u.flipX||u.flipY,f=u.frame,c=f.canvasData,g=f.x,m=f.y,y=1,x=1,T=u.alpha*e;T!==0&&(n.globalAlpha=T,d?(u.flipX&&(y=-1,g-=c.width),u.flipY&&(x=-1,m-=c.height),c.width>0&&c.height>0&&(n.save(),n.translate(u.x+s,u.y+o),n.scale(y,x),n.drawImage(f.source.image,c.x,c.y,c.width,c.height,g,m,c.width,c.height),n.restore())):(i&&(g=Math.round(g),m=Math.round(m)),c.width>0&&c.height>0&&n.drawImage(f.source.image,c.x,c.y,c.width,c.height,g+u.x+s,m+u.y+o,c.width,c.height)))}n.restore()}}};p.exports=S},9403:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6107),v=t(25305),a=t(44603),r=t(23568);a.register("blitter",function(n,e){n===void 0&&(n={});var s=r(n,"key",null),o=r(n,"frame",null),i=new l(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),v(this.scene,i,n),i})},12709:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6107),v=t(39429);v.register("blitter",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},48011:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(99485),a=t(72396),p.exports={renderWebGL:v,renderCanvas:a}},99485:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),v=t(70554),a=new l,r=function(n,e,s,o){var i=e.getRenderList(),h=s.alpha*e.alpha;if(!(i.length===0||h===0)){s.addToRenderList(e);var u=n.pipelines.set(this.pipeline,e),d=s.scrollX*e.scrollFactorX,f=s.scrollY*e.scrollFactorY,c=a.copyFrom(s.matrix);o&&(c.multiplyWithOffset(o,-d,-f),d=0,f=0);var g=e.x-d,m=e.y-f,y=-1,x=!1,T=s.roundPixels;n.pipelines.preBatch(e);for(var C=0;C<i.length;C++){var A=i[C],w=A.frame,P=A.alpha*h;if(P!==0){var M=w.width,R=w.height,O=g+A.x+w.x,U=m+A.y+w.y;A.flipX&&(M*=-1,O+=w.width),A.flipY&&(R*=-1,U+=w.height);var X=c.setQuad(O,U,O+M,U+R,T),W=v.getTintAppendFloatAlpha(A.tint,P);if(w.sourceIndex!==y){var Y=u.setGameObject(e,w);y=w.sourceIndex}u.batchQuad(e,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],w.u0,w.v0,w.u1,w.v1,W,W,W,W,x,w.glTexture,Y)&&(y=-1)}}n.pipelines.postBatch(e)}};p.exports=r},46590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(4327),a=new l({initialize:function(n,e,s,o,i){this.parent=n,this.x=e,this.y=s,this.frame=o,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof v&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,n,e){return this.x=r,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,n){return this.x=r,this.y=n,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,n){return this.flipX=r,this.flipY=n,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=a},16005:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,n,e,s){return r===void 0&&(r=1),n===void 0?this.alpha=r:(this._alphaTL=l(r,0,1),this._alphaTR=l(n,0,1),this._alphaBL=l(e,0,1),this._alphaBR=l(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var n=l(r,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=-3:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var n=l(r,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var n=l(r,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var n=l(r,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var n=l(r,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=v)}}};p.exports=a},88509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var n=l(r,0,1);this._alpha=n,n===0?this.renderFlags&=-3:this.renderFlags|=v}}};p.exports=a},90065:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=l[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};p.exports=v},94215:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};p.exports=S},61683:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,l,v,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,l,v,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=S},89272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),v={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this},setToTop:function(){var a=this.getDisplayList();return a&&l.BringToTop(a,this),this},setToBack:function(){var a=this.getDisplayList();return a&&l.SendToBack(a,this),this},setAbove:function(a){var r=this.getDisplayList();return r&&a&&l.MoveAbove(r,this,a),this},setBelow:function(a){var r=this.getDisplayList();return r&&a&&l.MoveBelow(r,this,a),this}};p.exports=v},47059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(66064),a=t(19133),r=new l({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var o=s[e];if(o.controller===n){this.gameObject.removePostPipeline(o),n.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===n&&(a(i,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var s=String(n.type);this.gameObject.setPostPipeline(s,e);var o=this.gameObject.getPostPipeline(s);if(o)return Array.isArray(o)&&(o=o.pop()),o&&(o.controller=n),n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,s,o,i,h){return this.add(new v.Glow(this.gameObject,n,e,s,o),{quality:i,distance:h})},addShadow:function(n,e,s,o,i,h,u){return this.add(new v.Shadow(this.gameObject,n,e,s,o,i,h,u))},addPixelate:function(n){return this.add(new v.Pixelate(this.gameObject,n))},addVignette:function(n,e,s,o){return this.add(new v.Vignette(this.gameObject,n,e,s,o))},addShine:function(n,e,s,o){return this.add(new v.Shine(this.gameObject,n,e,s,o))},addBlur:function(n,e,s,o,i,h){return this.add(new v.Blur(this.gameObject,n,e,s,o,i,h))},addGradient:function(n,e,s,o,i,h,u,d){return this.add(new v.Gradient(this.gameObject,n,e,s,o,i,h,u,d))},addBloom:function(n,e,s,o,i,h){return this.add(new v.Bloom(this.gameObject,n,e,s,o,i,h))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(n,e,s,o,i){return this.add(new v.Circle(this.gameObject,n,e,s,o,i))},addBarrel:function(n){return this.add(new v.Barrel(this.gameObject,n))},addDisplacement:function(n,e,s){return this.add(new v.Displacement(this.gameObject,n,e,s))},addWipe:function(n,e,s){return this.add(new v.Wipe(this.gameObject,n,e,s))},addReveal:function(n,e,s){return this.add(new v.Wipe(this.gameObject,n,e,s,!0))},addBokeh:function(n,e,s){return this.add(new v.Bokeh(this.gameObject,n,e,s))},addTiltShift:function(n,e,s,o,i,h){return this.add(new v.Bokeh(this.gameObject,n,e,s,!0,o,i,h))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},54434:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,l){return this.flipX=t,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=S},8004:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(11520),a=t(26099),r={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&v(n,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new l);var e,s,o,i,h,u,d,f;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),c.transformPoint(n.x,n.y,n),e=n.x,s=n.y,this.getTopRight(n),c.transformPoint(n.x,n.y,n),o=n.x,i=n.y,this.getBottomLeft(n),c.transformPoint(n.x,n.y,n),h=n.x,u=n.y,this.getBottomRight(n),c.transformPoint(n.x,n.y,n),d=n.x,f=n.y}else this.getTopLeft(n),e=n.x,s=n.y,this.getTopRight(n),o=n.x,i=n.y,this.getBottomLeft(n),h=n.x,u=n.y,this.getBottomRight(n),d=n.x,f=n.y;return n.x=Math.min(e,o,h,d),n.y=Math.min(s,i,u,f),n.width=Math.max(e,o,h,d)-n.x,n.height=Math.max(s,i,u,f)-n.y,n}};p.exports=r},8573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6858),v=t(80661),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,n,e,s,o){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new l(this.scene,r,n,e,s,o)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new v(this.scene,r)}};p.exports=a},27387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,l){return t===void 0&&(t=.5),l===void 0&&(l=t),this.originX=t,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,l){return t===void 0&&(t=0),l===void 0&&(l=t),this.displayOriginX=t,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=S},37640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39506),v=t(57355),a=t(35154),r=t(86353),n=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,o){o===void 0&&(o=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,o&&this.startFollow(o),this},setRotateToPath:function(s,o){return o===void 0&&(o=0),this.rotateToPath=s,this.pathRotationOffset=o,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,o){s===void 0&&(s={}),o===void 0&&(o=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=a(s,"from",0),s.to=a(s,"to",1);var h=v(s,"positionOnPath",!1);this.rotateToPath=v(s,"rotateToPath",!1),this.pathRotationOffset=a(s,"rotationOffset",0);var u=a(s,"startAt",o);if(u&&(s.onStart=function(f){var c=f.data[0];c.progress=u,c.elapsed=c.duration*u;var g=c.ease(c.progress);c.current=c.start+(c.end-c.start)*g,c.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s&&s.data){var o=s.data[0],i=this.pathDelta,h=this.pathVector;if(i.copy(h).negate(),o.state===r.COMPLETE){this.path.getPoint(o.end,h),i.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(o.state!==r.PLAYING_FORWARD&&o.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),h),i.add(h),h.add(this.pathOffset);var u=this.x,d=this.y;this.setPosition(h.x,h.y);var f=this.x-u,c=this.y-d;if(f===0&&c===0)return;if(o.state!==this._prevDirection){this._prevDirection=o.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,f)+l(this.pathRotationOffset))}}};p.exports=e},72699:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var n=r.pipelines;if(n){a===void 0&&(a=n.default);var e=n.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,n){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var o=s.get(a);o&&(this.pipeline=o),r&&(this.pipelineData=n?l(r):r)}return this},setPipelineData:function(a,r){var n=this.pipelineData;return r===void 0?delete n[a]:n[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};p.exports=v},17581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),v=t(47059),a=t(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),n&&(this.preFX=new v(this,!1))},setPostPipeline:function(n,e,s){var o=this.scene.sys.renderer;if(!o)return this;var i=o.pipelines;if(i){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var u=i.getPostPipeline(n[h],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=s?l(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var s=this.postPipelineData;return e===void 0?delete s[n]:s[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,o=[],i=0;i<s.length;i++){var h=s[i];(e&&h.name===n||!e&&h instanceof n)&&o.push(h)}return o.length===1?o[0]:o},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,o=s.length-1;o>=0;o--){var i=s[o];(e&&i.name===n||!e&&i===n)&&(i.destroy(),a(s,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},80227:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,l){return l===void 0&&(l=t),this.scrollFactorX=t,this.scrollFactorY=l,this}};p.exports=S},16736:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};p.exports=S},37726:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,n,e,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n,e,s)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=a},79812:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4327),v=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,n,e,s){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,n,e,s,this.flipX,this.flipY);else{var o=r;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=v,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=a},27472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,l,v,a){return t===void 0&&(t=16777215),l===void 0&&(l=t,v=t,a=t),this.tintTopLeft=t,this.tintTopRight=l,this.tintBottomLeft=v,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,l,v,a){return this.setTint(t,l,v,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=S},53774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(l.textureKey=t.texture.key,l.frameKey=t.frame.name),l};p.exports=S},16901:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(61340),a=t(85955),r=t(86554),n=t(30954),e=t(26099),s=4,o={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=-5:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return n(this._rotation*l.RAD_TO_DEG)},set:function(i){this.rotation=n(i)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,h,u,d){return i===void 0&&(i=0),h===void 0&&(h=i),u===void 0&&(u=0),d===void 0&&(d=0),this.x=i,this.y=h,this.z=u,this.w=d,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,h,u,d){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=h+Math.random()*d,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=i),this.scaleX=i,this.scaleY=h,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new v),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,h){i===void 0&&(i=new v);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);var d=!1;for(h||(h=new v,d=!0),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)h.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),h.multiply(i,i),u=u.parentContainer;return d&&h.destroy(),i},getLocalPoint:function(i,h,u,d){u||(u=new e),d||(d=this.scene.sys.cameras.main);var f=d.scrollX,c=d.scrollY,g=i+f*this.scrollFactorX-f,m=h+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,m,u):a(g,m,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getWorldPoint:function(i,h,u){i===void 0&&(i=new e);var d=this.parentContainer;if(!d)return i.x=this.x,i.y=this.y,i;var f=this.getWorldTransformMatrix(h,u);return i.x=f.tx,i.y=f.ty,i},getParentRotation:function(){for(var i=0,h=this.parentContainer;h;)i+=h.rotation,h=h.parentContainer;return i}};p.exports=o},61340:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(36383),a=t(26099),r=new l({initialize:function(e,s,o,i,h,u){e===void 0&&(e=1),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=1),h===void 0&&(h=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,s,o,i,h,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],s=n[1],o=n[2],i=n[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):o||i?v.TAU-(i>0?Math.acos(-o/this.scaleY):-Math.acos(o/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var s=this.matrix;return s[4]=s[0]*n+s[2]*e+s[4],s[5]=s[1]*n+s[3]*e+s[5],this},scale:function(n,e){var s=this.matrix;return s[0]*=n,s[1]*=n,s[2]*=e,s[3]*=e,this},rotate:function(n){var e=Math.sin(n),s=Math.cos(n),o=this.matrix,i=o[0],h=o[1],u=o[2],d=o[3];return o[0]=i*s+u*e,o[1]=h*s+d*e,o[2]=i*-e+u*s,o[3]=h*-e+d*s,this},multiply:function(n,e){var s=this.matrix,o=n.matrix,i=s[0],h=s[1],u=s[2],d=s[3],f=s[4],c=s[5],g=o[0],m=o[1],y=o[2],x=o[3],T=o[4],C=o[5],A=e===void 0?s:e.matrix;return A[0]=g*i+m*u,A[1]=g*h+m*d,A[2]=y*i+x*u,A[3]=y*h+x*d,A[4]=T*i+C*u+f,A[5]=T*h+C*d+c,A},multiplyWithOffset:function(n,e,s){var o=this.matrix,i=n.matrix,h=o[0],u=o[1],d=o[2],f=o[3],c=o[4],g=o[5],m=e*h+s*d+c,y=e*u+s*f+g,x=i[0],T=i[1],C=i[2],A=i[3],w=i[4],P=i[5];return o[0]=x*h+T*d,o[1]=x*u+T*f,o[2]=C*h+A*d,o[3]=C*u+A*f,o[4]=w*h+P*d+m,o[5]=w*u+P*f+y,this},transform:function(n,e,s,o,i,h){var u=this.matrix,d=u[0],f=u[1],c=u[2],g=u[3],m=u[4],y=u[5];return u[0]=n*d+e*c,u[1]=n*f+e*g,u[2]=s*d+o*c,u[3]=s*f+o*g,u[4]=i*d+h*c+m,u[5]=i*f+h*g+y,this},transformPoint:function(n,e,s){s===void 0&&(s={x:0,y:0});var o=this.matrix,i=o[0],h=o[1],u=o[2],d=o[3],f=o[4],c=o[5];return s.x=n*i+e*u+f,s.y=n*h+e*d+c,s},invert:function(){var n=this.matrix,e=n[0],s=n[1],o=n[2],i=n[3],h=n[4],u=n[5],d=e*i-s*o;return n[0]=i/d,n[1]=-s/d,n[2]=-o/d,n[3]=e/d,n[4]=(o*u-i*h)/d,n[5]=-(e*u-s*h)/d,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,s,o,i,h){var u=this.matrix;return u[0]=n,u[1]=e,u[2]=s,u[3]=o,u[4]=i,u[5]=h,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,s=e[0],o=e[1],i=e[2],h=e[3],u=s*h-o*i;if(n.translateX=e[4],n.translateY=e[5],s||o){var d=Math.sqrt(s*s+o*o);n.rotation=o>0?Math.acos(s/d):-Math.acos(s/d),n.scaleX=d,n.scaleY=u/d}else if(i||h){var f=Math.sqrt(i*i+h*h);n.rotation=Math.PI*.5-(h>0?Math.acos(-i/f):-Math.acos(i/f)),n.scaleX=u/f,n.scaleY=f}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,s,o,i){var h=this.matrix,u=Math.sin(s),d=Math.cos(s);return h[4]=n,h[5]=e,h[0]=d*o,h[1]=u*o,h[2]=-u*i,h[3]=d*i,this},applyInverse:function(n,e,s){s===void 0&&(s=new a);var o=this.matrix,i=o[0],h=o[1],u=o[2],d=o[3],f=o[4],c=o[5],g=1/(i*d+u*-h);return s.x=d*g*n+-u*g*e+(c*u-f*d)*g,s.y=i*g*e+-h*g*n+(-c*i+f*h)*g,s},setQuad:function(n,e,s,o,i,h){i===void 0&&(i=!1),h===void 0&&(h=this.quad);var u=this.matrix,d=u[0],f=u[1],c=u[2],g=u[3],m=u[4],y=u[5],x=n*d+e*c+m,T=n*f+e*g+y,C=n*d+o*c+m,A=n*f+o*g+y,w=s*d+o*c+m,P=s*f+o*g+y,M=s*d+e*c+m,R=s*f+e*g+y;if(i){var O=Math.floor(x+.5),U=Math.floor(T+.5),X=O-x,W=U-T;h[0]=O,h[1]=U,h[2]=C+X,h[3]=A+W,h[4]=w+X,h[5]=P+W,h[6]=M+X,h[7]=R+W}else h[0]=x,h[1]=T,h[2]=C,h[3]=A,h[4]=w,h[5]=P,h[6]=M,h[7]=R;return h},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,s){var o=this.getX(n,e);return s&&(o=Math.floor(o+.5)),o},getYRound:function(n,e,s){var o=this.getY(n,e);return s&&(o=Math.floor(o+.5)),o},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59715:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(l){return this.visible=l,this}};p.exports=t},31401:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),v=t(10312),a=t(83419),r=t(31401),n=t(51708),e=t(95643),s=t(87841),o=t(29959),i=t(36899),h=t(26099),u=new r.TransformMatrix,d=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,o],initialize:function(c,g,m,y){e.call(this,c,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this._sortKey="",this._sysEvents=c.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,m),this.setBlendMode(v.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(f){return f===void 0&&(f=!0),this.exclusive=f,this},getBounds:function(f){if(f===void 0&&(f=new s),f.setTo(this.x,this.y,0,0),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix(),g=c.transformPoint(this.x,this.y);f.setTo(g.x,g.y,0,0)}if(this.list.length>0){var m=this.list,y=new s,x=!1;f.setEmpty();for(var T=0;T<m.length;T++){var C=m[T];C.getBounds&&(C.getBounds(y),x?i(y,f,f):(f.setTo(y.x,y.y,y.width,y.height),x=!0))}}return f},addHandler:function(f){f.once(n.DESTROY,this.onChildDestroyed,this),this.exclusive&&(f.parentContainer&&f.parentContainer.remove(f),f.parentContainer=this,f.removeFromDisplayList(),f.addedToScene())},removeHandler:function(f){f.off(n.DESTROY,this.remove,this),this.exclusive&&(f.parentContainer=null,f.removedFromScene(),f.addToDisplayList())},pointToContainer:function(f,c){c===void 0&&(c=new h),this.parentContainer?this.parentContainer.pointToContainer(f,c):(c.x=f.x,c.y=f.y);var g=u;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(f.x,f.y,c),c},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(u,this.localTransform)},add:function(f){return l.Add(this.list,f,this.maxSize,this.addHandler,this),this},addAt:function(f,c){return l.AddAt(this.list,f,c,this.maxSize,this.addHandler,this),this},getAt:function(f){return this.list[f]},getIndex:function(f){return this.list.indexOf(f)},sort:function(f,c){return f?(c===void 0&&(c=function(g,m){return g[f]-m[f]}),l.StableSort(this.list,c),this):this},getByName:function(f){return l.GetFirst(this.list,"name",f)},getRandom:function(f,c){return l.GetRandom(this.list,f,c)},getFirst:function(f,c,g,m){return l.GetFirst(this.list,f,c,g,m)},getAll:function(f,c,g,m){return l.GetAll(this.list,f,c,g,m)},count:function(f,c,g,m){return l.CountAllMatching(this.list,f,c,g,m)},swap:function(f,c){return l.Swap(this.list,f,c),this},moveTo:function(f,c){return l.MoveTo(this.list,f,c),this},moveAbove:function(f,c){return l.MoveAbove(this.list,f,c),this},moveBelow:function(f,c){return l.MoveBelow(this.list,f,c),this},remove:function(f,c){var g=l.Remove(this.list,f,this.removeHandler,this);if(c&&g){Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++)g[m].destroy()}return this},removeAt:function(f,c){var g=l.RemoveAt(this.list,f,this.removeHandler,this);return c&&g&&g.destroy(),this},removeBetween:function(f,c,g){var m=l.RemoveBetween(this.list,f,c,this.removeHandler,this);if(g)for(var y=0;y<m.length;y++)m[y].destroy();return this},removeAll:function(f){var c=this.list;if(f){for(var g=0;g<c.length;g++)c[g]&&c[g].scene&&(c[g].off(n.DESTROY,this.onChildDestroyed,this),c[g].destroy());this.list=[]}else l.RemoveBetween(c,0,c.length,this.removeHandler,this);return this},bringToTop:function(f){return l.BringToTop(this.list,f),this},sendToBack:function(f){return l.SendToBack(this.list,f),this},moveUp:function(f){return l.MoveUp(this.list,f),this},moveDown:function(f){return l.MoveDown(this.list,f),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(f,c,g){var m=l.Replace(this.list,f,c);return m&&(this.addHandler(c),this.removeHandler(f),g&&f.destroy()),this},exists:function(f){return this.list.indexOf(f)>-1},setAll:function(f,c,g,m){return l.SetAll(this.list,f,c,g,m),this},each:function(f,c){var g=[null],m,y=this.list.slice(),x=y.length;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<x;m++)g[0]=y[m],f.apply(c,g);return this},iterate:function(f,c){var g=[null],m;for(m=2;m<arguments.length;m++)g.push(arguments[m]);for(m=0;m<this.list.length;m++)g[0]=this.list[m],f.apply(c,g);return this},setScrollFactor:function(f,c,g){return c===void 0&&(c=f),g===void 0&&(g=!1),this.scrollFactorX=f,this.scrollFactorY=c,g&&(l.SetAll(this.list,"scrollFactorX",f),l.SetAll(this.list,"scrollFactorY",c)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(f){l.Remove(this.list,f),this.exclusive&&(f.parentContainer=null,f.removedFromScene())}});p.exports=d},53584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v.addToRenderList(l);var r=l.list;if(r.length!==0){var n=l.localTransform;a?(n.loadIdentity(),n.multiply(a),n.translate(l.x,l.y),n.rotate(l.rotation),n.scale(l.scaleX,l.scaleY)):n.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var e=l.blendMode!==-1;e||t.setBlendMode(0);var s=l._alpha,o=l.scrollFactorX,i=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(t,null,v);for(var h=0;h<r.length;h++){var u=r[h];if(u.willRender(v)){var d=u.alpha,f=u.scrollFactorX,c=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(f*o,c*i),u.setAlpha(d*s),u.renderCanvas(t,u,v,n),u.setAlpha(d),u.setScrollFactor(f,c)}}l.mask&&l.mask.postRenderCanvas(t)}};p.exports=S},77143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(31559),a=t(44603),r=t(23568),n=t(95540);a.register("container",function(e,s){e===void 0&&(e={});var o=r(e,"x",0),i=r(e,"y",0),h=n(e,"children",null),u=new v(this.scene,o,i,h);return s!==void 0&&(e.add=s),l(this.scene,u,e),u})},24961:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31559),v=t(39429);v.register("container",function(a,r,n){return this.displayList.add(new l(this.scene,a,r,n))})},29959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(72249),a=t(53584),p.exports={renderWebGL:v,renderCanvas:a}},72249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v.addToRenderList(l);var r=l.list,n=r.length;if(n!==0){var e=l.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(l.x,l.y),e.rotate(l.rotation),e.scale(l.scaleX,l.scaleY)):e.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),t.pipelines.preBatch(l);var s=l.blendMode!==-1;s||t.setBlendMode(0);for(var o=l.alpha,i=l.scrollFactorX,h=l.scrollFactorY,u=0;u<n;u++){var d=r[u];if(d.willRender(v)){var f,c,g,m;if(d.alphaTopLeft!==void 0)f=d.alphaTopLeft,c=d.alphaTopRight,g=d.alphaBottomLeft,m=d.alphaBottomRight;else{var y=d.alpha;f=y,c=y,g=y,m=y}var x=d.scrollFactorX,T=d.scrollFactorY;!s&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var C=d.mask;C&&C.preRenderWebGL(t,d,v);var A=d.type;A!==t.currentType&&(t.newType=!0,t.currentType=A),t.nextTypeMatch=u<n-1?r[u+1].type===t.currentType:!1,d.setScrollFactor(x*i,T*h),d.setAlpha(f*o,c*o,g*o,m*o),d.renderWebGL(t,d,v,e,l),d.setAlpha(f,c,g,m),d.setScrollFactor(x,T),C&&C.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(l)}};p.exports=S},47407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(441),r=t(95643),n=t(41212),e=t(35846),s=t(44594),o=t(61369),i=new l({Extends:r,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,a],initialize:function(u,d,f,c,g,m){r.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new o,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,f),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),g,m):this.createElement(c,g,m):c&&this.setElement(c,g,m),u.sys.events.on(s.SLEEP,this.handleSceneEvent,this),u.sys.events.on(s.WAKE,this.handleSceneEvent,this),u.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var u=this.node,d=u.style;u&&(d.display=h.settings.visible?"block":"none")},setSkew:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this.skewX=h,this.skewY=u,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.addEventListener(h[u],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.removeEventListener(h[u],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,u,d){return this.setElement(document.createElement(h),u,d)},setElement:function(h,u,d){this.removeElement();var f;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),f=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(f=h),!f)return this;if(this.node=f,u&&n(u))for(var c in u)f.style[c]=u[c];else typeof u=="string"&&(f.style=u);return f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),d&&(f.innerText=d),this.updateSize()},createFromCache:function(h,u){var d=this.cache.get(h);return d&&this.createFromHTML(d,u),this},createFromHTML:function(h,u){u===void 0&&(u="div"),this.removeElement();var d=document.createElement(u);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node;return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(h,u){if(this.node){for(var d=this.node.querySelectorAll("*"),f=0;f<d.length;f++)if(d[f][h]===u)return d[f]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,u=this.node;u&&h&&!h.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});p.exports=i},49381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47407),v=t(95643),a=t(61340),r=new a,n=new a,e=new a,s=function(o,i,h,u){if(i.node){var d=i.node.style,f=i.scene.sys.settings;if(!d||!f.visible||v.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&h.id||i.parentContainer&&!i.parentContainer.willRender()){d.display="none";return}var c=i.parentContainer,g=h.alpha*i.alpha;c&&(g*=c.alpha);var m=r,y=n,x=e,T=0,C=0,A="0%",w="0%";u?(T=i.width*i.scaleX*i.originX,C=i.height*i.scaleY*i.originY,y.applyITRS(i.x-T,i.y-C,i.rotation,i.scaleX,i.scaleY),m.copyFrom(h.matrix),m.multiplyWithOffset(u,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),y.e=i.x-T,y.f=i.y-C,m.multiply(y,x)):(T=i.width*i.originX,C=i.height*i.originY,y.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),m.copyFrom(h.matrix),A=100*i.originX+"%",w=100*i.originY+"%",y.e-=h.scrollX*i.scrollFactorX,y.f-=h.scrollY*i.scrollFactorY,m.multiply(y,x),x.e-=T,x.f-=C),i.transformOnly||(d.display="block",d.opacity=g,d.zIndex=i._depth,d.pointerEvents=i.pointerEvents,d.mixBlendMode=l[i._blendMode]),d.transform=x.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",d.transformOrigin=A+" "+w}};p.exports=s},2611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3069),v=t(39429);v.register("dom",function(a,r,n,e,s){var o=new l(this.scene,a,r,n,e,s);return this.displayList.add(o),o})},441:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(49381),a=t(49381),p.exports={renderWebGL:v,renderCanvas:a}},62980:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},41337:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},44947:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},49358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},35163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},97249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},19483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},56059:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},26772:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="metadata"},64437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},83411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},75780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},67799:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},63500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},55541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},53208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},12:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},51708:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(64993),n=new l({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,r],initialize:function(s){a.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=n},70217:()=>{},56315:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42421),v=t(39429);v.register("extern",function(){var a=new l(this.scene);return this.displayList.add(a),a})},64993:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(80287),a=t(70217),p.exports={renderWebGL:v,renderCanvas:a}},80287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,n,e){a.pipelines.clear();var s=l(r,n,e).calc;r.render.call(r,a,n,s),a.pipelines.rebind()};p.exports=v},85592:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71911),v=t(83419),a=t(85592),r=t(31401),n=t(8497),e=t(95643),s=t(95540),o=t(35154),i=t(36383),h=t(84503),u=new v({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,h],initialize:function(f,c){var g=o(c,"x",0),m=o(c,"y",0);e.call(this,f,"Graphics"),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(c)},setDefaultStyles:function(d){return o(d,"lineStyle",null)&&(this.defaultStrokeWidth=o(d,"lineStyle.width",1),this.defaultStrokeColor=o(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=o(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),o(d,"fillStyle",null)&&(this.defaultFillColor=o(d,"fillStyle.color",16777215),this.defaultFillAlpha=o(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,f,c){return c===void 0&&(c=1),this.commandBuffer.push(a.LINE_STYLE,d,f,c),this._lineWidth=d,this},fillStyle:function(d,f){return f===void 0&&(f=1),this.commandBuffer.push(a.FILL_STYLE,d,f),this},fillGradientStyle:function(d,f,c,g,m,y,x,T){return m===void 0&&(m=1),y===void 0&&(y=m),x===void 0&&(x=m),T===void 0&&(T=m),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,m,y,x,T,d,f,c,g),this},lineGradientStyle:function(d,f,c,g,m,y){return y===void 0&&(y=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,d,y,f,c,g,m),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,f,c){return this.beginPath(),this.arc(d,f,c,0,i.PI2),this.fillPath(),this},strokeCircle:function(d,f,c){return this.beginPath(),this.arc(d,f,c,0,i.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,f,c,g){return this.commandBuffer.push(a.FILL_RECT,d,f,c,g),this},strokeRect:function(d,f,c,g){var m=this._lineWidth/2,y=d-m,x=d+m;return this.beginPath(),this.moveTo(d,f),this.lineTo(d,f+g),this.strokePath(),this.beginPath(),this.moveTo(d+c,f),this.lineTo(d+c,f+g),this.strokePath(),this.beginPath(),this.moveTo(y,f),this.lineTo(x+c,f),this.strokePath(),this.beginPath(),this.moveTo(y,f+g),this.lineTo(x+c,f+g),this.strokePath(),this},fillRoundedRect:function(d,f,c,g,m){m===void 0&&(m=20);var y=m,x=m,T=m,C=m;typeof m!="number"&&(y=s(m,"tl",20),x=s(m,"tr",20),T=s(m,"bl",20),C=s(m,"br",20));var A=y>=0,w=x>=0,P=T>=0,M=C>=0;return y=Math.abs(y),x=Math.abs(x),T=Math.abs(T),C=Math.abs(C),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+c-x,f),w?this.arc(d+c-x,f+x,x,-i.TAU,0):this.arc(d+c,f,x,Math.PI,i.TAU,!0),this.lineTo(d+c,f+g-C),M?this.arc(d+c-C,f+g-C,C,0,i.TAU):this.arc(d+c,f+g,C,-i.TAU,Math.PI,!0),this.lineTo(d+T,f+g),P?this.arc(d+T,f+g-T,T,i.TAU,Math.PI):this.arc(d,f+g,T,0,-i.TAU,!0),this.lineTo(d,f+y),A?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,f,c,g,m){m===void 0&&(m=20);var y=m,x=m,T=m,C=m,A=Math.min(c,g)/2;typeof m!="number"&&(y=s(m,"tl",20),x=s(m,"tr",20),T=s(m,"bl",20),C=s(m,"br",20));var w=y>=0,P=x>=0,M=T>=0,R=C>=0;return y=Math.min(Math.abs(y),A),x=Math.min(Math.abs(x),A),T=Math.min(Math.abs(T),A),C=Math.min(Math.abs(C),A),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+c-x,f),this.moveTo(d+c-x,f),P?this.arc(d+c-x,f+x,x,-i.TAU,0):this.arc(d+c,f,x,Math.PI,i.TAU,!0),this.lineTo(d+c,f+g-C),this.moveTo(d+c,f+g-C),R?this.arc(d+c-C,f+g-C,C,0,i.TAU):this.arc(d+c,f+g,C,-i.TAU,Math.PI,!0),this.lineTo(d+T,f+g),this.moveTo(d+T,f+g),M?this.arc(d+T,f+g-T,T,i.TAU,Math.PI):this.arc(d,f+g,T,0,-i.TAU,!0),this.lineTo(d,f+y),this.moveTo(d,f+y),w?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,f){return this.fillPoint(d.x,d.y,f)},fillPoint:function(d,f,c){return!c||c<1?c=1:(d-=c/2,f-=c/2),this.commandBuffer.push(a.FILL_RECT,d,f,c,c),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,f,c,g,m,y){return this.commandBuffer.push(a.FILL_TRIANGLE,d,f,c,g,m,y),this},strokeTriangle:function(d,f,c,g,m,y){return this.commandBuffer.push(a.STROKE_TRIANGLE,d,f,c,g,m,y),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,f,c,g){return this.beginPath(),this.moveTo(d,f),this.lineTo(c,g),this.strokePath(),this},lineTo:function(d,f){return this.commandBuffer.push(a.LINE_TO,d,f),this},moveTo:function(d,f){return this.commandBuffer.push(a.MOVE_TO,d,f),this},strokePoints:function(d,f,c,g){f===void 0&&(f=!1),c===void 0&&(c=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var m=1;m<g;m++)this.lineTo(d[m].x,d[m].y);return f&&this.lineTo(d[0].x,d[0].y),c&&this.closePath(),this.strokePath(),this},fillPoints:function(d,f,c,g){f===void 0&&(f=!1),c===void 0&&(c=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var m=1;m<g;m++)this.lineTo(d[m].x,d[m].y);return f&&this.lineTo(d[0].x,d[0].y),c&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,f){f===void 0&&(f=32);var c=d.getPoints(f);return this.strokePoints(c,!0)},strokeEllipse:function(d,f,c,g,m){m===void 0&&(m=32);var y=new n(d,f,c,g),x=y.getPoints(m);return this.strokePoints(x,!0)},fillEllipseShape:function(d,f){f===void 0&&(f=32);var c=d.getPoints(f);return this.fillPoints(c,!0)},fillEllipse:function(d,f,c,g,m){m===void 0&&(m=32);var y=new n(d,f,c,g),x=y.getPoints(m);return this.fillPoints(x,!0)},arc:function(d,f,c,g,m,y,x){return y===void 0&&(y=!1),x===void 0&&(x=0),this.commandBuffer.push(a.ARC,d,f,c,g,m,y,x),this},slice:function(d,f,c,g,m,y,x){return y===void 0&&(y=!1),x===void 0&&(x=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,d,f),this.commandBuffer.push(a.ARC,d,f,c,g,m,y,x),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(d,f){return this.commandBuffer.push(a.TRANSLATE,d,f),this},scaleCanvas:function(d,f){return this.commandBuffer.push(a.SCALE,d,f),this},rotateCanvas:function(d){return this.commandBuffer.push(a.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,f,c){var g=this.scene.sys,m=g.game.renderer;f===void 0&&(f=g.scale.width),c===void 0&&(c=g.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,f,c),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var y,x,T={willReadFrequently:!0};if(typeof d=="string")if(g.textures.exists(d)){y=g.textures.get(d);var C=y.getSourceImage();C instanceof HTMLCanvasElement&&(x=C.getContext("2d",T))}else y=g.textures.createCanvas(d,f,c),x=y.getSourceImage().getContext("2d",T);else d instanceof HTMLCanvasElement&&(x=d.getContext("2d",T));return x&&(this.renderCanvas(m,this,u.TargetCamera,null,x,!1),y&&y.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new l,p.exports=u},32768:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85592),v=t(20926),a=function(r,n,e,s,o,i){var h=n.commandBuffer,u=h.length,d=o||r.currentContext;if(!(u===0||!v(r,d,n,e,s))){e.addToRenderList(n);var f=1,c=1,g=0,m=0,y=1,x=0,T=0,C=0;d.beginPath();for(var A=0;A<u;++A){var w=h[A];switch(w){case l.ARC:d.arc(h[A+1],h[A+2],h[A+3],h[A+4],h[A+5],h[A+6]),A+=7;break;case l.LINE_STYLE:y=h[A+1],g=h[A+2],f=h[A+3],x=(g&16711680)>>>16,T=(g&65280)>>>8,C=g&255,d.strokeStyle="rgba("+x+","+T+","+C+","+f+")",d.lineWidth=y,A+=3;break;case l.FILL_STYLE:m=h[A+1],c=h[A+2],x=(m&16711680)>>>16,T=(m&65280)>>>8,C=m&255,d.fillStyle="rgba("+x+","+T+","+C+","+c+")",A+=2;break;case l.BEGIN_PATH:d.beginPath();break;case l.CLOSE_PATH:d.closePath();break;case l.FILL_PATH:i||d.fill();break;case l.STROKE_PATH:i||d.stroke();break;case l.FILL_RECT:i?d.rect(h[A+1],h[A+2],h[A+3],h[A+4]):d.fillRect(h[A+1],h[A+2],h[A+3],h[A+4]),A+=4;break;case l.FILL_TRIANGLE:d.beginPath(),d.moveTo(h[A+1],h[A+2]),d.lineTo(h[A+3],h[A+4]),d.lineTo(h[A+5],h[A+6]),d.closePath(),i||d.fill(),A+=6;break;case l.STROKE_TRIANGLE:d.beginPath(),d.moveTo(h[A+1],h[A+2]),d.lineTo(h[A+3],h[A+4]),d.lineTo(h[A+5],h[A+6]),d.closePath(),i||d.stroke(),A+=6;break;case l.LINE_TO:d.lineTo(h[A+1],h[A+2]),A+=2;break;case l.MOVE_TO:d.moveTo(h[A+1],h[A+2]),A+=2;break;case l.LINE_FX_TO:d.lineTo(h[A+1],h[A+2]),A+=5;break;case l.MOVE_FX_TO:d.moveTo(h[A+1],h[A+2]),A+=5;break;case l.SAVE:d.save();break;case l.RESTORE:d.restore();break;case l.TRANSLATE:d.translate(h[A+1],h[A+2]),A+=2;break;case l.SCALE:d.scale(h[A+1],h[A+2]),A+=2;break;case l.ROTATE:d.rotate(h[A+1]),A+=1;break;case l.GRADIENT_FILL_STYLE:A+=5;break;case l.GRADIENT_LINE_STYLE:A+=6;break}}d.restore()}};p.exports=a},87079:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(43831);l.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var n=new v(this.scene,a);return a.add&&this.scene.sys.displayList.add(n),n})},1201:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43831),v=t(39429);v.register("graphics",function(a){return this.displayList.add(new l(this.scene,a))})},84503:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(77545),a=t(32768),a=t(32768),p.exports={renderWebGL:v,renderCanvas:a}},77545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85592),v=t(91296),a=t(61340),r=t(70554),n=function(h,u,d){this.x=h,this.y=u,this.width=d},e=function(h,u,d){this.points=[],this.pointsLength=1,this.points[0]=new n(h,u,d)},s=[],o=new a,i=function(h,u,d,f){if(u.commandBuffer.length!==0){d.addToRenderList(u);var c=h.pipelines.set(u.pipeline,u);h.pipelines.preBatch(u);for(var g=v(u,d,f).calc,m=o.loadIdentity(),y=u.commandBuffer,x=d.alpha*u.alpha,T=1,C=c.fillTint,A=c.strokeTint,w=0,P=0,M=0,R=.01,O=Math.PI*2,U,X=[],W=0,Y=!0,N=null,z=r.getTintAppendFloatAlpha,B=0;B<y.length;B++)switch(U=y[B],U){case l.BEGIN_PATH:{X.length=0,N=null,Y=!0;break}case l.CLOSE_PATH:{Y=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case l.FILL_PATH:{for(W=0;W<X.length;W++)c.batchFillPath(X[W].points,m,g);break}case l.STROKE_PATH:{for(W=0;W<X.length;W++)c.batchStrokePath(X[W].points,T,Y,m,g);break}case l.LINE_STYLE:{T=y[++B];var I=y[++B],G=y[++B]*x,H=z(I,G);A.TL=H,A.TR=H,A.BL=H,A.BR=H;break}case l.FILL_STYLE:{var K=y[++B],Z=y[++B]*x,Q=z(K,Z);C.TL=Q,C.TR=Q,C.BL=Q,C.BR=Q;break}case l.GRADIENT_FILL_STYLE:{var j=y[++B]*x,_=y[++B]*x,tt=y[++B]*x,et=y[++B]*x;C.TL=z(y[++B],j),C.TR=z(y[++B],_),C.BL=z(y[++B],tt),C.BR=z(y[++B],et);break}case l.GRADIENT_LINE_STYLE:{T=y[++B];var rt=y[++B]*x;A.TL=z(y[++B],rt),A.TR=z(y[++B],rt),A.BL=z(y[++B],rt),A.BR=z(y[++B],rt);break}case l.ARC:{var at=0,st=y[++B],ct=y[++B],vt=y[++B],pt=y[++B],nt=y[++B],ot=y[++B],ht=y[++B];for(nt-=pt,ot?nt<-O?nt=-O:nt>0&&(nt=-O+nt%O):nt>O?nt=O:nt<0&&(nt=O+nt%O),N===null&&(N=new e(st+Math.cos(pt)*vt,ct+Math.sin(pt)*vt,T),X.push(N),at+=R);at<1+ht;)M=nt*at+pt,w=st+Math.cos(M)*vt,P=ct+Math.sin(M)*vt,N.points.push(new n(w,P,T)),at+=R;M=nt+pt,w=st+Math.cos(M)*vt,P=ct+Math.sin(M)*vt,N.points.push(new n(w,P,T));break}case l.FILL_RECT:{c.batchFillRect(y[++B],y[++B],y[++B],y[++B],m,g);break}case l.FILL_TRIANGLE:{c.batchFillTriangle(y[++B],y[++B],y[++B],y[++B],y[++B],y[++B],m,g);break}case l.STROKE_TRIANGLE:{c.batchStrokeTriangle(y[++B],y[++B],y[++B],y[++B],y[++B],y[++B],T,m,g);break}case l.LINE_TO:{N!==null?N.points.push(new n(y[++B],y[++B],T)):(N=new e(y[++B],y[++B],T),X.push(N));break}case l.MOVE_TO:{N=new e(y[++B],y[++B],T),X.push(N);break}case l.SAVE:{s.push(m.copyToArray());break}case l.RESTORE:{m.copyFromArray(s.pop());break}case l.TRANSLATE:{st=y[++B],ct=y[++B],m.translate(st,ct);break}case l.SCALE:{st=y[++B],ct=y[++B],m.scale(st,ct);break}case l.ROTATE:{m.rotate(y[++B]);break}}h.pipelines.postBatch(u)}};p.exports=i},26479:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61061),v=t(83419),a=t(51708),r=t(50792),n=t(46710),e=t(95540),s=t(35154),o=t(97022),i=t(41212),h=t(88492),u=t(35072),d=t(68287),f=new v({Extends:r,initialize:function(g,m,y){r.call(this),y?m&&!Array.isArray(m)&&(m=[m]):Array.isArray(m)?i(m[0])&&(y=m,m=null):i(m)&&(y=m,m=null),this.scene=g,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(y,"classType",d),this.name=e(y,"name",""),this.active=e(y,"active",!0),this.maxSize=e(y,"maxSize",-1),this.defaultKey=e(y,"defaultKey",null),this.defaultFrame=e(y,"defaultFrame",null),this.runChildUpdate=e(y,"runChildUpdate",!1),this.createCallback=e(y,"createCallback",null),this.removeCallback=e(y,"removeCallback",null),this.createMultipleCallback=e(y,"createMultipleCallback",null),this.internalCreateCallback=e(y,"internalCreateCallback",null),this.internalRemoveCallback=e(y,"internalRemoveCallback",null),m&&this.addMultiple(m),y&&this.createMultiple(y),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,g,m,y,x,T){if(c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=this.defaultKey),y===void 0&&(y=this.defaultFrame),x===void 0&&(x=!0),T===void 0&&(T=!0),this.isFull())return null;var C=new this.classType(this.scene,c,g,m,y);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=x,C.setActive(T),this.add(C),C},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var g=[];if(c[0].key)for(var m=0;m<c.length;m++){var y=this.createFromConfig(c[m]);g=g.concat(y)}return g},createFromConfig:function(c){if(this.isFull())return[];this.classType=e(c,"classType",this.classType);var g=e(c,"key",void 0),m=e(c,"frame",null),y=e(c,"visible",!0),x=e(c,"active",!0),T=[];if(g===void 0)return T;Array.isArray(g)||(g=[g]),Array.isArray(m)||(m=[m]);var C=e(c,"repeat",0),A=e(c,"randomKey",!1),w=e(c,"randomFrame",!1),P=e(c,"yoyo",!1),M=e(c,"quantity",!1),R=e(c,"frameQuantity",1),O=e(c,"max",0),U=h(g,m,{max:O,qty:M||R,random:A,randomB:w,repeat:C,yoyo:P});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback),c.internalCreateCallback&&(this.internalCreateCallback=c.internalCreateCallback),c.internalRemoveCallback&&(this.internalRemoveCallback=c.internalRemoveCallback);for(var X=0;X<U.length;X++){var W=this.create(0,0,U[X].a,U[X].b,y,x);if(!W)break;T.push(W)}if(o(c,"setXY")){var Y=s(c,"setXY.x",0),N=s(c,"setXY.y",0),z=s(c,"setXY.stepX",0),B=s(c,"setXY.stepY",0);l.SetXY(T,Y,N,z,B)}if(o(c,"setRotation")){var I=s(c,"setRotation.value",0),G=s(c,"setRotation.step",0);l.SetRotation(T,I,G)}if(o(c,"setScale")){var H=s(c,"setScale.x",1),K=s(c,"setScale.y",H),Z=s(c,"setScale.stepX",0),Q=s(c,"setScale.stepY",0);l.SetScale(T,H,K,Z,Q)}if(o(c,"setOrigin")){var j=s(c,"setOrigin.x",.5),_=s(c,"setOrigin.y",j),tt=s(c,"setOrigin.stepX",0),et=s(c,"setOrigin.stepY",0);l.SetOrigin(T,j,_,tt,et)}if(o(c,"setAlpha")){var rt=s(c,"setAlpha.value",1),at=s(c,"setAlpha.step",0);l.SetAlpha(T,rt,at)}if(o(c,"setDepth")){var st=s(c,"setDepth.value",0),ct=s(c,"setDepth.step",0);l.SetDepth(T,st,ct)}if(o(c,"setScrollFactor")){var vt=s(c,"setScrollFactor.x",1),pt=s(c,"setScrollFactor.y",vt),nt=s(c,"setScrollFactor.stepX",0),ot=s(c,"setScrollFactor.stepY",0);l.SetScrollFactor(T,vt,pt,nt,ot)}var ht=e(c,"hitArea",null),xt=e(c,"hitAreaCallback",null);ht&&l.SetHitArea(T,ht,xt);var Et=e(c,"gridAlign",!1);return Et&&l.GridAlign(T,Et),this.createMultipleCallback&&this.createMultipleCallback.call(this,T),T},preUpdate:function(c,g){if(!(!this.runChildUpdate||this.children.size===0))for(var m=this.children.entries.slice(),y=0;y<m.length;y++){var x=m[y];x.active&&x.update(c,g)}},add:function(c,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),g&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(a.DESTROY,this.remove,this),this)},addMultiple:function(c,g){if(g===void 0&&(g=!1),Array.isArray(c))for(var m=0;m<c.length;m++)this.add(c[m],g);return this},remove:function(c,g,m){return g===void 0&&(g=!1),m===void 0&&(m=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(a.DESTROY,this.remove,this),m?c.destroy():g&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1);for(var m=this.children,y=0;y<m.size;y++){var x=m.entries[y];x.off(a.DESTROY,this.remove,this),g?x.destroy():c&&(x.removeFromDisplayList(),x.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,g,m,y){return n(this.children.entries,c,g,m,y)},getFirst:function(c,g,m,y,x,T,C){return this.getHandler(!0,1,c,g,m,y,x,T,C)},getFirstNth:function(c,g,m,y,x,T,C,A){return this.getHandler(!0,c,g,m,y,x,T,C,A)},getLast:function(c,g,m,y,x,T,C){return this.getHandler(!1,1,c,g,m,y,x,T,C)},getLastNth:function(c,g,m,y,x,T,C,A){return this.getHandler(!1,c,g,m,y,x,T,C,A)},getHandler:function(c,g,m,y,x,T,C,A,w){m===void 0&&(m=!1),y===void 0&&(y=!1);var P,M,R=0,O=this.children.entries;if(c)for(M=0;M<O.length;M++)if(P=O[M],P.active===m){if(R++,R===g)break}else P=null;else for(M=O.length-1;M>=0;M--)if(P=O[M],P.active===m){if(R++,R===g)break}else P=null;return P?(typeof x=="number"&&(P.x=x),typeof T=="number"&&(P.y=T),P):y?this.create(x,T,C,A,w):null},get:function(c,g,m,y,x){return this.getFirst(!1,!0,c,g,m,y,x)},getFirstAlive:function(c,g,m,y,x,T){return this.getFirst(!0,c,g,m,y,x,T)},getFirstDead:function(c,g,m,y,x,T){return this.getFirst(!1,c,g,m,y,x,T)},playAnimation:function(c,g){return l.PlayAnimation(this.children.entries,c,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var g=0,m=0;m<this.children.size;m++)this.children.entries[m].active===c&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,g,m,y,x){return l.PropertyValueSet(this.children.entries,c,g,m,y,x),this},propertyValueInc:function(c,g,m,y,x){return l.PropertyValueInc(this.children.entries,c,g,m,y,x),this},setX:function(c,g){return l.SetX(this.children.entries,c,g),this},setY:function(c,g){return l.SetY(this.children.entries,c,g),this},setXY:function(c,g,m,y){return l.SetXY(this.children.entries,c,g,m,y),this},incX:function(c,g){return l.IncX(this.children.entries,c,g),this},incY:function(c,g){return l.IncY(this.children.entries,c,g),this},incXY:function(c,g,m,y){return l.IncXY(this.children.entries,c,g,m,y),this},shiftPosition:function(c,g,m){return l.ShiftPosition(this.children.entries,c,g,m),this},angle:function(c,g){return l.Angle(this.children.entries,c,g),this},rotate:function(c,g){return l.Rotate(this.children.entries,c,g),this},rotateAround:function(c,g){return l.RotateAround(this.children.entries,c,g),this},rotateAroundDistance:function(c,g,m){return l.RotateAroundDistance(this.children.entries,c,g,m),this},setAlpha:function(c,g){return l.SetAlpha(this.children.entries,c,g),this},setTint:function(c,g,m,y){return l.SetTint(this.children.entries,c,g,m,y),this},setOrigin:function(c,g,m,y){return l.SetOrigin(this.children.entries,c,g,m,y),this},scaleX:function(c,g){return l.ScaleX(this.children.entries,c,g),this},scaleY:function(c,g){return l.ScaleY(this.children.entries,c,g),this},scaleXY:function(c,g,m,y){return l.ScaleXY(this.children.entries,c,g,m,y),this},setDepth:function(c,g){return l.SetDepth(this.children.entries,c,g),this},setBlendMode:function(c){return l.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,g){return l.SetHitArea(this.children.entries,c,g),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,g,m){return l.SetVisible(this.children.entries,c,g,m),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(c,g){c===void 0&&(c=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,c),this.scene=void 0,this.children=void 0)}});p.exports=f},94975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(26479);l.register("group",function(a){return new v(this.scene,null,a)})},3385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26479),v=t(39429);v.register("group",function(a,r){return this.updateList.add(new l(this.scene,a,r))})},88571:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(59819),n=new l({Extends:a,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,r],initialize:function(s,o,i,h,u){a.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,u),this.setPosition(o,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},40652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v.addToRenderList(l),t.batchSprite(l,l.frame,v,a)};p.exports=S},82459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(88571);v.register("image",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=a(n,"frame",null),i=new r(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),l(this.scene,i,n),i})},2117:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88571),v=t(39429);v.register("image",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},59819:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(99517),a=t(40652),p.exports={renderWebGL:v,renderCanvas:a}},99517:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v.addToRenderList(l),this.pipeline.batchSprite(l,v,a)};p.exports=S},77856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};l.Shader=t(20071),l.Mesh=t(4703),l.NineSlice=t(28103),l.PointLight=t(80321),l.Plane=t(33663),l.Factories.Shader=t(74177),l.Factories.Mesh=t(9225),l.Factories.NineSlice=t(47521),l.Factories.PointLight=t(71255),l.Factories.Plane=t(30985),l.Creators.Shader=t(54935),l.Creators.Mesh=t(20527),l.Creators.NineSlice=t(28279),l.Creators.PointLight=t(39829),l.Creators.Plane=t(56015),l.Light=t(41432),l.LightsManager=t(61356),l.LightsPlugin=t(88992),p.exports=l},93595:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(83419),a=t(31401),r=t(53774),n=t(45893),e=t(50792),s=t(51708),o=t(73162),i=t(33963),h=t(44594),u=t(19186),d=new v({Extends:o,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,i],initialize:function(c,g){o.call(this,c),e.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),g&&this.add(g),c.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(f,c){return this.data||(this.data=new n(this)),this.data.set(f,c),this},incData:function(f,c){return this.data||(this.data=new n(this)),this.data.inc(f,c),this},toggleData:function(f){return this.data||(this.data=new n(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new n(this)),this.data.get(f)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(f){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,c=this.parentContainer,g=[];c&&(g.unshift(c.getIndex(f)),f=c,c.parentContainer);)c=c.parentContainer;return g.unshift(this.displayList.getIndex(f)),g},addChildCallback:function(f){var c=f.displayList;c&&c!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(s.ADDED_TO_SCENE,f,this.scene),this.events.emit(h.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(s.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,f,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,c){return f._depth-c._depth},getChildren:function(){return this.list},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),f.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var f=null;return this.parentContainer?f=this.parentContainer.list:this.displayList&&(f=this.displayList.list),f},destroy:function(f){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var c=this.list;c.length;)c[0].destroy(f);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=d},2956:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=l.list;if(a.length!==0){l.depthSort();var r=l.blendMode!==-1;r||t.setBlendMode(0);var n=l._alpha;l.mask&&l.mask.preRenderCanvas(t,null,v);for(var e=0;e<a.length;e++){var s=a[e];if(s.willRender(v)){var o=s.alpha;!r&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(o*n),s.renderCanvas(t,s,v),s.setAlpha(o)}}l.mask&&l.mask.postRenderCanvas(t)}};p.exports=S},25179:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(93595),a=t(44603),r=t(23568);a.register("layer",function(n,e){n===void 0&&(n={});var s=r(n,"children",null),o=new v(this.scene,s);return e!==void 0&&(n.add=e),l(this.scene,o,n),o})},20005:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93595),v=t(39429);v.register("layer",function(a){return this.displayList.add(new l(this.scene,a))})},33963:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(15869),a=t(2956),p.exports={renderWebGL:v,renderCanvas:a}},15869:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=l.list,r=a.length;if(r!==0){l.depthSort(),t.pipelines.preBatch(l);var n=l.blendMode!==-1;n||t.setBlendMode(0);for(var e=l.alpha,s=0;s<r;s++){var o=a[s];if(o.willRender(v)){var i,h,u,d;if(o.alphaTopLeft!==void 0)i=o.alphaTopLeft,h=o.alphaTopRight,u=o.alphaBottomLeft,d=o.alphaBottomRight;else{var f=o.alpha;i=f,h=f,u=f,d=f}!n&&o.blendMode!==t.currentBlendMode&&t.setBlendMode(o.blendMode);var c=o.mask;c&&c.preRenderWebGL(t,o,v);var g=o.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=s<r-1?a[s+1].type===t.currentType:!1,o.setAlpha(i*e,h*e,u*e,d*e),o.renderWebGL(t,o,v),o.setAlpha(i,h,u,d),c&&c.postRenderWebGL(t,v),t.newType=!1}}t.pipelines.postBatch(l)}};p.exports=S},41432:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=t(83419),a=t(31401),r=t(51767),n=t(70554),e=new v({Extends:l,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(o,i,h,u,d,f,c){l.call(this,o,i,h),this.color=new r(u,d,f),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var o=n.getFloatsFromUintRGB(s);return this.color.set(o[0],o[1],o[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,p.exports=e},61356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81491),v=t(83419),a=t(20339),r=t(41432),n=t(80321),e=t(51767),s=t(19133),o=t(19186),i=t(70554),h=new v({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,d,f,c,g,m){return this.systems.displayList.add(new n(this.scene,u,d,f,c,g,m))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var d=this.lights,f=u.worldView,c=[],g=0;g<d.length;g++){var m=d[g];m.willRender(u)&&l(m,f)&&c.push({light:m,distance:a(m.x,m.y,f.centerX,f.centerY)})}return c.length>this.maxLights&&(o(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(u,d){return u.distance>=d.distance},setAmbientColor:function(u){var d=i.getFloatsFromUintRGB(u);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,d,f,c,g){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),c===void 0&&(c=16777215),g===void 0&&(g=1);var m=i.getFloatsFromUintRGB(c),y=new r(u,d,f,m[0],m[1],m[2],g);return this.lights.push(y),y},removeLight:function(u){var d=this.lights.indexOf(u);return d>=0&&s(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=h},88992:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(61356),a=t(37277),r=t(44594),n=new l({Extends:v,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),v.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",n,"lights"),p.exports=n},4703:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(39506),r=t(83997),n=t(95643),e=t(34684),s=t(92515),o=t(91296),i=t(37867),h=t(29807),u=t(43396),d=t(19186),f=t(25836),c=t(39318),g=new l({Extends:n,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,h],initialize:function(y,x,T,C,A,w,P,M,R,O,U,X){x===void 0&&(x=0),T===void 0&&(T=0),C===void 0&&(C="__WHITE"),n.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new f,this.modelScale=new f(1,1,1),this.modelRotation=new f,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new f,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=y.sys.renderer;this.setPosition(x,T),this.setTexture(C,A),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),w&&this.addVertices(w,P,M,R,O,U,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(m){return this.viewPosition.addScale(f.LEFT,m),this.dirtyCache[10]=1,this},panY:function(m){return this.viewPosition.y+=f.DOWN.y*m,this.dirtyCache[10]=1,this},panZ:function(m){return this.viewPosition.z+=m,this.dirtyCache[10]=1,this},setPerspective:function(m,y,x,T,C){return x===void 0&&(x=45),T===void 0&&(T=.01),C===void 0&&(C=1e3),this.fov=x,this.projectionMatrix.perspective(a(x),m/y,T,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(m,y,x,T){return m===void 0&&(m=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),x===void 0&&(x=-1e3),T===void 0&&(T=1e3),this.fov=0,this.projectionMatrix.ortho(-m,m,-y,y,x,T),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(m){m.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(m,y,x,T,C,A,w,P,M){var R=this.scene.sys.cache.obj.get(m),O;return R&&(O=e(R,this,y,x,T,C,A,w,P,M)),(!O||O.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",m),this},sortByDepth:function(m,y){return m.depth-y.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(m,y,x,T,C,A,w){var P=new c(m,y,x,T,C,A,w);return this.vertices.push(P),P},addFace:function(m,y,x){var T=new r(m,y,x);return this.faces.push(T),this.dirtyCache[9]=-1,T},addVertices:function(m,y,x,T,C,A,w){var P=s(m,y,x,T,C,A,w);return P?(this.faces=this.faces.concat(P.faces),this.vertices=this.vertices.concat(P.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(m){return this.faces[m]},hasFaceAt:function(m,y,x){x===void 0&&(x=this.scene.sys.cameras.main);for(var T=o(this,x).calc,C=this.faces,A=0;A<C.length;A++){var w=C[A];if(w.contains(m,y,T))return!0}return!1},getFaceAt:function(m,y,x){x===void 0&&(x=this.scene.sys.cameras.main);for(var T=o(this,x).calc,C=this.faces,A=[],w=0;w<C.length;w++){var P=C[w];P.contains(m,y,T)&&A.push(P)}return d(A,this.sortByDepth)},setDebug:function(m,y){return this.debugGraphic=m,!m&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var m=this.modelPosition,y=this.modelRotation,x=this.modelScale,T=this.dirtyCache,C=m.x,A=m.y,w=m.z,P=y.x,M=y.y,R=y.z,O=x.x,U=x.y,X=x.z,W=this.getFaceCount(),Y=T[0],N=T[1],z=T[2],B=T[3],I=T[4],G=T[5],H=T[6],K=T[7],Z=T[8],Q=T[9];return T[0]=C,T[1]=A,T[2]=w,T[3]=P,T[4]=M,T[5]=R,T[6]=O,T[7]=U,T[8]=X,T[9]=W,Y!==C||N!==A||z!==w||B!==P||I!==M||G!==R||H!==O||K!==U||Z!==X||Q!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var m=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!m[10]&&!this.isDirty())){var y=this.width,x=this.height,T=this.viewMatrix,C=this.viewPosition;m[10]&&(T.identity(),T.translate(C),T.invert(),m[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var w=C.z,P=this.faces,M=0;M<P.length;M++)P[M].transformCoordinatesLocal(A,y,x,w);this.depthSort()}},renderDebug:function(m,y){for(var x=m.debugGraphic,T=0;T<y.length;T++){var C=y[T],A=C.vertex1.tx,w=C.vertex1.ty,P=C.vertex2.tx,M=C.vertex2.ty,R=C.vertex3.tx,O=C.vertex3.ty;x.strokeTriangle(A,w,P,M,R,O)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(m){m===void 0&&(m={});var y=(function(x,T,C){for(var A=this.faces,w=0;w<A.length;w++){var P=A[w];if(P.contains(T,C))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,m,y),this},setTint:function(m){m===void 0&&(m=16777215);for(var y=this.vertices,x=0;x<y.length;x++)y[x].color=m;return this},uvScroll:function(m,y){for(var x=this.faces,T=0;T<x.length;T++)x[T].scrollUV(m,y);return this},uvScale:function(m,y){for(var x=this.faces,T=0;T<x.length;T++)x[T].scaleUV(m,y);return this},tint:{set:function(m){this.setTint(m)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(m){this.modelRotation.x=a(m)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(m){this.modelRotation.y=a(m)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(m){this.modelRotation.z=a(m)}}});p.exports=g},36488:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},20527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(35154),n=t(4703);v.register("mesh",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),h=r(e,"vertices",[]),u=r(e,"uvs",[]),d=r(e,"indicies",[]),f=r(e,"containsZ",!1),c=r(e,"normals",[]),g=r(e,"colors",16777215),m=r(e,"alphas",1),y=new n(this.scene,0,0,o,i,h,u,d,f,c,g,m);return s!==void 0&&(e.add=s),l(this.scene,y,e),y})},9225:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4703),v=t(39429);v.register("mesh",function(a,r,n,e,s,o,i,h,u,d,f){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h,u,d,f))})},29807:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(48833),a=t(36488),p.exports={renderWebGL:v,renderCanvas:a}},48833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,n,e){var s=r.faces,o=s.length;if(o!==0){n.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),h=l(r,n,e).calc;a.pipelines.preBatch(r);for(var u=i.setGameObject(r),d=i.vertexViewF32,f=i.vertexViewU32,c=i.vertexCount*i.currentShader.vertexComponentCount-1,g=r.tintFill,m=[],y=r.debugCallback,x=h.a,T=h.b,C=h.c,A=h.d,w=h.e,P=h.f,M=r.viewPosition.z,R=r.hideCCW,O=n.roundPixels,U=n.alpha*r.alpha,X=0,W=0;W<o;W++){var Y=s[W];Y.isInView(n,R,M,U,x,T,C,A,w,P,O)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(r),c=i.vertexCount*i.currentShader.vertexComponentCount-1),c=Y.load(d,f,c,u,g),X++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,y&&m.push(Y))}r.totalFrame+=X,y&&y.call(r,r,m),a.pipelines.postBatch(r)}};p.exports=v},28103:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(78023),n=t(39318),e=new l({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,r],initialize:function(o,i,h,u,d,f,c,g,m,y,x){a.call(this,o,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var T=o.textures.getFrame(u,d);this.is3Slice=!y&&!x,T&&T.scale9&&(this.is3Slice=T.is3Slice);for(var C=this.is3Slice?18:54,A=0;A<C;A++)this.vertices.push(new n);this.setPosition(i,h),this.setTexture(u,d),this.setSlices(f,c,g,m,y,x,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,o,i,h,u,d,f){i===void 0&&(i=10),h===void 0&&(h=10),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=!1);var c=this.frame,g=!1;if(this.is3Slice&&f&&u!==0&&d!==0&&(g=!0),g)console.warn("Cannot change 9 slice to 3 slice");else{if(c&&c.scale9&&!f){var m=c.data.scale9Borders,y=m.x,x=m.y;i=y,h=c.width-m.w-y,u=x,d=c.height-m.h-x,s===void 0&&(s=c.width),o===void 0&&(o=c.height)}else s===void 0&&(s=256),o===void 0&&(o=256);this._width=s,this._height=o,this.leftWidth=i,this.rightWidth=h,this.topHeight=u,this.bottomHeight=d,this.is3Slice&&(o=c.height,this._height=o,this.topHeight=o,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,s/u,i/d),this.updateQuadUVs(6,s/u,0,1-o/u,i/d),this.updateQuadUVs(12,1-o/u,0,1,i/d),this.is3Slice||(this.updateQuadUVs(18,0,i/d,s/u,1-h/d),this.updateQuadUVs(24,s/u,i/d,1-o/u,1-h/d),this.updateQuadUVs(30,1-o/u,i/d,1,1-h/d),this.updateQuadUVs(36,0,1-h/d,s/u,1),this.updateQuadUVs(42,s/u,1-h/d,1-o/u,1),this.updateQuadUVs(48,1-o/u,1-h/d,1,1))},updateVertices:function(){var s=this.leftWidth,o=this.rightWidth,i=this.topHeight,h=this.bottomHeight,u=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+s/u,.5-i/d),this.updateQuad(6,-.5+s/u,.5,.5-o/u,.5-i/d),this.updateQuad(12,.5-o/u,.5,.5,.5-i/d),this.is3Slice||(this.updateQuad(18,-.5,.5-i/d,-.5+s/u,-.5+h/d),this.updateQuad(24,-.5+s/u,.5-i/d,.5-o/u,-.5+h/d),this.updateQuad(30,.5-o/u,.5-i/d,.5,-.5+h/d),this.updateQuad(36,-.5,-.5+h/d,-.5+s/u,-.5),this.updateQuad(42,-.5+s/u,-.5+h/d,.5-o/u,-.5),this.updateQuad(48,.5-o/u,-.5+h/d,.5,-.5))},updateQuad:function(s,o,i,h,u){var d=this.width,f=this.height,c=this.originX,g=this.originY,m=this.vertices;m[s+0].resize(o,i,d,f,c,g),m[s+1].resize(o,u,d,f,c,g),m[s+2].resize(h,i,d,f,c,g),m[s+3].resize(o,u,d,f,c,g),m[s+4].resize(h,u,d,f,c,g),m[s+5].resize(h,i,d,f,c,g)},updateQuadUVs:function(s,o,i,h,u){var d=this.vertices,f=this.frame,c=f.u0,g=f.v0,m=f.u1,y=f.v1;if(c!==0||m!==1){var x=m-c;o=c+o*x,h=c+h*x}if(g!==0||y!==1){var T=y-g;i=g+i*T,u=g+u*T}d[s+0].setUVs(o,i),d[s+1].setUVs(o,u),d[s+2].setUVs(h,i),d[s+3].setUVs(o,u),d[s+4].setUVs(h,u),d[s+5].setUVs(h,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,o){this.width=s,this.height=o,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this._originX=s,this._originY=o,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},28279:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(35154),n=t(28103);v.register("nineslice",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),h=r(e,"width",256),u=r(e,"height",256),d=r(e,"leftWidth",10),f=r(e,"rightWidth",10),c=r(e,"topHeight",0),g=r(e,"bottomHeight",0),m=new n(this.scene,0,0,o,i,h,u,d,f,c,g);return s!==void 0&&(e.add=s),l(this.scene,m,e),m})},47521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28103),v=t(39429);v.register("nineslice",function(a,r,n,e,s,o,i,h,u,d){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h,u,d))})},78023:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(52230),p.exports={renderWebGL:v,renderCanvas:a}},52230:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,n,e,s){var o=n.vertices,i=o.length;if(i!==0){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline,n),u=l(n,e,s,!1).calc;r.pipelines.preBatch(n);var d=h.setGameObject(n),f=h.vertexViewF32,c=h.vertexViewU32,g=h.vertexCount*h.currentShader.vertexComponentCount-1,m=e.roundPixels,y=n.tintFill,x=e.alpha*n.alpha,T=v.getTintAppendFloatAlpha(n.tint,x),C=h.vertexAvailable(),A=-1;C<i&&(A=C);for(var w=0;w<i;w++){var P=o[w];w===A&&(h.flush(),d=h.setGameObject(n),g=0),f[++g]=u.getXRound(P.vx,P.vy,m),f[++g]=u.getYRound(P.vx,P.vy,m),f[++g]=P.u,f[++g]=P.v,f[++g]=d,f[++g]=y,c[++g]=T,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}r.pipelines.postBatch(n)}};p.exports=a},76472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(44777),a=t(37589),r=t(6113),n=t(91389),e=t(90664),s=new l({Extends:v,initialize:function(i){v.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var o=this.propertyValue,i=o,h=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=o[0],this.ease=r("Linear"),this.interpolation=n("linear"),h=this.easedValueEmit,u=this.easeValueUpdate,i=o[0],this.active=!0;for(var d=0;d<o.length;d++){var f=e(o[d]);this.r.push(f.r),this.g.push(f.g),this.b.push(f.b)}}return this.onEmit=h,this.onUpdate=u,this.current=i,this},setEase:function(o){this.easeName=o,this.ease=r(o)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(o,i,h){var u=this.ease(h),d=this.interpolation(this.r,u),f=this.interpolation(this.g,u),c=this.interpolation(this.b,u),g=a(d,f,c);return this.current=g,g}});p.exports=s},44777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(45319),a=t(83419),r=t(99472),n=t(6113),e=t(95540),s=t(91389),o=t(77720),i=t(15994),h=new a({initialize:function(d,f,c){c===void 0&&(c=!1),this.propertyKey=d,this.propertyValue=f,this.defaultValue=f,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,d){u===void 0&&(u={}),d&&(this.propertyKey=d),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var d;switch(this.method){case 1:case 3:case 8:d=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(d=u);break;case 4:var f=(this.end-this.start)/this.steps;d=o(u,f),this.counter=d;break;case 5:case 6:case 7:d=v(u,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var d=typeof u;if(d==="number")return 1;if(Array.isArray(u))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,d=u,f=this.defaultEmit,c=this.defaultUpdate;switch(this.method){case 1:f=this.staticValueEmit;break;case 2:f=this.randomStaticValueEmit,d=u[0];break;case 3:this._onEmit=u,f=this.proxyEmit,d=this.defaultValue;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,f=this.steppedEmit,d=this.start;break;case 5:this.start=u.start,this.end=u.end;var g=this.has(u,"ease")?u.ease:"Linear";this.ease=n(g,u.easeParams),f=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,c=this.easeValueUpdate,d=this.start;break;case 6:this.start=u.min,this.end=u.max,f=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var m=u.random;Array.isArray(m)&&(this.start=m[0],this.end=m[1]),f=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,f=this.proxyEmit,c=this.proxyUpdate,d=this.defaultValue;break;case 9:this.start=u.values;var y=this.has(u,"ease")?u.ease:"Linear";this.ease=n(y,u.easeParams),this.interpolation=s(u.interpolation),f=this.easedValueEmit,c=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=f,this.onUpdate=c,this.current=d,this},has:function(u,d){return u.hasOwnProperty(d)},hasBoth:function(u,d,f){return u.hasOwnProperty(d)&&u.hasOwnProperty(f)},hasEither:function(u,d,f){return u.hasOwnProperty(d)||u.hasOwnProperty(f)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(u,d,f,c){return c},proxyEmit:function(u,d,f){var c=this._onEmit(u,d,f);return this.current=c,c},proxyUpdate:function(u,d,f,c){var g=this._onUpdate(u,d,f,c);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,d){var f=r(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},randomRangedIntEmit:function(u,d){var f=l(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},steppedEmit:function(){var u=this.counter,d=u,f=(this.end-this.start)/this.steps;if(this.yoyo){var c;this.direction===0?(d+=f,d>=this.end&&(c=d-this.end,d=this.end-c,this.direction=1)):(d-=f,d<=this.start&&(c=this.start-d,d=this.start+c,this.direction=0)),this.counter=d}else this.counter=i(d+f,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,d){if(u&&u.data[d]){var f=u.data[d];f.min=this.start,f.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,d,f){var c=u.data[d],g,m=this.ease(f);return this.interpolation?g=this.interpolation(this.start,m):g=(c.max-c.min)*m+c.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=h},24502:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(20286),r=new l({Extends:a,initialize:function(e,s,o,i,h){if(typeof e=="object"){var u=e;e=v(u,"x",0),s=v(u,"y",0),o=v(u,"power",0),i=v(u,"epsilon",100),h=v(u,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=100),h===void 0&&(h=50);a.call(this,e,s,!0),this._gravity=h,this._power=o*h,this._epsilon=i*i},update:function(n,e){var s=this.x-n.x,o=this.y-n.y,i=s*s+o*o;if(i!==0){var h=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*h)*100;n.velocityX+=s*u,n.velocityY+=o*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});p.exports=r},56480:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(45319),a=t(83419),r=t(39506),n=t(87841),e=t(11520),s=t(26099),o=new a({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new l(this)),this.bounds=new n},emit:function(i,h,u,d,f,c){return this.emitter.emit(i,h,u,d,f,c)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.x=i,this.y=h},fire:function(i,h){var u=this.emitter,d=u.ops,f=u.getAnim();if(f?this.anims.play(f):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=i+d.x.onEmit(this,"x"):this.x+=i,h===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=h+d.y.onEmit(this,"y"):this.y+=h,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var c=d.speedX.onEmit(this,"speedX"),g=d.speedY.active?d.speedY.onEmit(this,"speedY"):c;if(u.radial){var m=r(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(m)*Math.abs(c),this.velocityY=Math.sin(m)*Math.abs(g)}else if(u.moveTo){var y=d.moveToX.onEmit(this,"moveToX"),x=d.moveToY.onEmit(this,"moveToY"),T=this.life/1e3;this.velocityX=(y-this.x)/T,this.velocityY=(x-this.y)/T}else this.velocityX=c,this.velocityY=g;return u.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(i,h,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var d=this.emitter,f=d.ops,c=1-this.lifeCurrent/this.life;if(this.lifeT=c,this.x=f.x.onUpdate(this,"x",c,this.x),this.y=f.y.onUpdate(this,"y",c,this.y),d.moveTo){var g=f.moveToX.onUpdate(this,"moveToX",c,d.moveToX),m=f.moveToY.onUpdate(this,"moveToY",c,d.moveToY),y=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/y,this.velocityY=(m-this.y)/y}return this.computeVelocity(d,i,h,u,c),this.scaleX=f.scaleX.onUpdate(this,"scaleX",c,this.scaleX),f.scaleY.active?this.scaleY=f.scaleY.onUpdate(this,"scaleY",c,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",c,this.angle),this.rotation=r(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(f.alpha.onUpdate(this,"alpha",c,this.alpha),0,1),f.color.active?this.tint=f.color.onUpdate(this,"color",c,this.tint):this.tint=f.tint.onUpdate(this,"tint",c,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,h,u,d,f){var c=i.ops,g=this.velocityX,m=this.velocityY,y=c.accelerationX.onUpdate(this,"accelerationX",f,this.accelerationX),x=c.accelerationY.onUpdate(this,"accelerationY",f,this.accelerationY),T=c.maxVelocityX.onUpdate(this,"maxVelocityX",f,this.maxVelocityX),C=c.maxVelocityY.onUpdate(this,"maxVelocityY",f,this.maxVelocityY);this.bounce=c.bounce.onUpdate(this,"bounce",f,this.bounce),g+=i.gravityX*u+y*u,m+=i.gravityY*u+x*u,g=v(g,-T,T),m=v(m,-C,C),this.velocityX=g,this.velocityY=m,this.x+=g*u,this.y+=m*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var A=0;A<d.length;A++){var w=d[A];w.active&&w.update(this,h,u,f)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var h=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,d=this.x,f=this.y,c=this.rotation,g=this.frame.width*h/2,m=this.frame.height*u/2,y=this.bounds,x=new s(d-g,f-m),T=new s(d+g,f-m),C=new s(d-g,f+m),A=new s(d+g,f+m);return c!==0&&(e(x,d,f,c),e(T,d,f,c),e(C,d,f,c),e(A,d,f,c)),i.transformPoint(x.x,x.y,x),i.transformPoint(T.x,T.y,T),i.transformPoint(C.x,C.y,C),i.transformPoint(A.x,A.y,A),y.x=Math.min(x.x,T.x,C.x,A.x),y.y=Math.min(x.y,T.y,C.y,A.y),y.width=Math.max(x.x,T.x,C.x,A.x)-y.x,y.height=Math.max(x.y,T.y,C.y,A.y)-y.y,y},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=o},69601:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(20286),a=t(87841),r=new l({Extends:v,initialize:function(e,s,o,i,h,u,d,f){h===void 0&&(h=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),v.call(this,e,s,!0),this.bounds=new a(e,s,o,i),this.collideLeft=h,this.collideRight=u,this.collideTop=d,this.collideBottom=f},update:function(n){var e=this.bounds,s=-n.bounce,o=n.worldPosition;o.x<e.x&&this.collideLeft?(n.x+=e.x-o.x,n.velocityX*=s):o.x>e.right&&this.collideRight&&(n.x-=o.x-e.right,n.velocityX*=s),o.y<e.y&&this.collideTop?(n.y+=e.y-o.y,n.velocityY*=s):o.y>e.bottom&&this.collideBottom&&(n.y-=o.y-e.bottom,n.velocityY*=s)}});p.exports=r},31600:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(53774),r=t(43459),n=t(26388),e=t(19909),s=t(76472),o=t(44777),i=t(20696),h=t(95643),u=t(95540),d=t(26546),f=t(24502),c=t(1985),g=t(97022),m=t(86091),y=t(73162),x=t(20074),T=t(269),C=t(56480),A=t(69601),w=t(68875),P=t(87841),M=t(59996),R=t(72905),O=t(90668),U=t(19186),X=t(61340),W=t(26099),Y=t(15994),N=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],B=new l({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,O],initialize:function(G,H,K,Z,Q){h.call(this,G,"ParticleEmitter"),this.particleClass=C,this.config=null,this.ops={accelerationX:new o("accelerationX",0),accelerationY:new o("accelerationY",0),alpha:new o("alpha",1),angle:new o("angle",{min:0,max:360},!0),bounce:new o("bounce",0),color:new s("color"),delay:new o("delay",0,!0),hold:new o("hold",0,!0),lifespan:new o("lifespan",1e3,!0),maxVelocityX:new o("maxVelocityX",1e4),maxVelocityY:new o("maxVelocityY",1e4),moveToX:new o("moveToX",0),moveToY:new o("moveToY",0),quantity:new o("quantity",1,!0),rotate:new o("rotate",0),scaleX:new o("scaleX",1),scaleY:new o("scaleY",1),speedX:new o("speedX",0,!0),speedY:new o("speedY",0,!0),tint:new o("tint",16777215),x:new o("x",0),y:new o("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new W,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new X,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new y(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(H,K),this.setTexture(Z),Q&&this.setConfig(Q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(I){if(!I)return this;this.config=I;var G=0,H="",K=this.ops;for(G=0;G<z.length;G++)H=z[G],K[H].loadConfig(I);for(G=0;G<N.length;G++)H=N[G],g(I,H)&&(this[H]=u(I,H));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,g(I,"speed")&&(K.speedX.loadConfig(I,"speed"),K.speedY.active=!1),(c(I,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),g(I,"scale")&&(K.scaleX.loadConfig(I,"scale"),K.scaleY.active=!1),g(I,"callbackScope")){var Z=u(I,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(g(I,"emitZone")&&this.addEmitZone(I.emitZone),g(I,"deathZone")&&this.addDeathZone(I.deathZone),g(I,"bounds")){var Q=this.addParticleBounds(I.bounds);Q.collideLeft=u(I,"collideLeft",!0),Q.collideRight=u(I,"collideRight",!0),Q.collideTop=u(I,"collideTop",!0),Q.collideBottom=u(I,"collideBottom",!0)}return g(I,"followOffset")&&this.followOffset.setFromObject(u(I,"followOffset",0)),g(I,"texture")&&this.setTexture(I.texture),g(I,"frame")?this.setEmitterFrame(I.frame):g(I,"anim")&&this.setAnim(I.anim),g(I,"reserve")&&this.reserve(I.reserve),g(I,"advance")&&this.fastForward(I.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(I){return I&&(this.config?this.setConfig(T(this.config,I)):this.setConfig(I)),this},toJSON:function(){var I=a(this),G=0,H="";for(G=0;G<N.length;G++)H=N[G],I[H]=this[H];var K=this.ops;for(G=0;G<z.length;G++)H=z[G],K[H]&&(I[H]=K[H].toJSON());return K.speedY.active||(delete I.speedX,I.speed=K.speedX.toJSON()),this.scaleX===this.scaleY&&(delete I.scaleX,delete I.scaleY,I.scale=K.scaleX.toJSON()),I},resetCounters:function(I,G){var H=this.counters;H.fill(0),H[0]=I,G&&(H[5]=1)},startFollow:function(I,G,H,K){return G===void 0&&(G=0),H===void 0&&(H=0),K===void 0&&(K=!1),this.follow=I,this.followOffset.set(G,H),this.trackVisible=K,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var I=this.frames,G=I.length,H;return G===1?H=I[0]:this.randomFrame?H=d(I):(H=I[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(H)},setEmitterFrame:function(I,G,H){G===void 0&&(G=!0),H===void 0&&(H=1),this.randomFrame=G,this.frameQuantity=H,this.currentFrame=0;var K=typeof I;if(this.frames.length=0,Array.isArray(I))this.frames=this.frames.concat(I);else if(K==="string"||K==="number")this.frames.push(I);else if(K==="object"){var Z=I;I=u(Z,"frames",null),I&&(this.frames=this.frames.concat(I));var Q=u(Z,"cycle",!1);this.randomFrame=!Q,this.frameQuantity=u(Z,"quantity",H)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var I=this.anims,G=I.length;if(G===0)return null;if(G===1)return I[0];if(this.randomAnim)return d(I);var H=I[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,G)),H},setAnim:function(I,G,H){G===void 0&&(G=!0),H===void 0&&(H=1),this.randomAnim=G,this.animQuantity=H,this.currentAnim=0;var K=typeof I;if(this.anims.length=0,Array.isArray(I))this.anims=this.anims.concat(I);else if(K==="string")this.anims.push(I);else if(K==="object"){var Z=I;I=u(Z,"anims",null),I&&(this.anims=this.anims.concat(I));var Q=u(Z,"cycle",!1);this.randomAnim=!Q,this.animQuantity=u(Z,"quantity",H)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(I){return I===void 0&&(I=!0),this.radial=I,this},addParticleBounds:function(I,G,H,K,Z,Q,j,_){if(typeof I=="object"){var tt=I;I=tt.x,G=tt.y,H=g(tt,"w")?tt.w:tt.width,K=g(tt,"h")?tt.h:tt.height}return this.addParticleProcessor(new A(I,G,H,K,Z,Q,j,_))},setParticleSpeed:function(I,G){return G===void 0&&(G=I),this.ops.speedX.onChange(I),I===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(I,G){return I===void 0&&(I=1),G===void 0&&(G=I),this.ops.scaleX.onChange(I),this.ops.scaleY.onChange(G),this},setParticleGravity:function(I,G){return this.gravityX=I,this.gravityY=G,this},setParticleAlpha:function(I){return this.ops.alpha.onChange(I),this},setParticleTint:function(I){return this.ops.tint.onChange(I),this},setEmitterAngle:function(I){return this.ops.angle.onChange(I),this},setParticleLifespan:function(I){return this.ops.lifespan.onChange(I),this},setQuantity:function(I){return this.quantity=I,this},setFrequency:function(I,G){return this.frequency=I,this.flowCounter=I>0?I:0,G&&(this.quantity=G),this},addDeathZone:function(I){Array.isArray(I)||(I=[I]);for(var G,H=[],K=0;K<I.length;K++)if(G=I[K],G instanceof n)H.push(G);else if(typeof G.contains=="function")G=new n(G,!0),H.push(G);else{var Z=u(G,"type","onEnter"),Q=u(G,"source",null);if(Q&&typeof Q.contains=="function"){var j=Z==="onEnter";G=new n(Q,j),H.push(G)}}return this.deathZones=this.deathZones.concat(H),H},removeDeathZone:function(I){return R(this.deathZones,I),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(I){Array.isArray(I)||(I=[I]);for(var G,H=[],K=0;K<I.length;K++)if(G=I[K],G instanceof w||G instanceof e)H.push(G);else{var Z=u(G,"source",null);if(Z){var Q=u(G,"type","random");if(Q==="random"&&typeof Z.getRandomPoint=="function")G=new w(Z),H.push(G);else if(Q==="edge"&&typeof Z.getPoints=="function"){var j=u(G,"quantity",1),_=u(G,"stepRate",0),tt=u(G,"yoyo",!1),et=u(G,"seamless",!0),rt=u(G,"total",-1);G=new e(Z,j,_,tt,et,rt),H.push(G)}}}return this.emitZones=this.emitZones.concat(H),H},removeEmitZone:function(I){return R(this.emitZones,I),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(I){var G=this.emitZones,H=G.length;if(H!==0){var K=G[this.zoneIndex];K.getPoint(I),K.total>-1&&(this.zoneTotal++,this.zoneTotal===K.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===H&&(this.zoneIndex=0)))}},getDeathZone:function(I){for(var G=this.deathZones,H=0;H<G.length;H++){var K=G[H];if(K.willKill(I))return this.emit(i.DEATH_ZONE,this,I,K),!0}return!1},setEmitZone:function(I){var G;return isFinite(I)?G=I:G=this.emitZones.indexOf(I),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(I){return this.processors.exists(I)||(I.emitter&&I.emitter.removeParticleProcessor(I),this.processors.add(I),I.emitter=this),I},removeParticleProcessor:function(I){return this.processors.exists(I)&&(this.processors.remove(I,!0),I.emitter=null),I},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(I){return this.addParticleProcessor(new f(I))},reserve:function(I){var G=this.dead;if(this.maxParticles>0){var H=this.getParticleCount();H+I>this.maxParticles&&(I=this.maxParticles-(H+I))}for(var K=0;K<I;K++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(I,G){return I===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof I=="function"&&(this.emitCallback=I,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(I,G){return I===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof I=="function"&&(this.deathCallback=I,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var I=this.dead,G=this.alive;G.length>0;)I.push(G.pop());return this},forEachAlive:function(I,G){for(var H=this.alive,K=H.length,Z=0;Z<K;Z++)I.call(G,H[Z],this);return this},forEachDead:function(I,G){for(var H=this.dead,K=H.length,Z=0;Z<K;Z++)I.call(G,H[Z],this);return this},start:function(I,G){return I===void 0&&(I=0),this.emitting||(I>0&&this.fastForward(I),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(i.START,this)),this},stop:function(I){return I===void 0&&(I=!1),this.emitting&&(this.emitting=!1,I&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(I,G){return I===void 0&&(I=""),G===void 0&&(G=this.true),this.sortProperty=I,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(I){return this.sortProperty!==""?I=this.depthSortCallback:I=null,this.sortCallback=I,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(I,G){var H=this.sortProperty;return this.sortOrderAsc?I[H]-G[H]:G[H]-I[H]},flow:function(I,G,H){return G===void 0&&(G=1),this.emitting=!1,this.frequency=I,this.quantity=G,H!==void 0&&(this.stopAfter=H),this.start()},explode:function(I,G,H){this.frequency=-1,this.resetCounters(-1,!0);var K=this.emitParticle(I,G,H);return this.emit(i.EXPLODE,this,K),K},emitParticleAt:function(I,G,H){return this.emitParticle(H,I,G)},emitParticle:function(I,G,H){if(!this.atLimit()){I===void 0&&(I=this.ops.quantity.onEmit());for(var K=this.dead,Z=this.stopAfter,Q=this.follow?this.follow.x+this.followOffset.x:G,j=this.follow?this.follow.y+this.followOffset.y:H,_=0;_<I;_++){var tt=K.pop();if(tt||(tt=new this.particleClass(this)),tt.fire(Q,j)?(this.particleBringToTop?this.alive.push(tt):this.alive.unshift(tt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,tt,this)):this.dead.push(tt),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return tt}},fastForward:function(I,G){G===void 0&&(G=1e3/60);var H=0;for(this.skipping=!0;H<Math.abs(I);)this.preUpdate(0,G),H+=G;return this.skipping=!1,this},preUpdate:function(I,G){G*=this.timeScale;var H=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var K=this.getProcessors(),Z=this.alive,Q=this.dead,j=0,_=[],tt=Z.length;for(j=0;j<tt;j++){var et=Z[j];et.update(G,H,K)&&_.push({index:j,particle:et})}if(tt=_.length,tt>0){var rt=this.deathCallback,at=this.deathCallbackScope;for(j=tt-1;j>=0;j--){var st=_[j];Z.splice(st.index,1),Q.push(st.particle),rt&&rt.call(at,st.particle),st.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(I){for(var G=this.getWorldTransformMatrix(),H=this.alive,K=H.length,Z=[],Q=0;Q<K;Q++){var j=H[Q];M(I,j.getBounds(G))&&Z.push(j)}return Z},getBounds:function(I,G,H,K){I===void 0&&(I=0),G===void 0&&(G=0),H===void 0&&(H=1e3/60),K===void 0&&(K=new P);var Z=this.getWorldTransformMatrix(),Q,j,_=this.alive,tt=!1;if(K.setTo(0,0,0,0),G>0){var et=0;for(this.skipping=!0;et<Math.abs(G);){for(this.preUpdate(0,H),Q=0;Q<_.length;Q++)j=_[Q].getBounds(Z),tt?x(K,j):(tt=!0,r(j,K));et+=H}this.skipping=!1}else for(Q=0;Q<_.length;Q++)j=_[Q].getBounds(Z),tt?x(K,j):(tt=!0,r(j,K));return I>0&&m(K,I,I),K},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(I){this.ops.x.onChange(I)}},particleY:{get:function(){return this.ops.y.current},set:function(I){this.ops.y.onChange(I)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(I){this.ops.accelerationX.onChange(I)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(I){this.ops.accelerationY.onChange(I)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(I){this.ops.maxVelocityX.onChange(I)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(I){this.ops.maxVelocityY.onChange(I)}},speed:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I),this.ops.speedY.onChange(I)}},speedX:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I)}},speedY:{get:function(){return this.ops.speedY.current},set:function(I){this.ops.speedY.onChange(I)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(I){this.ops.moveToX.onChange(I)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(I){this.ops.moveToY.onChange(I)}},bounce:{get:function(){return this.ops.bounce.current},set:function(I){this.ops.bounce.onChange(I)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(I){this.ops.scaleX.onChange(I)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(I){this.ops.scaleY.onChange(I)}},particleColor:{get:function(){return this.ops.color.current},set:function(I){this.ops.color.onChange(I)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(I){this.ops.color.setEase(I)}},particleTint:{get:function(){return this.ops.tint.current},set:function(I){this.ops.tint.onChange(I)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(I){this.ops.alpha.onChange(I)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(I){this.ops.lifespan.onChange(I)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(I){this.ops.angle.onChange(I)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(I){this.ops.rotate.onChange(I)}},quantity:{get:function(){return this.ops.quantity.current},set:function(I){this.ops.quantity.onChange(I)}},delay:{get:function(){return this.ops.delay.current},set:function(I){this.ops.delay.onChange(I)}},hold:{get:function(){return this.ops.hold.current},set:function(I){this.ops.hold.onChange(I)}},flowCounter:{get:function(){return this.counters[0]},set:function(I){this.counters[0]=I}},frameCounter:{get:function(){return this.counters[1]},set:function(I){this.counters[1]=I}},animCounter:{get:function(){return this.counters[2]},set:function(I){this.counters[2]=I}},elapsed:{get:function(){return this.counters[3]},set:function(I){this.counters[3]=I}},stopCounter:{get:function(){return this.counters[4]},set:function(I){this.counters[4]=I}},completeFlag:{get:function(){return this.counters[5]},set:function(I){this.counters[5]=I}},zoneIndex:{get:function(){return this.counters[6]},set:function(I){this.counters[6]=I}},zoneTotal:{get:function(){return this.counters[7]},set:function(I){this.counters[7]=I}},currentFrame:{get:function(){return this.counters[8]},set:function(I){this.counters[8]=I}},currentAnim:{get:function(){return this.counters[9]},set:function(I){this.counters[9]=I}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var I,G=this.ops;for(I=0;I<z.length;I++){var H=z[I];G[H].destroy()}for(I=0;I<this.alive.length;I++)this.alive[I].destroy();for(I=0;I<this.dead.length;I++)this.dead[I].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=B},9871:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59996),v=t(61340),a=new v,r=new v,n=new v,e=new v,s=function(o,i,h,u){var d=a,f=r,c=n,g=e;u?(g.loadIdentity(),g.multiply(u),g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.scaleX,i.scaleY)):g.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var m=o.currentContext,y=h.roundPixels,x=h.alpha,T=i.alpha,C=i.alive,A=C.length,w=i.viewBounds;if(!(!i.visible||A===0||w&&!l(w,h.worldView))){i.sortCallback&&i.depthSort(),h.addToRenderList(i);var P=i.scrollFactorX,M=i.scrollFactorY;m.save(),m.globalCompositeOperation=o.blendModes[i.blendMode];for(var R=0;R<A;R++){var O=C[R],U=O.alpha*T*x;if(!(U<=0||O.scaleX===0||O.scaleY===0)){c.applyITRS(O.x,O.y,O.rotation,O.scaleX,O.scaleY),d.copyFrom(h.matrix),d.multiplyWithOffset(g,-h.scrollX*P,-h.scrollY*M),c.e=O.x,c.f=O.y,d.multiply(c,f);var X=O.frame,W=X.canvasData;if(W.width>0&&W.height>0){var Y=-X.halfWidth,N=-X.halfHeight;m.globalAlpha=U,m.save(),f.setToContext(m),y&&(Y=Math.round(Y),N=Math.round(N)),m.imageSmoothingEnabled=!X.source.scaleMode,m.drawImage(X.source.image,W.x,W.y,W.width,W.height,Y,N,W.width,W.height),m.restore()}}}m.restore()}};p.exports=s},92730:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(95540),n=t(31600);v.register("particles",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=r(e,"config",null),h=new n(this.scene,0,0,o);return s!==void 0&&(e.add=s),l(this.scene,h,e),i&&h.setConfig(i),h})},676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(31600);l.register("particles",function(a,r,n,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,a,r,n,e))})},90668:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(21188),a=t(9871),p.exports={renderWebGL:v,renderCanvas:a}},21188:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59996),v=t(61340),a=t(70554),r=new v,n=new v,e=new v,s=new v,o=function(i,h,u,d){var f=i.pipelines.set(h.pipeline),c=r,g=n,m=e,y=s;d?(y.loadIdentity(),y.multiply(d),y.translate(h.x,h.y),y.rotate(h.rotation),y.scale(h.scaleX,h.scaleY)):y.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var x=a.getTintAppendFloatAlpha,T=u.alpha,C=h.alpha;i.pipelines.preBatch(h);var A=h.alive,w=A.length,P=h.viewBounds;if(!(w===0||P&&!l(P,u.worldView))){h.sortCallback&&h.depthSort(),u.addToRenderList(h),c.copyFrom(u.matrix),c.multiplyWithOffset(y,-u.scrollX*h.scrollFactorX,-u.scrollY*h.scrollFactorY),i.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(i,h,u),i.pipelines.set(h.pipeline));for(var M=h.tintFill,R,O,U=0;U<w;U++){var X=A[U],W=X.alpha*C*T;if(!(W<=0||X.scaleX===0||X.scaleY===0)){m.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),m.e=X.x,m.f=X.y,c.multiply(m,g);var Y=X.frame;Y.glTexture!==O&&(O=Y.glTexture,R=f.setGameObject(h,Y));var N=-Y.halfWidth,z=-Y.halfHeight,B=g.setQuad(N,z,N+Y.width,z+Y.height),I=x(X.tint,W);f.shouldFlush(6)&&(f.flush(),R=f.setGameObject(h,Y)),f.batchQuad(h,B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],Y.u0,Y.v0,Y.u1,Y.v1,I,I,I,I,M,O,R)}}h.mask&&h.mask.postRenderWebGL(i,u),i.pipelines.postBatch(h)}};p.exports=o},20286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e){r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=v},9774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},812:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},30522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},96695:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},18677:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},20696:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n){this.source=r,this.killOnEnter=n},willKill:function(a){var r=a.worldPosition,n=this.source.contains(r.x,r.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});p.exports=v},19909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e,s,o,i){s===void 0&&(s=!1),o===void 0&&(o=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=o,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});p.exports=v},68875:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(n){this.source=n,this._tempVec=new v,this.total=-1},getPoint:function(r){var n=this._tempVec;this.source.getRandomPoint(n),r.x=n.x,r.y=n.y}});p.exports=a},21024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(68287),r=new l({Extends:a,Mixins:[v.PathFollower],initialize:function(e,s,o,i,h,u){a.call(this,e,o,i,h,u),this.path=s},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});p.exports=r},90145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(1159);l.register("follower",function(a,r,n,e,s){var o=new v(this.scene,a,r,n,e,s);return this.displayList.add(o),this.updateList.add(o),o})},33663:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(48803),r=t(90664),n=t(4703),e=t(45650),s=new v({Extends:n,initialize:function(i,h,u,d,f,c,g,m){d||(d="__DEFAULT"),n.call(this,i,h,u,d,f),this.type="Plane",this.anims=new l(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(c,g,m),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(o,i,h){o===void 0&&(o=8),i===void 0&&(i=8),h===void 0&&(h=!1);var u=!1;return h&&(u=!0),this.gridWidth=o,this.gridHeight=i,this.isTiled=h,this.clear(),a({mesh:this,widthSegments:o,heightSegments:i,isOrtho:!1,tile:h,flipY:u}),this},setSizeToFrame:function(o){o===void 0&&(o=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!o)return this;var h=this.gridWidth,u=this.gridHeight,d=this.vertices,f=i.u0,c=i.u1,g=i.v0,m=i.v1,y,x,T=0;if(this.isTiled)for(g=i.v1,m=i.v0,x=0;x<u;x++)for(y=0;y<h;y++)d[T++].setUVs(f,m),d[T++].setUVs(f,g),d[T++].setUVs(c,m),d[T++].setUVs(f,g),d[T++].setUVs(c,g),d[T++].setUVs(c,m);else{var C=h+1,A=u+1,w=c-f,P=m-g,M=[];for(x=0;x<A;x++)for(y=0;y<C;y++){var R=f+w*(y/h),O=g+P*(x/u);M.push(R,O)}for(x=0;x<u;x++)for(y=0;y<h;y++){var U=(y+C*x)*2,X=(y+C*(x+1))*2,W=(y+1+C*(x+1))*2,Y=(y+1+C*x)*2;d[T++].setUVs(M[U],M[U+1]),d[T++].setUVs(M[X],M[X+1]),d[T++].setUVs(M[Y],M[Y+1]),d[T++].setUVs(M[X],M[X+1]),d[T++].setUVs(M[W],M[W+1]),d[T++].setUVs(M[Y],M[Y+1])}}return this},setViewHeight:function(o){o===void 0&&(o=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/o/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(o,i,h,u,d){o===void 0&&(o=16777215),i===void 0&&(i=255),h===void 0&&(h=255),u===void 0&&(u=255),d===void 0&&(d=128);for(var f=r(o),c=r(i),g=[],m=0;m<16;m++)for(var y=0;y<16;y++)m<8&&y<8||m>7&&y>7?g.push(f.r,f.g,f.b,h):g.push(c.r,c.g,c.b,u);var x=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(g),16,16);return this.removeCheckerboard(),this.setTexture(x),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(o,i){return this.anims.play(o,i)},playReverse:function(o,i){return this.anims.playReverse(o,i)},playAfterDelay:function(o,i){return this.anims.playAfterDelay(o,i)},playAfterRepeat:function(o,i){return this.anims.playAfterRepeat(o,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},preUpdate:function(o,i){n.prototype.preUpdate.call(this,o,i),this.anims.update(o,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=s},56015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(13059),a=t(44603),r=t(23568),n=t(35154),e=t(33663);a.register("plane",function(s,o){s===void 0&&(s={});var i=r(s,"key",null),h=r(s,"frame",null),u=n(s,"width",8),d=n(s,"height",8),f=n(s,"tile",!1),c=new e(this.scene,0,0,i,h,u,d,f);o!==void 0&&(s.add=o);var g=n(s,"checkerboard",null);if(g){var m=n(g,"color1",16777215),y=n(g,"color2",255),x=n(g,"alpha1",255),T=n(g,"alpha2",255),C=n(g,"height",128);c.createCheckerboard(m,y,x,T,C)}return l(this.scene,c,s),v(c,s),c})},30985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33663),v=t(39429);v.register("plane",function(a,r,n,e,s,o,i){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i))})},80321:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(30100),n=t(36060),e=t(67277),s=new l({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,e],initialize:function(i,h,u,d,f,c,g){d===void 0&&(d=16777215),f===void 0&&(f=128),c===void 0&&(c=1),g===void 0&&(g=.1),a.call(this,i,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,u),this.color=r(d),this.intensity=c,this.attenuation=g,this.width=f*2,this.height=f*2,this._radius=f},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this.width=o*2,this.height=o*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=s},39829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(80321);v.register("pointlight",function(n,e){n===void 0&&(n={});var s=a(n,"color",16777215),o=a(n,"radius",128),i=a(n,"intensity",1),h=a(n,"attenuation",.1),u=new r(this.scene,0,0,s,o,i,h);return e!==void 0&&(n.add=e),l(this.scene,u,n),u})},71255:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(80321);l.register("pointlight",function(a,r,n,e,s,o){return this.displayList.add(new v(this.scene,a,r,n,e,s,o))})},67277:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(57787),p.exports={renderWebGL:v,renderCanvas:a}},57787:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,n,e){n.addToRenderList(r);var s=a.pipelines.set(r.pipeline),o=l(r,n,e).calc,i=r.width,h=r.height,u=-r._radius,d=-r._radius,f=u+i,c=d+h,g=o.getX(0,0),m=o.getY(0,0),y=o.getX(u,d),x=o.getY(u,d),T=o.getX(u,c),C=o.getY(u,c),A=o.getX(f,c),w=o.getY(f,c),P=o.getX(f,d),M=o.getY(f,d);a.pipelines.preBatch(r),s.batchPointLight(r,n,y,x,T,C,A,w,P,M,g,m),a.pipelines.postBatch(r)};p.exports=v},591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(81320),a=t(88571),r=new l({Extends:a,initialize:function(e,s,o,i,h,u){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=32),h===void 0&&(h=32),u===void 0&&(u=!0);var d=new v(e.sys.textures,"",i,h,u);a.call(this,e,s,o,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=n,s.hitArea.height=e),this},resize:function(n,e,s){return this.texture.setSize(n,e,s),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,s,o,i,h){return this.texture.fill(n,e,s,o,i,h),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,s,o,i){return this.texture.stamp(n,e,s,o,i),this},erase:function(n,e,s){return this.texture.erase(n,e,s),this},draw:function(n,e,s,o,i){return this.texture.draw(n,e,s,o,i),this},drawFrame:function(n,e,s,o,i,h){return this.texture.drawFrame(n,e,s,o,i,h),this},repeat:function(n,e,s,o,i,h,u,d,f){return this.texture.repeat(n,e,s,o,i,h,u,d,f),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,s,o,i){return this.texture.batchDraw(n,e,s,o,i),this},batchDrawFrame:function(n,e,s,o,i,h){return this.texture.batchDrawFrame(n,e,s,o,i,h),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,s,o,i,h,u){return this.texture.snapshotArea(n,e,s,o,i,h,u),this},snapshot:function(n,e,s){return this.snapshotArea(0,0,this.width,this.height,n,e,s)},snapshotPixel:function(n,e,s){return this.snapshotArea(n,e,1,1,s,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});p.exports=r},34495:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(591);v.register("renderTexture",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),o=a(n,"y",0),i=a(n,"width",32),h=a(n,"height",32),u=new r(this.scene,s,o,i,h);return e!==void 0&&(n.add=e),l(this.scene,u,n),u})},60505:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(591);l.register("renderTexture",function(a,r,n,e){return this.displayList.add(new v(this.scene,a,r,n,e))})},77757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(31401),r=t(95643),n=t(36060),e=t(38745),s=t(26099),o=new v({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(h,u,d,f,c,g,m,y,x){f===void 0&&(f="__DEFAULT"),g===void 0&&(g=2),m===void 0&&(m=!0),r.call(this,h,"Rope"),this.anims=new l(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=f==="__DEFAULT",this.dirty=!1,this.horizontal=m,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(f,c),this.setPosition(u,d),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,y,x),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){var u=this.anims.currentFrame;this.anims.update(i,h),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,h,u){return this.anims.play(i,h,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,h,u))},setVertical:function(i,h,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,h,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,h){var u=this.points.length;if(u<1)return this;var d=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&h===void 0&&(i=[i]);var f,c=0;if(h!==void 0)for(f=0;f<u;f++)c=f*2,d[c]=i,d[c+1]=h;else if(i.length===u)for(f=0;f<u;f++)c=f*2,d[c]=i[f],d[c+1]=i[f];else{var g=i[0];for(f=0;f<u;f++)c=f*2,i.length>c&&(g=i[c]),d[c]=g,i.length>c+1&&(g=i[c+1]),d[c+1]=g}return this},setColors:function(i){var h=this.points.length;if(h<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var d,f=0;if(i.length===h)for(d=0;d<h;d++)f=d*2,u[f]=i[d],u[f+1]=i[d];else{var c=i[0];for(d=0;d<h;d++)f=d*2,i.length>f&&(c=i[f]),u[f]=c,i.length>f+1&&(c=i[f+1]),u[f+1]=c}return this},setPoints:function(i,h,u){if(i===void 0&&(i=2),typeof i=="number"){var d=i;d<2&&(d=2),i=[];var f,c,g;if(this.horizontal)for(g=-this.frame.halfWidth,c=this.frame.width/(d-1),f=0;f<d;f++)i.push({x:g+f*c,y:0});else for(g=-this.frame.halfHeight,c=this.frame.height/(d-1),f=0;f<d;f++)i.push({x:0,y:g+f*c})}var m=i.length,y=this.points.length;return m<1?(console.warn("Rope: Not enough points given"),this):(m===1&&(i.unshift({x:0,y:0}),m++),y!==m&&this.resizeArrays(m),this.dirty=!0,this.points=i,this.updateUVs(),h!=null&&this.setColors(h),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,h=this.points.length,u=this.frame.u0,d=this.frame.v0,f=this.frame.u1,c=this.frame.v1,g=(f-u)/(h-1),m=(c-d)/(h-1),y=0;y<h;y++){var x=y*4,T,C,A,w;this.horizontal?(this._flipX?(T=f-y*g,A=f-y*g):(T=u+y*g,A=u+y*g),this._flipY?(C=c,w=d):(C=d,w=c)):(this._flipX?(T=u,A=f):(T=f,A=u),this._flipY?(C=c-y*m,w=c-y*m):(C=d+y*m,w=d+y*m)),i[x+0]=T,i[x+1]=C,i[x+2]=A,i[x+3]=w}return this},resizeArrays:function(i){var h=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),h=new Uint32Array(i*2),u=new Float32Array(i*2);for(var d=0;d<i*2;d++)h[d]=16777215,u[d]=1;return this.colors=h,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,h=this.points,u=this.vertices,d=h.length;if(this.dirty=!1,!(d<1)){for(var f,c=h[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,m=0;m<d;m++){var y=h[m],x=m*4;m<d-1?f=h[m+1]:f=y,i.x=f.y-c.y,i.y=-(f.x-c.x);var T=i.length();i.x/=T,i.y/=T,i.x*=g,i.y*=g,u[x]=y.x+i.x,u[x+1]=y.y+i.y,u[x+2]=y.x-i.x,u[x+3]=y.y-i.y,c=y}return this}},setDebug:function(i,h){return this.debugGraphic=i,!i&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,h,u){var d=i.debugGraphic,f=u[0],c=u[1],g=u[2],m=u[3];d.lineBetween(f,c,g,m);for(var y=4;y<h;y+=4){var x=u[y+0],T=u[y+1],C=u[y+2],A=u[y+3];d.lineBetween(f,c,x,T),d.lineBetween(g,m,C,A),d.lineBetween(g,m,x,T),d.lineBetween(x,T,C,A),f=x,c=T,g=C,m=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});p.exports=o},95262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},26209:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(35154),n=t(77757);v.register("rope",function(e,s){e===void 0&&(e={});var o=a(e,"key",null),i=a(e,"frame",null),h=a(e,"horizontal",!0),u=r(e,"points",void 0),d=r(e,"colors",void 0),f=r(e,"alphas",void 0),c=new n(this.scene,0,0,o,i,u,h,d,f);return s!==void 0&&(e.add=s),l(this.scene,c,e),c})},96819:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77757),v=t(39429);v.register("rope",function(a,r,n,e,s,o,i,h){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h))})},38745:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(20439),a=t(95262),p.exports={renderWebGL:v,renderCanvas:a}},20439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline,n),i=l(n,e,s).calc,h=n.vertices,u=n.uv,d=n.colors,f=n.alphas,c=n.alpha,g=v.getTintAppendFloatAlpha,m=e.roundPixels,y=h.length,x=Math.floor(y*.5);o.flush(),r.pipelines.preBatch(n);var T=o.setGameObject(n),C=o.vertexViewF32,A=o.vertexViewU32,w=o.vertexCount*o.currentShader.vertexComponentCount-1,P=0,M=n.tintFill;n.dirty&&n.updateVertices();for(var R=n.debugCallback,O=[],U=0;U<y;U+=2){var X=h[U+0],W=h[U+1],Y=X*i.a+W*i.c+i.e,N=X*i.b+W*i.d+i.f;m&&(Y=Math.round(Y),N=Math.round(N)),C[++w]=Y,C[++w]=N,C[++w]=u[U+0],C[++w]=u[U+1],C[++w]=T,C[++w]=M,A[++w]=g(d[P],e.alpha*(f[P]*c)),P++,R&&(O[U+0]=Y,O[U+1]=N)}R&&R.call(n,n,y,O),o.vertexCount+=x,o.currentBatch.count=o.vertexCount-o.currentBatch.start,r.pipelines.postBatch(n)};p.exports=a},20071:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(95540),n=t(79291),e=t(61622),s=t(25479),o=t(61340),i=t(95428),h=t(92503),u=new l({Extends:a,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,s],initialize:function(f,c,g,m,y,x,T,C){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=128),x===void 0&&(x=128),a.call(this,f,"Shader"),this.blendMode=-1,this.shader;var A=f.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,m),this.setSize(y,x),this.setOrigin(.5,.5),this.setShader(c,T,C),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,f){if(!this.renderToTexture){var c=this.width,g=this.height,m=this.renderer;this.glTexture=m.createTextureFromSource(null,c,g,0),this.framebuffer=m.createFramebuffer(c,g,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(m.pipelines.clear(),this.load(),this.flush(),m.pipelines.rebind()),this},setShader:function(d,f,c){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:f,textureData:c},this;if(f===void 0&&(f=[]),typeof d=="string"){var g=this.scene.sys.cache.shader;if(!g.has(d))return console.warn("Shader missing: "+d),this;this.shader=g.get(d)}else this.shader=d;var m=this.gl,y=this.renderer;this.program&&y.deleteProgram(this.program);var x=y.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);m.uniformMatrix4fv(m.getUniformLocation(x.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),m.uniformMatrix4fv(m.getUniformLocation(x.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(x.webGLProgram,"uResolution"),this.width,this.height),this.program=x;var T=new Date,C={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[T.getFullYear(),T.getMonth(),T.getDate(),T.getHours()*60*60+T.getMinutes()*60+T.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,C):this.uniforms=C;for(var A=0;A<4;A++)f[A]&&this.setSampler2D("iChannel"+A,f[A],A,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,f,c,g){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:f,bottom:c,top:g};return}var m=-1e3,y=1e3,x=1/(d-f),T=1/(c-g),C=1/(m-y),A=this.projectionMatrix;A[0]=-2*x,A[5]=-2*T,A[10]=2*C,A[12]=(d+f)*x,A[13]=(g+c)*T,A[14]=(y+m)*C;var w=this.program,P=this.gl,M=this.renderer;M.setProgram(w),P.uniformMatrix4fv(P.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=c},initUniforms:function(){var d=this.renderer.glFuncMap,f=this.program;this._textureCount=0;for(var c in this.uniforms){var g=this.uniforms[c],m=g.type,y=d[m];g.uniformLocation=this.renderer.createUniformLocation(f,c),m!=="sampler2D"&&(g.glMatrix=y.matrix,g.glValueLength=y.length,g.glFunc=y.func)}},setSampler2DBuffer:function(d,f,c,g,m,y){m===void 0&&(m=0),y===void 0&&(y={});var x=this.uniforms[d];return x.value=f,y.width=c,y.height=g,x.textureData=y,this._textureCount=m,this.initSampler2D(x),this},setSampler2D:function(d,f,c,g){c===void 0&&(c=0);var m=this.scene.sys.textures;if(m.exists(f)){var y=m.getFrame(f);if(y.glTexture&&y.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,y.glTexture,y.width,y.height,c,g);var x=this.uniforms[d],T=y.source;x.textureKey=f,x.source=T.image,x.value=y.glTexture,T.isGLTexture&&(g||(g={}),g.width=T.width,g.height=T.height),g&&(x.textureData=g),this._textureCount=c,this.initSampler2D(x)}return this},setUniform:function(d,f){return e(this.uniforms,d,f),this},getUniform:function(d){return r(this.uniforms,d,null)},setChannel0:function(d,f){return this.setSampler2D("iChannel0",d,0,f)},setChannel1:function(d,f){return this.setSampler2D("iChannel1",d,1,f)},setChannel2:function(d,f){return this.setSampler2D("iChannel2",d,2,f)},setChannel3:function(d,f){return this.setSampler2D("iChannel3",d,3,f)},initSampler2D:function(d){if(d.value){var f=d.textureData;if(f&&!d.value.isRenderTexture){var c=this.gl,g=d.value,m=c[r(f,"magFilter","linear").toUpperCase()],y=c[r(f,"minFilter","linear").toUpperCase()],x=c[r(f,"wrapS","repeat").toUpperCase()],T=c[r(f,"wrapT","repeat").toUpperCase()],C=c[r(f,"format","rgba").toUpperCase()],A=r(f,"flipY",!1),w=r(f,"width",g.width),P=r(f,"height",g.height),M=r(f,"source",g.pixels);f.repeat&&(x=c.REPEAT,T=c.REPEAT),f.width&&(M=null),g.update(M,w,P,A,x,T,y,m,C)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,f=this.uniforms,c,g,m,y,x,T=0;for(var C in f)c=f[C],m=c.glFunc,g=c.glValueLength,y=c.uniformLocation,x=c.value,x!==null&&(g===1?c.glMatrix?m.call(d,y.webGLUniformLocation,c.transpose,x):m.call(d,y.webGLUniformLocation,x):g===2?m.call(d,y.webGLUniformLocation,x.x,x.y):g===3?m.call(d,y.webGLUniformLocation,x.x,x.y,x.z):g===4?m.call(d,y.webGLUniformLocation,x.x,x.y,x.z,x.w):c.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+T),d.bindTexture(d.TEXTURE_2D,x.webGLTexture),d.uniform1i(y.webGLUniformLocation,T),T++))},load:function(d){var f=this.gl,c=this.width,g=this.height,m=this.renderer,y=this.program,x=this.viewMatrix;if(!this.renderToTexture){var T=-this._displayOriginX,C=-this._displayOriginY;x[0]=d[0],x[1]=d[1],x[4]=d[2],x[5]=d[3],x[8]=d[4],x[9]=d[5],x[12]=x[0]*T+x[4]*C,x[13]=x[1]*T+x[5]*C}f.useProgram(y.webGLProgram),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uViewMatrix"),!1,x),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),f.uniform2f(f.getUniformLocation(y.webGLProgram,"uResolution"),this.width,this.height);var A=this.uniforms,w=A.resolution;w.value.x=c,w.value.y=g,A.time.value=m.game.loop.getDuration();var P=this.pointer;if(P){var M=A.mouse,R=P.x/c,O=1-P.y/g;M.value.x=R.toFixed(2),M.value.y=O.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,f=this.height,c=this.program,g=this.gl,m=this.vertexBuffer,y=this.renderer,x=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(y.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,m.webGLBuffer);var T=g.getAttribLocation(c.webGLProgram,"inPosition");T!==-1&&(g.enableVertexAttribArray(T),g.vertexAttribPointer(T,2,g.FLOAT,!1,x,0));var C=this.vertexViewF32;C[3]=f,C[4]=d,C[5]=f,C[8]=d,C[9]=f,C[10]=d;var A=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,A*x)),g.drawArrays(g.TRIANGLES,0,A),this.renderToTexture&&y.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,f=this._deferSetShader.textures,c=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,f,c)}if(this._deferProjOrtho!==null){var g=this._deferProjOrtho.left,m=this._deferProjOrtho.right,y=this._deferProjOrtho.bottom,x=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(g,m,y,x)}},preDestroy:function(){var d=this.renderer;d.off(h.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(f){d.deleteUniformLocation(f.uniformLocation),f.uniformLocation=null})}});p.exports=u},80464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},54935:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(20071);v.register("shader",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=a(n,"x",0),i=a(n,"y",0),h=a(n,"width",128),u=a(n,"height",128),d=new r(this.scene,s,o,i,h,u);return e!==void 0&&(n.add=e),l(this.scene,d,n),d})},74177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20071),v=t(39429);v.register("shader",function(a,r,n,e,s,o,i){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i))})},25479:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(19257),a=t(80464),p.exports={renderWebGL:v,renderCanvas:a}},19257:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,n,e){if(r.shader){if(n.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=l(r,n,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(s.matrix),r.flush()}a.pipelines.rebind()}};p.exports=v},10441:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,n,e,s,o){for(var i=l.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),h=n.pathData,u=n.pathIndexes,d=0;d<u.length;d+=3){var f=u[d]*2,c=u[d+1]*2,g=u[d+2]*2,m=h[f+0]-s,y=h[f+1]-o,x=h[c+0]-s,T=h[c+1]-o,C=h[g+0]-s,A=h[g+1]-o,w=r.getX(m,y),P=r.getY(m,y),M=r.getX(x,T),R=r.getY(x,T),O=r.getX(C,A),U=r.getY(C,A);a.batchTri(n,w,P,M,R,O,U,0,0,1,1,i,i,i,2)}};p.exports=v},65960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=v||l.fillColor,n=a||l.fillAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,o=r&255;t.fillStyle="rgba("+e+","+s+","+o+","+n+")"};p.exports=S},75177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=v||l.strokeColor,n=a||l.strokeAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,o=r&255;t.strokeStyle="rgba("+e+","+s+","+o+","+n+")",t.lineWidth=l.lineWidth};p.exports=S},17803:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(95643),r=t(23031),n=new l({Extends:a,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(s,o,i){o===void 0&&(o="Shape"),a.call(this,s,o),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,o){return o===void 0&&(o=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=o,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=n},34682:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,n,e,s){var o=a.strokeTint,i=l.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*n);o.TL=i,o.TR=i,o.BL=i,o.BR=i;var h=r.pathData,u=h.length-1,d=r.lineWidth,f=d/2,c=h[0]-e,g=h[1]-s;r.closePath||(u-=2);for(var m=2;m<u;m+=2){var y=h[m]-e,x=h[m+1]-s;a.batchLine(c,g,y,x,f,f,d,m-2,r.closePath?m===u-1:!1),c=y,g=x}};p.exports=v},23629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13609),v=t(83419),a=t(39506),r=t(94811),n=t(96503),e=t(36383),s=t(17803),o=new v({Extends:s,Mixins:[l],initialize:function(h,u,d,f,c,g,m,y,x){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),c===void 0&&(c=0),g===void 0&&(g=360),m===void 0&&(m=!1),s.call(this,h,"Arc",new n(0,0,f)),this._startAngle=c,this._endAngle=g,this._anticlockwise=m,this._iterations=.01,this.setPosition(u,d);var T=this.geom.radius*2;this.setSize(T,T),y!==void 0&&this.setFillStyle(y,x),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var h=i*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,h){return this._startAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(i,h){return this._endAngle=i,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var i=this._iterations,h=i,u=this.geom.radius,d=a(this._startAngle),f=a(this._endAngle),c=this._anticlockwise,g=u,m=u;f-=d,c?f<-e.PI2?f=-e.PI2:f>0&&(f=-e.PI2+f%e.PI2):f>e.PI2?f=e.PI2:f<0&&(f=e.PI2+f%e.PI2);for(var y=[g+Math.cos(d)*u,m+Math.sin(d)*u],x;h<1;)x=f*h+d,y.push(g+Math.cos(x)*u,m+Math.sin(x)*u),h+=i;return x=f+d,y.push(g+Math.cos(x)*u,m+Math.sin(x)*u),y.push(g+Math.cos(d)*u,m+Math.sin(d)*u),this.pathIndexes=r(y),this.pathData=y,this}});p.exports=o},42542:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39506),v=t(65960),a=t(75177),r=t(20926),n=function(e,s,o,i){o.addToRenderList(s);var h=e.currentContext;if(r(e,h,s,o,i)){var u=s.radius;h.beginPath(),h.arc(u-s.originX*(u*2),u-s.originY*(u*2),u,l(s._startAngle),l(s._endAngle),s.anticlockwise),s.closePath&&h.closePath(),s.isFilled&&(v(h,s),h.fill()),s.isStroked&&(a(h,s),h.stroke()),h.restore()}};p.exports=n},42563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23629),v=t(39429);v.register("arc",function(a,r,n,e,s,o,i,h){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i,h))}),v.register("circle",function(a,r,n,e,s){return this.displayList.add(new l(this.scene,a,r,n,0,360,!1,e,s))})},13609:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(41447),a=t(42542),p.exports={renderWebGL:v,renderCanvas:a}},41447:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(10441),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=l(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&v(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};p.exports=r},89:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(33141),a=t(94811),r=t(87841),n=t(17803),e=new l({Extends:n,Mixins:[v],initialize:function(o,i,h,u,d,f){i===void 0&&(i=0),h===void 0&&(h=0),n.call(this,o,"Curve",u),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,h),d!==void 0&&this.setFillStyle(d,f),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,o=this._smoothness;this.geom.getBounds(s,o),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],h=this.geom.getPoints(o),u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=e},3170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}e.closePath&&i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},40511:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(89);l.register("curve",function(a,r,n,e,s){return this.displayList.add(new v(this.scene,a,r,n,e,s))})},33141:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(53987),a=t(3170),p.exports={renderWebGL:v,renderCanvas:a}},53987:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=v(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};p.exports=r},19921:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(94811),a=t(54205),r=t(8497),n=t(17803),e=new l({Extends:n,Mixins:[a],initialize:function(o,i,h,u,d,f,c){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),d===void 0&&(d=128),n.call(this,o,"Ellipse",new r(u/2,d/2,u,d)),this._smoothness=64,this.setPosition(i,h),this.width=u,this.height=d,f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,o){return this.width=s,this.height=o,this.geom.setPosition(s/2,o/2),this.geom.setSize(s,o),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],o=this.geom.getPoints(this._smoothness),i=0;i<o.length;i++)s.push(o[i].x,o[i].y);return s.push(o[0].x,o[0].y),this.pathIndexes=v(s),this.pathData=s,this}});p.exports=e},7930:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},1543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19921),v=t(39429);v.register("ellipse",function(a,r,n,e,s,o){return this.displayList.add(new l(this.scene,a,r,n,e,s,o))})},54205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(19467),a=t(7930),p.exports={renderWebGL:v,renderCanvas:a}},19467:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=v(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};p.exports=r},30479:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(17803),a=t(26015),r=new l({Extends:v,Mixins:[a],initialize:function(e,s,o,i,h,u,d,f,c,g,m){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=128),h===void 0&&(h=128),u===void 0&&(u=32),d===void 0&&(d=32),v.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,o),this.setSize(i,h),this.setFillStyle(f,c),g!==void 0&&this.setOutlineStyle(g,m),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},49912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=-e._displayOriginX,u=-e._displayOriginY,d=s.alpha*e.alpha,f=e.width,c=e.height,g=e.cellWidth,m=e.cellHeight,y=Math.ceil(f/g),x=Math.ceil(c/m),T=g,C=m,A=g-(y*g-f),w=m-(x*m-c),P=e.showCells,M=e.showAltCells,R=e.showOutline,O=0,U=0,X=0,W=0,Y=0;if(R&&(T--,C--,A===g&&A--,w===m&&w--),P&&e.fillAlpha>0)for(l(i,e),U=0;U<x;U++)for(M&&(X=U%2),O=0;O<y;O++){if(M&&X){X=0;continue}X++,W=O<y-1?T:A,Y=U<x-1?C:w,i.fillRect(h+O*g,u+U*m,W,Y)}if(M&&e.altFillAlpha>0)for(l(i,e,e.altFillColor,e.altFillAlpha*d),U=0;U<x;U++)for(M&&(X=U%2),O=0;O<y;O++){if(M&&!X){X=1;continue}X=0,W=O<y-1?T:A,Y=U<x-1?C:w,i.fillRect(h+O*g,u+U*m,W,Y)}if(R&&e.outlineFillAlpha>0){for(v(i,e,e.outlineFillColor,e.outlineFillAlpha*d),O=1;O<y;O++){var N=O*g;i.beginPath(),i.moveTo(N+h,u),i.lineTo(N+h,c+u),i.stroke()}for(U=1;U<x;U++){var z=U*m;i.beginPath(),i.moveTo(h,z+u),i.lineTo(h+f,z+u),i.stroke()}}i.restore()}};p.exports=r},34137:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(30479);l.register("grid",function(a,r,n,e,s,o,i,h,u,d){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,h,u,d))})},26015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(46161),a=t(49912),p.exports={renderWebGL:v,renderCanvas:a}},46161:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s),h=o.calcMatrix.copyFrom(i.calc);h.translate(-n._displayOriginX,-n._displayOriginY);var u=e.alpha*n.alpha,d=n.width,f=n.height,c=n.cellWidth,g=n.cellHeight,m=Math.ceil(d/c),y=Math.ceil(f/g),x=c,T=g,C=c-(m*c-d),A=g-(y*g-f),w,P,M=n.showCells,R=n.showAltCells,O=n.showOutline,U=0,X=0,W=0,Y=0,N=0;if(O&&(x--,T--,C===c&&C--,A===g&&A--),r.pipelines.preBatch(n),M&&n.fillAlpha>0)for(w=o.fillTint,P=v.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*u),w.TL=P,w.TR=P,w.BL=P,w.BR=P,X=0;X<y;X++)for(R&&(W=X%2),U=0;U<m;U++){if(R&&W){W=0;continue}W++,Y=U<m-1?x:C,N=X<y-1?T:A,o.batchFillRect(U*c,X*g,Y,N)}if(R&&n.altFillAlpha>0)for(w=o.fillTint,P=v.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*u),w.TL=P,w.TR=P,w.BL=P,w.BR=P,X=0;X<y;X++)for(R&&(W=X%2),U=0;U<m;U++){if(R&&!W){W=1;continue}W=0,Y=U<m-1?x:C,N=X<y-1?T:A,o.batchFillRect(U*c,X*g,Y,N)}if(O&&n.outlineFillAlpha>0){var z=o.strokeTint,B=v.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*u);for(z.TL=B,z.TR=B,z.BL=B,z.BR=B,U=1;U<m;U++){var I=U*c;o.batchLine(I,0,I,f,1,1,1,0,!1)}for(X=1;X<y;X++){var G=X*g;o.batchLine(0,G,d,G,1,1,1,0,!1)}}r.pipelines.postBatch(n)};p.exports=a},61475:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99651),v=t(83419),a=t(17803),r=new v({Extends:a,Mixins:[l],initialize:function(e,s,o,i,h,u,d,f){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=15658734),d===void 0&&(d=10066329),f===void 0&&(f=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=f,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},11508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(v(r,o,n,e,s)&&n.isFilled){var i=n.width,h=n.height,u=i/2,d=i/n.projection;n.showTop&&(l(o,n,n.fillTop),o.beginPath(),o.moveTo(-u,-h),o.lineTo(0,-d-h),o.lineTo(u,-h),o.lineTo(u,-1),o.lineTo(0,d-1),o.lineTo(-u,-1),o.lineTo(-u,-h),o.fill()),n.showLeft&&(l(o,n,n.fillLeft),o.beginPath(),o.moveTo(-u,0),o.lineTo(0,d),o.lineTo(0,d-h),o.lineTo(-u,-h),o.lineTo(-u,0),o.fill()),n.showRight&&(l(o,n,n.fillRight),o.beginPath(),o.moveTo(u,0),o.lineTo(0,d),o.lineTo(0,d-h),o.lineTo(u,-h),o.lineTo(u,0),o.fill()),o.restore()}};p.exports=a},3933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(61475);l.register("isobox",function(a,r,n,e,s,o,i){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i))})},99651:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(68149),a=t(11508),p.exports={renderWebGL:v,renderCanvas:a}},68149:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s),h=o.calcMatrix.copyFrom(i.calc),u=n.width,d=n.height,f=u/2,c=u/n.projection,g=e.alpha*n.alpha;if(n.isFilled){var m,y,x,T,C,A,w,P,M;r.pipelines.preBatch(n),n.showTop&&(m=v.getTintAppendFloatAlpha(n.fillTop,g),y=h.getX(-f,-d),x=h.getY(-f,-d),T=h.getX(0,-c-d),C=h.getY(0,-c-d),A=h.getX(f,-d),w=h.getY(f,-d),P=h.getX(0,c-d),M=h.getY(0,c-d),o.batchQuad(n,y,x,T,C,A,w,P,M,0,0,1,1,m,m,m,m,2)),n.showLeft&&(m=v.getTintAppendFloatAlpha(n.fillLeft,g),y=h.getX(-f,0),x=h.getY(-f,0),T=h.getX(0,c),C=h.getY(0,c),A=h.getX(0,c-d),w=h.getY(0,c-d),P=h.getX(-f,-d),M=h.getY(-f,-d),o.batchQuad(n,y,x,T,C,A,w,P,M,0,0,1,1,m,m,m,m,2)),n.showRight&&(m=v.getTintAppendFloatAlpha(n.fillRight,g),y=h.getX(f,0),x=h.getY(f,0),T=h.getX(0,c),C=h.getY(0,c),A=h.getX(0,c-d),w=h.getY(0,c-d),P=h.getX(f,-d),M=h.getY(f,-d),o.batchQuad(n,y,x,T,C,A,w,P,M,0,0,1,1,m,m,m,m,2)),r.pipelines.postBatch(n)}};p.exports=a},16933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(60561),a=t(17803),r=new l({Extends:a,Mixins:[v],initialize:function(e,s,o,i,h,u,d,f,c){s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=48),h===void 0&&(h=32),u===void 0&&(u=!1),d===void 0&&(d=15658734),f===void 0&&(f=10066329),c===void 0&&(c=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=f,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(s,o),this.setSize(i,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});p.exports=r},79590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(v(r,o,n,e,s)&&n.isFilled){var i=n.width,h=n.height,u=i/2,d=i/n.projection,f=n.isReversed;n.showTop&&f&&(l(o,n,n.fillTop),o.beginPath(),o.moveTo(-u,-h),o.lineTo(0,-d-h),o.lineTo(u,-h),o.lineTo(0,d-h),o.fill()),n.showLeft&&(l(o,n,n.fillLeft),o.beginPath(),f?(o.moveTo(-u,-h),o.lineTo(0,d),o.lineTo(0,d-h)):(o.moveTo(-u,0),o.lineTo(0,d),o.lineTo(0,d-h)),o.fill()),n.showRight&&(l(o,n,n.fillRight),o.beginPath(),f?(o.moveTo(u,-h),o.lineTo(0,d),o.lineTo(0,d-h)):(o.moveTo(u,0),o.lineTo(0,d),o.lineTo(0,d-h)),o.fill()),o.restore()}};p.exports=a},49803:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(16933);l.register("isotriangle",function(a,r,n,e,s,o,i,h){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,h))})},60561:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(51503),a=t(79590),p.exports={renderWebGL:v,renderCanvas:a}},51503:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s),h=o.calcMatrix.copyFrom(i.calc),u=n.width,d=n.height,f=u/2,c=u/n.projection,g=n.isReversed,m=e.alpha*n.alpha;if(n.isFilled){r.pipelines.preBatch(n);var y,x,T,C,A,w,P;if(n.showTop&&g){y=v.getTintAppendFloatAlpha(n.fillTop,m),x=h.getX(-f,-d),T=h.getY(-f,-d),C=h.getX(0,-c-d),A=h.getY(0,-c-d),w=h.getX(f,-d),P=h.getY(f,-d);var M=h.getX(0,c-d),R=h.getY(0,c-d);o.batchQuad(n,x,T,C,A,w,P,M,R,0,0,1,1,y,y,y,y,2)}n.showLeft&&(y=v.getTintAppendFloatAlpha(n.fillLeft,m),g?(x=h.getX(-f,-d),T=h.getY(-f,-d),C=h.getX(0,c),A=h.getY(0,c),w=h.getX(0,c-d),P=h.getY(0,c-d)):(x=h.getX(-f,0),T=h.getY(-f,0),C=h.getX(0,c),A=h.getY(0,c),w=h.getX(0,c-d),P=h.getY(0,c-d)),o.batchTri(n,x,T,C,A,w,P,0,0,1,1,y,y,y,2)),n.showRight&&(y=v.getTintAppendFloatAlpha(n.fillRight,m),g?(x=h.getX(f,-d),T=h.getY(f,-d),C=h.getX(0,c),A=h.getY(0,c),w=h.getX(0,c-d),P=h.getY(0,c-d)):(x=h.getX(f,0),T=h.getY(f,0),C=h.getX(0,c),A=h.getY(0,c),w=h.getX(0,c-d),P=h.getY(0,c-d)),o.batchTri(n,x,T,C,A,w,P,0,0,1,1,y,y,y,2)),r.pipelines.postBatch(n)}};p.exports=a},57847:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(17803),a=t(23031),r=t(36823),n=new l({Extends:v,Mixins:[r],initialize:function(s,o,i,h,u,d,f,c,g){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=128),f===void 0&&(f=0),v.call(this,s,"Line",new a(h,u,d,f));var m=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(o,i),this.setSize(m,y),c!==void 0&&this.setStrokeStyle(1,c,g),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,o,i){return this.geom.setTo(e,s,o,i),this}});p.exports=n},17440:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75177),v=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var o=r.currentContext;if(v(r,o,n,e,s)){var i=n._displayOriginX,h=n._displayOriginY;n.isStroked&&(l(o,n),o.beginPath(),o.moveTo(n.geom.x1-i,n.geom.y1-h),o.lineTo(n.geom.x2-i,n.geom.y2-h),o.stroke()),o.restore()}};p.exports=a},2481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(57847);l.register("line",function(a,r,n,e,s,o,i,h){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,h))})},36823:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(77385),a=t(17440),p.exports={renderWebGL:v,renderCanvas:a}},77385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var o=r.pipelines.set(n.pipeline),i=l(n,e,s);o.calcMatrix.copyFrom(i.calc);var h=n._displayOriginX,u=n._displayOriginY,d=e.alpha*n.alpha;if(r.pipelines.preBatch(n),n.isStroked){var f=o.strokeTint,c=v.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*d);f.TL=c,f.TR=c,f.BL=c,f.BR=c,o.batchLine(n.geom.x1-h,n.geom.y1-u,n.geom.x2-h,n.geom.y2-u,n._startWidth/2,n._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(n)};p.exports=a},24949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90273),v=t(83419),a=t(94811),r=t(13829),n=t(25717),e=t(17803),s=t(5469),o=new v({Extends:e,Mixins:[l],initialize:function(h,u,d,f,c,g){u===void 0&&(u=0),d===void 0&&(d=0),e.call(this,h,"Polygon",new n(f));var m=r(this.geom);this.setPosition(u,d),this.setSize(m.width,m.height),c!==void 0&&this.setFillStyle(c,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var h=0;h<i;h++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var h=r(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],h=this.geom.points,u=0;u<h.length;u++)i.push(h[u].x,h[u].y);return i.push(h[0].x,h[0].y),this.pathIndexes=a(i),this.pathData=i,this}});p.exports=o},38710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}e.closePath&&i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},64827:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(24949);l.register("polygon",function(a,r,n,e,s){return this.displayList.add(new v(this.scene,a,r,n,e,s))})},90273:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(73695),a=t(38710),p.exports={renderWebGL:v,renderCanvas:a}},73695:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=v(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};p.exports=r},74561:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(87841),a=t(17803),r=t(95597),n=new l({Extends:a,Mixins:[r],initialize:function(s,o,i,h,u,d,f){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=128),u===void 0&&(u=128),a.call(this,s,"Rectangle",new v(0,0,h,u)),this.setPosition(o,i),this.setSize(h,u),d!==void 0&&this.setFillStyle(d,f),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=e,o.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),s.getLineD(o),e.push(o.x2,o.y2),this.pathData=e,this}});p.exports=n},48682:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(l(i,e),i.fillRect(-h,-u,e.width,e.height)),e.isStroked&&(v(i,e),i.beginPath(),i.rect(-h,-u,e.width,e.height),i.stroke()),i.restore()}};p.exports=r},87959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(74561);l.register("rectangle",function(a,r,n,e,s,o){return this.displayList.add(new v(this.scene,a,r,n,e,s,o))})},95597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(52059),a=t(48682),p.exports={renderWebGL:v,renderCanvas:a}},52059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(34682),a=t(70554),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=l(e,s,o);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,d=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);c.TL=g,c.TR=g,c.BL=g,c.BR=g,i.batchFillRect(-u,-d,e.width,e.height)}e.isStroked&&v(i,e,f,u,d),n.pipelines.postBatch(e)};p.exports=r},55911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81991),v=t(83419),a=t(94811),r=t(17803),n=new v({Extends:r,Mixins:[l],initialize:function(s,o,i,h,u,d,f,c){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=5),u===void 0&&(u=32),d===void 0&&(d=64),r.call(this,s,"Star",null),this._points=h,this._innerRadius=u,this._outerRadius=d,this.setPosition(o,i),this.setSize(d*2,d*2),f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,o=this._innerRadius,i=this._outerRadius,h=Math.PI/2*3,u=Math.PI/s,d=i,f=i;e.push(d,f+-i);for(var c=0;c<s;c++)e.push(d+Math.cos(h)*i,f+Math.sin(h)*i),h+=u,e.push(d+Math.cos(h)*o,f+Math.sin(h)*o),h+=u;return e.push(d,f+-i),this.pathIndexes=a(e),this.pathData=e,this}});p.exports=n},64272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,c=d[0]-h,g=d[1]-u;i.beginPath(),i.moveTo(c,g),e.closePath||(f-=2);for(var m=2;m<f;m+=2){var y=d[m]-h,x=d[m+1]-u;i.lineTo(y,x)}i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},93697:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55911),v=t(39429);v.register("star",function(a,r,n,e,s,o,i){return this.displayList.add(new l(this.scene,a,r,n,e,s,o,i))})},81991:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(57017),a=t(64272),p.exports={renderWebGL:v,renderCanvas:a}},57017:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10441),v=t(91296),a=t(34682),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=v(e,s,o),u=i.calcMatrix.copyFrom(h.calc),d=e._displayOriginX,f=e._displayOriginY,c=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&l(i,u,e,c,d,f),e.isStroked&&a(i,e,c,d,f),n.pipelines.postBatch(e)};p.exports=r},36931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(17803),a=t(16483),r=t(96195),n=new l({Extends:v,Mixins:[r],initialize:function(s,o,i,h,u,d,f,c,g,m,y){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=128),d===void 0&&(d=64),f===void 0&&(f=0),c===void 0&&(c=128),g===void 0&&(g=128),v.call(this,s,"Triangle",new a(h,u,d,f,c,g));var x=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(o,i),this.setSize(x,T),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,o,i,h,u){return this.geom.setTo(e,s,o,i,h,u),this.updateData()},updateData:function(){var e=[],s=this.geom,o=this._tempLine;return s.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),s.getLineB(o),e.push(o.x2,o.y2),s.getLineC(o),e.push(o.x2,o.y2),this.pathData=e,this}});p.exports=n},85172:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65960),v=t(75177),a=t(20926),r=function(n,e,s,o){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,o)){var h=e._displayOriginX,u=e._displayOriginY,d=e.geom.x1-h,f=e.geom.y1-u,c=e.geom.x2-h,g=e.geom.y2-u,m=e.geom.x3-h,y=e.geom.y3-u;i.beginPath(),i.moveTo(d,f),i.lineTo(c,g),i.lineTo(m,y),i.closePath(),e.isFilled&&(l(i,e),i.fill()),e.isStroked&&(v(i,e),i.stroke()),i.restore()}};p.exports=r},45245:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(36931);l.register("triangle",function(a,r,n,e,s,o,i,h,u,d){return this.displayList.add(new v(this.scene,a,r,n,e,s,o,i,h,u,d))})},96195:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(83253),a=t(85172),p.exports={renderWebGL:v,renderCanvas:a}},83253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=t(34682),a=t(70554),r=function(n,e,s,o){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),h=l(e,s,o);i.calcMatrix.copyFrom(h.calc);var u=e._displayOriginX,d=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var c=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);c.TL=g,c.TR=g,c.BL=g,c.BR=g;var m=e.geom.x1-u,y=e.geom.y1-d,x=e.geom.x2-u,T=e.geom.y2-d,C=e.geom.x3-u,A=e.geom.y3-d;i.batchFillTriangle(m,y,x,T,C,A,h.sprite,h.camera)}e.isStroked&&v(i,e,f,u,d),n.pipelines.postBatch(e)};p.exports=r},68287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(31401),r=t(95643),n=t(92751),e=new v({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,n],initialize:function(o,i,h,u,d){r.call(this,o,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(u,d),this.setPosition(i,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,o){this.anims.update(s,o)},play:function(s,o){return this.anims.play(s,o)},playReverse:function(s,o){return this.anims.playReverse(s,o)},playAfterDelay:function(s,o){return this.anims.playAfterDelay(s,o)},playAfterRepeat:function(s,o){return this.anims.playAfterRepeat(s,o)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},76552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v.addToRenderList(l),t.batchSprite(l,l.frame,v,a)};p.exports=S},15567:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(13059),a=t(44603),r=t(23568),n=t(68287);a.register("sprite",function(e,s){e===void 0&&(e={});var o=r(e,"key",null),i=r(e,"frame",null),h=new n(this.scene,0,0,o,i);return s!==void 0&&(e.add=s),l(this.scene,h,e),v(h,e),h})},46409:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(68287);l.register("sprite",function(a,r,n,e){return this.displayList.add(new v(this.scene,a,r,n,e))})},92751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(9409),a=t(76552),p.exports={renderWebGL:v,renderCanvas:a}},9409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v.addToRenderList(l),l.pipeline.batchSprite(l,v,a)};p.exports=S},14220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=t.canvas,r=t.context,n=t.style,e=[],s=0,o=v.length;n.maxLines>0&&n.maxLines<v.length&&(o=n.maxLines),n.syncFont(a,r);for(var i=t.letterSpacing,h=0;h<o;h++){var u=n.strokeThickness;if(i===0)u+=r.measureText(v[h]).width;else{for(var d=v[h],f=0;f<d.length;f++)u+=r.measureText(d[f]).width;d.length>1&&(u+=i*(d.length-1))}n.wordWrap&&(u-=r.measureText(" ").width),e[h]=Math.ceil(u),s=Math.max(s,e[h])}var c=l.fontSize+n.strokeThickness,g=c*o,m=t.lineSpacing;return o>1&&(g+=m*(o-1)),{width:s,height:g,lines:o,lineWidths:e,lineSpacing:m,lineHeight:c}};p.exports=S},79557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=function(a){var r=l.create(this),n=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,n);var e=n.measureText(a.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,o=e.actualBoundingBoxDescent;return l.remove(r),{ascent:s,descent:o,fontSize:s+o}}var i=Math.ceil(e.width*a.baselineX),h=i,u=2*h;h=h*a.baselineY|0,r.width=i,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,i,u),n.font=a._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a.testString,0,h);var d={ascent:0,descent:0,fontSize:0},f=n.getImageData(0,0,i,u);if(!f)return d.ascent=h,d.descent=h+6,d.fontSize=d.ascent+d.descent,l.remove(r),d;var c=f.data,g=c.length,m=i*4,y,x,T=0,C=!1;for(y=0;y<h;y++){for(x=0;x<m;x+=4)if(c[T+x]!==255){C=!0;break}if(!C)T+=m;else break}for(d.ascent=h-y,T=g-m,C=!1,y=u;y>h;y--){for(x=0;x<m;x+=4)if(c[T+x]!==255){C=!0;break}if(!C)T-=m;else break}return d.descent=y-h,d.fontSize=d.ascent+d.descent,l.remove(r),d};p.exports=v},50171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40366),v=t(27919),a=t(83419),r=t(31401),n=t(95643),e=t(14220),s=t(35154),o=t(35846),i=t(61771),h=t(35762),u=t(45650),d=new a({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(c,g,m,y,x){g===void 0&&(g=0),m===void 0&&(m=0),n.call(this,c,"Text"),this.renderer=c.sys.renderer,this.setPosition(g,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new h(this,x),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=c.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(y),x&&x.padding&&this.setPadding(x.padding),x&&x.lineSpacing&&this.setLineSpacing(x.lineSpacing),x&&x.letterSpacing&&this.setLetterSpacing(x.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(f){var c=this.style;if(c.wordWrapCallback){var g=c.wordWrapCallback.call(c.wordWrapCallbackScope,f,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return c.wordWrapWidth?c.wordWrapUseAdvanced?this.advancedWordWrap(f,this.context,this.style.wordWrapWidth):this.basicWordWrap(f,this.context,this.style.wordWrapWidth):f},advancedWordWrap:function(f,c,g){for(var m="",y=f.replace(/ +/gi," ").split(this.splitRegExp),x=y.length,T=0;T<x;T++){var C=y[T],A="";C=C.replace(/^ *|\s*$/gi,"");var w=C.length*this.letterSpacing,P=c.measureText(C).width+w;if(P<g){m+=C+`
`;continue}for(var M=g,R=C.split(" "),O=0;O<R.length;O++){var U=R[O],X=U+" ",W=X.length*this.letterSpacing,Y=c.measureText(X).width+W;if(console.log(R.length,U),Y>M){if(O===0){for(var N=X;N.length;){N=N.slice(0,-1);var z=N.length*this.letterSpacing;if(Y=c.measureText(N).width+z,Y<=M)break}if(!N.length)throw new Error("wordWrapWidth < a single character");var B=U.substr(N.length);R[O]=B,A+=N}var I=R[O].length?O:O+1,G=R.slice(I).join(" ").replace(/[ \n]*$/gi,"");y.splice(T+1,0,G),x=y.length;break}else A+=X,M-=Y}m+=A.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(f,c,g){for(var m="",y=f.split(this.splitRegExp),x=y.length-1,T=c.measureText(" ").width,C=0;C<=x;C++){for(var A=g,w=y[C].split(" "),P=w.length-1,M=0;M<=P;M++){var R=w[M],O=R.length*this.letterSpacing,U=c.measureText(R).width+O,X=U;M<P&&(X+=T),X>A&&M>0&&(m+=`
`,A=g),m+=R,M<P?(m+=" ",A-=X):A-=U}C<x&&(m+=`
`)}return m},getWrappedText:function(f){f===void 0&&(f=this._text),this.style.syncFont(this.canvas,this.context);var c=this.runWordWrap(f);return c.split(this.splitRegExp)},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this._text&&(this._text=f.toString(),this.updateText()),this},appendText:function(f,c){c===void 0&&(c=!0),!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f=f.toString();var g=this._text.concat(c?`
`+f:f);return g!==this._text&&(this._text=g,this.updateText()),this},setStyle:function(f){return this.style.setStyle(f)},setFont:function(f){return this.style.setFont(f)},setFontFamily:function(f){return this.style.setFontFamily(f)},setFontSize:function(f){return this.style.setFontSize(f)},setFontStyle:function(f){return this.style.setFontStyle(f)},setFixedSize:function(f,c){return this.style.setFixedSize(f,c)},setBackgroundColor:function(f){return this.style.setBackgroundColor(f)},setFill:function(f){return this.style.setFill(f)},setColor:function(f){return this.style.setColor(f)},setStroke:function(f,c){return this.style.setStroke(f,c)},setShadow:function(f,c,g,m,y,x){return this.style.setShadow(f,c,g,m,y,x)},setShadowOffset:function(f,c){return this.style.setShadowOffset(f,c)},setShadowColor:function(f){return this.style.setShadowColor(f)},setShadowBlur:function(f){return this.style.setShadowBlur(f)},setShadowStroke:function(f){return this.style.setShadowStroke(f)},setShadowFill:function(f){return this.style.setShadowFill(f)},setWordWrapWidth:function(f,c){return this.style.setWordWrapWidth(f,c)},setWordWrapCallback:function(f,c){return this.style.setWordWrapCallback(f,c)},setAlign:function(f){return this.style.setAlign(f)},setResolution:function(f){return this.style.setResolution(f)},setLineSpacing:function(f){return this.lineSpacing=f,this.updateText()},setLetterSpacing:function(f){return this.letterSpacing=f,this.updateText()},setPadding:function(f,c,g,m){if(typeof f=="object"){var y=f,x=s(y,"x",null);x!==null?(f=x,g=x):(f=s(y,"left",0),g=s(y,"right",f));var T=s(y,"y",null);T!==null?(c=T,m=T):(c=s(y,"top",0),m=s(y,"bottom",c))}else f===void 0&&(f=0),c===void 0&&(c=f),g===void 0&&(g=f),m===void 0&&(m=c);return this.padding.left=f,this.padding.top=c,this.padding.right=g,this.padding.bottom=m,this.updateText()},setMaxLines:function(f){return this.style.setMaxLines(f)},setRTL:function(f){f===void 0&&(f=!0);var c=this.style;return c.rtl===f?this:(c.rtl=f,f?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),c.align==="left"?c.align="right":c.align==="right"&&(c.align="left"),this)},updateText:function(){var f=this.canvas,c=this.context,g=this.style,m=g.resolution,y=g.metrics;g.syncFont(f,c);var x=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(x=this.runWordWrap(this._text));var T=x.split(this.splitRegExp),C=e(this,y,T),A=this.padding,w;g.fixedWidth===0?(this.width=C.width+A.left+A.right,w=C.width):(this.width=g.fixedWidth,w=this.width-A.left-A.right,w<C.width&&(w=C.width)),g.fixedHeight===0?this.height=C.height+A.top+A.bottom:this.height=g.fixedHeight;var P=this.width,M=this.height;this.updateDisplayOrigin(),P*=m,M*=m,P=Math.max(P,1),M=Math.max(M,1),f.width!==P||f.height!==M?(f.width=P,f.height=M,this.frame.setSize(P,M),g.syncFont(f,c),g.rtl&&(c.direction="rtl")):c.clearRect(0,0,P,M),c.save(),c.scale(m,m),g.backgroundColor&&(c.fillStyle=g.backgroundColor,c.fillRect(0,0,P,M)),g.syncStyle(f,c),c.translate(A.left,A.top);for(var R,O,U=0;U<C.lines;U++){if(R=g.strokeThickness/2,O=g.strokeThickness/2+U*C.lineHeight+y.ascent,U>0&&(O+=C.lineSpacing*U),g.rtl)R=P-R-A.left-A.right;else if(g.align==="right")R+=w-C.lineWidths[U];else if(g.align==="center")R+=(w-C.lineWidths[U])/2;else if(g.align==="justify"){var X=.85;if(C.lineWidths[U]/C.width>=X){var W=C.width-C.lineWidths[U],Y=c.measureText(" ").width,N=T[U].trim(),z=N.split(" ");W+=(T[U].length-N.length)*Y;for(var B=Math.floor(W/Y),I=0;B>0;)z[I]+=" ",I=(I+1)%(z.length-1||1),--B;T[U]=z.join(" ")}}this.autoRound&&(R=Math.round(R),O=Math.round(O));var G=this.letterSpacing;if(g.strokeThickness&&G===0&&(g.syncShadow(c,g.shadowStroke),c.strokeText(T[U],R,O)),g.color)if(g.syncShadow(c,g.shadowFill),G!==0)for(var H=0,K=T[U].split(""),Z=0;Z<K.length;Z++)g.strokeThickness&&(g.syncShadow(c,g.shadowStroke),c.strokeText(K[Z],R+H,O),g.syncShadow(c,g.shadowFill)),c.fillText(K[Z],R+H,O),H+=c.measureText(K[Z]).width+G;else c.fillText(T[U],R,O)}c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0));var Q=this.input;return Q&&!Q.customHitArea&&(Q.hitArea.width=this.width,Q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(f){this.setText(f)}},toJSON:function(){var f=r.ToJSON(this),c={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return f.data=c,f},preDestroy:function(){o(this.canvas),v.remove(this.canvas);var f=this.texture;f&&f.destroy()}});p.exports=d},79724:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){l.width===0||l.height===0||(v.addToRenderList(l),t.batchSprite(l,l.frame,v,a))};p.exports=S},71259:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(50171);v.register("text",function(n,e){n===void 0&&(n={});var s=a(n,"text",""),o=a(n,"style",null),i=a(n,"padding",null);i!==null&&(o.padding=i);var h=new r(this.scene,0,0,s,o);return e!==void 0&&(n.add=e),l(this.scene,h,n),h.autoRound=a(n,"autoRound",!0),h.resolution=a(n,"resolution",1),h})},68005:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50171),v=t(39429);v.register("text",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},61771:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(34397),a=t(79724),p.exports={renderWebGL:v,renderCanvas:a}},35762:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23568),a=t(35154),r=t(79557),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new l({initialize:function(o,i){this.parent=o,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,o,i){o===void 0&&(o=!0),i===void 0&&(i=!1);for(var h in n){var u=i?n[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=a(s,n[h][0],u):s&&h==="fontSize"&&typeof s.fontSize=="number"?this[h]=s.fontSize.toString()+"px":this[h]=v(s,n[h][0],u)}var d=a(s,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var f=a(s,"fill",null);f!==null&&(this.color=f);var c=a(s,"metrics",!1);return c?this.metrics={ascent:a(c,"ascent",0),descent:a(c,"descent",0),fontSize:a(c,"fontSize",0)}:(o||!this.metrics)&&(this.metrics=r(this)),o?this.parent.updateText():this.parent},syncFont:function(s,o){o.font=this._font},syncStyle:function(s,o){o.textBaseline="alphabetic",o.fillStyle=this.color,o.strokeStyle=this.stroke,o.lineWidth=this.strokeThickness,o.lineCap="round",o.lineJoin="round"},syncShadow:function(s,o){o?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,o){o===void 0&&(o=!0);var i=s,h="",u="";if(typeof s!="string")i=a(s,"fontFamily","Courier"),h=a(s,"fontSize","16px"),u=a(s,"fontStyle","");else{var d=s.split(" "),f=0;u=d.length>2?d[f++]:"",h=d[f++]||"16px",i=d[f++]||"Courier"}return(i!==this.fontFamily||h!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=h,this.fontStyle=u,o&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,o){return this.fixedWidth=s,this.fixedHeight=o,s&&(this.parent.width=s),o&&(this.parent.height=o),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,o){return o===void 0&&(o=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==o)&&(this.stroke=s,this.strokeThickness=o,this.update(!0)),this.parent},setShadow:function(s,o,i,h,u,d){return s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i="#000"),h===void 0&&(h=0),u===void 0&&(u=!1),d===void 0&&(d=!0),this.shadowOffsetX=s,this.shadowOffsetY=o,this.shadowColor=i,this.shadowBlur=h,this.shadowStroke=u,this.shadowFill=d,this.update(!1)},setShadowOffset:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.shadowOffsetX=s,this.shadowOffsetY=o,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,o){return o===void 0&&(o=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=o,this.update(!1)},setWordWrapCallback:function(s,o){return o===void 0&&(o=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=o,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var o in n)s[o]=this[o];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});p.exports=e},34397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,n,e){if(!(r.width===0||r.height===0)){n.addToRenderList(r);var s=r.frame,o=s.width,i=s.height,h=l.getTintAppendFloatAlpha,u=a.pipelines.set(r.pipeline,r),d=u.setTexture2D(s.glTexture,r);u.batchTexture(r,s.glTexture,o,i,r.x,r.y,o/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,o,i,h(r.tintTopLeft,n.alpha*r._alphaTL),h(r.tintTopRight,n.alpha*r._alphaTR),h(r.tintBottomLeft,n.alpha*r._alphaBL),h(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,0,0,n,e,!1,d)}};p.exports=v},20839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(83419),a=t(31401),r=t(95643),n=t(98439),e=t(68703),s=t(56295),o=t(45650),i=t(26099),h=8,u=new v({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(f,c,g,m,y,x,T){var C=f.sys.renderer;r.call(this,f,"TileSprite");var A=f.sys.textures.get(x),w=A.get(T);w.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),A=f.sys.textures.get("__MISSING"),w=A.get()),A.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),A=f.sys.textures.get("__MISSING"),w=A.get()),!m||!y?(m=m||w.width,y=y||w.height):(m=Math.floor(m),y=Math.floor(y)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=C,this.canvas=l.create(this,m,y),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=A,this.displayFrame=w,this._crop=this.resetCropObject(),this._textureKey=o(),this.texture=f.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=n(w.width),this.potHeight=n(w.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(c,g),this.setSize(m,y),this.setFrame(T),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,f){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(f)},setFrame:function(d){var f=this.displayTexture.get(d);return this.potWidth=n(f.width),this.potHeight=n(f.height),this.canvas.width=0,!f.cutWidth||!f.cutHeight?this.renderFlags&=-9:this.renderFlags|=h,this.displayFrame=f,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,f){return d!==void 0&&(this.tilePositionX=d),f!==void 0&&(this.tilePositionY=f),this},setTileScale:function(d,f){return d===void 0&&(d=this.tileScaleX),f===void 0&&(f=d),this.tileScaleX=d,this.tileScaleY=f,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var f=this.fillContext,c=this.fillCanvas,g=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=d.cutWidth,m=d.cutHeight),f.clearRect(0,0,g,m),c.width=g,c.height=m,f.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,g,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(c,this.fillPattern):this.fillPattern=f.createPattern(c,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var f=this.context;this.scene.sys.game.config.antialias||e.disable(f);var c=this._tileScale.x,g=this._tileScale.y,m=this._tilePosition.x,y=this._tilePosition.y;f.clearRect(0,0,this.width,this.height),f.save(),f.scale(c,g),f.translate(-m,-y),f.fillStyle=this.fillPattern,f.fillRect(m,y,this.width/c,this.height/g),f.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});p.exports=u},46992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){l.updateCanvas(),v.addToRenderList(l),t.batchSprite(l,l.frame,v,a)};p.exports=S},14167:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(20839);v.register("tileSprite",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),o=a(n,"y",0),i=a(n,"width",512),h=a(n,"height",512),u=a(n,"key",""),d=a(n,"frame",""),f=new r(this.scene,s,o,i,h,u,d);return e!==void 0&&(n.add=e),l(this.scene,f,n),f})},91681:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20839),v=t(39429);v.register("tileSprite",function(a,r,n,e,s,o){return this.displayList.add(new l(this.scene,a,r,n,e,s,o))})},56295:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(18553),a=t(46992),p.exports={renderWebGL:v,renderCanvas:a}},18553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,n,e){r.updateCanvas();var s=r.width,o=r.height;if(!(s===0||o===0)){n.addToRenderList(r);var i=l.getTintAppendFloatAlpha,h=a.pipelines.set(r.pipeline,r),u=h.setTexture2D(r.fillPattern,r);h.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,o,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*o,0,0,s,o,i(r.tintTopLeft,n.alpha*r._alphaTL),i(r.tintTopRight,n.alpha*r._alphaTR),i(r.tintBottomLeft,n.alpha*r._alphaBL),i(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,n,e,!1,u)}};p.exports=v},18471:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(31401),r=t(51708),n=t(8443),e=t(95643),s=t(36383),o=t(14463),i=t(45650),h=t(10247),u=new v({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,h],initialize:function(f,c,g,m){e.call(this,f,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var y=f.sys.game;this._device=y.device.video,this.setPosition(c,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),y.events.on(n.PAUSE,this.globalPause,this),y.events.on(n.RESUME,this.globalResume,this);var x=f.sys.sound;x&&x.on(o.GLOBAL_MUTE,this.globalMute,this),m&&this.load(m)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var f=this.scene.sys.cache.video.get(d);return f?(this.cacheKey=d,this.loadHandler(f.url,f.noAudio,f.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,f,c,g,m){f===void 0&&(f=!0),c===void 0&&(c=!1),this.cacheKey!==d&&(this.load(d),f&&this.play(c,g,m))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,f,c){f===void 0&&(f=!1);var g=this._device.getVideoURL(d);return g?(this.cacheKey="",this.loadHandler(g.url,f,c)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,f,c){return this.loadHandler(null,f,c,d)},loadHandler:function(d,f,c,g){f||(f=!1);var m=this.video;if(m?(this.removeLoadEventHandlers(),this.stop()):(m=document.createElement("video"),m.controls=!1,m.setAttribute("playsinline","playsinline"),m.setAttribute("preload","auto"),m.setAttribute("disablePictureInPicture","true")),f?(m.muted=!0,m.defaultMuted=!0,m.setAttribute("autoplay","autoplay")):(m.muted=!1,m.defaultMuted=!1,m.removeAttribute("autoplay")),c?m.setAttribute("crossorigin",c):m.removeAttribute("crossorigin"),g)if("srcObject"in m)try{m.srcObject=g}catch(x){if(x.name!=="TypeError")throw x;m.src=URL.createObjectURL(g)}else m.src=URL.createObjectURL(g);else m.src=d;this.retry=0,this.video=m,this._playCalled=!1,m.load(),this.addLoadEventHandlers();var y=this.scene.sys.textures.get(this._key);return this.setTexture(y),this},requestVideoFrame:function(d,f){var c=this.video;if(c){var g=f.width,m=f.height,y=this.videoTexture,x=this.videoTextureSource,T=!y||x.source!==c;T?(this._codePaused=c.paused,this._codeMuted=c.muted,y?(x.source=c,x.width=g,x.height=m,y.get().setSize(g,m)):(y=this.scene.sys.textures.create(this._key,c,g,m),y.add("__BASE",0,0,0,g,m),this.setTexture(y),this.videoTexture=y,this.videoTextureSource=y.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,y)),this.setSizeToFrame(),this.updateDisplayOrigin()):x.update(),this.isStalled=!1,this.metadata=f;var C=f.mediaTime;T&&(this._lastUpdate=C,this.emit(r.VIDEO_CREATED,this,g,m),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?C>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):C<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=C,this._getFrame?(this.removeEventHandlers(),c.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,f,c){f===void 0&&(f=-1),c===void 0&&(c=s.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(d===void 0&&(d=g.loop),g.loop=d,this._markerIn=f,this._markerOut=c,this._playingMarker=f>-1&&c>f&&c<s.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var c in f)d.addEventListener(c,f[c])}},removeEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var c in f)d.removeEventListener(c,f[c])}},createPlayPromise:function(d){d===void 0&&(d=!0);var f=this.video,c=f.play();if(c!==void 0){var g=this.playSuccess.bind(this),m=this.playError.bind(this);if(!d){var y=this;m=function(){y.failedPlayAttempts++}}c.then(g).catch(m)}else f.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,f,c){return!isNaN(f)&&f>=0&&!isNaN(c)&&c>f&&(this.markers[d]=[f,c]),this},playMarker:function(d,f){var c=this.markers[d];return c&&this.play(f,c[0],c[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,f){return d===void 0&&(d=this.width),f===void 0&&(f=this.height),this.snapshotArea(0,0,this.width,this.height,d,f)},snapshotArea:function(d,f,c,g,m,y){d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=this.width),g===void 0&&(g=this.height),m===void 0&&(m=c),y===void 0&&(y=g);var x=this.video,T=this.snapshotTexture;return T?(T.setSize(m,y),x&&T.context.drawImage(x,d,f,c,g,0,0,m,y)):(T=this.scene.sys.textures.createCanvas(i(),m,y),this.snapshotTexture=T,x&&T.context.drawImage(x,d,f,c,g,0,0,m,y)),T.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var f=d.name;f==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):f==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(r.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(r.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(d,f){var c=this.video;!c||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=f,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var f=this.video;if(f){var c=f.duration;if(c!==1/0&&!isNaN(c)){var g=c*d;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var f=this.video;if(f){if(typeof d=="string"){var c=d[0],g=parseFloat(d.substr(1));c==="+"?d=f.currentTime+g:c==="-"&&(d=f.currentTime-g)}f.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var f=d.duration;if(f!==1/0&&!isNaN(f))return d.currentTime/f}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var f=this.video;return f&&(f.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,f){this._systemMuted=f;var c=this.video;c&&(c.muted=this._codeMuted?!0:f)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var f=this.video;return this._codePaused=d,f&&!f.ended&&(d?f.paused||(this.removeEventHandlers(),f.pause()):d||(this._playCalled?f.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=l(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,f){return f===void 0&&(f=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(f)),this._key=d,this.flipY=f,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var f=this.video;return f&&(this.removeEventHandlers(),f.cancelVideoFrameCallback(this._rfvCallbackId),f.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(n.PAUSE,this.globalPause,this),d.off(n.RESUME,this.globalResume,this);var f=this.scene.sys.sound;f&&f.off(o.GLOBAL_MUTE,this.globalMute,this)}});p.exports=u},58352:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){l.videoTexture&&(v.addToRenderList(l),t.batchSprite(l,l.frame,v,a))};p.exports=S},11511:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25305),v=t(44603),a=t(23568),r=t(18471);v.register("video",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),o=new r(this.scene,0,0,s);return e!==void 0&&(n.add=e),l(this.scene,o,n),o})},89025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18471),v=t(39429);v.register("video",function(a,r,n){return this.displayList.add(new l(this.scene,a,r,n))})},10247:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(29849),a=t(58352),p.exports={renderWebGL:v,renderCanvas:a}},29849:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){l.videoTexture&&(v.addToRenderList(l),l.pipeline.batchSprite(l,v,a))};p.exports=S},41481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(96503),a=t(87902),r=t(83419),n=t(31401),e=t(95643),s=t(87841),o=t(37303),i=new r({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(u,d,f,c,g){c===void 0&&(c=1),g===void 0&&(g=c),e.call(this,u,"Zone"),this.setPosition(d,f),this.width=c,this.height=g,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,u,d){d===void 0&&(d=!0),this.width=h,this.height=u,this.updateDisplayOrigin();var f=this.input;return d&&f&&!f.customHitArea&&(f.hitArea.width=h,f.hitArea.height=u),this},setDisplaySize:function(h,u){return this.displayWidth=h,this.displayHeight=u,this},setCircleDropZone:function(h){return this.setDropZone(new v(0,0,h),a)},setRectangleDropZone:function(h,u){return this.setDropZone(new s(0,0,h,u),o)},setDropZone:function(h,u){return this.input||this.setInteractive(h,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,u,d){d.addToRenderList(u)},renderWebGL:function(h,u,d){d.addToRenderList(u)}});p.exports=i},95261:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(23568),a=t(41481);l.register("zone",function(r){var n=v(r,"x",0),e=v(r,"y",0),s=v(r,"width",1),o=v(r,"height",s);return new a(this.scene,n,e,s,o)})},84175:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41481),v=t(39429);v.register("zone",function(a,r,n,e){return this.displayList.add(new l(this.scene,a,r,n,e))})},95166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=S},96503:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(87902),a=t(26241),r=t(79124),n=t(23777),e=t(28176),s=new l({initialize:function(i,h,u){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.type=n.CIRCLE,this.x=i,this.y=h,this._radius=u,this._diameter=u*2},contains:function(o,i){return v(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,h){return r(this,o,i,h)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,h){return this.x=o,this.y=i,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this._diameter=o*2}},diameter:{get:function(){return this._diameter},set:function(o){this._diameter=o,this._radius=o*.5}},left:{get:function(){return this.x-this._radius},set:function(o){this.x=o+this._radius}},right:{get:function(){return this.x+this._radius},set:function(o){this.x=o-this._radius}},top:{get:function(){return this.y-this._radius},set:function(o){this.y=o+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(o){this.y=o-this._radius}}});p.exports=s},71562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};p.exports=S},92110:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,n){return n===void 0&&(n=new l),n.x=a.x+a.radius*Math.cos(r),n.y=a.y+a.radius*Math.sin(r),n};p.exports=v},42250:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=function(a){return new l(a.x,a.y,a.radius)};p.exports=v},87902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(t.radius>0&&l>=t.left&&l<=t.right&&v>=t.top&&v<=t.bottom){var a=(t.x-l)*(t.x-l),r=(t.y-v)*(t.y-v);return a+r<=t.radius*t.radius}else return!1};p.exports=S},5698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},70588:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};p.exports=v},26394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y,t.radius)};p.exports=S},76278:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y&&t.radius===l.radius};p.exports=S},2074:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};p.exports=v},26241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92110),v=t(62945),a=t(36383),r=t(2141),n=function(e,s,o){o===void 0&&(o=new r);var i=v(s,0,a.PI2);return l(e,i,o)};p.exports=n},79124:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71562),v=t(92110),a=t(62945),r=t(36383),n=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=l(e)/o);for(var h=0;h<s;h++){var u=a(h/s,0,r.PI2);i.push(v(e,u))}return i};p.exports=n},50884:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t.x+=l,t.y+=v,t};p.exports=S},39212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=S},28176:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,o=s*Math.cos(n),i=s*Math.sin(n);return r.x=a.x+o*a.radius,r.y=a.y+i*a.radius,r};p.exports=v},88911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503);l.Area=t(95166),l.Circumference=t(71562),l.CircumferencePoint=t(92110),l.Clone=t(42250),l.Contains=t(87902),l.ContainsPoint=t(5698),l.ContainsRect=t(70588),l.CopyFrom=t(26394),l.Equals=t(76278),l.GetBounds=t(2074),l.GetPoint=t(26241),l.GetPoints=t(79124),l.Offset=t(50884),l.OffsetPoint=t(39212),l.Random=t(28176),p.exports=l},23777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=S},78874:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=S},92990:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.width/2,v=t.height/2,a=Math.pow(l-v,2)/Math.pow(l+v,2);return Math.PI*(l+v)*(1+3*a/(10+Math.sqrt(4-3*a)))};p.exports=S},79522:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,n){n===void 0&&(n=new l);var e=a.width/2,s=a.height/2;return n.x=a.x+e*Math.cos(r),n.y=a.y+s*Math.sin(r),n};p.exports=v},58102:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8497),v=function(a){return new l(a.x,a.y,a.width,a.height)};p.exports=v},81154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(t.width<=0||t.height<=0)return!1;var a=(l-t.x)/t.width,r=(v-t.y)/t.height;return a*=a,r*=r,a+r<.25};p.exports=S},46662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81154),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},1632:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81154),v=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};p.exports=v},65534:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};p.exports=S},8497:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(81154),a=t(90549),r=t(48320),n=t(23777),e=t(24820),s=new l({initialize:function(i,h,u,d){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=n.ELLIPSE,this.x=i,this.y=h,this.width=u,this.height=d},contains:function(o,i){return v(this,o,i)},getPoint:function(o,i){return a(this,o,i)},getPoints:function(o,i,h){return r(this,o,i,h)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,i,h,u){return this.x=o,this.y=i,this.width=h,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(o,i){return i===void 0&&(i=o),this.x=o,this.y=i,this},setSize:function(o,i){return i===void 0&&(i=o),this.width=o,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(o){this.x=o+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(o){this.y=o+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});p.exports=s},36146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};p.exports=S},23694:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};p.exports=v},90549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79522),v=t(62945),a=t(36383),r=t(2141),n=function(e,s,o){o===void 0&&(o=new r);var i=v(s,0,a.PI2);return l(e,i,o)};p.exports=n},48320:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92990),v=t(79522),a=t(62945),r=t(36383),n=function(e,s,o,i){i===void 0&&(i=[]),!s&&o>0&&(s=l(e)/o);for(var h=0;h<s;h++){var u=a(h/s,0,r.PI2);i.push(v(e,u))}return i};p.exports=n},73424:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t.x+=l,t.y+=v,t};p.exports=S},44808:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=S},24820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(n)*a.width/2,r.y=a.y+e*Math.sin(n)*a.height/2,r};p.exports=v},49203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8497);l.Area=t(78874),l.Circumference=t(92990),l.CircumferencePoint=t(79522),l.Clone=t(58102),l.Contains=t(81154),l.ContainsPoint=t(46662),l.ContainsRect=t(1632),l.CopyFrom=t(65534),l.Equals=t(36146),l.GetBounds=t(23694),l.GetPoint=t(90549),l.GetPoints=t(48320),l.Offset=t(73424),l.OffsetPoint=t(44808),l.Random=t(24820),p.exports=l},55738:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23777),v=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=v(!1,a,l),p.exports=a},2044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20339),v=function(a,r){return l(a.x,a.y,r.x,r.y)<=a.radius+r.radius};p.exports=v},81491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=l.width/2,a=l.height/2,r=Math.abs(t.x-l.x-v),n=Math.abs(t.y-l.y-a),e=v+t.radius,s=a+t.radius;if(r>e||n>s)return!1;if(r<=v||n<=a)return!0;var o=r-v,i=n-a,h=o*o,u=i*i,d=t.radius*t.radius;return h+u<=d};p.exports=S},63376:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(2044),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.x,o=r.y,i=r.radius,h=n.x,u=n.y,d=n.radius,f,c,g,m,y;if(o===u)y=(d*d-i*i-h*h+s*s)/(2*(s-h)),f=1,c=-2*u,g=h*h+y*y-2*h*y+u*u-d*d,m=c*c-4*f*g,m===0?e.push(new l(y,-c/(2*f))):m>0&&(e.push(new l(y,(-c+Math.sqrt(m))/(2*f))),e.push(new l(y,(-c-Math.sqrt(m))/(2*f))));else{var x=(s-h)/(o-u),T=(d*d-i*i-h*h+s*s-u*u+o*o)/(2*(o-u));f=x*x+1,c=2*o*x-2*T*x-2*s,g=s*s+o*o+T*T-i*i-2*o*T,m=c*c-4*f*g,m===0?(y=-c/(2*f),e.push(new l(y,T-y*x))):m>0&&(y=(-c+Math.sqrt(m))/(2*f),e.push(new l(y,T-y*x)),y=(-c-Math.sqrt(m))/(2*f),e.push(new l(y,T-y*x)))}}return e};p.exports=a},97439:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4042),v=t(81491),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC(),h=n.getLineD();l(s,r,e),l(o,r,e),l(i,r,e),l(h,r,e)}return e};p.exports=a},4042:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(80462),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.x1,o=r.y1,i=r.x2,h=r.y2,u=n.x,d=n.y,f=n.radius,c=i-s,g=h-o,m=s-u,y=o-d,x=c*c+g*g,T=2*(c*m+g*y),C=m*m+y*y-f*f,A=T*T-4*x*C,w,P;if(A===0){var M=-T/(2*x);w=s+M*c,P=o+M*g,M>=0&&M<=1&&e.push(new l(w,P))}else if(A>0){var R=(-T-Math.sqrt(A))/(2*x);w=s+R*c,P=o+R*g,R>=0&&R<=1&&e.push(new l(w,P));var O=(-T+Math.sqrt(A))/(2*x);w=s+O*c,P=o+O*g,O>=0&&O<=1&&e.push(new l(w,P))}}return e};p.exports=a},36100:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),v=function(a,r,n,e){n===void 0&&(n=!1);var s=a.x1,o=a.y1,i=a.x2,h=a.y2,u=r.x1,d=r.y1,f=r.x2,c=r.y2,g=i-s,m=h-o,y=f-u,x=c-d,T=g*x-m*y;if(T===0)return null;var C,A,w;if(n){if(C=(g*(d-o)+m*(s-u))/(y*m-x*g),g!==0)A=(u+y*C-s)/g;else if(m!==0)A=(d+x*C-o)/m;else return null;if(A<0||C<0||C>1)return null;w=A}else{if(C=((u-s)*x-(d-o)*y)/T,A=((o-d)*g-(s-u)*m)/T,C<0||C>1||A<0||A>1)return null;w=C}return e===void 0&&(e=new l),e.set(s+g*w,o+m*w,w)};p.exports=v},3073:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36100),v=t(23031),a=t(25836),r=new v,n=new a,e=function(s,o,i,h){i===void 0&&(i=!1),h===void 0&&(h=new a);var u=!1;h.set(),n.set();for(var d=o[o.length-1],f=0;f<o.length;f++){var c=o[f];r.setTo(d.x,d.y,c.x,c.y),d=c,l(s,r,i,n)&&(!u||n.z<h.z)&&(h.copy(n),u=!0)}return u?h:null};p.exports=e},56362:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),v=t(61369),a=t(3073),r=new l,n=function(e,s,o,i){i===void 0&&(i=new v),Array.isArray(s)||(s=[s]);var h=!1;i.set(),r.set();for(var u=0;u<s.length;u++)a(e,s[u].points,o,r)&&(!h||r.z<i.z)&&(i.set(r.x,r.y,r.z,u),h=!0);return h?i:null};p.exports=n},60646:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(76112),a=t(92773),r=function(n,e,s){if(s===void 0&&(s=[]),a(n,e))for(var o=e.getLineA(),i=e.getLineB(),h=e.getLineC(),u=e.getLineD(),d=[new l,new l,new l,new l],f=[v(o,n,d[0]),v(i,n,d[1]),v(h,n,d[2]),v(u,n,d[3])],c=0;c<4;c++)f[c]&&s.push(d[c]);return s};p.exports=r},71147:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61369),v=t(56362),a=t(23031),r=new a;function n(o,i,h,u,d){var f=Math.cos(o),c=Math.sin(o);r.setTo(i,h,i+f,h+c);var g=v(r,u,!0);g&&d.push(new l(g.x,g.y,o,g.w))}function e(o,i){return o.z-i.z}var s=function(o,i,h){Array.isArray(h)||(h=[h]);for(var u=[],d=[],f=0;f<h.length;f++)for(var c=h[f].points,g=0;g<c.length;g++){var m=Math.atan2(c[g].y-i,c[g].x-o);d.indexOf(m)===-1&&(n(m,o,i,h,u),n(m-1e-5,o,i,h,u),n(m+1e-5,o,i,h,u),d.push(m))}return u.sort(e)};p.exports=s},68389:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(59996),a=function(r,n,e){return e===void 0&&(e=new l),v(r,n)&&(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y),e};p.exports=a},52784:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60646),v=t(59996),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC(),h=r.getLineD();l(s,n,e),l(o,n,e),l(i,n,e),l(h,n,e)}return e};p.exports=a},26341:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89265),v=t(60646),a=function(r,n,e){if(e===void 0&&(e=[]),l(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();v(s,r,e),v(o,r,e),v(i,r,e)}return e};p.exports=a},38720:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(4042),v=t(67636),a=function(r,n,e){if(e===void 0&&(e=[]),v(r,n)){var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();l(s,n,e),l(o,n,e),l(i,n,e)}return e};p.exports=a},13882:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(2822),a=t(76112),r=function(n,e,s){if(s===void 0&&(s=[]),v(n,e))for(var o=n.getLineA(),i=n.getLineB(),h=n.getLineC(),u=[new l,new l,new l],d=[a(o,e,u[0]),a(i,e,u[1]),a(h,e,u[2])],f=0;f<3;f++)d[f]&&s.push(u[f]);return s};p.exports=r},75636:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82944),v=t(13882),a=function(r,n,e){if(e===void 0&&(e=[]),l(r,n)){var s=n.getLineA(),o=n.getLineB(),i=n.getLineC();v(r,s,e),v(r,o,e),v(r,i,e)}return e};p.exports=a},80462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=t(2141),a=new v,r=function(n,e,s){if(s===void 0&&(s=a),l(e,n.x1,n.y1))return s.x=n.x1,s.y=n.y1,!0;if(l(e,n.x2,n.y2))return s.x=n.x2,s.y=n.y2,!0;var o=n.x2-n.x1,i=n.y2-n.y1,h=e.x-n.x1,u=e.y-n.y1,d=o*o+i*i,f=o,c=i;if(d>0){var g=(h*o+u*i)/d;f*=g,c*=g}s.x=n.x1+f,s.y=n.y1+c;var m=f*f+c*c;return m<=d&&f*o+c*i>=0&&l(e,s.x,s.y)};p.exports=r},76112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=t.x1,r=t.y1,n=t.x2,e=t.y2,s=l.x1,o=l.y1,i=l.x2,h=l.y2;if(a===n&&r===e||s===i&&o===h)return!1;var u=(h-o)*(n-a)-(i-s)*(e-r);if(u===0)return!1;var d=((i-s)*(r-o)-(h-o)*(a-s))/u,f=((n-a)*(r-o)-(e-r)*(a-s))/u;return d<0||d>1||f<0||f>1?!1:(v&&(v.x=a+d*(n-a),v.y=r+d*(e-r)),!0)};p.exports=S},92773:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.x1,a=t.y1,r=t.x2,n=t.y2,e=l.x,s=l.y,o=l.right,i=l.bottom,h=0;if(v>=e&&v<=o&&a>=s&&a<=i||r>=e&&r<=o&&n>=s&&n<=i)return!0;if(v<e&&r>=e){if(h=a+(n-a)*(e-v)/(r-v),h>s&&h<=i)return!0}else if(v>o&&r<=o&&(h=a+(n-a)*(o-v)/(r-v),h>=s&&h<=i))return!0;if(a<s&&n>=s){if(h=v+(r-v)*(s-a)/(n-a),h>=e&&h<=o)return!0}else if(a>i&&n<=i&&(h=v+(r-v)*(i-a)/(n-a),h>=e&&h<=o))return!0;return!1};p.exports=S},16204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){v===void 0&&(v=1);var a=l.x1,r=l.y1,n=l.x2,e=l.y2,s=t.x,o=t.y,i=(n-a)*(n-a)+(e-r)*(e-r);if(i===0)return!1;var h=((s-a)*(n-a)+(o-r)*(e-r))/i;if(h<0)return Math.sqrt((a-s)*(a-s)+(r-o)*(r-o))<=v;if(h>=0&&h<=1){var u=((r-o)*(n-a)-(a-s)*(e-r))/i;return Math.abs(u)*Math.sqrt(i)<=v}else return Math.sqrt((n-s)*(n-s)+(e-o)*(e-o))<=v};p.exports=S},14199:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16204),v=function(a,r){if(!l(a,r))return!1;var n=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),o=Math.max(r.y1,r.y2);return a.x>=n&&a.x<=e&&a.y>=s&&a.y<=o};p.exports=v},59996:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.width<=0||t.height<=0||l.width<=0||l.height<=0?!1:!(t.right<l.x||t.bottom<l.y||t.x>l.right||t.y>l.bottom)};p.exports=S},89265:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76112),v=t(37303),a=t(48653),r=t(77493),n=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var o=s.getLineA(),i=s.getLineB(),h=s.getLineC();if(v(e,o.x1,o.y1)||v(e,o.x2,o.y2)||v(e,i.x1,i.y1)||v(e,i.x2,i.y2)||v(e,h.x1,h.y1)||v(e,h.x2,h.y2))return!0;var u=e.getLineA(),d=e.getLineB(),f=e.getLineC(),c=e.getLineD();if(l(o,u)||l(o,d)||l(o,f)||l(o,c)||l(i,u)||l(i,d)||l(i,f)||l(i,c)||l(h,u)||l(h,d)||l(h,f)||l(h,c))return!0;var g=r(e),m=a(s,g,!0);return m.length>0};p.exports=n},84411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r,n){return n===void 0&&(n=0),!(l>t.right+n||v<t.left-n||a>t.bottom+n||r<t.top-n)};p.exports=S},67636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80462),v=t(10690),a=function(r,n){return r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top?!1:!!(v(r,n.x,n.y)||l(r.getLineA(),n)||l(r.getLineB(),n)||l(r.getLineC(),n))};p.exports=a},2822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76112),v=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||l(a.getLineA(),r)||l(a.getLineB(),r)||l(a.getLineC(),r))};p.exports=v},82944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48653),v=t(71694),a=t(76112),r=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var s=n.getLineA(),o=n.getLineB(),i=n.getLineC(),h=e.getLineA(),u=e.getLineB(),d=e.getLineC();if(a(s,h)||a(s,u)||a(s,d)||a(o,h)||a(o,u)||a(o,d)||a(i,h)||a(i,u)||a(i,d))return!0;var f=v(n),c=l(e,f,!0);return c.length>0||(f=v(e),c=l(n,f,!0),c.length>0)};p.exports=r},91865:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=S},84993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){l===void 0&&(l=1),v===void 0&&(v=[]);var a=Math.round(t.x1),r=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(n-a),o=Math.abs(e-r),i=a<n?1:-1,h=r<e?1:-1,u=s-o;v.push({x:a,y:r});for(var d=1;!(a===n&&r===e);){var f=u<<1;f>-o&&(u-=o,a+=i),f<s&&(u+=s,r+=h),d%l===0&&v.push({x:a,y:r}),d++}return v};p.exports=S},36469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=l-(t.x1+t.x2)/2,r=v-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};p.exports=S},31116:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23031),v=function(a){return new l(a.x1,a.y1,a.x2,a.y2)};p.exports=v},59944:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=S},59220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2};p.exports=S},78177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=function(a,r,n){n===void 0&&(n=r);var e=l(a),s=a.x2-a.x1,o=a.y2-a.y1;return r&&(a.x1=a.x1-s/e*r,a.y1=a.y1-o/e*r),n&&(a.x2=a.x2+s/e*n,a.y2=a.y2+o/e*n),a};p.exports=v},26708:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52816),v=t(6113),a=t(2141),r=function(n,e,s,o,i){o===void 0&&(o=0),i===void 0&&(i=[]);var h=[],u=n.x1,d=n.y1,f=n.x2-u,c=n.y2-d,g=v(e,i),m,y,x=s-1;for(m=0;m<x;m++)y=g(m/x),h.push(new a(u+f*y,d+c*y));if(y=g(1),h.push(new a(u+f*y,d+c*y)),o>0){var T=h[0],C=[T];for(m=1;m<h.length-1;m++){var A=h[m];l(T,A)>=o&&(C.push(A),T=A)}var w=h[h.length-1];return l(T,w)<o&&C.pop(),C.push(w),C}else return h};p.exports=r},32125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};p.exports=v},99569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,n){n===void 0&&(n=new l);var e=a.x1,s=a.y1,o=a.x2,i=a.y2,h=(o-e)*(o-e)+(i-s)*(i-s);if(h===0)return n;var u=((r.x-e)*(o-e)+(r.y-s)*(i-s))/h;return n.x=e+u*(o-e),n.y=s+u*(i-s),n};p.exports=v},34638:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(91938),a=t(2141),r=function(n,e){e===void 0&&(e=new a);var s=v(n)-l.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};p.exports=r},13151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,n){return n===void 0&&(n=new l),n.x=a.x1+(a.x2-a.x1)*r,n.y=a.y1+(a.y2-a.y1)*r,n};p.exports=v},15258:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=l(r)/e);for(var o=r.x1,i=r.y1,h=r.x2,u=r.y2,d=0;d<n;d++){var f=d/n,c=o+(h-o)*f,g=i+(u-i)*f;s.push(new v(c,g))}return s};p.exports=a},26408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.x1,a=t.y1,r=t.x2,n=t.y2,e=(r-v)*(r-v)+(n-a)*(n-a);if(e===0)return!1;var s=((a-l.y)*(r-v)-(v-l.x)*(n-a))/e;return Math.abs(s)*Math.sqrt(e)};p.exports=S},98770:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};p.exports=S},35001:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=S},23031:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(13151),a=t(15258),r=t(23777),n=t(65822),e=t(26099),s=new l({initialize:function(i,h,u,d){i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=r.LINE,this.x1=i,this.y1=h,this.x2=u,this.y2=d},getPoint:function(o,i){return v(this,o,i)},getPoints:function(o,i,h){return a(this,o,i,h)},getRandomPoint:function(o){return n(this,o)},setTo:function(o,i,h,u){return o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),this.x1=o,this.y1=i,this.x2=h,this.y2=u,this},setFromObjects:function(o,i){return this.x1=o.x,this.y1=o.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(o){return o===void 0&&(o=new e),o.set(this.x1,this.y1),o},getPointB:function(o){return o===void 0&&(o=new e),o.set(this.x2,this.y2),o},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(o){this.x1<=this.x2?this.x1=o:this.x2=o}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(o){this.x1>this.x2?this.x1=o:this.x2=o}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(o){this.y1<=this.y2?this.y1=o:this.y2=o}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(o){this.y1>this.y2?this.y1=o:this.y2=o}}});p.exports=s},64795:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(15994),a=t(91938),r=function(n){var e=a(n)-l.TAU;return v(e,-Math.PI,Math.PI)};p.exports=r},52616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(91938),a=function(r){return Math.cos(v(r)-l.TAU)};p.exports=a},87231:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(91938),a=function(r){return Math.sin(v(r)-l.TAU)};p.exports=a},89662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t.x1+=l,t.y1+=v,t.x2+=l,t.y2+=v,t};p.exports=S},71165:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=S},65822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var n=Math.random();return r.x=a.x1+n*(a.x2-a.x1),r.y=a.y1+n*(a.y2-a.y1),r};p.exports=v},69777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91938),v=t(64795),a=function(r,n){return 2*v(n)-Math.PI-l(r)};p.exports=a},39706:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64400),v=function(a,r){var n=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return l(a,n,e,r)};p.exports=v},82585:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64400),v=function(a,r,n){return l(a,r.x,r.y,n)};p.exports=v},64400:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-l,s=t.y1-v;return t.x1=e*r-s*n+l,t.y1=e*n+s*r+v,e=t.x2-l,s=t.y2-v,t.x2=e*r-s*n+l,t.y2=e*n+s*r+v,t};p.exports=S},62377:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){return t.x1=l,t.y1=v,t.x2=l+Math.cos(a)*r,t.y2=v+Math.sin(a)*r,t};p.exports=S},71366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=S},10809:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};p.exports=S},2529:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23031);l.Angle=t(91938),l.BresenhamPoints=t(84993),l.CenterOn=t(36469),l.Clone=t(31116),l.CopyFrom=t(59944),l.Equals=t(59220),l.Extend=t(78177),l.GetEasedPoints=t(26708),l.GetMidPoint=t(32125),l.GetNearestPoint=t(99569),l.GetNormal=t(34638),l.GetPoint=t(13151),l.GetPoints=t(15258),l.GetShortestDistance=t(26408),l.Height=t(98770),l.Length=t(35001),l.NormalAngle=t(64795),l.NormalX=t(52616),l.NormalY=t(87231),l.Offset=t(89662),l.PerpSlope=t(71165),l.Random=t(65822),l.ReflectAngle=t(69777),l.Rotate=t(39706),l.RotateAroundPoint=t(82585),l.RotateAroundXY=t(64400),l.SetToAngle=t(62377),l.Slope=t(71366),l.Width=t(10809),p.exports=l},83997:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(87841),a=t(26099);function r(e,s,o,i){var h=e-o,u=s-i,d=h*h+u*u;return Math.sqrt(d)}var n=new l({initialize:function(s,o,i){this.vertex1=s,this.vertex2=o,this.vertex3=i,this.bounds=new v,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,o=this.vertex2,i=this.vertex3,h,u,d,f,c,g;e?(h=s.x,u=s.y,d=o.x,f=o.y,c=i.x,g=i.y):(h=s.vx,u=s.vy,d=o.vx,f=o.vy,c=i.vx,g=i.vy);var m=r(c,g,d,f),y=r(h,u,c,g),x=r(d,f,h,u),T=m+y+x;return this._inCenter.set((h*m+d*y+c*x)/T,(u*m+f*y+g*x)/T)},contains:function(e,s,o){var i=this.vertex1,h=this.vertex2,u=this.vertex3,d=i.vx,f=i.vy,c=h.vx,g=h.vy,m=u.vx,y=u.vy;if(o){var x=o.a,T=o.b,C=o.c,A=o.d,w=o.e,P=o.f;d=i.vx*x+i.vy*C+w,f=i.vx*T+i.vy*A+P,c=h.vx*x+h.vy*C+w,g=h.vx*T+h.vy*A+P,m=u.vx*x+u.vy*C+w,y=u.vx*T+u.vy*A+P}var M=m-d,R=y-f,O=c-d,U=g-f,X=e-d,W=s-f,Y=M*M+R*R,N=M*O+R*U,z=M*X+R*W,B=O*O+U*U,I=O*X+U*W,G=Y*B-N*N,H=G===0?0:1/G,K=(B*z-N*I)*H,Z=(Y*I-N*z)*H;return K>=0&&Z>=0&&K+Z<1},isCounterClockwise:function(e){var s=this.vertex1,o=this.vertex2,i=this.vertex3,h=(o.vx-s.vx)*(i.vy-s.vy)-(o.vy-s.vy)*(i.vx-s.vx);return e<=0?h>=0:h<0},load:function(e,s,o,i,h){return o=this.vertex1.load(e,s,o,i,h),o=this.vertex2.load(e,s,o,i,h),o=this.vertex3.load(e,s,o,i,h),o},transformCoordinatesLocal:function(e,s,o,i){return this.vertex1.transformCoordinatesLocal(e,s,o,i),this.vertex2.transformCoordinatesLocal(e,s,o,i),this.vertex3.transformCoordinatesLocal(e,s,o,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,o.vx),i.y=Math.min(e.vy,s.vy,o.vy),i.width=Math.max(e.vx,s.vx,o.vx)-i.x,i.height=Math.max(e.vy,s.vy,o.vy)-i.y,this},isInView:function(e,s,o,i,h,u,d,f,c,g,m){this.update(i,h,u,d,f,c,g,m);var y=this.vertex1,x=this.vertex2,T=this.vertex3;if(y.ta<=0&&x.ta<=0&&T.ta<=0||s&&!this.isCounterClockwise(o))return!1;var C=this.bounds;C.x=Math.min(y.tx,x.tx,T.tx),C.y=Math.min(y.ty,x.ty,T.ty),C.width=Math.max(y.tx,x.tx,T.tx)-C.x,C.height=Math.max(y.ty,x.ty,T.ty)-C.y;var A=e.x+e.width,w=e.y+e.height;return C.width<=0||C.height<=0||e.width<=0||e.height<=0?!1:!(C.right<e.x||C.bottom<e.y||C.x>A||C.y>w)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,o,i,h,u,d,f){return this.vertex1.update(s,o,i,h,u,d,f,e),this.vertex2.update(s,o,i,h,u,d,f,e),this.vertex3.update(s,o,i,h,u,d,f,e),this},translate:function(e,s){s===void 0&&(s=0);var o=this.vertex1,i=this.vertex2,h=this.vertex3;return o.x+=e,o.y+=s,i.x+=e,i.y+=s,h.x+=e,h.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.alpha+s.alpha+o.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,o=this.vertex3;return(e.vz+s.vz+o.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=n},48803:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),v=t(95540),a=t(37867),r=t(25836),n=t(39318),e=new r,s=new r,o=new a,i=function(h){var u=v(h,"mesh"),d=v(h,"texture",null),f=v(h,"frame"),c=v(h,"width",1),g=v(h,"height",c),m=v(h,"widthSegments",1),y=v(h,"heightSegments",m),x=v(h,"x",0),T=v(h,"y",0),C=v(h,"z",0),A=v(h,"rotateX",0),w=v(h,"rotateY",0),P=v(h,"rotateZ",0),M=v(h,"zIsUp",!0),R=v(h,"isOrtho",u?u.dirtyCache[11]:!1),O=v(h,"colors",[16777215]),U=v(h,"alphas",[1]),X=v(h,"tile",!1),W=v(h,"flipY",!1),Y=v(h,"width",null),N={faces:[],verts:[]};e.set(x,T,C),s.set(A,w,P),o.fromRotationXYTranslation(s,e,M);var z;if(!d&&u)d=u.texture,f||(z=u.frame);else if(u&&typeof d=="string")d=u.scene.sys.textures.get(d);else if(!d)return N;z||(z=d.get(f)),!Y&&R&&d&&u&&(c=z.width/u.height,g=z.height/u.height);var B=c/2,I=g/2,G=Math.floor(m),H=Math.floor(y),K=G+1,Z=H+1,Q=c/G,j=g/H,_=[],tt=[],et,rt,at=0,st=1,ct=0,vt=1;z&&(at=z.u0,st=z.u1,W?(ct=z.v1,vt=z.v0):(ct=z.v0,vt=z.v1));var pt=st-at,nt=vt-ct;for(rt=0;rt<Z;rt++){var ot=rt*j-I;for(et=0;et<K;et++){var ht=et*Q-B;tt.push(ht,-ot);var xt=at+pt*(et/G),Et=ct+nt*(rt/H);_.push(xt,Et)}}Array.isArray(O)||(O=[O]),Array.isArray(U)||(U=[U]);var Ot=0,Tt=0;for(rt=0;rt<H;rt++)for(et=0;et<G;et++){var St=(et+K*rt)*2,bt=(et+K*(rt+1))*2,Yt=(et+1+K*(rt+1))*2,wt=(et+1+K*rt)*2,It=O[Tt],Nt=U[Ot],$t=new n(tt[St],tt[St+1],0,_[St],_[St+1],It,Nt).transformMat4(o),fe=new n(tt[bt],tt[bt+1],0,_[bt],_[bt+1],It,Nt).transformMat4(o),de=new n(tt[wt],tt[wt+1],0,_[wt],_[wt+1],It,Nt).transformMat4(o),ce=new n(tt[bt],tt[bt+1],0,_[bt],_[bt+1],It,Nt).transformMat4(o),ve=new n(tt[Yt],tt[Yt+1],0,_[Yt],_[Yt+1],It,Nt).transformMat4(o),pe=new n(tt[wt],tt[wt+1],0,_[wt],_[wt+1],It,Nt).transformMat4(o);X&&($t.setUVs(at,vt),fe.setUVs(at,ct),de.setUVs(st,vt),ce.setUVs(at,ct),ve.setUVs(st,ct),pe.setUVs(st,vt)),Tt++,Tt===O.length&&(Tt=0),Ot++,Ot===U.length&&(Ot=0),N.verts.push($t,fe,de,ce,ve,pe),N.faces.push(new l($t,fe,de),new l(ce,ve,pe))}return u&&(u.faces=u.faces.concat(N.faces),u.vertices=u.vertices.concat(N.verts)),N};p.exports=i},34684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),v=t(37867),a=t(25836),r=t(39318),n=new a,e=new a,s=new v,o=function(i,h,u,d,f,c,g,m,y,x){u===void 0&&(u=1),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),x===void 0&&(x=!0);var T={faces:[],verts:[]},C=i.materials;n.set(d,f,c),e.set(g,m,y),s.fromRotationXYTranslation(e,n,x);for(var A=0;A<i.models.length;A++)for(var w=i.models[A],P=w.vertices,M=w.textureCoords,R=w.faces,O=0;O<R.length;O++){var U=R[O],X=U.vertices[0],W=U.vertices[1],Y=U.vertices[2],N=P[X.vertexIndex],z=P[W.vertexIndex],B=P[Y.vertexIndex],I=X.textureCoordsIndex,G=W.textureCoordsIndex,H=Y.textureCoordsIndex,K=I===-1?{u:0,v:1}:M[I],Z=G===-1?{u:0,v:0}:M[G],Q=H===-1?{u:1,v:1}:M[H],j=16777215;U.material!==""&&C[U.material]&&(j=C[U.material]);var _=new r(N.x*u,N.y*u,N.z*u,K.u,K.v,j).transformMat4(s),tt=new r(z.x*u,z.y*u,z.z*u,Z.u,Z.v,j).transformMat4(s),et=new r(B.x*u,B.y*u,B.z*u,Q.u,Q.v,j).transformMat4(s);T.verts.push(_,tt,et),T.faces.push(new l(_,tt,et))}return h&&(h.faces=h.faces.concat(T.faces),h.vertices=h.vertices.concat(T.verts)),T};p.exports=o},92515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83997),v=t(39318),a=function(r,n,e,s,o,i,h,u){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),h===void 0&&(h=1),u===void 0&&(u=!1),r.length!==n.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},f,c,g,m,y,x,T,C,A,w,P,M=s?3:2,R=Array.isArray(i),O=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(f=0;f<e.length;f++){var U=e[f],X=e[f]*2,W=e[f]*M;c=r[W],g=r[W+1],m=s?r[W+2]:0,y=n[X],x=n[X+1],u&&(x=1-x),T=R?i[U]:i,C=O?h[U]:h,A=0,w=0,P=0,o&&(A=o[W],w=o[W+1],P=s?o[W+2]:0),d.vertices.push(new v(c,g,m,y,x,T,C,A,w,P))}else{var Y=0,N=0;for(f=0;f<r.length;f+=M)c=r[f],g=r[f+1],m=s?r[f+2]:0,y=n[Y],x=n[Y+1],T=R?i[N]:i,C=O?h[N]:h,A=0,w=0,P=0,o&&(A=o[f],w=o[f+1],P=s?o[f+2]:0),d.vertices.push(new v(c,g,m,y,x,T,C,A,w,P)),Y+=2,N++}for(f=0;f<d.vertices.length;f+=3){var z=d.vertices[f],B=d.vertices[f+1],I=d.vertices[f+2];d.faces.push(new l(z,B,I))}return d};p.exports=a},85048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",l="",v="";function a(c){var g=c.indexOf("#");return g>-1?c.substring(0,g):c}function r(c){return c.models.length===0&&c.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),l="",c.models[c.models.length-1]}function n(c,g){var m=c.length>=2?c[1]:t;g.models.push({faces:[],name:m,textureCoords:[],vertexNormals:[],vertices:[]}),l=""}function e(c){c.length===2&&(l=c[1])}function s(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,x=m>=3?parseFloat(c[2]):0,T=m>=4?parseFloat(c[3]):0;r(g).vertices.push({x:y,y:x,z:T})}function o(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,x=m>=3?parseFloat(c[2]):0,T=m>=4?parseFloat(c[3]):0;isNaN(y)&&(y=0),isNaN(x)&&(x=0),isNaN(T)&&(T=0),S&&(x=1-x),r(g).textureCoords.push({u:y,v:x,w:T})}function i(c,g){var m=c.length,y=m>=2?parseFloat(c[1]):0,x=m>=3?parseFloat(c[2]):0,T=m>=4?parseFloat(c[3]):0;r(g).vertexNormals.push({x:y,y:x,z:T})}function h(c,g){var m=c.length-1;if(!(m<3)){for(var y={group:l,material:v,vertices:[]},x=0;x<m;x++){var T=c[x+1],C=T.split("/"),A=C.length;if(!(A<1||A>3)){var w=0,P=0,M=0;w=parseInt(C[0],10),A>1&&C[1]!==""&&(P=parseInt(C[1],10)),A>2&&(M=parseInt(C[2],10)),w!==0&&(w<0&&(w=r(g).vertices.length+1+w),P-=1,w-=1,M-=1,y.vertices.push({textureCoordsIndex:P,vertexIndex:w,vertexNormalIndex:M}))}}r(g).faces.push(y)}}function u(c,g){c.length>=2&&g.materialLibraries.push(c[1])}function d(c){c.length>=2&&(v=c[1])}var f=function(c,g){g===void 0&&(g=!0),S=g;var m={materials:{},materialLibraries:[],models:[]};l="",v="";for(var y=c.split(`
`),x=0;x<y.length;x++){var T=a(y[x]),C=T.replace(/\s\s+/g," ").trim().split(" ");switch(C[0].toLowerCase()){case"o":n(C,m);break;case"g":e(C);break;case"v":s(C,m);break;case"vt":o(C,m);break;case"vn":i(C,m);break;case"f":h(C,m);break;case"mtllib":u(C,m);break;case"usemtl":d(C);break}}return m};p.exports=f},61485:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37589),v=function(a){for(var r={},n=a.split(`
`),e="",s=0;s<n.length;s++){var o=n[s].trim();if(!(o.indexOf("#")===0||o==="")){var i=o.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var h=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):h,d=i.length>=3?Math.floor(i[3]*255):h;r[e]=l(h,u,d);break}}}}return r};p.exports=v},92570:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r,n;if(v===void 0&&a===void 0){var e=t.getInCenter();r=e.x,n=e.y}var s=Math.cos(l),o=Math.sin(l),i=t.vertex1,h=t.vertex2,u=t.vertex3,d=i.x-r,f=i.y-n;i.set(d*s-f*o+r,d*o+f*s+n),d=h.x-r,f=h.y-n,h.set(d*s-f*o+r,d*o+f*s+n),d=u.x-r,f=u.y-n,u.set(d*s-f*o+r,d*o+f*s+n)};p.exports=S},39318:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(70554),a=t(25836),r=new l({Extends:a,initialize:function(e,s,o,i,h,u,d,f,c,g){u===void 0&&(u=16777215),d===void 0&&(d=1),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),a.call(this,e,s,o),this.vx=0,this.vy=0,this.vz=0,this.nx=f,this.ny=c,this.nz=g,this.u=i,this.v=h,this.color=u,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=h},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,s,o){var i=this.x,h=this.y,u=this.z,d=n.val,f=i*d[0]+h*d[4]+u*d[8]+d[12],c=i*d[1]+h*d[5]+u*d[9]+d[13],g=i*d[2]+h*d[6]+u*d[10]+d[14],m=i*d[3]+h*d[7]+u*d[11]+d[15];this.vx=f/m*e,this.vy=-(c/m)*s,o<=0?this.vz=g/m:this.vz=-(g/m)},resize:function(n,e,s,o,i,h){return this.x=n,this.y=e,this.vx=this.x*s,this.vy=-this.y*o,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),h<.5?this.vy+=o*(.5-h):h>.5&&(this.vy-=o*(h-.5)),this},update:function(n,e,s,o,i,h,u,d){var f=this.vx*n+this.vy*s+i,c=this.vx*e+this.vy*o+h;return u&&(f=Math.round(f),c=Math.round(c)),this.tx=f,this.ty=c,this.ta=this.alpha*d,this},load:function(n,e,s,o,i){return n[++s]=this.tx,n[++s]=this.ty,n[++s]=this.tu,n[++s]=this.tv,n[++s]=o,n[++s]=i,e[++s]=v.getTintAppendFloatAlpha(this.color,this.ta),s}});p.exports=r},73090:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};p.exports=l},96550:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=S},99706:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a){return new l(a.x,a.y)};p.exports=v},68010:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y)};p.exports=S},27814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y};p.exports=S},73565:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=S},87555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){if(r===void 0&&(r=new l),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var n=a.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<n;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=n,r.y/=n}return r};p.exports=v},28793:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=S},44405:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};p.exports=S},20873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){r===void 0&&(r=new l);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var h=a[i];h.x>n&&(n=h.x),h.x<e&&(e=h.x),h.y>s&&(s=h.y),h.y<o&&(o=h.y)}return r.x=e,r.y=o,r.width=n-e,r.height=s-o,r};p.exports=v},26152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,n,e){return n===void 0&&(n=0),e===void 0&&(e=new l),e.x=a.x+(r.x-a.x)*n,e.y=a.y+(r.y-a.y)*n,e};p.exports=v},55767:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};p.exports=S},79432:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.setTo(-a.x,-a.y)};p.exports=v},2141:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23777),a=new l({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=v.POINT,this.x=n,this.y=e},setTo:function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this}});p.exports=a},72930:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(44405),a=function(r,n,e){e===void 0&&(e=new l);var s=r.x*n.x+r.y*n.y,o=s/v(n);return o!==0&&(e.x=o*n.x,e.y=o*n.y),e};p.exports=a},62880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r,n){n===void 0&&(n=new l);var e=a.x*r.x+a.y*r.y;return e!==0&&(n.x=e*r.x,n.y=e*r.y),n};p.exports=v},15093:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28793),v=function(a,r){if(a.x!==0||a.y!==0){var n=l(a);a.x/=n,a.y/=n}return a.x*=r,a.y*=r,a};p.exports=v},43711:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141);l.Ceil=t(96550),l.Clone=t(99706),l.CopyFrom=t(68010),l.Equals=t(27814),l.Floor=t(73565),l.GetCentroid=t(87555),l.GetMagnitude=t(28793),l.GetMagnitudeSq=t(44405),l.GetRectangleFromPoints=t(20873),l.Interpolate=t(26152),l.Invert=t(55767),l.Negative=t(79432),l.Project=t(72930),l.ProjectUnit=t(62880),l.SetMagnitude=t(15093),p.exports=l},12306:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25717),v=function(a){return new l(a.points)};p.exports=v},63814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){for(var a=!1,r=-1,n=t.points.length-1;++r<t.points.length;n=r){var e=t.points[r].x,s=t.points[r].y,o=t.points[n].x,i=t.points[n].y;(s<=v&&v<i||i<=v&&v<s)&&l<(o-e)*(v-s)/(i-s)+e&&(a=!a)}return a};p.exports=S},99338:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63814),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},94811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(N,z,B){B=B||2;var I=z&&z.length,G=I?z[0]*B:N.length,H=t(N,0,G,B,!0),K=[];if(!H||H.next===H.prev)return K;var Z,Q,j,_,tt,et,rt;if(I&&(H=s(N,z,H,B)),N.length>80*B){Z=j=N[0],Q=_=N[1];for(var at=B;at<G;at+=B)tt=N[at],et=N[at+1],tt<Z&&(Z=tt),et<Q&&(Q=et),tt>j&&(j=tt),et>_&&(_=et);rt=Math.max(j-Z,_-Q),rt=rt!==0?32767/rt:0}return v(H,K,B,Z,Q,rt,0),K}function t(N,z,B,I,G){var H,K;if(G===Y(N,z,B,I)>0)for(H=z;H<B;H+=I)K=U(H,N[H],N[H+1],K);else for(H=B-I;H>=z;H-=I)K=U(H,N[H],N[H+1],K);return K&&T(K,K.next)&&(X(K),K=K.next),K}function l(N,z){if(!N)return N;z||(z=N);var B=N,I;do if(I=!1,!B.steiner&&(T(B,B.next)||x(B.prev,B,B.next)===0)){if(X(B),B=z=B.prev,B===B.next)break;I=!0}else B=B.next;while(I||B!==z);return z}function v(N,z,B,I,G,H,K){if(N){!K&&H&&d(N,I,G,H);for(var Z=N,Q,j;N.prev!==N.next;){if(Q=N.prev,j=N.next,H?r(N,I,G,H):a(N)){z.push(Q.i/B|0),z.push(N.i/B|0),z.push(j.i/B|0),X(N),N=j.next,Z=j.next;continue}if(N=j,N===Z){K?K===1?(N=n(l(N),z,B),v(N,z,B,I,G,H,2)):K===2&&e(N,z,B,I,G,H):v(l(N),z,B,I,G,H,1);break}}}}function a(N){var z=N.prev,B=N,I=N.next;if(x(z,B,I)>=0)return!1;for(var G=z.x,H=B.x,K=I.x,Z=z.y,Q=B.y,j=I.y,_=G<H?G<K?G:K:H<K?H:K,tt=Z<Q?Z<j?Z:j:Q<j?Q:j,et=G>H?G>K?G:K:H>K?H:K,rt=Z>Q?Z>j?Z:j:Q>j?Q:j,at=I.next;at!==z;){if(at.x>=_&&at.x<=et&&at.y>=tt&&at.y<=rt&&m(G,Z,H,Q,K,j,at.x,at.y)&&x(at.prev,at,at.next)>=0)return!1;at=at.next}return!0}function r(N,z,B,I){var G=N.prev,H=N,K=N.next;if(x(G,H,K)>=0)return!1;for(var Z=G.x,Q=H.x,j=K.x,_=G.y,tt=H.y,et=K.y,rt=Z<Q?Z<j?Z:j:Q<j?Q:j,at=_<tt?_<et?_:et:tt<et?tt:et,st=Z>Q?Z>j?Z:j:Q>j?Q:j,ct=_>tt?_>et?_:et:tt>et?tt:et,vt=c(rt,at,z,B,I),pt=c(st,ct,z,B,I),nt=N.prevZ,ot=N.nextZ;nt&&nt.z>=vt&&ot&&ot.z<=pt;){if(nt.x>=rt&&nt.x<=st&&nt.y>=at&&nt.y<=ct&&nt!==G&&nt!==K&&m(Z,_,Q,tt,j,et,nt.x,nt.y)&&x(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,ot.x>=rt&&ot.x<=st&&ot.y>=at&&ot.y<=ct&&ot!==G&&ot!==K&&m(Z,_,Q,tt,j,et,ot.x,ot.y)&&x(ot.prev,ot,ot.next)>=0))return!1;ot=ot.nextZ}for(;nt&&nt.z>=vt;){if(nt.x>=rt&&nt.x<=st&&nt.y>=at&&nt.y<=ct&&nt!==G&&nt!==K&&m(Z,_,Q,tt,j,et,nt.x,nt.y)&&x(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;ot&&ot.z<=pt;){if(ot.x>=rt&&ot.x<=st&&ot.y>=at&&ot.y<=ct&&ot!==G&&ot!==K&&m(Z,_,Q,tt,j,et,ot.x,ot.y)&&x(ot.prev,ot,ot.next)>=0)return!1;ot=ot.nextZ}return!0}function n(N,z,B){var I=N;do{var G=I.prev,H=I.next.next;!T(G,H)&&C(G,I,I.next,H)&&M(G,H)&&M(H,G)&&(z.push(G.i/B|0),z.push(I.i/B|0),z.push(H.i/B|0),X(I),X(I.next),I=N=H),I=I.next}while(I!==N);return l(I)}function e(N,z,B,I,G,H){var K=N;do{for(var Z=K.next.next;Z!==K.prev;){if(K.i!==Z.i&&y(K,Z)){var Q=O(K,Z);K=l(K,K.next),Q=l(Q,Q.next),v(K,z,B,I,G,H,0),v(Q,z,B,I,G,H,0);return}Z=Z.next}K=K.next}while(K!==N)}function s(N,z,B,I){var G=[],H,K,Z,Q,j;for(H=0,K=z.length;H<K;H++)Z=z[H]*I,Q=H<K-1?z[H+1]*I:N.length,j=t(N,Z,Q,I,!1),j===j.next&&(j.steiner=!0),G.push(g(j));for(G.sort(o),H=0;H<G.length;H++)B=i(G[H],B);return B}function o(N,z){return N.x-z.x}function i(N,z){var B=h(N,z);if(!B)return z;var I=O(B,N);return l(I,I.next),l(B,B.next)}function h(N,z){var B=z,I=N.x,G=N.y,H=-1/0,K;do{if(G<=B.y&&G>=B.next.y&&B.next.y!==B.y){var Z=B.x+(G-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(Z<=I&&Z>H&&(H=Z,K=B.x<B.next.x?B:B.next,Z===I))return K}B=B.next}while(B!==z);if(!K)return null;var Q=K,j=K.x,_=K.y,tt=1/0,et;B=K;do I>=B.x&&B.x>=j&&I!==B.x&&m(G<_?I:H,G,j,_,G<_?H:I,G,B.x,B.y)&&(et=Math.abs(G-B.y)/(I-B.x),M(B,N)&&(et<tt||et===tt&&(B.x>K.x||B.x===K.x&&u(K,B)))&&(K=B,tt=et)),B=B.next;while(B!==Q);return K}function u(N,z){return x(N.prev,N,z.prev)<0&&x(z.next,N,N.next)<0}function d(N,z,B,I){var G=N;do G.z===0&&(G.z=c(G.x,G.y,z,B,I)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==N);G.prevZ.nextZ=null,G.prevZ=null,f(G)}function f(N){var z,B,I,G,H,K,Z,Q,j=1;do{for(B=N,N=null,H=null,K=0;B;){for(K++,I=B,Z=0,z=0;z<j&&(Z++,I=I.nextZ,!!I);z++);for(Q=j;Z>0||Q>0&&I;)Z!==0&&(Q===0||!I||B.z<=I.z)?(G=B,B=B.nextZ,Z--):(G=I,I=I.nextZ,Q--),H?H.nextZ=G:N=G,G.prevZ=H,H=G;B=I}H.nextZ=null,j*=2}while(K>1);return N}function c(N,z,B,I,G){return N=(N-B)*G|0,z=(z-I)*G|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,N|z<<1}function g(N){var z=N,B=N;do(z.x<B.x||z.x===B.x&&z.y<B.y)&&(B=z),z=z.next;while(z!==N);return B}function m(N,z,B,I,G,H,K,Z){return(G-K)*(z-Z)>=(N-K)*(H-Z)&&(N-K)*(I-Z)>=(B-K)*(z-Z)&&(B-K)*(H-Z)>=(G-K)*(I-Z)}function y(N,z){return N.next.i!==z.i&&N.prev.i!==z.i&&!P(N,z)&&(M(N,z)&&M(z,N)&&R(N,z)&&(x(N.prev,N,z.prev)||x(N,z.prev,z))||T(N,z)&&x(N.prev,N,N.next)>0&&x(z.prev,z,z.next)>0)}function x(N,z,B){return(z.y-N.y)*(B.x-z.x)-(z.x-N.x)*(B.y-z.y)}function T(N,z){return N.x===z.x&&N.y===z.y}function C(N,z,B,I){var G=w(x(N,z,B)),H=w(x(N,z,I)),K=w(x(B,I,N)),Z=w(x(B,I,z));return!!(G!==H&&K!==Z||G===0&&A(N,B,z)||H===0&&A(N,I,z)||K===0&&A(B,N,I)||Z===0&&A(B,z,I))}function A(N,z,B){return z.x<=Math.max(N.x,B.x)&&z.x>=Math.min(N.x,B.x)&&z.y<=Math.max(N.y,B.y)&&z.y>=Math.min(N.y,B.y)}function w(N){return N>0?1:N<0?-1:0}function P(N,z){var B=N;do{if(B.i!==N.i&&B.next.i!==N.i&&B.i!==z.i&&B.next.i!==z.i&&C(B,B.next,N,z))return!0;B=B.next}while(B!==N);return!1}function M(N,z){return x(N.prev,N,N.next)<0?x(N,z,N.next)>=0&&x(N,N.prev,z)>=0:x(N,z,N.prev)<0||x(N,N.next,z)<0}function R(N,z){var B=N,I=!1,G=(N.x+z.x)/2,H=(N.y+z.y)/2;do B.y>H!=B.next.y>H&&B.next.y!==B.y&&G<(B.next.x-B.x)*(H-B.y)/(B.next.y-B.y)+B.x&&(I=!I),B=B.next;while(B!==N);return I}function O(N,z){var B=new W(N.i,N.x,N.y),I=new W(z.i,z.x,z.y),G=N.next,H=z.prev;return N.next=z,z.prev=N,B.next=G,G.prev=B,I.next=B,B.prev=I,H.next=I,I.prev=H,I}function U(N,z,B,I){var G=new W(N,z,B);return I?(G.next=I.next,G.prev=I,I.next.prev=G,I.next=G):(G.prev=G,G.next=G),G}function X(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function W(N,z,B){this.i=N,this.x=z,this.y=B,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(N,z,B,I){var G=z&&z.length,H=G?z[0]*B:N.length,K=Math.abs(Y(N,0,H,B));if(G)for(var Z=0,Q=z.length;Z<Q;Z++){var j=z[Z]*B,_=Z<Q-1?z[Z+1]*B:N.length;K-=Math.abs(Y(N,j,_,B))}var tt=0;for(Z=0;Z<I.length;Z+=3){var et=I[Z]*B,rt=I[Z+1]*B,at=I[Z+2]*B;tt+=Math.abs((N[et]-N[at])*(N[rt+1]-N[et+1])-(N[et]-N[rt])*(N[at+1]-N[et+1]))}return K===0&&tt===0?0:Math.abs((tt-K)/K)};function Y(N,z,B,I){for(var G=0,H=z,K=B-I;H<B;H+=I)G+=(N[K]-N[H])*(N[H+1]+N[K+1]),K=H;return G}S.flatten=function(N){for(var z=N[0][0].length,B={vertices:[],holes:[],dimensions:z},I=0,G=0;G<N.length;G++){for(var H=0;H<N[G].length;H++)for(var K=0;K<z;K++)B.vertices.push(N[G][H][K]);G>0&&(I+=N[G-1].length,B.holes.push(I))}return B},p.exports=S},13829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r){r===void 0&&(r=new l);for(var n=1/0,e=1/0,s=-n,o=-e,i,h=0;h<a.points.length;h++)i=a.points[h],n=Math.min(n,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),o=Math.max(o,i.y);return r.x=n,r.y=e,r.width=s-n,r.height=o-e,r};p.exports=v},26173:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=[]);for(var v=0;v<t.points.length;v++)l.push(t.points[v].x),l.push(t.points[v].y);return l};p.exports=S},9564:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(23031),a=t(30052),r=function(n,e,s,o){o===void 0&&(o=[]);var i=n.points,h=a(n);!e&&s>0&&(e=h/s);for(var u=0;u<e;u++)for(var d=h*(u/e),f=0,c=0;c<i.length;c++){var g=i[c],m=i[(c+1)%i.length],y=new v(g.x,g.y,m.x,m.y),x=l(y);if(d<f||d>f+x){f+=x;continue}var T=y.getPoint((d-f)/x);o.push(T);break}return o};p.exports=r},30052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(23031),a=function(r){for(var n=r.points,e=0,s=0;s<n.length;s++){var o=n[s],i=n[(s+1)%n.length],h=new v(o.x,o.y,i.x,i.y);e+=l(h)}return e};p.exports=a},25717:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(63814),a=t(9564),r=t(23777),n=new l({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return v(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,o=0;o<e.length;o++)s={x:0,y:0},typeof e[o]=="number"||typeof e[o]=="string"?(s.x=parseFloat(e[o]),s.y=parseFloat(e[o+1]),o++):Array.isArray(e[o])?(s.x=e[o][0],s.y=e[o][1]):(s.x=e[o].x,s.y=e[o].y),this.points.push(s);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,o,i=0;i<this.points.length-1;i++)s=this.points[i],o=this.points[i+1],e+=(o.x-s.x)*(s.y+o.y);return s=this.points[0],o=this.points[this.points.length-1],e+=(s.x-o.x)*(o.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,o){return a(this,e,s,o)}});p.exports=n},8133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};p.exports=S},29524:p=>{function S(n,e){var s=n.x-e.x,o=n.y-e.y;return s*s+o*o}function t(n,e,s){var o=e.x,i=e.y,h=s.x-o,u=s.y-i;if(h!==0||u!==0){var d=((n.x-o)*h+(n.y-i)*u)/(h*h+u*u);d>1?(o=s.x,i=s.y):d>0&&(o+=h*d,i+=u*d)}return h=n.x-o,u=n.y-i,h*h+u*u}function l(n,e){for(var s=n[0],o=[s],i,h=1,u=n.length;h<u;h++)i=n[h],S(i,s)>e&&(o.push(i),s=i);return s!==i&&o.push(i),o}function v(n,e,s,o,i){for(var h=o,u,d=e+1;d<s;d++){var f=t(n[d],n[e],n[s]);f>h&&(u=d,h=f)}h>o&&(u-e>1&&v(n,e,u,o,i),i.push(n[u]),s-u>1&&v(n,u,s,o,i))}function a(n,e){var s=n.length-1,o=[n[0]];return v(n,0,s,e,o),o.push(n[s]),o}var r=function(n,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var o=n.points;if(o.length>2){var i=e*e;s||(o=l(o,i)),n.setTo(a(o,i))}return n};p.exports=r},5469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(l,v){return l[0]=v[0],l[1]=v[1],l},t=function(l){var v,a=[],r=l.points;for(v=0;v<r.length;v++)a.push([r[v].x,r[v].y]);var n=[];for(a.length>0&&n.push(S([0,0],a[0])),v=0;v<a.length-1;v++){var e=a[v],s=a[v+1],o=e[0],i=e[1],h=s[0],u=s[1];n.push([.85*o+.15*h,.85*i+.15*u]),n.push([.15*o+.85*h,.15*i+.85*u])}return a.length>1&&n.push(S([0,0],a[a.length-1])),l.setTo(n)};p.exports=t},24709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=l,a[r].y+=v;return t};p.exports=S},58423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25717);l.Clone=t(12306),l.Contains=t(63814),l.ContainsPoint=t(99338),l.Earcut=t(94811),l.GetAABB=t(13829),l.GetNumberArray=t(26173),l.GetPoints=t(9564),l.Perimeter=t(30052),l.Reverse=t(8133),l.Simplify=t(29524),l.Smooth=t(5469),l.Translate=t(24709),p.exports=l},62224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};p.exports=S},98615:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=S},31688:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=S},67502:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t.x=l-t.width/2,t.y=v-t.height/2,t};p.exports=S},65085:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a){return new l(a.x,a.y,a.width,a.height)};p.exports=v},37303:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t.width<=0||t.height<=0?!1:t.x<=l&&t.x+t.width>=l&&t.y<=v&&t.y+t.height>=v};p.exports=S},96553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37303),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},70273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.width*l.height>t.width*t.height?!1:l.x>t.x&&l.x<t.right&&l.right>t.x&&l.right<t.right&&l.y>t.y&&l.y<t.bottom&&l.bottom>t.y&&l.bottom<t.bottom};p.exports=S},43459:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};p.exports=S},77493:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x,y:t.y}),l.push({x:t.right,y:t.y}),l.push({x:t.right,y:t.bottom}),l.push({x:t.x,y:t.bottom}),l};p.exports=S},9219:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};p.exports=S},53751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8249),v=function(a,r){var n=l(a);return n<l(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=v},16088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8249),v=function(a,r){var n=l(a);return n>l(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};p.exports=v},80774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=S},83859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=S},19217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(36383),a=function(r,n){if(n===void 0&&(n=new l),r.length===0)return n;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,o=v.MIN_SAFE_INTEGER,i=v.MIN_SAFE_INTEGER,h,u,d,f=0;f<r.length;f++)h=r[f],Array.isArray(h)?(u=h[0],d=h[1]):(u=h.x,d=h.y),e=Math.min(e,u),s=Math.min(s,d),o=Math.max(o,u),i=Math.max(i,d);return n.x=e,n.y=s,n.width=o-e,n.height=i-s,n};p.exports=a},9477:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r,n,e,s){return s===void 0&&(s=new l),s.setTo(Math.min(a,n),Math.min(r,e),Math.abs(a-n),Math.abs(r-e))};p.exports=v},8249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};p.exports=S},27165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=a.centerX,r.y=a.centerY,r};p.exports=v},20812:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13019),v=t(2141),a=function(r,n,e){if(e===void 0&&(e=new v),n<=0||n>=1)return e.x=r.x,e.y=r.y,e;var s=l(r)*n;return n>.5?(s-=r.width+r.height,s<=r.width?(e.x=r.right-s,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(s-r.width))):s<=r.width?(e.x=r.x+s,e.y=r.y):(e.x=r.right,e.y=r.y+(s-r.width)),e};p.exports=a},34819:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20812),v=t(13019),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=v(r)/e);for(var o=0;o<n;o++){var i=o/n;s.push(l(r,i))}return s};p.exports=a},51313:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=a.width,r.y=a.height,r};p.exports=v},86091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67502),v=function(a,r,n){var e=a.centerX,s=a.centerY;return a.setSize(a.width+r*2,a.height+n*2),l(a,e,s)};p.exports=v},53951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(59996),a=function(r,n,e){return e===void 0&&(e=new l),v(r,n)?(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y):e.setEmpty(),e};p.exports=a},14649:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13019),v=t(2141),a=function(r,n,e,s){if(s===void 0&&(s=[]),!n&&!e)return s;n?e=Math.round(l(r)/n):n=l(r)/e;for(var o=r.x,i=r.y,h=0,u=0;u<e;u++)switch(s.push(new v(o,i)),h){case 0:o+=n,o>=r.right&&(h=1,i+=o-r.right,o=r.right);break;case 1:i+=n,i>=r.bottom&&(h=2,o-=i-r.bottom,i=r.bottom);break;case 2:o-=n,o<=r.left&&(h=3,i-=r.left-o,o=r.left);break;case 3:i-=n,i<=r.top&&(h=0,i=r.top);break}return s};p.exports=a},33595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var v=t.x,a=t.right,r=t.y,n=t.bottom,e=0;e<l.length;e++)v=Math.min(v,l[e].x),a=Math.max(a,l[e].x),r=Math.min(r,l[e].y),n=Math.max(n,l[e].y);return t.x=v,t.y=r,t.width=a-v,t.height=n-r,t};p.exports=S},20074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=Math.min(t.x,l.x),a=Math.max(t.right,l.right);t.x=v,t.width=a-v;var r=Math.min(t.y,l.y),n=Math.max(t.bottom,l.bottom);return t.y=r,t.height=n-r,t};p.exports=S},92171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=Math.min(t.x,l),r=Math.max(t.right,l);t.x=a,t.width=r-a;var n=Math.min(t.y,v),e=Math.max(t.bottom,v);return t.y=n,t.height=e-n,t};p.exports=S},42981:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t.x+=l,t.y+=v,t};p.exports=S},46907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x+=l.x,t.y+=l.y,t};p.exports=S},60170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x<l.right&&t.right>l.x&&t.y<l.bottom&&t.bottom>l.y};p.exports=S},13019:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};p.exports=S},85133:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(39506),a=function(r,n,e){e===void 0&&(e=new l),n=v(n);var s=Math.sin(n),o=Math.cos(n),i=o>0?r.width/2:r.width/-2,h=s>0?r.height/2:r.height/-2;return Math.abs(i*s)<Math.abs(h*o)?h=i*s/o:i=h*o/s,e.x=i+r.centerX,e.y=h+r.centerY,e};p.exports=a},26597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};p.exports=v},86470:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(70273),a=t(2141),r=function(n,e,s){if(s===void 0&&(s=new a),v(n,e))switch(l(0,3)){case 0:s.x=n.x+Math.random()*(e.right-n.x),s.y=n.y+Math.random()*(e.top-n.y);break;case 1:s.x=e.x+Math.random()*(n.right-e.x),s.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:s.x=n.x+Math.random()*(e.x-n.x),s.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(n.right-e.right),s.y=n.y+Math.random()*(e.bottom-n.y);break}return s};p.exports=r},87841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37303),a=t(20812),r=t(34819),n=t(23777),e=t(23031),s=t(26597),o=new l({initialize:function(h,u,d,f){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),this.type=n.RECTANGLE,this.x=h,this.y=u,this.width=d,this.height=f},contains:function(i,h){return v(this,i,h)},getPoint:function(i,h){return a(this,i,h)},getPoints:function(i,h,u){return r(this,i,h,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,h,u,d){return this.x=i,this.y=h,this.width=u,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,h){return h===void 0&&(h=i),this.x=i,this.y=h,this},setSize:function(i,h){return h===void 0&&(h=i),this.width=i,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});p.exports=o},94845:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.width===l.width&&t.height===l.height};p.exports=S},31730:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return v===void 0&&(v=l),t.width*=l,t.height*=v,t};p.exports=S},36899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=function(a,r,n){n===void 0&&(n=new l);var e=Math.min(a.x,r.x),s=Math.min(a.y,r.y),o=Math.max(a.right,r.right)-e,i=Math.max(a.bottom,r.bottom)-s;return n.setTo(e,s,o,i)};p.exports=v},93232:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841);l.Area=t(62224),l.Ceil=t(98615),l.CeilAll=t(31688),l.CenterOn=t(67502),l.Clone=t(65085),l.Contains=t(37303),l.ContainsPoint=t(96553),l.ContainsRect=t(70273),l.CopyFrom=t(43459),l.Decompose=t(77493),l.Equals=t(9219),l.FitInside=t(53751),l.FitOutside=t(16088),l.Floor=t(80774),l.FloorAll=t(83859),l.FromPoints=t(19217),l.FromXY=t(9477),l.GetAspectRatio=t(8249),l.GetCenter=t(27165),l.GetPoint=t(20812),l.GetPoints=t(34819),l.GetSize=t(51313),l.Inflate=t(86091),l.Intersection=t(53951),l.MarchingAnts=t(14649),l.MergePoints=t(33595),l.MergeRect=t(20074),l.MergeXY=t(92171),l.Offset=t(42981),l.OffsetPoint=t(46907),l.Overlaps=t(60170),l.Perimeter=t(13019),l.PerimeterPoint=t(85133),l.Random=t(26597),l.RandomOutside=t(86470),l.SameDimensions=t(94845),l.Scale=t(31730),l.Union=t(36899),p.exports=l},41658:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.x1,v=t.y1,a=t.x2,r=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-l)*(r-v)-(a-l)*(e-v))/2)};p.exports=S},39208:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),v=function(a,r,n){var e=n*(Math.sqrt(3)/2),s=a,o=r,i=a+n/2,h=r+e,u=a-n/2,d=r+e;return new l(s,o,i,h,u,d)};p.exports=v},39545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94811),v=t(16483),a=function(r,n,e,s,o){n===void 0&&(n=null),e===void 0&&(e=1),s===void 0&&(s=1),o===void 0&&(o=[]);for(var i=l(r,n),h,u,d,f,c,g,m,y,x,T=0;T<i.length;T+=3)h=i[T],u=i[T+1],d=i[T+2],f=r[h*2]*e,c=r[h*2+1]*s,g=r[u*2]*e,m=r[u*2+1]*s,y=r[d*2]*e,x=r[d*2+1]*s,o.push(new v(f,c,g,m,y,x));return o};p.exports=a},90301:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),v=function(a,r,n,e){e===void 0&&(e=n);var s=a,o=r,i=a,h=r-e,u=a+n,d=r;return new l(s,o,i,h,u,d)};p.exports=v},23707:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97523),v=t(13584),a=function(r,n,e,s){s===void 0&&(s=l);var o=s(r),i=n-o.x,h=e-o.y;return v(r,i,h)};p.exports=a},97523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};p.exports=v},24951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099);function v(r,n,e,s){return r*s-n*e}var a=function(r,n){n===void 0&&(n=new l);var e=r.x3,s=r.y3,o=r.x1-e,i=r.y1-s,h=r.x2-e,u=r.y2-s,d=2*v(o,i,h,u),f=v(i,o*o+i*i,u,h*h+u*u),c=v(o,o*o+i*i,h,h*h+u*u);return n.x=e-f/d,n.y=s+c/d,n};p.exports=a},85614:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=function(a,r){r===void 0&&(r=new l);var n=a.x1,e=a.y1,s=a.x2,o=a.y2,i=a.x3,h=a.y3,u=s-n,d=o-e,f=i-n,c=h-e,g=u*(n+s)+d*(e+o),m=f*(n+i)+c*(e+h),y=2*(u*(h-o)-d*(i-s)),x,T;if(Math.abs(y)<1e-6){var C=Math.min(n,s,i),A=Math.min(e,o,h);x=(Math.max(n,s,i)-C)*.5,T=(Math.max(e,o,h)-A)*.5,r.x=C+x,r.y=A+T,r.radius=Math.sqrt(x*x+T*T)}else r.x=(c*g-d*m)/y,r.y=(u*m-f*g)/y,x=r.x-n,T=r.y-e,r.radius=Math.sqrt(x*x+T*T);return r};p.exports=v},74422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483),v=function(a){return new l(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};p.exports=v},10690:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=t.x3-t.x1,r=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,s=l-t.x1,o=v-t.y1,i=a*a+r*r,h=a*n+r*e,u=a*s+r*o,d=n*n+e*e,f=n*s+e*o,c=i*d-h*h,g=c===0?0:1/c,m=(d*u-h*f)*g,y=(i*f-h*u)*g;return m>=0&&y>=0&&m+y<1};p.exports=S},48653:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v===void 0&&(v=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,o=r*r+n*n,i=r*e+n*s,h=e*e+s*s,u=o*h-i*i,d=u===0?0:1/u,f,c,g,m,y,x,T=t.x1,C=t.y1,A=0;A<l.length&&(g=l[A].x-T,m=l[A].y-C,y=r*g+n*m,x=e*g+s*m,f=(h*y-i*x)*d,c=(o*x-i*y)*d,!(f>=0&&c>=0&&f+c<1&&(a.push({x:l[A].x,y:l[A].y}),v)));A++);return a};p.exports=S},96006:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10690),v=function(a,r){return l(a,r.x,r.y)};p.exports=v},71326:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=S},71694:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x1,y:t.y1}),l.push({x:t.x2,y:t.y2}),l.push({x:t.x3,y:t.y3}),l};p.exports=S},33522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2&&t.x3===l.x3&&t.y3===l.y3};p.exports=S},20437:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=t(35001),a=function(r,n,e){e===void 0&&(e=new l);var s=r.getLineA(),o=r.getLineB(),i=r.getLineC();if(n<=0||n>=1)return e.x=s.x1,e.y=s.y1,e;var h=v(s),u=v(o),d=v(i),f=h+u+d,c=f*n,g=0;return c<h?(g=c/h,e.x=s.x1+(s.x2-s.x1)*g,e.y=s.y1+(s.y2-s.y1)*g):c>h+u?(c-=h+u,g=c/d,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):(c-=h,g=c/u,e.x=o.x1+(o.x2-o.x1)*g,e.y=o.y1+(o.y2-o.y1)*g),e};p.exports=a},80672:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]);var o=r.getLineA(),i=r.getLineB(),h=r.getLineC(),u=l(o),d=l(i),f=l(h),c=u+d+f;!n&&e>0&&(n=c/e);for(var g=0;g<n;g++){var m=c*(g/n),y=0,x=new v;m<u?(y=m/u,x.x=o.x1+(o.x2-o.x1)*y,x.y=o.y1+(o.y2-o.y1)*y):m>u+d?(m-=u+d,y=m/f,x.x=h.x1+(h.x2-h.x1)*y,x.y=h.y1+(h.y2-h.y1)*y):(m-=u,y=m/d,x.x=i.x1+(i.x2-i.x1)*y,x.y=i.y1+(i.y2-i.y1)*y),s.push(x)}return s};p.exports=a},39757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141);function v(r,n,e,s){var o=r-e,i=n-s,h=o*o+i*i;return Math.sqrt(h)}var a=function(r,n){n===void 0&&(n=new l);var e=r.x1,s=r.y1,o=r.x2,i=r.y2,h=r.x3,u=r.y3,d=v(h,u,o,i),f=v(e,s,h,u),c=v(o,i,e,s),g=d+f+c;return n.x=(e*d+o*f+h*c)/g,n.y=(s*d+i*f+u*c)/g,n};p.exports=a},13584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t.x1+=l,t.y1+=v,t.x2+=l,t.y2+=v,t.x3+=l,t.y3+=v,t};p.exports=S},1376:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35001),v=function(a){var r=a.getLineA(),n=a.getLineB(),e=a.getLineC();return l(r)+l(n)+l(e)};p.exports=v},90260:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2141),v=function(a,r){r===void 0&&(r=new l);var n=a.x2-a.x1,e=a.y2-a.y1,s=a.x3-a.x1,o=a.y3-a.y1,i=Math.random(),h=Math.random();return i+h>=1&&(i=1-i,h=1-h),r.x=a.x1+(n*i+s*h),r.y=a.y1+(e*i+o*h),r};p.exports=v},52172:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99614),v=t(39757),a=function(r,n){var e=v(r);return l(r,e.x,e.y,n)};p.exports=a},49907:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99614),v=function(a,r,n){return l(a,r.x,r.y,n)};p.exports=v},99614:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-l,s=t.y1-v;return t.x1=e*r-s*n+l,t.y1=e*n+s*r+v,e=t.x2-l,s=t.y2-v,t.x2=e*r-s*n+l,t.y2=e*n+s*r+v,e=t.x3-l,s=t.y3-v,t.x3=e*r-s*n+l,t.y3=e*n+s*r+v,t};p.exports=S},16483:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(10690),a=t(20437),r=t(80672),n=t(23777),e=t(23031),s=t(90260),o=new l({initialize:function(h,u,d,f,c,g){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),this.type=n.TRIANGLE,this.x1=h,this.y1=u,this.x2=d,this.y2=f,this.x3=c,this.y3=g},contains:function(i,h){return v(this,i,h)},getPoint:function(i,h){return a(this,i,h)},getPoints:function(i,h,u){return r(this,i,h,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,h,u,d,f,c){return i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),c===void 0&&(c=0),this.x1=i,this.y1=h,this.x2=u,this.y2=d,this.x3=f,this.y3=c,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-i:h=this.x3-i,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-i:h=this.y3-i,this.y1-=h,this.y2-=h,this.y3-=h}}});p.exports=o},84435:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16483);l.Area=t(41658),l.BuildEquilateral=t(39208),l.BuildFromPolygon=t(39545),l.BuildRight=t(90301),l.CenterOn=t(23707),l.Centroid=t(97523),l.CircumCenter=t(24951),l.CircumCircle=t(85614),l.Clone=t(74422),l.Contains=t(10690),l.ContainsArray=t(48653),l.ContainsPoint=t(96006),l.CopyFrom=t(71326),l.Decompose=t(71694),l.Equals=t(33522),l.GetPoint=t(20437),l.GetPoints=t(80672),l.InCenter=t(39757),l.Perimeter=t(1376),l.Offset=t(13584),l.Random=t(90260),l.Rotate=t(52172),l.RotateAroundPoint=t(49907),l.RotateAroundXY=t(99614),p.exports=l},74457:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};p.exports=S},84409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return function(v,a,r,n){var e=t.getPixelAlpha(a,r,n.texture.key,n.frame.name);return e&&e>=l}};p.exports=S},7003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(93301),a=t(50792),r=t(8214),n=t(8443),e=t(78970),s=t(85098),o=t(42515),i=t(36210),h=t(61340),u=t(85955),d=new l({initialize:function(c,g){this.game=c,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new s(this):null,this.touch=g.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers;for(var m=0;m<=this.pointersTotal;m++){var y=new o(this,m);y.smoothFactor=g.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(n.BOOT,this.boot,this)},boot:function(){var f=this.game,c=f.events;this.canvas=f.canvas,this.scaleManager=f.scale,this.events.emit(r.MANAGER_BOOT),c.on(n.PRE_RENDER,this.preRender,this),c.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(f){this.isOver=!0,this.events.emit(r.GAME_OVER,f)},setCanvasOut:function(f){this.isOver=!1,this.events.emit(r.GAME_OUT,f)},preRender:function(){var f=this.game.loop.now,c=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=f,this.events.emit(r.MANAGER_UPDATE);for(var m=0;m<g.length;m++){var y=g[m];if(y.sys.input&&y.sys.input.updatePoll(f,c)&&this.globalTopOnly)return}},setDefaultCursor:function(f){this.defaultCursor=f,this.canvas.style.cursor!==f&&(this.canvas.style.cursor=f)},setCursor:function(f){f.cursor&&(this.canvas.style.cursor=f.cursor)},resetCursor:function(f,c){(c||f&&f.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(f){f===void 0&&(f=1);var c=[];this.pointersTotal+f>10&&(f=10-this.pointersTotal);for(var g=0;g<f;g++){var m=this.pointers.length,y=new o(this,m);y.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(y),this.pointersTotal++,c.push(y)}return c},updateInputPlugins:function(f,c){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var m=0;m<g.length;m++){var y=g[m];if(y.sys.input){var x=y.sys.input.update(f,c);if(x&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var T=c[x];if(!T.active){T.touchstart(y,f),this.activePointer=T,g.push(T);break}}this.updateInputPlugins(v.TOUCH_START,g)},onTouchMove:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var T=c[x];if(T.active&&T.identifier===y.identifier){var C=document.elementFromPoint(y.clientX,y.clientY),A=C===this.canvas;!this.isOver&&A?this.setCanvasOver(f):this.isOver&&!A&&this.setCanvasOut(f),this.isOver&&(T.touchmove(y,f),this.activePointer=T,g.push(T));break}}this.updateInputPlugins(v.TOUCH_MOVE,g)},onTouchEnd:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var T=c[x];if(T.active&&T.identifier===y.identifier){T.touchend(y,f),g.push(T);break}}this.updateInputPlugins(v.TOUCH_END,g)},onTouchCancel:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var y=f.changedTouches[m],x=1;x<c.length;x++){var T=c[x];if(T.active&&T.identifier===y.identifier){T.touchcancel(y,f),g.push(T);break}}this.updateInputPlugins(v.TOUCH_CANCEL,g)},onMouseDown:function(f){var c=this.mousePointer;c.down(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(f){var c=this.mousePointer;c.move(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(f){var c=this.mousePointer;c.up(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(f){var c=this.mousePointer;c.wheel(f),this.activePointer=c,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(f){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(r.POINTERLOCK_CHANGE,f,c)},inputCandidate:function(f,c){var g=f.input;if(!g||!g.enabled||!f.willRender(c))return!1;var m=!0,y=f.parentContainer;if(y)do{if(!y.willRender(c)){m=!1;break}y=y.parentContainer}while(y);return m},hitTest:function(f,c,g,m){m===void 0&&(m=this._tempHitTest);var y=this._tempPoint,x=g.scrollX,T=g.scrollY;m.length=0;var C=f.x,A=f.y;g.getWorldPoint(C,A,y),f.worldX=y.x,f.worldY=y.y;for(var w={x:0,y:0},P=this._tempMatrix,M=this._tempMatrix2,R=0;R<c.length;R++){var O=c[R];if(this.inputCandidate(O,g)){var U=y.x+x*O.scrollFactorX-x,X=y.y+T*O.scrollFactorY-T;O.parentContainer?(O.getWorldTransformMatrix(P,M),P.applyInverse(U,X,w)):u(U,X,O.x,O.y,O.rotation,O.scaleX,O.scaleY,w),this.pointWithinHitArea(O,w.x,w.y)&&m.push(O)}}return m},pointWithinHitArea:function(f,c,g){c+=f.displayOriginX,g+=f.displayOriginY;var m=f.input;return m&&m.hitAreaCallback(m.hitArea,c,g,f)?(m.localX=c,m.localY=g,!0):!1},pointWithinInteractiveObject:function(f,c,g){return f.hitArea?(c+=f.gameObject.displayOriginX,g+=f.gameObject.displayOriginY,f.localX=c,f.localY=g,f.hitAreaCallback(f.hitArea,c,g,f)):!1},transformPointer:function(f,c,g,m){var y=f.position,x=f.prevPosition;x.x=y.x,x.y=y.y;var T=this.scaleManager.transformX(c),C=this.scaleManager.transformY(g),A=f.smoothFactor;!m||A===0?(y.x=T,y.y=C):(y.x=T*A+x.x*(1-A),y.y=C*A+x.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var f=0;f<this.pointers.length;f++)this.pointers[f].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=d},48205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96503),v=t(87902),a=t(83419),r=t(93301),n=t(74457),e=t(84409),s=t(20339),o=t(8497),i=t(81154),h=t(8214),u=t(50792),d=t(95540),f=t(23777),c=t(89639),g=t(41212),m=t(37277),y=t(87841),x=t(37303),T=t(44594),C=t(16483),A=t(10690),w=new a({Extends:u,initialize:function(M){u.call(this),this.scene=M,this.systems=M.sys,this.settings=M.sys.settings,this.manager=M.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var R={cancelled:!1};this._eventContainer={stopPropagation:function(){R.cancelled=!0}},this._eventData=R,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,M.sys.events.once(T.BOOT,this.boot,this),M.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var P=this.systems.events;P.on(T.TRANSITION_START,this.transitionIn,this),P.on(T.TRANSITION_OUT,this.transitionOut,this),P.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),P.on(T.PRE_UPDATE,this.preUpdate,this),P.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(P){this.isActive()&&this.emit(h.GAME_OVER,P.timeStamp,P)},onGameOut:function(P){this.isActive()&&this.emit(h.GAME_OUT,P.timeStamp,P)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var P=this._pendingRemoval,M=this._pendingInsertion,R=P.length,O=M.length;if(!(R===0&&O===0)){for(var U=this._list,X=0;X<R;X++){var W=P[X],Y=U.indexOf(W);Y>-1&&(U.splice(Y,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=U.concat(M.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(P){this.manager&&this.manager.setCursor(P)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(P,M){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,P,M),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var R,O=this.manager,U=O.pointers;for(R=0;R<U.length;R++)U[R].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=M,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var W=!1;for(R=0;R<U.length;R++){var Y=0,N=U[R];this._tempZones=[],this._temp=this.hitTestPointer(N),this.sortGameObjects(this._temp,N),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(N),this.getDragState(N)===2&&this.processDragThresholdEvent(N,P),Y>0&&(W=!0)}return W},update:function(P,M){if(!this.isActive())return!1;for(var R=!1,O=0;O<M.length;O++){var U=0,X=M[O];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),P){case r.MOUSE_DOWN:U+=this.processDragDownEvent(X),U+=this.processDownEvents(X),U+=this.processOverOutEvents(X);break;case r.MOUSE_UP:U+=this.processDragUpEvent(X),U+=this.processUpEvents(X),U+=this.processOverOutEvents(X);break;case r.TOUCH_START:U+=this.processDragDownEvent(X),U+=this.processDownEvents(X),U+=this.processOverEvents(X);break;case r.TOUCH_END:case r.TOUCH_CANCEL:U+=this.processDragUpEvent(X),U+=this.processUpEvents(X),U+=this.processOutEvents(X);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:U+=this.processDragMoveEvent(X),U+=this.processMoveEvents(X),U+=this.processOverOutEvents(X);break;case r.MOUSE_WHEEL:U+=this.processWheelEvent(X);break}U>0&&(R=!0)}return this._updatedThisFrame=!0,R},clear:function(P,M){M===void 0&&(M=!1),this.disable(P);var R=P.input;R&&(this.removeDebug(P),this.manager.resetCursor(R),R.gameObject=void 0,R.target=void 0,R.hitArea=void 0,R.hitAreaCallback=void 0,R.callbackContext=void 0,P.input=null),M||this.queueForRemoval(P);var O=this._draggable.indexOf(P);return O>-1&&this._draggable.splice(O,1),P},disable:function(P,M){M===void 0&&(M=!1);var R=P.input;R&&(R.enabled=!1,R.dragState=0);for(var O=this._drag,U=this._over,X=this.manager,W=0,Y;W<X.pointers.length;W++)Y=O[W].indexOf(P),Y>-1&&O[W].splice(Y,1),Y=U[W].indexOf(P),Y>-1&&U[W].splice(Y,1);return M&&this.resetCursor(),this},enable:function(P,M,R,O){return O===void 0&&(O=!1),P.input?P.input.enabled=!0:this.setHitArea(P,M,R),P.input&&O&&!P.input.dropZone&&(P.input.dropZone=O),this},hitTestPointer:function(P){for(var M=this.cameras.getCamerasBelowPointer(P),R=0;R<M.length;R++){for(var O=M[R],U=this.manager.hitTest(P,this._list,O),X=0;X<U.length;X++){var W=U[X];W.input.dropZone&&this._tempZones.push(W)}if(U.length>0)return P.camera=O,U}return P.camera=M[0],[]},processDownEvents:function(P){var M=0,R=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var X=0;X<R.length;X++){var W=R[X];if(!(!W.input||!W.input.enabled)&&(M++,W.emit(h.GAMEOBJECT_POINTER_DOWN,P,W.input.localX,W.input.localY,U),O.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(h.GAMEOBJECT_DOWN,P,W,U),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&(P.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,P,R):this.emit(h.POINTER_DOWN_OUTSIDE,P)),M},getDragState:function(P){return this._dragState[P.id]},setDragState:function(P,M){this._dragState[P.id]=M},processDragThresholdEvent:function(P,M){var R=!1,O=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&s(P.x,P.y,P.downX,P.downY)>=U||O>0&&M>=P.downTime+O)&&(R=!0),R)return this.setDragState(P,3),this.processDragStartList(P)},processDragStartList:function(P){if(this.getDragState(P)!==3)return 0;var M=this._drag[P.id];M.length>1&&(M=M.slice(0));for(var R=0;R<M.length;R++){var O=M[R],U=O.input;U.dragState=2,U.dragStartX=O.x,U.dragStartY=O.y,U.dragStartXGlobal=P.worldX,U.dragStartYGlobal=P.worldY,U.dragStartCamera=P.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,O.emit(h.GAMEOBJECT_DRAG_START,P,U.dragX,U.dragY),this.emit(h.DRAG_START,P,O)}return this.setDragState(P,4),M.length},processDragDownEvent:function(P){var M=this._temp;if(this._draggable.length===0||M.length===0||!P.primaryDown||this.getDragState(P)!==0)return 0;this.setDragState(P,1);for(var R=[],O=0;O<M.length;O++){var U=M[O];U.input.draggable&&U.input.dragState===0&&R.push(U)}return R.length===0?(this.setDragState(P,0),0):(R.length>1&&(this.sortGameObjects(R,P),this.topOnly&&R.splice(1)),this._drag[P.id]=R,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(P,3),this.processDragStartList(P)):(this.setDragState(P,2),0))},processDragMoveEvent:function(P){if(this.getDragState(P)===2&&this.processDragThresholdEvent(P,this.manager.game.loop.now),this.getDragState(P)!==4)return 0;var M=this._tempZones,R=this._drag[P.id];R.length>1&&(R=R.slice(0));for(var O=0;O<R.length;O++){var U=R[O],X=U.input,W=X.target;if(W){var Y=M.indexOf(W);Y===0?(U.emit(h.GAMEOBJECT_DRAG_OVER,P,W),this.emit(h.DRAG_OVER,P,U,W)):Y>0?(U.emit(h.GAMEOBJECT_DRAG_LEAVE,P,W),this.emit(h.DRAG_LEAVE,P,U,W),X.target=M[0],W=X.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,P,W),this.emit(h.DRAG_ENTER,P,U,W)):(U.emit(h.GAMEOBJECT_DRAG_LEAVE,P,W),this.emit(h.DRAG_LEAVE,P,U,W),M[0]?(X.target=M[0],W=X.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,P,W),this.emit(h.DRAG_ENTER,P,U,W)):X.target=null)}else!W&&M[0]&&(X.target=M[0],W=X.target,U.emit(h.GAMEOBJECT_DRAG_ENTER,P,W),this.emit(h.DRAG_ENTER,P,U,W));var N,z,B=P.positionToCamera(X.dragStartCamera);if(!U.parentContainer)N=B.x-X.dragX,z=B.y-X.dragY;else{var I=B.x-X.dragStartXGlobal,G=B.y-X.dragStartYGlobal,H=U.getParentRotation(),K=I*Math.cos(H)+G*Math.sin(H),Z=G*Math.cos(H)-I*Math.sin(H);K*=1/U.parentContainer.scaleX,Z*=1/U.parentContainer.scaleY,N=K+X.dragStartX,z=Z+X.dragStartY}U.emit(h.GAMEOBJECT_DRAG,P,N,z),this.emit(h.DRAG,P,U,N,z)}return R.length},processDragUpEvent:function(P){var M=this._drag[P.id];M.length>1&&(M=M.slice(0));for(var R=0;R<M.length;R++){var O=M[R],U=O.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-O.displayOriginX,U.dragY=U.localY-O.displayOriginY,U.dragStartCamera=null;var X=!1,W=U.target;W&&(O.emit(h.GAMEOBJECT_DROP,P,W),this.emit(h.DROP,P,O,W),U.target=null,X=!0),O.input&&O.input.enabled&&(O.emit(h.GAMEOBJECT_DRAG_END,P,U.dragX,U.dragY,X),this.emit(h.DRAG_END,P,O,X))}}return this.setDragState(P,0),M.splice(0),0},processMoveEvents:function(P){var M=0,R=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var X=0;X<R.length;X++){var W=R[X];if(!(!W.input||!W.input.enabled)&&(M++,W.emit(h.GAMEOBJECT_POINTER_MOVE,P,W.input.localX,W.input.localY,U),O.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(h.GAMEOBJECT_MOVE,P,W,U),O.cancelled||!this.isActive()||this.topOnly)))break}return!O.cancelled&&this.isActive()&&this.emit(h.POINTER_MOVE,P,R),M},processWheelEvent:function(P){var M=0,R=this._temp,O=this._eventData,U=this._eventContainer;O.cancelled=!1;for(var X=P.deltaX,W=P.deltaY,Y=P.deltaZ,N=0;N<R.length;N++){var z=R[N];if(!(!z.input||!z.input.enabled)&&(M++,z.emit(h.GAMEOBJECT_POINTER_WHEEL,P,X,W,Y,U),O.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(h.GAMEOBJECT_WHEEL,P,z,X,W,Y,U),O.cancelled||!this.isActive())))break}return!O.cancelled&&this.isActive()&&this.emit(h.POINTER_WHEEL,P,R,X,W,Y),M},processOverEvents:function(P){var M=this._temp,R=0,O=M.length,U=[];if(O>0){var X=this.manager,W=this._eventData,Y=this._eventContainer;W.cancelled=!1;for(var N=0;N<O;N++){var z=M[N];if(!(!z.input||!z.input.enabled)&&(U.push(z),X.setCursor(z.input),z.emit(h.GAMEOBJECT_POINTER_OVER,P,z.input.localX,z.input.localY,Y),R++,W.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,P,z,Y),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,P,U)}return this._over[P.id]=U,R},processOutEvents:function(P){var M=this._over[P.id],R=0,O=M.length;if(O>0){var U=this.manager,X=this._eventData,W=this._eventContainer;X.cancelled=!1,this.sortGameObjects(M,P);for(var Y=0;Y<O;Y++){var N=M[Y];if(N=M[Y],!(!N.input||!N.input.enabled)&&(U.resetCursor(N.input),N.emit(h.GAMEOBJECT_POINTER_OUT,P,W),R++,X.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,P,N,W),X.cancelled||!this.isActive())))break}!X.cancelled&&this.isActive()&&this.emit(h.POINTER_OUT,P,M),this._over[P.id]=[]}return R},processOverOutEvents:function(P){var M=this._temp,R,O,U=[],X=[],W=[],Y=this._over[P.id],N=this._drag[P.id],z=this.manager;for(R=0;R<Y.length;R++)O=Y[R],M.indexOf(O)===-1&&N.indexOf(O)===-1?U.push(O):W.push(O);for(R=0;R<M.length;R++)O=M[R],Y.indexOf(O)===-1&&X.push(O);var B=U.length,I=0,G=this._eventData,H=this._eventContainer;if(G.cancelled=!1,B>0){for(this.sortGameObjects(U,P),R=0;R<B&&(O=U[R],!(!(!O.input||!O.input.enabled)&&(z.resetCursor(O.input),O.emit(h.GAMEOBJECT_POINTER_OUT,P,H),I++,G.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(h.GAMEOBJECT_OUT,P,O,H),G.cancelled||!this.isActive()))));R++);(!G.cancelled||this.isActive())&&this.emit(h.POINTER_OUT,P,U)}if(B=X.length,G.cancelled=!1,B>0){for(this.sortGameObjects(X,P),R=0;R<B&&(O=X[R],!(!(!O.input||!O.input.enabled)&&(z.setCursor(O.input),O.emit(h.GAMEOBJECT_POINTER_OVER,P,O.input.localX,O.input.localY,H),I++,G.cancelled||!this.isActive()||O.input&&O.input.enabled&&(this.emit(h.GAMEOBJECT_OVER,P,O,H),G.cancelled||!this.isActive()))));R++);!G.cancelled&&this.isActive()&&this.emit(h.POINTER_OVER,P,X)}return Y=W.concat(X),this._over[P.id]=this.sortGameObjects(Y,P),I},processUpEvents:function(P){var M=this._temp,R=this._eventData,O=this._eventContainer;R.cancelled=!1;for(var U=0;U<M.length;U++){var X=M[U];if(!(!X.input||!X.input.enabled)&&(X.emit(h.GAMEOBJECT_POINTER_UP,P,X.input.localX,X.input.localY,O),R.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(h.GAMEOBJECT_UP,P,X,O),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&(P.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,P,M):this.emit(h.POINTER_UP_OUTSIDE,P)),M.length},forceDownState:function(P,M){this.forceState(P,M,h.GAMEOBJECT_POINTER_DOWN,h.GAMEOBJECT_DOWN,!1)},forceUpState:function(P,M){this.forceState(P,M,h.GAMEOBJECT_POINTER_UP,h.GAMEOBJECT_UP,!1)},forceOverState:function(P,M){this.forceState(P,M,h.GAMEOBJECT_POINTER_OVER,h.GAMEOBJECT_OVER,!0)},forceOutState:function(P,M){this.forceState(P,M,h.GAMEOBJECT_POINTER_OUT,h.GAMEOBJECT_OUT,!1)},forceState:function(P,M,R,O,U){var X=this._eventData,W=this._eventContainer;X.cancelled=!1,M.input&&M.input.enabled&&(M.emit(R,P,M.input.localX,M.input.localY,W),U&&this.setCursor(M.input),!X.cancelled&&this.isActive()&&M.input&&M.input.enabled&&this.emit(O,P,M,W))},queueForInsertion:function(P){return this._pendingInsertion.indexOf(P)===-1&&this._list.indexOf(P)===-1&&this._pendingInsertion.push(P),this},queueForRemoval:function(P){return this._pendingRemoval.push(P),this},setDraggable:function(P,M){M===void 0&&(M=!0),Array.isArray(P)||(P=[P]);for(var R=0;R<P.length;R++){var O=P[R];O.input.draggable=M;var U=this._draggable.indexOf(O);M&&U===-1?this._draggable.push(O):!M&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(P){P===void 0&&(P=1);var M=this.systems.textures;return e(M,P)},setHitArea:function(P,M,R){if(M===void 0)return this.setHitAreaFromTexture(P);Array.isArray(P)||(P=[P]);var O=!1,U=!1,X=!1,W=!1,Y=!1,N=!0;if(g(M)&&Object.keys(M).length){var z=M,B=P.some(function(Z){return Z.hasOwnProperty("faces")});if(!B){M=d(z,"hitArea",null),R=d(z,"hitAreaCallback",null),Y=d(z,"pixelPerfect",!1);var I=d(z,"alphaTolerance",1);Y&&(M={},R=this.makePixelPerfect(I))}O=d(z,"draggable",!1),U=d(z,"dropZone",!1),X=d(z,"cursor",!1),W=d(z,"useHandCursor",!1),(!M||!R)&&(this.setHitAreaFromTexture(P),N=!1)}else typeof M=="function"&&!R&&(R=M,M={});for(var G=0;G<P.length;G++){var H=P[G];if(Y&&H.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var K=H.input?H.input:n(H,M,R);K.customHitArea=N,K.dropZone=U,K.cursor=W?"pointer":X,H.input=K,O&&this.setDraggable(H),this.queueForInsertion(H)}return this},setHitAreaCircle:function(P,M,R,O,U){U===void 0&&(U=v);var X=new l(M,R,O);return this.setHitArea(P,X,U)},setHitAreaEllipse:function(P,M,R,O,U,X){X===void 0&&(X=i);var W=new o(M,R,O,U);return this.setHitArea(P,W,X)},setHitAreaFromTexture:function(P,M){M===void 0&&(M=x),Array.isArray(P)||(P=[P]);for(var R=0;R<P.length;R++){var O=P[R],U=O.frame,X=0,W=0;if(O.width?(X=O.width,W=O.height):U&&(X=U.realWidth,W=U.realHeight),O.type==="Container"&&(X===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&W!==0&&(O.input=n(O,new y(0,0,X,W),M),this.queueForInsertion(O))}return this},setHitAreaRectangle:function(P,M,R,O,U,X){X===void 0&&(X=x);var W=new y(M,R,O,U);return this.setHitArea(P,W,X)},setHitAreaTriangle:function(P,M,R,O,U,X,W,Y){Y===void 0&&(Y=A);var N=new C(M,R,O,U,X,W);return this.setHitArea(P,N,Y)},enableDebug:function(P,M){M===void 0&&(M=65280);var R=P.input;if(!R||!R.hitArea)return this;var O=R.hitArea,U=O.type,X=R.hitAreaDebug,W=this.systems.add,Y=this.systems.updateList;X&&(Y.remove(X),X.destroy(),X=null);var N=0,z=0;switch(U){case f.CIRCLE:X=W.arc(0,0,O.radius),N=O.x-O.radius,z=O.y-O.radius;break;case f.ELLIPSE:X=W.ellipse(0,0,O.width,O.height),N=O.x-O.width/2,z=O.y-O.height/2;break;case f.LINE:X=W.line(0,0,O.x1,O.y1,O.x2,O.y2);break;case f.POLYGON:X=W.polygon(0,0,O.points);break;case f.RECTANGLE:X=W.rectangle(0,0,O.width,O.height),N=O.x,z=O.y;break;case f.TRIANGLE:X=W.triangle(0,0,O.x1,O.y1,O.x2,O.y2,O.x3,O.y3);break}return X&&(X.isFilled=!1,X.strokeColor=M,X.preUpdate=function(){X.setVisible(P.visible),X.setStrokeStyle(1/P.scale,X.strokeColor),X.setDisplayOrigin(P.displayOriginX,P.displayOriginY);var B=P.x,I=P.y,G=P.rotation,H=P.scaleX,K=P.scaleY;if(P.parentContainer){var Z=P.getWorldTransformMatrix();B=Z.tx,I=Z.ty,G=Z.rotation,H=Z.scaleX,K=Z.scaleY}X.setRotation(G),X.setScale(H,K),X.setPosition(B+N*H,I+z*K),X.setScrollFactor(P.scrollFactorX,P.scrollFactorY),X.setDepth(P.depth)},Y.add(X),R.hitAreaDebug=X),this},removeDebug:function(P){var M=P.input;if(M&&M.hitAreaDebug){var R=M.hitAreaDebug;R.destroy(),M.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(P){return this.pollRate=P,this._pollTimer=0,this},setGlobalTopOnly:function(P){return this.manager.globalTopOnly=P,this},setTopOnly:function(P){return this.topOnly=P,this},sortGameObjects:function(P,M){if(P.length<2||!M.camera)return P;var R=M.camera.renderList;return P.sort(function(O,U){var X=Math.max(R.indexOf(O),0),W=Math.max(R.indexOf(U),0);return W-X})},sortDropZones:function(P){return P.length<2?P:(this.scene.sys.depthSort(),P.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(P,M){if(!P.parentContainer&&!M.parentContainer)return this.displayList.getIndex(M)-this.displayList.getIndex(P);if(P.parentContainer===M.parentContainer)return M.parentContainer.getIndex(M)-P.parentContainer.getIndex(P);if(P.parentContainer===M)return-1;if(M.parentContainer===P)return 1;for(var R=P.getIndexList(),O=M.getIndexList(),U=Math.min(R.length,O.length),X=0;X<U;X++){var W=R[X],Y=O[X];if(W!==Y)return Y-W}return O.length-R.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(P){return this.manager.addPointer(P)},setDefaultCursor:function(P){return this.manager.setDefaultCursor(P),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var P=0;P<10;P++)this._drag[P]=[],this._over[P]=[];this.removeAllListeners();var M=this.manager;M.canvas.style.cursor=M.defaultCursor;var R=this.systems.events;R.off(T.TRANSITION_START,this.transitionIn,this),R.off(T.TRANSITION_OUT,this.transitionOut,this),R.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),R.off(T.PRE_UPDATE,this.preUpdate,this),M.events.off(h.GAME_OUT,this.onGameOut,this),M.events.off(h.GAME_OVER,this.onGameOver,this),R.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var P=this.manager.pointers,M=0;M<P.length;M++)P[M].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});m.register("InputPlugin",w,"input"),p.exports=w},89639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v={},a={};a.register=function(r,n,e,s,o){v[r]={plugin:n,mapping:e,settingsKey:s,configKey:o}},a.getPlugin=function(r){return v[r]},a.install=function(r){var n=r.scene.sys,e=n.settings.input,s=n.game.config;for(var o in v){var i=v[o].plugin,h=v[o].mapping,u=v[o].settingsKey,d=v[o].configKey;l(e,u,s[d])&&(r[h]=new i(r))}},a.remove=function(r){v.hasOwnProperty(r)&&delete v[r]},p.exports=a},42515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31040),v=t(83419),a=t(20339),r=t(43855),n=t(47235),e=t(26099),s=t(25892),o=new v({initialize:function(h,u){this.manager=h,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var h=i.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(i,h){return i.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var i=this.position.x,h=this.position.y,u=this.midPoint.x,d=this.midPoint.y;if(!(i===u&&h===d)){var f=n(this.motionFactor,u,i),c=n(this.motionFactor,d,h);r(f,i,.1)&&(f=i),r(c,h,.1)&&(c=h),this.midPoint.set(f,c);var g=i-f,m=h-c;this.velocity.set(g,m),this.angle=l(f,c,i,h),this.distance=Math.sqrt(g*g+m*m)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,h){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,h){this.event=h,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,h){this.buttons=0,this.event=h,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,h){i===void 0&&(i=10),h===void 0&&(h=[]);for(var u=this.prevPosition.x,d=this.prevPosition.y,f=this.position.x,c=this.position.y,g=0;g<i;g++){var m=1/i*g;h[g]={x:n(m,u,f),y:n(m,d,c)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=o},93301:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=S},7179:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},85375:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},39843:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},23388:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},16133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},27829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},53904:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},56058:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},2642:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},88171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},36147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},71692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},96149:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},81285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},74048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},21322:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},49378:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},86754:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},86433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},60709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},24081:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},11172:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},18907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},95579:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},35368:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},26972:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},47078:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},73802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},56718:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},25936:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},27503:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},50852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},96438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},59152:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},47777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},27957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},19444:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},54251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},18667:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},27192:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},24652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},45132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},44512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},15757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},41637:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},93802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8214:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n){this.pad=r,this.events=r.events,this.index=n,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=v},28884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92734),a=new l({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var n=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,n,this,r),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,n,this,r),this.pad.emit(v.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=a},99125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97421),v=t(28884),a=t(83419),r=t(50792),n=t(26099),e=new a({Extends:r,initialize:function(o,i){r.call(this),this.manager=o,this.pad=i,this.id=i.id,this.index=i.index;for(var h=[],u=0;u<i.buttons.length;u++)h.push(new v(this,u));this.buttons=h;var d=[];for(u=0;u<i.axes.length;u++)d.push(new l(this,u));this.axes=d,this.vibration=i.vibrationActuator;var f={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:f,this._LCRight=h[15]?h[15]:f,this._LCTop=h[12]?h[12]:f,this._LCBottom=h[13]?h[13]:f,this._RCLeft=h[2]?h[2]:f,this._RCRight=h[1]?h[1]:f,this._RCTop=h[3]?h[3]:f,this._RCBottom=h[0]?h[0]:f,this._FBLeftTop=h[4]?h[4]:f,this._FBLeftBottom=h[6]?h[6]:f,this._FBRightTop=h[5]?h[5]:f,this._FBRightBottom=h[7]?h[7]:f;var c={value:0};this._HAxisLeft=d[0]?d[0]:c,this._VAxisLeft=d[1]?d[1]:c,this._HAxisRight=d[2]?d[2]:c,this._VAxisRight=d[3]?d[3]:c,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var o=0;o<this.axes.length;o++)this.axes[o].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var o,i=this.buttons,h=s.buttons,u=i.length;for(o=0;o<u;o++)i[o].update(h[o].value);var d=this.axes,f=s.axes;for(u=d.length,o=0;o<u;o++)d[o].update(f[o]);u>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),u>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},56654:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(92734),r=t(99125),n=t(35154),e=t(89639),s=t(8214),o=new l({Extends:v,initialize:function(h){v.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(s.BOOT,this.boot,this),h.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,h=this.settings.input,u=i.config;this.enabled=n(h,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=n(h,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,h=this.target,u=function(d){d.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(d))};this.onGamepadHandler=u,h.addEventListener("gamepadconnected",u,!1),h.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var h=this.gamepads,u=0;u<i.length;u++){var d=i[u];if(d){var f=d.id,c=d.index,g=h[c];if(g)g.id!==f?(g.destroy(),h[c]=new r(this,d)):g.update(d);else{var m=new r(this,d);h[c]=m,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=m):this._pad3=m:this._pad2=m:this._pad1=m}}}},getAll:function(){for(var i=[],h=this.gamepads,u=0;u<h.length;u++)h[u]&&i.push(h[u]);return i},getPad:function(i){for(var h=this.gamepads,u=0;u<h.length;u++)if(h[u]&&h[u].index===i)return h[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var h=this.queue.splice(0,i),u=0;u<i;u++){var d=h[u],f=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(a.CONNECTED,f,d):d.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,f,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",o,"gamepad","gamepad","inputGamepad"),p.exports=o},89651:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},7629:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},42206:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},86544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},94784:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},14325:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},92734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93301),v=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=v(!1,a,l),p.exports=a},78970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),v=t(83419),a=t(8443),r=t(8214),n=t(46032),e=t(29747),s=new v({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputKeyboard,this.target=o.inputKeyboardEventTarget,this.addCapture(o.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var o=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(h),o.manager.events.emit(r.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;o.preventDefault&&!u&&o.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(h),o.manager.events.emit(r.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;o.preventDefault&&!u&&o.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var o=this.target;o.removeEventListener("keydown",this.onKeyDown,!1),o.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,h=0;h<o.length;h++){var u=o[h];typeof u=="string"&&(u=n[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var i=this.captures,h=0;h<o.length;h++){var u=o[h];typeof u=="string"&&(u=n[u.toUpperCase()]),l(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},28846:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(95922),r=t(8443),n=t(35154),e=t(8214),s=t(89639),o=t(30472),i=t(46032),h=t(87960),u=t(74600),d=t(44594),f=t(56583),c=new l({Extends:v,initialize:function(m){v.call(this),this.game=m.systems.game,this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.manager=m.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,m.pluginEvents.once(e.BOOT,this.boot,this),m.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=n(g,"keyboard",!0);var m=n(g,"keyboard.capture",null);m&&this.addCaptures(m),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(g,m,y){m===void 0&&(m=!0),y===void 0&&(y=!1);var x={};if(typeof g=="string"){g=g.split(",");for(var T=0;T<g.length;T++){var C=g[T].trim();C&&(x[C]=this.addKey(C,m,y))}}else for(var A in g)x[A]=this.addKey(g[A],m,y);return x},addKey:function(g,m,y){m===void 0&&(m=!0),y===void 0&&(y=!1);var x=this.keys;if(g instanceof o){var T=x.indexOf(g);return T>-1?x[T]=g:x[g.keyCode]=g,m&&this.addCapture(g.keyCode),g.setEmitOnRepeat(y),g}return typeof g=="string"&&(g=i[g.toUpperCase()]),x[g]||(x[g]=new o(this,g),m&&this.addCapture(g),x[g].setEmitOnRepeat(y)),x[g]},removeKey:function(g,m,y){m===void 0&&(m=!1),y===void 0&&(y=!1);var x=this.keys,T;if(g instanceof o){var C=x.indexOf(g);C>-1&&(T=this.keys[C],this.keys[C]=void 0)}else typeof g=="string"&&(g=i[g.toUpperCase()]);return x[g]&&(T=x[g],x[g]=void 0),T&&(T.plugin=null,y&&this.removeCapture(T.keyCode),m&&T.destroy()),this},removeAllKeys:function(g,m){g===void 0&&(g=!1),m===void 0&&(m=!1);for(var y=this.keys,x=0;x<y.length;x++){var T=y[x];T&&(y[x]=void 0,m&&this.removeCapture(T.keyCode),g&&T.destroy())}return this},createCombo:function(g,m){return new h(this,g,m)},checkDown:function(g,m){if(m===void 0&&(m=0),this.enabled&&g.isDown){var y=f(this.time-g.timeDown,m);if(y>g._tick)return g._tick=y,!0}return!1},update:function(){var g=this.manager.queue,m=g.length;if(!(!this.isActive()||m===0))for(var y=this.keys,x=0;x<m;x++){var T=g[x],C=T.keyCode,A=y[C],w=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(C===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=C,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(A&&(w=A.isDown,A.onDown(T)),!T.cancelled&&(!A||!w)&&(u[C]&&this.emit(a.KEY_DOWN+u[C],T),T.cancelled||this.emit(a.ANY_KEY_DOWN,T))):(A&&A.onUp(T),T.cancelled||(u[C]&&this.emit(a.KEY_UP+u[C],T),T.cancelled||this.emit(a.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),p.exports=c},66970:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l.timeLastMatched=t.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};p.exports=S},87960:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95922),a=t(95540),r=t(68769),n=t(92803),e=new l({initialize:function(o,i,h){if(h===void 0&&(h={}),i.length<2)return!1;this.manager=o,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var d=i[u];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(h,"resetOnWrongKey",!0),this.maxKeyDelay=a(h,"maxKeyDelay",0),this.resetOnMatch=a(h,"resetOnMatch",!1),this.deleteOnMatch=a(h,"deleteOnMatch",!1);var f=this,c=function(g){if(!(f.matched||!f.enabled)){var m=r(g,f);m&&(f.manager.emit(v.COMBO_MATCH,f,g),f.resetOnMatch?n(f):f.deleteOnMatch&&f.destroy())}};this.onKeyDown=c,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},68769:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66970),v=function(a,r){if(r.matched)return!0;var n=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=s&&(e=!0,n=l(a,r))}else e=!0,n=l(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),n&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),n};p.exports=v},92803:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=S},92612:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},23345:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},21957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},44743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},3771:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},46358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},75674:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},95922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=50);var v=t.plugin.game.loop.time-t.timeDown;return t.isDown&&v<l};p.exports=S},90229:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=S},38796:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=S},30472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(95922),r=new l({Extends:v,initialize:function(e,s){v.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},46032:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=S},74600:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(46032),v={};for(var a in l)v[l[a]]=a;p.exports=v},41170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=50);var v=t.plugin.game.loop.time-t.timeUp;return t.isUp&&v<l};p.exports=S},85098:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89357),a=t(8214),r=t(29747),n=new l({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var s=this,o=this.manager,i=o.canvas,h=window&&window.focus&&o.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseMove(d),s.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){h&&window.focus(),!d.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseDown(d),s.preventDefaultDown&&d.target===i&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&s.enabled&&o&&o.enabled&&d.target!==i&&o.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onMouseUp(d),s.preventDefaultUp&&d.target===i&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&s.enabled&&o&&o.enabled&&d.target!==i&&o.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&o.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&s.enabled&&o&&o.enabled&&o.onMouseWheel(d),s.preventDefaultWheel&&d.target===i&&d.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&o.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(d){var f=s.target;s.locked=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f,o.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=n},87078:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(85098)}},36210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(8214),a=t(29747),r=new l({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(n){var e=this,s=this.manager,o=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(f),e.capture&&f.cancelable&&f.preventDefault())},this.onTouchStart=function(f){i&&window.focus(),!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(f),e.capture&&f.cancelable&&f.target===o&&f.preventDefault())},this.onTouchStartWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==o&&s.onTouchStart(f)},this.onTouchEnd=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(f),e.capture&&f.cancelable&&f.target===o&&f.preventDefault())},this.onTouchEndWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==o&&s.onTouchEnd(f)},this.onTouchCancel=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(f),e.capture&&f.preventDefault())},this.onTouchCancelWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(f)};var h=this.capture,u={passive:!0},d={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,h?d:u),n.addEventListener("touchmove",this.onTouchMove,h?d:u),n.addEventListener("touchend",this.onTouchEnd,h?d:u),n.addEventListener("touchcancel",this.onTouchCancel,h?d:u),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},95618:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(36210)}},41299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(54899),r=t(95540),n=t(98356),e=t(3374),s=t(84376),o=t(92638),i=new l({initialize:function(u,d){if(this.loader=u,this.cache=r(d,"cache",!1),this.type=r(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(d,"key",!1);var f=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+f),!this.key)throw new Error("Invalid File key: "+this.key);var c=r(d,"url");c===void 0?c=u.path+f+"."+r(d,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(c=u.path+c),this.url=c,this.src="",this.xhrSettings=o(r(d,"responseType",void 0)),r(d,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof c=="string"&&c.indexOf("data:")===0,this.retryAttempts=r(d,"maxRetries",u.maxRetries)},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===v.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=v.FILE_LOADING,this.src=n(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=s(this,this.loader.xhr)}},onLoad:function(h,u){var d=h.responseURL&&this.loader.localSchemes.some(function(g){return h.responseURL.indexOf(g)===0}),f=d&&u.target.status===0,c=!(u.target&&u.target.status!==200)||f;h.readyState===4&&h.status>=400&&h.status<=599&&(c=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onBase64Load:function(h){this.xhrLoader=h,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==v.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var u=this.key,d=this.type;this.loader.emit(a.FILE_COMPLETE,u,d,h),this.loader.emit(a.FILE_KEY_COMPLETE+d+"-"+u,u,d,h),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(h,u,d){if(typeof URL=="function")h.src=URL.createObjectURL(u);else{var f=new FileReader;f.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(u.type||d)+";base64,"+f.result.split(",")[1]},f.onerror=h.onerror,f.readAsDataURL(u)}},i.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},p.exports=i},74099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(l){for(var v in S)l[v]=S[v]},register:function(l,v){S[l]=v},destroy:function(){S={}}};p.exports=t},98356:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:l+t.url:!1};p.exports=S},74261:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(35072),r=t(50792),n=t(54899),e=t(74099),s=t(95540),o=t(35154),i=t(41212),h=t(37277),u=t(44594),d=t(92638),f=new l({Extends:r,initialize:function(g){r.call(this);var m=g.sys.game.config,y=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(y,"baseURL",m.loaderBaseURL)),this.setPath(s(y,"path",m.loaderPath)),this.setPrefix(s(y,"prefix",m.loaderPrefix)),this.maxParallelDownloads=s(y,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=d(s(y,"responseType",m.loaderResponseType),s(y,"async",m.loaderAsync),s(y,"user",m.loaderUser),s(y,"password",m.loaderPassword),s(y,"timeout",m.loaderTimeout),s(y,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=s(y,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=s(y,"imageLoadType",m.loaderImageLoadType),this.localSchemes=s(y,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=s(y,"maxRetries",m.loaderMaxRetries),g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.baseURL=c,this},setPath:function(c){return c===void 0&&(c=""),c!==""&&c.substr(-1)!=="/"&&(c=c.concat("/")),this.path=c,this},setPrefix:function(c){return c===void 0&&(c=""),this.prefix=c,this},setCORS:function(c){return this.crossOrigin=c,this},addFile:function(c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++){var m=c[g];this.keyExists(m)||(this.list.set(m),this.emit(n.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(c){var g=c.hasCacheConflict();return g||this.list.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1}),this.queue.iterate(function(m){if(m.type===c.type&&m.key===c.key)return g=!0,!1})),g},addPack:function(c,g){if(typeof g=="string"){var m=o(c,g);m&&(c={packKey:m})}var y=0,x=this.baseURL,T=this.path,C=this.prefix;for(var A in c)if(Object.prototype.hasOwnProperty.call(c,A)){var w=c[A],P=s(w,"baseURL",x),M=s(w,"path",T),R=s(w,"prefix",C),O=s(w,"files",null),U=s(w,"defaultType","void");if(Array.isArray(O)){this.setBaseURL(P),this.setPath(M),this.setPrefix(R);for(var X=0;X<O.length;X++){var W=O[X],Y=W.hasOwnProperty("type")?W.type:U;this[Y]&&(this[Y](W),y++)}}}return this.setBaseURL(x),this.setPath(T),this.setPrefix(C),y>0},removePack:function(c,g){var m=this.systems.anims,y=this.cacheManager,x=this.textureManager,T={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},C;if(i(c))C=c;else if(C=y.json.get(c),!C){console.warn("Asset Pack not found in JSON cache:",c);return}g&&(C={_:C[g]});for(var A in C){var w=C[A],P=s(w,"prefix",""),M=s(w,"files"),R=s(w,"defaultType");if(Array.isArray(M))for(var O=0;O<M.length;O++){var U=M[O],X=U.hasOwnProperty("type")?U.type:R;if(!X){console.warn("No type:",U);continue}var W=P+U.key;if(X==="animation"&&m.remove(W),!((X==="aseprite"||X==="atlas"||X==="atlasXML"||X==="htmlTexture"||X==="image"||X==="multiatlas"||X==="spritesheet"||X==="svg"||X==="texture"||X==="unityAtlas")&&(x.remove(W),!T[X]))){if(X==="pack"){this.removePack(W,U.dataKey);continue}if(X==="spine"){var Y=y.custom.spine.get(W);if(!Y)continue;var N=Y.prefix===void 0?"":Y.prefix;y.custom.spine.remove(W);var z=y.custom.spineTextures.get(W);if(!z)continue;y.custom.spineTextures.remove(W);for(var B=0;B<z.pages.length;B++){var I=z.pages[B],G=N+I.name,H=W+":"+G;x.exists(H)?x.remove(H):x.remove(G)}}var K=T[X];if(K!==null){if(!K){console.warn("Unknown type:",X);continue}var Z=y[K];Z.remove(W)}}}}},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(c){if((c.state===v.FILE_POPULATED||c.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(c),this.list.delete(c),c.crossOrigin||(c.crossOrigin=this.crossOrigin),c.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(c,g){this.inflight&&(this.inflight.delete(c),this.updateProgress(),g?(this.totalComplete++,this.queue.set(c),this.emit(n.FILE_LOAD,c),c.onProcess()):(this.totalFailed++,this._deleteQueue.set(c),this.emit(n.FILE_LOAD_ERROR,c),this.fileProcessComplete(c)))},fileProcessComplete:function(c){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(c.state===v.FILE_ERRORED?c.multiFile&&c.multiFile.onFileFailed(c):c.state===v.FILE_COMPLETE&&(c.multiFile?c.multiFile.isReadyToProcess()&&(c.multiFile.addToCache(),c.multiFile.pendingDestroy()):(c.addToCache(),c.pendingDestroy())),this.queue.delete(c),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(c){this._deleteQueue.set(c)},saveJSON:function(c,g){return this.save(JSON.stringify(c),g)},save:function(c,g,m){g===void 0&&(g="file.json"),m===void 0&&(m="application/json");var y=new Blob([c],{type:m}),x=URL.createObjectURL(y),T=document.createElement("a");return T.download=g,T.textContent="Download "+g,T.href=x,T.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var c=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(s(g,"baseURL",c.loaderBaseURL)),this.setPath(s(g,"path",c.loaderPath)),this.setPrefix(s(g,"prefix",c.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});h.register("Loader",f,"load"),p.exports=f},3374:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(92638),a=function(r,n){var e=r===void 0?v():l({},r);if(n)for(var s in n)n[s]!==void 0&&(e[s]=n[s]);return e};p.exports=a},26430:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(54899),r=new l({initialize:function(e,s,o,i){var h=[];i.forEach(function(f){f&&h.push(f)}),this.loader=e,this.type=s,this.key=o;var u=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+u),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=v.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var d=0;d<h.length;d++)h[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,n,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},84376:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(3374),v=function(a,r){var n=l(r,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),s={responseText:atob(e)};a.onBase64Load(s);return}var o=new XMLHttpRequest;if(o.open("GET",a.src,n.async,n.user,n.password),o.responseType=a.xhrSettings.responseType,o.timeout=n.timeout,n.headers)for(var i in n.headers)o.setRequestHeader(i,n.headers[i]);return n.header&&n.headerValue&&o.setRequestHeader(n.header,n.headerValue),n.requestedWith&&o.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&o.overrideMimeType(n.overrideMimeType),n.withCredentials&&(o.withCredentials=!0),o.onload=a.onLoad.bind(a,o),o.onerror=a.onError.bind(a,o),o.onprogress=a.onProgress.bind(a),o.ontimeout=a.onError.bind(a,o),o.send(),o};p.exports=v},92638:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r,n){return t===void 0&&(t=""),l===void 0&&(l=!0),v===void 0&&(v=""),a===void 0&&(a=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:t,async:l,user:v,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};p.exports=S},23906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=S},42155:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},38991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},27540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},87464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},94486:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},13035:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},38144:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},97520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},85595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},55680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},54899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(518),r=t(54899),n=new l({Extends:a,initialize:function(s,o,i,h,u){a.call(this,s,o,i,h,u),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(e,s,o,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,s,i,o));return this}),p.exports=n},76272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new l({Extends:s,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new e(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","json"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new e(h,u,f,g);m.linkFile?s.call(this,h,"atlasjson",u,[m,y,m.linkFile]):s.call(this,h,"atlasjson",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),h.addToCache(),this.complete=!0}}});v.register("aseprite",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),p.exports=o},38734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new l({Extends:s,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new e(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","json"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new e(h,u,f,g);m.linkFile?s.call(this,h,"atlasjson",u,[m,y,m.linkFile]):s.call(this,h,"atlasjson",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,h.data,u),this.complete=!0}}});v.register("atlas",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),p.exports=o},74599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(57318),o=new l({Extends:e,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new s(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","xml"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new s(h,u,f,g);m.linkFile?e.call(this,h,"atlasxml",u,[m,y,m.linkFile]):e.call(this,h,"atlasxml",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,h.data,u),this.complete=!0}}});v.register("atlasXML",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),p.exports=o},21097:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(89749),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f,c){if(s(u)){var g=u;u=n(g,"key"),f=n(g,"xhrSettings"),c=n(g,"context",c)}var m={type:"audio",cache:h.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:u,url:d.url,xhrSettings:f,config:{context:c}};a.call(this,h,m)},onProcess:function(){this.state=v.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){i.data=h,i.onProcessComplete()},function(h){console.error("Error decoding audio: "+i.key+" - ",h?h.message:null),i.onProcessError()}),this.config.context=null}});o.create=function(i,h,u,d,f){var c=i.systems.game,g=c.config.audio,m=c.device.audio;s(h)&&(u=n(h,"url",[]),d=n(h,"config",{}));var y=o.getAudioURL(c,u);return y?m.webAudio&&!g.disableWebAudio?new o(i,h,y,f,c.sound.context):new e(i,h,y,d):(console.warn('No audio URLs for "%s" can play on this device',h),null)},o.getAudioURL=function(i,h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var d=n(h[u],"url",h[u]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var f=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(f=n(h[u],"type",f?f[1]:"").toLowerCase(),i.device.audio[f])return{url:d,type:f}}return null},r.register("audio",function(i,h,u,d){var f=this.systems.game,c=f.config.audio,g=f.device.audio;if(c.noAudio||!g.webAudio&&!g.audioData)return this;var m;if(Array.isArray(i))for(var y=0;y<i.length;y++)m=o.create(this,i[y]),m&&this.addFile(m);else m=o.create(this,i,h,u,d),m&&this.addFile(m);return this}),p.exports=o},89524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21097),v=t(83419),a=t(74099),r=t(95540),n=t(41212),e=t(518),s=t(26430),o=new v({Extends:s,initialize:function(h,u,d,f,c,g,m){if(n(u)){var y=u;u=r(y,"key"),d=r(y,"jsonURL"),f=r(y,"audioURL"),c=r(y,"audioConfig"),g=r(y,"audioXhrSettings"),m=r(y,"jsonXhrSettings")}var x;if(!f)x=new e(h,u,d,m),s.call(this,h,"audiosprite",u,[x]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=g;else{var T=l.create(h,u,f,c,g);T&&(x=new e(h,u,d,m),s.call(this,h,"audiosprite",u,[T,x]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,d=r(this.config,"audioConfig"),f=r(this.config,"audioXhrSettings"),c=l.create(this.loader,i.key,u,d,f);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1];i.addToCache(),h.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,h,u,d,f,c){var g=this.systems.game,m=g.config.audio,y=g.device.audio;if(m&&m.noAudio||!y.webAudio&&!y.audioData)return this;var x;if(Array.isArray(i))for(var T=0;T<i.length;T++)x=new o(this,i[T]),x.files&&this.addFile(x.files);else x=new o(this,i,h,u,d,f,c),x.files&&this.addFile(x.files);return this})},85722:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f){var c="bin";if(e(h)){var g=h;h=n(g,"key"),u=n(g,"url"),d=n(g,"xhrSettings"),c=n(g,"extension",c),f=n(g,"dataType",f)}var m={type:"binary",cache:i.cacheManager.binary,extension:c,responseType:"arraybuffer",key:h,url:u,xhrSettings:d,config:{dataType:f}};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING;var o=this.config.dataType;this.data=o?new o(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(o,i,h,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,u,h));return this}),p.exports=s},97025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(21859),o=t(57318),i=new l({Extends:e,initialize:function(u,d,f,c,g,m){var y,x;if(n(d)){var T=d;d=a(T,"key"),y=new r(u,{key:d,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),x=new o(u,{key:d,url:a(T,"fontDataURL"),extension:a(T,"fontDataExtension","xml"),xhrSettings:a(T,"fontDataXhrSettings")})}else y=new r(u,d,f,g),x=new o(u,d,c,m);y.linkFile?e.call(this,u,"bitmapfont",d,[y,x,y.linkFile]):e.call(this,u,"bitmapfont",d,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1];h.addToCache();var d=h.cache.get(h.key),f=s(u.data,h.cache.getFrame(h.key),0,0,d);this.loader.cacheManager.bitmapFont.add(h.key,{data:f,texture:h.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(h,u,d,f,c){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new i(this,h[m]),this.addFile(g.files);else g=new i(this,h,u,d,f,c),this.addFile(g.files);return this}),p.exports=i},16024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="css";if(e(h)){var c=h;h=n(c,"key"),u=n(c,"url"),d=n(c,"xhrSettings"),f=n(c,"extension",f)}var g={type:"script",cache:!1,extension:f,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),p.exports=s},69559:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38734),v=t(85722),a=t(83419),r=t(74099),n=t(95540),e=t(19550),s=t(41212),o=t(518),i=t(31403),h=t(46975),u=t(59327),d=t(26430),f=t(82038),c=t(55222),g=new a({Extends:d,initialize:function(y,x,T,C){if(T.multiAtlasURL){var A=new o(y,{key:x,url:T.multiAtlasURL,xhrSettings:C,config:T});d.call(this,y,"texture",x,[A])}else{var w=T.textureURL.substr(T.textureURL.length-3);T.type||(T.type=w.toLowerCase()==="ktx"?"KTX":"PVR");var P=new v(y,{key:x,url:T.textureURL,extension:w,xhrSettings:C,config:T});if(T.atlasURL){var M=new o(y,{key:x,url:T.atlasURL,xhrSettings:C,config:T});d.call(this,y,"texture",x,[P,M])}else d.call(this,y,"texture",x,[P])}this.config=T},onFileComplete:function(m){var y=this.files.indexOf(m);if(y!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(m.type==="json"&&m.data.hasOwnProperty("textures")){var x=m.data.textures,T=this.config,C=this.loader,A=C.baseURL,w=C.path,P=C.prefix,M=n(T,"multiBaseURL",this.baseURL),R=n(T,"multiPath",this.path),O=n(T,"prefix",this.prefix),U=n(T,"textureXhrSettings");M&&C.setBaseURL(M),R&&C.setPath(R),O&&C.setPrefix(O);for(var X=0;X<x.length;X++){var W=x[X].image,Y="CMA"+this.multiKeyIndex+"_"+W,N=new v(C,Y,W,U);if(this.addToMultiFile(N),C.addFile(N),x[X].normalMap){var z=new v(C,Y,x[X].normalMap,U);z.type="normalMap",N.setLink(z),this.addToMultiFile(z),C.addFile(z)}}C.setBaseURL(A),C.setPath(w),C.setPrefix(P)}}},addToCache:function(){function m(M){console.warn('Compressed Texture Invalid: "'+A.key+'". '+M)}if(this.isReadyToProcess()){var y=this.config;if(y.multiAtlasURL)this.addMultiToCache();else{var x=this.loader.systems.renderer,T=this.loader.textureManager,C,A=this.files[0],w=this.files[1];if(y.type==="PVR"?C=f(A.data):y.type==="KTX"&&(C=i(A.data),C||m("KTX file contains unsupported format.")),C&&!c(C)&&(m("Texture dimensions failed verification. Check the texture format specifications for "+y.format+" 0x"+C.internalFormat.toString(16)+"."),C=null),C&&!x.supportsCompressedTexture(y.format,C.internalFormat)&&(m("Texture format "+y.format+" with internal format "+C.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),C=null),C){C.format=x.getCompressedTextureName(y.format,C.internalFormat);var P=w&&w.data?w.data:null;T.addCompressedTexture(A.key,C,P)}}this.complete=!0}},addMultiToCache:function(){for(var m=this.config,y=this.files[0],x=[],T=[],C=[],A=this.loader.systems.renderer,w=this.loader.textureManager,P,M=1;M<this.files.length;M++){var R=this.files[M];if(R.type!=="normalMap")for(var O=R.key.indexOf("_"),U=R.key.substr(O+1),X=R.data,W=0;W<y.data.textures.length;W++){var Y=y.data.textures[W];if(Y.image===U){m.type==="PVR"?P=f(X):m.type==="KTX"&&(P=i(X)),P&&A.supportsCompressedTexture(m.format,P.internalFormat)&&(P.format=A.getCompressedTextureName(m.format,P.internalFormat),T.push(P),x.push(Y),R.linkFile&&C.push(R.linkFile.data));break}}}C.length===0&&(C=void 0),w.addAtlasJSONArray(this.key,T,x,C),this.complete=!0}});r.register("texture",function(m,y,x){var T=this.systems.renderer,C=function(w,P,M,R){var O={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(P)){var U=P;P=n(U,"key"),M=n(U,"url"),R=n(U,"xhrSettings")}var X=!1;for(var W in M)if(T.supportsCompressedTexture(W)){var Y=M[W];typeof Y=="string"?O.textureURL=Y:O=h(Y,O),O.format=W.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",P);else if(O.format==="IMG"){var N,z;O.multiAtlasURL?(z=new u(w,P,O.multiAtlasURL,O.multiPath,O.multiBaseURL,R),N=z.files):O.atlasURL?(z=new l(w,P,O.textureURL,O.atlasURL,R),N=z.files):N=new e(w,P,O.textureURL,R),w.addFile(N)}else{var B=new g(w,P,O,R);w.addFile(B.files)}};if(Array.isArray(m))for(var A=0;A<m.length;A++)C(this,m[A]);else C(this,m,y,x);return this}),p.exports=g},87674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(98356),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f,c,g){var m="ttf";if(s(u)){var y=u;u=n(y,"key"),d=n(y,"url"),f=n(y,"format","truetype"),c=n(y,"descriptors",null),g=n(y,"xhrSettings"),m=n(y,"extension",m)}else f===void 0&&(f="truetype");var x={type:"font",cache:!1,extension:m,responseType:"text",key:u,url:d,xhrSettings:g};a.call(this,h,x),this.data={format:f,descriptors:c},this.state=v.FILE_POPULATED},onProcess:function(){this.state=v.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var i,h=this.key,u="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(h,u,this.data.descriptors):i=new FontFace(h,u);var d=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",u),d.onProcessComplete()})}});r.register("font",function(i,h,u,d,f){if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addFile(new o(this,i[c]));else this.addFile(new o(this,i,h,u,d,f));return this}),p.exports=o},47931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(73894),o=new l({Extends:a,initialize:function(h,u,d,f,c){var g="glsl";if(e(u)){var m=u;u=n(m,"key"),d=n(m,"url"),f=n(m,"shaderType","fragment"),c=n(m,"xhrSettings"),g=n(m,"extension",g)}else f===void 0&&(f="fragment");var y={type:"glsl",cache:h.cacheManager.shader,extension:g,responseType:"text",key:u,url:d,config:{shaderType:f},xhrSettings:c};a.call(this,h,y)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),h=this.extractBlock(i,0);if(h)for(;h;){var u=this.getShaderName(h.header),d=this.getShaderType(h.header),f=this.getShaderUniforms(h.header),c=h.shader;if(this.cache.has(u)){var g=this.cache.get(u);d==="fragment"?g.fragmentSrc=c:g.vertexSrc=c,g.uniforms||(g.uniforms=f)}else d==="fragment"?this.cache.add(u,new s(u,c,"",f)):this.cache.add(u,new s(u,"",c,f));h=this.extractBlock(i,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var h=0;h<i.length;h++){var u=i[h].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var h={},u=0;u<i.length;u++){var d=i[u].trim();if(d.substring(0,8)==="uniform."){var f=d.indexOf(":");if(f){var c=d.substring(8,f);try{h[c]=JSON.parse(d.substring(f+1))}catch{console.warn("Invalid uniform JSON: "+c)}}}}return h},extractBlock:function(i,h){for(var u=-1,d=-1,f=-1,c=!1,g=!1,m=[],y=[],x=h;x<i.length;x++){var T=i[x].trim();if(T==="---")if(u===-1)u=x,c=!0;else if(c)d=x,c=!1,g=!0;else{g=!1;break}else c?m.push(T):g&&(y.push(T),f=x)}return!c&&d!==-1?{header:m,shader:y.join(`
`),offset:f}:null}});r.register("glsl",function(i,h,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,h,u,d));return this}),p.exports=o},89749:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(54899),a=t(41299),r=t(95540),n=t(98356),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){if(e(h)){var f=h;h=r(f,"key"),d=r(f,"config",d)}var c={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:h,url:u.url,config:d};a.call(this,i,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var o=0;o<this.data.length;o++){var i=this.data[o];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(o){var i=o.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var o=this.config&&this.config.instances||1;this.filesTotal=o,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<o;i++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+i).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(i=0;i<this.data.length;i++)h=this.data[i],h.src=n(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=s},88470:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="html";if(e(h)){var c=h;h=n(c,"key"),u=n(c,"url"),d=n(c,"xhrSettings"),f=n(c,"extension",f)}var g={type:"text",cache:i.cacheManager.html,extension:f,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),p.exports=s},14643:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f,c){d===void 0&&(d=512),f===void 0&&(f=512);var g="html";if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),d=n(m,"width",d),f=n(m,"height",f)}var y={type:"html",cache:i.textureManager,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{width:d,height:f}};a.call(this,i,y)},onProcess:function(){this.state=v.FILE_PROCESSING;var o=this.config.width,i=this.config.height,h=[];h.push('<svg width="'+o+'px" height="'+i+'px" viewBox="0 0 '+o+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var u=[h.join(`
`)],d=this;try{var f=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=v.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(d.data),d.onProcessError()},a.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(o,i,h,u,d){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,h,u,d));return this}),p.exports=s},19550:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(98356),o=new l({Extends:a,initialize:function i(h,u,d,f,c){var g="png",m;if(e(u)){var y=u;u=n(y,"key"),d=n(y,"url"),m=n(y,"normalMap"),f=n(y,"xhrSettings"),g=n(y,"extension",g),c=n(y,"frameConfig")}Array.isArray(d)&&(m=d[1],d=d[0]);var x={type:"image",cache:h.textureManager,extension:g,responseType:"blob",key:u,url:d,xhrSettings:f,config:c};if(a.call(this,h,x),m){var T=new i(h,this.key,m,f,c);T.type="normalMap",this.setLink(T),h.addFile(T)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=v.FILE_PROCESSING,i===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=v.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=v.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),p.exports=o},518:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(35154),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f,c){var g="json";if(s(u)){var m=u;u=n(m,"key"),d=n(m,"url"),f=n(m,"xhrSettings"),g=n(m,"extension",g),c=n(m,"dataKey",c)}var y={type:"json",cache:h.cacheManager.json,extension:g,responseType:"text",key:u,url:d,xhrSettings:f,config:c};a.call(this,h,y),s(d)&&(c?this.data=e(d,c):this.data=d,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var h=this.config;typeof h=="string"?this.data=e(i,h,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,h,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new o(this,i[f]));else this.addFile(new o(this,i,h,d,u));return this}),p.exports=o},59327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),o=new l({Extends:s,initialize:function(h,u,d,f,c,g,m){if(n(u)){var y=u;u=a(y,"key"),a(y,"url",!1)?d=a(y,"url"):d=a(y,"atlasURL"),g=a(y,"xhrSettings"),f=a(y,"path"),c=a(y,"baseURL"),m=a(y,"textureXhrSettings")}var x=new e(h,u,d,g);s.call(this,h,"multiatlas",u,[x]),this.config.path=f,this.config.baseURL=c,this.config.textureXhrSettings=m},onFileComplete:function(i){var h=this.files.indexOf(i);if(h!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,d=this.config,f=this.loader,c=f.baseURL,g=f.path,m=f.prefix,y=a(d,"baseURL",this.baseURL),x=a(d,"path",this.path),T=a(d,"prefix",this.prefix),C=a(d,"textureXhrSettings");f.setBaseURL(y),f.setPath(x),f.setPrefix(T);for(var A=0;A<u.length;A++){var w=u[A].image,P="MA"+this.multiKeyIndex+"_"+w,M=new r(f,P,w,C);if(this.addToMultiFile(M),f.addFile(M),u[A].normalMap){var R=new r(f,P,u[A].normalMap,C);R.type="normalMap",M.setLink(R),this.addToMultiFile(R),f.addFile(R)}}f.setBaseURL(c),f.setPath(g),f.setPrefix(m)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],h=[],u=[],d=[],f=1;f<this.files.length;f++){var c=this.files[f];if(c.type!=="normalMap")for(var g=c.key.indexOf("_"),m=c.key.substr(g+1),y=c.data,x=0;x<i.data.textures.length;x++){var T=i.data.textures[x];if(T.image===m){u.push(y),h.push(T),c.linkFile&&d.push(c.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,h,d),this.complete=!0}}});v.register("multiatlas",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),p.exports=o},99297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(34328),s=new l({Extends:n,initialize:function(i,h,u,d){var f="js",c=[];if(r(h)){var g=h;h=a(g,"key"),u=a(g,"url"),d=a(g,"xhrSettings"),f=a(g,"extension",f)}Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var y=new e(i,{key:h+"_"+m.toString(),url:u[m],extension:f,xhrSettings:d});y.onProcess=function(){this.onProcessComplete()},c.push(y)}n.call(this,i,"scripts",h,c)},addToCache:function(){if(this.isReadyToProcess()){for(var o=0;o<this.files.length;o++){var i=this.files[o];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});v.register("scripts",function(o,i,h){var u;if(Array.isArray(o))for(var d=0;d<o.length;d++)u=new s(this,o[d]),this.addFile(u.files);else u=new s(this,o,i,h),this.addFile(u.files);return this}),p.exports=s},41846:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(85048),s=t(61485),o=t(78776),i=new l({Extends:n,initialize:function(u,d,f,c,g,m){var y,x,T=u.cacheManager.obj;if(r(d)){var C=d;d=a(C,"key"),y=new o(u,{key:d,type:"obj",cache:T,url:a(C,"url"),extension:a(C,"extension","obj"),xhrSettings:a(C,"xhrSettings"),config:{flipUV:a(C,"flipUV",g)}}),c=a(C,"matURL"),c&&(x=new o(u,{key:d,type:"mat",cache:T,url:c,extension:a(C,"matExtension","mat"),xhrSettings:a(C,"xhrSettings")}))}else y=new o(u,{key:d,url:f,type:"obj",cache:T,extension:"obj",xhrSettings:m,config:{flipUV:g}}),c&&(x=new o(u,{key:d,url:c,type:"mat",cache:T,extension:"mat",xhrSettings:m}));n.call(this,u,"obj",d,[y,x])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1],d=e(h.data,h.config.flipUV);u&&(d.materials=s(u.data)),h.cache.add(h.key,d),this.complete=!0}}});v.register("obj",function(h,u,d,f,c){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new i(this,h[m]),this.addFile(g.files);else g=new i(this,h,u,d,f,c),this.addFile(g.files);return this}),p.exports=i},58610:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(74099),r=t(518),n=new l({Extends:r,initialize:function(s,o,i,h,u){r.call(this,s,o,i,h,u),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,s,o,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,s,i,o));return this}),p.exports=n},48988:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f,c){var g="js";if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),d=n(m,"start"),f=n(m,"mapping")}var y={type:"plugin",cache:!1,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{start:d,mapping:f}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,h=n(i,"start",!1),u=n(i,"mapping",null);if(this.state===v.FILE_POPULATED)o.install(this.key,this.data,h,u);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=o.install(this.key,window[this.key],h,u);(h||u)&&(this.loader.systems[u]=d,this.loader.scene[u]=d)}this.onProcessComplete()}});r.register("plugin",function(o,i,h,u,d){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,h,u,d));return this}),p.exports=s},67397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f){var c="svg";if(e(h)){var g=h;h=n(g,"key"),u=n(g,"url"),d=n(g,"svgConfig",{}),f=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"svg",cache:i.textureManager,extension:c,responseType:"text",key:h,url:u,xhrSettings:f,config:{width:n(d,"width"),height:n(d,"height"),scale:n(d,"scale")}};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING;var o=this.xhrLoader.responseText,i=[o],h=this.config.width,u=this.config.height,d=this.config.scale;t:if(h&&u||d){var f=null,c=new DOMParser;f=c.parseFromString(o,"text/xml");var g=f.getElementsByTagName("svg")[0],m=g.hasAttribute("viewBox"),y=parseFloat(g.getAttribute("width")),x=parseFloat(g.getAttribute("height"));if(!m&&y&&x)g.setAttribute("viewBox","0  0 "+y+" "+x);else if(m&&!y&&!x){var T=g.getAttribute("viewBox").split(/\s+|,/);y=T[2],x=T[3]}if(d)if(y&&x)h=y*d,u=x*d;else break t;g.setAttribute("width",h.toString()+"px"),g.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(g)]}try{var C=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,w=!1;this.data.onload=function(){w||a.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){w?A.onProcessError():(w=!0,a.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,C,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(o,i,h,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,h,u));return this}),p.exports=s},88423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="js";if(e(h)){var c=h;h=n(c,"key"),u=n(c,"url"),d=n(c,"xhrSettings"),f=n(c,"extension",f)}var g={type:"text",extension:f,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(o)),this.complete=!0}});r.register("sceneFile",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),p.exports=s},56812:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f,c){var g="js";if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),c=n(m,"xhrSettings"),g=n(m,"extension",g),d=n(m,"systemKey"),f=n(m,"sceneKey")}var y={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{systemKey:d,sceneKey:f}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=v.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,i=this.config,h=this.key,u=n(i,"systemKey",h),d=n(i,"sceneKey",h);this.state===v.FILE_POPULATED?o.installScenePlugin(u,this.data,d,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),o.installScenePlugin(u,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(o,i,h,u,d){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new s(this,o[f]));else this.addFile(new s(this,o,i,h,u,d));return this}),p.exports=s},34328:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d,f){var c="js";if(e(h)){var g=h;h=n(g,"key"),u=n(g,"url"),d=n(g,"type","script"),f=n(g,"xhrSettings"),c=n(g,"extension",c)}else d===void 0&&(d="script");var m={type:d,cache:!1,extension:c,responseType:"text",key:h,url:u,xhrSettings:f};a.call(this,i,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(o,i,h,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new s(this,o[d]));else this.addFile(new s(this,o,i,h,u));return this}),p.exports=s},85035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(74099),r=t(19550),n=new l({Extends:r,initialize:function(s,o,i,h,u){r.call(this,s,o,i,u,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,s,o,i){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new n(this,e[h]));else this.addFile(new n(this,e,s,o,i));return this}),p.exports=n},78776:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new l({Extends:a,initialize:function(i,h,u,d){var f="text",c="txt",g=i.cacheManager.text;if(e(h)){var m=h;h=n(m,"key"),u=n(m,"url"),d=n(m,"xhrSettings"),c=n(m,"extension",c),f=n(m,"type",f),g=n(m,"cache",g)}var y={type:f,cache:g,extension:c,responseType:"text",key:h,url:u,xhrSettings:d};a.call(this,i,y)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(o,i,h){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new s(this,o[u]));else this.addFile(new s(this,o,i,h));return this}),p.exports=s},49477:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(80341),o=new l({Extends:a,initialize:function(h,u,d,f){var c="csv";if(e(u)){var g=u;u=n(g,"key"),d=n(g,"url"),f=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:c,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,h,m),this.tilemapFormat=s.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),p.exports=o},40807:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(518),r=t(80341),n=new l({Extends:a,initialize:function(s,o,i,h){a.call(this,s,o,i,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapImpact",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,o));return this}),p.exports=n},56775:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(518),r=t(80341),n=new l({Extends:a,initialize:function(s,o,i,h){a.call(this,s,o,i,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});v.register("tilemapTiledJSON",function(e,s,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,o));return this}),p.exports=n},25771:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(78776),o=new l({Extends:e,initialize:function(h,u,d,f,c,g){var m,y;if(n(u)){var x=u;u=a(x,"key"),m=new r(h,{key:u,url:a(x,"textureURL"),extension:a(x,"textureExtension","png"),normalMap:a(x,"normalMap"),xhrSettings:a(x,"textureXhrSettings")}),y=new s(h,{key:u,url:a(x,"atlasURL"),extension:a(x,"atlasExtension","txt"),xhrSettings:a(x,"atlasXhrSettings")})}else m=new r(h,u,d,c),y=new s(h,u,f,g);m.linkFile?e.call(this,h,"unityatlas",u,[m,y,m.linkFile]):e.call(this,h,"unityatlas",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,h.data,u),this.complete=!0}}});v.register("unityAtlas",function(i,h,u,d,f){var c;if(Array.isArray(i))for(var g=0;g<i.length;g++)c=new o(this,i[g]),this.addFile(c.files);else c=new o(this,i,h,u,d,f),this.addFile(c.files);return this}),p.exports=o},33720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(98356),e=t(95540),s=t(41212),o=new l({Extends:a,initialize:function(h,u,d,f){if(f===void 0&&(f=!1),s(u)){var c=u;u=e(c,"key"),d=e(c,"url",[]),f=e(c,"noAudio",!1)}var g=h.systems.game.device.video.getVideoURL(d);g||console.warn("VideoFile: No supported format for "+u);var m={type:"video",cache:h.cacheManager.video,extension:g.type,key:u,url:g.url,config:{noAudio:f}};a.call(this,h,m)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),p.exports=o},57318:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(56836),o=new l({Extends:a,initialize:function(h,u,d,f){var c="xml";if(e(u)){var g=u;u=n(g,"key"),d=n(g,"url"),f=n(g,"xhrSettings"),c=n(g,"extension",c)}var m={type:"xml",cache:h.cacheManager.xml,extension:c,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,h,m)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,h,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new o(this,i[d]));else this.addFile(new o(this,i,h,u));return this}),p.exports=o},64589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23906),v=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=v(!1,a,l),p.exports=a},53307:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=0,v=0;v<t.length;v++)l+=+t[v];return l/t.length};p.exports=S},85710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6411),v=function(a,r){return l(a)/l(r)/l(a-r)};p.exports=v},30976:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.floor(Math.random()*(l-t+1)+t)};p.exports=S},87842:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){var n=(a-l)*.5,e=(r-v)*.5,s=t*t,o=t*s;return(2*v-2*a+n+e)*o+(-3*v+3*a-2*n-e)*s+n*t+v};p.exports=S},26302:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=10);var a=Math.pow(v,-l);return Math.ceil(t*a)/a};p.exports=S},45319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return Math.max(l,Math.min(v,t))};p.exports=S},39506:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a){return a*l.DEG_TO_RAD};p.exports=v},61241:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.abs(t-l)};p.exports=S},38857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(37867),r=t(29747),n=new a,e=new v({initialize:function s(o,i,h,u){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u=s.DefaultOrder),this._x=o,this._y=i,this._z=h,this._order=u,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,o,i,h){return h===void 0&&(h=this._order),this._x=s,this._y=o,this._z=i,this._order=h,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,o,i){return o===void 0&&(o=this._order),i===void 0&&(i=!1),n.fromQuat(s),this.setFromRotationMatrix(n,o,i)},setFromRotationMatrix:function(s,o,i){o===void 0&&(o=this._order),i===void 0&&(i=!1);var h=s.val,u=h[0],d=h[4],f=h[8],c=h[1],g=h[5],m=h[9],y=h[2],x=h[6],T=h[10],C=0,A=0,w=0,P=.99999;switch(o){case"XYZ":{A=Math.asin(l(f,-1,1)),Math.abs(f)<P?(C=Math.atan2(-m,T),w=Math.atan2(-d,u)):C=Math.atan2(x,g);break}case"YXZ":{C=Math.asin(-l(m,-1,1)),Math.abs(m)<P?(A=Math.atan2(f,T),w=Math.atan2(c,g)):A=Math.atan2(-y,u);break}case"ZXY":{C=Math.asin(l(x,-1,1)),Math.abs(x)<P?(A=Math.atan2(-y,T),w=Math.atan2(-d,g)):w=Math.atan2(c,u);break}case"ZYX":{A=Math.asin(-l(y,-1,1)),Math.abs(y)<P?(C=Math.atan2(x,T),w=Math.atan2(c,u)):w=Math.atan2(-d,g);break}case"YZX":{w=Math.asin(l(c,-1,1)),Math.abs(c)<P?(C=Math.atan2(-m,g),A=Math.atan2(-y,u)):A=Math.atan2(f,T);break}case"XZY":{w=Math.asin(-l(d,-1,1)),Math.abs(d)<P?(C=Math.atan2(x,g),A=Math.atan2(f,u)):C=Math.atan2(-m,T);break}}return this._x=C,this._y=A,this._z=w,this._order=o,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},6411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var l=t;--t;)l*=t;return l};p.exports=S},99472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.random()*(l-t)+t};p.exports=S},77623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=10);var a=Math.pow(v,-l);return Math.floor(t*a)/a};p.exports=S},62945:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=function(a,r,n){return a=l(a,0,1),(n-r)*a+r};p.exports=v},38265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t/l/1e3};p.exports=S},78702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=S},94883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=S},28915:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return(l-t)*v+t};p.exports=S},94908:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return v===void 0&&(v=0),t.clone().lerp(l,v)};p.exports=S},94434:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new v(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,n=a.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this},fromMat4:function(a){var r=a.val,n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[4],n[4]=r[5],n[5]=r[6],n[6]=r[8],n[7]=r[9],n[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],n=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=n,a[7]=e,this},invert:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],h=a[6],u=a[7],d=a[8],f=d*o-i*u,c=-d*s+i*h,g=u*s-o*h,m=r*f+n*c+e*g;return m?(m=1/m,a[0]=f*m,a[1]=(-d*n+e*u)*m,a[2]=(i*n-e*o)*m,a[3]=c*m,a[4]=(d*r-e*h)*m,a[5]=(-i*r+e*s)*m,a[6]=g*m,a[7]=(-u*r+n*h)*m,a[8]=(o*r-n*s)*m,this):null},adjoint:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],h=a[6],u=a[7],d=a[8];return a[0]=o*d-i*u,a[1]=e*u-n*d,a[2]=n*i-e*o,a[3]=i*h-s*d,a[4]=r*d-e*h,a[5]=e*s-r*i,a[6]=s*u-o*h,a[7]=n*h-r*u,a[8]=r*o-n*s,this},determinant:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],o=a[4],i=a[5],h=a[6],u=a[7],d=a[8];return r*(d*o-i*u)+n*(-d*s+i*h)+e*(u*s-o*h)},multiply:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],o=r[3],i=r[4],h=r[5],u=r[6],d=r[7],f=r[8],c=a.val,g=c[0],m=c[1],y=c[2],x=c[3],T=c[4],C=c[5],A=c[6],w=c[7],P=c[8];return r[0]=g*n+m*o+y*u,r[1]=g*e+m*i+y*d,r[2]=g*s+m*h+y*f,r[3]=x*n+T*o+C*u,r[4]=x*e+T*i+C*d,r[5]=x*s+T*h+C*f,r[6]=A*n+w*o+P*u,r[7]=A*e+w*i+P*d,r[8]=A*s+w*h+P*f,this},translate:function(a){var r=this.val,n=a.x,e=a.y;return r[6]=n*r[0]+e*r[3]+r[6],r[7]=n*r[1]+e*r[4]+r[7],r[8]=n*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],o=r[3],i=r[4],h=r[5],u=Math.sin(a),d=Math.cos(a);return r[0]=d*n+u*o,r[1]=d*e+u*i,r[2]=d*s+u*h,r[3]=d*o-u*n,r[4]=d*i-u*e,r[5]=d*h-u*s,this},scale:function(a){var r=this.val,n=a.x,e=a.y;return r[0]=n*r[0],r[1]=n*r[1],r[2]=n*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,n=a.y,e=a.z,s=a.w,o=r+r,i=n+n,h=e+e,u=r*o,d=r*i,f=r*h,c=n*i,g=n*h,m=e*h,y=s*o,x=s*i,T=s*h,C=this.val;return C[0]=1-(c+m),C[3]=d+T,C[6]=f-x,C[1]=d-T,C[4]=1-(u+m),C[7]=g+y,C[2]=f+x,C[5]=g-y,C[8]=1-(u+c),this},normalFromMat4:function(a){var r=a.val,n=this.val,e=r[0],s=r[1],o=r[2],i=r[3],h=r[4],u=r[5],d=r[6],f=r[7],c=r[8],g=r[9],m=r[10],y=r[11],x=r[12],T=r[13],C=r[14],A=r[15],w=e*u-s*h,P=e*d-o*h,M=e*f-i*h,R=s*d-o*u,O=s*f-i*u,U=o*f-i*d,X=c*T-g*x,W=c*C-m*x,Y=c*A-y*x,N=g*C-m*T,z=g*A-y*T,B=m*A-y*C,I=w*B-P*z+M*N+R*Y-O*W+U*X;return I?(I=1/I,n[0]=(u*B-d*z+f*N)*I,n[1]=(d*Y-h*B-f*W)*I,n[2]=(h*z-u*Y+f*X)*I,n[3]=(o*z-s*B-i*N)*I,n[4]=(e*B-o*Y+i*W)*I,n[5]=(s*Y-e*z-i*X)*I,n[6]=(T*U-C*O+A*R)*I,n[7]=(C*M-x*U-A*P)*I,n[8]=(x*O-T*M+A*w)*I,this):null}});p.exports=v},37867:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(25836),a=1e-6,r=new l({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new r(this)},set:function(h){return this.copy(h)},setValues:function(h,u,d,f,c,g,m,y,x,T,C,A,w,P,M,R){var O=this.val;return O[0]=h,O[1]=u,O[2]=d,O[3]=f,O[4]=c,O[5]=g,O[6]=m,O[7]=y,O[8]=x,O[9]=T,O[10]=C,O[11]=A,O[12]=w,O[13]=P,O[14]=M,O[15]=R,this},copy:function(h){var u=h.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,u,d){var f=n.fromQuat(d),c=f.val,g=u.x,m=u.y,y=u.z;return this.setValues(c[0]*g,c[1]*g,c[2]*g,0,c[4]*m,c[5]*m,c[6]*m,0,c[8]*y,c[9]*y,c[10]*y,0,h.x,h.y,h.z,1)},xyz:function(h,u,d){this.identity();var f=this.val;return f[12]=h,f[13]=u,f[14]=d,this},scaling:function(h,u,d){this.zero();var f=this.val;return f[0]=h,f[5]=u,f[10]=d,f[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,u=h[1],d=h[2],f=h[3],c=h[6],g=h[7],m=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=u,h[6]=h[9],h[7]=h[13],h[8]=d,h[9]=c,h[11]=h[14],h[12]=f,h[13]=g,h[14]=m,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,u=h[0],d=h[1],f=h[2],c=h[3],g=h[4],m=h[5],y=h[6],x=h[7],T=h[8],C=h[9],A=h[10],w=h[11],P=h[12],M=h[13],R=h[14],O=h[15],U=u*m-d*g,X=u*y-f*g,W=u*x-c*g,Y=d*y-f*m,N=d*x-c*m,z=f*x-c*y,B=T*M-C*P,I=T*R-A*P,G=T*O-w*P,H=C*R-A*M,K=C*O-w*M,Z=A*O-w*R,Q=U*Z-X*K+W*H+Y*G-N*I+z*B;return Q?(Q=1/Q,this.setValues((m*Z-y*K+x*H)*Q,(f*K-d*Z-c*H)*Q,(M*z-R*N+O*Y)*Q,(A*N-C*z-w*Y)*Q,(y*G-g*Z-x*I)*Q,(u*Z-f*G+c*I)*Q,(R*W-P*z-O*X)*Q,(T*z-A*W+w*X)*Q,(g*K-m*G+x*B)*Q,(d*G-u*K-c*B)*Q,(P*N-M*W+O*U)*Q,(C*W-T*N-w*U)*Q,(m*I-g*H-y*B)*Q,(u*H-d*I+f*B)*Q,(M*X-P*Y-R*U)*Q,(T*Y-C*X+A*U)*Q)):this},adjoint:function(){var h=this.val,u=h[0],d=h[1],f=h[2],c=h[3],g=h[4],m=h[5],y=h[6],x=h[7],T=h[8],C=h[9],A=h[10],w=h[11],P=h[12],M=h[13],R=h[14],O=h[15];return this.setValues(m*(A*O-w*R)-C*(y*O-x*R)+M*(y*w-x*A),-(d*(A*O-w*R)-C*(f*O-c*R)+M*(f*w-c*A)),d*(y*O-x*R)-m*(f*O-c*R)+M*(f*x-c*y),-(d*(y*w-x*A)-m*(f*w-c*A)+C*(f*x-c*y)),-(g*(A*O-w*R)-T*(y*O-x*R)+P*(y*w-x*A)),u*(A*O-w*R)-T*(f*O-c*R)+P*(f*w-c*A),-(u*(y*O-x*R)-g*(f*O-c*R)+P*(f*x-c*y)),u*(y*w-x*A)-g*(f*w-c*A)+T*(f*x-c*y),g*(C*O-w*M)-T*(m*O-x*M)+P*(m*w-x*C),-(u*(C*O-w*M)-T*(d*O-c*M)+P*(d*w-c*C)),u*(m*O-x*M)-g*(d*O-c*M)+P*(d*x-c*m),-(u*(m*w-x*C)-g*(d*w-c*C)+T*(d*x-c*m)),-(g*(C*R-A*M)-T*(m*R-y*M)+P*(m*A-y*C)),u*(C*R-A*M)-T*(d*R-f*M)+P*(d*A-f*C),-(u*(m*R-y*M)-g*(d*R-f*M)+P*(d*y-f*m)),u*(m*A-y*C)-g*(d*A-f*C)+T*(d*y-f*m))},determinant:function(){var h=this.val,u=h[0],d=h[1],f=h[2],c=h[3],g=h[4],m=h[5],y=h[6],x=h[7],T=h[8],C=h[9],A=h[10],w=h[11],P=h[12],M=h[13],R=h[14],O=h[15],U=u*m-d*g,X=u*y-f*g,W=u*x-c*g,Y=d*y-f*m,N=d*x-c*m,z=f*x-c*y,B=T*M-C*P,I=T*R-A*P,G=T*O-w*P,H=C*R-A*M,K=C*O-w*M,Z=A*O-w*R;return U*Z-X*K+W*H+Y*G-N*I+z*B},multiply:function(h){var u=this.val,d=u[0],f=u[1],c=u[2],g=u[3],m=u[4],y=u[5],x=u[6],T=u[7],C=u[8],A=u[9],w=u[10],P=u[11],M=u[12],R=u[13],O=u[14],U=u[15],X=h.val,W=X[0],Y=X[1],N=X[2],z=X[3];return u[0]=W*d+Y*m+N*C+z*M,u[1]=W*f+Y*y+N*A+z*R,u[2]=W*c+Y*x+N*w+z*O,u[3]=W*g+Y*T+N*P+z*U,W=X[4],Y=X[5],N=X[6],z=X[7],u[4]=W*d+Y*m+N*C+z*M,u[5]=W*f+Y*y+N*A+z*R,u[6]=W*c+Y*x+N*w+z*O,u[7]=W*g+Y*T+N*P+z*U,W=X[8],Y=X[9],N=X[10],z=X[11],u[8]=W*d+Y*m+N*C+z*M,u[9]=W*f+Y*y+N*A+z*R,u[10]=W*c+Y*x+N*w+z*O,u[11]=W*g+Y*T+N*P+z*U,W=X[12],Y=X[13],N=X[14],z=X[15],u[12]=W*d+Y*m+N*C+z*M,u[13]=W*f+Y*y+N*A+z*R,u[14]=W*c+Y*x+N*w+z*O,u[15]=W*g+Y*T+N*P+z*U,this},multiplyLocal:function(h){var u=this.val,d=h.val;return this.setValues(u[0]*d[0]+u[1]*d[4]+u[2]*d[8]+u[3]*d[12],u[0]*d[1]+u[1]*d[5]+u[2]*d[9]+u[3]*d[13],u[0]*d[2]+u[1]*d[6]+u[2]*d[10]+u[3]*d[14],u[0]*d[3]+u[1]*d[7]+u[2]*d[11]+u[3]*d[15],u[4]*d[0]+u[5]*d[4]+u[6]*d[8]+u[7]*d[12],u[4]*d[1]+u[5]*d[5]+u[6]*d[9]+u[7]*d[13],u[4]*d[2]+u[5]*d[6]+u[6]*d[10]+u[7]*d[14],u[4]*d[3]+u[5]*d[7]+u[6]*d[11]+u[7]*d[15],u[8]*d[0]+u[9]*d[4]+u[10]*d[8]+u[11]*d[12],u[8]*d[1]+u[9]*d[5]+u[10]*d[9]+u[11]*d[13],u[8]*d[2]+u[9]*d[6]+u[10]*d[10]+u[11]*d[14],u[8]*d[3]+u[9]*d[7]+u[10]*d[11]+u[11]*d[15],u[12]*d[0]+u[13]*d[4]+u[14]*d[8]+u[15]*d[12],u[12]*d[1]+u[13]*d[5]+u[14]*d[9]+u[15]*d[13],u[12]*d[2]+u[13]*d[6]+u[14]*d[10]+u[15]*d[14],u[12]*d[3]+u[13]*d[7]+u[14]*d[11]+u[15]*d[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,u){var d=h.val,f=u.val,c=d[0],g=d[4],m=d[8],y=d[12],x=d[1],T=d[5],C=d[9],A=d[13],w=d[2],P=d[6],M=d[10],R=d[14],O=d[3],U=d[7],X=d[11],W=d[15],Y=f[0],N=f[4],z=f[8],B=f[12],I=f[1],G=f[5],H=f[9],K=f[13],Z=f[2],Q=f[6],j=f[10],_=f[14],tt=f[3],et=f[7],rt=f[11],at=f[15];return this.setValues(c*Y+g*I+m*Z+y*tt,x*Y+T*I+C*Z+A*tt,w*Y+P*I+M*Z+R*tt,O*Y+U*I+X*Z+W*tt,c*N+g*G+m*Q+y*et,x*N+T*G+C*Q+A*et,w*N+P*G+M*Q+R*et,O*N+U*G+X*Q+W*et,c*z+g*H+m*j+y*rt,x*z+T*H+C*j+A*rt,w*z+P*H+M*j+R*rt,O*z+U*H+X*j+W*rt,c*B+g*K+m*_+y*at,x*B+T*K+C*_+A*at,w*B+P*K+M*_+R*at,O*B+U*K+X*_+W*at)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,u,d){var f=this.val;return f[12]=f[0]*h+f[4]*u+f[8]*d+f[12],f[13]=f[1]*h+f[5]*u+f[9]*d+f[13],f[14]=f[2]*h+f[6]*u+f[10]*d+f[14],f[15]=f[3]*h+f[7]*u+f[11]*d+f[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,u,d){var f=this.val;return f[0]=f[0]*h,f[1]=f[1]*h,f[2]=f[2]*h,f[3]=f[3]*h,f[4]=f[4]*u,f[5]=f[5]*u,f[6]=f[6]*u,f[7]=f[7]*u,f[8]=f[8]*d,f[9]=f[9]*d,f[10]=f[10]*d,f[11]=f[11]*d,this},makeRotationAxis:function(h,u){var d=Math.cos(u),f=Math.sin(u),c=1-d,g=h.x,m=h.y,y=h.z,x=c*g,T=c*m;return this.setValues(x*g+d,x*m-f*y,x*y+f*m,0,x*m+f*y,T*m+d,T*y-f*g,0,x*y-f*m,T*y+f*g,c*y*y+d,0,0,0,0,1)},rotate:function(h,u){var d=this.val,f=u.x,c=u.y,g=u.z,m=Math.sqrt(f*f+c*c+g*g);if(Math.abs(m)<a)return this;m=1/m,f*=m,c*=m,g*=m;var y=Math.sin(h),x=Math.cos(h),T=1-x,C=d[0],A=d[1],w=d[2],P=d[3],M=d[4],R=d[5],O=d[6],U=d[7],X=d[8],W=d[9],Y=d[10],N=d[11],z=d[12],B=d[13],I=d[14],G=d[15],H=f*f*T+x,K=c*f*T+g*y,Z=g*f*T-c*y,Q=f*c*T-g*y,j=c*c*T+x,_=g*c*T+f*y,tt=f*g*T+c*y,et=c*g*T-f*y,rt=g*g*T+x;return this.setValues(C*H+M*K+X*Z,A*H+R*K+W*Z,w*H+O*K+Y*Z,P*H+U*K+N*Z,C*Q+M*j+X*_,A*Q+R*j+W*_,w*Q+O*j+Y*_,P*Q+U*j+N*_,C*tt+M*et+X*rt,A*tt+R*et+W*rt,w*tt+O*et+Y*rt,P*tt+U*et+N*rt,z,B,I,G)},rotateX:function(h){var u=this.val,d=Math.sin(h),f=Math.cos(h),c=u[4],g=u[5],m=u[6],y=u[7],x=u[8],T=u[9],C=u[10],A=u[11];return u[4]=c*f+x*d,u[5]=g*f+T*d,u[6]=m*f+C*d,u[7]=y*f+A*d,u[8]=x*f-c*d,u[9]=T*f-g*d,u[10]=C*f-m*d,u[11]=A*f-y*d,this},rotateY:function(h){var u=this.val,d=Math.sin(h),f=Math.cos(h),c=u[0],g=u[1],m=u[2],y=u[3],x=u[8],T=u[9],C=u[10],A=u[11];return u[0]=c*f-x*d,u[1]=g*f-T*d,u[2]=m*f-C*d,u[3]=y*f-A*d,u[8]=c*d+x*f,u[9]=g*d+T*f,u[10]=m*d+C*f,u[11]=y*d+A*f,this},rotateZ:function(h){var u=this.val,d=Math.sin(h),f=Math.cos(h),c=u[0],g=u[1],m=u[2],y=u[3],x=u[4],T=u[5],C=u[6],A=u[7];return u[0]=c*f+x*d,u[1]=g*f+T*d,u[2]=m*f+C*d,u[3]=y*f+A*d,u[4]=x*f-c*d,u[5]=T*f-g*d,u[6]=C*f-m*d,u[7]=A*f-y*d,this},fromRotationTranslation:function(h,u){var d=h.x,f=h.y,c=h.z,g=h.w,m=d+d,y=f+f,x=c+c,T=d*m,C=d*y,A=d*x,w=f*y,P=f*x,M=c*x,R=g*m,O=g*y,U=g*x;return this.setValues(1-(w+M),C+U,A-O,0,C-U,1-(T+M),P+R,0,A+O,P-R,1-(T+w),0,u.x,u.y,u.z,1)},fromQuat:function(h){var u=h.x,d=h.y,f=h.z,c=h.w,g=u+u,m=d+d,y=f+f,x=u*g,T=u*m,C=u*y,A=d*m,w=d*y,P=f*y,M=c*g,R=c*m,O=c*y;return this.setValues(1-(A+P),T+O,C-R,0,T-O,1-(x+P),w+M,0,C+R,w-M,1-(x+A),0,0,0,0,1)},frustum:function(h,u,d,f,c,g){var m=1/(u-h),y=1/(f-d),x=1/(c-g);return this.setValues(c*2*m,0,0,0,0,c*2*y,0,0,(u+h)*m,(f+d)*y,(g+c)*x,-1,0,0,g*c*2*x,0)},perspective:function(h,u,d,f){var c=1/Math.tan(h/2),g=1/(d-f);return this.setValues(c/u,0,0,0,0,c,0,0,0,0,(f+d)*g,-1,0,0,2*f*d*g,0)},perspectiveLH:function(h,u,d,f){return this.setValues(2*d/h,0,0,0,0,2*d/u,0,0,0,0,-f/(d-f),1,0,0,d*f/(d-f),0)},ortho:function(h,u,d,f,c,g){var m=h-u,y=d-f,x=c-g;return m=m===0?m:1/m,y=y===0?y:1/y,x=x===0?x:1/x,this.setValues(-2*m,0,0,0,0,-2*y,0,0,0,0,2*x,0,(h+u)*m,(f+d)*y,(g+c)*x,1)},lookAtRH:function(h,u,d){var f=this.val;return i.subVectors(h,u),i.lengthSq()===0&&(i.z=1),i.normalize(),s.crossVectors(d,i),s.lengthSq()===0&&(Math.abs(d.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(d,i)),s.normalize(),o.crossVectors(i,s),f[0]=s.x,f[1]=s.y,f[2]=s.z,f[4]=o.x,f[5]=o.y,f[6]=o.z,f[8]=i.x,f[9]=i.y,f[10]=i.z,this},lookAt:function(h,u,d){var f=h.x,c=h.y,g=h.z,m=d.x,y=d.y,x=d.z,T=u.x,C=u.y,A=u.z;if(Math.abs(f-T)<a&&Math.abs(c-C)<a&&Math.abs(g-A)<a)return this.identity();var w=f-T,P=c-C,M=g-A,R=1/Math.sqrt(w*w+P*P+M*M);w*=R,P*=R,M*=R;var O=y*M-x*P,U=x*w-m*M,X=m*P-y*w;R=Math.sqrt(O*O+U*U+X*X),R?(R=1/R,O*=R,U*=R,X*=R):(O=0,U=0,X=0);var W=P*X-M*U,Y=M*O-w*X,N=w*U-P*O;return R=Math.sqrt(W*W+Y*Y+N*N),R?(R=1/R,W*=R,Y*=R,N*=R):(W=0,Y=0,N=0),this.setValues(O,W,w,0,U,Y,P,0,X,N,M,0,-(O*f+U*c+X*g),-(W*f+Y*c+N*g),-(w*f+P*c+M*g),1)},yawPitchRoll:function(h,u,d){this.zero(),n.zero(),e.zero();var f=this.val,c=n.val,g=e.val,m=Math.sin(d),y=Math.cos(d);return f[10]=1,f[15]=1,f[0]=y,f[1]=m,f[4]=-m,f[5]=y,m=Math.sin(u),y=Math.cos(u),c[0]=1,c[15]=1,c[5]=y,c[10]=y,c[9]=-m,c[6]=m,m=Math.sin(h),y=Math.cos(h),g[5]=1,g[15]=1,g[0]=y,g[2]=-m,g[8]=m,g[10]=y,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(h,u,d,f,c){return this.yawPitchRoll(h.y,h.x,h.z),n.scaling(d.x,d.y,d.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(n),this.multiplyLocal(e),f&&this.multiplyLocal(f),c&&this.multiplyLocal(c),this},multiplyToMat4:function(h,u){var d=this.val,f=h.val,c=d[0],g=d[1],m=d[2],y=d[3],x=d[4],T=d[5],C=d[6],A=d[7],w=d[8],P=d[9],M=d[10],R=d[11],O=d[12],U=d[13],X=d[14],W=d[15],Y=f[0],N=f[1],z=f[2],B=f[3],I=f[4],G=f[5],H=f[6],K=f[7],Z=f[8],Q=f[9],j=f[10],_=f[11],tt=f[12],et=f[13],rt=f[14],at=f[15];return u.setValues(Y*c+N*x+z*w+B*O,N*g+N*T+z*P+B*U,z*m+N*C+z*M+B*X,B*y+N*A+z*R+B*W,I*c+G*x+H*w+K*O,I*g+G*T+H*P+K*U,I*m+G*C+H*M+K*X,I*y+G*A+H*R+K*W,Z*c+Q*x+j*w+_*O,Z*g+Q*T+j*P+_*U,Z*m+Q*C+j*M+_*X,Z*y+Q*A+j*R+_*W,tt*c+et*x+rt*w+at*O,tt*g+et*T+rt*P+at*U,tt*m+et*C+rt*M+at*X,tt*y+et*A+rt*R+at*W)},fromRotationXYTranslation:function(h,u,d){var f=u.x,c=u.y,g=u.z,m=Math.sin(h.x),y=Math.cos(h.x),x=Math.sin(h.y),T=Math.cos(h.y),C=f,A=c,w=g,P=-m,M=0-P*x,R=0-y*x,O=P*T,U=y*T;return d||(C=T*f+x*g,A=M*f+y*c+O*g,w=R*f+m*c+U*g),this.setValues(T,M,R,0,0,y,m,0,x,O,U,0,C,A,w,1)},getMaxScaleOnAxis:function(){var h=this.val,u=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],d=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],f=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(u,d,f))}}),n=new r,e=new r,s=new v,o=new v,i=new v;p.exports=r},86883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return Math.min(t+l,v)};p.exports=S},50040:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=t.length;if(l===0)return 0;t.sort(function(a,r){return a-r});var v=Math.floor(l/2);return l%2===0?(t[v]+t[v-1])/2:t[v]};p.exports=S},37204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return Math.max(t-l,v)};p.exports=S},65201:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){v===void 0&&(v=l+1);var r=(t-l)/(v-l);return r>1?a!==void 0?(r=(a-t)/(a-v),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=S},15746:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(94434),a=t(29747),r=t(25836),n=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),o=new r(1,0,0),i=new r(0,1,0),h=new r,u=new v,d=new l({initialize:function(c,g,m,y){this.onChangeCallback=a,this.set(c,g,m,y)},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f,this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,c,g,m,y){return y===void 0&&(y=!0),typeof f=="object"?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=c||0,this._z=g||0,this._w=m||0),y&&this.onChangeCallback(this),this},add:function(f){return this._x+=f.x,this._y+=f.y,this._z+=f.z,this._w+=f.w,this.onChangeCallback(this),this},subtract:function(f){return this._x-=f.x,this._y-=f.y,this._z-=f.z,this._w-=f.w,this.onChangeCallback(this),this},scale:function(f){return this._x*=f,this._y*=f,this._z*=f,this._w*=f,this.onChangeCallback(this),this},length:function(){var f=this.x,c=this.y,g=this.z,m=this.w;return Math.sqrt(f*f+c*c+g*g+m*m)},lengthSq:function(){var f=this.x,c=this.y,g=this.z,m=this.w;return f*f+c*c+g*g+m*m},normalize:function(){var f=this.x,c=this.y,g=this.z,m=this.w,y=f*f+c*c+g*g+m*m;return y>0&&(y=1/Math.sqrt(y),this._x=f*y,this._y=c*y,this._z=g*y,this._w=m*y),this.onChangeCallback(this),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,c){c===void 0&&(c=0);var g=this.x,m=this.y,y=this.z,x=this.w;return this.set(g+c*(f.x-g),m+c*(f.y-m),y+c*(f.z-y),x+c*(f.w-x))},rotationTo:function(f,c){var g=f.x*c.x+f.y*c.y+f.z*c.z;return g<-.999999?(h.copy(o).cross(f).length()<n&&h.copy(i).cross(f),h.normalize(),this.setAxisAngle(h,Math.PI)):g>.999999?this.set(0,0,0,1):(h.copy(f).cross(c),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(f,c,g){var m=u.val;return m[0]=c.x,m[3]=c.y,m[6]=c.z,m[1]=g.x,m[4]=g.y,m[7]=g.z,m[2]=-f.x,m[5]=-f.y,m[8]=-f.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,c){c=c*.5;var g=Math.sin(c);return this.set(g*f.x,g*f.y,g*f.z,Math.cos(c))},multiply:function(f){var c=this.x,g=this.y,m=this.z,y=this.w,x=f.x,T=f.y,C=f.z,A=f.w;return this.set(c*A+y*x+g*C-m*T,g*A+y*T+m*x-c*C,m*A+y*C+c*T-g*x,y*A-c*x-g*T-m*C)},slerp:function(f,c){var g=this.x,m=this.y,y=this.z,x=this.w,T=f.x,C=f.y,A=f.z,w=f.w,P=g*T+m*C+y*A+x*w;P<0&&(P=-P,T=-T,C=-C,A=-A,w=-w);var M=1-c,R=c;if(1-P>n){var O=Math.acos(P),U=Math.sin(O);M=Math.sin((1-c)*O)/U,R=Math.sin(c*O)/U}return this.set(M*g+R*T,M*m+R*C,M*y+R*A,M*x+R*w)},invert:function(){var f=this.x,c=this.y,g=this.z,m=this.w,y=f*f+c*c+g*g+m*m,x=y?1/y:0;return this.set(-f*x,-c*x,-g*x,m*x)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,x=Math.sin(f),T=Math.cos(f);return this.set(c*T+y*x,g*T+m*x,m*T-g*x,y*T-c*x)},rotateY:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,x=Math.sin(f),T=Math.cos(f);return this.set(c*T-m*x,g*T+y*x,m*T+c*x,y*T-g*x)},rotateZ:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,y=this.w,x=Math.sin(f),T=Math.cos(f);return this.set(c*T+g*x,g*T-c*x,m*T+y*x,y*T-m*x)},calculateW:function(){var f=this.x,c=this.y,g=this.z;return this.w=-Math.sqrt(1-f*f-c*c-g*g),this},setFromEuler:function(f,c){var g=f.x/2,m=f.y/2,y=f.z/2,x=Math.cos(g),T=Math.cos(m),C=Math.cos(y),A=Math.sin(g),w=Math.sin(m),P=Math.sin(y);switch(f.order){case"XYZ":{this.set(A*T*C+x*w*P,x*w*C-A*T*P,x*T*P+A*w*C,x*T*C-A*w*P,c);break}case"YXZ":{this.set(A*T*C+x*w*P,x*w*C-A*T*P,x*T*P-A*w*C,x*T*C+A*w*P,c);break}case"ZXY":{this.set(A*T*C-x*w*P,x*w*C+A*T*P,x*T*P+A*w*C,x*T*C-A*w*P,c);break}case"ZYX":{this.set(A*T*C-x*w*P,x*w*C+A*T*P,x*T*P-A*w*C,x*T*C+A*w*P,c);break}case"YZX":{this.set(A*T*C+x*w*P,x*w*C+A*T*P,x*T*P-A*w*C,x*T*C-A*w*P,c);break}case"XZY":{this.set(A*T*C-x*w*P,x*w*C-A*T*P,x*T*P+A*w*C,x*T*C+A*w*P,c);break}}return this},setFromRotationMatrix:function(f){var c=f.val,g=c[0],m=c[4],y=c[8],x=c[1],T=c[5],C=c[9],A=c[2],w=c[6],P=c[10],M=g+T+P,R;return M>0?(R=.5/Math.sqrt(M+1),this.set((w-C)*R,(y-A)*R,(x-m)*R,.25/R)):g>T&&g>P?(R=2*Math.sqrt(1+g-T-P),this.set(.25*R,(m+x)/R,(y+A)/R,(w-C)/R)):T>P?(R=2*Math.sqrt(1+T-g-P),this.set((m+x)/R,.25*R,(C+w)/R,(y-A)/R)):(R=2*Math.sqrt(1+P-g-T),this.set((y+A)/R,(C+w)/R,.25*R,(x-m)/R)),this},fromMat3:function(f){var c=f.val,g=c[0]+c[4]+c[8],m;if(g>0)m=Math.sqrt(g+1),this.w=.5*m,m=.5/m,this._x=(c[7]-c[5])*m,this._y=(c[2]-c[6])*m,this._z=(c[3]-c[1])*m;else{var y=0;c[4]>c[0]&&(y=1),c[8]>c[y*3+y]&&(y=2);var x=e[y],T=e[x];m=Math.sqrt(c[y*3+y]-c[x*3+x]-c[T*3+T]+1),s[y]=.5*m,m=.5/m,s[x]=(c[x*3+y]+c[y*3+x])*m,s[T]=(c[T*3+y]+c[y*3+T])*m,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(c[T*3+x]-c[x*3+T])*m}return this.onChangeCallback(this),this}});p.exports=d},43396:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a){return a*l.RAD_TO_DEG};p.exports=v},74362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);var v=Math.random()*2*Math.PI;return t.x=Math.cos(v)*l,t.y=Math.sin(v)*l,t};p.exports=S},60706:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);var v=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*l;return t.x=Math.cos(v)*r,t.y=Math.sin(v)*r,t.z=a*l,t};p.exports=S},67421:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1),t.x=(Math.random()*2-1)*l,t.y=(Math.random()*2-1)*l,t.z=(Math.random()*2-1)*l,t.w=(Math.random()*2-1)*l,t};p.exports=S},36305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.x,a=t.y;return t.x=v*Math.cos(l)-a*Math.sin(l),t.y=v*Math.sin(l)+a*Math.cos(l),t};p.exports=S},11520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=Math.cos(a),n=Math.sin(a),e=t.x-l,s=t.y-v;return t.x=e*r-s*n+l,t.y=e*n+s*r+v,t};p.exports=S},1163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){var n=a+Math.atan2(t.y-v,t.x-l);return t.x=l+r*Math.cos(n),t.y=v+r*Math.sin(n),t};p.exports=S},70336:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){return t.x=l+r*Math.cos(a),t.y=v+r*Math.sin(a),t};p.exports=S},72678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25836),v=t(37867),a=t(15746),r=new v,n=new a,e=new l,s=function(o,i,h){return n.setAxisAngle(i,h),r.fromRotationTranslation(n,e.set(0,0,0)),o.transformMat4(r)};p.exports=s},2284:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=S},41013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=10);var a=Math.pow(v,-l);return Math.round(t*a)/a};p.exports=S},16922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){l===void 0&&(l=1),v===void 0&&(v=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],n=[],e=0;e<t;e++)v-=l*a,l+=v*a,r[e]=v,n[e]=l;return{sin:n,cos:r,length:t}};p.exports=S},7602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t<=l?0:t>=v?1:(t=(t-l)/(v-l),t*t*(3-2*t))};p.exports=S},54261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t=Math.max(0,Math.min(1,(t-l)/(v-l))),t*t*t*(t*(t*6-15)+10)};p.exports=S},44408:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e){e===void 0&&(e=new l);var s=0,o=0,i=r*n;return a>0&&a<=i&&(a>r-1?(o=Math.floor(a/r),s=a-o*r):s=a),e.set(s,o)};p.exports=v},85955:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s,o,i,h){h===void 0&&(h=new l);var u=Math.sin(s),d=Math.cos(s),f=d*o,c=u*o,g=-u*i,m=d*i,y=1/(f*m+g*-c);return h.x=m*y*a+-g*y*r+(e*g-n*m)*y,h.y=f*y*r+-c*y*a+(-e*f+n*c)*y,h};p.exports=v},26099:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(43855),a=new l({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setTo:function(r,n){return this.set(r,n)},setToPolar:function(r,n){return n==null&&(n=1),this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,n){return v(this.x,r.x,n)&&v(this.y,r.y,n)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var n=r.x-this.x,e=r.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(r){var n=r.x-this.x,e=r.y-this.y;return n*n+e*e},length:function(){var r=this.x,n=this.y;return Math.sqrt(r*r+n*n)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,n=this.y;return r*r+n*n},normalize:function(){var r=this.x,n=this.y,e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,n){n===void 0&&(n=0);var e=this.x,s=this.y;return this.x=e+n*(r.x-e),this.y=s+n*(r.y-s),this},transformMat3:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[3]*e+s[6],this.y=s[1]*n+s[4]*e+s[7],this},transformMat4:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[4]*e+s[12],this.y=s[1]*n+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var n=this.length();return n&&n>r&&this.scale(r/n),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var n=Math.cos(r),e=Math.sin(r);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(r){var n=this.dot(r)/r.dot(r);return this.copy(r).scale(n)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),p.exports=a},25836:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},subVectors:function(a,r){return this.x=a.x-r.x,this.y=a.y-r.y,this.z=a.z-r.z,this},crossVectors:function(a,r){var n=a.x,e=a.y,s=a.z,o=r.x,i=r.y,h=r.z;return this.x=e*h-s*i,this.y=s*o-n*h,this.z=n*i-e*o,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,n){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=n||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+n*n+e*e)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return r*r+n*n+e*e},length:function(){var a=this.x,r=this.y,n=this.z;return Math.sqrt(a*a+r*r+n*n)},lengthSq:function(){var a=this.x,r=this.y,n=this.z;return a*a+r*r+n*n},normalize:function(){var a=this.x,r=this.y,n=this.z,e=a*a+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=n*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z;return this.x=n*i-e*o,this.y=e*s-r*i,this.z=r*o-n*s,this},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this},applyMatrix3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[3]*n+s[6]*e,this.y=s[1]*r+s[4]*n+s[7]*e,this.z=s[2]*r+s[5]*n+s[8]*e,this},applyMatrix4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=1/(s[3]*r+s[7]*n+s[11]*e+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*e+s[12])*o,this.y=(s[1]*r+s[5]*n+s[9]*e+s[13])*o,this.z=(s[2]*r+s[6]*n+s[10]*e+s[14])*o,this},transformMat3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=r*s[0]+n*s[3]+e*s[6],this.y=r*s[1]+n*s[4]+e*s[7],this.z=r*s[2]+n*s[5]+e*s[8],this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[4]*n+s[8]*e+s[12],this.y=s[1]*r+s[5]*n+s[9]*e+s[13],this.z=s[2]*r+s[6]*n+s[10]*e+s[14],this},transformCoordinates:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=r*s[0]+n*s[4]+e*s[8]+s[12],i=r*s[1]+n*s[5]+e*s[9]+s[13],h=r*s[2]+n*s[6]+e*s[10]+s[14],u=r*s[3]+n*s[7]+e*s[11]+s[15];return this.x=o/u,this.y=i/u,this.z=h/u,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z,h=a.w,u=h*r+o*e-i*n,d=h*n+i*r-s*e,f=h*e+s*n-o*r,c=-s*r-o*n-i*e;return this.x=u*h+c*-s+d*-i-f*-o,this.y=d*h+c*-o+f*-s-u*-i,this.z=f*h+c*-i+u*-o-d*-s,this},project:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,o=s[0],i=s[1],h=s[2],u=s[3],d=s[4],f=s[5],c=s[6],g=s[7],m=s[8],y=s[9],x=s[10],T=s[11],C=s[12],A=s[13],w=s[14],P=s[15],M=1/(r*u+n*g+e*T+P);return this.x=(r*o+n*d+e*m+C)*M,this.y=(r*i+n*f+e*y+A)*M,this.z=(r*h+n*c+e*x+w)*M,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var n=a.x,e=a.y,s=a.z,o=a.w,i=this.x-n,h=o-this.y-1-e,u=this.z;return this.x=2*i/s-1,this.y=2*h/o-1,this.z=2*u-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),p.exports=v},61369:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=e||0,this.w=s||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,n,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=n||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return Math.sqrt(a*a+r*r+n*n+e*e)},lengthSq:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return a*a+r*r+n*n+e*e},normalize:function(){var a=this.x,r=this.y,n=this.z,e=this.w,s=a*a+r*r+n*n+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=a*s,this.y=r*s,this.z=n*s,this.w=e*s),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z,o=this.w;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this.w=o+r*(a.w-o),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return Math.sqrt(r*r+n*n+e*e+s*s)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return r*r+n*n+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=this.w,o=a.val;return this.x=o[0]*r+o[4]*n+o[8]*e+o[12]*s,this.y=o[1]*r+o[5]*n+o[9]*e+o[13]*s,this.z=o[2]*r+o[6]*n+o[10]*e+o[14]*s,this.w=o[3]*r+o[7]*n+o[11]*e+o[15]*s,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,o=a.y,i=a.z,h=a.w,u=h*r+o*e-i*n,d=h*n+i*r-s*e,f=h*e+s*n-o*r,c=-s*r-o*n-i*e;return this.x=u*h+c*-s+d*-i-f*-o,this.y=d*h+c*-o+f*-s-u*-i,this.z=f*h+c*-i+u*-o-d*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,p.exports=v},60417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return Math.abs(t-l)<=v};p.exports=S},15994:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=v-l;return l+((t-l)%a+a)%a};p.exports=S},31040:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return Math.atan2(a-l,v-t)};p.exports=S},55495:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)};p.exports=S},128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return Math.atan2(l.x-t.x,l.y-t.y)};p.exports=S},41273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return Math.atan2(v-t,a-l)};p.exports=S},1432:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a){return a>Math.PI&&(a-=l.PI2),Math.abs(((a+l.TAU)%l.PI2-l.PI2)%l.PI2)};p.exports=v},12407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=S},53993:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99472),v=function(){return l(-Math.PI,Math.PI)};p.exports=v},86564:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99472),v=function(){return l(-180,180)};p.exports=v},90154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12407),v=function(a){return l(a+Math.PI)};p.exports=v},48736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=function(a,r,n){return n===void 0&&(n=.05),a===r||(Math.abs(r-a)<=n||Math.abs(r-a)>=l.PI2-n?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=l.PI2:r-=l.PI2),r>a?a+=n:r<a&&(a-=n))),a};p.exports=v},61430:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=l-t;if(v===0)return 0;var a=Math.floor((v- -180)/360);return v-a*360};p.exports=S},86554:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),v=function(a){return l(a,-Math.PI,Math.PI)};p.exports=v},30954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15994),v=function(a){return l(a,-180,180)};p.exports=v},25588:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=S},20339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=t-v,n=l-a;return Math.sqrt(r*r+n*n)};p.exports=S},52816:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.x-l.x,a=t.y-l.y;return Math.sqrt(v*v+a*a)};p.exports=S},64559:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.x-l.x,a=t.y-l.y;return v*v+a*a};p.exports=S},82340:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return Math.max(Math.abs(t-v),Math.abs(l-a))};p.exports=S},14390:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(v-t,r)+Math.pow(a-l,r))};p.exports=S},2243:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return Math.abs(t-v)+Math.abs(l-a)};p.exports=S},89774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=t-v,n=l-a;return r*r+n*n};p.exports=S},50994:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54178),v=t(41521),a=t(79980),r=t(85433),n=t(99140),e=t(48857),s=t(81596),o=t(59133),i=t(98516),h=t(35248),u=t(82500),d=t(49752);p.exports={Power0:s,Power1:o.Out,Power2:r.Out,Power3:i.Out,Power4:h.Out,Linear:s,Quad:o.Out,Cubic:r.Out,Quart:i.Out,Quint:h.Out,Sine:u.Out,Expo:e.Out,Circ:a.Out,Elastic:n.Out,Back:l.Out,Bounce:v.Out,Stepped:d,"Quad.easeIn":o.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":h.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":n.In,"Back.easeIn":l.In,"Bounce.easeIn":v.In,"Quad.easeOut":o.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":h.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":n.Out,"Back.easeOut":l.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":o.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":v.InOut}},1639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1.70158),t*t*((l+1)*t-l)};p.exports=S},50099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1.70158);var v=l*1.525;return(t*=2)<1?.5*(t*t*((v+1)*t-v)):.5*((t-=2)*t*((v+1)*t+v)+2)};p.exports=S},41286:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1.70158),--t*t*((l+1)*t+l)+1};p.exports=S},54178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=S},41788:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=!1;return t<.5?(t=1-t*2,l=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,l?(1-t)*.5:t*.5+.5};p.exports=S},69905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=S},41521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};p.exports=S},4177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=S},57512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};p.exports=S},79980:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};p.exports=S},82820:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=S},35033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};p.exports=S},85433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(l===void 0&&(l=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return l<1?l=1:a=v*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v))};p.exports=S},50665:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(l===void 0&&(l=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return l<1?l=1:a=v*Math.asin(1/l)/(2*Math.PI),(t*=2)<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)):l*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/v)*.5+1};p.exports=S},7744:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(l===void 0&&(l=.1),v===void 0&&(v=.1),t===0)return 0;if(t===1)return 1;var a=v/4;return l<1?l=1:a=v*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/v)+1};p.exports=S},99140:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=S},87844:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=S},89433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};p.exports=S},48857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};p.exports=S},81596:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(7147)},34826:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};p.exports=S},20544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=S},92029:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};p.exports=S},59133:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};p.exports=S},78137:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=S},45840:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};p.exports=S},98516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};p.exports=S},16509:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=S},17868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};p.exports=S},35248:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=S},34025:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=S},52768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=S},82500:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1),t<=0?0:t>=1?1:((l*t|0)+1)*(1/l)};p.exports=S},49752:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(72251)},75698:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1e-4),Math.ceil(t-l)};p.exports=S},43855:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return v===void 0&&(v=1e-4),Math.abs(t-l)<v};p.exports=S},25777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l=1e-4),Math.floor(t+l)};p.exports=S},5470:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return v===void 0&&(v=1e-4),t>l-v};p.exports=S},94977:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return v===void 0&&(v=1e-4),t<l+v};p.exports=S},48379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36383),v=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=v(!1,a,l),p.exports=a},89318:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85710),v=function(a,r){for(var n=0,e=a.length-1,s=0;s<=e;s++)n+=Math.pow(1-r,e-s)*Math.pow(r,s)*a[s]*l(e,s);return n};p.exports=v},77259:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87842),v=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return a[0]===a[n]?(r<0&&(s=Math.floor(e=n*(1+r))),l(e-s,a[(s-1+n)%n],a[s],a[(s+1)%n],a[(s+2)%n])):r<0?a[0]-(l(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[n]-(l(e-n,a[n],a[n],a[n-1],a[n-1])-a[n]):l(e-s,a[s?s-1:0],a[s],a[n<s+1?n:s+1],a[n<s+2?n:s+2])};p.exports=v},36316:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r,n){var e=1-r;return e*e*e*n}function t(r,n){var e=1-r;return 3*e*e*r*n}function l(r,n){return 3*(1-r)*r*r*n}function v(r,n){return r*r*r*n}var a=function(r,n,e,s,o){return S(r,n)+t(r,e)+l(r,s)+v(r,o)};p.exports=a},28392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28915),v=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return r<0?l(a[0],a[1],e):r>1?l(a[n],a[n-1],n-e):l(a[s],a[s+1>n?n:s+1],e-s)};p.exports=v},32112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var n=1-a;return n*n*r}function t(a,r){return 2*(1-a)*a*r}function l(a,r){return a*a*r}var v=function(a,r,n,e){return S(a,r)+t(a,n)+l(a,e)};p.exports=v},47235:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7602),v=function(a,r,n){return r+(n-r)*l(a,0,1)};p.exports=v},50178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(54261),v=function(a,r,n){return r+(n-r)*l(a,0,1)};p.exports=v},38289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=Math.log(t)/.6931471805599453;return 1<<Math.ceil(l)};p.exports=S},50030:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t>0&&(t&t-1)===0&&l>0&&(l&l-1)===0};p.exports=S},81230:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};p.exports=S},49001:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,n=this.n;a=a.toString();for(var e=0;e<a.length;e++)n+=a.charCodeAt(e),r=.02519603282416938*n,n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var n=a[r];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,n=r;n>0;n--){var e=Math.floor(this.frac()*(n+1)),s=a[e];a[e]=a[n],a[n]=s}return a}});p.exports=v},63448:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return v===void 0&&(v=0),l===0?t:(t-=v,t=l*Math.ceil(t/l),a?(v+t)/l:v+t)};p.exports=S},56583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return v===void 0&&(v=0),l===0?t:(t-=v,t=l*Math.floor(t/l),a?(v+t)/l:v+t)};p.exports=S},77720:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){return v===void 0&&(v=0),l===0?t:(t-=v,t=l*Math.round(t/l),a?(v+t)/l:v+t)};p.exports=S},73697:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var l=t(8054),v=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=v(!1,a,l),p.exports=a,t.g.Phaser=a},71289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92209),a=t(88571),r=new l({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,s,o,i,h){a.call(this,e,s,o,i,h),this.body=null}});p.exports=r},86689:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(39506),a=t(20339),r=t(89774),n=t(66022),e=t(95540),s=t(46975),o=t(72441),i=t(47956),h=t(37277),u=t(44594),d=t(26099),f=t(82248),c=new l({initialize:function(m){this.scene=m,this.systems=m.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,m.sys.events.once(u.BOOT,this.boot,this),m.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new n(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(u.UPDATE,this.world.update,this.world),g.on(u.POST_UPDATE,this.world.postUpdate,this.world),g.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,m=this.systems.settings.physics,y=s(e(m,"arcade",{}),e(g,"arcade",{}));return y},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(g,m,y,x,T){return y===void 0&&(y=null),x===void 0&&(x=null),T===void 0&&(T=y),this.world.collideObjects(g,m,y,x,T,!0)},collide:function(g,m,y,x,T){return y===void 0&&(y=null),x===void 0&&(x=null),T===void 0&&(T=y),this.world.collideObjects(g,m,y,x,T,!1)},collideTiles:function(g,m,y,x,T){return this.world.collideTiles(g,m,y,x,T)},overlapTiles:function(g,m,y,x,T){return this.world.overlapTiles(g,m,y,x,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,m,y,x,T,C){x===void 0&&(x=60);var A=Math.atan2(y-g.y,m-g.x);return g.body.acceleration.setToPolar(A,x),T!==void 0&&C!==void 0&&g.body.maxVelocity.set(T,C),A},accelerateToObject:function(g,m,y,x,T){return this.accelerateTo(g,m.x,m.y,y,x,T)},closest:function(g,m){m||(m=this.world.bodies.entries);for(var y=Number.MAX_VALUE,x=null,T=g.x,C=g.y,A=m.length,w=0;w<A;w++){var P=m[w],M=P.body||P;if(!(g===P||g===M||g===M.gameObject||g===M.center)){var R=r(T,C,M.center.x,M.center.y);R<y&&(x=P,y=R)}}return x},furthest:function(g,m){m||(m=this.world.bodies.entries);for(var y=-1,x=null,T=g.x,C=g.y,A=m.length,w=0;w<A;w++){var P=m[w],M=P.body||P;if(!(g===P||g===M||g===M.gameObject||g===M.center)){var R=r(T,C,M.center.x,M.center.y);R>y&&(x=P,y=R)}}return x},moveTo:function(g,m,y,x,T){x===void 0&&(x=60),T===void 0&&(T=0);var C=Math.atan2(y-g.y,m-g.x);return T>0&&(x=a(g.x,g.y,m,y)/(T/1e3)),g.body.velocity.setToPolar(C,x),C},moveToObject:function(g,m,y,x){return this.moveTo(g,m.x,m.y,y,x)},velocityFromAngle:function(g,m,y){return m===void 0&&(m=60),y===void 0&&(y=new d),y.setToPolar(v(g),m)},velocityFromRotation:function(g,m,y){return m===void 0&&(m=60),y===void 0&&(y=new d),y.setToPolar(g,m)},overlapRect:function(g,m,y,x,T,C){return i(this.world,g,m,y,x,T,C)},overlapCirc:function(g,m,y,x,T){return o(this.world,g,m,y,x,T)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(u.UPDATE,this.world.update,this.world),g.off(u.POST_UPDATE,this.world.postUpdate,this.world),g.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",c,"arcadePhysics"),p.exports=c},13759:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92209),a=t(68287),r=new l({Extends:a,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(e,s,o,i,h){a.call(this,e,s,o,i,h),this.body=null}});p.exports=r},37742:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(78389),a=t(37747),r=t(63012),n=t(43396),e=t(87841),s=t(37303),o=t(95829),i=t(26099),h=new l({Mixins:[v],initialize:function(d,f){var c=64,g=64,m={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(c=f.displayWidth,g=f.displayHeight),y||(f=m),this.world=d,this.gameObject=y?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=c,this.height=g,this.sourceWidth=c,this.sourceHeight=g,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(g/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,d=this.transform;if(u.parentContainer){var f=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=f.tx,d.y=f.ty,d.rotation=n(f.rotation),d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY}else d.x=u.x,d.y=u.y,d.rotation=u.angle,d.scaleX=u.scaleX,d.scaleY=u.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY;var c=!1;if(this.syncBounds){var g=u.getBounds(this._bounds);this.width=g.width,this.height=g.height,c=!0}else{var m=Math.abs(d.scaleX),y=Math.abs(d.scaleY);(this._sx!==m||this._sy!==y)&&(this.width=this.sourceWidth*m,this.height=this.sourceHeight*y,this._sx=m,this._sy=y,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var d=this.wasTouching,f=this.touching,c=this.blocked;u?o(!0,d):(d.none=f.none,d.up=f.up,d.down=f.down,d.left=f.left,d.right=f.right),o(!0,f),o(!0,c),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,d){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var f=this.position;this.prev.x=f.x,this.prev.y=f.y,this.prevFrame.x=f.x,this.prevFrame.y=f.y}u&&this.update(d)},update:function(u){var d=this.prev,f=this.position,c=this.velocity;if(d.set(f.x,f.y),!this.moves){this._dx=f.x-d.x,this._dy=f.y-d.y;return}if(this.directControl){var g=this.autoFrame;c.set((f.x-g.x)/u,(f.y-g.y)/u),this.world.updateMotion(this,u),this._dx=f.x-g.x,this._dy=f.y-g.y}else this.world.updateMotion(this,u),this.newVelocity.set(c.x*u,c.y*u),f.add(this.newVelocity),this._dx=f.x-d.x,this._dy=f.y-d.y;var m=c.x,y=c.y;if(this.updateCenter(),this.angle=Math.atan2(y,m),this.speed=Math.sqrt(m*m+y*y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var x=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,x.up,x.down,x.left,x.right)}},postUpdate:function(){var u=this.position,d=u.x-this.prevFrame.x,f=u.y-this.prevFrame.y,c=this.gameObject;if(this.moves){var g=this.deltaMax.x,m=this.deltaMax.y;g!==0&&d!==0&&(d<0&&d<-g?d=-g:d>0&&d>g&&(d=g)),m!==0&&f!==0&&(f<0&&f<-m?f=-m:f>0&&f>m&&(f=m)),c&&(c.x+=d,c.y+=f)}d<0?this.facing=a.FACING_LEFT:d>0&&(this.facing=a.FACING_RIGHT),f<0?this.facing=a.FACING_UP:f>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&c&&(c.angle+=this.deltaZ()),this._tx=d,this._ty=f,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,d=this.velocity,f=this.blocked,c=this.customBoundsRectangle,g=this.world.checkCollision,m=this.worldBounce?-this.worldBounce.x:-this.bounce.x,y=this.worldBounce?-this.worldBounce.y:-this.bounce.y,x=!1;return u.x<c.x&&g.left?(u.x=c.x,d.x*=m,f.left=!0,x=!0):this.right>c.right&&g.right&&(u.x=c.right-this.width,d.x*=m,f.right=!0,x=!0),u.y<c.y&&g.up?(u.y=c.y,d.y*=y,f.up=!0,x=!0):this.bottom>c.bottom&&g.down&&(u.y=c.bottom-this.height,d.y*=y,f.down=!0,x=!0),x&&(this.blocked.none=!1,this.updateCenter()),x},setOffset:function(u,d){return d===void 0&&(d=u),this.offset.set(u,d),this},setGameObject:function(u,d){if(d===void 0&&(d=!0),!u||!u.hasTransformComponent)return this;var f=this.world;return this.gameObject&&this.gameObject.body&&(f.disable(this.gameObject),this.gameObject.body=null),u.body&&f.disable(u),this.gameObject=u,u.body=this,this.setSize(),this.enable=d,this},setSize:function(u,d,f){f===void 0&&(f=!0);var c=this.gameObject;if(c&&(!u&&c.frame&&(u=c.frame.realWidth),!d&&c.frame&&(d=c.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&c&&c.getCenter){var g=(c.width-u)/2,m=(c.height-d)/2;this.offset.set(g,m)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,d,f){return d===void 0&&(d=this.offset.x),f===void 0&&(f=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,f),this.updateCenter()):this.isCircle=!1,this},reset:function(u,d){this.stop();var f=this.gameObject;f&&(f.setPosition(u,d),this.rotation=f.angle,this.preRotation=f.angle);var c=this.position;f&&f.getTopLeft?f.getTopLeft(c):c.set(u,d),this.prev.copy(c),this.prevFrame.copy(c),this.autoFrame.copy(c),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,d){if(!this.isCircle)return s(this,u,d);if(this.radius>0&&u>=this.left&&u<=this.right&&d>=this.top&&d<=this.bottom){var f=(this.center.x-u)*(this.center.x-u),c=(this.center.y-d)*(this.center.y-d);return f+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var d=this.position,f=d.x+this.halfWidth,c=d.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(f,c,this.width/2):(this.checkCollision.up&&u.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&u.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&u.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&u.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(f,c,f+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,d,f,c){u===void 0&&(u=!0),this.collideWorldBounds=u;var g=d!==void 0,m=f!==void 0;return(g||m)&&(this.worldBounce||(this.worldBounce=new i),g&&(this.worldBounce.x=d),m&&(this.worldBounce.y=f)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(u,d){return this.velocity.set(u,d),u=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(u*u+d*d),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,d){return this.maxVelocity.set(u,d),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,d){return this.slideFactor.set(u,d),this},setBounce:function(u,d){return this.bounce.set(u,d),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,d){return this.acceleration.set(u,d),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,d){return this.drag.set(u,d),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,d){return this.gravity.set(u,d),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,d){return this.friction.set(u,d),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,d,f,c){this.x+=u,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var g=this.blocked;f&&(g.left=!0,g.none=!1),c&&(g.right=!0,g.none=!1)},processY:function(u,d,f,c){this.y+=u,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var g=this.blocked;f&&(g.up=!0,g.none=!1),c&&(g.down=!0,g.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=h},79342:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e,s,o,i,h){this.world=r,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=s,this.collideCallback=o,this.processCallback=i,this.callbackContext=h},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=v},66022:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71289),v=t(13759),a=t(37742),r=t(83419),n=t(37747),e=t(60758),s=t(72624),o=t(71464),i=new r({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(h,u,d,f,c){return this.world.addCollider(h,u,d,f,c)},overlap:function(h,u,d,f,c){return this.world.addOverlap(h,u,d,f,c)},existing:function(h,u){var d=u?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(h,d),h},staticImage:function(h,u,d,f){var c=new l(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},image:function(h,u,d,f){var c=new l(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticSprite:function(h,u,d,f){var c=new v(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.STATIC_BODY),c},sprite:function(h,u,d,f){var c=new v(this.scene,h,u,d,f);return this.sys.displayList.add(c),this.sys.updateList.add(c),this.world.enableBody(c,n.DYNAMIC_BODY),c},staticGroup:function(h,u){return this.sys.updateList.add(new o(this.world,this.world.scene,h,u))},group:function(h,u){return this.sys.updateList.add(new e(this.world,this.world.scene,h,u))},body:function(h,u,d,f){var c=new a(this.world);return c.position.set(h,u),d&&f&&c.setSize(d,f),this.world.add(c,n.DYNAMIC_BODY),c},staticBody:function(h,u,d,f){var c=new s(this.world);return c.position.set(h,u),d&&f&&c.setSize(d,f),this.world.add(c,n.STATIC_BODY),c},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=i},79599:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=0;if(!Array.isArray(t))l=t;else for(var v=0;v<t.length;v++)l|=t[v];return l};p.exports=S},64897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),v=function(a,r,n,e){var s=0,o=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(s=a.right-r.x,s>o&&!n||a.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(s=a.x-r.width-r.x,-s>o&&!n||a.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=s,r.overlapX=s,s};p.exports=v},45170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),v=function(a,r,n,e){var s=0,o=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(s=a.bottom-r.y,s>o&&!n||a.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(s=a.y-r.bottom,-s>o&&!n||a.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===l.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===l.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=s,r.overlapY=s,s};p.exports=v},60758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13759),v=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),o=new v({Extends:e,Mixins:[a],initialize:function(h,u,d,f){if(!d&&!f)f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(s(d))f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&s(d[0])){var c=this;d.forEach(function(g){g.internalCreateCallback=c.createCallbackHandler,g.internalRemoveCallback=c.removeCallbackHandler,g.classType=n(g,"classType",l)}),f=null}else f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,f&&(f.classType=n(f,"classType",l)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:n(f,"collideWorldBounds",!1),setBoundsRectangle:n(f,"customBoundsRectangle",null),setAccelerationX:n(f,"accelerationX",0),setAccelerationY:n(f,"accelerationY",0),setAllowDrag:n(f,"allowDrag",!0),setAllowGravity:n(f,"allowGravity",!0),setAllowRotation:n(f,"allowRotation",!0),setDamping:n(f,"useDamping",!1),setBounceX:n(f,"bounceX",0),setBounceY:n(f,"bounceY",0),setDragX:n(f,"dragX",0),setDragY:n(f,"dragY",0),setEnable:n(f,"enable",!0),setGravityX:n(f,"gravityX",0),setGravityY:n(f,"gravityY",0),setFrictionX:n(f,"frictionX",0),setFrictionY:n(f,"frictionY",0),setMaxSpeed:n(f,"maxSpeed",-1),setMaxVelocityX:n(f,"maxVelocityX",1e4),setMaxVelocityY:n(f,"maxVelocityY",1e4),setVelocityX:n(f,"velocityX",0),setVelocityY:n(f,"velocityY",0),setAngularVelocity:n(f,"angularVelocity",0),setAngularAcceleration:n(f,"angularAcceleration",0),setAngularDrag:n(f,"angularDrag",0),setMass:n(f,"mass",1),setImmovable:n(f,"immovable",!1)},e.call(this,u,d,f),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var h=i.body;for(var u in this.defaults)h[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,h,u){u===void 0&&(u=0);for(var d=this.getChildren(),f=0;f<d.length;f++)d[f].body.velocity.set(i+f*u,h+f*u);return this},setVelocityX:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.x=i+d*h;return this},setVelocityY:function(i,h){h===void 0&&(h=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.y=i+d*h;return this}});p.exports=o},3017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,l,v,a,r,n,e,s,o,i,h,u,d,f,c,g,m=function(w,P,M){S=w,t=P;var R=S.velocity.x,O=t.velocity.x;return l=S.pushable,s=S._dx<0,o=S._dx>0,i=S._dx===0,f=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),n=O-R*S.bounce.x,v=t.pushable,h=t._dx<0,u=t._dx>0,d=t._dx===0,c=!f,e=R-O*t.bounce.x,g=Math.abs(M),y()},y=function(){return o&&f&&t.blocked.right?(S.processX(-g,n,!1,!0),1):s&&c&&t.blocked.left?(S.processX(g,n,!0),1):u&&c&&S.blocked.right?(t.processX(-g,e,!1,!0),2):h&&f&&S.blocked.left?(t.processX(g,e,!0),2):0},x=function(){var w=S.velocity.x,P=t.velocity.x,M=Math.sqrt(P*P*t.mass/S.mass)*(P>0?1:-1),R=Math.sqrt(w*w*S.mass/t.mass)*(w>0?1:-1),O=(M+R)*.5;return M-=O,R-=O,a=O+M*S.bounce.x,r=O+R*t.bounce.x,s&&c?T(0):h&&f?T(1):o&&f?T(2):u&&c?T(3):!1},T=function(w){if(l&&v)g*=.5,w===0||w===3?(S.processX(g,a),t.processX(-g,r)):(S.processX(-g,a),t.processX(g,r));else if(l&&!v)w===0||w===3?S.processX(g,n,!0):S.processX(-g,n,!1,!0);else if(!l&&v)w===0||w===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var P=g*.5;w===0?d?(S.processX(g,0,!0),t.processX(0,null,!1,!0)):u?(S.processX(P,0,!0),t.processX(-P,0,!1,!0)):(S.processX(P,t.velocity.x,!0),t.processX(-P,null,!1,!0)):w===1?i?(S.processX(0,null,!1,!0),t.processX(g,0,!0)):o?(S.processX(-P,0,!1,!0),t.processX(P,0,!0)):(S.processX(-P,null,!1,!0),t.processX(P,S.velocity.x,!0)):w===2?d?(S.processX(-g,0,!1,!0),t.processX(0,null,!0)):h?(S.processX(-P,0,!1,!0),t.processX(P,0,!0)):(S.processX(-P,t.velocity.x,!1,!0),t.processX(P,null,!0)):w===3&&(i?(S.processX(0,null,!0),t.processX(-g,0,!1,!0)):s?(S.processX(P,0,!0),t.processX(-P,0,!1,!0)):(S.processX(P,t.velocity.y,!0),t.processX(-P,null,!1,!0)))}return!0},C=function(w){if(w===1?t.velocity.x=0:f?t.processX(g,e,!0):t.processX(-g,e,!1,!0),S.moves){var P=S.directControl?S.y-S.autoFrame.y:S.y-S.prev.y;t.y+=P*S.friction.y,t._dy=t.y-t.prev.y}},A=function(w){if(w===2?S.velocity.x=0:c?S.processX(g,n,!0):S.processX(-g,n,!1,!0),t.moves){var P=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;S.y+=P*t.friction.y,S._dy=S.y-S.prev.y}};p.exports={BlockCheck:y,Check:x,Set:m,Run:T,RunImmovableBody1:C,RunImmovableBody2:A}},47962:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,l,v,a,r,n,e,s,o,i,h,u,d,f,c,g,m=function(w,P,M){S=w,t=P;var R=S.velocity.y,O=t.velocity.y;return l=S.pushable,s=S._dy<0,o=S._dy>0,i=S._dy===0,f=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),n=O-R*S.bounce.y,v=t.pushable,h=t._dy<0,u=t._dy>0,d=t._dy===0,c=!f,e=R-O*t.bounce.y,g=Math.abs(M),y()},y=function(){return o&&f&&t.blocked.down?(S.processY(-g,n,!1,!0),1):s&&c&&t.blocked.up?(S.processY(g,n,!0),1):u&&c&&S.blocked.down?(t.processY(-g,e,!1,!0),2):h&&f&&S.blocked.up?(t.processY(g,e,!0),2):0},x=function(){var w=S.velocity.y,P=t.velocity.y,M=Math.sqrt(P*P*t.mass/S.mass)*(P>0?1:-1),R=Math.sqrt(w*w*S.mass/t.mass)*(w>0?1:-1),O=(M+R)*.5;return M-=O,R-=O,a=O+M*S.bounce.y,r=O+R*t.bounce.y,s&&c?T(0):h&&f?T(1):o&&f?T(2):u&&c?T(3):!1},T=function(w){if(l&&v)g*=.5,w===0||w===3?(S.processY(g,a),t.processY(-g,r)):(S.processY(-g,a),t.processY(g,r));else if(l&&!v)w===0||w===3?S.processY(g,n,!0):S.processY(-g,n,!1,!0);else if(!l&&v)w===0||w===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var P=g*.5;w===0?d?(S.processY(g,0,!0),t.processY(0,null,!1,!0)):u?(S.processY(P,0,!0),t.processY(-P,0,!1,!0)):(S.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)):w===1?i?(S.processY(0,null,!1,!0),t.processY(g,0,!0)):o?(S.processY(-P,0,!1,!0),t.processY(P,0,!0)):(S.processY(-P,null,!1,!0),t.processY(P,S.velocity.y,!0)):w===2?d?(S.processY(-g,0,!1,!0),t.processY(0,null,!0)):h?(S.processY(-P,0,!1,!0),t.processY(P,0,!0)):(S.processY(-P,t.velocity.y,!1,!0),t.processY(P,null,!0)):w===3&&(i?(S.processY(0,null,!0),t.processY(-g,0,!1,!0)):s?(S.processY(P,0,!0),t.processY(-P,0,!1,!0)):(S.processY(P,t.velocity.y,!0),t.processY(-P,null,!1,!0)))}return!0},C=function(w){if(w===1?t.velocity.y=0:f?t.processY(g,e,!0):t.processY(-g,e,!1,!0),S.moves){var P=S.directControl?S.x-S.autoFrame.x:S.x-S.prev.x;t.x+=P*S.friction.x,t._dx=t.x-t.prev.x}},A=function(w){if(w===2?S.velocity.y=0:c?S.processY(g,n,!0):S.processY(-g,n,!1,!0),t.moves){var P=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;S.x+=P*t.friction.x,S._dx=S.x-S.prev.x}};p.exports={BlockCheck:y,Check:x,Set:m,Run:T,RunImmovableBody1:C,RunImmovableBody2:A}},14087:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(64897),v=t(3017),a=function(r,n,e,s,o){o===void 0&&(o=l(r,n,e,s));var i=r.immovable,h=n.immovable;if(e||o===0||i&&h||r.customSeparateX||n.customSeparateX)return o!==0||r.embedded&&n.embedded;var u=v.Set(r,n,o);return!i&&!h?u>0?!0:v.Check():(i?v.RunImmovableBody1(u):h&&v.RunImmovableBody2(u),!0)};p.exports=a},89936:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45170),v=t(47962),a=function(r,n,e,s,o){o===void 0&&(o=l(r,n,e,s));var i=r.immovable,h=n.immovable;if(e||o===0||i&&h||r.customSeparateY||n.customSeparateY)return o!==0||r.embedded&&n.embedded;var u=v.Set(r,n,o);return!i&&!h?u>0?!0:v.Check():(i?v.RunImmovableBody1(u):h&&v.RunImmovableBody2(u),!0)};p.exports=a},95829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===void 0&&(l={}),l.none=t,l.up=!1,l.down=!1,l.left=!1,l.right=!1,t||(l.up=!0,l.down=!0,l.left=!0,l.right=!0),l};p.exports=S},72624:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87902),v=t(83419),a=t(78389),r=t(37747),n=t(37303),e=t(95829),s=t(26099),o=new v({Mixins:[a],initialize:function(h,u){var d=64,f=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=u!==void 0;g&&u.displayWidth&&(d=u.displayWidth,f=u.displayHeight),g||(u=c),this.world=h,this.gameObject=g?u:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(u.x-d*u.originX,u.y-f*u.originY),this.width=d,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,h,u){if(h===void 0&&(h=!0),u===void 0&&(u=!0),!i||!i.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),i.body&&d.disable(i),this.gameObject=i,i.body=this,this.setSize(),h&&this.updateFromGameObject(),this.enable=u,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,h){return h===void 0&&(h=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,h,u){u===void 0&&(u=!0);var d=this.gameObject;if(d&&d.frame&&(i||(i=d.frame.realWidth),h||(h=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=h,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(h/2),u&&d&&d.getCenter){var f=d.displayWidth/2,c=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,h,u){return h===void 0&&(h=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,h){var u=this.gameObject;i===void 0&&(i=u.x),h===void 0&&(h=u.y),this.world.staticTree.remove(this),u.setPosition(i,h),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,h){return this.isCircle?l(this,i,h):n(this,i,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var h=this.position,u=h.x+this.halfWidth,d=h.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,d,this.width/2):i.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=o},71464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13759),v=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),o=new v({Extends:e,Mixins:[a],initialize:function(h,u,d,f){!d&&!f?f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l}:s(d)?(f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler,f.createMultipleCallback=this.createMultipleCallbackHandler,f.classType=n(f,"classType",l)):Array.isArray(d)&&s(d[0])?(f=d,d=null,f.forEach(function(c){c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=n(c,"classType",l)})):f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,u,d,f),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,h=0;h<i.length;h++)i[h].body.reset();return this}});p.exports=o},82248:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55495),v=t(37742),a=t(45319),r=t(83419),n=t(79342),e=t(37747),s=t(20339),o=t(52816),i=t(50792),h=t(63012),u=t(43855),d=t(5470),f=t(94977),c=t(64897),g=t(45170),m=t(96523),y=t(35154),x=t(36383),T=t(25774),C=t(96602),A=t(87841),w=t(59542),P=t(40012),M=t(14087),R=t(89936),O=t(35072),U=t(72624),X=t(2483),W=t(61340),Y=t(26099),N=t(15994),z=new r({Extends:i,initialize:function(I,G){i.call(this),this.scene=I,this.bodies=new O,this.staticBodies=new O,this.pendingDestroy=new O,this.colliders=new T,this.gravity=new Y(y(G,"gravity.x",0),y(G,"gravity.y",0)),this.bounds=new A(y(G,"x",0),y(G,"y",0),y(G,"width",I.sys.scale.width),y(G,"height",I.sys.scale.height)),this.checkCollision={up:y(G,"checkCollision.up",!0),down:y(G,"checkCollision.down",!0),left:y(G,"checkCollision.left",!0),right:y(G,"checkCollision.right",!0)},this.fps=y(G,"fps",60),this.fixedStep=y(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(G,"timeScale",1),this.OVERLAP_BIAS=y(G,"overlapBias",4),this.TILE_BIAS=y(G,"tileBias",16),this.forceX=y(G,"forceX",!1),this.isPaused=y(G,"isPaused",!1),this._total=0,this.drawDebug=y(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(G,"debugShowBody",!0),debugShowStaticBody:y(G,"debugShowStaticBody",!0),debugShowVelocity:y(G,"debugShowVelocity",!0),bodyDebugColor:y(G,"debugBodyColor",16711935),staticBodyDebugColor:y(G,"debugStaticBodyColor",255),velocityDebugColor:y(G,"debugVelocityColor",65280)},this.maxEntries=y(G,"maxEntries",16),this.useTree=y(G,"useTree",!0),this.tree=new w(this.maxEntries),this.staticTree=new w(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(B,I){I===void 0&&(I=e.DYNAMIC_BODY),Array.isArray(B)||(B=[B]);for(var G=0;G<B.length;G++){var H=B[G];if(H.isParent)for(var K=H.getChildren(),Z=0;Z<K.length;Z++){var Q=K[Z];Q.isParent?this.enable(Q,I):this.enableBody(Q,I)}else this.enableBody(H,I)}},enableBody:function(B,I){return I===void 0&&(I=e.DYNAMIC_BODY),B.hasTransformComponent&&(B.body||(I===e.DYNAMIC_BODY?B.body=new v(this,B):I===e.STATIC_BODY&&(B.body=new U(this,B))),this.add(B.body)),B},add:function(B){return B.physicsType===e.DYNAMIC_BODY?this.bodies.set(B):B.physicsType===e.STATIC_BODY&&(this.staticBodies.set(B),this.staticTree.insert(B)),B.enable=!0,B},disable:function(B){Array.isArray(B)||(B=[B]);for(var I=0;I<B.length;I++){var G=B[I];if(G.isParent)for(var H=G.getChildren(),K=0;K<H.length;K++){var Z=H[K];Z.isParent?this.disable(Z):this.disableBody(Z.body)}else this.disableBody(G.body)}},disableBody:function(B){this.remove(B),B.enable=!1},remove:function(B){B.physicsType===e.DYNAMIC_BODY?(this.tree.remove(B),this.bodies.delete(B)):B.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(B),this.staticTree.remove(B))},createDebugGraphic:function(){var B=this.scene.sys.add.graphics({x:0,y:0});return B.setDepth(Number.MAX_VALUE),this.debugGraphic=B,this.drawDebug=!0,B},setBounds:function(B,I,G,H,K,Z,Q,j){return this.bounds.setTo(B,I,G,H),K!==void 0&&this.setBoundsCollision(K,Z,Q,j),this},setBoundsCollision:function(B,I,G,H){return B===void 0&&(B=!0),I===void 0&&(I=!0),G===void 0&&(G=!0),H===void 0&&(H=!0),this.checkCollision.left=B,this.checkCollision.right=I,this.checkCollision.up=G,this.checkCollision.down=H,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(B,I,G,H,K){G===void 0&&(G=null),H===void 0&&(H=null),K===void 0&&(K=G);var Z=new n(this,!1,B,I,G,H,K);return this.colliders.add(Z),Z},addOverlap:function(B,I,G,H,K){G===void 0&&(G=null),H===void 0&&(H=null),K===void 0&&(K=G);var Z=new n(this,!0,B,I,G,H,K);return this.colliders.add(Z),Z},removeCollider:function(B){return this.colliders.remove(B),this},setFPS:function(B){return this.fps=B,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(B,I){if(!(this.isPaused||this.bodies.size===0)){var G,H=this._frameTime,K=this._frameTimeMS*this.timeScale;this._elapsed+=I;var Z,Q=this.bodies.entries,j=this._elapsed>=K;for(this.fixedStep||(H=I*.001,j=!0,this._elapsed=0),G=0;G<Q.length;G++)Z=Q[G],Z.enable&&Z.preUpdate(j,H);if(j){this._elapsed-=K,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Q));var _=this.colliders.update();for(G=0;G<_.length;G++){var tt=_[G];tt.active&&tt.update()}this.emit(h.WORLD_STEP,H)}for(;this._elapsed>=K;)this._elapsed-=K,this.step(H)}},step:function(B){var I,G,H=this.bodies.entries,K=H.length;for(I=0;I<K;I++)G=H[I],G.enable&&G.update(B);this.useTree&&(this.tree.clear(),this.tree.load(H));var Z=this.colliders.update();for(I=0;I<Z.length;I++){var Q=Z[I];Q.active&&Q.update()}this.emit(h.WORLD_STEP,B),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var B,I,G=this.bodies.entries,H=G.length,K=this.bodies,Z=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,B=0;B<H;B++)I=G[B],I.enable&&I.postUpdate();if(this.drawDebug){var Q=this.debugGraphic;for(Q.clear(),B=0;B<H;B++)I=G[B],I.willDrawDebug()&&I.drawDebug(Q);for(G=Z.entries,H=G.length,B=0;B<H;B++)I=G[B],I.willDrawDebug()&&I.drawDebug(Q)}var j=this.pendingDestroy;if(j.size>0){var _=this.tree,tt=this.staticTree;for(G=j.entries,H=G.length,B=0;B<H;B++)I=G[B],I.physicsType===e.DYNAMIC_BODY?(_.remove(I),K.delete(I)):I.physicsType===e.STATIC_BODY&&(tt.remove(I),Z.delete(I)),I.world=void 0,I.gameObject=void 0;j.clear()}},updateMotion:function(B,I){B.allowRotation&&this.computeAngularVelocity(B,I),this.computeVelocity(B,I)},computeAngularVelocity:function(B,I){var G=B.angularVelocity,H=B.angularAcceleration,K=B.angularDrag,Z=B.maxAngular;H?G+=H*I:B.allowDrag&&K&&(K*=I,d(G-K,0,.1)?G-=K:f(G+K,0,.1)?G+=K:G=0),G=a(G,-Z,Z);var Q=G-B.angularVelocity;B.angularVelocity+=Q,B.rotation+=B.angularVelocity*I},computeVelocity:function(B,I){var G=B.velocity.x,H=B.acceleration.x,K=B.drag.x,Z=B.maxVelocity.x,Q=B.velocity.y,j=B.acceleration.y,_=B.drag.y,tt=B.maxVelocity.y,et=B.speed,rt=B.maxSpeed,at=B.allowDrag,st=B.useDamping;B.allowGravity&&(G+=(this.gravity.x+B.gravity.x)*I,Q+=(this.gravity.y+B.gravity.y)*I),H?G+=H*I:at&&K&&(st?(K=Math.pow(K,I),G*=K,et=Math.sqrt(G*G+Q*Q),u(et,0,.001)&&(G=0)):(K*=I,d(G-K,0,.01)?G-=K:f(G+K,0,.01)?G+=K:G=0)),j?Q+=j*I:at&&_&&(st?(_=Math.pow(_,I),Q*=_,et=Math.sqrt(G*G+Q*Q),u(et,0,.001)&&(Q=0)):(_*=I,d(Q-_,0,.01)?Q-=_:f(Q+_,0,.01)?Q+=_:Q=0)),G=a(G,-Z,Z),Q=a(Q,-tt,tt),B.velocity.set(G,Q),rt>-1&&B.velocity.length()>rt&&(B.velocity.normalize().scale(rt),et=rt),B.speed=et},separate:function(B,I,G,H,K){var Z,Q,j=!1,_=!0;if(!B.enable||!I.enable||B.checkCollision.none||I.checkCollision.none||!this.intersects(B,I)||G&&G.call(H,B.gameObject||B,I.gameObject||I)===!1)return j;if(B.isCircle||I.isCircle){var tt=this.separateCircle(B,I,K);tt.result?(j=!0,_=!1):(Z=tt.x,Q=tt.y,_=!0)}if(_){var et=!1,rt=!1,at=this.OVERLAP_BIAS;K?(et=M(B,I,K,at,Z),rt=R(B,I,K,at,Q)):this.forceX||Math.abs(this.gravity.y+B.gravity.y)<Math.abs(this.gravity.x+B.gravity.x)?(et=M(B,I,K,at,Z),this.intersects(B,I)&&(rt=R(B,I,K,at,Q))):(rt=R(B,I,K,at,Q),this.intersects(B,I)&&(et=M(B,I,K,at,Z))),j=et||rt}return j&&(K?(B.onOverlap||I.onOverlap)&&this.emit(h.OVERLAP,B.gameObject,I.gameObject,B,I):(B.onCollide||I.onCollide)&&this.emit(h.COLLIDE,B.gameObject,I.gameObject,B,I)),j},separateCircle:function(B,I,G){c(B,I,!1,0),g(B,I,!1,0);var H=B.isCircle,K=I.isCircle,Z=B.center,Q=I.center,j=B.immovable,_=I.immovable,tt=B.velocity,et=I.velocity,rt=0,at=!0;if(H!==K){at=!1;var st=Z.x,ct=Z.y,vt=B.halfWidth,pt=I.position.x,nt=I.position.y,ot=I.right,ht=I.bottom;K&&(st=Q.x,ct=Q.y,vt=I.halfWidth,pt=B.position.x,nt=B.position.y,ot=B.right,ht=B.bottom),ct<nt?st<pt?rt=s(st,ct,pt,nt)-vt:st>ot&&(rt=s(st,ct,ot,nt)-vt):ct>ht&&(st<pt?rt=s(st,ct,pt,ht)-vt:st>ot&&(rt=s(st,ct,ot,ht)-vt)),rt*=-1}else rt=B.halfWidth+I.halfWidth-o(Z,Q);B.overlapR=rt,I.overlapR=rt;var xt=l(Z,Q),Et=(rt+x.EPSILON)*Math.cos(xt),Ot=(rt+x.EPSILON)*Math.sin(xt),Tt={overlap:rt,result:!1,x:Et,y:Ot};if(G&&(!at||at&&rt!==0))return Tt.result=!0,Tt;if(!at&&rt===0||j&&_||B.customSeparateX||I.customSeparateX)return Tt.x=void 0,Tt.y=void 0,Tt;var St=!B.pushable&&!I.pushable;if(at){var bt=Z.x-Q.x,Yt=Z.y-Q.y,wt=Math.sqrt(Math.pow(bt,2)+Math.pow(Yt,2)),It=(Q.x-Z.x)/wt||0,Nt=(Q.y-Z.y)/wt||0,$t=2*(tt.x*It+tt.y*Nt-et.x*It-et.y*Nt)/(B.mass+I.mass);(j||_||!B.pushable||!I.pushable)&&($t*=2),!j&&B.pushable&&(tt.x=tt.x-$t/B.mass*It,tt.y=tt.y-$t/B.mass*Nt,tt.multiply(B.bounce)),!_&&I.pushable&&(et.x=et.x+$t/I.mass*It,et.y=et.y+$t/I.mass*Nt,et.multiply(I.bounce)),!j&&!_&&(Et*=.5,Ot*=.5),(!j||B.pushable||St)&&(B.x-=Et,B.y-=Ot,B.updateCenter()),(!_||I.pushable||St)&&(I.x+=Et,I.y+=Ot,I.updateCenter()),Tt.result=!0}else(!j||B.pushable||St)&&(B.x-=Et,B.y-=Ot,B.updateCenter()),(!_||I.pushable||St)&&(I.x+=Et,I.y+=Ot,I.updateCenter()),Tt.x=void 0,Tt.y=void 0;return Tt},intersects:function(B,I){return B===I?!1:!B.isCircle&&!I.isCircle?!(B.right<=I.left||B.bottom<=I.top||B.left>=I.right||B.top>=I.bottom):B.isCircle?I.isCircle?o(B.center,I.center)<=B.halfWidth+I.halfWidth:this.circleBodyIntersects(B,I):this.circleBodyIntersects(I,B)},circleBodyIntersects:function(B,I){var G=a(B.center.x,I.left,I.right),H=a(B.center.y,I.top,I.bottom),K=(B.center.x-G)*(B.center.x-G),Z=(B.center.y-H)*(B.center.y-H);return K+Z<=B.halfWidth*B.halfWidth},overlap:function(B,I,G,H,K){return G===void 0&&(G=null),H===void 0&&(H=null),K===void 0&&(K=G),this.collideObjects(B,I,G,H,K,!0)},collide:function(B,I,G,H,K){return G===void 0&&(G=null),H===void 0&&(H=null),K===void 0&&(K=G),this.collideObjects(B,I,G,H,K,!1)},collideObjects:function(B,I,G,H,K,Z){var Q,j;B.isParent&&(B.physicsType===void 0||I===void 0||B===I)&&(B=B.children.entries),I&&I.isParent&&I.physicsType===void 0&&(I=I.children.entries);var _=Array.isArray(B),tt=Array.isArray(I);if(this._total=0,!_&&!tt)this.collideHandler(B,I,G,H,K,Z);else if(!_&&tt)for(Q=0;Q<I.length;Q++)this.collideHandler(B,I[Q],G,H,K,Z);else if(_&&!tt)if(I)for(Q=0;Q<B.length;Q++)this.collideHandler(B[Q],I,G,H,K,Z);else for(Q=0;Q<B.length;Q++){var et=B[Q];for(j=Q+1;j<B.length;j++)Q!==j&&this.collideHandler(et,B[j],G,H,K,Z)}else for(Q=0;Q<B.length;Q++)for(j=0;j<I.length;j++)this.collideHandler(B[Q],I[j],G,H,K,Z);return this._total>0},collideHandler:function(B,I,G,H,K,Z){if(I===void 0&&B.isParent)return this.collideGroupVsGroup(B,B,G,H,K,Z);if(!B||!I)return!1;if(B.body||B.isBody){if(I.body||I.isBody)return this.collideSpriteVsSprite(B,I,G,H,K,Z);if(I.isParent)return this.collideSpriteVsGroup(B,I,G,H,K,Z);if(I.isTilemap)return this.collideSpriteVsTilemapLayer(B,I,G,H,K,Z)}else if(B.isParent){if(I.body||I.isBody)return this.collideSpriteVsGroup(I,B,G,H,K,Z);if(I.isParent)return this.collideGroupVsGroup(B,I,G,H,K,Z);if(I.isTilemap)return this.collideGroupVsTilemapLayer(B,I,G,H,K,Z)}else if(B.isTilemap){if(I.body||I.isBody)return this.collideSpriteVsTilemapLayer(I,B,G,H,K,Z);if(I.isParent)return this.collideGroupVsTilemapLayer(I,B,G,H,K,Z)}},canCollide:function(B,I){return B&&I&&(B.collisionMask&I.collisionCategory)!==0&&(I.collisionMask&B.collisionCategory)!==0},collideSpriteVsSprite:function(B,I,G,H,K,Z){var Q=B.isBody?B:B.body,j=I.isBody?I:I.body;return this.canCollide(Q,j)?(this.separate(Q,j,H,K,Z)&&(G&&G.call(K,B,I),this._total++),!0):!1},collideSpriteVsGroup:function(B,I,G,H,K,Z){var Q=B.isBody?B:B.body;if(!(I.getLength()===0||!Q||!Q.enable||Q.checkCollision.none||!this.canCollide(Q,I))){var j,_,tt;if(this.useTree||I.physicsType===e.STATIC_BODY){var et=this.treeMinMax;et.minX=Q.left,et.minY=Q.top,et.maxX=Q.right,et.maxY=Q.bottom;var rt=I.physicsType===e.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(_=rt.length,j=0;j<_;j++)tt=rt[j],!(Q===tt||!tt.enable||tt.checkCollision.none||!I.contains(tt.gameObject))&&this.separate(Q,tt,H,K,Z)&&(G&&G.call(K,Q.gameObject,tt.gameObject),this._total++)}else{var at=I.getChildren(),st=I.children.entries.indexOf(B);for(_=at.length,j=0;j<_;j++)tt=at[j].body,!(!tt||j===st||!tt.enable)&&this.separate(Q,tt,H,K,Z)&&(G&&G.call(K,Q.gameObject,tt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(B,I,G,H,K,Z){if(!this.canCollide(B,I))return!1;var Q=B.getChildren();if(Q.length===0)return!1;for(var j=!1,_=0;_<Q.length;_++)(Q[_].body||Q[_].isBody)&&this.collideSpriteVsTilemapLayer(Q[_],I,G,H,K,Z)&&(j=!0);return j},collideTiles:function(B,I,G,H,K){return I.length===0||B.body&&!B.body.enable||B.isBody&&!B.enable?!1:this.collideSpriteVsTilesHandler(B,I,G,H,K,!1,!1)},overlapTiles:function(B,I,G,H,K){return I.length===0||B.body&&!B.body.enable||B.isBody&&!B.enable?!1:this.collideSpriteVsTilesHandler(B,I,G,H,K,!0,!1)},collideSpriteVsTilemapLayer:function(B,I,G,H,K,Z){var Q=B.isBody?B:B.body;if(!Q.enable||Q.checkCollision.none||!this.canCollide(Q,I))return!1;var j=I.layer,_=Q.x-j.tileWidth*I.scaleX,tt=Q.y-j.tileHeight*I.scaleY,et=Q.width+j.tileWidth*I.scaleX,rt=Q.height+j.tileHeight*I.scaleY,at=Z?null:this.tileFilterOptions,st=m(_,tt,et,rt,at,I.scene.cameras.main,I.layer);return st.length===0?!1:this.collideSpriteVsTilesHandler(B,st,G,H,K,Z,!0)},collideSpriteVsTilesHandler:function(B,I,G,H,K,Z,Q){for(var j=B.isBody?B:B.body,_,tt={left:0,right:0,top:0,bottom:0},et,rt=!1,at=0;at<I.length;at++){_=I[at],et=_.tilemapLayer;var st=et.tileToWorldXY(_.x,_.y);tt.left=st.x,tt.top=st.y,tt.right=tt.left+_.width*et.scaleX,tt.bottom=tt.top+_.height*et.scaleY,X(tt,j)&&(!H||H.call(K,B,_))&&C(_,B)&&(Z||P(at,j,_,tt,et,this.TILE_BIAS,Q))&&(this._total++,rt=!0,G&&G.call(K,B,_),Z&&j.onOverlap?this.emit(h.TILE_OVERLAP,B,_,j):j.onCollide&&this.emit(h.TILE_COLLIDE,B,_,j))}return rt},collideGroupVsGroup:function(B,I,G,H,K,Z){if(!(B.getLength()===0||I.getLength()===0||!this.canCollide(B,I)))for(var Q=B.getChildren(),j=0;j<Q.length;j++)this.collideSpriteVsGroup(Q[j],I,G,H,K,Z)},wrap:function(B,I){B.body?this.wrapObject(B,I):B.getChildren?this.wrapArray(B.getChildren(),I):Array.isArray(B)?this.wrapArray(B,I):this.wrapObject(B,I)},wrapArray:function(B,I){for(var G=0;G<B.length;G++)this.wrapObject(B[G],I)},wrapObject:function(B,I){I===void 0&&(I=0),B.x=N(B.x,this.bounds.left-I,this.bounds.right+I),B.y=N(B.y,this.bounds.top-I,this.bounds.bottom+I)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=z},1093:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,l){return this.body.acceleration.set(t,l),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=S},59023:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=S},62069:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,l){return this.body.bounce.set(t,l),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,l,v,a){return this.body.setCollideWorldBounds(t,l,v,a),this}};p.exports=S},78389:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79599),v={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=l(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=2147483647,this}};p.exports=v},87118:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,l,v){return this.debugShowBody=t,this.debugShowVelocity=l,this.debugBodyColor=v,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=S},52819:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,l){return this.body.drag.set(t,l),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=S},4074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,l,v,a,r){return t&&this.body.reset(l,v),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,l){return t===void 0&&(t=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=S},40831:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,l){return this.body.friction.set(t,l),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=S},26775:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,l){return this.body.gravity.set(t,l),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=S},9437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=S},30621:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};p.exports=S},72441:(p,S,t)=>{var l=t(47956),v=t(96503),a=t(2044),r=t(81491),n=function(e,s,o,i,h,u){var d=l(e,s-i,o-i,2*i,2*i,h,u);if(d.length===0)return d;for(var f=new v(s,o,i),c=new v,g=[],m=0;m<d.length;m++){var y=d[m];y.isCircle?(c.setTo(y.center.x,y.center.y,y.halfWidth),a(f,c)&&g.push(y)):r(f,y)&&g.push(y)}return g};p.exports=n},47956:p=>{var S=function(t,l,v,a,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var s=[],o=[],i=t.treeMinMax;if(i.minX=l,i.minY=v,i.maxX=l+a,i.maxY=v+r,e&&(o=t.staticTree.search(i)),n&&t.useTree)s=t.tree.search(i);else if(n){var h=t.bodies,u={position:{x:l,y:v},left:l,top:v,right:l+a,bottom:v+r,isCircle:!1},d=t.intersects;h.iterate(function(f){d(f,u)&&s.push(f)})}return o.concat(s)};p.exports=S},62121:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=S},29384:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,l){return this.body.setOffset(t,l),this},setSize:function(t,l,v){return this.body.setSize(t,l,v),this},setBodySize:function(t,l,v){return this.body.setSize(t,l,v),this},setCircle:function(t,l,v){return this.body.setCircle(t,l,v),this}};p.exports=S},15098:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,l){return this.body.setVelocity(t,l),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,l){return this.body.maxVelocity.set(t,l),this}};p.exports=S},92209:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=S},20009:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},36768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},60473:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},89954:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},61804:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},7161:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},34689:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},16006:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},63012:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37747),v=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=v(!1,a,l),p.exports=a},96602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,l,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,l,t):!0};p.exports=S},36294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l<0?(t.blocked.none=!1,t.blocked.left=!0):l>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=l,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=S},67013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l<0?(t.blocked.none=!1,t.blocked.up=!0):l>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=l,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=S},40012:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21329),v=t(53442),a=t(2483),r=function(n,e,s,o,i,h,u){var d=o.left,f=o.top,c=o.right,g=o.bottom,m=s.faceLeft||s.faceRight,y=s.faceTop||s.faceBottom;if(u||(m=!0,y=!0),!m&&!y)return!1;var x=0,T=0,C=0,A=1;if(e.deltaAbsX()>e.deltaAbsY()?C=-1:e.deltaAbsX()<e.deltaAbsY()&&(A=-1),e.deltaX()!==0&&e.deltaY()!==0&&m&&y&&(C=Math.min(Math.abs(e.position.x-c),Math.abs(e.right-d)),A=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-f))),C<A){if(m&&(x=l(e,s,d,c,h,u),x!==0&&!a(o,e)))return!0;y&&(T=v(e,s,f,g,h,u))}else{if(y&&(T=v(e,s,f,g,h,u),T!==0&&!a(o,e)))return!0;m&&(x=l(e,s,d,c,h,u))}return x!==0||T!==0};p.exports=r},21329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36294),v=function(a,r,n,e,s,o){var i=0,h=r.faceLeft,u=r.faceRight,d=r.collideLeft,f=r.collideRight;return o||(h=!0,u=!0,d=!0,f=!0),a.deltaX()<0&&f&&a.checkCollision.left?u&&a.x<e&&(i=a.x-e,i<-s&&(i=0)):a.deltaX()>0&&d&&a.checkCollision.right&&h&&a.right>n&&(i=a.right-n,i>s&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:l(a,i)),i};p.exports=v},53442:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67013),v=function(a,r,n,e,s,o){var i=0,h=r.faceTop,u=r.faceBottom,d=r.collideUp,f=r.collideDown;return o||(h=!0,u=!0,d=!0,f=!0),a.deltaY()<0&&f&&a.checkCollision.up?u&&a.y<e&&(i=a.y-e,i<-s&&(i=0)):a.deltaY()>0&&d&&a.checkCollision.down&&h&&a.bottom>n&&(i=a.bottom-n,i>s&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:l(a,i)),i};p.exports=v},2483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return!(l.right<=t.left||l.bottom<=t.top||l.position.x>=t.right||l.position.y>=t.bottom)};p.exports=S},55173:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};p.exports=l},44563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(27064),Matter:t(3875)}},68174:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,o=r.bounds.max.y-r.bounds.min.y,i=s*r.centerOfMass.x,h=o*r.centerOfMass.y;return n.set(s/2,o/2),e.set(i-n.x,h-n.y),!0},getTopLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+s.x+o.x,e+s.y+o.y)}return!1},getTopCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+o.x,e+s.y+o.y)}return!1},getTopRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n-(s.x-o.x),e+s.y+o.y)}return!1},getLeftCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+s.x+o.x,e+o.y)}return!1},getCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.centerDiff;return new v(n+s.x,e+s.y)}return!1},getRightCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n-(s.x-o.x),e+o.y)}return!1},getBottomLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+s.x+o.x,e-(s.y-o.y))}return!1},getBottomCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n+o.x,e-(s.y-o.y))}return!1},getBottomRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,o=this.centerDiff;return new v(n-(s.x-o.x),e-(s.y-o.y))}return!1}});p.exports=a},19933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6790);l.Body=t(22562),l.Composite=t(69351),l.World=t(4372),l.Collision=t(52284),l.Detector=t(81388),l.Pairs=t(99561),l.Pair=t(4506),l.Query=t(73296),l.Resolver=t(66272),l.Constraint=t(48140),l.Common=t(53402),l.Engine=t(48413),l.Events=t(35810),l.Sleeping=t(53614),l.Plugin=t(73832),l.Bodies=t(66280),l.Composites=t(74116),l.Axes=t(66615),l.Bounds=t(15647),l.Svg=t(74058),l.Vector=t(31725),l.Vertices=t(41598),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,p.exports=l},28137:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(83419),a=t(74116),r=t(48140),n=t(74058),e=t(75803),s=t(23181),o=t(34803),i=t(73834),h=t(19496),u=t(85791),d=t(98713),f=t(41598),c=new v({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},rectangle:function(g,m,y,x,T){var C=l.rectangle(g,m,y,x,T);return this.world.add(C),C},trapezoid:function(g,m,y,x,T,C){var A=l.trapezoid(g,m,y,x,T,C);return this.world.add(A),A},circle:function(g,m,y,x,T){var C=l.circle(g,m,y,x,T);return this.world.add(C),C},polygon:function(g,m,y,x,T){var C=l.polygon(g,m,y,x,T);return this.world.add(C),C},fromVertices:function(g,m,y,x,T,C,A){typeof y=="string"&&(y=f.fromPath(y));var w=l.fromVertices(g,m,y,x,T,C,A);return this.world.add(w),w},fromPhysicsEditor:function(g,m,y,x,T){T===void 0&&(T=!0);var C=h.parseBody(g,m,y,x);return T&&!this.world.has(C)&&this.world.add(C),C},fromSVG:function(g,m,y,x,T,C){x===void 0&&(x=1),T===void 0&&(T={}),C===void 0&&(C=!0);for(var A=y.getElementsByTagName("path"),w=[],P=0;P<A.length;P++){var M=n.pathToVertices(A[P],30);x!==1&&f.scale(M,x,x),w.push(M)}var R=l.fromVertices(g,m,w,T);return C&&this.world.add(R),R},fromJSON:function(g,m,y,x,T){x===void 0&&(x={}),T===void 0&&(T=!0);var C=u.parseBody(g,m,y,x);return C&&T&&this.world.add(C),C},imageStack:function(g,m,y,x,T,C,A,w,P){A===void 0&&(A=0),w===void 0&&(w=0),P===void 0&&(P={});var M=this.world,R=this.sys.displayList;P.addToWorld=!1;var O=a.stack(y,x,T,C,A,w,function(U,X){var W=new s(M,U,X,g,m,P);return R.add(W),W.body});return M.add(O),O},stack:function(g,m,y,x,T,C,A){var w=a.stack(g,m,y,x,T,C,A);return this.world.add(w),w},pyramid:function(g,m,y,x,T,C,A){var w=a.pyramid(g,m,y,x,T,C,A);return this.world.add(w),w},chain:function(g,m,y,x,T,C){return a.chain(g,m,y,x,T,C)},mesh:function(g,m,y,x,T){return a.mesh(g,m,y,x,T)},newtonsCradle:function(g,m,y,x,T){var C=a.newtonsCradle(g,m,y,x,T);return this.world.add(C),C},car:function(g,m,y,x,T){var C=a.car(g,m,y,x,T);return this.world.add(C),C},softBody:function(g,m,y,x,T,C,A,w,P,M){var R=a.softBody(g,m,y,x,T,C,A,w,P,M);return this.world.add(R),R},joint:function(g,m,y,x,T){return this.constraint(g,m,y,x,T)},spring:function(g,m,y,x,T){return this.constraint(g,m,y,x,T)},constraint:function(g,m,y,x,T){x===void 0&&(x=1),T===void 0&&(T={}),T.bodyA=g.type==="body"?g:g.body,T.bodyB=m.type==="body"?m:m.body,isNaN(y)||(T.length=y),T.stiffness=x;var C=r.create(T);return this.world.add(C),C},worldConstraint:function(g,m,y,x){y===void 0&&(y=1),x===void 0&&(x={}),x.bodyB=g.type==="body"?g:g.body,isNaN(m)||(x.length=m),x.stiffness=y;var T=r.create(x);return this.world.add(T),T},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var m=new d(this.scene,this.world,g);return this.world.add(m.constraint),m},image:function(g,m,y,x,T){var C=new s(this.world,g,m,y,x,T);return this.sys.displayList.add(C),C},tileBody:function(g,m){return new i(this.world,g,m)},sprite:function(g,m,y,x,T){var C=new o(this.world,g,m,y,x,T);return this.sys.displayList.add(C),this.sys.updateList.add(C),C},gameObject:function(g,m,y){return e(this.world,g,m,y)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=c},75803:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31884),v=t(95540),a=t(26099);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,s,o,i){o===void 0&&(o={}),i===void 0&&(i=!0);var h=s.x,u=s.y;s.body={temp:!0,position:{x:h,y:u}};var d=[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity];if(d.forEach(function(c){for(var g in c)r(c[g])?Object.defineProperty(s,g,{get:c[g].get,set:c[g].set}):Object.defineProperty(s,g,{value:c[g]})}),s.world=e,s._tempVec2=new a(h,u),o.hasOwnProperty("type")&&o.type==="body")s.setExistingBody(o,i);else{var f=v(o,"shape",null);f||(f="rectangle"),o.addToWorld=i,s.setBody(f,o)}return s};p.exports=n},23181:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31884),a=t(95643),r=t(95540),n=t(88571),e=t(72699),s=t(26099),o=new l({Extends:n,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,e],initialize:function(h,u,d,f,c,g){a.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,c),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new s(u,d);var m=r(g,"shape",null);m?this.setBody(m,g):this.setRectangle(this.width,this.height,g),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=o},42045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60461),v=t(66615),a=t(66280),r=t(22562),n=t(68174),e=t(15647),s=t(83419),o=t(52284),i=t(53402),h=t(69351),u=t(74116),d=t(48140),f=t(81388),c=t(20339),g=t(28137),m=t(95540),y=t(35154),x=t(46975),T=t(4506),C=t(99561),A=t(37277),w=t(73296),P=t(66272),M=t(44594),R=t(74058),O=t(31725),U=t(41598),X=t(68243);i.setDecomp(t(55973));var W=new s({initialize:function(N){this.scene=N,this.systems=N.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=h,this.collision=o,this.detector=f,this.pair=T,this.pairs=C,this.query=w,this.resolver=P,this.constraint=d,this.bodies=a,this.composites=u,this.axes=v,this.bounds=e,this.svg=R,this.vector=O,this.vertices=U,this.verts=U,this._tempVec2=O.create(),P._restingThresh=y(this.config,"restingThresh",4),P._restingThreshTangent=y(this.config,"restingThreshTangent",6),P._positionDampen=y(this.config,"positionDampen",.9),P._positionWarming=y(this.config,"positionWarming",.8),P._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),N.sys.events.once(M.BOOT,this.boot,this),N.sys.events.on(M.START,this.start,this)},boot:function(){this.world=new X(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new n,this.systems.events.once(M.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new X(this.scene,this.config),this.add=new g(this.world));var Y=this.systems.events;Y.on(M.UPDATE,this.world.update,this.world),Y.on(M.POST_UPDATE,this.world.postUpdate,this.world),Y.once(M.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,N=this.systems.settings.physics,z=x(m(N,"matter",{}),m(Y,"matter",{}));return z},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,N){this.world.step(Y,N)},containsPoint:function(Y,N,z){Y=this.getMatterBodies(Y);var B=O.create(N,z),I=w.point(Y,B);return I.length>0},intersectPoint:function(Y,N,z){z=this.getMatterBodies(z);var B=O.create(Y,N),I=[],G=w.point(z,B);return G.forEach(function(H){I.indexOf(H)===-1&&I.push(H)}),I},intersectRect:function(Y,N,z,B,I,G){I===void 0&&(I=!1),G=this.getMatterBodies(G);var H={min:{x:Y,y:N},max:{x:Y+z,y:N+B}},K=[],Z=w.region(G,H,I);return Z.forEach(function(Q){K.indexOf(Q)===-1&&K.push(Q)}),K},intersectRay:function(Y,N,z,B,I,G){I===void 0&&(I=1),G=this.getMatterBodies(G);for(var H=[],K=w.ray(G,O.create(Y,N),O.create(z,B),I),Z=0;Z<K.length;Z++)H.push(K[Z].body);return H},intersectBody:function(Y,N){N=this.getMatterBodies(N);for(var z=[],B=w.collides(Y,N),I=0;I<B.length;I++){var G=B[I];G.bodyA===Y?z.push(G.bodyB):z.push(G.bodyA)}return z},overlap:function(Y,N,z,B,I){z===void 0&&(z=null),B===void 0&&(B=null),I===void 0&&(I=z),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),N=this.getMatterBodies(N);for(var G=!1,H=0;H<Y.length;H++)for(var K=Y[H],Z=w.collides(K,N),Q=0;Q<Z.length;Q++){var j=Z[Q],_=j.bodyA.id===K.id?j.bodyB:j.bodyA;if(!B||B.call(I,K,_,j)){if(G=!0,z)z.call(I,K,_,j);else if(!B)return!0}}return G},setCollisionCategory:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(z){z.collisionFilter.category=N}),this},setCollisionGroup:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(z){z.collisionFilter.group=N}),this},setCollidesWith:function(Y,N){Y=this.getMatterBodies(Y);var z=0;if(!Array.isArray(N))z=N;else for(var B=0;B<N.length;B++)z|=N[B];return Y.forEach(function(I){I.collisionFilter.mask=z}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var N=[],z=0;z<Y.length;z++){var B=Y[z].hasOwnProperty("body")?Y[z].body:Y[z];N.push(B)}return N},setVelocity:function(Y,N,z){Y=this.getMatterBodies(Y);var B=this._tempVec2;return B.x=N,B.y=z,Y.forEach(function(I){r.setVelocity(I,B)}),this},setVelocityX:function(Y,N){Y=this.getMatterBodies(Y);var z=this._tempVec2;return z.x=N,Y.forEach(function(B){z.y=B.velocity.y,r.setVelocity(B,z)}),this},setVelocityY:function(Y,N){Y=this.getMatterBodies(Y);var z=this._tempVec2;return z.y=N,Y.forEach(function(B){z.x=B.velocity.x,r.setVelocity(B,z)}),this},setAngularVelocity:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(z){r.setAngularVelocity(z,N)}),this},applyForce:function(Y,N){Y=this.getMatterBodies(Y);var z=this._tempVec2;return Y.forEach(function(B){z.x=B.position.x,z.y=B.position.y,r.applyForce(B,z,N)}),this},applyForceFromPosition:function(Y,N,z,B){Y=this.getMatterBodies(Y);var I=this._tempVec2;return Y.forEach(function(G){B===void 0&&(B=G.angle),I.x=z*Math.cos(B),I.y=z*Math.sin(B),r.applyForce(G,N,I)}),this},applyForceFromAngle:function(Y,N,z){Y=this.getMatterBodies(Y);var B=this._tempVec2;return Y.forEach(function(I){z===void 0&&(z=I.angle),B.x=N*Math.cos(z),B.y=N*Math.sin(z),r.applyForce(I,{x:I.position.x,y:I.position.y},B)}),this},getConstraintLength:function(Y){var N=Y.pointA.x,z=Y.pointA.y,B=Y.pointB.x,I=Y.pointB.y;return Y.bodyA&&(N+=Y.bodyA.position.x,z+=Y.bodyA.position.y),Y.bodyB&&(B+=Y.bodyB.position.x,I+=Y.bodyB.position.y),c(N,z,B,I)},alignBody:function(Y,N,z,B){Y=Y.hasOwnProperty("body")?Y.body:Y;var I;switch(B){case l.TOP_LEFT:case l.LEFT_TOP:I=this.bodyBounds.getTopLeft(Y,N,z);break;case l.TOP_CENTER:I=this.bodyBounds.getTopCenter(Y,N,z);break;case l.TOP_RIGHT:case l.RIGHT_TOP:I=this.bodyBounds.getTopRight(Y,N,z);break;case l.LEFT_CENTER:I=this.bodyBounds.getLeftCenter(Y,N,z);break;case l.CENTER:I=this.bodyBounds.getCenter(Y,N,z);break;case l.RIGHT_CENTER:I=this.bodyBounds.getRightCenter(Y,N,z);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:I=this.bodyBounds.getBottomLeft(Y,N,z);break;case l.BOTTOM_CENTER:I=this.bodyBounds.getBottomCenter(Y,N,z);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:I=this.bodyBounds.getBottomRight(Y,N,z);break}return I&&r.setPosition(Y,I),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(M.UPDATE,this.world.update,this.world),Y.off(M.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(M.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.systems=null}});A.register("MatterPhysics",W,"matterPhysics"),p.exports=W},34803:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9674),v=t(83419),a=t(31884),r=t(95643),n=t(95540),e=t(72699),s=t(68287),o=t(26099),i=new v({Extends:s,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(u,d,f,c,g,m){r.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(c,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new o(d,f);var y=n(m,"shape",null);y?this.setBody(y,m):this.setRectangle(this.width,this.height,m),this.setPosition(d,f),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=i},73834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(83419),r=t(31884),n=t(62644),e=t(50792),s=t(95540),o=t(97022),i=t(41598),h=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(d,f,c){e.call(this),this.tile=f,this.world=d,f.physics.matterBody&&f.physics.matterBody.destroy(),f.physics.matterBody=this;var g=s(c,"body",null),m=s(c,"addToWorld",!0);if(g)this.setBody(g,m);else{var y=f.getCollisionGroup(),x=s(y,"objects",[]);x.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}if(f.flipX||f.flipY){var T={x:f.getCenterX(),y:f.getCenterY()},C=f.flipX?-1:1,A=f.flipY?-1:1;v.scale(g,C,A,T)}},setFromTileRectangle:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);var d=this.tile.getBounds(),f=d.x+d.width/2,c=d.y+d.height/2,g=l.rectangle(f,c,d.width,d.height,u);return this.setBody(g,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),o(u,"isStatic")||(u.isStatic=!0),o(u,"addToWorld")||(u.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,f=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),g=this.tile.getTop(),m=this.tile.getCollisionGroup(),y=s(m,"objects",[]),x=[],T=0;T<y.length;T++){var C=y[T],A=c+C.x*d,w=g+C.y*f,P=C.width*d,M=C.height*f,R=null;if(C.rectangle)R=l.rectangle(A+P/2,w+M/2,P,M,u);else if(C.ellipse)R=l.circle(A+P/2,w+M/2,P/2,u);else if(C.polygon||C.polyline){var O=C.polygon?C.polygon:C.polyline,U=O.map(function(N){return{x:N.x*d,y:N.y*f}}),X=i.create(U),W=i.centre(X);A+=W.x,w+=W.y,R=l.fromVertices(A,w,X,u)}R&&x.push(R)}if(x.length===1)this.setBody(x[0],u.addToWorld);else if(x.length>1){var Y=n(u);Y.parts=x,this.setBody(v.create(Y),Y.addToWorld)}return this},setBody:function(u,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=h},19496:(p,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(53402),r=t(95540),n=t(41598),e={parseBody:function(s,o,i,h){h===void 0&&(h={});for(var u=r(i,"fixtures",[]),d=[],f=0;f<u.length;f++)for(var c=this.parseFixture(u[f]),g=0;g<c.length;g++)d.push(c[g]);var m=a.clone(i,!0);a.extend(m,h,!0),delete m.fixtures,delete m.type;var y=v.create(m);return v.setParts(y,d),v.setPosition(y,{x:s,y:o}),y},parseFixture:function(s){var o=a.extend({},!1,s);delete o.circle,delete o.vertices;var i;if(s.circle){var h=r(s.circle,"x"),u=r(s.circle,"y"),d=r(s.circle,"radius");i=[l.circle(h,u,d,o)]}else s.vertices&&(i=this.parseVertices(s.vertices,o));return i},parseVertices:function(s,o){o===void 0&&(o={});for(var i=[],h=0;h<s.length;h++)n.clockwiseSort(s[h]),i.push(v.create(a.extend({position:n.centre(s[h]),vertices:s[h]},o)));return l.flagCoincidentParts(i)}};p.exports=e},85791:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a={parseBody:function(r,n,e,s){s===void 0&&(s={});var o,i=e.vertices;if(i.length===1)s.vertices=i[0],o=v.create(s),l.flagCoincidentParts(o.parts);else{for(var h=[],u=0;u<i.length;u++){var d=v.create({vertices:i[u]});h.push(d)}l.flagCoincidentParts(h),s.parts=h,o=v.create(s)}return o.label=e.label,v.setPosition(o,{x:r,y:n}),o}};p.exports=a},98713:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15647),v=t(83419),a=t(69351),r=t(48140),n=t(81388),e=t(1121),s=t(8214),o=t(46975),i=t(53614),h=t(26099),u=t(41598),d=new v({initialize:function(c,g,m){m===void 0&&(m={});var y={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=r.create(o(m,y)),this.world.on(e.BEFORE_UPDATE,this.update,this),c.sys.input.on(s.POINTER_DOWN,this.onDown,this),c.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(f){this.pointer||(this.pointer=f,this.camera=f.camera)},onUp:function(f){f===this.pointer&&(this.pointer=null)},getBody:function(f){var c=this.position,g=this.constraint;this.camera.getWorldPoint(f.x,f.y,c);for(var m=a.allBodies(this.world.localWorld),y=0;y<m.length;y++){var x=m[y];if(!x.ignorePointer&&l.contains(x.bounds,c)&&n.canCollide(x.collisionFilter,g.collisionFilter)&&this.hitTestBody(x,c))return this.world.emit(e.DRAG_START,x,this.part,this),!0}return!1},hitTestBody:function(f,c){for(var g=this.constraint,m=f.parts.length,y=m>1?1:0,x=y;x<m;x++){var T=f.parts[x];if(u.contains(T.vertices,c))return g.pointA=c,g.pointB={x:c.x-f.position.x,y:c.y-f.position.y},g.bodyB=f,g.angleB=f.angle,i.set(f,!1),this.part=T,this.body=f,!0}return!1},update:function(){var f=this.pointer,c=this.body;if(!this.active||!f){c&&this.stopDrag();return}if(!f.isDown&&c){this.stopDrag();return}else if(f.isDown){if(!this.camera||!c&&!this.getBody(f))return;c=this.body;var g=this.position,m=this.constraint;this.camera.getWorldPoint(f.x,f.y,g),m.pointA.x=g.x,m.pointA.y=g.y,i.set(c,!1),this.world.emit(e.DRAG,c,this)}},stopDrag:function(){var f=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,f&&this.world.emit(e.DRAG_END,f,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});p.exports=d},68243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(83419),r=t(53402),n=t(69351),e=t(48413),s=t(50792),o=t(1121),i=t(95540),h=t(35154),u=t(22562),d=t(35810),f=t(73834),c=t(4372),g=t(13037),m=t(31725),y=new a({Extends:s,initialize:function(T,C){s.call(this),this.scene=T,this.engine=e.create(C),this.localWorld=this.engine.world;var A=h(C,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(C,"enabled",!0),this.getDelta=h(C,"getDelta",this.update60Hz);var w=i(C,"runner",{}),P=i(w,"fps",!1);P&&(w.delta=1e3/i(w,"fps",60)),this.runner=g.create(w),this.autoUpdate=h(C,"autoUpdate",!0);var M=h(C,"debug",!1);if(this.drawDebug=typeof M=="object"?!0:M,this.debugGraphic,this.debugConfig={showAxes:i(M,"showAxes",!1),showAngleIndicator:i(M,"showAngleIndicator",!1),angleColor:i(M,"angleColor",15208787),showBroadphase:i(M,"showBroadphase",!1),broadphaseColor:i(M,"broadphaseColor",16757760),showBounds:i(M,"showBounds",!1),boundsColor:i(M,"boundsColor",16777215),showVelocity:i(M,"showVelocity",!1),velocityColor:i(M,"velocityColor",44783),showCollisions:i(M,"showCollisions",!1),collisionColor:i(M,"collisionColor",16094476),showSeparations:i(M,"showSeparations",!1),separationColor:i(M,"separationColor",16753920),showBody:i(M,"showBody",!0),showStaticBody:i(M,"showStaticBody",!0),showInternalEdges:i(M,"showInternalEdges",!1),renderFill:i(M,"renderFill",!1),renderLine:i(M,"renderLine",!0),fillColor:i(M,"fillColor",1075465),fillOpacity:i(M,"fillOpacity",1),lineColor:i(M,"lineColor",2678297),lineOpacity:i(M,"lineOpacity",1),lineThickness:i(M,"lineThickness",1),staticFillColor:i(M,"staticFillColor",857979),staticLineColor:i(M,"staticLineColor",1255396),showSleeping:i(M,"showSleeping",!1),staticBodySleepOpacity:i(M,"staticBodySleepOpacity",.7),sleepFillColor:i(M,"sleepFillColor",4605510),sleepLineColor:i(M,"sleepLineColor",10066585),showSensors:i(M,"showSensors",!0),sensorFillColor:i(M,"sensorFillColor",857979),sensorLineColor:i(M,"sensorLineColor",1255396),showPositions:i(M,"showPositions",!0),positionSize:i(M,"positionSize",4),positionColor:i(M,"positionColor",14697178),showJoint:i(M,"showJoint",!0),jointColor:i(M,"jointColor",14737474),jointLineOpacity:i(M,"jointLineOpacity",1),jointLineThickness:i(M,"jointLineThickness",2),pinSize:i(M,"pinSize",4),pinColor:i(M,"pinColor",4382944),springColor:i(M,"springColor",14697184),anchorColor:i(M,"anchorColor",15724527),anchorSize:i(M,"anchorSize",4),showConvexHulls:i(M,"showConvexHulls",!1),hullColor:i(M,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(C,"setBounds",!1)){var R=C.setBounds;if(typeof R=="boolean")this.setBounds();else{var O=i(R,"x",0),U=i(R,"y",0),X=i(R,"width",T.sys.scale.width),W=i(R,"height",T.sys.scale.height),Y=i(R,"thickness",64),N=i(R,"left",!0),z=i(R,"right",!0),B=i(R,"top",!0),I=i(R,"bottom",!0);this.setBounds(O,U,X,W,Y,N,z,B,I)}}},setCompositeRenderStyle:function(x){var T=x.bodies,C=x.constraints,A=x.composites,w,P,M;for(w=0;w<T.length;w++)P=T[w],M=P.render,this.setBodyRenderStyle(P,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(w=0;w<C.length;w++)P=C[w],M=P.render,this.setConstraintRenderStyle(P,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(w=0;w<A.length;w++)P=A[w],this.setCompositeRenderStyle(P);return this},setBodyRenderStyle:function(x,T,C,A,w,P){var M=x.render,R=this.debugConfig;return M?(T==null&&(T=x.isStatic?R.staticLineColor:R.lineColor),C==null&&(C=R.lineOpacity),A==null&&(A=R.lineThickness),w==null&&(w=x.isStatic?R.staticFillColor:R.fillColor),P==null&&(P=R.fillOpacity),T!==!1&&(M.lineColor=T),C!==!1&&(M.lineOpacity=C),A!==!1&&(M.lineThickness=A),w!==!1&&(M.fillColor=w),P!==!1&&(M.fillOpacity=P),this):this},setConstraintRenderStyle:function(x,T,C,A,w,P,M){var R=x.render,O=this.debugConfig;if(!R)return this;if(T==null){var U=R.type;U==="line"?T=O.jointColor:U==="pin"?T=O.pinColor:U==="spring"&&(T=O.springColor)}return C==null&&(C=O.jointLineOpacity),A==null&&(A=O.jointLineThickness),w==null&&(w=O.pinSize),P==null&&(P=O.anchorColor),M==null&&(M=O.anchorSize),T!==!1&&(R.lineColor=T),C!==!1&&(R.lineOpacity=C),A!==!1&&(R.lineThickness=A),w!==!1&&(R.pinSize=w),P!==!1&&(R.anchorColor=P),M!==!1&&(R.anchorSize=M),this},setEventsProxy:function(){var x=this,T=this.engine,C=this.localWorld;this.drawDebug&&(d.on(C,"compositeModified",function(A){x.setCompositeRenderStyle(A)}),d.on(C,"beforeAdd",function(A){for(var w=[].concat(A.object),P=0;P<w.length;P++){var M=w[P],R=M.render;M.type==="body"?x.setBodyRenderStyle(M,R.lineColor,R.lineOpacity,R.lineThickness,R.fillColor,R.fillOpacity):M.type==="composite"?x.setCompositeRenderStyle(M):M.type==="constraint"&&x.setConstraintRenderStyle(M,R.lineColor,R.lineOpacity,R.lineThickness,R.pinSize,R.anchorColor,R.anchorSize)}})),d.on(C,"beforeAdd",function(A){x.emit(o.BEFORE_ADD,A)}),d.on(C,"afterAdd",function(A){x.emit(o.AFTER_ADD,A)}),d.on(C,"beforeRemove",function(A){x.emit(o.BEFORE_REMOVE,A)}),d.on(C,"afterRemove",function(A){x.emit(o.AFTER_REMOVE,A)}),d.on(T,"beforeUpdate",function(A){x.emit(o.BEFORE_UPDATE,A)}),d.on(T,"afterUpdate",function(A){x.emit(o.AFTER_UPDATE,A)}),d.on(T,"collisionStart",function(A){var w=A.pairs,P,M;w.length>0&&w.map(function(R){P=R.bodyA,M=R.bodyB,P.gameObject&&P.gameObject.emit("collide",P,M,R),M.gameObject&&M.gameObject.emit("collide",M,P,R),d.trigger(P,"onCollide",{pair:R}),d.trigger(M,"onCollide",{pair:R}),P.onCollideCallback&&P.onCollideCallback(R),M.onCollideCallback&&M.onCollideCallback(R),P.onCollideWith[M.id]&&P.onCollideWith[M.id](M,R),M.onCollideWith[P.id]&&M.onCollideWith[P.id](P,R)}),x.emit(o.COLLISION_START,A,P,M)}),d.on(T,"collisionActive",function(A){var w=A.pairs,P,M;w.length>0&&w.map(function(R){P=R.bodyA,M=R.bodyB,P.gameObject&&P.gameObject.emit("collideActive",P,M,R),M.gameObject&&M.gameObject.emit("collideActive",M,P,R),d.trigger(P,"onCollideActive",{pair:R}),d.trigger(M,"onCollideActive",{pair:R}),P.onCollideActiveCallback&&P.onCollideActiveCallback(R),M.onCollideActiveCallback&&M.onCollideActiveCallback(R)}),x.emit(o.COLLISION_ACTIVE,A,P,M)}),d.on(T,"collisionEnd",function(A){var w=A.pairs,P,M;w.length>0&&w.map(function(R){P=R.bodyA,M=R.bodyB,P.gameObject&&P.gameObject.emit("collideEnd",P,M,R),M.gameObject&&M.gameObject.emit("collideEnd",M,P,R),d.trigger(P,"onCollideEnd",{pair:R}),d.trigger(M,"onCollideEnd",{pair:R}),P.onCollideEndCallback&&P.onCollideEndCallback(R),M.onCollideEndCallback&&M.onCollideEndCallback(R)}),x.emit(o.COLLISION_END,A,P,M)})},setBounds:function(x,T,C,A,w,P,M,R,O){return x===void 0&&(x=0),T===void 0&&(T=0),C===void 0&&(C=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),w===void 0&&(w=64),P===void 0&&(P=!0),M===void 0&&(M=!0),R===void 0&&(R=!0),O===void 0&&(O=!0),this.updateWall(P,"left",x-w,T-w,w,A+w*2),this.updateWall(M,"right",x+C,T-w,w,A+w*2),this.updateWall(R,"top",x,T-w,C,w),this.updateWall(O,"bottom",x,T+A,C,w),this},updateWall:function(x,T,C,A,w,P){var M=this.walls[T];x?(M&&c.remove(this.localWorld,M),C+=w/2,A+=P/2,this.walls[T]=this.create(C,A,w,P,{isStatic:!0,friction:0,frictionStatic:0})):(M&&c.remove(this.localWorld,M),this.walls[T]=null)},createDebugGraphic:function(){var x=this.scene.sys.add.graphics({x:0,y:0});return x.setDepth(Number.MAX_VALUE),this.debugGraphic=x,this.drawDebug=!0,x},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(x,T,C){return x===void 0&&(x=0),T===void 0&&(T=1),C===void 0&&(C=.001),this.localWorld.gravity.x=x,this.localWorld.gravity.y=T,this.localWorld.gravity.scale=C,this},create:function(x,T,C,A,w){var P=l.rectangle(x,T,C,A,w);return c.add(this.localWorld,P),P},add:function(x){return c.add(this.localWorld,x),this},remove:function(x,T){Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++){var A=x[C],w=A.body?A.body:A;n.remove(this.localWorld,w,T)}return this},removeConstraint:function(x,T){return n.remove(this.localWorld,x,T),this},convertTilemapLayer:function(x,T){var C=x.layer,A=x.getTilesWithin(0,0,C.width,C.height,{isColliding:!0});return this.convertTiles(A,T),this},convertTiles:function(x,T){if(x.length===0)return this;for(var C=0;C<x.length;C++)new f(this,x[C],T);return this},nextGroup:function(x){return u.nextGroup(x)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(o.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=r.now(),this.emit(o.RESUME),this},update:function(x){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,C=this.runner,A=r.now(),w=C.delta,P=0,M=x-C.timeLastTick;if((!M||!C.timeLastTick||M>Math.max(g._maxFrameDelta,C.maxFrameTime))&&(M=C.frameDelta||g._frameDeltaFallback),C.frameDeltaSmoothing){C.frameDeltaHistory.push(M),C.frameDeltaHistory=C.frameDeltaHistory.slice(-C.frameDeltaHistorySize);var R=C.frameDeltaHistory.slice(0).sort(),O=C.frameDeltaHistory.slice(R.length*g._smoothingLowerBound,R.length*g._smoothingUpperBound),U=g._mean(O);M=U||M}C.frameDeltaSnapping&&(M=1e3/Math.round(1e3/M)),C.frameDelta=M,C.timeLastTick=x,C.timeBuffer+=C.frameDelta,C.timeBuffer=r.clamp(C.timeBuffer,0,C.frameDelta+w*g._timeBufferMargin),C.lastUpdatesDeferred=0;for(var X=C.maxUpdates||Math.ceil(C.maxFrameTime/w),W=r.now();w>0&&C.timeBuffer>=w*g._timeBufferMargin;){e.update(T,w),C.timeBuffer-=w,P+=1;var Y=r.now()-A,N=r.now()-W,z=Y+g._elapsedNextEstimate*N/P;if(P>=X||z>C.maxFrameTime){C.lastUpdatesDeferred=Math.round(Math.max(0,C.timeBuffer/w-g._timeBufferMargin));break}}}},step:function(x){e.update(this.engine,x)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(x){var T=x.hasOwnProperty("body")?x.body:x;return n.get(this.localWorld,T.id,T.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var x=this.debugConfig,T=this.engine,C=this.debugGraphic,A=n.allBodies(this.localWorld);this.debugGraphic.clear(),x.showBroadphase&&T.broadphase.controller&&this.renderGrid(T.broadphase,C,x.broadphaseColor,.5),x.showBounds&&this.renderBodyBounds(A,C,x.boundsColor,.5),(x.showBody||x.showStaticBody)&&this.renderBodies(A),x.showJoint&&this.renderJoints(),(x.showAxes||x.showAngleIndicator)&&this.renderBodyAxes(A,C,x.showAxes,x.angleColor,.5),x.showVelocity&&this.renderBodyVelocity(A,C,x.velocityColor,1,2),x.showSeparations&&this.renderSeparations(T.pairs.list,C,x.separationColor),x.showCollisions&&this.renderCollisions(T.pairs.list,C,x.collisionColor)}},renderGrid:function(x,T,C,A){T.lineStyle(1,C,A);for(var w=r.keys(x.buckets),P=0;P<w.length;P++){var M=w[P];if(!(x.buckets[M].length<2)){var R=M.split(/C|R/);T.strokeRect(parseInt(R[1],10)*x.bucketWidth,parseInt(R[2],10)*x.bucketHeight,x.bucketWidth,x.bucketHeight)}}return this},renderSeparations:function(x,T,C){T.lineStyle(1,C,1);for(var A=0;A<x.length;A++){var w=x[A];if(w.isActive){var P=w.collision,M=P.bodyA,R=P.bodyB,O=M.position,U=R.position,X=P.penetration,W=!M.isStatic&&!R.isStatic?4:1;R.isStatic&&(W=0),T.lineBetween(U.x,U.y,U.x-X.x*W,U.y-X.y*W),W=!M.isStatic&&!R.isStatic?4:1,M.isStatic&&(W=0),T.lineBetween(O.x,O.y,O.x-X.x*W,O.y-X.y*W)}}return this},renderCollisions:function(x,T,C){T.lineStyle(1,C,.5),T.fillStyle(C,1);var A,w;for(A=0;A<x.length;A++)if(w=x[A],!!w.isActive)for(var P=0;P<w.contactCount;P++){var M=w.contacts[P],R=M.vertex;R&&T.fillRect(R.x-2,R.y-2,5,5)}for(A=0;A<x.length;A++)if(w=x[A],!!w.isActive){var O=w.collision,U=w.contacts;if(w.contactCount>0){var X=U[0].vertex.x,W=U[0].vertex.y;w.contactCount===2&&(X=(U[0].vertex.x+U[1].vertex.x)/2,W=(U[0].vertex.y+U[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?T.lineBetween(X-O.normal.x*8,W-O.normal.y*8,X,W):T.lineBetween(X+O.normal.x*8,W+O.normal.y*8,X,W)}}return this},renderBodyBounds:function(x,T,C,A){T.lineStyle(1,C,A);for(var w=0;w<x.length;w++){var P=x[w];if(P.render.visible){var M=P.bounds;if(M)T.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var R=P.parts,O=R.length>1?1:0;O<R.length;O++){var U=R[O];T.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(x,T,C,A,w){T.lineStyle(1,A,w);for(var P=0;P<x.length;P++){var M=x[P],R=M.parts;if(M.render.visible){var O,U,X;if(C)for(U=R.length>1?1:0;U<R.length;U++)for(O=R[U],X=0;X<O.axes.length;X++){var W=O.axes[X];T.lineBetween(O.position.x,O.position.y,O.position.x+W.x*20,O.position.y+W.y*20)}else for(U=R.length>1?1:0;U<R.length;U++)for(O=R[U],X=0;X<O.axes.length;X++)T.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(x,T,C,A,w){T.lineStyle(w,C,A);for(var P=0;P<x.length;P++){var M=x[P];M.render.visible&&T.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},renderBodies:function(x){for(var T=this.debugGraphic,C=this.debugConfig,A=C.showBody,w=C.showStaticBody,P=C.showSleeping,M=C.showInternalEdges,R=C.showConvexHulls,O=C.renderFill,U=C.renderLine,X=C.staticBodySleepOpacity,W=C.sleepFillColor,Y=C.sleepLineColor,N=C.hullColor,z=0;z<x.length;z++){var B=x[z];if(B.render.visible&&!(!w&&B.isStatic||!A&&!B.isStatic)){var I=B.render.lineColor,G=B.render.lineOpacity,H=B.render.lineThickness,K=B.render.fillColor,Z=B.render.fillOpacity;P&&B.isSleeping&&(B.isStatic?(G*=X,Z*=X):(I=Y,K=W)),O||(K=null),U||(I=null),this.renderBody(B,T,M,I,G,H,K,Z);var Q=B.parts.length;R&&Q>1&&this.renderConvexHull(B,T,N,H)}}},renderBody:function(x,T,C,A,w,P,M,R){A===void 0&&(A=null),w===void 0&&(w=null),P===void 0&&(P=1),M===void 0&&(M=null),R===void 0&&(R=null);for(var O=this.debugConfig,U=O.sensorFillColor,X=O.sensorLineColor,W=x.parts,Y=W.length,N=Y>1?1:0;N<Y;N++){var z=W[N],B=z.render,I=B.opacity;if(!(!B.visible||I===0||z.isSensor&&!O.showSensors)){var G=z.circleRadius;if(T.beginPath(),z.isSensor?(M!==null&&T.fillStyle(U,R*I),A!==null&&T.lineStyle(P,X,w*I)):(M!==null&&T.fillStyle(M,R*I),A!==null&&T.lineStyle(P,A,w*I)),G)T.arc(z.position.x,z.position.y,G,0,2*Math.PI);else{var H=z.vertices,K=H.length;T.moveTo(H[0].x,H[0].y);for(var Z=1;Z<K;Z++){var Q=H[Z];if(!H[Z-1].isInternal||C?T.lineTo(Q.x,Q.y):T.moveTo(Q.x,Q.y),Z<K&&Q.isInternal&&!C){var j=(Z+1)%K;T.moveTo(H[j].x,H[j].y)}}T.closePath()}M!==null&&T.fillPath(),A!==null&&T.strokePath()}}if(O.showPositions&&!x.isStatic){var _=x.position.x,tt=x.position.y,et=Math.ceil(O.positionSize/2);T.fillStyle(O.positionColor,1),T.fillRect(_-et,tt-et,O.positionSize,O.positionSize)}return this},renderConvexHull:function(x,T,C,A){A===void 0&&(A=1);var w=x.parts,P=w.length;if(P>1){var M=x.vertices;T.lineStyle(A,C),T.beginPath(),T.moveTo(M[0].x,M[0].y);for(var R=1;R<M.length;R++)T.lineTo(M[R].x,M[R].y);T.lineTo(M[0].x,M[0].y),T.strokePath()}return this},renderJoints:function(){for(var x=this.debugGraphic,T=n.allConstraints(this.localWorld),C=0;C<T.length;C++){var A=T[C].render,w=A.lineColor,P=A.lineOpacity,M=A.lineThickness,R=A.pinSize,O=A.anchorColor,U=A.anchorSize;this.renderConstraint(T[C],x,w,P,M,R,O,U)}},renderConstraint:function(x,T,C,A,w,P,M,R){var O=x.render;if(!O.visible||!x.pointA||!x.pointB)return this;T.lineStyle(w,C,A);var U=x.bodyA,X=x.bodyB,W,Y;if(U?W=m.add(U.position,x.pointA):W=x.pointA,O.type==="pin")T.strokeCircle(W.x,W.y,P);else{if(X?Y=m.add(X.position,x.pointB):Y=x.pointB,T.beginPath(),T.moveTo(W.x,W.y),O.type==="spring")for(var N=m.sub(Y,W),z=m.perp(m.normalise(N)),B=Math.ceil(r.clamp(x.length/5,12,20)),I,G=1;G<B;G+=1)I=G%2===0?1:-1,T.lineTo(W.x+N.x*(G/B)+z.x*I*4,W.y+N.y*(G/B)+z.y*I*4);T.lineTo(Y.x,Y.y)}return T.strokePath(),O.anchors&&R>0&&(T.fillStyle(M),T.fillCircle(W.x,W.y,R),T.fillCircle(Y.x,Y.y,R)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=y},70410:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};p.exports=S},66968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var l=0;if(!Array.isArray(t))l=t;else for(var v=0;v<t.length;v++)l|=t[v];return this.body.collisionFilter.mask=l,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,l){Array.isArray(t)||(t=[t]);for(var v=0;v<t.length;v++){var a=t[v].hasOwnProperty("body")?t[v].body:t[v];this.body.setOnCollideWith(a,l)}return this}};p.exports=S},51607:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return l.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=v},5436:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,l,v){return this.body.friction=t,l!==void 0&&(this.body.frictionAir=l),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=S},39858:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=S},37302:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v=t(26099),a={setMass:function(r){return l.setMass(this.body,r),this},setDensity:function(r){return l.setDensity(this.body,r),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=a},39132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=S},57772:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66280),v=t(22562),a=t(43855),r=t(95540),n=t(19496),e=t(85791),s=t(41598),o={setRectangle:function(i,h,u){return this.setBody({type:"rectangle",width:i,height:h},u)},setCircle:function(i,h){return this.setBody({type:"circle",radius:i},h)},setPolygon:function(i,h,u){return this.setBody({type:"polygon",sides:h,radius:i},u)},setTrapezoid:function(i,h,u,d){return this.setBody({type:"trapezoid",width:i,height:h,slope:u},d)},setExistingBody:function(i,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var d=this;if(i.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},h&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var f=i.render.sprite.xOffset,c=i.render.sprite.yOffset,g=i.centerOfMass.x,m=i.centerOfMass.y;if(a(g,.5)&&a(m,.5))this.setOrigin(f+.5,c+.5);else{var y=i.centerOffset.x,x=i.centerOffset.y;this.setOrigin(f+y/this.displayWidth,c+x/this.displayHeight)}}return this},setBody:function(i,h){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var d=r(i,"type","rectangle"),f=r(i,"x",this._tempVec2.x),c=r(i,"y",this._tempVec2.y),g=r(i,"width",this.width),m=r(i,"height",this.height);switch(d){case"rectangle":u=l.rectangle(f,c,g,m,h);break;case"circle":var y=r(i,"radius",Math.max(g,m)/2),x=r(i,"maxSides",25);u=l.circle(f,c,y,h,x);break;case"trapezoid":var T=r(i,"slope",.5);u=l.trapezoid(f,c,g,m,T,h);break;case"polygon":var C=r(i,"sides",5),A=r(i,"radius",Math.max(g,m)/2);u=l.polygon(f,c,C,A,h);break;case"fromVertices":case"fromVerts":var w=r(i,"verts",null);if(w)if(typeof w=="string"&&(w=s.fromPath(w)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,w),u=this.body;else{var P=r(i,"flagInternal",!1),M=r(i,"removeCollinear",.01),R=r(i,"minimumArea",10);u=l.fromVertices(f,c,w,h,P,M,R)}break;case"fromPhysicsEditor":u=n.parseBody(f,c,i,h);break;case"fromPhysicsTracer":u=e.parseBody(f,c,i,h);break}return u&&this.setExistingBody(u,i.addToWorld),this}};p.exports=o},38083:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1121),v=t(53614),a=t(35810),r={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepStart",function(s){e.emit(l.SLEEP_START,s,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepEnd",function(s){e.emit(l.SLEEP_END,s,this)})}else a.off(this.body,"sleepEnd");return this}};p.exports=r},90556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v={setStatic:function(a){return l.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};p.exports=v},85436:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v=t(36383),a=t(86554),r=t(30954),n=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),l.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this.setScale(s,s)}},scaleX:{get:function(){return this._scaleX},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=n,l.scale(this.body,o,i),l.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var o=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=n,l.scale(this.body,o,i),l.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*v.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=a(s),l.setAngle(this.body,this._rotation)}},setPosition:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this._tempVec2.set(s,o),l.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=a(s),l.setAngle(this.body,s),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,l.setAngle(this.body,this.rotation),this},setScale:function(s,o,i){s===void 0&&(s=1),o===void 0&&(o=s);var h=1/this._scaleX,u=1/this._scaleY;return this._scaleX=s,this._scaleY=o,l.scale(this.body,h,u,i),l.scale(this.body,s,o,i),this}};p.exports=e},42081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22562),v={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),l.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return l.getVelocity(this.body)},setAngularVelocity:function(a){return l.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return l.getAngularVelocity(this.body)},setAngularSpeed:function(a){return l.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return l.getAngularSpeed(this.body)}};p.exports=v},31884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},1213:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},25968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},67205:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},39438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},44823:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},92593:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},60128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},76861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},92362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},76408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},93971:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},5656:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},47861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},79099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},35906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},1121:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(p,S,t)=>{var l={};p.exports=l;var v=t(41598),a=t(31725),r=t(53614),n=t(53402),e=t(15647),s=t(66615);(function(){l._timeCorrection=!0,l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l._baseDelta=16.666666666666668,l.create=function(i){var h={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=v.centre(i.vertices):i.hasOwnProperty("vertices")||(h.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=n.extend(h,i);return o(u,i),u.setOnCollideWith=function(d,f){return f?this.onCollideWith[d.id]=f:delete this.onCollideWith[d.id],this},u},l.nextGroup=function(i){return i?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var o=function(i,h){if(h=h||{},l.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),v.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),l.set(i,{axes:h.axes||i.axes,area:h.area||i.area,mass:h.mass||i.mass,inertia:h.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,d=i.centerOfMass,f=i.centerOffset,c=u.max.x-u.min.x,g=u.max.y-u.min.y;d.x=-(u.min.x-i.position.x)/c,d.y=-(u.min.y-i.position.y)/g,f.x=c*d.x,f.y=g*d.y}};l.set=function(i,h,u){var d;typeof h=="string"&&(d=h,h={},h[d]=u);for(d in h)if(Object.prototype.hasOwnProperty.call(h,d))switch(u=h[d],d){case"isStatic":l.setStatic(i,u);break;case"isSleeping":r.set(i,u);break;case"mass":l.setMass(i,u);break;case"density":l.setDensity(i,u);break;case"inertia":l.setInertia(i,u);break;case"vertices":l.setVertices(i,u);break;case"position":l.setPosition(i,u);break;case"angle":l.setAngle(i,u);break;case"velocity":l.setVelocity(i,u);break;case"angularVelocity":l.setAngularVelocity(i,u);break;case"speed":l.setSpeed(i,u);break;case"angularSpeed":l.setAngularSpeed(i,u);break;case"parts":l.setParts(i,u);break;case"centre":l.setCentre(i,u);break;default:i[d]=u}},l.setStatic=function(i,h){for(var u=0;u<i.parts.length;u++){var d=i.parts[u];h?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=h}},l.setMass=function(i,h){var u=i.inertia/(i.mass/6);i.inertia=u*(h/6),i.inverseInertia=1/i.inertia,i.mass=h,i.inverseMass=1/i.mass,i.density=i.mass/i.area},l.setDensity=function(i,h){l.setMass(i,h*i.area),i.density=h},l.setInertia=function(i,h){i.inertia=h,i.inverseInertia=1/i.inertia},l.setVertices=function(i,h){h[0].body===i?i.vertices=h:i.vertices=v.create(h,i),i.axes=s.fromVertices(i.vertices),i.area=v.area(i.vertices),l.setMass(i,i.density*i.area);var u=v.centre(i.vertices);v.translate(i.vertices,u,-1),l.setInertia(i,l._inertiaScale*v.inertia(i.vertices,i.mass)),v.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},l.setParts=function(i,h,u){var d;for(h=h.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<h.length;d++){var f=h[d];f!==i&&(f.parent=i,i.parts.push(f))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var c=[];for(d=0;d<h.length;d++)c=c.concat(h[d].vertices);v.clockwiseSort(c);var g=v.hull(c),m=v.centre(g);l.setVertices(i,g),v.translate(i.vertices,m)}var y=l._totalProperties(i),x=y.centre.x,T=y.centre.y,C=i.bounds,A=i.centerOfMass,w=i.centerOffset;e.update(C,i.vertices,i.velocity),A.x=-(C.min.x-x)/(C.max.x-C.min.x),A.y=-(C.min.y-T)/(C.max.y-C.min.y),w.x=x,w.y=T,i.area=y.area,i.parent=i,i.position.x=x,i.position.y=T,i.positionPrev.x=x,i.positionPrev.y=T,l.setMass(i,y.mass),l.setInertia(i,y.inertia),l.setPosition(i,y.centre)}},l.setCentre=function(i,h,u){u?(i.positionPrev.x+=h.x,i.positionPrev.y+=h.y,i.position.x+=h.x,i.position.y+=h.y):(i.positionPrev.x=h.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=h.y-(i.position.y-i.positionPrev.y),i.position.x=h.x,i.position.y=h.y)},l.setPosition=function(i,h,u){var d=a.sub(h,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=a.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var f=0;f<i.parts.length;f++){var c=i.parts[f];c.position.x+=d.x,c.position.y+=d.y,v.translate(c.vertices,d),e.update(c.bounds,c.vertices,i.velocity)}},l.setAngle=function(i,h,u){var d=h-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var f=0;f<i.parts.length;f++){var c=i.parts[f];c.angle+=d,v.rotate(c.vertices,d,i.position),s.rotate(c.axes,d),e.update(c.bounds,c.vertices,i.velocity),f>0&&a.rotateAbout(c.position,d,i.position,c.position)}},l.setVelocity=function(i,h){var u=i.deltaTime/l._baseDelta;i.positionPrev.x=i.position.x-h.x*u,i.positionPrev.y=i.position.y-h.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=a.magnitude(i.velocity)},l.getVelocity=function(i){var h=l._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*h,y:(i.position.y-i.positionPrev.y)*h}},l.getSpeed=function(i){return a.magnitude(l.getVelocity(i))},l.setSpeed=function(i,h){l.setVelocity(i,a.mult(a.normalise(l.getVelocity(i)),h))},l.setAngularVelocity=function(i,h){var u=i.deltaTime/l._baseDelta;i.anglePrev=i.angle-h*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},l.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*l._baseDelta/i.deltaTime},l.getAngularSpeed=function(i){return Math.abs(l.getAngularVelocity(i))},l.setAngularSpeed=function(i,h){l.setAngularVelocity(i,n.sign(l.getAngularVelocity(i))*h)},l.translate=function(i,h,u){l.setPosition(i,a.add(i.position,h),u)},l.rotate=function(i,h,u,d){if(!u)l.setAngle(i,i.angle+h,d);else{var f=Math.cos(h),c=Math.sin(h),g=i.position.x-u.x,m=i.position.y-u.y;l.setPosition(i,{x:u.x+(g*f-m*c),y:u.y+(g*c+m*f)},d),l.setAngle(i,i.angle+h,d)}},l.scale=function(i,h,u,d){var f=0,c=0;d=d||i.position;for(var g=i.inertia===1/0,m=0;m<i.parts.length;m++){var y=i.parts[m];y.scale.x=h,y.scale.y=u,v.scale(y.vertices,h,u,d),y.axes=s.fromVertices(y.vertices),y.area=v.area(y.vertices),l.setMass(y,i.density*y.area),v.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),l.setInertia(y,l._inertiaScale*v.inertia(y.vertices,y.mass)),v.translate(y.vertices,{x:y.position.x,y:y.position.y}),m>0&&(f+=y.area,c+=y.inertia),y.position.x=d.x+(y.position.x-d.x)*h,y.position.y=d.y+(y.position.y-d.y)*u,e.update(y.bounds,y.vertices,i.velocity)}i.parts.length>1&&(i.area=f,i.isStatic||(l.setMass(i,i.density*f),l.setInertia(i,c))),i.circleRadius&&(h===u?i.circleRadius*=h:i.circleRadius=null),g&&l.setInertia(i,1/0)},l.update=function(i,h){h=(typeof h<"u"?h:16.666666666666668)*i.timeScale;var u=h*h,d=l._timeCorrection?h/(i.deltaTime||h):1,f=1-i.frictionAir*(h/n._baseDelta),c=(i.position.x-i.positionPrev.x)*d,g=(i.position.y-i.positionPrev.y)*d;i.velocity.x=c*f+i.force.x/i.mass*u,i.velocity.y=g*f+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=h,i.angularVelocity=(i.angle-i.anglePrev)*f*d+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var m=0;m<i.parts.length;m++){var y=i.parts[m];v.translate(y.vertices,i.velocity),m>0&&(y.position.x+=i.velocity.x,y.position.y+=i.velocity.y),i.angularVelocity!==0&&(v.rotate(y.vertices,i.angularVelocity,i.position),s.rotate(y.axes,i.angularVelocity),m>0&&a.rotateAbout(y.position,i.angularVelocity,i.position,y.position)),e.update(y.bounds,y.vertices,i.velocity)}},l.updateVelocities=function(i){var h=l._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*h,u.y=(i.position.y-i.positionPrev.y)*h,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*h,i.angularSpeed=Math.abs(i.angularVelocity)},l.applyForce=function(i,h,u){var d={x:h.x-i.position.x,y:h.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=d.x*u.y-d.y*u.x},l._totalProperties=function(i){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var d=i.parts[u],f=d.mass!==1/0?d.mass:1;h.mass+=f,h.area+=d.area,h.inertia+=d.inertia,h.centre=a.add(h.centre,a.mult(d.position,f))}return h.centre=a.div(h.centre,h.mass),h},l.wrap=function(i,h){var u=e.wrap(i.bounds,h);return u&&l.translate(i,u),u}})()},69351:(p,S,t)=>{var l={};p.exports=l;var v=t(35810),a=t(53402),r=t(15647),n=t(22562);(function(){l.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},l.setModified=function(e,s,o,i){if(v.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),o&&e.parent&&l.setModified(e.parent,s,o,i),i)for(var h=0;h<e.composites.length;h++){var u=e.composites[h];l.setModified(u,s,o,i)}},l.add=function(e,s){var o=[].concat(s);v.trigger(e,"beforeAdd",{object:s});for(var i=0;i<o.length;i++){var h=o[i];switch(h.type){case"body":if(h.parent!==h){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(e,h);break;case"constraint":l.addConstraint(e,h);break;case"composite":l.addComposite(e,h);break;case"mouseConstraint":l.addConstraint(e,h.constraint);break}}return v.trigger(e,"afterAdd",{object:s}),e},l.remove=function(e,s,o){var i=[].concat(s);v.trigger(e,"beforeRemove",{object:s});for(var h=0;h<i.length;h++){var u=i[h];switch(u.type){case"body":l.removeBody(e,u,o);break;case"constraint":l.removeConstraint(e,u,o);break;case"composite":l.removeComposite(e,u,o);break;case"mouseConstraint":l.removeConstraint(e,u.constraint);break}}return v.trigger(e,"afterRemove",{object:s}),e},l.addComposite=function(e,s){return e.composites.push(s),s.parent=e,l.setModified(e,!0,!0,!1),e},l.removeComposite=function(e,s,o){var i=a.indexOf(e.composites,s);if(i!==-1){var h=l.allBodies(s);l.removeCompositeAt(e,i);for(var u=0;u<h.length;u++)h[u].sleepCounter=0}if(o)for(var u=0;u<e.composites.length;u++)l.removeComposite(e.composites[u],s,!0);return e},l.removeCompositeAt=function(e,s){return e.composites.splice(s,1),l.setModified(e,!0,!0,!1),e},l.addBody=function(e,s){return e.bodies.push(s),l.setModified(e,!0,!0,!1),e},l.removeBody=function(e,s,o){var i=a.indexOf(e.bodies,s);if(i!==-1&&(l.removeBodyAt(e,i),s.sleepCounter=0),o)for(var h=0;h<e.composites.length;h++)l.removeBody(e.composites[h],s,!0);return e},l.removeBodyAt=function(e,s){return e.bodies.splice(s,1),l.setModified(e,!0,!0,!1),e},l.addConstraint=function(e,s){return e.constraints.push(s),l.setModified(e,!0,!0,!1),e},l.removeConstraint=function(e,s,o){var i=a.indexOf(e.constraints,s);if(i!==-1&&l.removeConstraintAt(e,i),o)for(var h=0;h<e.composites.length;h++)l.removeConstraint(e.composites[h],s,!0);return e},l.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),l.setModified(e,!0,!0,!1),e},l.clear=function(e,s,o){if(o)for(var i=0;i<e.composites.length;i++)l.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,l.setModified(e,!0,!0,!1),e},l.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),o=0;o<e.composites.length;o++)s=s.concat(l.allBodies(e.composites[o]));return e.cache&&(e.cache.allBodies=s),s},l.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),o=0;o<e.composites.length;o++)s=s.concat(l.allConstraints(e.composites[o]));return e.cache&&(e.cache.allConstraints=s),s},l.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),o=0;o<e.composites.length;o++)s=s.concat(l.allComposites(e.composites[o]));return e.cache&&(e.cache.allComposites=s),s},l.get=function(e,s,o){var i,h;switch(o){case"body":i=l.allBodies(e);break;case"constraint":i=l.allConstraints(e);break;case"composite":i=l.allComposites(e).concat(e);break}return i?(h=i.filter(function(u){return u.id.toString()===s.toString()}),h.length===0?null:h[0]):null},l.move=function(e,s,o){return l.remove(e,s),l.add(o,s),e},l.rebase=function(e){for(var s=l.allBodies(e).concat(l.allConstraints(e)).concat(l.allComposites(e)),o=0;o<s.length;o++)s[o].id=a.nextId();return e},l.translate=function(e,s,o){for(var i=o?l.allBodies(e):e.bodies,h=0;h<i.length;h++)n.translate(i[h],s);return e},l.rotate=function(e,s,o,i){for(var h=Math.cos(s),u=Math.sin(s),d=i?l.allBodies(e):e.bodies,f=0;f<d.length;f++){var c=d[f],g=c.position.x-o.x,m=c.position.y-o.y;n.setPosition(c,{x:o.x+(g*h-m*u),y:o.y+(g*u+m*h)}),n.rotate(c,s)}return e},l.scale=function(e,s,o,i,h){for(var u=h?l.allBodies(e):e.bodies,d=0;d<u.length;d++){var f=u[d],c=f.position.x-i.x,g=f.position.y-i.y;n.setPosition(f,{x:i.x+c*s,y:i.y+g*o}),n.scale(f,s,o)}return e},l.bounds=function(e){for(var s=l.allBodies(e),o=[],i=0;i<s.length;i+=1){var h=s[i];o.push(h.bounds.min,h.bounds.max)}return r.create(o)},l.wrap=function(e,s){var o=r.wrap(l.bounds(e),s);return o&&l.translate(e,o),o}})()},4372:(p,S,t)=>{var l={};p.exports=l;var v=t(69351);(function(){l.create=v.create,l.add=v.add,l.remove=v.remove,l.clear=v.clear,l.addComposite=v.addComposite,l.addBody=v.addBody,l.addConstraint=v.addConstraint})()},52284:(p,S,t)=>{var l={};p.exports=l;var v=t(41598),a=t(4506);(function(){var r=[],n={overlap:0,axis:null},e={overlap:0,axis:null};l.create=function(s,o){return{pair:null,collided:!1,bodyA:s,bodyB:o,parentA:s.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},l.collides=function(s,o,i){if(l._overlapAxes(n,s.vertices,o.vertices,s.axes),n.overlap<=0||(l._overlapAxes(e,o.vertices,s.vertices,o.axes),e.overlap<=0))return null;var h=i&&i.table[a.id(s,o)],u;h?u=h.collision:(u=l.create(s,o),u.collided=!0,u.bodyA=s.id<o.id?s:o,u.bodyB=s.id<o.id?o:s,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),s=u.bodyA,o=u.bodyB;var d;n.overlap<e.overlap?d=n:d=e;var f=u.normal,c=u.tangent,g=u.penetration,m=u.supports,y=d.overlap,x=d.axis,T=x.x,C=x.y,A=o.position.x-s.position.x,w=o.position.y-s.position.y;T*A+C*w>=0&&(T=-T,C=-C),f.x=T,f.y=C,c.x=-C,c.y=T,g.x=T*y,g.y=C*y,u.depth=y;var P=l._findSupports(s,o,f,1),M=0;if(v.contains(s.vertices,P[0])&&(m[M++]=P[0]),v.contains(s.vertices,P[1])&&(m[M++]=P[1]),M<2){var R=l._findSupports(o,s,f,-1);v.contains(o.vertices,R[0])&&(m[M++]=R[0]),M<2&&v.contains(o.vertices,R[1])&&(m[M++]=R[1])}return M===0&&(m[M++]=P[0]),u.supportCount=M,u},l._overlapAxes=function(s,o,i,h){var u=o.length,d=i.length,f=o[0].x,c=o[0].y,g=i[0].x,m=i[0].y,y=h.length,x=Number.MAX_VALUE,T=0,C,A,w,P,M,R;for(M=0;M<y;M++){var O=h[M],U=O.x,X=O.y,W=f*U+c*X,Y=g*U+m*X,N=W,z=Y;for(R=1;R<u;R+=1)P=o[R].x*U+o[R].y*X,P>N?N=P:P<W&&(W=P);for(R=1;R<d;R+=1)P=i[R].x*U+i[R].y*X,P>z?z=P:P<Y&&(Y=P);if(A=N-Y,w=z-W,C=A<w?A:w,C<x&&(x=C,T=M,C<=0))break}s.axis=h[T],s.overlap=x},l._findSupports=function(s,o,i,h){var u=o.vertices,d=u.length,f=s.position.x,c=s.position.y,g=i.x*h,m=i.y*h,y=u[0],x=y,T=g*(f-x.x)+m*(c-x.y),C,A,w;for(w=1;w<d;w+=1)x=u[w],A=g*(f-x.x)+m*(c-x.y),A<T&&(T=A,y=x);return C=u[(d+y.index-1)%d],T=g*(f-C.x)+m*(c-C.y),x=u[(y.index+1)%d],g*(f-x.x)+m*(c-x.y)<T?(r[0]=y,r[1]=x,r):(r[0]=y,r[1]=C,r)}})()},43424:p=>{var S={};p.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(p,S,t)=>{var l={};p.exports=l;var v=t(53402),a=t(52284);(function(){l.create=function(r){var n={bodies:[],collisions:[],pairs:null};return v.extend(n,r)},l.setBodies=function(r,n){r.bodies=n.slice(0)},l.clear=function(r){r.bodies=[],r.collisions=[]},l.collisions=function(r){var n=r.pairs,e=r.bodies,s=e.length,o=l.canCollide,i=a.collides,h=r.collisions,u=0,d,f;for(e.sort(l._compareBoundsX),d=0;d<s;d++){var c=e[d],g=c.bounds,m=c.bounds.max.x,y=c.bounds.max.y,x=c.bounds.min.y,T=c.isStatic||c.isSleeping,C=c.parts.length,A=C===1;for(f=d+1;f<s;f++){var w=e[f],P=w.bounds;if(P.min.x>m)break;if(!(y<P.min.y||x>P.max.y)&&!(T&&(w.isStatic||w.isSleeping))&&o(c.collisionFilter,w.collisionFilter)){var M=w.parts.length;if(A&&M===1){var R=i(c,w,n);R&&(h[u++]=R)}else for(var O=C>1?1:0,U=M>1?1:0,X=O;X<C;X++)for(var W=c.parts[X],g=W.bounds,Y=U;Y<M;Y++){var N=w.parts[Y],P=N.bounds;if(!(g.min.x>P.max.x||g.max.x<P.min.x||g.max.y<P.min.y||g.min.y>P.max.y)){var R=i(W,N,n);R&&(h[u++]=R)}}}}}return h.length!==u&&(h.length=u),h},l.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0},l._compareBoundsX=function(r,n){return r.bounds.min.x-n.bounds.min.x}})()},4506:(p,S,t)=>{var l={};p.exports=l;var v=t(43424);(function(){l.create=function(a,r){var n=a.bodyA,e=a.bodyB,s={id:l.id(n,e),bodyA:n,bodyB:e,collision:a,contacts:[v.create(),v.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return l.update(s,a,r),s},l.update=function(a,r,n){var e=r.supports,s=r.supportCount,o=a.contacts,i=r.parentA,h=r.parentB;a.isActive=!0,a.timeUpdated=n,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+h.inverseMass,a.friction=i.friction<h.friction?i.friction:h.friction,a.frictionStatic=i.frictionStatic>h.frictionStatic?i.frictionStatic:h.frictionStatic,a.restitution=i.restitution>h.restitution?i.restitution:h.restitution,a.slop=i.slop>h.slop?i.slop:h.slop,a.contactCount=s,r.pair=a;var u=e[0],d=o[0],f=e[1],c=o[1];(c.vertex===u||d.vertex===f)&&(o[1]=d,o[0]=d=c,c=o[1]),d.vertex=u,c.vertex=f},l.setActive=function(a,r,n){r?(a.isActive=!0,a.timeUpdated=n):(a.isActive=!1,a.contactCount=0)},l.id=function(a,r){return a.id<r.id?a.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+a.id.toString(36)}})()},99561:(p,S,t)=>{var l={};p.exports=l;var v=t(4506),a=t(53402);(function(){l.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},l.update=function(r,n,e){var s=v.update,o=v.create,i=v.setActive,h=r.table,u=r.list,d=u.length,f=d,c=r.collisionStart,g=r.collisionEnd,m=r.collisionActive,y=n.length,x=0,T=0,C=0,A,w,P;for(P=0;P<y;P++)A=n[P],w=A.pair,w?(w.isActive&&(m[C++]=w),s(w,A,e)):(w=o(A,e),h[w.id]=w,c[x++]=w,u[f++]=w);for(f=0,d=u.length,P=0;P<d;P++)w=u[P],w.timeUpdated>=e?u[f++]=w:(i(w,!1,e),w.collision.bodyA.sleepCounter>0&&w.collision.bodyB.sleepCounter>0?u[f++]=w:(g[T++]=w,delete h[w.id]));u.length!==f&&(u.length=f),c.length!==x&&(c.length=x),g.length!==T&&(g.length=T),m.length!==C&&(m.length=C)},l.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(p,S,t)=>{var l={};p.exports=l;var v=t(31725),a=t(52284),r=t(15647),n=t(66280),e=t(41598);(function(){l.collides=function(s,o){for(var i=[],h=o.length,u=s.bounds,d=a.collides,f=r.overlaps,c=0;c<h;c++){var g=o[c],m=g.parts.length,y=m===1?0:1;if(s!==g&&f(g.bounds,u))for(var x=y;x<m;x++){var T=g.parts[x];if(f(T.bounds,u)){var C=d(T,s);if(C){i.push(C);break}}}}return i},l.ray=function(s,o,i,h){h=h||1e-100;for(var u=v.angle(o,i),d=v.magnitude(v.sub(o,i)),f=(i.x+o.x)*.5,c=(i.y+o.y)*.5,g=n.rectangle(f,c,d,h,{angle:u}),m=l.collides(g,s),y=0;y<m.length;y+=1){var x=m[y];x.body=x.bodyB=x.bodyA}return m},l.region=function(s,o,i){for(var h=[],u=0;u<s.length;u++){var d=s[u],f=r.overlaps(d.bounds,o);(f&&!i||!f&&i)&&h.push(d)}return h},l.point=function(s,o){for(var i=[],h=0;h<s.length;h++){var u=s[h];if(r.contains(u.bounds,o))for(var d=u.parts.length===1?0:1;d<u.parts.length;d++){var f=u.parts[d];if(r.contains(f.bounds,o)&&e.contains(f.vertices,o)){i.push(u);break}}}return i}})()},66272:(p,S,t)=>{var l={};p.exports=l;var v=t(41598),a=t(53402),r=t(15647);(function(){l._restingThresh=2,l._restingThreshTangent=Math.sqrt(6),l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l._frictionMaxStatic=Number.MAX_VALUE,l.preSolvePosition=function(n){var e,s,o,i=n.length;for(e=0;e<i;e++)s=n[e],s.isActive&&(o=s.contactCount,s.collision.parentA.totalContacts+=o,s.collision.parentB.totalContacts+=o)},l.solvePosition=function(n,e,s){var o,i,h,u,d,f,c,g,m=l._positionDampen*(s||1),y=a.clamp(e/a._baseDelta,0,1),x=n.length;for(o=0;o<x;o++)i=n[o],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,d=h.parentB,f=h.normal,i.separation=h.depth+f.x*(d.positionImpulse.x-u.positionImpulse.x)+f.y*(d.positionImpulse.y-u.positionImpulse.y));for(o=0;o<x;o++)i=n[o],!(!i.isActive||i.isSensor)&&(h=i.collision,u=h.parentA,d=h.parentB,f=h.normal,g=i.separation-i.slop*y,(u.isStatic||d.isStatic)&&(g*=2),u.isStatic||u.isSleeping||(c=m/u.totalContacts,u.positionImpulse.x+=f.x*g*c,u.positionImpulse.y+=f.y*g*c),d.isStatic||d.isSleeping||(c=m/d.totalContacts,d.positionImpulse.x-=f.x*g*c,d.positionImpulse.y-=f.y*g*c))},l.postSolvePosition=function(n){for(var e=l._positionWarming,s=n.length,o=v.translate,i=r.update,h=0;h<s;h++){var u=n[h],d=u.positionImpulse,f=d.x,c=d.y,g=u.velocity;if(u.totalContacts=0,f!==0||c!==0){for(var m=0;m<u.parts.length;m++){var y=u.parts[m];o(y.vertices,d),i(y.bounds,y.vertices,g),y.position.x+=f,y.position.y+=c}u.positionPrev.x+=f,u.positionPrev.y+=c,f*g.x+c*g.y<0?(d.x=0,d.y=0):(d.x*=e,d.y*=e)}}},l.preSolveVelocity=function(n){var e=n.length,s,o;for(s=0;s<e;s++){var i=n[s];if(!(!i.isActive||i.isSensor)){var h=i.contacts,u=i.contactCount,d=i.collision,f=d.parentA,c=d.parentB,g=d.normal,m=d.tangent;for(o=0;o<u;o++){var y=h[o],x=y.vertex,T=y.normalImpulse,C=y.tangentImpulse;if(T!==0||C!==0){var A=g.x*T+m.x*C,w=g.y*T+m.y*C;f.isStatic||f.isSleeping||(f.positionPrev.x+=A*f.inverseMass,f.positionPrev.y+=w*f.inverseMass,f.anglePrev+=f.inverseInertia*((x.x-f.position.x)*w-(x.y-f.position.y)*A)),c.isStatic||c.isSleeping||(c.positionPrev.x-=A*c.inverseMass,c.positionPrev.y-=w*c.inverseMass,c.anglePrev-=c.inverseInertia*((x.x-c.position.x)*w-(x.y-c.position.y)*A))}}}}},l.solveVelocity=function(n,e){var s=e/a._baseDelta,o=s*s,i=o*s,h=-l._restingThresh*s,u=l._restingThreshTangent,d=l._frictionNormalMultiplier*s,f=l._frictionMaxStatic,c=n.length,g,m,y,x;for(y=0;y<c;y++){var T=n[y];if(!(!T.isActive||T.isSensor)){var C=T.collision,A=C.parentA,w=C.parentB,P=C.normal.x,M=C.normal.y,R=C.tangent.x,O=C.tangent.y,U=T.inverseMass,X=T.friction*T.frictionStatic*d,W=T.contacts,Y=T.contactCount,N=1/Y,z=A.position.x-A.positionPrev.x,B=A.position.y-A.positionPrev.y,I=A.angle-A.anglePrev,G=w.position.x-w.positionPrev.x,H=w.position.y-w.positionPrev.y,K=w.angle-w.anglePrev;for(x=0;x<Y;x++){var Z=W[x],Q=Z.vertex,j=Q.x-A.position.x,_=Q.y-A.position.y,tt=Q.x-w.position.x,et=Q.y-w.position.y,rt=z-_*I,at=B+j*I,st=G-et*K,ct=H+tt*K,vt=rt-st,pt=at-ct,nt=P*vt+M*pt,ot=R*vt+O*pt,ht=T.separation+nt,xt=Math.min(ht,1);xt=ht<0?0:xt;var Et=xt*X;ot<-Et||ot>Et?(m=ot>0?ot:-ot,g=T.friction*(ot>0?1:-1)*i,g<-m?g=-m:g>m&&(g=m)):(g=ot,m=f);var Ot=j*M-_*P,Tt=tt*M-et*P,St=N/(U+A.inverseInertia*Ot*Ot+w.inverseInertia*Tt*Tt),bt=(1+T.restitution)*nt*St;if(g*=St,nt<h)Z.normalImpulse=0;else{var Yt=Z.normalImpulse;Z.normalImpulse+=bt,Z.normalImpulse>0&&(Z.normalImpulse=0),bt=Z.normalImpulse-Yt}if(ot<-u||ot>u)Z.tangentImpulse=0;else{var wt=Z.tangentImpulse;Z.tangentImpulse+=g,Z.tangentImpulse<-m&&(Z.tangentImpulse=-m),Z.tangentImpulse>m&&(Z.tangentImpulse=m),g=Z.tangentImpulse-wt}var It=P*bt+R*g,Nt=M*bt+O*g;A.isStatic||A.isSleeping||(A.positionPrev.x+=It*A.inverseMass,A.positionPrev.y+=Nt*A.inverseMass,A.anglePrev+=(j*Nt-_*It)*A.inverseInertia),w.isStatic||w.isSleeping||(w.positionPrev.x-=It*w.inverseMass,w.positionPrev.y-=Nt*w.inverseMass,w.anglePrev-=(tt*Nt-et*It)*w.inverseInertia)}}}}})()},48140:(p,S,t)=>{var l={};p.exports=l;var v=t(41598),a=t(31725),r=t(53614),n=t(15647),e=t(66615),s=t(53402);(function(){l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(o){var i=o;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var h=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,d=a.magnitude(a.sub(h,u));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(f.type="pin",f.anchors=!1):i.stiffness<.9&&(f.type="spring"),i.render=s.extend(f,i.render),i},l.preSolveAll=function(o){for(var i=0;i<o.length;i+=1){var h=o[i],u=h.constraintImpulse;h.isStatic||u.x===0&&u.y===0&&u.angle===0||(h.position.x+=u.x,h.position.y+=u.y,h.angle+=u.angle)}},l.solveAll=function(o,i){for(var h=s.clamp(i/s._baseDelta,0,1),u=0;u<o.length;u+=1){var d=o[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(f||c)&&l.solve(o[u],h)}for(u=0;u<o.length;u+=1)d=o[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!f&&!c&&l.solve(o[u],h)},l.solve=function(o,i){var h=o.bodyA,u=o.bodyB,d=o.pointA,f=o.pointB;if(!(!h&&!u)){h&&!h.isStatic&&(a.rotate(d,h.angle-o.angleA,d),o.angleA=h.angle),u&&!u.isStatic&&(a.rotate(f,u.angle-o.angleB,f),o.angleB=u.angle);var c=d,g=f;if(h&&(c=a.add(h.position,d)),u&&(g=a.add(u.position,f)),!(!c||!g)){var m=a.sub(c,g),y=a.magnitude(m);y<l._minLength&&(y=l._minLength);var x=(y-o.length)/y,T=o.stiffness>=1||o.length===0,C=T?o.stiffness*i:o.stiffness*i*i,A=o.damping*i,w=a.mult(m,x*C),P=(h?h.inverseMass:0)+(u?u.inverseMass:0),M=(h?h.inverseInertia:0)+(u?u.inverseInertia:0),R=P+M,O,U,X,W,Y;if(A>0){var N=a.create();X=a.div(m,y),Y=a.sub(u&&a.sub(u.position,u.positionPrev)||N,h&&a.sub(h.position,h.positionPrev)||N),W=a.dot(X,Y)}h&&!h.isStatic&&(U=h.inverseMass/P,h.constraintImpulse.x-=w.x*U,h.constraintImpulse.y-=w.y*U,h.position.x-=w.x*U,h.position.y-=w.y*U,A>0&&(h.positionPrev.x-=A*X.x*W*U,h.positionPrev.y-=A*X.y*W*U),O=a.cross(d,w)/R*l._torqueDampen*h.inverseInertia*(1-o.angularStiffness),h.constraintImpulse.angle-=O,h.angle-=O),u&&!u.isStatic&&(U=u.inverseMass/P,u.constraintImpulse.x+=w.x*U,u.constraintImpulse.y+=w.y*U,u.position.x+=w.x*U,u.position.y+=w.y*U,A>0&&(u.positionPrev.x+=A*X.x*W*U,u.positionPrev.y+=A*X.y*W*U),O=a.cross(f,w)/R*l._torqueDampen*u.inverseInertia*(1-o.angularStiffness),u.constraintImpulse.angle+=O,u.angle+=O)}}},l.postSolveAll=function(o){for(var i=0;i<o.length;i++){var h=o[i],u=h.constraintImpulse;if(!(h.isStatic||u.x===0&&u.y===0&&u.angle===0)){r.set(h,!1);for(var d=0;d<h.parts.length;d++){var f=h.parts[d];v.translate(f.vertices,u),d>0&&(f.position.x+=u.x,f.position.y+=u.y),u.angle!==0&&(v.rotate(f.vertices,u.angle,h.position),e.rotate(f.axes,u.angle),d>0&&a.rotateAbout(f.position,u.angle,h.position,f.position)),n.update(f.bounds,f.vertices,h.velocity)}u.angle*=l._warming,u.x*=l._warming,u.y*=l._warming}}},l.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},l.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},l.currentLength=function(o){var i=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),h=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),u=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),d=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),f=i-u,c=h-d;return Math.sqrt(f*f+c*c)}})()},53402:(p,S,t)=>{var l={};p.exports=l,function(){l._baseDelta=16.666666666666668,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(a,r){var n,e;typeof r=="boolean"?(n=2,e=r):(n=1,e=!0);for(var s=n;s<arguments.length;s++){var o=arguments[s];if(o)for(var i in o)e&&o[i]&&o[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},l.extend(a[i],e,o[i])):a[i]=o[i]}return a},l.clone=function(a,r){return l.extend({},r,a)},l.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var n in a)r.push(n);return r},l.values=function(a){var r=[];if(Object.keys){for(var n=Object.keys(a),e=0;e<n.length;e++)r.push(a[n[e]]);return r}for(var s in a)r.push(a[s]);return r},l.get=function(a,r,n,e){r=r.split(".").slice(n,e);for(var s=0;s<r.length;s+=1)a=a[r[s]];return a},l.set=function(a,r,n,e,s){var o=r.split(".").slice(e,s);return l.get(a,r,0,-1)[o[o.length-1]]=n,n},l.shuffle=function(a){for(var r=a.length-1;r>0;r--){var n=Math.floor(l.random()*(r+1)),e=a[r];a[r]=a[n],a[n]=e}return a},l.choose=function(a){return a[Math.floor(l.random()*a.length)]},l.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},l.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},l.isFunction=function(a){return typeof a=="function"},l.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},l.isString=function(a){return toString.call(a)==="[object String]"},l.clamp=function(a,r,n){return a<r?r:a>n?n:a},l.sign=function(a){return a<0?-1:1},l.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+v()*(r-a)};var v=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[a]||(l.warn(a),l._warnedOnce[a]=!0)},l.deprecated=function(a,r,n){a[r]=l.chain(function(){l.warnOnce("🔅 deprecated 🔅",n)},a[r])},l.nextId=function(){return l._nextId++},l.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var n=0;n<a.length;n++)if(a[n]===r)return n;return-1},l.map=function(a,r){if(a.map)return a.map(r);for(var n=[],e=0;e<a.length;e+=1)n.push(r(a[e]));return n},l.topologicalSort=function(a){var r=[],n=[],e=[];for(var s in a)!n[s]&&!e[s]&&l._topologicalSort(s,n,e,a,r);return r},l._topologicalSort=function(a,r,n,e,s){var o=e[a]||[];n[a]=!0;for(var i=0;i<o.length;i+=1){var h=o[i];n[h]||r[h]||l._topologicalSort(h,r,n,e,s)}n[a]=!1,r[a]=!0,s.push(a)},l.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?a.push.apply(a,n._chained):a.push(n)}var e=function(){for(var s,o=new Array(arguments.length),i=0,h=arguments.length;i<h;i++)o[i]=arguments[i];for(i=0;i<a.length;i+=1){var u=a[i].apply(s,o);typeof u<"u"&&(s=u)}return s};return e._chained=a,e},l.chainPathBefore=function(a,r,n){return l.set(a,r,l.chain(n,l.get(a,r)))},l.chainPathAfter=function(a,r,n){return l.set(a,r,l.chain(l.get(a,r),n))},l.setDecomp=function(a){l._decomp=a},l.getDecomp=function(){var a=l._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(p,S,t)=>{var l={};p.exports=l;var v=t(53614),a=t(66272),r=t(81388),n=t(99561),e=t(35810),s=t(69351),o=t(48140),i=t(53402),h=t(22562);(function(){l._deltaMax=16.666666666666668,l.create=function(u){u=u||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},f=i.extend(d,u);return f.world=u.world||s.create({label:"World"}),f.pairs=u.pairs||n.create(),f.detector=u.detector||r.create(),f.detector.pairs=f.pairs,f.grid={buckets:[]},f.world.gravity=f.gravity,f.broadphase=f.grid,f.metrics={},f},l.update=function(u,d){var f=i.now(),c=u.world,g=u.detector,m=u.pairs,y=u.timing,x=y.timestamp,T;d>l._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",l._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:i._baseDelta,d*=y.timeScale,y.timestamp+=d,y.lastDelta=d;var C={timestamp:y.timestamp,delta:d};e.trigger(u,"beforeUpdate",C);var A=s.allBodies(c),w=s.allConstraints(c),P=s.allComposites(c);for(c.isModified&&(r.setBodies(g,A),s.setModified(c,!1,!1,!0)),u.enableSleeping&&v.update(A,d),l._bodiesApplyGravity(A,u.gravity),l.wrap(A,P),l.attractors(A),d>0&&l._bodiesUpdate(A,d),e.trigger(u,"beforeSolve",C),o.preSolveAll(A),T=0;T<u.constraintIterations;T++)o.solveAll(w,d);o.postSolveAll(A);var M=r.collisions(g);n.update(m,M,x),u.enableSleeping&&v.afterCollisions(m.list),m.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:m.collisionStart,timestamp:y.timestamp,delta:d});var R=i.clamp(20/u.positionIterations,0,1);for(a.preSolvePosition(m.list),T=0;T<u.positionIterations;T++)a.solvePosition(m.list,d,R);for(a.postSolvePosition(A),o.preSolveAll(A),T=0;T<u.constraintIterations;T++)o.solveAll(w,d);for(o.postSolveAll(A),a.preSolveVelocity(m.list),T=0;T<u.velocityIterations;T++)a.solveVelocity(m.list,d);return l._bodiesUpdateVelocities(A),m.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:m.collisionActive,timestamp:y.timestamp,delta:d}),m.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:m.collisionEnd,timestamp:y.timestamp,delta:d}),l._bodiesClearForces(A),e.trigger(u,"afterUpdate",C),u.timing.lastElapsed=i.now()-f,u},l.merge=function(u,d){if(i.extend(u,d),d.world){u.world=d.world,l.clear(u);for(var f=s.allBodies(u.world),c=0;c<f.length;c++){var g=f[c];v.set(g,!1),g.id=i.nextId()}}},l.clear=function(u){n.clear(u.pairs),r.clear(u.detector)},l._bodiesClearForces=function(u){for(var d=u.length,f=0;f<d;f++){var c=u[f];c.force.x=0,c.force.y=0,c.torque=0}},l._bodiesApplyGravity=function(u,d){var f=typeof d.scale<"u"?d.scale:.001,c=u.length;if(!(d.x===0&&d.y===0||f===0))for(var g=0;g<c;g++){var m=u[g];m.ignoreGravity||m.isStatic||m.isSleeping||(m.force.y+=m.mass*d.y*f,m.force.x+=m.mass*d.x*f)}},l._bodiesUpdate=function(u,d){for(var f=u.length,c=0;c<f;c++){var g=u[c];g.isStatic||g.isSleeping||h.update(g,d)}},l._bodiesUpdateVelocities=function(u){for(var d=u.length,f=0;f<d;f++)h.updateVelocities(u[f])},l.wrap=function(u,d){for(var f=0;f<u.length;f+=1){var c=u[f];c.wrapBounds!==null&&h.wrap(c,c.wrapBounds)}for(f=0;f<d.length;f+=1){var g=d[f];g.wrapBounds!==null&&s.wrap(g,g.wrapBounds)}},l.attractors=function(u){for(var d=0;d<u.length;d++){var f=u[d],c=f.attractors;if(c&&c.length>0)for(var g=0;g<u.length;g++){var m=u[g];if(d!==g)for(var y=0;y<c.length;y++){var x=c[y],T=x;i.isFunction(x)&&(T=x(f,m)),T&&h.applyForce(m,m.position,T)}}}}})()},35810:(p,S,t)=>{var l={};p.exports=l;var v=t(53402);(function(){l.on=function(a,r,n){for(var e=r.split(" "),s,o=0;o<e.length;o++)s=e[o],a.events=a.events||{},a.events[s]=a.events[s]||[],a.events[s].push(n);return n},l.off=function(a,r,n){if(!r){a.events={};return}typeof r=="function"&&(n=r,r=v.keys(a.events).join(" "));for(var e=r.split(" "),s=0;s<e.length;s++){var o=a.events[e[s]],i=[];if(n&&o)for(var h=0;h<o.length;h++)o[h]!==n&&i.push(o[h]);a.events[e[s]]=i}},l.trigger=function(a,r,n){var e,s,o,i,h=a.events;if(h&&v.keys(h).length>0){n||(n={}),e=r.split(" ");for(var u=0;u<e.length;u++)if(s=e[u],o=h[s],o){i=v.clone(n,!1),i.name=s,i.source=a;for(var d=0;d<o.length;d++)o[d].apply(a,[i])}}}})()},6790:(p,S,t)=>{var l={};p.exports=l;var v=t(73832),a=t(53402);(function(){l.name="matter-js",l.version="0.20.0",l.uses=[],l.used=[],l.use=function(){v.use(l,Array.prototype.slice.call(arguments))},l.before=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathBefore(l,r,n)},l.after=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathAfter(l,r,n)}})()},73832:(p,S,t)=>{var l={};p.exports=l;var v=t(53402);(function(){l._registry={},l.register=function(a){if(l.isPlugin(a)||v.warn("Plugin.register:",l.toString(a),"does not implement all required fields."),a.name in l._registry){var r=l._registry[a.name],n=l.versionParse(a.version).number,e=l.versionParse(r.version).number;n>e?(v.warn("Plugin.register:",l.toString(r),"was upgraded to",l.toString(a)),l._registry[a.name]=a):n<e?v.warn("Plugin.register:",l.toString(r),"can not be downgraded to",l.toString(a)):a!==r&&v.warn("Plugin.register:",l.toString(a),"is already registered to different plugin object")}else l._registry[a.name]=a;return a},l.resolve=function(a){return l._registry[l.dependencyParse(a).name]},l.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},l.isPlugin=function(a){return a&&a.name&&a.version&&a.install},l.isUsed=function(a,r){return a.used.indexOf(r)>-1},l.isFor=function(a,r){var n=a.for&&l.dependencyParse(a.for);return!a.for||r.name===n.name&&l.versionSatisfies(r.version,n.range)},l.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){v.warn("Plugin.use:",l.toString(a),"does not specify any dependencies to install.");return}for(var n=l.dependencies(a),e=v.topologicalSort(n),s=[],o=0;o<e.length;o+=1)if(e[o]!==a.name){var i=l.resolve(e[o]);if(!i){s.push("❌ "+e[o]);continue}l.isUsed(a,i.name)||(l.isFor(i,a)||(v.warn("Plugin.use:",l.toString(i),"is for",i.for,"but installed on",l.toString(a)+"."),i._warned=!0),i.install?i.install(a):(v.warn("Plugin.use:",l.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push("🔶 "+l.toString(i)),delete i._warned):s.push("✅ "+l.toString(i)),a.used.push(i.name))}s.length>0&&!i.silent&&v.info(s.join("  "))},l.dependencies=function(a,r){var n=l.dependencyParse(a),e=n.name;if(r=r||{},!(e in r)){a=l.resolve(a)||a,r[e]=v.map(a.uses||[],function(o){l.isPlugin(o)&&l.register(o);var i=l.dependencyParse(o),h=l.resolve(o);return h&&!l.versionSatisfies(h.version,i.range)?(v.warn("Plugin.dependencies:",l.toString(h),"does not satisfy",l.toString(i),"used by",l.toString(n)+"."),h._warned=!0,a._warned=!0):h||(v.warn("Plugin.dependencies:",l.toString(o),"used by",l.toString(n),"could not be resolved."),a._warned=!0),i.name});for(var s=0;s<r[e].length;s+=1)l.dependencies(r[e][s],r);return r}},l.dependencyParse=function(a){if(v.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||v.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},l.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||v.warn("Plugin.versionParse:",a,"is not a valid version or range.");var n=r.exec(a),e=Number(n[4]),s=Number(n[5]),o=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:a,operator:n[1]||n[2]||"",major:e,minor:s,patch:o,parts:[e,s,o],prerelease:n[7],number:e*1e8+s*1e4+o}},l.versionSatisfies=function(a,r){r=r||"*";var n=l.versionParse(r),e=l.versionParse(a);if(n.isRange){if(n.operator==="*"||a==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return a===r||a==="*"}})()},13037:(p,S,t)=>{var l={};p.exports=l;var v=t(35810),a=t(48413),r=t(53402);(function(){l._maxFrameDelta=66.66666666666667,l._frameDeltaFallback=16.666666666666668,l._timeBufferMargin=1.5,l._elapsedNextEstimate=1,l._smoothingLowerBound=.1,l._smoothingUpperBound=.9,l.create=function(e){var s={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o=r.extend(s,e);return o.fps=0,o},l.run=function(e,s){return e.timeBuffer=l._frameDeltaFallback,function o(i){e.frameRequestId=l._onNextFrame(e,o),i&&e.enabled&&l.tick(e,s,i)}(),e},l.tick=function(e,s,o){var i=r.now(),h=e.delta,u=0,d=o-e.timeLastTick;if((!d||!e.timeLastTick||d>Math.max(l._maxFrameDelta,e.maxFrameTime))&&(d=e.frameDelta||l._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(d),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var f=e.frameDeltaHistory.slice(0).sort(),c=e.frameDeltaHistory.slice(f.length*l._smoothingLowerBound,f.length*l._smoothingUpperBound),g=n(c);d=g||d}e.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),e.frameDelta=d,e.timeLastTick=o,e.timeBuffer+=e.frameDelta,e.timeBuffer=r.clamp(e.timeBuffer,0,e.frameDelta+h*l._timeBufferMargin),e.lastUpdatesDeferred=0;var m=e.maxUpdates||Math.ceil(e.maxFrameTime/h),y={timestamp:s.timing.timestamp};v.trigger(e,"beforeTick",y),v.trigger(e,"tick",y);for(var x=r.now();h>0&&e.timeBuffer>=h*l._timeBufferMargin;){v.trigger(e,"beforeUpdate",y),a.update(s,h),v.trigger(e,"afterUpdate",y),e.timeBuffer-=h,u+=1;var T=r.now()-i,C=r.now()-x,A=T+l._elapsedNextEstimate*C/u;if(u>=m||A>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/h-l._timeBufferMargin));break}}s.timing.lastUpdatesPerFrame=u,v.trigger(e,"afterTick",y),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/h)>m?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},l.stop=function(e){l._cancelNextFrame(e)},l._onNextFrame=function(e,s){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(s);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},l._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var n=function(e){for(var s=0,o=e.length,i=0;i<o;i+=1)s+=e[i];return s/o||0};l._mean=n})()},53614:(p,S,t)=>{var l={};p.exports=l;var v=t(22562),a=t(35810),r=t(53402);(function(){l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(n,e){for(var s=e/r._baseDelta,o=l._motionSleepThreshold,i=0;i<n.length;i++){var h=n[i],u=v.getSpeed(h),d=v.getAngularSpeed(h),f=u*u+d*d;if(h.force.x!==0||h.force.y!==0){l.set(h,!1);continue}var c=Math.min(h.motion,f),g=Math.max(h.motion,f);h.motion=l._minBias*c+(1-l._minBias)*g,h.sleepThreshold>0&&h.motion<o?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/s&&l.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},l.afterCollisions=function(n){for(var e=l._motionSleepThreshold,s=0;s<n.length;s++){var o=n[s];if(o.isActive){var i=o.collision,h=i.bodyA.parent,u=i.bodyB.parent;if(!(h.isSleeping&&u.isSleeping||h.isStatic||u.isStatic)&&(h.isSleeping||u.isSleeping)){var d=h.isSleeping&&!h.isStatic?h:u,f=d===h?u:h;!d.isStatic&&f.motion>e&&l.set(d,!1)}}}},l.set=function(n,e){var s=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,s||a.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,s&&a.trigger(n,"sleepEnd"))}})()},66280:(p,S,t)=>{var l={};p.exports=l;var v=t(41598),a=t(53402),r=t(22562),n=t(15647),e=t(31725);(function(){l.rectangle=function(s,o,i,h,u){u=u||{};var d={label:"Rectangle Body",position:{x:s,y:o},vertices:v.fromPath("L 0 0 L "+i+" 0 L "+i+" "+h+" L 0 "+h)};if(u.chamfer){var f=u.chamfer;d.vertices=v.chamfer(d.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete u.chamfer}return r.create(a.extend({},d,u))},l.trapezoid=function(s,o,i,h,u,d){d=d||{},u>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),u*=.5;var f=(1-u*2)*i,c=i*u,g=c+f,m=g+c,y;u<.5?y="L 0 0 L "+c+" "+-h+" L "+g+" "+-h+" L "+m+" 0":y="L 0 0 L "+g+" "+-h+" L "+m+" 0";var x={label:"Trapezoid Body",position:{x:s,y:o},vertices:v.fromPath(y)};if(d.chamfer){var T=d.chamfer;x.vertices=v.chamfer(x.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete d.chamfer}return r.create(a.extend({},x,d))},l.circle=function(s,o,i,h,u){h=h||{};var d={label:"Circle Body",circleRadius:i};u=u||25;var f=Math.ceil(Math.max(10,Math.min(u,i)));return f%2===1&&(f+=1),l.polygon(s,o,f,i,a.extend({},d,h))},l.polygon=function(s,o,i,h,u){if(u=u||{},i<3)return l.circle(s,o,h,u);for(var d=2*Math.PI/i,f="",c=d*.5,g=0;g<i;g+=1){var m=c+g*d,y=Math.cos(m)*h,x=Math.sin(m)*h;f+="L "+y.toFixed(3)+" "+x.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:s,y:o},vertices:v.fromPath(f)};if(u.chamfer){var C=u.chamfer;T.vertices=v.chamfer(T.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete u.chamfer}return r.create(a.extend({},T,u))},l.fromVertices=function(s,o,i,h,u,d,f,c){var g=a.getDecomp(),m,y,x,T,C,A,w,P,M,R,O;for(m=!!(g&&g.quickDecomp),h=h||{},x=[],u=typeof u<"u"?u:!1,d=typeof d<"u"?d:.01,f=typeof f<"u"?f:10,c=typeof c<"u"?c:.01,a.isArray(i[0])||(i=[i]),R=0;R<i.length;R+=1)if(A=i[R],T=v.isConvex(A),C=!T,C&&!m&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!m)T?A=v.clockwiseSort(A):A=v.hull(A),x.push({position:{x:s,y:o},vertices:A});else{var U=A.map(function(Z){return[Z.x,Z.y]});g.makeCCW(U),d!==!1&&g.removeCollinearPoints(U,d),c!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(U,c);var X=g.quickDecomp(U);for(w=0;w<X.length;w++){var W=X[w],Y=W.map(function(Z){return{x:Z[0],y:Z[1]}});f>0&&v.area(Y)<f||x.push({position:v.centre(Y),vertices:Y})}}for(w=0;w<x.length;w++)x[w]=r.create(a.extend(x[w],h));if(u){var N=5;for(w=0;w<x.length;w++){var z=x[w];for(P=w+1;P<x.length;P++){var B=x[P];if(n.overlaps(z.bounds,B.bounds)){var I=z.vertices,G=B.vertices;for(M=0;M<z.vertices.length;M++)for(O=0;O<B.vertices.length;O++){var H=e.magnitudeSquared(e.sub(I[(M+1)%I.length],G[O])),K=e.magnitudeSquared(e.sub(I[M],G[(O+1)%G.length]));H<N&&K<N&&(I[M].isInternal=!0,G[O].isInternal=!0)}}}}}return x.length>1?(y=r.create(a.extend({parts:x.slice(0)},h)),r.setPosition(y,{x:s,y:o}),y):x[0]},l.flagCoincidentParts=function(s,o){o===void 0&&(o=5);for(var i=0;i<s.length;i++)for(var h=s[i],u=i+1;u<s.length;u++){var d=s[u];if(n.overlaps(h.bounds,d.bounds))for(var f=h.vertices,c=d.vertices,g=0;g<h.vertices.length;g++)for(var m=0;m<d.vertices.length;m++){var y=e.magnitudeSquared(e.sub(f[(g+1)%f.length],c[m])),x=e.magnitudeSquared(e.sub(f[g],c[(m+1)%c.length]));y<o&&x<o&&(f[g].isInternal=!0,c[m].isInternal=!0)}}return s}})()},74116:(p,S,t)=>{var l={};p.exports=l;var v=t(69351),a=t(48140),r=t(53402),n=t(22562),e=t(66280);(function(){l.stack=function(s,o,i,h,u,d,f){for(var c=v.create({label:"Stack"}),g=s,m=o,y,x=0,T=0;T<h;T++){for(var C=0,A=0;A<i;A++){var w=f(g,m,A,T,y,x);if(w){var P=w.bounds.max.y-w.bounds.min.y,M=w.bounds.max.x-w.bounds.min.x;P>C&&(C=P),n.translate(w,{x:M*.5,y:P*.5}),g=w.bounds.max.x+u,v.addBody(c,w),y=w,x+=1}else g+=u}m+=C+d,g=s}return c},l.chain=function(s,o,i,h,u,d){for(var f=s.bodies,c=1;c<f.length;c++){var g=f[c-1],m=f[c],y=g.bounds.max.y-g.bounds.min.y,x=g.bounds.max.x-g.bounds.min.x,T=m.bounds.max.y-m.bounds.min.y,C=m.bounds.max.x-m.bounds.min.x,A={bodyA:g,pointA:{x:x*o,y:y*i},bodyB:m,pointB:{x:C*h,y:T*u}},w=r.extend(A,d);v.addConstraint(s,a.create(w))}return s.label+=" Chain",s},l.mesh=function(s,o,i,h,u){var d=s.bodies,f,c,g,m,y;for(f=0;f<i;f++){for(c=1;c<o;c++)g=d[c-1+f*o],m=d[c+f*o],v.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:m},u)));if(f>0)for(c=0;c<o;c++)g=d[c+(f-1)*o],m=d[c+f*o],v.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:m},u))),h&&c>0&&(y=d[c-1+(f-1)*o],v.addConstraint(s,a.create(r.extend({bodyA:y,bodyB:m},u)))),h&&c<o-1&&(y=d[c+1+(f-1)*o],v.addConstraint(s,a.create(r.extend({bodyA:y,bodyB:m},u))))}return s.label+=" Mesh",s},l.pyramid=function(s,o,i,h,u,d,f){return l.stack(s,o,i,h,u,d,function(c,g,m,y,x,T){var C=Math.min(h,Math.ceil(i/2)),A=x?x.bounds.max.x-x.bounds.min.x:0;if(!(y>C)){y=C-y;var w=y,P=i-1-y;if(!(m<w||m>P)){T===1&&n.translate(x,{x:(m+(i%2===1?1:-1))*A,y:0});var M=x?m*A:0;return f(s+M+m*u,g,m,y,x,T)}}})},l.newtonsCradle=function(s,o,i,h,u){for(var d=v.create({label:"Newtons Cradle"}),f=0;f<i;f++){var c=1.9,g=e.circle(s+f*(h*c),o+u,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=a.create({pointA:{x:s+f*(h*c),y:o},bodyB:g});v.addBody(d,g),v.addConstraint(d,m)}return d},l.car=function(s,o,i,h,u){var d=n.nextGroup(!0),f=20,c=-i*.5+f,g=i*.5-f,m=0,y=v.create({label:"Car"}),x=e.rectangle(s,o,i,h,{collisionFilter:{group:d},chamfer:{radius:h*.5},density:2e-4}),T=e.circle(s+c,o+m,u,{collisionFilter:{group:d},friction:.8}),C=e.circle(s+g,o+m,u,{collisionFilter:{group:d},friction:.8}),A=a.create({bodyB:x,pointB:{x:c,y:m},bodyA:T,stiffness:1,length:0}),w=a.create({bodyB:x,pointB:{x:g,y:m},bodyA:C,stiffness:1,length:0});return v.addBody(y,x),v.addBody(y,T),v.addBody(y,C),v.addConstraint(y,A),v.addConstraint(y,w),y},l.softBody=function(s,o,i,h,u,d,f,c,g,m){g=r.extend({inertia:1/0},g),m=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var y=l.stack(s,o,i,h,u,d,function(x,T){return e.circle(x,T,c,g)});return l.mesh(y,i,h,f,m),y.label="Soft Body",y}})()},66615:(p,S,t)=>{var l={};p.exports=l;var v=t(31725),a=t(53402);(function(){l.fromVertices=function(r){for(var n={},e=0;e<r.length;e++){var s=(e+1)%r.length,o=v.normalise({x:r[s].y-r[e].y,y:r[e].x-r[s].x}),i=o.y===0?1/0:o.x/o.y;i=i.toFixed(3).toString(),n[i]=o}return a.values(n)},l.rotate=function(r,n){if(n!==0)for(var e=Math.cos(n),s=Math.sin(n),o=0;o<r.length;o++){var i=r[o],h;h=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=h}}})()},15647:p=>{var S={};p.exports=S,function(){S.create=function(t){var l={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(l,t),l},S.update=function(t,l,v){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<l.length;a++){var r=l[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}v&&(v.x>0?t.max.x+=v.x:t.min.x+=v.x,v.y>0?t.max.y+=v.y:t.min.y+=v.y)},S.contains=function(t,l){return l.x>=t.min.x&&l.x<=t.max.x&&l.y>=t.min.y&&l.y<=t.max.y},S.overlaps=function(t,l){return t.min.x<=l.max.x&&t.max.x>=l.min.x&&t.max.y>=l.min.y&&t.min.y<=l.max.y},S.translate=function(t,l){t.min.x+=l.x,t.max.x+=l.x,t.min.y+=l.y,t.max.y+=l.y},S.shift=function(t,l){var v=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=l.x,t.max.x=l.x+v,t.min.y=l.y,t.max.y=l.y+a},S.wrap=function(t,l,v){var a=null,r=null;if(typeof l.min.x<"u"&&typeof l.max.x<"u"&&(t.min.x>l.max.x?a=l.min.x-t.max.x:t.max.x<l.min.x&&(a=l.max.x-t.min.x)),typeof l.min.y<"u"&&typeof l.max.y<"u"&&(t.min.y>l.max.y?r=l.min.y-t.max.y:t.max.y<l.min.y&&(r=l.max.y-t.min.y)),a!==null||r!==null)return{x:a||0,y:r||0}}}()},74058:(p,S,t)=>{var l={};p.exports=l,t(15647);var v=t(53402);(function(){l.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,s,o,i,h,u,d,f,c,g=[],m,y,x=0,T=0,C=0;r=r||15;var A=function(P,M,R){var O=R%2===1&&R>1;if(!f||P!=f.x||M!=f.y){f&&O?(m=f.x,y=f.y):(m=0,y=0);var U={x:m+P,y:y+M};(O||!f)&&(f=U),g.push(U),T=m+P,C=y+M}},w=function(P){var M=P.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":T=P.x,C=P.y;break;case"H":T=P.x;break;case"V":C=P.y;break}A(T,C,P.pathSegType)}};for(l._svgPathToAbsolute(a),s=a.getTotalLength(),h=[],n=0;n<a.pathSegList.numberOfItems;n+=1)h.push(a.pathSegList.getItem(n));for(u=h.concat();x<s;){if(c=a.getPathSegAtLength(x),i=h[c],i!=d){for(;u.length&&u[0]!=i;)w(u.shift());d=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=a.getPointAtLength(x),A(o.x,o.y,0);break}x+=r}for(n=0,e=u.length;n<e;++n)w(u[n]);return g},l._svgPathToAbsolute=function(a){for(var r,n,e,s,o,i,h=a.pathSegList,u=0,d=0,f=h.numberOfItems,c=0;c<f;++c){var g=h.getItem(c),m=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(m))"x"in g&&(u=g.x),"y"in g&&(d=g.y);else switch("x1"in g&&(e=u+g.x1),"x2"in g&&(o=u+g.x2),"y1"in g&&(s=d+g.y1),"y2"in g&&(i=d+g.y2),"x"in g&&(u+=g.x),"y"in g&&(d+=g.y),m){case"m":h.replaceItem(a.createSVGPathSegMovetoAbs(u,d),c);break;case"l":h.replaceItem(a.createSVGPathSegLinetoAbs(u,d),c);break;case"h":h.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(u),c);break;case"v":h.replaceItem(a.createSVGPathSegLinetoVerticalAbs(d),c);break;case"c":h.replaceItem(a.createSVGPathSegCurvetoCubicAbs(u,d,e,s,o,i),c);break;case"s":h.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(u,d,o,i),c);break;case"q":h.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(u,d,e,s),c);break;case"t":h.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(u,d),c);break;case"a":h.replaceItem(a.createSVGPathSegArcAbs(u,d,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),c);break;case"z":case"Z":u=r,d=n;break}(m=="M"||m=="m")&&(r=u,n=d)}}})()},31725:p=>{var S={};p.exports=S,function(){S.create=function(t,l){return{x:t||0,y:l||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,l,v){var a=Math.cos(l),r=Math.sin(l);v||(v={});var n=t.x*a-t.y*r;return v.y=t.x*r+t.y*a,v.x=n,v},S.rotateAbout=function(t,l,v,a){var r=Math.cos(l),n=Math.sin(l);a||(a={});var e=v.x+((t.x-v.x)*r-(t.y-v.y)*n);return a.y=v.y+((t.x-v.x)*n+(t.y-v.y)*r),a.x=e,a},S.normalise=function(t){var l=S.magnitude(t);return l===0?{x:0,y:0}:{x:t.x/l,y:t.y/l}},S.dot=function(t,l){return t.x*l.x+t.y*l.y},S.cross=function(t,l){return t.x*l.y-t.y*l.x},S.cross3=function(t,l,v){return(l.x-t.x)*(v.y-t.y)-(l.y-t.y)*(v.x-t.x)},S.add=function(t,l,v){return v||(v={}),v.x=t.x+l.x,v.y=t.y+l.y,v},S.sub=function(t,l,v){return v||(v={}),v.x=t.x-l.x,v.y=t.y-l.y,v},S.mult=function(t,l){return{x:t.x*l,y:t.y*l}},S.div=function(t,l){return{x:t.x/l,y:t.y/l}},S.perp=function(t,l){return l=l===!0?-1:1,{x:l*-t.y,y:l*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},41598:(p,S,t)=>{var l={};p.exports=l;var v=t(31725),a=t(53402);(function(){l.create=function(r,n){for(var e=[],s=0;s<r.length;s++){var o=r[s],i={x:o.x,y:o.y,index:s,body:n,isInternal:!1};e.push(i)}return e},l.fromPath=function(r,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(e,function(o,i,h){s.push({x:parseFloat(i),y:parseFloat(h)})}),l.create(s,n)},l.centre=function(r){for(var n=l.area(r,!0),e={x:0,y:0},s,o,i,h=0;h<r.length;h++)i=(h+1)%r.length,s=v.cross(r[h],r[i]),o=v.mult(v.add(r[h],r[i]),s),e=v.add(e,o);return v.div(e,6*n)},l.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return v.div(n,r.length)},l.area=function(r,n){for(var e=0,s=r.length-1,o=0;o<r.length;o++)e+=(r[s].x-r[o].x)*(r[s].y+r[o].y),s=o;return n?e/2:Math.abs(e)/2},l.inertia=function(r,n){for(var e=0,s=0,o=r,i,h,u=0;u<o.length;u++)h=(u+1)%o.length,i=Math.abs(v.cross(o[h],o[u])),e+=i*(v.dot(o[h],o[h])+v.dot(o[h],o[u])+v.dot(o[u],o[u])),s+=i;return n/6*(e/s)},l.translate=function(r,n,e){e=typeof e<"u"?e:1;var s=r.length,o=n.x*e,i=n.y*e,h;for(h=0;h<s;h++)r[h].x+=o,r[h].y+=i;return r},l.rotate=function(r,n,e){if(n!==0){var s=Math.cos(n),o=Math.sin(n),i=e.x,h=e.y,u=r.length,d,f,c,g;for(g=0;g<u;g++)d=r[g],f=d.x-i,c=d.y-h,d.x=i+(f*s-c*o),d.y=h+(f*o+c*s);return r}},l.contains=function(r,n){for(var e=n.x,s=n.y,o=r.length,i=r[o-1],h,u=0;u<o;u++){if(h=r[u],(e-i.x)*(h.y-i.y)+(s-i.y)*(i.x-h.x)>0)return!1;i=h}return!0},l.scale=function(r,n,e,s){if(n===1&&e===1)return r;s=s||l.centre(r);for(var o,i,h=0;h<r.length;h++)o=r[h],i=v.sub(o,s),r[h].x=s.x+i.x*n,r[h].y=s.y+i.y*e;return r},l.chamfer=function(r,n,e,s,o){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,s=s||2,o=o||14;for(var i=[],h=0;h<r.length;h++){var u=r[h-1>=0?h-1:r.length-1],d=r[h],f=r[(h+1)%r.length],c=n[h<n.length?h:n.length-1];if(c===0){i.push(d);continue}var g=v.normalise({x:d.y-u.y,y:u.x-d.x}),m=v.normalise({x:f.y-d.y,y:d.x-f.x}),y=Math.sqrt(2*Math.pow(c,2)),x=v.mult(a.clone(g),c),T=v.normalise(v.mult(v.add(g,m),.5)),C=v.sub(d,v.mult(T,y)),A=e;e===-1&&(A=Math.pow(c,.32)*1.75),A=a.clamp(A,s,o),A%2===1&&(A+=1);for(var w=Math.acos(v.dot(g,m)),P=w/A,M=0;M<A;M++)i.push(v.add(v.rotate(x,P*M),C))}return i},l.clockwiseSort=function(r){var n=l.mean(r);return r.sort(function(e,s){return v.angle(n,e)-v.angle(n,s)}),r},l.isConvex=function(r){var n=0,e=r.length,s,o,i,h;if(e<3)return null;for(s=0;s<e;s++)if(o=(s+1)%e,i=(s+2)%e,h=(r[o].x-r[s].x)*(r[i].y-r[o].y),h-=(r[o].y-r[s].y)*(r[i].x-r[o].x),h<0?n|=1:h>0&&(n|=2),n===3)return!1;return n!==0?!0:null},l.hull=function(r){var n=[],e=[],s,o;for(r=r.slice(0),r.sort(function(i,h){var u=i.x-h.x;return u!==0?u:i.y-h.y}),o=0;o<r.length;o+=1){for(s=r[o];e.length>=2&&v.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(o=r.length-1;o>=0;o-=1){for(s=r[o];n.length>=2&&v.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}return n.pop(),e.pop(),n.concat(e)}})()},55973:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:w,quickDecomp:O,isSimple:M,removeCollinearPoints:U,removeDuplicatePoints:X,makeCCW:f};function S(N,z,B){B=B||0;var I=[0,0],G,H,K,Z,Q,j,_;return G=N[1][1]-N[0][1],H=N[0][0]-N[1][0],K=G*N[0][0]+H*N[0][1],Z=z[1][1]-z[0][1],Q=z[0][0]-z[1][0],j=Z*z[0][0]+Q*z[0][1],_=G*Q-Z*H,W(_,0,B)||(I[0]=(Q*K-H*j)/_,I[1]=(G*j-Z*K)/_),I}function t(N,z,B,I){var G=z[0]-N[0],H=z[1]-N[1],K=I[0]-B[0],Z=I[1]-B[1];if(K*H-Z*G===0)return!1;var Q=(G*(B[1]-N[1])+H*(N[0]-B[0]))/(K*H-Z*G),j=(K*(N[1]-B[1])+Z*(B[0]-N[0]))/(Z*G-K*H);return Q>=0&&Q<=1&&j>=0&&j<=1}function l(N,z,B){return(z[0]-N[0])*(B[1]-N[1])-(B[0]-N[0])*(z[1]-N[1])}function v(N,z,B){return l(N,z,B)>0}function a(N,z,B){return l(N,z,B)>=0}function r(N,z,B){return l(N,z,B)<0}function n(N,z,B){return l(N,z,B)<=0}var e=[],s=[];function o(N,z,B,I){if(I){var G=e,H=s;G[0]=z[0]-N[0],G[1]=z[1]-N[1],H[0]=B[0]-z[0],H[1]=B[1]-z[1];var K=G[0]*H[0]+G[1]*H[1],Z=Math.sqrt(G[0]*G[0]+G[1]*G[1]),Q=Math.sqrt(H[0]*H[0]+H[1]*H[1]),j=Math.acos(K/(Z*Q));return j<I}else return l(N,z,B)===0}function i(N,z){var B=z[0]-N[0],I=z[1]-N[1];return B*B+I*I}function h(N,z){var B=N.length;return N[z<0?z%B+B:z%B]}function u(N){N.length=0}function d(N,z,B,I){for(var G=B;G<I;G++)N.push(z[G])}function f(N){for(var z=0,B=N,I=1;I<N.length;++I)(B[I][1]<B[z][1]||B[I][1]===B[z][1]&&B[I][0]>B[z][0])&&(z=I);return v(h(N,z-1),h(N,z),h(N,z+1))?!1:(c(N),!0)}function c(N){for(var z=[],B=N.length,I=0;I!==B;I++)z.push(N.pop());for(var I=0;I!==B;I++)N[I]=z[I]}function g(N,z){return r(h(N,z-1),h(N,z),h(N,z+1))}var m=[],y=[];function x(N,z,B){var I,G,H=m,K=y;if(a(h(N,z+1),h(N,z),h(N,B))&&n(h(N,z-1),h(N,z),h(N,B)))return!1;G=i(h(N,z),h(N,B));for(var Z=0;Z!==N.length;++Z)if(!((Z+1)%N.length===z||Z===z)&&a(h(N,z),h(N,B),h(N,Z+1))&&n(h(N,z),h(N,B),h(N,Z))&&(H[0]=h(N,z),H[1]=h(N,B),K[0]=h(N,Z),K[1]=h(N,Z+1),I=S(H,K),i(h(N,z),I)<G))return!1;return!0}function T(N,z,B){for(var I=0;I!==N.length;++I)if(!(I===z||I===B||(I+1)%N.length===z||(I+1)%N.length===B)&&t(h(N,z),h(N,B),h(N,I),h(N,I+1)))return!1;return!0}function C(N,z,B,I){var G=I||[];if(u(G),z<B)for(var H=z;H<=B;H++)G.push(N[H]);else{for(var H=0;H<=B;H++)G.push(N[H]);for(var H=z;H<N.length;H++)G.push(N[H])}return G}function A(N){for(var z=[],B=[],I=[],G=[],H=Number.MAX_VALUE,K=0;K<N.length;++K)if(g(N,K)){for(var Z=0;Z<N.length;++Z)if(x(N,K,Z)){B=A(C(N,K,Z,G)),I=A(C(N,Z,K,G));for(var Q=0;Q<I.length;Q++)B.push(I[Q]);B.length<H&&(z=B,H=B.length,z.push([h(N,K),h(N,Z)]))}}return z}function w(N){var z=A(N);return z.length>0?P(N,z):[N]}function P(N,z){if(z.length===0)return[N];if(z instanceof Array&&z.length&&z[0]instanceof Array&&z[0].length===2&&z[0][0]instanceof Array){for(var B=[N],I=0;I<z.length;I++)for(var G=z[I],H=0;H<B.length;H++){var K=B[H],Z=P(K,G);if(Z){B.splice(H,1),B.push(Z[0],Z[1]);break}}return B}else{var G=z,I=N.indexOf(G[0]),H=N.indexOf(G[1]);return I!==-1&&H!==-1?[C(N,I,H),C(N,H,I)]:!1}}function M(N){var z=N,B;for(B=0;B<z.length-1;B++)for(var I=0;I<B-1;I++)if(t(z[B],z[B+1],z[I],z[I+1]))return!1;for(B=1;B<z.length-2;B++)if(t(z[0],z[z.length-1],z[B],z[B+1]))return!1;return!0}function R(N,z,B,I,G){G=G||0;var H=z[1]-N[1],K=N[0]-z[0],Z=H*N[0]+K*N[1],Q=I[1]-B[1],j=B[0]-I[0],_=Q*B[0]+j*B[1],tt=H*j-Q*K;return W(tt,0,G)?[0,0]:[(j*Z-K*_)/tt,(H*_-Q*Z)/tt]}function O(N,z,B,I,G,H,K){H=H||100,K=K||0,G=G||25,z=typeof z<"u"?z:[],B=B||[],I=I||[];var Z=[0,0],Q=[0,0],j=[0,0],_=0,tt=0,et=0,rt=0,at=0,st=0,ct=0,vt=[],pt=[],nt=N,ot=N;if(ot.length<3)return z;if(K++,K>H)return console.warn("quickDecomp: max level ("+H+") reached."),z;for(var ht=0;ht<N.length;++ht)if(g(nt,ht)){B.push(nt[ht]),_=tt=Number.MAX_VALUE;for(var xt=0;xt<N.length;++xt)v(h(nt,ht-1),h(nt,ht),h(nt,xt))&&n(h(nt,ht-1),h(nt,ht),h(nt,xt-1))&&(j=R(h(nt,ht-1),h(nt,ht),h(nt,xt),h(nt,xt-1)),r(h(nt,ht+1),h(nt,ht),j)&&(et=i(nt[ht],j),et<tt&&(tt=et,Q=j,st=xt))),v(h(nt,ht+1),h(nt,ht),h(nt,xt+1))&&n(h(nt,ht+1),h(nt,ht),h(nt,xt))&&(j=R(h(nt,ht+1),h(nt,ht),h(nt,xt),h(nt,xt+1)),v(h(nt,ht-1),h(nt,ht),j)&&(et=i(nt[ht],j),et<_&&(_=et,Z=j,at=xt)));if(st===(at+1)%N.length)j[0]=(Q[0]+Z[0])/2,j[1]=(Q[1]+Z[1])/2,I.push(j),ht<at?(d(vt,nt,ht,at+1),vt.push(j),pt.push(j),st!==0&&d(pt,nt,st,nt.length),d(pt,nt,0,ht+1)):(ht!==0&&d(vt,nt,ht,nt.length),d(vt,nt,0,at+1),vt.push(j),pt.push(j),d(pt,nt,st,ht+1));else{if(st>at&&(at+=N.length),rt=Number.MAX_VALUE,at<st)return z;for(var xt=st;xt<=at;++xt)a(h(nt,ht-1),h(nt,ht),h(nt,xt))&&n(h(nt,ht+1),h(nt,ht),h(nt,xt))&&(et=i(h(nt,ht),h(nt,xt)),et<rt&&T(nt,ht,xt)&&(rt=et,ct=xt%N.length));ht<ct?(d(vt,nt,ht,ct+1),ct!==0&&d(pt,nt,ct,ot.length),d(pt,nt,0,ht+1)):(ht!==0&&d(vt,nt,ht,ot.length),d(vt,nt,0,ct+1),d(pt,nt,ct,ht+1))}return vt.length<pt.length?(O(vt,z,B,I,G,H,K),O(pt,z,B,I,G,H,K)):(O(pt,z,B,I,G,H,K),O(vt,z,B,I,G,H,K)),z}return z.push(N),z}function U(N,z){for(var B=0,I=N.length-1;N.length>3&&I>=0;--I)o(h(N,I-1),h(N,I),h(N,I+1),z)&&(N.splice(I%N.length,1),B++);return B}function X(N,z){for(var B=N.length-1;B>=1;--B)for(var I=N[B],G=B-1;G>=0;--G)if(Y(I,N[G],z)){N.splice(B,1);continue}}function W(N,z,B){return B=B||0,Math.abs(N-z)<=B}function Y(N,z,B){return W(N[0],z[0],B)&&W(N[1],z[1],B)}},52018:(p,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(83419),v=new l({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=v},42363:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=S},37277:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},l={};l.register=function(v,a,r,n){n===void 0&&(n=!1),S[v]={plugin:a,mapping:r,custom:n}},l.registerCustom=function(v,a,r,n){t[v]={plugin:a,mapping:r,data:n}},l.hasCore=function(v){return S.hasOwnProperty(v)},l.hasCustom=function(v){return t.hasOwnProperty(v)},l.getCore=function(v){return S[v]},l.getCustom=function(v){return t[v]},l.getCustomClass=function(v){return t.hasOwnProperty(v)?t[v].plugin:null},l.remove=function(v){S.hasOwnProperty(v)&&delete S[v]},l.removeCustom=function(v){t.hasOwnProperty(v)&&delete t[v]},l.destroyCorePlugins=function(){for(var v in S)S.hasOwnProperty(v)&&delete S[v]},l.destroyCustomPlugins=function(){for(var v in t)t.hasOwnProperty(v)&&delete t[v]},p.exports=l},77332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(8443),a=t(50792),r=t(74099),n=t(44603),e=t(39429),s=t(95540),o=t(37277),i=t(72905),h=t(8054),u=new l({Extends:a,initialize:function(f){a.call(this),this.game=f,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],f.isBooted||f.config.renderType===h.HEADLESS?this.boot():f.events.once(v.BOOT,this.boot,this)},boot:function(){var d,f,c,g,m,y,x,T=this.game.config,C=T.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),d=0;d<C.length;d++)f=C[d],c=s(f,"key",null),g=s(f,"plugin",null),m=s(f,"start",!1),y=s(f,"mapping",null),x=s(f,"data",null),c&&(g?this.install(c,g,m,y,x):console.warn("Missing `plugin` for key: "+c));for(C=T.installScenePlugins,C=C.concat(this._pendingScene),d=0;d<C.length;d++)f=C[d],c=s(f,"key",null),g=s(f,"plugin",null),y=s(f,"mapping",null),c&&(g?this.installScenePlugin(c,g,y):console.warn("Missing `plugin` for key: "+c));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(d,f,c){var g,m,y,x=this.game,T=d.scene,C=d.settings.map,A=d.settings.isBooted;for(g=0;g<f.length;g++)m=f[g],x[m]?(d[m]=x[m],C.hasOwnProperty(m)&&(T[C[m]]=d[m])):m==="game"&&C.hasOwnProperty(m)&&(T[C[m]]=x);for(var w=0;w<c.length;w++)for(y=c[w],g=0;g<y.length;g++)if(m=y[g],!!o.hasCore(m)){var P=o.getCore(m),M=P.mapping,R=new P.plugin(T,this,M);d[M]=R,P.custom?T[M]=R:C.hasOwnProperty(M)&&(T[C[M]]=R),A&&R.boot()}for(y=this.plugins,g=0;g<y.length;g++){var O=y[g];O.mapping&&(T[O.mapping]=O.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,f,c,g,m){if(m===void 0&&(m=!1),typeof f!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(o.hasCore(d)||o.register(d,f,c,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!m&&o.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(g){var y=new f(g,this,d);g.sys[d]=y,c&&c!==""&&(g[c]=y),y.boot()}},install:function(d,f,c,g,m){if(c===void 0&&(c=!1),g===void 0&&(g=null),m===void 0&&(m=null),typeof f!="function")return console.warn("Invalid Plugin: "+d),null;if(o.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(g!==null&&(c=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:f,start:c,mapping:g,data:m});else if(o.registerCustom(d,f,g,m),c)return this.start(d);return null},getIndex:function(d){for(var f=this.plugins,c=0;c<f.length;c++){var g=f[c];if(g.key===d)return c}return-1},getEntry:function(d){var f=this.getIndex(d);if(f!==-1)return this.plugins[f]},isActive:function(d){var f=this.getEntry(d);return f&&f.active},start:function(d,f){f===void 0&&(f=d);var c=this.getEntry(f);return c&&!c.active?(c.active=!0,c.plugin.start()):c||(c=this.createEntry(d,f)),c?c.plugin:null},createEntry:function(d,f){var c=o.getCustom(d);if(c){var g=new c.plugin(this);c={key:f,plugin:g,active:!0,mapping:c.mapping,data:c.data},this.plugins.push(c),g.init(c.data),g.start()}return c},stop:function(d){var f=this.getEntry(d);return f&&f.active&&(f.active=!1,f.plugin.stop()),this},get:function(d,f){f===void 0&&(f=!0);var c=this.getEntry(d);if(c)return c.plugin;var g=this.getClass(d);return g&&f?(c=this.createEntry(d,d),c?c.plugin:null):g||null},getClass:function(d){return o.getCustomClass(d)},removeGlobalPlugin:function(d){var f=this.getEntry(d);f&&i(this.plugins,f),o.removeCustom(d)},removeScenePlugin:function(d){i(this.scenePlugins,d),o.remove(d)},registerGameObject:function(d,f,c){return f&&e.register(d,f),c&&n.register(d,c),this},removeGameObject:function(d,f,c){return f===void 0&&(f=!0),c===void 0&&(c=!0),f&&e.remove(d),c&&n.remove(d),this},registerFileType:function(d,f,c){r.register(d,f),c&&c.sys.load&&(c.sys.load[d]=f)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();o.destroyCustomPlugins(),this.game.noReturn&&o.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=u},45145:(p,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(52018),v=t(83419),a=t(44594),r=new v({Extends:l,initialize:function(e,s,o){l.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=o,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},18922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const S=performance.now(),t=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,v=(a,r)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>l){const s=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,o=r-a;p(r,{presentationTime:r+s*1e3,expectedDisplayTime:r+o,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+o/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(s=>v(r,s))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(a=>v(S,a)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},10312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=S},68627:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19715),v=t(32880),a=t(83419),r=t(8054),n=t(50792),e=t(92503),s=t(56373),o=t(97480),i=t(69442),h=t(8443),u=t(61340),d=new a({Extends:n,initialize:function(c){n.call(this);var g=c.config;this.config={clearBeforeRender:g.clearBeforeRender,backgroundColor:g.backgroundColor,antialias:g.antialias,roundPixels:g.roundPixels,transparent:g.transparent},this.game=c,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=c.canvas;var m={alpha:g.transparent,desynchronized:g.desynchronized,willReadFrequently:!1};this.gameContext=g.context?g.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=g.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.isBooted=!1,this.init()},init:function(){var f=this.game;f.events.once(h.BOOT,function(){var c=this.config;if(!c.transparent){var g=this.gameContext,m=this.gameCanvas;g.fillStyle=c.backgroundColor.rgba,g.fillRect(0,0,m.width,m.height)}},this),f.textures.once(i.READY,this.boot,this)},boot:function(){var f=this.game,c=f.scale.baseSize;this.width=c.width,this.height=c.height,this.isBooted=!0,f.scale.on(o.RESIZE,this.onResize,this),this.resize(c.width,c.height)},onResize:function(f,c){(c.width!==this.width||c.height!==this.height)&&this.resize(c.width,c.height)},resize:function(f,c){this.width=f,this.height=c,this.emit(e.RESIZE,f,c)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(f){return this.currentContext.globalCompositeOperation=f,this},setContext:function(f){return this.currentContext=f||this.gameContext,this},setAlpha:function(f){return this.currentContext.globalAlpha=f,this},preRender:function(){var f=this.gameContext,c=this.config,g=this.width,m=this.height;f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),c.clearBeforeRender&&(f.clearRect(0,0,g,m),c.transparent||(f.fillStyle=c.backgroundColor.rgba,f.fillRect(0,0,g,m))),f.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(f,c,g){var m=c.length;this.emit(e.RENDER,f,g);var y=g.x,x=g.y,T=g.width,C=g.height,A=g.renderToTexture?g.context:f.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(y,x,T,C),A.clip()),g.emit(l.PRE_RENDER,g),this.currentContext=A;var w=g.mask;w&&w.preRenderCanvas(this,null,g._maskCamera),g.transparent||(A.fillStyle=g.backgroundColor.rgba,A.fillRect(y,x,T,C)),A.globalAlpha=g.alpha,A.globalCompositeOperation="source-over",this.drawCount+=m,g.renderToTexture&&g.emit(l.PRE_RENDER,g),g.matrix.copyToContext(A);for(var P=0;P<m;P++){var M=c[P];M.mask&&M.mask.preRenderCanvas(this,M,g),M.renderCanvas(this,M,g),M.mask&&M.mask.postRenderCanvas(this,M,g)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,g.flashEffect.postRenderCanvas(A),g.fadeEffect.postRenderCanvas(A),g.dirty=!1,w&&w.postRenderCanvas(this),A.restore(),g.renderToTexture&&(g.emit(l.POST_RENDER,g),g.renderToGame&&f.sys.context.drawImage(g.canvas,y,x)),g.emit(l.POST_RENDER,g)},postRender:function(){var f=this.gameContext;f.restore(),this.emit(e.POST_RENDER);var c=this.snapshotState;c.callback&&(v(this.gameCanvas,c),c.callback=null)},snapshotCanvas:function(f,c,g,m,y,x,T,C,A){g===void 0&&(g=!1),this.snapshotArea(m,y,x,T,c,C,A);var w=this.snapshotState;return w.getPixel=g,v(f,w),w.callback=null,this},snapshot:function(f,c,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,f,c,g)},snapshotArea:function(f,c,g,m,y,x,T){var C=this.snapshotState;return C.callback=y,C.type=x,C.encoder=T,C.getPixel=!1,C.x=f,C.y=c,C.width=Math.min(g,this.gameCanvas.width),C.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(f,c,g){return this.snapshotArea(f,c,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(f,c,g,m){var y=g.alpha*f.alpha;if(y!==0){var x=this.currentContext,T=this._tempMatrix1,C=this._tempMatrix2,A=c.canvasData,w=A.x,P=A.y,M=c.cutWidth,R=c.cutHeight,O=c.customPivot,U=c.source.resolution,X=f.displayOriginX,W=f.displayOriginY,Y=-X+c.x,N=-W+c.y;if(f.isCropped){var z=f._crop;(z.flipX!==f.flipX||z.flipY!==f.flipY)&&c.updateCropUVs(z,f.flipX,f.flipY),M=z.cw,R=z.ch,w=z.cx,P=z.cy,Y=-X+z.x,N=-W+z.y,f.flipX&&(Y>=0?Y=-(Y+M):Y<0&&(Y=Math.abs(Y)-M)),f.flipY&&(N>=0?N=-(N+R):N<0&&(N=Math.abs(N)-R))}var B=1,I=1;f.flipX&&(O||(Y+=-c.realWidth+X*2),B=-1),f.flipY&&(O||(N+=-c.realHeight+W*2),I=-1);var G=f.x,H=f.y;if(g.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),C.applyITRS(G,H,f.rotation,f.scaleX*B,f.scaleY*I),T.copyFrom(g.matrix),m?(T.multiplyWithOffset(m,-g.scrollX*f.scrollFactorX,-g.scrollY*f.scrollFactorY),C.e=G,C.f=H):(C.e-=g.scrollX*f.scrollFactorX,C.f-=g.scrollY*f.scrollFactorY),T.multiply(C),g.renderRoundPixels&&(T.e=Math.floor(T.e+.5),T.f=Math.floor(T.f+.5)),x.save(),T.setToContext(x),x.globalCompositeOperation=this.blendModes[f.blendMode],x.globalAlpha=y,x.imageSmoothingEnabled=!c.source.scaleMode,f.mask&&f.mask.preRenderCanvas(this,f,g),M>0&&R>0){var K=M/U,Z=R/U;g.roundPixels&&(Y=Math.floor(Y+.5),N=Math.floor(N+.5),K+=.5,Z+=.5),x.drawImage(c.source.image,w,P,M,R,Y,N,K,Z)}f.mask&&f.mask.postRenderCanvas(this,f,g),x.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=d},55830:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(89289),a=function(){var r=[],n=v.supportNewBlendModes,e="source-over";return r[l.NORMAL]=e,r[l.ADD]="lighter",r[l.MULTIPLY]=n?"multiply":e,r[l.SCREEN]=n?"screen":e,r[l.OVERLAY]=n?"overlay":e,r[l.DARKEN]=n?"darken":e,r[l.LIGHTEN]=n?"lighten":e,r[l.COLOR_DODGE]=n?"color-dodge":e,r[l.COLOR_BURN]=n?"color-burn":e,r[l.HARD_LIGHT]=n?"hard-light":e,r[l.SOFT_LIGHT]=n?"soft-light":e,r[l.DIFFERENCE]=n?"difference":e,r[l.EXCLUSION]=n?"exclusion":e,r[l.HUE]=n?"hue":e,r[l.SATURATION]=n?"saturation":e,r[l.COLOR]=n?"color":e,r[l.LUMINOSITY]=n?"luminosity":e,r[l.ERASE]="destination-out",r[l.SOURCE_IN]="source-in",r[l.SOURCE_OUT]="source-out",r[l.SOURCE_ATOP]="source-atop",r[l.DESTINATION_OVER]="destination-over",r[l.DESTINATION_IN]="destination-in",r[l.DESTINATION_OUT]="destination-out",r[l.DESTINATION_ATOP]="destination-atop",r[l.LIGHTER]="lighter",r[l.COPY]="copy",r[l.XOR]="xor",r};p.exports=a},20926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91296),v=function(a,r,n,e,s){var o=e.alpha*n.alpha;if(o<=0)return!1;var i=l(n,e,s).calc;return r.globalCompositeOperation=a.blendModes[n.blendMode],r.globalAlpha=o,r.save(),i.setToContext(r),r.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:a.antialias,!0};p.exports=v},63899:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="losewebgl"},6119:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},48070:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},15640:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},8912:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},87124:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="restorewebgl"},92503:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(92503),Snapshot:t(89966)},p.exports.Canvas=t(55830),p.exports.WebGL=t(4159)},32880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(40987),a=t(95540),r=function(n,e){var s=a(e,"callback"),o=a(e,"type","image/png"),i=a(e,"encoder",.92),h=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),d=Math.floor(a(e,"width",n.width)),f=Math.floor(a(e,"height",n.height)),c=a(e,"getPixel",!1);if(c){var g=n.getContext("2d",{willReadFrequently:!1}),m=g.getImageData(h,u,1,1),y=m.data;s.call(null,new v(y[0],y[1],y[2],y[3]))}else if(h!==0||u!==0||d!==n.width||f!==n.height){var x=l.createWebGL(this,d,f),T=x.getContext("2d",{willReadFrequently:!0});d>0&&f>0&&T.drawImage(n,h,u,d,f,0,0,d,f);var C=new Image;C.onerror=function(){s.call(null),l.remove(x)},C.onload=function(){s.call(null,C),l.remove(x)},C.src=x.toDataURL(o,i)}else{var A=new Image;A.onerror=function(){s.call(null)},A.onload=function(){s.call(null,A)},A.src=n.toDataURL(o,i)}};p.exports=r},88815:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(40987),a=t(95540),r=function(n,e){var s=n,o=a(e,"callback"),i=a(e,"type","image/png"),h=a(e,"encoder",.92),u=Math.abs(Math.round(a(e,"x",0))),d=Math.abs(Math.round(a(e,"y",0))),f=a(e,"getPixel",!1),c=a(e,"isFramebuffer",!1),g=c?a(e,"bufferWidth",1):s.drawingBufferWidth,m=c?a(e,"bufferHeight",1):s.drawingBufferHeight;if(f){var y=new Uint8Array(4),x=c?d:m-d;s.readPixels(u,x,1,1,s.RGBA,s.UNSIGNED_BYTE,y),o.call(null,new v(y[0],y[1],y[2],y[3]))}else{var T=Math.floor(a(e,"width",g)),C=Math.floor(a(e,"height",m)),A=T*C*4,w=new Uint8Array(A);s.readPixels(u,m-d-C,T,C,s.RGBA,s.UNSIGNED_BYTE,w);for(var P=l.createWebGL(this,T,C),M=P.getContext("2d",{willReadFrequently:!0}),R=M.getImageData(0,0,T,C),O=R.data,U=0;U<C;U++)for(var X=0;X<T;X++){var W=((C-U-1)*T+X)*4,Y=c?A-(U*T+(T-X))*4:(U*T+X)*4;O[Y+0]=w[W+0],O[Y+1]=w[W+1],O[Y+2]=w[W+2],O[Y+3]=w[W+3]}M.putImageData(R,0,0);var N=new Image;N.onerror=function(){o.call(null),l.remove(P)},N.onload=function(){o.call(null,N),l.remove(P)},N.src=P.toDataURL(i,h)}};p.exports=r},89966:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(36060),a=t(90330),r=t(82264),n=t(95540),e=t(32302),s=t(63448),o=t(31302),i=t(58918),h=t(14811),u=t(92651),d=t(96569),f=t(56527),c=t(57516),g=t(43439),m=t(81041),y=t(12385),x=t(7589),T=t(95428),C=t(72905),A=new l({initialize:function(P){this.game=P.game,this.renderer=P,this.classes=new a([[v.UTILITY_PIPELINE,x],[v.MULTI_PIPELINE,c],[v.BITMAPMASK_PIPELINE,o],[v.SINGLE_PIPELINE,y],[v.ROPE_PIPELINE,m],[v.LIGHT_PIPELINE,d],[v.POINTLIGHT_PIPELINE,g],[v.MOBILE_PIPELINE,f]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(w,P,M){var R=this.renderer,O=this.renderTargets;this.frameInc=Math.floor(n(w,"frameInc",32));var U=R.width,X=R.height,W=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(h.BARREL),i.Barrel],[String(h.BLOOM),i.Bloom],[String(h.BLUR),i.Blur],[String(h.BOKEH),i.Bokeh],[String(h.CIRCLE),i.Circle],[String(h.COLOR_MATRIX),i.ColorMatrix],[String(h.DISPLACEMENT),i.Displacement],[String(h.GLOW),i.Glow],[String(h.GRADIENT),i.Gradient],[String(h.PIXELATE),i.Pixelate],[String(h.SHADOW),i.Shadow],[String(h.SHINE),i.Shine],[String(h.VIGNETTE),i.Vignette],[String(h.WIPE),i.Wipe]]),!W){this.classes.set(v.FX_PIPELINE,u);for(var N=Math.min(U,X),z=Math.ceil(N/this.frameInc),B=1;B<z;B++){var I=B*this.frameInc;O.push(new e(R,I,I)),O.push(new e(R,I,I)),O.push(new e(R,I,I)),this.maxDimension=I}O.push(new e(R,U,X,1,0,!0,!0)),O.push(new e(R,U,X,1,0,!0,!0)),O.push(new e(R,U,X,1,0,!0,!0))}var G,H,K=this,Z=this.game;if(this.classes.each(function(j,_){G=K.add(j,new _({game:Z})),j===v.UTILITY_PIPELINE&&(K.UTILITY_PIPELINE=G,K.fullFrame1=G.fullFrame1,K.fullFrame2=G.fullFrame2,K.halfFrame1=G.halfFrame1,K.halfFrame2=G.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),w)for(H in w){var Q=w[H];G=new Q(Z),G.name=H,G.isPostFX?this.postPipelineClasses.set(H,Q):this.has(H)||(this.classes.set(H,Q),this.add(H,G))}this.default=this.get(P),M&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(w){var P=this.get(w);return P&&(this.default=P),P},add:function(w,P){if(P.isPostFX){console.warn(w+" is a Post Pipeline. Use `addPostPipeline` instead");return}var M=this.pipelines,R=this.renderer;return M.has(w)?console.warn("Pipeline exists: "+w):(P.name=w,P.manager=this,M.set(w,P)),P.hasBooted||P.boot(),R.width!==0&&R.height!==0&&!P.isPreFX&&P.resize(R.width,R.height),P},addPostPipeline:function(w,P){this.postPipelineClasses.has(w)||this.postPipelineClasses.set(w,P)},flush:function(){this.current&&this.current.flush()},has:function(w){var P=this.pipelines;return typeof w=="string"?P.has(w):!!P.contains(w)},get:function(w){var P=this.pipelines;if(typeof w=="string")return P.get(w);if(P.contains(w))return w},getPostPipeline:function(w,P,M){var R=this.postPipelineClasses,O,U="",X=typeof w;if(X==="string"||X==="number"?(O=R.get(w),U=w):X==="function"?(R.contains(w)&&(O=w),U=w.name):X==="object"&&(O=R.get(w.name),U=w.name),O){var W=new O(this.game,M);return W.name=U,P&&(W.gameObject=P),this.postPipelineInstances.push(W),W}},removePostPipeline:function(w){C(this.postPipelineInstances,w)},remove:function(w,P,M){P===void 0&&(P=!0),M===void 0&&(M=!0),this.pipelines.delete(w),P&&this.classes.delete(w),M&&this.postPipelineClasses.delete(w)},set:function(w,P,M){if(!w.isPostFX)return this.isCurrent(w,M)||(this.flush(),this.current&&this.current.unbind(),this.current=w,w.bind(M)),w.updateProjectionMatrix(),w.onBind(P),w},preBatch:function(w){if(w.hasPostPipeline){this.flush();for(var P=w.postPipelines,M=P.length-1;M>=0;M--){var R=P[M];R.active&&R.preBatch(w)}}},postBatch:function(w){if(w.hasPostPipeline){this.flush();for(var P=w.postPipelines,M=0;M<P.length;M++){var R=P[M];R.active&&R.postBatch(w)}}},preBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var P=w.postPipelines,M=P.length-1;M>=0;M--){var R=P[M];R.active&&R.preBatch(w)}}},postBatchCamera:function(w){if(w.hasPostPipeline){this.flush();for(var P=w.postPipelines,M=0;M<P.length;M++){var R=P[M];R.active&&R.postBatch(w)}}},isCurrent:function(w,P){var M=this.renderer,R=this.current;return R&&!P&&(P=R.currentShader),!(R!==w||P.program!==M.currentProgram)},copyFrame:function(w,P,M,R,O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(w,P,M,R,O),this},copyToGame:function(w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(w),this},drawFrame:function(w,P,M,R){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(w,P,M,R),this},blendFrames:function(w,P,M,R,O){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(w,P,M,R,O),this},blendFramesAdditive:function(w,P,M,R,O){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(w,P,M,R,O),this},clearFrame:function(w,P){return this.UTILITY_PIPELINE.clearFrame(w,P),this},blitFrame:function(w,P,M,R,O,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(w,P,M,R,O,U),this},copyFrameRect:function(w,P,M,R,O,U,X,W){return this.UTILITY_PIPELINE.copyFrameRect(w,P,M,R,O,U,X,W),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(w){return this.UTILITY_PIPELINE.bind(w)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(w,P){P.restoreContext()}),T(this.postPipelineInstances,function(w){w.restoreContext()})},rebind:function(w){w===void 0&&this.previous&&(w=this.previous);var P=this.renderer,M=P.gl;M.disable(M.DEPTH_TEST),M.disable(M.CULL_FACE),P.hasActiveStencilMask()?M.clear(M.DEPTH_BUFFER_BIT):(M.disable(M.STENCIL_TEST),M.clear(M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)),M.viewport(0,0,P.width,P.height),P.currentProgram=null,P.setBlendMode(0,!0);var R=P.vaoExtension;R&&R.bindVertexArrayOES(null);var O=this.pipelines.entries;for(var U in O)O[U].glReset=!0;w&&(this.current=w,w.rebind())},clear:function(){var w=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,w.currentProgram=null,w.setBlendMode(0,!0);var P=w.vaoExtension;P&&P.bindVertexArrayOES(null)},getRenderTarget:function(w){var P=this.renderTargets,M=3;if(w>this.maxDimension)return this.targetIndex=P.length-M,P[this.targetIndex];var R=(s(w,this.frameInc,0,!0)-1)*M;return this.targetIndex=R,P[R]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=A},32302:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92503),a=new l({initialize:function(n,e,s,o,i,h,u,d,f){o===void 0&&(o=1),i===void 0&&(i=0),h===void 0&&(h=!0),u===void 0&&(u=!1),d===void 0&&(d=!0),f===void 0&&(f=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=o,this.minFilter=i,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=f,this.init(e,s),u?this.renderer.on(v.RESIZE,this.resize,this):this.autoResize=!1},init:function(r,n){var e=this.renderer;this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,n){if(this.autoResize&&this.willResize(r,n)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n}return this},willResize:function(r,n){return typeof r!="number"||typeof n!="number"?!1:(r=Math.round(r*this.scale),n=Math.round(n*this.scale),r=Math.max(r,1),n=Math.max(n,1),r!==this.width||n!==this.height)},bind:function(r,n,e){r===void 0&&(r=!1);var s=this.renderer;if(r&&s.flush(),n&&e&&this.resize(n,e),s.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var o=this.renderer.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(r,n,e,s){var o=this.renderer,i=o.gl;o.pushFramebuffer(this.framebuffer),r!==void 0&&n!==void 0&&e!==void 0&&s!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(r,n,e,s)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),o.popFramebuffer(),o.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var n=this.renderer;return r&&n.flush(),n.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(v.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=a},70554:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(S,t,l,v){var a=(S*255|0)&255,r=(t*255|0)&255,n=(l*255|0)&255,e=(v*255|0)&255;return(e<<24|a<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(S,t){var l=(t*255|0)&255;return(l<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var l=(S>>16|0)&255,v=(S>>8|0)&255,a=(S|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|v<<8|l)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,l=(S>>8|0)&255,v=(S|0)&255;return[t/255,l/255,v/255]},checkShaderMax:function(S,t){var l=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?l:Math.min(l,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var l="",v=0;v<t;v++)v>0&&(l+=`
	else `),v<t-1&&(l+="if (outTexId < "+v+".5)"),l+=`
	{`,l+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",l+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,l)},setGlowQuality:function(S,t,l,v){return l===void 0&&(l=t.config.glowFXQuality),v===void 0&&(v=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/l/v).toFixed(7)),S=S.replace(/__DIST__/gi,v.toFixed(0)+".0"),S}}},29100:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(62644),a=t(50792),r=t(77085),n=t(95540),e=t(37867),s=t(92503),o=t(32302),i=t(70554),h=t(38683),u=new l({Extends:a,initialize:function(f){a.call(this);var c=f.game,g=c.renderer,m=g.gl;this.name=n(f,"name","WebGLPipeline"),this.game=c,this.renderer=g,this.manager,this.gl=m,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(f,"topology",m.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(f,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=f,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=n(f,"resizeUniform","")},boot:function(){var d,f=this.gl,c=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var m=this.renderTargets,y=n(c,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var x=g.width,T=g.height;if(typeof y=="number")for(d=0;d<y;d++)m.push(new o(g,x,T,1,0,!0));else if(Array.isArray(y))for(d=0;d<y.length;d++){var C=n(y[d],"scale",1),A=n(y[d],"minFilter",0),w=n(y[d],"autoClear",1),P=n(y[d],"autoResize",!1),M=n(y[d],"width",null),R=n(y[d],"height",M);M?m.push(new o(g,M,R,1,A,w,P)):m.push(new o(g,x,T,C,A,w,P))}m.length&&(this.currentRenderTarget=m[0]),this.setShadersFromConfig(c);var O=this.shaders,U=0;for(d=0;d<O.length;d++)O[d].vertexSize>U&&(U=O[d].vertexSize);var X=n(c,"batchSize",g.config.batchSize);this.vertexCapacity=X*6;var W=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var Y=n(c,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=g.createVertexBuffer(W,f.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(W.byteLength,f.DYNAMIC_DRAW),this.setVertexBuffer(),d=O.length-1;d>=0;d--)O[d].rebind();this.hasBooted=!0,g.on(s.RESIZE,this.resize,this),g.on(s.PRE_RENDER,this.onPreRender,this),g.on(s.RENDER,this.onRender,this),g.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,f,c){var g=this.renderer;if(d!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var m=this.setVertexBuffer(c);m&&!f&&(f=!0),d.bind(f,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var f=this.shaders,c=0;c<f.length;c++)if(f[c].name===d)return f[c]},setShadersFromConfig:function(d){var f,c=this.shaders,g=this.renderer;for(f=0;f<c.length;f++)c[f].destroy();var m="vertShader",y="fragShader",x="attributes",T=n(d,m,null),C=i.parseFragmentShaderMaxTextures(n(d,y,null),g.maxTextures),A=n(d,x,null),w=n(d,"shaders",[]),P=w.length;if(P===0)T&&C&&(this.shaders=[new h(this,"default",T,C,v(A))]);else{var M=[];for(f=0;f<P;f++){var R=w[f],O,U,X,W;if(typeof R=="string"?(O="default",U=T,X=i.parseFragmentShaderMaxTextures(R,g.maxTextures),W=A):(O=n(R,"name","default"),U=n(R,m,T),X=i.parseFragmentShaderMaxTextures(n(R,y,C),g.maxTextures),W=n(R,x,A)),O==="default"){var Y=X.split(`
`),N=Y[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(O=N.substring(20))}U&&X&&M.push(new h(this,O,U,X,v(W)))}this.shaders=M}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var f=this.currentBatch;f&&(f.texture.push(d),f.unit++,f.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var f=this.currentBatch,c=f.texture.indexOf(d);return c===-1?f.texture.length===this.renderer.maxTextures?this.createBatch(d):(f.unit++,f.maxUnit++,f.texture.push(d),this.currentUnit=f.unit,this.currentTexture=d,f.unit):(this.currentUnit=c,this.currentTexture=d,c)},setGameObject:function(d,f){return f===void 0&&(f=d.frame),this.pushBatch(f.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,f){(d!==this.width||f!==this.height)&&this.flush(),this.width=d,this.height=f;for(var c=this.renderTargets,g=0;g<c.length;g++)c[g].resize(d,f);return this.setProjectionMatrix(d,f),this.resizeUniform&&this.set2f(this.resizeUniform,d,f),this.emit(r.RESIZE,d,f,this),this.onResize(d,f),this},setProjectionMatrix:function(d,f){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=d,this.projectionHeight=f,c.ortho(0,d,f,0,-1e3,1e3);for(var g=this.shaders,m="uProjectionMatrix",y=0;y<g.length;y++){var x=g[y];x.hasUniform(m)&&(x.resetUniform(m),x.setMatrix4fv(m,!1,c.val,x))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var f=this.projectionMatrix;if(!f)return this;var c=this.projectionWidth,g=this.projectionHeight;d?f.ortho(0,c,0,g,-1e3,1e3):f.ortho(0,c,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,f.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,f=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==f)&&this.setProjectionMatrix(d,f)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var f=!1,c=this.gl;return c.getParameter(c.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,f=!0),d.bind(f),this.currentShader=d,this.activeTextures.length=0,this.emit(r.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var f=this.shaders,c=f.length-1;c>=0;c--){var g=f[c].rebind();(!d||g===d)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,f=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,f&&this.setVertexBuffer();for(var c=0;c<d.length;c++){var g=d[c];g.syncUniforms(),f&&g.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var f=this.gl;return this.gl.bindBuffer(f.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var f=this.gl,c=this.vertexCount,g=this.currentShader.vertexSize,m=this.topology;if(this.active){this.setVertexBuffer(),c===this.vertexCapacity?f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.DYNAMIC_DRAW):f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,c*g));var y,x,T,C=this.batch,A=this.activeTextures;if(this.forceZero)for(A[0]||f.activeTexture(f.TEXTURE0),y=0;y<C.length;y++)x=C[y],T=x.texture[0],A[0]!==T&&(f.bindTexture(f.TEXTURE_2D,T.webGLTexture),A[0]=T),f.drawArrays(m,x.start,x.count);else for(y=0;y<C.length;y++){x=C[y];for(var w=0;w<=x.maxUnit;w++)T=x.texture[w],A[w]!==T&&(f.activeTexture(f.TEXTURE0+w),f.bindTexture(f.TEXTURE_2D,T.webGLTexture),A[w]=T);f.drawArrays(m,x.start,x.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,f,c,g,m,y,x){var T=this.vertexViewF32,C=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++A]=d,T[++A]=f,T[++A]=c,T[++A]=g,T[++A]=m,T[++A]=y,C[++A]=x,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,f,c,g,m,y,x,T,C,A,w,P,M,R,O,U,X,W,Y,N){N===void 0&&(N=this.currentUnit);var z=!1;this.shouldFlush(6)&&(this.flush(),z=!0),this.currentBatch||(N=this.setTexture2D(Y));var B=this.vertexViewF32,I=this.vertexViewU32,G=this.vertexCount*this.currentShader.vertexComponentCount-1;return B[++G]=f,B[++G]=c,B[++G]=A,B[++G]=w,B[++G]=N,B[++G]=W,I[++G]=R,B[++G]=g,B[++G]=m,B[++G]=A,B[++G]=M,B[++G]=N,B[++G]=W,I[++G]=U,B[++G]=y,B[++G]=x,B[++G]=P,B[++G]=M,B[++G]=N,B[++G]=W,I[++G]=X,B[++G]=f,B[++G]=c,B[++G]=A,B[++G]=w,B[++G]=N,B[++G]=W,I[++G]=R,B[++G]=y,B[++G]=x,B[++G]=P,B[++G]=M,B[++G]=N,B[++G]=W,I[++G]=X,B[++G]=T,B[++G]=C,B[++G]=P,B[++G]=w,B[++G]=N,B[++G]=W,I[++G]=O,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),z},batchTri:function(d,f,c,g,m,y,x,T,C,A,w,P,M,R,O,U,X){X===void 0&&(X=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(X=this.setTexture2D(U));var Y=this.vertexViewF32,N=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++z]=f,Y[++z]=c,Y[++z]=T,Y[++z]=C,Y[++z]=X,Y[++z]=O,N[++z]=P,Y[++z]=g,Y[++z]=m,Y[++z]=T,Y[++z]=w,Y[++z]=X,Y[++z]=O,N[++z]=M,Y[++z]=y,Y[++z]=x,Y[++z]=A,Y[++z]=w,Y[++z]=X,Y[++z]=O,N[++z]=R,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),W},drawFillRect:function(d,f,c,g,m,y,x,T){x===void 0&&(x=this.renderer.whiteTexture),T===void 0&&(T=!0),d=Math.floor(d),f=Math.floor(f);var C=Math.floor(d+c),A=Math.floor(f+g),w=this.setTexture2D(x),P=i.getTintAppendFloatAlphaAndSwap(m,y),M=0,R=0,O=1,U=1;T&&(R=1,U=0),this.batchQuad(null,d,f,d,A,C,A,C,f,M,R,O,U,P,P,P,P,0,x,w)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,f){f===void 0&&(f=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+f),c.bindTexture(c.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,f){return this.bindTexture(d.texture,f)},setTime:function(d,f){return this.set1f(d,this.game.loop.getDuration(),f),this},setBoolean:function(d,f,c){return c===void 0&&(c=this.currentShader),c.setBoolean(d,f),this},set1f:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1f(d,f),this},set2f:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.set2f(d,f,c),this},set3f:function(d,f,c,g,m){return m===void 0&&(m=this.currentShader),m.set3f(d,f,c,g),this},set4f:function(d,f,c,g,m,y){return y===void 0&&(y=this.currentShader),y.set4f(d,f,c,g,m),this},set1fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1fv(d,f),this},set2fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set2fv(d,f),this},set3fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set3fv(d,f),this},set4fv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set4fv(d,f),this},set1iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1iv(d,f),this},set2iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set2iv(d,f),this},set3iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set3iv(d,f),this},set4iv:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set4iv(d,f),this},set1i:function(d,f,c){return c===void 0&&(c=this.currentShader),c.set1i(d,f),this},set2i:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.set2i(d,f,c),this},set3i:function(d,f,c,g,m){return m===void 0&&(m=this.currentShader),m.set3i(d,f,c,g),this},set4i:function(d,f,c,g,m,y){return y===void 0&&(y=this.currentShader),y.set4i(d,f,c,g,m),this},setMatrix2fv:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(d,f,c),this},setMatrix3fv:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(d,f,c),this},setMatrix4fv:function(d,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(d,f,c),this},destroy:function(){this.emit(r.DESTROY,this);var d,f=this.shaders;for(d=0;d<f.length;d++)f[d].destroy();var c=this.renderTargets;for(d=0;d<c.length;d++)c[d].destroy();var g=this.renderer;return g.deleteBuffer(this.vertexBuffer),g.off(s.RESIZE,this.resize,this),g.off(s.PRE_RENDER,this.onPreRender,this),g.off(s.RENDER,this.onRender,this),g.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=u},74797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95428),v=t(72905),a=t(19715),r=t(83419),n=t(8054),e=t(50792),s=t(92503),o=t(50030),i=t(37867),h=t(29747),u=t(7530),d=t(32302),f=t(97480),c=t(69442),g=t(70554),m=t(88815),y=t(26128),x=t(1482),T=t(82751),C=t(84387),A=t(93567),w=t(57183),P=new r({Extends:e,initialize:function(R){e.call(this);var O=R.config,U={alpha:O.transparent,desynchronized:O.desynchronized,depth:!0,antialias:O.antialiasGL,premultipliedAlpha:O.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:O.failIfMajorPerformanceCaveat,powerPreference:O.powerPreference,preserveDrawingBuffer:O.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:O.clearBeforeRender,antialias:O.antialias,backgroundColor:O.backgroundColor,contextCreation:U,roundPixels:O.roundPixels,maxTextures:O.maxTextures,maxTextureSize:O.maxTextureSize,batchSize:O.batchSize,maxLights:O.maxLights,mipmapFilter:O.mipmapFilter},this.game=R,this.type=n.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=R.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.previousContextLostHandler=h,this.previousContextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(M){var R,O=this.game,U=this.canvas,X=M.backgroundColor;if(O.config.context?R=O.config.context:R=U.getContext("webgl",M.contextCreation)||U.getContext("experimental-webgl",M.contextCreation),!R||R.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=R,this.setExtensions(),this.setContextHandlers(),O.context=R;for(var W=0;W<=27;W++)this.blendModes.push({func:[R.ONE,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_ADD});this.blendModes[1].func=[R.ONE,R.DST_ALPHA],this.blendModes[2].func=[R.DST_COLOR,R.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[R.ONE,R.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[R.ZERO,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_REVERSE_SUBTRACT},this.glFormats=[R.BYTE,R.SHORT,R.UNSIGNED_BYTE,R.UNSIGNED_SHORT,R.FLOAT],this.glFuncMap={mat2:{func:R.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:R.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:R.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:R.uniform1f,length:1},"1fv":{func:R.uniform1fv,length:1},"1i":{func:R.uniform1i,length:1},"1iv":{func:R.uniform1iv,length:1},"2f":{func:R.uniform2f,length:2},"2fv":{func:R.uniform2fv,length:1},"2i":{func:R.uniform2i,length:2},"2iv":{func:R.uniform2iv,length:1},"3f":{func:R.uniform3f,length:3},"3fv":{func:R.uniform3fv,length:1},"3i":{func:R.uniform3i,length:3},"3iv":{func:R.uniform3iv,length:1},"4f":{func:R.uniform4f,length:4},"4fv":{func:R.uniform4fv,length:1},"4i":{func:R.uniform4i,length:4},"4iv":{func:R.uniform4iv,length:1}},(!M.maxTextures||M.maxTextures===-1)&&(M.maxTextures=R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS)),M.maxTextureSize||(M.maxTextureSize=R.getParameter(R.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),R.disable(R.DEPTH_TEST),R.disable(R.CULL_FACE),R.enable(R.BLEND),R.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),R.clear(R.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(M.mipmapFilter)!==-1&&(this.mipmapFilter=R[M.mipmapFilter]),this.maxTextures=g.checkShaderMax(R,M.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(n.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),O.textures.once(c.READY,this.boot,this),this},boot:function(){var M=this.game,R=this.pipelines,O=M.scale.baseSize,U=O.width,X=O.height;this.width=U,this.height=X,this.isBooted=!0,this.renderTarget=new d(this,U,X,1,0,!0,!0),this.maskTarget=new d(this,U,X,1,0,!0,!0),this.maskSource=new d(this,U,X,1,0,!0,!0);var W=M.config;R.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=M.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=M.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=M.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),M.scale.on(f.RESIZE,this.onResize,this),this.resize(U,X)},setExtensions:function(){var M=this.gl,R=M.getSupportedExtensions();this.supportedExtensions=R;var O="ANGLE_instanced_arrays";this.instancedArraysExtension=R.indexOf(O)>-1?M.getExtension(O):null;var U="OES_vertex_array_object";this.vaoExtension=R.indexOf(U)>-1?M.getExtension(U):null},setContextHandlers:function(M,R){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof M=="function"?this.contextLostHandler=M.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof R=="function"?this.contextRestoredHandler=R.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(M){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(s.LOSE_WEBGL,this),M.preventDefault()},dispatchContextRestored:function(M){var R=this.gl;if(R.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(n.BlendModes.NORMAL),R.disable(R.BLEND),R.disable(R.DEPTH_TEST),R.enable(R.CULL_FACE),this.compression=this.getCompressedTextures();var O=function(U){U.createResource()};l(this.glTextureWrappers,O),l(this.glBufferWrappers,O),l(this.glFramebufferWrappers,O),l(this.glProgramWrappers,O),l(this.glAttribLocationWrappers,O),l(this.glUniformLocationWrappers,O),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(s.RESTORE_WEBGL,this),M.preventDefault()},createTemporaryTextures:function(){for(var M=this.gl,R=0;R<this.maxTextures;R++){var O=M.createTexture();M.activeTexture(M.TEXTURE0+R),M.bindTexture(M.TEXTURE_2D,O),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,1,1,0,M.RGBA,M.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(R)}},captureFrame:function(M,R){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(M,R,O){},stopCapture:function(){},onCapture:function(M){},onResize:function(M,R){(R.width!==this.width||R.height!==this.height)&&this.resize(R.width,R.height)},beginCapture:function(M,R){M===void 0&&(M=this.width),R===void 0&&(R=this.height),this.renderTarget.bind(!0,M,R),this.setProjectionMatrix(M,R)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(M,R){var O=this.gl;return this.width=M,this.height=R,this.setProjectionMatrix(M,R),O.viewport(0,0,M,R),this.drawingBufferHeight=O.drawingBufferHeight,O.scissor(0,O.drawingBufferHeight-R,M,R),this.defaultScissor[2]=M,this.defaultScissor[3]=R,this.emit(s.RESIZE,M,R),this},getCompressedTextures:function(){var M="WEBGL_compressed_texture_",R="WEBKIT_"+M,O="EXT_texture_compression_",U=function(W,Y){var N=W.getExtension(M+Y)||W.getExtension(R+Y)||W.getExtension(O+Y);if(N){var z={};for(var B in N)z[N[B]]=B;return z}},X=this.gl;return{ETC:U(X,"etc"),ETC1:U(X,"etc1"),ATC:U(X,"atc"),ASTC:U(X,"astc"),BPTC:U(X,"bptc"),RGTC:U(X,"rgtc"),PVRTC:U(X,"pvrtc"),S3TC:U(X,"s3tc"),S3TCSRGB:U(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(M,R){var O=this.compression[M.toUpperCase()];if(R in O)return O[R]},supportsCompressedTexture:function(M,R){var O=this.compression[M.toUpperCase()];return O?R?R in O:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(M,R){return(M!==this.projectionWidth||R!==this.projectionHeight)&&(this.projectionWidth=M,this.projectionHeight=R,this.projectionMatrix.ortho(0,M,R,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(M){return this.supportedExtensions?this.supportedExtensions.indexOf(M):!1},getExtension:function(M){return this.hasExtension(M)?(M in this.extensions||(this.extensions[M]=this.gl.getExtension(M)),this.extensions[M]):null},flush:function(){this.pipelines.flush()},pushScissor:function(M,R,O,U,X){X===void 0&&(X=this.drawingBufferHeight);var W=this.scissorStack,Y=[M,R,O,U];return W.push(Y),this.setScissor(M,R,O,U,X),this.currentScissor=Y,Y},setScissor:function(M,R,O,U,X){X===void 0&&(X=this.drawingBufferHeight);var W=this.gl,Y=this.currentScissor,N=O>0&&U>0;if(Y&&N){var z=Y[0],B=Y[1],I=Y[2],G=Y[3];N=z!==M||B!==R||I!==O||G!==U}N&&(this.flush(),W.scissor(M,X-R-U,O,U))},resetScissor:function(){var M=this.gl;M.enable(M.SCISSOR_TEST);var R=this.currentScissor;if(R){var O=R[0],U=R[1],X=R[2],W=R[3];X>0&&W>0&&M.scissor(O,this.drawingBufferHeight-U-W,X,W)}},popScissor:function(){var M=this.scissorStack;M.pop();var R=M[M.length-1];R&&this.setScissor(R[0],R[1],R[2],R[3]),this.currentScissor=R},hasActiveStencilMask:function(){var M=this.currentMask.mask,R=this.currentCameraMask.mask;return M&&M.isStencil||R&&R.isStencil},resetViewport:function(){var M=this.gl;M.viewport(0,0,this.width,this.height),this.drawingBufferHeight=M.drawingBufferHeight},setBlendMode:function(M,R){R===void 0&&(R=!1);var O=this.gl,U=this.blendModes[M];return R||M!==n.BlendModes.SKIP_CHECK&&this.currentBlendMode!==M?(this.flush(),O.enable(O.BLEND),O.blendEquation(U.equation),U.func.length>2?O.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):O.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=M,!0):!1},addBlendMode:function(M,R){var O=this.blendModes.push({func:M,equation:R});return O-1},updateBlendMode:function(M,R,O){return this.blendModes[M]&&(this.blendModes[M].func=R,O&&(this.blendModes[M].equation=O)),this},removeBlendMode:function(M){return M>17&&this.blendModes[M]&&this.blendModes.splice(M,1),this},pushFramebuffer:function(M,R,O,U,X){return M===this.currentFramebuffer?this:(this.fboStack.push(M),this.setFramebuffer(M,R,O,U,X))},setFramebuffer:function(M,R,O,U,X){if(R===void 0&&(R=!1),O===void 0&&(O=!0),U===void 0&&(U=null),X===void 0&&(X=!1),M===this.currentFramebuffer)return this;var W=this.gl,Y=this.width,N=this.height;return M&&M.renderTexture&&O?(Y=M.renderTexture.width,N=M.renderTexture.height):this.flush(),M?W.bindFramebuffer(W.FRAMEBUFFER,M.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),O&&W.viewport(0,0,Y,N),U&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,U.webGLTexture,0),X&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),R&&(M?(this.drawingBufferHeight=N,this.pushScissor(0,0,Y,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=M,this},popFramebuffer:function(M,R){M===void 0&&(M=!1),R===void 0&&(R=!0);var O=this.fboStack;O.pop();var U=O[O.length-1];return U||(U=null),this.setFramebuffer(U,M,R),U},restoreFramebuffer:function(M,R){M===void 0&&(M=!1),R===void 0&&(R=!0);var O=this.fboStack,U=O[O.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,M,R)},setProgram:function(M){return M!==this.currentProgram?(this.flush(),this.gl.useProgram(M.webGLProgram),this.currentProgram=M,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(M,R,O,U,X){X===void 0&&(X=!1);var W=this.gl,Y=W.NEAREST,N=W.NEAREST,z=W.CLAMP_TO_EDGE,B=null;R=M?M.width:R,O=M?M.height:O;var I=o(R,O);if(I&&!X&&(z=W.REPEAT),U===n.ScaleModes.LINEAR&&this.config.antialias){var G=M&&M.compressed,H=!G&&I||G&&M.mipmaps.length>1;Y=this.mipmapFilter&&H?this.mipmapFilter:W.LINEAR,N=W.LINEAR}return!M&&typeof R=="number"&&typeof O=="number"?B=this.createTexture2D(0,Y,N,z,z,W.RGBA,null,R,O):B=this.createTexture2D(0,Y,N,z,z,W.RGBA,M),B},createTexture2D:function(M,R,O,U,X,W,Y,N,z,B,I,G){typeof N!="number"&&(N=Y?Y.width:1),typeof z!="number"&&(z=Y?Y.height:1);var H=new T(this.gl,M,R,O,U,X,W,Y,N,z,B,I,G);return this.glTextureWrappers.push(H),H},createFramebuffer:function(M,R,O,U){this.currentFramebuffer=null;var X=new C(this.gl,M,R,O,U);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(M,R){var O=this.gl;O&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==M&&(this.currentMask.mask=M,this.currentMask.camera=R))},drawBitmapMask:function(M,R,O){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),M.renderWebGL(this,M,R),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,X=this.getCurrentStencilMask();X?(U.enable(U.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(O),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(M,R){var O=new x(this.gl,M,R);return this.glProgramWrappers.push(O),O},createVertexBuffer:function(M,R){var O=this.gl,U=new y(O,M,O.ARRAY_BUFFER,R);return this.glBufferWrappers.push(U),U},createAttribLocation:function(M,R){var O=new A(this.gl,M,R);return this.glAttribLocationWrappers.push(O),O},createUniformLocation:function(M,R){var O=new w(this.gl,M,R);return this.glUniformLocationWrappers.push(O),O},createIndexBuffer:function(M,R){var O=this.gl,U=new y(O,M,O.ELEMENT_ARRAY_BUFFER,R);return this.glBufferWrappers.push(U),U},deleteTexture:function(M){if(M)return v(this.glTextureWrappers,M),M.destroy(),this},deleteFramebuffer:function(M){return M?(v(this.fboStack,M),v(this.glFramebufferWrappers,M),M.destroy(),this):this},deleteProgram:function(M){return M&&(v(this.glProgramWrappers,M),M.destroy()),this},deleteAttribLocation:function(M){return M&&(v(this.glAttribLocationWrappers,M),M.destroy()),this},deleteUniformLocation:function(M){return M&&(v(this.glUniformLocationWrappers,M),M.destroy()),this},deleteBuffer:function(M){return M?(v(this.glBufferWrappers,M),M.destroy(),this):this},preRenderCamera:function(M){var R=M.x,O=M.y,U=M.width,X=M.height,W=M.backgroundColor;if(M.emit(a.PRE_RENDER,M),this.pipelines.preBatchCamera(M),this.pushScissor(R,O,U,X),M.mask&&(this.currentCameraMask.mask=M.mask,this.currentCameraMask.camera=M._maskCamera,M.mask.preRenderWebGL(this,M,M._maskCamera)),W.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(R,O,U,X,g.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},getCurrentStencilMask:function(){var M=null,R=this.maskStack,O=this.currentCameraMask;return R.length>0?M=R[R.length-1]:O.mask&&O.mask.isStencil&&(M=O),M},postRenderCamera:function(M){var R=M.flashEffect,O=M.fadeEffect;if(R.isRunning||O.isRunning||O.isComplete){var U=this.pipelines.setMulti();R.postRenderWebGL(U,g.getTintFromFloats),O.postRenderWebGL(U,g.getTintFromFloats)}M.dirty=!1,this.popScissor(),M.mask&&(this.currentCameraMask.mask=null,M.mask.postRenderWebGL(this,M._maskCamera)),this.pipelines.postBatchCamera(M),M.emit(a.POST_RENDER,M)},preRender:function(){if(!this.contextLost){var M=this.gl;if(M.bindFramebuffer(M.FRAMEBUFFER,null),this.emit(s.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var R=this.config.backgroundColor;M.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)}M.enable(M.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&M.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(s.PRE_RENDER)}},render:function(M,R,O){if(!this.contextLost){var U=R.length;if(this.emit(s.RENDER,M,O),this.preRenderCamera(O),U===0){this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(O);return}this.currentType="";for(var X=this.currentMask,W=0;W<U;W++){this.finalType=W===U-1;var Y=R[W],N=Y.mask;X=this.currentMask,X.mask&&X.mask!==N&&X.mask.postRenderWebGL(this,X.camera),N&&X.mask!==N&&N.preRenderWebGL(this,Y,O),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var z=Y.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=R[W+1].type===this.currentType,Y.renderWebGL(this,Y,O),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(O)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(s.POST_RENDER);var M=this.snapshotState;M.callback&&(m(this.gl,M),M.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var M=this.gl,R=this.getCurrentStencilMask();if(R){var O=R.mask;M.enable(M.STENCIL_TEST),O.invertAlpha?M.stencilFunc(M.NOTEQUAL,O.level,255):M.stencilFunc(M.EQUAL,O.level,255)}},snapshot:function(M,R,O){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,M,R,O)},snapshotArea:function(M,R,O,U,X,W,Y){var N=this.snapshotState;return N.callback=X,N.type=W,N.encoder=Y,N.getPixel=!1,N.x=M,N.y=R,N.width=O,N.height=U,this},snapshotPixel:function(M,R,O){return this.snapshotArea(M,R,1,1,O),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(M,R,O,U,X,W,Y,N,z,B,I){X===void 0&&(X=!1),W===void 0&&(W=0),Y===void 0&&(Y=0),N===void 0&&(N=R),z===void 0&&(z=O),B==="pixel"&&(X=!0,B="image/png");var G=this.currentFramebuffer;this.snapshotArea(W,Y,N,z,U,B,I);var H=this.snapshotState;return H.getPixel=X,H.isFramebuffer=!0,H.bufferWidth=R,H.bufferHeight=O,H.width=Math.min(H.width,R),H.height=Math.min(H.height,O),this.setFramebuffer(M),m(this.gl,H),this.setFramebuffer(G),H.callback=null,H.isFramebuffer=!1,this},canvasToTexture:function(M,R,O,U){O===void 0&&(O=!1),U===void 0&&(U=!1);var X=this.gl,W=X.NEAREST,Y=X.NEAREST,N=M.width,z=M.height,B=X.CLAMP_TO_EDGE,I=o(N,z);return!O&&I&&(B=X.REPEAT),this.config.antialias&&(W=I&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Y=X.LINEAR),R?(R.update(M,N,z,U,B,B,W,Y,R.format),R):this.createTexture2D(0,W,Y,B,B,X.RGBA,M,N,z,!0,!1,U)},createCanvasTexture:function(M,R,O){return R===void 0&&(R=!1),O===void 0&&(O=!1),this.canvasToTexture(M,null,R,O)},updateCanvasTexture:function(M,R,O,U){return O===void 0&&(O=!1),U===void 0&&(U=!1),this.canvasToTexture(M,R,U,O)},videoToTexture:function(M,R,O,U){O===void 0&&(O=!1),U===void 0&&(U=!1);var X=this.gl,W=X.NEAREST,Y=X.NEAREST,N=M.videoWidth,z=M.videoHeight,B=X.CLAMP_TO_EDGE,I=o(N,z);return!O&&I&&(B=X.REPEAT),this.config.antialias&&(W=I&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Y=X.LINEAR),R?(R.update(M,N,z,U,B,B,W,Y,R.format),R):this.createTexture2D(0,W,Y,B,B,X.RGBA,M,N,z,!0,!0,U)},createVideoTexture:function(M,R,O){return R===void 0&&(R=!1),O===void 0&&(O=!1),this.videoToTexture(M,null,R,O)},updateVideoTexture:function(M,R,O,U){return O===void 0&&(O=!1),U===void 0&&(U=!1),this.videoToTexture(M,R,U,O)},createUint8ArrayTexture:function(M,R,O){var U=this.gl,X=U.NEAREST,W=U.NEAREST,Y=U.CLAMP_TO_EDGE,N=o(R,O);return N&&(Y=U.REPEAT),this.createTexture2D(0,X,W,Y,Y,U.RGBA,M,R,O)},setTextureFilter:function(M,R){var O=this.gl,U=R===0?O.LINEAR:O.NEAREST;O.activeTexture(O.TEXTURE0);var X=O.getParameter(O.TEXTURE_BINDING_2D);return O.bindTexture(O.TEXTURE_2D,M.webGLTexture),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,U),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,U),M.minFilter=U,M.magFilter=U,X&&O.bindTexture(O.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var M=function(R){R.destroy()};l(this.glAttribLocationWrappers,M),l(this.glBufferWrappers,M),l(this.glFramebufferWrappers,M),l(this.glProgramWrappers,M),l(this.glTextureWrappers,M),l(this.glUniformLocationWrappers,M),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=P},38683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95428),a=t(95540),r=t(14500),n=new l({initialize:function(s,o,i,h,u){this.pipeline=s,this.name=o,this.renderer=s.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=i,this.program=this.renderer.createProgram(i,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(e){var s=0,o=0,i=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var u=e[h],d=u.name,f=a(u,"size",1),c=a(u,"type",r.FLOAT),g=c.enum,m=c.size,y=!!u.normalized;i.push({name:d,size:f,type:g,normalized:y,offset:o,enabled:!1,location:-1}),m===4?s+=f:s++,o+=f*m}this.vertexSize=o,this.vertexComponentCount=s,this.attributes=i},bind:function(e,s){return e===void 0&&(e=!1),s===void 0&&(s=!1),s&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var s=this.gl,o=this.renderer,i=this.vertexSize,h=this.attributes,u=this.program,d=0;d<h.length;d++){var f=h[d],c=f.size,g=f.type,m=f.offset,y=f.enabled,x=f.location,T=!!f.normalized;if(e){x!==-1&&o.deleteAttribLocation(x);var C=this.renderer.createAttribLocation(u,f.name);C.webGLAttribLocation>=0?(s.enableVertexAttribArray(C.webGLAttribLocation),s.vertexAttribPointer(C.webGLAttribLocation,c,g,T,i,m),f.enabled=!0,f.location=C):C.webGLAttribLocation!==-1&&s.disableVertexAttribArray(C.webGLAttribLocation)}else y?s.vertexAttribPointer(x.webGLAttribLocation,c,g,T,i,m):!y&&x!==-1&&x.webGLAttribLocation>-1&&(s.disableVertexAttribArray(x.webGLAttribLocation),f.location=-1)}return this},createUniforms:function(){var e=this.gl,s=this.program,o=this.uniforms,i,h,u,d=e.getProgramParameter(s.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<d;i++){var f=e.getActiveUniform(s.webGLProgram,i);if(f){h=f.name,u=this.renderer.createUniformLocation(s,h),u!==null&&(o[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var c=h.indexOf("[");c>0&&(h=h.substr(0,c),o.hasOwnProperty(h)||(u=this.renderer.createUniformLocation(s,h),u!==null&&(o[h]={name:h,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var s in this.uniforms){var o=this.uniforms[s];o.setter&&o.setter.call(e,o.location.webGLUniformLocation,o.value1,o.value2,o.value3,o.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var s=this.uniforms[e];return s&&(s.value1=null,s.value2=null,s.value3=null,s.value4=null),this},setUniform1:function(e,s,o,i){var h=this.uniforms[s];return h?((i||h.value1!==o)&&(h.setter||(h.setter=e),h.value1=o,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,o),this.pipeline.currentShader=this),this):this},setUniform2:function(e,s,o,i,h){var u=this.uniforms[s];return u?((h||u.value1!==o||u.value2!==i)&&(u.setter||(u.setter=e),u.value1=o,u.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,o,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,s,o,i,h,u){var d=this.uniforms[s];return d?((u||d.value1!==o||d.value2!==i||d.value3!==h)&&(d.setter||(d.setter=e),d.value1=o,d.value2=i,d.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,o,i,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,s,o,i,h,u,d){var f=this.uniforms[s];return f?((d||f.value1!==o||f.value2!==i||f.value3!==h||f.value4!==u)&&(f.setter||(f.setter=e),f.value1=o,f.value2=i,f.value3=h,f.value4=u,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,o,i,h,u),this.pipeline.currentShader=this),this):this},setBoolean:function(e,s){return this.setUniform1(this.gl.uniform1i,e,Number(s))},set1f:function(e,s){return this.setUniform1(this.gl.uniform1f,e,s)},set2f:function(e,s,o){return this.setUniform2(this.gl.uniform2f,e,s,o)},set3f:function(e,s,o,i){return this.setUniform3(this.gl.uniform3f,e,s,o,i)},set4f:function(e,s,o,i,h){return this.setUniform4(this.gl.uniform4f,e,s,o,i,h)},set1fv:function(e,s){return this.setUniform1(this.gl.uniform1fv,e,s,!0)},set2fv:function(e,s){return this.setUniform1(this.gl.uniform2fv,e,s,!0)},set3fv:function(e,s){return this.setUniform1(this.gl.uniform3fv,e,s,!0)},set4fv:function(e,s){return this.setUniform1(this.gl.uniform4fv,e,s,!0)},set1iv:function(e,s){return this.setUniform1(this.gl.uniform1iv,e,s,!0)},set2iv:function(e,s){return this.setUniform1(this.gl.uniform2iv,e,s,!0)},set3iv:function(e,s){return this.setUniform1(this.gl.uniform3iv,e,s,!0)},set4iv:function(e,s){return this.setUniform1(this.gl.uniform4iv,e,s,!0)},set1i:function(e,s){return this.setUniform1(this.gl.uniform1i,e,s)},set2i:function(e,s,o){return this.setUniform2(this.gl.uniform2i,e,s,o)},set3i:function(e,s,o,i){return this.setUniform3(this.gl.uniform3i,e,s,o,i)},set4i:function(e,s,o,i,h){return this.setUniform4(this.gl.uniform4i,e,s,o,i,h)},setMatrix2fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix2fv,e,s,o,!0)},setMatrix3fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix3fv,e,s,o,!0)},setMatrix4fv:function(e,s,o){return this.setUniform2(this.gl.uniformMatrix4fv,e,s,o,!0)},createProgram:function(e,s){return e===void 0&&(e=this.vertSrc),s===void 0&&(s=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=s,this.program=this.renderer.createProgram(e,s),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;v(this.uniforms,function(s){e.deleteUniformLocation(s.location)}),this.uniforms=null,v(this.attributes,function(s){e.deleteAttribLocation(s.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});p.exports=n},14500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=S},4159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14500),v=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=v(!1,a,l),p.exports=a},31302:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(78908),r=t(85191),n=t(14500),e=t(29100),s=new l({Extends:e,initialize:function(i){i.fragShader=v(i,"fragShader",a),i.vertShader=v(i,"vertShader",r),i.batchSize=v(i,"batchSize",1),i.vertices=v(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=v(i,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(o,i){e.prototype.resize.call(this,o,i),this.set2f("uResolution",o,i)},beginMask:function(o,i,h){this.renderer.beginBitmapMask(o,h)},endMask:function(o,i,h){var u=this.gl,d=this.renderer,f=o.bitmapMask;f&&u&&(d.drawBitmapMask(f,i,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",o.invertAlpha),u.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});p.exports=s},92651:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(58918),a=t(14811),r=t(95540),n=t(43558),e=t(89350),s=t(70554),o=new l({Extends:n,initialize:function(h){h.shaders=[s.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,h);var u=this.game;this.glow=new v.Glow(u),this.shadow=new v.Shadow(u),this.pixelate=new v.Pixelate(u),this.vignette=new v.Vignette(u),this.shine=new v.Shine(u),this.gradient=new v.Gradient(u),this.circle=new v.Circle(u),this.barrel=new v.Barrel(u),this.wipe=new v.Wipe(u),this.bokeh=new v.Bokeh(u);var d=[];d[a.GLOW]=this.onGlow,d[a.SHADOW]=this.onShadow,d[a.PIXELATE]=this.onPixelate,d[a.VIGNETTE]=this.onVignette,d[a.SHINE]=this.onShine,d[a.BLUR]=this.onBlur,d[a.GRADIENT]=this.onGradient,d[a.BLOOM]=this.onBloom,d[a.COLOR_MATRIX]=this.onColorMatrix,d[a.CIRCLE]=this.onCircle,d[a.BARREL]=this.onBarrel,d[a.DISPLACEMENT]=this.onDisplacement,d[a.WIPE]=this.onWipe,d[a.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(i,h,u){this.source=i,this.target=h,this.swap=u;var d=i.width,f=i.height,c=this.tempSprite,g=this.fxHandlers;if(c&&c.preFX)for(var m=c.preFX.list,y=0;y<m.length;y++){var x=m[y];x.active&&g[x.type].call(this,x,d,f)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,h=this.target;this.copy(i,h),this.source=h,this.target=i},onGlow:function(i,h,u){var d=this.shaders[a.GLOW];this.setShader(d),this.glow.onPreRender(i,d,h,u),this.runDraw()},onShadow:function(i){var h=this.shaders[a.SHADOW];this.setShader(h),this.shadow.onPreRender(i,h),this.runDraw()},onPixelate:function(i,h,u){var d=this.shaders[a.PIXELATE];this.setShader(d),this.pixelate.onPreRender(i,d,h,u),this.runDraw()},onVignette:function(i){var h=this.shaders[a.VIGNETTE];this.setShader(h),this.vignette.onPreRender(i,h),this.runDraw()},onShine:function(i,h,u){var d=this.shaders[a.SHINE];this.setShader(d),this.shine.onPreRender(i,d,h,u),this.runDraw()},onBlur:function(i,h,u){var d=r(i,"quality"),f=this.shaders[a.BLUR+d];this.setShader(f),this.set1i("uMainSampler",0),this.set2f("resolution",h,u),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var c=r(i,"x"),g=r(i,"y"),m=r(i,"steps"),y=0;y<m;y++)this.set2f("offset",c,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(i){var h=this.shaders[a.GRADIENT];this.setShader(h),this.gradient.onPreRender(i,h),this.runDraw()},onBloom:function(i,h,u){var d=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var f=2/h*r(i,"offsetX"),c=2/u*r(i,"offsetY"),g=r(i,"steps"),m=0;m<g;m++)this.set2f("offset",f,0),this.runDraw(),this.set2f("offset",0,c),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,h,u){var d=this.shaders[a.CIRCLE];this.setShader(d),this.circle.onPreRender(i,d,h,u),this.runDraw()},onBarrel:function(i){var h=this.shaders[a.BARREL];this.setShader(h),this.barrel.onPreRender(i,h),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var h=this.shaders[a.WIPE];this.setShader(h),this.wipe.onPreRender(i,h),this.runDraw()},onBokeh:function(i,h,u){var d=this.shaders[a.BOKEH];this.setShader(d),this.bokeh.onPreRender(i,d,h,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});p.exports=o},96569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(31063),r=t(57516),n=t(61340),e=t(26099),s=t(29100),o=new l({Extends:r,initialize:function(h){var u=v(h,"fragShader",a);h.fragShader=u.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),r.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){s.prototype.boot.call(this)},onRender:function(i,h){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var d=u.getLights(h),f=d.length;this.lightsActive=!0;var c,g=this.renderer,m=g.height,y=h.matrix,x=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",f),c=0;c<f;c++){var T=d[c].light,C=T.color,A="uLights["+c+"].";y.transformPoint(T.x,T.y,x),this.set2f(A+"position",x.x-h.scrollX*T.scrollFactorX*h.zoom,m-(x.y-h.scrollY*T.scrollFactorY*h.zoom)),this.set3f(A+"color",C.r,C.g,C.b),this.set1f(A+"intensity",T.intensity),this.set1f(A+"radius",T.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(i){var u=-i,d=Math.cos(u),f=Math.sin(u);h[1]=f,h[3]=-f,h[0]=h[4]=d}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=i}},setTexture2D:function(i,h){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var d=this.getNormalMap(h);this.isNewNormalMap(i,d)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(d),this.currentNormalMap=d);var f=0;if(h&&h.parentContainer){var c=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);f=c.rotationNormalized}else h&&(f=h.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(d)),this.setNormalMapRotation(f),0},setGameObject:function(i,h){h===void 0&&(h=i.frame);var u=h.glTexture,d=this.getNormalMap(i);if(this.isNewNormalMap(u,d)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(d),this.currentNormalMap=d),i.parentContainer){var f=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(f.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(d)),0},isNewNormalMap:function(i,h){return this.currentTexture!==i||this.currentNormalMap!==h},getNormalMap:function(i){var h;if(i)i.displayTexture?h=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?h=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?h=i.tileset[0].image.dataSource[0]:h=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(i,h,u){this.lightsActive&&r.prototype.batchSprite.call(this,i,h,u)},batchTexture:function(i,h,u,d,f,c,g,m,y,x,T,C,A,w,P,M,R,O,U,X,W,Y,N,z,B,I,G,H,K,Z,Q,j){this.lightsActive&&r.prototype.batchTexture.call(this,i,h,u,d,f,c,g,m,y,x,T,C,A,w,P,M,R,O,U,X,W,Y,N,z,B,I,G,H,K,Z,Q,j)},batchTextureFrame:function(i,h,u,d,f,c,g){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,h,u,d,f,c,g)}});p.exports=o},56527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(14500),s=t(29100),o=new l({Extends:a,initialize:function(h){h.fragShader=v(h,"fragShader",r),h.vertShader=v(h,"vertShader",n),h.attributes=v(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",a.call(this,h)},boot:function(){s.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});p.exports=o},57516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(94811),a=t(95540),r=t(98840),n=t(44667),e=t(61340),s=t(70554),o=t(14500),i=t(29100),h=new l({Extends:i,initialize:function(d){var f=d.game.renderer,c=a(d,"fragShader",r);d.fragShader=s.parseFragmentShaderMaxTextures(c,f.maxTextures),d.vertShader=a(d,"vertShader",n),d.attributes=a(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",i.call(this,d),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height)},batchSprite:function(u,d,f){this.manager.set(this,u);var c=this._tempMatrix1,g=this._tempMatrix2,m=this._tempMatrix3,y=u.frame,x=y.glTexture,T=y.u0,C=y.v0,A=y.u1,w=y.v1,P=y.x,M=y.y,R=y.cutWidth,O=y.cutHeight,U=y.customPivot,X=u.displayOriginX,W=u.displayOriginY,Y=-X+P,N=-W+M;if(u.isCropped){var z=u._crop;(z.flipX!==u.flipX||z.flipY!==u.flipY)&&y.updateCropUVs(z,u.flipX,u.flipY),T=z.u0,C=z.v0,A=z.u1,w=z.v1,R=z.width,O=z.height,P=z.x,M=z.y,Y=-X+P,N=-W+M}var B=1,I=1;u.flipX&&(U||(Y+=-y.realWidth+X*2),B=-1),u.flipY&&(U||(N+=-y.realHeight+W*2),I=-1);var G=u.x,H=u.y;d.roundPixels&&(G=Math.floor(G),H=Math.floor(H)),g.applyITRS(G,H,u.rotation,u.scaleX*B,u.scaleY*I),c.copyFrom(d.matrix),f?(c.multiplyWithOffset(f,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),g.e=G,g.f=H):(g.e-=d.scrollX*u.scrollFactorX,g.f-=d.scrollY*u.scrollFactorY),c.multiply(g,m);var K=m.setQuad(Y,N,Y+R,N+O,d.renderRoundPixels),Z=s.getTintAppendFloatAlpha,Q=d.alpha,j=Z(u.tintTopLeft,Q*u._alphaTL),_=Z(u.tintTopRight,Q*u._alphaTR),tt=Z(u.tintBottomLeft,Q*u._alphaBL),et=Z(u.tintBottomRight,Q*u._alphaBR);this.shouldFlush(6)&&this.flush();var rt=this.setGameObject(u,y);this.manager.preBatch(u),this.batchQuad(u,K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],T,C,A,w,j,_,tt,et,u.tintFill,x,rt),this.manager.postBatch(u)},batchTexture:function(u,d,f,c,g,m,y,x,T,C,A,w,P,M,R,O,U,X,W,Y,N,z,B,I,G,H,K,Z,Q,j,_,tt,et){et===void 0&&(et=!1),this.manager.set(this,u);var rt=this._tempMatrix1,at=this._tempMatrix2,st=this._tempMatrix3,ct=X/f+K,vt=W/c+Z,pt=(X+Y)/f+K,nt=(W+N)/c+Z,ot=y,ht=x,xt=-O,Et=-U;if(u.isCropped){var Ot=u._crop,Tt=Ot.width,St=Ot.height;ot=Tt,ht=St,y=Tt,x=St,X=Ot.x,W=Ot.y;var bt=X,Yt=W;w&&(bt=Y-Ot.x-Tt),P&&(Yt=N-Ot.y-St),ct=bt/f+K,vt=Yt/c+Z,pt=(bt+Tt)/f+K,nt=(Yt+St)/c+Z,xt=-O+X,Et=-U+W}P=P^(!_&&d.isRenderTexture?1:0),w&&(ot*=-1,xt+=y),P&&(ht*=-1,Et+=x),Q.roundPixels&&(g=Math.floor(g),m=Math.floor(m)),at.applyITRS(g,m,A,T,C),rt.copyFrom(Q.matrix),j?(rt.multiplyWithOffset(j,-Q.scrollX*M,-Q.scrollY*R),at.e=g,at.f=m):(at.e-=Q.scrollX*M,at.f-=Q.scrollY*R),rt.multiply(at,st);var wt=st.setQuad(xt,Et,xt+ot,Et+ht,Q.renderRoundPixels);tt==null&&(tt=this.setTexture2D(d)),u&&!et&&this.manager.preBatch(u),this.batchQuad(u,wt[0],wt[1],wt[2],wt[3],wt[4],wt[5],wt[6],wt[7],ct,vt,pt,nt,z,B,I,G,H,d,tt),u&&!et&&this.manager.postBatch(u)},batchTextureFrame:function(u,d,f,c,g,m,y){this.manager.set(this);var x=this._tempMatrix1.copyFrom(m),T=this._tempMatrix2;y?x.multiply(y,T):T=x;var C=T.setQuad(d,f,d+u.width,f+u.height),A=this.setTexture2D(u.source.glTexture);c=s.getTintAppendFloatAlpha(c,g),this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],u.u0,u.v0,u.u1,u.v1,c,c,c,c,0,u.glTexture,A)},batchFillRect:function(u,d,f,c,g,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(g,y);var x=y.setQuad(u,d,u+f,d+c),T=this.fillTint;this.batchQuad(null,x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7],0,0,1,1,T.TL,T.TR,T.BL,T.BR,2)},batchFillTriangle:function(u,d,f,c,g,m,y,x){this.renderer.pipelines.set(this);var T=this.calcMatrix;x&&x.multiply(y,T);var C=T.getX(u,d),A=T.getY(u,d),w=T.getX(f,c),P=T.getY(f,c),M=T.getX(g,m),R=T.getY(g,m),O=this.fillTint;this.batchTri(null,C,A,w,P,M,R,0,0,1,1,O.TL,O.TR,O.BL,2)},batchStrokeTriangle:function(u,d,f,c,g,m,y,x,T){var C=this.tempTriangle;C[0].x=u,C[0].y=d,C[0].width=y,C[1].x=f,C[1].y=c,C[1].width=y,C[2].x=g,C[2].y=m,C[2].width=y,C[3].x=u,C[3].y=d,C[3].width=y,this.batchStrokePath(C,y,!1,x,T)},batchFillPath:function(u,d,f){this.renderer.pipelines.set(this);var c=this.calcMatrix;f&&f.multiply(d,c);for(var g=u.length,m=this.polygonCache,y,x,T=this.fillTint.TL,C=this.fillTint.TR,A=this.fillTint.BL,w=0;w<g;++w)x=u[w],m.push(x.x,x.y);y=v(m),g=y.length;for(var P=0;P<g;P+=3){var M=y[P+0]*2,R=y[P+1]*2,O=y[P+2]*2,U=m[M+0],X=m[M+1],W=m[R+0],Y=m[R+1],N=m[O+0],z=m[O+1],B=c.getX(U,X),I=c.getY(U,X),G=c.getX(W,Y),H=c.getY(W,Y),K=c.getX(N,z),Z=c.getY(N,z);this.batchTri(null,B,I,G,H,K,Z,0,0,1,1,T,C,A,2)}m.length=0},batchStrokePath:function(u,d,f,c,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var m=u.length-1,y=0;y<m;y++){var x=u[y],T=u[y+1];this.batchLine(x.x,x.y,T.x,T.y,x.width/2,T.width/2,d,y,!f&&y===m-1,c,g)}},batchLine:function(u,d,f,c,g,m,y,x,T,C,A){this.renderer.pipelines.set(this);var w=this.calcMatrix;A&&A.multiply(C,w);var P=f-u,M=c-d,R=Math.sqrt(P*P+M*M);if(R!==0){var O=g*(c-d)/R,U=g*(u-f)/R,X=m*(c-d)/R,W=m*(u-f)/R,Y=f-X,N=c-W,z=u-O,B=d-U,I=f+X,G=c+W,H=u+O,K=d+U,Z=w.getX(Y,N),Q=w.getY(Y,N),j=w.getX(z,B),_=w.getY(z,B),tt=w.getX(I,G),et=w.getY(I,G),rt=w.getX(H,K),at=w.getY(H,K),st=this.strokeTint,ct=st.TL,vt=st.TR,pt=st.BL,nt=st.BR;if(this.batchQuad(null,rt,at,j,_,Z,Q,tt,et,0,0,1,1,ct,vt,pt,nt,2),!(y<=2)){var ot=this.prevQuad,ht=this.firstQuad;x>0&&ot[4]?this.batchQuad(null,rt,at,j,_,ot[0],ot[1],ot[2],ot[3],0,0,1,1,ct,vt,pt,nt,2):(ht[0]=rt,ht[1]=at,ht[2]=j,ht[3]=_,ht[4]=1),T&&ht[4]?this.batchQuad(null,Z,Q,tt,et,ht[0],ht[1],ht[2],ht[3],0,0,1,1,ct,vt,pt,nt,2):(ot[0]=Z,ot[1]=Q,ot[2]=tt,ot[3]=et,ot[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});p.exports=h},43439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(4127),r=t(89924),n=t(29100),e=new l({Extends:n,initialize:function(o){o.vertShader=v(o,"vertShader",r),o.fragShader=v(o,"fragShader",a),o.attributes=v(o,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,o)},onRender:function(s,o){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",o.zoom)},batchPointLight:function(s,o,i,h,u,d,f,c,g,m,y,x){var T=s.color,C=s.intensity,A=s.radius,w=s.attenuation,P=T.r*C,M=T.g*C,R=T.b*C,O=o.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,h,y,x,A,w,P,M,R,O),this.batchLightVert(u,d,y,x,A,w,P,M,R,O),this.batchLightVert(f,c,y,x,A,w,P,M,R,O),this.batchLightVert(i,h,y,x,A,w,P,M,R,O),this.batchLightVert(f,c,y,x,A,w,P,M,R,O),this.batchLightVert(g,m,y,x,A,w,P,M,R,O),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,o,i,h,u,d,f,c,g,m){var y=this.vertexViewF32,x=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++x]=s,y[++x]=o,y[++x]=i,y[++x]=h,y[++x]=u,y[++x]=d,y[++x]=f,y[++x]=c,y[++x]=g,y[++x]=m,this.vertexCount++}});p.exports=e},84057:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89422),a=t(95540),r=t(27681),n=t(49627),e=t(29100),s=new l({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",n),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var o=this.manager.UTILITY_PIPELINE;this.fullFrame1=o.fullFrame1,this.fullFrame2=o.fullFrame2,this.halfFrame1=o.halfFrame1,this.halfFrame2=o.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var h=this.renderTargets,u=0;u<h.length;u++)h[u].autoResize=!0},postBatch:function(o){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(o),this},onDraw:function(o){this.bindAndDraw(o)},getController:function(o){return o!==void 0?o:this.controller?this.controller:this},copySprite:function(o,i,h){h===void 0&&(h=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,o.texture.webGLTexture);var d=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),h&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,d))},copyFrame:function(o,i,h,u,d){this.manager.copyFrame(o,i,h,u,d)},copyToGame:function(o){this.manager.copyToGame(o)},drawFrame:function(o,i,h){this.manager.drawFrame(o,i,h,this.colorMatrix)},blendFrames:function(o,i,h,u,d){this.manager.blendFrames(o,i,h,u,d)},blendFramesAdditive:function(o,i,h,u,d){this.manager.blendFramesAdditive(o,i,h,u,d)},clearFrame:function(o,i){this.manager.clearFrame(o,i)},blitFrame:function(o,i,h,u,d,f){this.manager.blitFrame(o,i,h,u,d,f)},copyFrameRect:function(o,i,h,u,d,f,c,g){this.manager.copyFrameRect(o,i,h,u,d,f,c,g)},bindAndDraw:function(o,i,h,u,d){h===void 0&&(h=!0),u===void 0&&(u=!0);var f=this.gl,c=this.renderer;this.bind(d),this.set1i("uMainSampler",0),i?(f.viewport(0,0,i.width,i.height),f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),h&&(u?f.clearColor(0,0,0,0):f.clearColor(0,0,0,1),f.clear(f.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1),c.currentFramebuffer||f.viewport(0,0,c.width,c.height)),c.restoreStencilMask(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,o.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),i&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});p.exports=s},43558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(67502),a=t(83419),r=t(96293),n=t(95540),e=t(57516),s=t(27681),o=t(87841),i=t(32302),h=t(45561),u=t(60722),d=t(29100),f=new a({Extends:e,initialize:function(g){var m=n(g,"fragShader",s),y=n(g,"vertShader",u),x=n(g,"drawShader",s),T=[{name:"DrawSprite",fragShader:h,vertShader:u},{name:"CopySprite",fragShader:m,vertShader:y},{name:"DrawGame",fragShader:x,vertShader:u},{name:"ColorMatrix",fragShader:r}],C=n(g,"shaders",[]);g.shaders=T.concat(C),g.vertShader||(g.vertShader=y),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new o,this.targetBounds=new o,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var c=this.shaders,g=this.renderer;this.drawSpriteShader=c[0],this.copyShader=c[1],this.gameShader=c[2],this.colorMatrixShader=c[3],this.fsTarget=new i(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var m=new ArrayBuffer(168);this.quadVertexData=m,this.quadVertexViewF32=new Float32Array(m),this.quadVertexBuffer=g.createVertexBuffer(m,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader,this.set2f("uResolution",g.width,g.height)},onResize:function(c,g){var m=this.quadVertexViewF32;m[1]=g,m[22]=g,m[14]=c,m[28]=c,m[35]=c,m[36]=g},batchQuad:function(c,g,m,y,x,T,C,A,w,P,M,R,O,U,X,W,Y,N,z){var B=Math.min(g,y,T,A),I=Math.min(m,x,C,w),G=Math.max(g,y,T,A),H=Math.max(m,x,C,w),K=G-B,Z=H-I,Q=this.spriteBounds.setTo(B,I,K,Z),j=c?c.preFX.padding:0,_=K+j*2,tt=Z+j*2,et=Math.abs(Math.max(_,tt)),rt=this.manager.getRenderTarget(et),at=this.targetBounds.setTo(0,0,rt.width,rt.height);v(at,Math.round(Q.centerX),Math.round(Q.centerY)),this.tempSprite=c;var st=this.gl,ct=this.renderer;ct.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ct.width,ct.height),this.flipProjectionMatrix(!0),c&&(this.onDrawSprite(c,rt),c.preFX.onFX(this));var vt=this.fsTarget;return this.flush(),st.viewport(0,0,ct.width,ct.height),st.bindFramebuffer(st.FRAMEBUFFER,vt.framebuffer.webGLFramebuffer),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,vt.texture.webGLTexture,0),st.clearColor(0,0,0,0),st.clear(st.COLOR_BUFFER_BIT),this.setTexture2D(z),this.batchVert(g,m,P,M,0,N,U),this.batchVert(y,x,P,O,0,N,W),this.batchVert(T,C,R,O,0,N,Y),this.batchVert(g,m,P,M,0,N,U),this.batchVert(T,C,R,O,0,N,Y),this.batchVert(A,w,R,M,0,N,X),this.flush(),this.flipProjectionMatrix(!1),st.activeTexture(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,rt.texture.webGLTexture),st.copyTexSubImage2D(st.TEXTURE_2D,0,0,0,at.x,at.y,at.width,at.height),st.bindFramebuffer(st.FRAMEBUFFER,null),st.bindTexture(st.TEXTURE_2D,null),this.onBatch(c),this.currentShader=this.copyShader,this.onDraw(rt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(c,g,m,y,x,T,C){m===void 0&&(m=!0),y===void 0&&(y=!0),x===void 0&&(x=!1),C===void 0&&(C=this.copyShader);var A=this.gl,w=this.tempSprite;T&&(C=this.colorMatrixShader),this.currentShader=C;var P=this.setVertexBuffer(this.quadVertexBuffer);C.bind(P,!1);var M=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",M.width,M.height),w.preFX.onFXCopy(this),this.onCopySprite(c,g,w),T&&(this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,c.texture.webGLTexture),c.height>g.height)A.viewport(0,0,c.width,c.height),this.setTargetUVs(c,g);else{var R=g.height-c.height;A.viewport(0,R,c.width,c.height),this.resetUVs()}if(A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),m&&(A.clearColor(0,0,0,+!y),A.clear(A.COLOR_BUFFER_BIT)),x){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(l.ERASE)}A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),x&&this.renderer.setBlendMode(O),A.bindFramebuffer(A.FRAMEBUFFER,null)},copy:function(c,g){var m=this.gl;this.set1i("uMainSampler",0),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,c.texture.webGLTexture),m.viewport(0,0,c.width,c.height),this.setUVs(0,0,0,1,1,1,1,0),m.bindFramebuffer(m.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,g.texture.webGLTexture,0),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.quadVertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null)},blendFrames:function(c,g,m,y,x){this.manager.blendFrames(c,g,m,y,x)},blendFramesAdditive:function(c,g,m,y,x){this.manager.blendFramesAdditive(c,g,m,y,x)},drawToGame:function(c){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(c)},copyToGame:function(c){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(c)},bindAndDraw:function(c){var g=this.gl,m=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(c.texture);var y=this._tempMatrix1.loadIdentity(),x=this.targetBounds.x,T=this.targetBounds.y,C=x+c.width,A=T+c.height,w=y.getX(x,T),P=y.getX(x,A),M=y.getX(C,A),R=y.getX(C,T),O=y.getY(x,T),U=y.getY(x,A),X=y.getY(C,A),W=y.getY(C,T),Y=16777215;this.batchVert(w,O,0,0,0,0,Y),this.batchVert(P,U,0,1,0,0,Y),this.batchVert(M,X,1,1,0,0,Y),this.batchVert(w,O,0,0,0,0,Y),this.batchVert(M,X,1,1,0,0,Y),this.batchVert(R,W,1,0,0,0,Y),m.restoreFramebuffer(!1,!0),m.currentFramebuffer||g.viewport(0,0,m.width,m.height),m.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(c){this.drawToGame(c)},setUVs:function(c,g,m,y,x,T,C,A){var w=this.quadVertexViewF32;w[2]=c,w[3]=g,w[9]=m,w[10]=y,w[16]=x,w[17]=T,w[23]=c,w[24]=g,w[30]=x,w[31]=T,w[37]=C,w[38]=A},setTargetUVs:function(c,g){var m=g.height/c.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=f},81041:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(57516),r=new l({Extends:a,initialize:function(e){e.topology=5,e.batchSize=v(e,"batchSize",256),a.call(this,e)}});p.exports=r},12385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(29100),s=new l({Extends:a,initialize:function(i){i.fragShader=v(i,"fragShader",r),i.vertShader=v(i,"vertShader",n),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var o=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",o.width,o.height)}});p.exports=s},7589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35407),v=t(10312),a=t(83419),r=t(89422),n=t(96293),e=t(36682),s=t(95540),o=t(48247),i=t(49627),h=t(29100),u=new a({Extends:h,initialize:function(f){f.renderTarget=s(f,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),f.vertShader=s(f,"vertShader",i),f.shaders=s(f,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:o},{name:"ColorMatrix",fragShader:n}]),f.attributes=s(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],f.batchSize=1,h.call(this,f),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var d=this.shaders,f=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=f[0],this.fullFrame2=f[1],this.halfFrame1=f[2],this.halfFrame2=f[3]},copyFrame:function(d,f,c,g,m){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0);var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,d.texture.webGLTexture),f?(y.viewport(0,0,f.width,f.height),y.bindFramebuffer(y.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f.texture.webGLTexture,0)):y.viewport(0,0,d.width,d.height),g&&(m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blitFrame:function(d,f,c,g,m,y,x){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0),y===void 0&&(y=!1),x===void 0&&(x=!1);var T=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),d.height>f.height)T.viewport(0,0,d.width,d.height),this.setTargetUVs(d,f);else{var C=f.height-d.height;T.viewport(0,C,d.width,d.height)}if(T.bindFramebuffer(T.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,f.texture.webGLTexture,0),g&&(m?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),y){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}x&&this.flipY(),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),y&&this.renderer.setBlendMode(A),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,f,c,g,m,y,x,T){x===void 0&&(x=!0),T===void 0&&(T=!0);var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,d.texture.webGLTexture,0),x&&(T?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,f.texture.webGLTexture),C.copyTexSubImage2D(C.TEXTURE_2D,0,0,0,c,g,m,y),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},copyToGame:function(d){var f=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,d.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6)},drawFrame:function(d,f,c,g){c===void 0&&(c=!0),g===void 0&&(g=this.colorMatrix);var m=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,d.texture.webGLTexture),f?(m.viewport(0,0,f.width,f.height),m.bindFramebuffer(m.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,f.texture.webGLTexture,0)):m.viewport(0,0,d.width,d.height),c?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blendFrames:function(d,f,c,g,m,y){g===void 0&&(g=1),m===void 0&&(m=!0),y===void 0&&(y=this.linearShader);var x=this.gl;this.setShader(y),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,d.texture.webGLTexture),x.activeTexture(x.TEXTURE1),x.bindTexture(x.TEXTURE_2D,f.texture.webGLTexture),c?(x.bindFramebuffer(x.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,c.texture.webGLTexture,0),x.viewport(0,0,c.width,c.height)):x.viewport(0,0,d.width,d.height),m?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFramesAdditive:function(d,f,c,g,m){this.blendFrames(d,f,c,g,m,this.addShader)},clearFrame:function(d,f){f===void 0&&(f=!0);var c=this.gl;c.viewport(0,0,d.width,d.height),c.bindFramebuffer(c.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),f?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,g.webGLFramebuffer)},setUVs:function(d,f,c,g,m,y,x,T){var C=this.vertexViewF32;C[2]=d,C[3]=f,C[6]=c,C[7]=g,C[10]=m,C[11]=y,C[14]=d,C[15]=f,C[18]=m,C[19]=y,C[22]=x,C[23]=T},setTargetUVs:function(d,f){var c=f.height/d.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=u},36060:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=S},84817:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},36712:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},40285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},65918:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},92852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},56072:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},57566:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},77085:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(99155),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});p.exports=r},67329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(24400),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1,o=this.fullFrame2;this.copyFrame(n,o);for(var i=2/n.width*e.offsetX,h=2/n.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(n,s),this.set2f("offset",0,h),this.copySprite(s,n);this.blendFrames(o,n,s,e.strength),this.copyToGame(s)}});p.exports=r},8861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(41514),a=t(51078),r=t(94328),n=t(84057),e=new l({Extends:n,initialize:function(o){n.call(this,{game:o,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var o=this.getController(),i=this.gl,h=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[o.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",o.strength),this.set3fv("color",o.glcolor);for(var d=0;d<o.steps;d++)this.set2f("offset",o.x,0),this.copySprite(s,h),this.set2f("offset",0,o.y),this.copySprite(h,s);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});p.exports=e},51051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(90610),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},89428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(91899),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},88904:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(84057),a=new l({Extends:v,initialize:function(n){v.call(this,{game:n})},onDraw:function(r){var n=this.fullFrame1;this.controller?this.manager.drawFrame(r,n,!0,this.controller):this.drawFrame(r,n),this.copyToGame(n)}});p.exports=a},63563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(47838),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,s),this.copyToGame(s)}});p.exports=r},94045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=t(98656),r=t(84057),n=t(70554),e=new l({Extends:r,initialize:function(o,i){var h=v(i,"quality",.1),u=v(i,"distance",10);r.call(this,{game:o,fragShader:n.setGlowQuality(a,o,h,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,o,i,h){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,o),this.set1f("innerStrength",s.innerStrength,o),this.set4fv("glowColor",s.glcolor,o),this.setBoolean("knockout",s.knockout,o),i&&h&&this.set2f("resolution",i,h,o)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=e},74088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(70463),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});p.exports=r},99636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50831),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.amount=1},onPreRender:function(n,e,s,o){n=this.getController(n),this.set1f("amount",n.amount,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},34700:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(92595),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var s=n.samples;this.set1i("samples",s,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/s,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});p.exports=r},91157:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(72464),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,s,o){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),s&&o&&this.set2f("resolution",s,o,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});p.exports=r},27797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(39249),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});p.exports=r},67603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(2878),a=t(84057),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var s=n.progress,o=n.wipeWidth,i=n.direction,h=n.axis;this.set4f("config",s,o,i,h,e),this.setBoolean("reveal",n.reveal,e)}});p.exports=r},58918:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};p.exports=l},96615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36060),v=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=v(!1,a,l),p.exports=a},35407:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(p,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e){this.webGLAttribLocation=-1,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});p.exports=v},26128:(p,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e,s){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=n,this.bufferType=e,this.bufferUsage=s,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var r=this.bufferType,n=a.createBuffer();this.webGLBuffer=n,a.bindBuffer(r,this.webGLBuffer),a.bufferData(r,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(r,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});p.exports=v},84387:(p,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new l({initialize:function(n,e,s,o,i){this.webGLFramebuffer=null,this.gl=n,this.width=e,this.height=s,this.renderTexture=o,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var n=this.renderTexture,e=0,s=r.createFramebuffer();if(this.webGLFramebuffer=s,r.bindFramebuffer(r.FRAMEBUFFER,s),n.isRenderTexture=!0,n.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n.webGLTexture,0),e=r.checkFramebufferStatus(r.FRAMEBUFFER),e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[e]||e));if(this.addDepthStencilBuffer){var o=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,o),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var n=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(n));var e=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&r.deleteRenderbuffer(e),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});p.exports=a},1482:(p,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e){this.webGLProgram=null,this.gl=r,this.vertexSource=n,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=a.createProgram(),n=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(n,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(n),a.compileShader(e);var s=`Shader failed:
`;if(!a.getShaderParameter(n,a.COMPILE_STATUS))throw new Error("Vertex "+s+a.getShaderInfoLog(n));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+s+a.getShaderInfoLog(e));if(a.attachShader(r,n),a.attachShader(r,e),a.linkProgram(r),!a.getProgramParameter(r,a.LINK_STATUS))throw new Error("Link "+s+a.getProgramInfoLog(r));a.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});p.exports=v},82751:(p,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50030),a=new l({initialize:function(n,e,s,o,i,h,u,d,f,c,g,m,y){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=n,this.mipLevel=e,this.minFilter=s,this.magFilter=o,this.wrapT=i,this.wrapS=h,this.format=u,this.pixels=d,this.width=f,this.height=c,this.pma=g??!0,this.forceSize=!!m,this.flipY=!!y,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var n=r.createTexture();n.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=n,this._processTexture()}},update:function(r,n,e,s,o,i,h,u,d){if(!(n===0||e===0)){this.pixels=r,this.width=n,this.height=e,this.flipY=s,this.wrapS=o,this.wrapT=i,this.minFilter=h,this.magFilter=u,this.format=d;var f=this.gl;f.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var n=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,s=this.mipLevel,o=this.width,i=this.height,h=this.format,u=!1;if(e==null)r.texImage2D(r.TEXTURE_2D,s,h,o,i,0,h,r.UNSIGNED_BYTE,null),u=v(o,i);else if(e.compressed){o=e.width,i=e.height,u=e.generateMipmap;for(var d=0;d<e.mipmaps.length;d++)r.compressedTexImage2D(r.TEXTURE_2D,d,e.internalFormat,e.mipmaps[d].width,e.mipmaps[d].height,0,e.mipmaps[d].data)}else e instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,s,h,o,i,0,h,r.UNSIGNED_BYTE,e),u=v(o,i)):(this.forceSize||(o=e.width,i=e.height),r.texImage2D(r.TEXTURE_2D,s,h,h,r.UNSIGNED_BYTE,e),u=v(o,i));u&&r.generateMipmap(r.TEXTURE_2D),n?r.bindTexture(r.TEXTURE_2D,n):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});p.exports=a},57183:(p,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e){this.webGLUniformLocation=null,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});p.exports=v},9503:(p,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};p.exports=l},76531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13560),v=t(83419),a=t(50792),r=t(97480),n=t(8443),e=t(57811),s=t(74403),o=t(45818),i=t(29747),h=t(87841),u=t(86555),d=t(56583),f=t(26099),c=t(38058),g=new v({Extends:a,initialize:function(y){a.call(this),this.game=y,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new f(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var m=this.game;this.canvas=m.canvas,this.fullscreen=m.device.fullscreen;var y=this.scaleMode;y!==l.SCALE_MODE.RESIZE&&y!==l.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(y),y===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),m.events.on(n.PRE_STEP,this.step,this),m.events.once(n.READY,this.refresh,this),m.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(m){this.getParent(m),this.getParentBounds();var y=m.width,x=m.height,T=m.scaleMode,C=m.zoom,A=m.autoRound;if(typeof y=="string")if(y.substr(-1)!=="%")y=parseInt(y,10);else{var w=this.parentSize.width;w===0&&(w=window.innerWidth);var P=parseInt(y,10)/100;y=Math.floor(w*P)}if(typeof x=="string")if(x.substr(-1)!=="%")x=parseInt(x,10);else{var M=this.parentSize.height;M===0&&(M=window.innerHeight);var R=parseInt(x,10)/100;x=Math.floor(M*R)}this.scaleMode=T,this.autoRound=A,this.autoCenter=m.autoCenter,this.resizeInterval=m.resizeInterval,A&&(y=Math.floor(y),x=Math.floor(x)),this.gameSize.setSize(y,x),C===l.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,x),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),m.minWidth>0&&this.displaySize.setMin(m.minWidth*C,m.minHeight*C),m.maxWidth>0&&this.displaySize.setMax(m.maxWidth*C,m.maxHeight*C),this.displaySize.setSize(y,x),(m.snapWidth>0||m.snapHeight>0)&&this.displaySize.setSnap(m.snapWidth,m.snapHeight),this.orientation=o(y,x)},getParent:function(m){var y=m.parent;if(y!==null){if(this.parent=s(y),this.parentIsWindow=this.parent===document.body,m.expandParent&&m.scaleMode!==l.SCALE_MODE.NONE){var x=this.parent.getBoundingClientRect();(this.parentIsWindow||x.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",x=this.parent.getBoundingClientRect(),!this.parentIsWindow&&x.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}m.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(m.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var m=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=e(!0));var x=y.width,T=y.height;if(m.width!==x||m.height!==T)return m.setSize(x,T),!0;if(this.canvas){var C=this.canvasBounds,A=this.canvas.getBoundingClientRect();if(A.x!==C.x||A.y!==C.y)return!0}return!1},lockOrientation:function(m){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,m):!1},setParentSize:function(m,y){return this.parentSize.setSize(m,y),this.refresh()},setGameSize:function(m,y){var x=this.autoRound;x&&(m=Math.floor(m),y=Math.floor(y));var T=this.width,C=this.height;return this.gameSize.resize(m,y),this.baseSize.resize(m,y),x&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(m/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,C)},resize:function(m,y){var x=this.zoom,T=this.autoRound;T&&(m=Math.floor(m),y=Math.floor(y));var C=this.width,A=this.height;this.gameSize.resize(m,y),this.baseSize.resize(m,y),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(m*x,y*x),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var w=this.canvas.style,P=m*x,M=y*x;return T&&(P=Math.floor(P),M=Math.floor(M)),(P!==m||M!==y)&&(w.width=P+"px",w.height=M+"px"),this.refresh(C,A)},setZoom:function(m){return this.zoom=m,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(m,y){return m===void 0&&(m=0),y===void 0&&(y=m),this.displaySize.setSnap(m,y),this.refresh()},refresh:function(m,y){m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var x=this.game.domContainer;if(x){this.baseSize.setCSS(x);var T=this.canvas.style,C=x.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=T.marginLeft,C.marginTop=T.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,m,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var m=o(this.width,this.height);m!==this.orientation&&(this.orientation=m,this.emit(r.ORIENTATION_CHANGE,m))}},updateScale:function(){var m=this.canvas.style,y=this.gameSize.width,x=this.gameSize.height,T,C,A=this.zoom,w=this.autoRound;if(this.scaleMode===l.SCALE_MODE.NONE)this.displaySize.setSize(y*A,x*A),T=this.displaySize.width,C=this.displaySize.height,w&&(T=Math.floor(T),C=Math.floor(C)),this._resetZoom&&(m.width=T+"px",m.height=C+"px",this._resetZoom=!1);else if(this.scaleMode===l.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),T=this.displaySize.width,C=this.displaySize.height,w&&(T=Math.floor(T),C=Math.floor(C)),this.canvas.width=T,this.canvas.height=C;else if(this.scaleMode===l.SCALE_MODE.EXPAND){var P=this.game.config.width,M=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,C=this.displaySize.height,w&&(T=Math.floor(T),C=Math.floor(C)),m.width=T+"px",m.height=C+"px";var R=this.parentSize.width/P,O=this.parentSize.height/M;R<O&&R!==0?this.baseSize.setSize(P,this.parentSize.height/R):O!==0&&this.baseSize.setSize(this.displaySize.width/O,M),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),T=this.baseSize.width,C=this.baseSize.height,w&&(T=Math.floor(T),C=Math.floor(C)),this.canvas.width=T,this.canvas.height=C}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,C=this.displaySize.height,w&&(T=Math.floor(T),C=Math.floor(C)),m.width=T+"px",m.height=C+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var m=d(this.parentSize.width,this.gameSize.width,0,!0),y=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(m,y),1)},updateCenter:function(){var m=this.autoCenter;if(m!==l.CENTER.NO_CENTER){var y=this.canvas,x=y.style,T=y.getBoundingClientRect(),C=T.width,A=T.height,w=Math.floor((this.parentSize.width-C)/2),P=Math.floor((this.parentSize.height-A)/2);m===l.CENTER.CENTER_HORIZONTALLY?P=0:m===l.CENTER.CENTER_VERTICALLY&&(w=0),x.marginLeft=w+"px",x.marginTop=P+"px"}},updateBounds:function(){var m=this.canvasBounds,y=this.canvas.getBoundingClientRect();m.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),m.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),m.width=y.width,m.height=y.height},transformX:function(m){return(m-this.canvasBounds.left)*this.displayScale.x},transformY:function(m){return(m-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(m){m===void 0&&(m={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var x=this.getFullscreenTarget();y.keyboard?x[y.request](Element.ALLOW_KEYBOARD_INPUT):x[y.request](m)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(m){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,m)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var m=document.createElement("div");m.style.margin="0",m.style.padding="0",m.style.width="100%",m.style.height="100%",this.fullscreenTarget=m,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var m=this.fullscreenTarget;if(m&&m.parentNode){var y=m.parentNode;y.insertBefore(this.canvas,m),y.removeChild(m)}}},stopFullscreen:function(){var m=this.fullscreen;if(!m.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;m.active&&document[m.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(m){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(m)},startListeners:function(){var m=this,y=this.domlisteners;if(y.orientationChange=function(){m.updateBounds(),m._checkOrientation=!0,m.dirty=!0,m.refresh()},y.windowResize=function(){m.updateBounds(),m.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",y.orientationChange,!1):window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(T){return m.onFullScreenChange(T)},y.fullScreenError=function(T){return m.onFullScreenError(T)};var x=["webkit","moz",""];x.forEach(function(T){document.addEventListener(T+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(m,y){m instanceof c||(y=m,m=void 0),y===void 0&&(y=new h);var x=this.baseSize,T=this.parentSize,C=this.canvasBounds,A=this.displayScale,w=C.x>=0?0:-(C.x*A.x),P=C.y>=0?0:-(C.y*A.y),M;T.width>=C.width?M=x.width:M=x.width-(C.width-T.width)*A.x;var R;return T.height>=C.height?R=x.height:R=x.height-(C.height-T.height)*A.y,y.setTo(w,P,M,R),m&&(y.width/=m.zoomX,y.height/=m.zoomY,y.centerX=m.centerX+m.scrollX,y.centerY=m.centerY+m.scrollY),y},step:function(m,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var m=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",m.orientationChange,!1):window.removeEventListener("orientationchange",m.orientationChange,!1),window.removeEventListener("resize",m.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(x){document.removeEventListener(x+"fullscreenchange",m.fullScreenChange,!1),document.removeEventListener(x+"fullscreenerror",m.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",m.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=g},64743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};p.exports=l},56139:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},2336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},47412:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},51452:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},20666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},47945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},97480:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=l(!1,a,v.CENTER),a=l(!1,a,v.ORIENTATION),a=l(!1,a,v.SCALE_MODE),a=l(!1,a,v.ZOOM),p.exports=a},27397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=t(35355),a=function(r){var n=r.game.config.defaultPhysicsSystem,e=l(r.settings,"physics",!1);if(!(!n&&!e)){var s=[];if(n&&s.push(v(n+"Physics")),e)for(var o in e)o=v(o.concat("Physics")),s.indexOf(o)===-1&&s.push(o);return s}};p.exports=a},52106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a){var r=a.plugins.getDefaultScenePlugins(),n=l(a.settings,"plugins",!1);return Array.isArray(n)?n:r||[]};p.exports=v},87033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=S},97482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(2368),a=new l({initialize:function(n){this.sys=new v(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=a},60903:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89993),a=t(44594),r=t(8443),n=t(35154),e=t(54899),s=t(29747),o=t(97482),i=t(2368),h=new l({initialize:function(d,f){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)this._pending.push({key:"default",scene:f[c],autoStart:c===0,data:{}})}d.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new o),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var u,d,f,c;for(u=0;u<this._pending.length;u++){d=this._pending[u],f=d.key,c=d.scene;var g;c instanceof o?g=this.createSceneFromInstance(f,c):typeof c=="object"?g=this.createSceneFromObject(f,c):typeof c=="function"&&(g=this.createSceneFromFunction(f,c)),f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),this._data[f]&&(g.sys.settings.data=this._data[f].data,this._data[f].autoStart&&(d.autoStart=!0)),(d.autoStart||g.sys.settings.active)&&this._start.push(f)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)d=this._start[u],this.start(d);this._start.length=0}},processQueue:function(){var u=this._pending.length,d=this._queue.length;if(!(u===0&&d===0)){var f,c;if(u){for(f=0;f<u;f++)c=this._pending[f],this.add(c.key,c.scene,c.autoStart,c.data);for(f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0,this._pending.length=0}for(f=0;f<this._queue.length;f++)c=this._queue[f],this[c.op](c.keyA,c.keyB,c.data);this._queue.length=0}},add:function(u,d,f,c){if(f===void 0&&(f=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:d,autoStart:f,data:c}),this.isBooted||(this._data[u]={data:c}),null;u=this.getKey(u,d);var g;return d instanceof o?g=this.createSceneFromInstance(u,d):typeof d=="object"?(d.key=u,g=this.createSceneFromObject(u,d)):typeof d=="function"&&(g=this.createSceneFromFunction(u,d)),g.sys.settings.data=c,u=g.sys.settings.key,this.keys[u]=g,this.scenes.push(g),(f||g.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),g},remove:function(u){if(this.isProcessing)return this.queueOp("remove",u);var d=this.getScene(u);if(!d||d.sys.isTransitioning())return this;var f=this.scenes.indexOf(d),c=d.sys.settings.key;return f>-1&&(delete this.keys[c],this.scenes.splice(f,1),this._start.indexOf(c)>-1&&(f=this._start.indexOf(c),this._start.splice(f,1)),d.sys.destroy()),this},bootScene:function(u){var d=u.sys,f=d.settings;d.sceneUpdate=s,u.init&&(u.init.call(u,f.data),f.status=v.INIT,f.isTransition&&d.events.emit(a.TRANSITION_INIT,f.transitionFrom,f.transitionDuration));var c;d.load&&(c=d.load,c.reset()),c&&u.preload?(u.preload.call(u),f.status=v.LOADING,c.once(e.COMPLETE,this.loadComplete,this),c.start()):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,d){this.processQueue(),this.isProcessing=!0;for(var f=this.scenes.length-1;f>=0;f--){var c=this.scenes[f].sys;c.settings.status>v.START&&c.settings.status<=v.RUNNING&&c.step(u,d),c.scenePlugin&&c.scenePlugin._target&&c.scenePlugin.step(u,d)}},render:function(u){for(var d=0;d<this.scenes.length;d++){var f=this.scenes[d].sys;f.settings.visible&&f.settings.status>=v.LOADING&&f.settings.status<v.SLEEPING&&f.render(u)}this.isProcessing=!1},create:function(u){var d=u.sys,f=d.settings;u.create&&(f.status=v.CREATING,u.create.call(u,f.data),f.status===v.DESTROYED)||(f.isTransition&&d.events.emit(a.TRANSITION_START,f.transitionFrom,f.transitionDuration),u.update&&(d.sceneUpdate=u.update),f.status=v.RUNNING,d.events.emit(a.CREATE,u))},createSceneFromFunction:function(u,d){var f=new d;if(f instanceof o){var c=f.sys.settings.key;if(c!==""&&(u=c),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return this.createSceneFromInstance(u,f)}else return f.sys=new i(f),f.sys.settings.key=u,f.sys.init(this.game),f},createSceneFromInstance:function(u,d){var f=d.sys.settings.key;return f===""&&(d.sys.settings.key=u),d.sys.init(this.game),d},createSceneFromObject:function(u,d){var f=new o(d),c=f.sys.settings.key;c!==""?u=c:f.sys.settings.key=u,f.sys.init(this.game);for(var g=["init","preload","create","update","render"],m=0;m<g.length;m++){var y=n(d,g[m],null);y&&(f[g[m]]=y)}if(d.hasOwnProperty("extend")){for(var x in d.extend)if(d.extend.hasOwnProperty(x)){var T=d.extend[x];x==="data"&&f.hasOwnProperty("data")&&typeof T=="object"?f.data.merge(T):x!=="sys"&&(f[x]=T)}}return f},getKey:function(u,d){if(u||(u="default"),typeof d=="function")return u;if(d instanceof o?u=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(u=d.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return u},getScenes:function(u,d){u===void 0&&(u=!0),d===void 0&&(d=!1);for(var f=[],c=this.scenes,g=0;g<c.length;g++){var m=c[g];m&&(!u||u&&m.sys.isActive())&&f.push(m)}return d?f.reverse():f},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var d=0;d<this.scenes.length;d++)if(u===this.scenes[d])return u;return null},isActive:function(u){var d=this.getScene(u);return d?d.sys.isActive():null},isPaused:function(u){var d=this.getScene(u);return d?d.sys.isPaused():null},isVisible:function(u){var d=this.getScene(u);return d?d.sys.isVisible():null},isSleeping:function(u){var d=this.getScene(u);return d?d.sys.isSleeping():null},pause:function(u,d){var f=this.getScene(u);return f&&f.sys.pause(d),this},resume:function(u,d){var f=this.getScene(u);return f&&f.sys.resume(d),this},sleep:function(u,d){var f=this.getScene(u);return f&&!f.sys.isTransitioning()&&f.sys.sleep(d),this},wake:function(u,d){var f=this.getScene(u);return f&&f.sys.wake(d),this},run:function(u,d){var f=this.getScene(u);if(!f){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===u){this.queueOp("start",u,d);break}return this}f.sys.isSleeping()?f.sys.wake(d):f.sys.isPaused()?f.sys.resume(d):this.start(u,d)},start:function(u,d){if(!this.isBooted)return this._data[u]={autoStart:!0,data:d},this;var f=this.getScene(u);if(!f)return console.warn("Scene key not found: "+u),this;var c=f.sys,g=c.settings.status;if(g>=v.START&&g<=v.CREATING)return this;if(g>=v.RUNNING&&g<=v.SLEEPING)c.shutdown(),c.sceneUpdate=s,c.start(d);else{c.sceneUpdate=s,c.start(d);var m;if(c.load&&(m=c.load),m&&c.settings.hasOwnProperty("pack")&&(m.reset(),m.addPack({payload:c.settings.pack})))return c.settings.status=v.LOADING,m.once(e.COMPLETE,this.payloadComplete,this),m.start(),this}return this.bootScene(f),this},stop:function(u,d){var f=this.getScene(u);if(f&&!f.sys.isTransitioning()&&f.sys.settings.status!==v.SHUTDOWN){var c=f.sys.load;c&&(c.off(e.COMPLETE,this.loadComplete,this),c.off(e.COMPLETE,this.payloadComplete,this)),f.sys.shutdown(d)}return this},switch:function(u,d,f){var c=this.getScene(u),g=this.getScene(d);return c&&g&&c!==g&&(this.sleep(u),this.isSleeping(d)?this.wake(d,f):this.start(d,f)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var d=this.getScene(u);return this.scenes.indexOf(d)},bringToTop:function(u){if(this.isProcessing)return this.queueOp("bringToTop",u);var d=this.getIndex(u),f=this.scenes;if(d!==-1&&d<f.length){var c=this.getScene(u);f.splice(d,1),f.push(c)}return this},sendToBack:function(u){if(this.isProcessing)return this.queueOp("sendToBack",u);var d=this.getIndex(u);if(d!==-1&&d>0){var f=this.getScene(u);this.scenes.splice(d,1),this.scenes.unshift(f)}return this},moveDown:function(u){if(this.isProcessing)return this.queueOp("moveDown",u);var d=this.getIndex(u);if(d>0){var f=d-1,c=this.getScene(u),g=this.getAt(f);this.scenes[d]=g,this.scenes[f]=c}return this},moveUp:function(u){if(this.isProcessing)return this.queueOp("moveUp",u);var d=this.getIndex(u);if(d<this.scenes.length-1){var f=d+1,c=this.getScene(u),g=this.getAt(f);this.scenes[d]=g,this.scenes[f]=c}return this},moveAbove:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",u,d);var f=this.getIndex(u),c=this.getIndex(d);if(f!==-1&&c!==-1&&c<f){var g=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(f+(c>f),0,g)}return this},moveBelow:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",u,d);var f=this.getIndex(u),c=this.getIndex(d);if(f!==-1&&c!==-1&&c>f){var g=this.getAt(c);this.scenes.splice(c,1),f===0?this.scenes.unshift(g):this.scenes.splice(f-(c<f),0,g)}return this},queueOp:function(u,d,f,c){return this._queue.push({op:u,keyA:d,keyB:f,data:c}),this},swapPosition:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",u,d);var f=this.getIndex(u),c=this.getIndex(d);if(f!==c&&f!==-1&&c!==-1){var g=this.getAt(f);this.scenes[f]=this.scenes[c],this.scenes[c]=g}return this},dump:function(){for(var u=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys,g=c.settings.visible&&(c.settings.status===v.RUNNING||c.settings.status===v.PAUSED)?"[*] ":"[-] ";g+=c.settings.key+" ("+d[c.settings.status]+")",u.push(g)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=h},52209:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(44594),r=t(95540),n=t(37277),e=new v({initialize:function(o){this.scene=o,this.systems=o.sys,this.settings=o.sys.settings,this.key=o.sys.settings.key,this.manager=o.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,o),this},restart:function(s){var o=this.key;return this.manager.queueOp("stop",o),this.manager.queueOp("start",o,s),this},transition:function(s){s===void 0&&(s={});var o=r(s,"target",!1),i=this.manager.getScene(o);if(!o||!this.checkValidTransition(i))return!1;var h=r(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=h,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var u=r(s,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var d=r(s,"allowInput",!1);this.settings.transitionAllowInput=d;var f=i.sys.settings;f.isTransition=!0,f.transitionFrom=this.scene,f.transitionDuration=h,f.transitionAllowInput=d,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,o):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,o),i.sys.isSleeping()?i.sys.wake(r(s,"data")):this.manager.start(o,r(s,"data"));var c=r(s,"onStart",null),g=r(s,"onStartScope",this.scene);return c&&c.call(g,this.scene,i,h),this.systems.events.emit(a.TRANSITION_OUT,i,h),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,o){this._elapsed+=o,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,o=this._target.sys.settings;s.events.emit(a.TRANSITION_COMPLETE,this.scene),o.isTransition=!1,o.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,o,i,h){return this.manager.add(s,o,i,h)},launch:function(s,o){return s&&s!==this.key&&this.manager.queueOp("start",s,o),this},run:function(s,o){return s&&s!==this.key&&this.manager.queueOp("run",s,o),this},pause:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,o),this},resume:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,o),this},sleep:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,o),this},wake:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,o),this},switch:function(s,o){return s!==this.key&&this.manager.queueOp("switch",this.key,s,o),this},stop:function(s,o){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,o),this},setActive:function(s,o,i){o===void 0&&(o=this.key);var h=this.manager.getScene(o);return h&&h.sys.setActive(s,i),this},setVisible:function(s,o){o===void 0&&(o=this.key);var i=this.manager.getScene(o);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.swapPosition(s,o),this},moveAbove:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveAbove(s,o),this},moveBelow:function(s,o){return o===void 0&&(o=this.key),s!==o&&this.manager.moveBelow(s,o),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var o=this.manager.getScene(s);if(o)return o.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(a.SHUTDOWN,this.shutdown,this),s.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),p.exports=e},55681:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89993),v=t(35154),a=t(46975),r=t(87033),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:l.PENDING,key:v(e,"key",""),active:v(e,"active",!1),visible:v(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(e,"pack",!1),cameras:v(e,"cameras",null),map:v(e,"map",a(r,v(e,"mapAdd",{}))),physics:v(e,"physics",{}),loader:v(e,"loader",{}),plugins:v(e,"plugins",!1),input:v(e,"input",{})}}};p.exports=n},2368:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(89993),a=t(42363),r=t(44594),n=t(27397),e=t(52106),s=t(29747),o=t(55681),i=new l({initialize:function(u,d){this.scene=u,this.game,this.renderer,this.config=d,this.settings=o.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(h){this.settings.status=v.INIT,this.sceneUpdate=s,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var u=h.plugins;this.plugins=u,u.addToScene(this,a.Global,[a.CoreScene,e(this),n(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(h,u){var d=this.events;d.emit(r.PRE_UPDATE,h,u),d.emit(r.UPDATE,h,u),this.sceneUpdate.call(this.scene,h,u),d.emit(r.POST_UPDATE,h,u)},render:function(h){var u=this.displayList;u.depthSort(),this.events.emit(r.PRE_RENDER,h),this.cameras.render(h,u),this.events.emit(r.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var u=this.settings,d=this.getStatus();return d!==v.CREATING&&d!==v.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=v.PAUSED,u.active=!1,this.events.emit(r.PAUSE,this,h)),this},resume:function(h){var u=this.events,d=this.settings;return this.settings.active||(d.status=v.RUNNING,d.active=!0,u.emit(r.RESUME,this,h)),this},sleep:function(h){var u=this.settings,d=this.getStatus();return d!==v.CREATING&&d!==v.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=v.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(r.SLEEP,this,h)),this},wake:function(h){var u=this.events,d=this.settings;return d.status=v.RUNNING,d.active=!0,d.visible=!0,u.emit(r.WAKE,this,h),d.isTransition&&u.emit(r.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>v.PENDING&&h<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,u){return h?this.resume(u):this.pause(u)},start:function(h){var u=this.events,d=this.settings;h&&(d.data=h),d.status=v.START,d.active=!0,d.visible=!0,u.emit(r.START,this),u.emit(r.READY,this,h)},shutdown:function(h){var u=this.events,d=this.settings;u.off(r.TRANSITION_INIT),u.off(r.TRANSITION_START),u.off(r.TRANSITION_COMPLETE),u.off(r.TRANSITION_OUT),d.status=v.SHUTDOWN,d.active=!1,d.visible=!1,u.emit(r.SHUTDOWN,this,h)},destroy:function(){var h=this.events,u=this.settings;u.status=v.DESTROYED,u.active=!1,u.visible=!1,h.emit(r.DESTROY,this),h.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],f=0;f<d.length;f++)this[d[f]]=null}});p.exports=i},89993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=S},69830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},7919:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},46763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},11763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},71555:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},36735:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},3809:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},90716:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},58262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},91633:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},10319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},87132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},81961:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},90194:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},6265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},33178:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},43063:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},11259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},61611:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},45209:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},22966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},21747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},44594:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89993),v=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=v(!1,a,l),p.exports=a},30341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(14463),r=t(79291),n=t(29747),e=new l({Extends:v,initialize:function(o,i,h){v.call(this),this.manager=o,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var o=this.markers[s];return o?(this.markers[s]=null,o):null},play:function(s,o){if(s===void 0&&(s=""),typeof s=="object"&&(o=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,o),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,o=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,o);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},85034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(41786),a=t(50792),r=t(14463),n=t(8443),e=t(46710),s=t(58731),o=t(29747),i=t(26099),h=new l({Extends:a,initialize:function(d){a.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i;var f=d.events;f.on(n.BLUR,this.onGameBlur,this),f.on(n.FOCUS,this.onGameFocus,this),f.on(n.PRE_STEP,this.update,this),f.once(n.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(u,d){d===void 0&&(d={});var f=this.add(u,d);f.spritemap=this.jsonCache.get(u).spritemap;for(var c in f.spritemap)if(f.spritemap.hasOwnProperty(c)){var g=v(d),m=f.spritemap[c];g.loop=m.hasOwnProperty("loop")?m.loop:!1,f.addMarker({name:c,start:m.start,duration:m.end-m.start,config:g})}return f},get:function(u){return s(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,d){var f=this.add(u);return f.once(r.COMPLETE,f.destroy,f),d?d.name?(f.addMarker(d),f.play(d.name)):f.play(d):f.play()},playAudioSprite:function(u,d,f){var c=this.addAudioSprite(u);return c.once(r.COMPLETE,c.destroy,c),c.play(d,f)},remove:function(u){var d=this.sounds.indexOf(u);return d!==-1?(u.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var d=0,f=this.sounds.length-1;f>=0;f--){var c=this.sounds[f];c.key===u&&(c.destroy(),this.sounds.splice(f,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:o,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(u){var d=0;return this.getAll(u).forEach(function(f){f.stop()&&d++}),d},isPlaying:function(u){var d=this.sounds,f=d.length-1,c;if(u===void 0){for(;f>=0;f--)if(c=this.sounds[f],c.isPlaying)return!0}else for(;f>=0;f--)if(c=this.sounds[f],c.key===u&&c.isPlaying)return!0;return!1},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var f=this.sounds.length-1;f>=0;f--)this.sounds[f].pendingRemove&&this.sounds.splice(f,1);this.sounds.forEach(function(c){c.update(u,d)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,d){var f=this;this.sounds.forEach(function(c,g){c&&!c.pendingRemove&&u.call(d||f,c,g,f.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,u)}}});p.exports=h},14747:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33684),v=t(25960),a=t(57490),r={create:function(n){var e=n.config.audio,s=n.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new v(n):s.webAudio&&!e.disableWebAudio?new a(n):new l(n)}};p.exports=r},19723:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},98882:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},57506:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},73146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},11305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},40577:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},30333:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},20394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},21802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},1299:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},99190:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},97125:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},89259:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},79986:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},17586:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},19618:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},42306:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},10387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},48959:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},9960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},19180:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},98328:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},50401:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},52498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},14463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),v=t(83419),a=t(14463),r=t(45319),n=new v({Extends:l,initialize:function(s,o,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(o),!this.tags)throw new Error('No cached audio asset with key "'+o);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,s,o,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!l.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,o=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=o,this.audio.currentTime=o,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var o=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&o.push(h)},this),o.sort(function(h,u){return h.loop===u.loop?u.seek/u.duration-h.seek/h.duration:h.loop?1:-1});var i=o[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,o=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=o-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-o),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=o){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},33684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85034),v=t(83419),a=t(14463),r=t(64895),n=new v({Extends:l,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,s)},add:function(e,s){var o=new r(this,e,s);return this.sounds.push(o),o},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,u){for(var d=0;d<u.length;d++)if(u[d].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,o=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",i);var h=[];if(e.game.cache.audio.entries.each(function(d,f){for(var c=0;c<f.length;c++){var g=f[c];g.dataset.locked==="true"&&h.push(g)}return!0}),h.length!==0){var u=h[h.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,h.forEach(function(d){d.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(d){d.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,o){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:o}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});p.exports=n},23717:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),v=t(83419),a=t(50792),r=t(79291),n=t(29747),e=function(){return!1},s=function(){return null},o=function(){return this},i=new v({Extends:a,initialize:function(u,d,f){f===void 0&&(f={}),a.call(this),this.manager=u,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},f),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:o,setVolume:o,setRate:o,setDetune:o,setSeek:o,setLoop:o,setPan:o,applyConfig:s,resetConfig:s,update:n,calculateRate:s,destroy:function(){l.prototype.destroy.call(this)}});p.exports=i},25960:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85034),v=t(83419),a=t(50792),r=t(4603),n=t(29747),e=new v({Extends:a,initialize:function(o){a.call(this),this.game=o,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,o){var i=new r(this,s,o);return this.sounds.push(i),i},addAudioSprite:function(s,o){var i=this.add(s,o);return i.spritemap={},i},get:function(s){return l.prototype.get.call(this,s)},getAll:function(s){return l.prototype.getAll.call(this,s)},play:function(s,o){return!1},playAudioSprite:function(s,o,i){return!1},remove:function(s){return l.prototype.remove.call(this,s)},removeAll:function(){return l.prototype.removeAll.call(this)},removeByKey:function(s){return l.prototype.removeByKey.call(this,s)},stopByKey:function(s){return l.prototype.stopByKey.call(this,s)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(s,o){l.prototype.forEachActiveSound.call(this,s,o)},destroy:function(){l.prototype.destroy.call(this)}});p.exports=e},71741:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30341),v=t(83419),a=t(14463),r=t(95540),n=new v({Extends:l,initialize:function(s,o,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(o),!this.audioBuffer)throw new Error('Audio key "'+o+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,s,o,i)},play:function(e,s){return l.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return l.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,o=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=o-e,this.startTime=o,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,o),Math.max(0,i),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,o=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,o))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(o){var i=o.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=r(e,"panningModel","equalpower"),s.distanceModel=r(e,"distanceModel","inverse"),s.orientationX.value=r(e,"orientationX",0),s.orientationY.value=r(e,"orientationY",0),s.orientationZ.value=r(e,"orientationZ",-1),s.refDistance=r(e,"refDistance",1),s.maxDistance=r(e,"maxDistance",1e4),s.rolloffFactor=r(e,"rolloffFactor",1),s.coneInnerAngle=r(e,"coneInnerAngle",360),s.coneOuterAngle=r(e,"coneOuterAngle",0),s.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(s.positionX.value=r(e,"x",0),s.positionY.value=r(e,"y",0),s.positionZ.value=r(e,"z",0))}l.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),s=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){l.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var o=0;s<this.rateUpdates.length-1?o=this.rateUpdates[s+1].time:o=this.manager.context.currentTime-this.playTime,e+=(o-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var o=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+o.time+(this.duration-e)/o.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=n},57490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53134),v=t(85034),a=t(83419),r=t(14463),n=t(8443),e=t(71741),s=t(95540),o=new a({Extends:v,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",v.call(this,h),this.locked&&(h.isBooted?this.unlock():h.events.once(n.BOOT,this.unlock,this)),h.events.on(n.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var i=this.context;window.setTimeout(function(){i&&(i.suspend(),i.resume())},100)},createAudioContext:function(i){var h=i.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,h){var u=new e(this,i,h);return this.sounds.push(u),u},decodeAudio:function(i,h){var u;Array.isArray(i)?u=i:u=[{key:i,data:h}];for(var d=this.game.cache.audio,f=u.length,c=0;c<u.length;c++){var g=u[c],m=g.key,y=g.data;typeof y=="string"&&(y=l(y));var x=(function(C,A){d.add(C,A),this.emit(r.DECODED,C),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,m),T=(function(C,A){console.error("Error decoding audio: "+C+" - ",A?A.message:""),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,m);this.context.decodeAudioData(y,x,T)}},setListenerPosition:function(i,h){return i===void 0&&(i=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(i,h),this},unlock:function(){var i=this,h=document.body,u=function d(){if(i.context&&h){var f=h.removeEventListener.bind(h);i.context.resume().then(function(){f("touchstart",d),f("touchend",d),f("mousedown",d),f("mouseup",d),f("keydown",d),i.unlocked=!0},function(){f("touchstart",d),f("touchend",d),f("mousedown",d),f("mouseup",d),f("keydown",d)})}};h&&(h.addEventListener("touchstart",u,!1),h.addEventListener("touchend",u,!1),h.addEventListener("mousedown",u,!1),h.addEventListener("mouseup",u,!1),h.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,h){var u=this.context.listener;if(u&&u.positionX!==void 0){var d=s(this.listenerPosition,"x",null),f=s(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=u.positionX.value=d),f&&f!==this._spatialy&&(this._spatialy=u.positionY.value=f)}v.prototype.update.call(this,i,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}this.game.events.off(n.VISIBLE,this.onGameVisible,this),v.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});p.exports=o},73162:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37105),v=t(83419),a=t(29747),r=t(19186),n=new v({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,s){return s?l.Add(this.list,e):l.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,o){return o?l.AddAt(this.list,e,s):l.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(o,i){return o[e]-i[e]}),r(this.list,s),this):this},getByName:function(e){return l.GetFirst(this.list,"name",e)},getRandom:function(e,s){return l.GetRandom(this.list,e,s)},getFirst:function(e,s,o,i){return l.GetFirst(this.list,e,s,o,i)},getAll:function(e,s,o,i){return l.GetAll(this.list,e,s,o,i)},count:function(e,s){return l.CountAllMatching(this.list,e,s)},swap:function(e,s){l.Swap(this.list,e,s)},moveTo:function(e,s){return l.MoveTo(this.list,e,s)},moveAbove:function(e,s){return l.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return l.MoveBelow(this.list,e,s)},remove:function(e,s){return s?l.Remove(this.list,e):l.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?l.RemoveAt(this.list,e):l.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,o){return o?l.RemoveBetween(this.list,e,s):l.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return l.BringToTop(this.list,e)},sendToBack:function(e){return l.SendToBack(this.list,e)},moveUp:function(e){return l.MoveUp(this.list,e),e},moveDown:function(e){return l.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(e,s){return l.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,o,i){return l.SetAll(this.list,e,s,o,i),this},each:function(e,s){for(var o=[null],i=2;i<arguments.length;i++)o.push(arguments[i]);for(i=0;i<this.list.length;i++)o[0]=this.list[i],e.apply(s,o)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=n},90330:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var n in r)if(a(n,r[n])===!1)break;return this},contains:function(a){var r=this.entries;for(var n in r)if(r[n]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var n=this.entries,e=a.entries;for(var s in e)n.hasOwnProperty(s)&&r?n[s]=e[s]:this.set(s,e[s]);return this}});p.exports=v},25774:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(82348),r=new l({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,s=e.indexOf(n);s!==-1&&e.splice(s,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,s=n.length;s--;)e.push(n[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,s,o;for(s=0;s<n.length;s++){o=n[s];var i=e.indexOf(o);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,o))}for(n.length=0,n=this._pending,s=0;s<n.length;s++)o=n[s],(!this.checkQueue||this.checkQueue&&e.indexOf(o)===-1)&&(e.push(o),this.emit(a.PROCESS_QUEUE_ADD,o));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},59542:(p,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43886);function v(y){if(!(this instanceof v))return new v(y);this._maxEntries=Math.max(4,y||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(y){var x=this.data,T=[],C=this.toBBox;if(!c(y,x))return T;for(var A=[],w,P,M,R;x;){for(w=0,P=x.children.length;w<P;w++)M=x.children[w],R=x.leaf?C(M):M,c(y,R)&&(x.leaf?T.push(M):f(y,R)?this._all(M,T):A.push(M));x=A.pop()}return T},collides:function(y){var x=this.data,T=this.toBBox;if(!c(y,x))return!1;for(var C=[],A,w,P,M;x;){for(A=0,w=x.children.length;A<w;A++)if(P=x.children[A],M=x.leaf?T(P):P,c(y,M)){if(x.leaf||f(y,M))return!0;C.push(P)}x=C.pop()}return!1},load:function(y){if(!(y&&y.length))return this;if(y.length<this._minEntries){for(var x=0,T=y.length;x<T;x++)this.insert(y[x]);return this}var C=this._build(y.slice(),0,y.length-1,0);if(!this.data.children.length)this.data=C;else if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var A=this.data;this.data=C,C=A}this._insert(C,this.data.height-C.height-1,!0)}return this},insert:function(y){return y&&this._insert(y,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(y,x){if(!y)return this;for(var T=this.data,C=this.toBBox(y),A=[],w=[],P,M,R,O;T||A.length;){if(T||(T=A.pop(),M=A[A.length-1],P=w.pop(),O=!0),T.leaf&&(R=a(y,T.children,x),R!==-1))return T.children.splice(R,1),A.push(T),this._condense(A),this;!O&&!T.leaf&&f(T,C)?(A.push(T),w.push(P),P=0,M=T,T=T.children[0]):M?(P++,T=M.children[P],O=!1):T=null}return this},toBBox:function(y){return y},compareMinX:s,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(y){return this.data=y,this},_all:function(y,x){for(var T=[];y;)y.leaf?x.push.apply(x,y.children):T.push.apply(T,y.children),y=T.pop();return x},_build:function(y,x,T,C){var A=T-x+1,w=this._maxEntries,P;if(A<=w)return P=g(y.slice(x,T+1)),r(P,this.toBBox),P;C||(C=Math.ceil(Math.log(A)/Math.log(w)),w=Math.ceil(A/Math.pow(w,C-1))),P=g([]),P.leaf=!1,P.height=C;var M=Math.ceil(A/w),R=M*Math.ceil(Math.sqrt(w)),O,U,X,W;for(m(y,x,T,R,this.compareMinX),O=x;O<=T;O+=R)for(X=Math.min(O+R-1,T),m(y,O,X,M,this.compareMinY),U=O;U<=X;U+=M)W=Math.min(U+M-1,X),P.children.push(this._build(y,U,W,C-1));return r(P,this.toBBox),P},_chooseSubtree:function(y,x,T,C){for(var A,w,P,M,R,O,U,X;C.push(x),!(x.leaf||C.length-1===T);){for(U=X=1/0,A=0,w=x.children.length;A<w;A++)P=x.children[A],R=i(P),O=u(y,P)-R,O<X?(X=O,U=R<U?R:U,M=P):O===X&&R<U&&(U=R,M=P);x=M||x.children[0]}return x},_insert:function(y,x,T){var C=this.toBBox,A=T?y:C(y),w=[],P=this._chooseSubtree(A,this.data,x,w);for(P.children.push(y),e(P,A);x>=0&&w[x].children.length>this._maxEntries;)this._split(w,x),x--;this._adjustParentBBoxes(A,w,x)},_split:function(y,x){var T=y[x],C=T.children.length,A=this._minEntries;this._chooseSplitAxis(T,A,C);var w=this._chooseSplitIndex(T,A,C),P=g(T.children.splice(w,T.children.length-w));P.height=T.height,P.leaf=T.leaf,r(T,this.toBBox),r(P,this.toBBox),x?y[x-1].children.push(P):this._splitRoot(T,P)},_splitRoot:function(y,x){this.data=g([y,x]),this.data.height=y.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(y,x,T){var C,A,w,P,M,R,O,U;for(R=O=1/0,C=x;C<=T-x;C++)A=n(y,0,C,this.toBBox),w=n(y,C,T,this.toBBox),P=d(A,w),M=i(A)+i(w),P<R?(R=P,U=C,O=M<O?M:O):P===R&&M<O&&(O=M,U=C);return U},_chooseSplitAxis:function(y,x,T){var C=y.leaf?this.compareMinX:s,A=y.leaf?this.compareMinY:o,w=this._allDistMargin(y,x,T,C),P=this._allDistMargin(y,x,T,A);w<P&&y.children.sort(C)},_allDistMargin:function(y,x,T,C){y.children.sort(C);var A=this.toBBox,w=n(y,0,x,A),P=n(y,T-x,T,A),M=h(w)+h(P),R,O;for(R=x;R<T-x;R++)O=y.children[R],e(w,y.leaf?A(O):O),M+=h(w);for(R=T-x-1;R>=x;R--)O=y.children[R],e(P,y.leaf?A(O):O),M+=h(P);return M},_adjustParentBBoxes:function(y,x,T){for(var C=T;C>=0;C--)e(x[C],y)},_condense:function(y){for(var x=y.length-1,T;x>=0;x--)y[x].children.length===0?x>0?(T=y[x-1].children,T.splice(T.indexOf(y[x]),1)):this.clear():r(y[x],this.toBBox)},compareMinX:function(y,x){return y.left-x.left},compareMinY:function(y,x){return y.top-x.top},toBBox:function(y){return{minX:y.left,minY:y.top,maxX:y.right,maxY:y.bottom}}};function a(y,x,T){if(!T)return x.indexOf(y);for(var C=0;C<x.length;C++)if(T(y,x[C]))return C;return-1}function r(y,x){n(y,0,y.children.length,x,y)}function n(y,x,T,C,A){A||(A=g(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var w=x,P;w<T;w++)P=y.children[w],e(A,y.leaf?C(P):P);return A}function e(y,x){return y.minX=Math.min(y.minX,x.minX),y.minY=Math.min(y.minY,x.minY),y.maxX=Math.max(y.maxX,x.maxX),y.maxY=Math.max(y.maxY,x.maxY),y}function s(y,x){return y.minX-x.minX}function o(y,x){return y.minY-x.minY}function i(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function h(y){return y.maxX-y.minX+(y.maxY-y.minY)}function u(y,x){return(Math.max(x.maxX,y.maxX)-Math.min(x.minX,y.minX))*(Math.max(x.maxY,y.maxY)-Math.min(x.minY,y.minY))}function d(y,x){var T=Math.max(y.minX,x.minX),C=Math.max(y.minY,x.minY),A=Math.min(y.maxX,x.maxX),w=Math.min(y.maxY,x.maxY);return Math.max(0,A-T)*Math.max(0,w-C)}function f(y,x){return y.minX<=x.minX&&y.minY<=x.minY&&x.maxX<=y.maxX&&x.maxY<=y.maxY}function c(y,x){return x.minX<=y.maxX&&x.minY<=y.maxY&&x.maxX>=y.minX&&x.maxY>=y.minY}function g(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(y,x,T,C,A){for(var w=[x,T],P;w.length;)T=w.pop(),x=w.pop(),!(T-x<=C)&&(P=x+Math.ceil((T-x)/C/2)*C,l(y,P,x,T,A),w.push(x,P,P,T))}p.exports=v},35072:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var n,e=this.entries.slice(),s=e.length;if(r)for(n=0;n<s&&a.call(r,e[n],n)!==!1;n++);else for(n=0;n<s&&a(e[n],n)!==!1;n++);return this},iterate:function(a,r){var n,e=this.entries.length;if(r)for(n=0;n<e&&a.call(r,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&a(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(a){var r,n=[];for(r=1;r<arguments.length;r++)n.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var s=this.entries[r];s[a].apply(s,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new v;return a.entries.forEach(function(n){r.set(n)}),this.entries.forEach(function(n){r.set(n)}),r},intersect:function(a){var r=new v;return this.entries.forEach(function(n){a.contains(n)&&r.set(n)}),r},difference:function(a){var r=new v;return this.entries.forEach(function(n){a.contains(n)||r.set(n)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});p.exports=v},86555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45319),v=t(83419),a=t(56583),r=t(26099),n=new v({initialize:function(s,o,i,h){s===void 0&&(s=0),o===void 0&&(o=s),i===void 0&&(i=0),h===void 0&&(h=null),this._width=s,this._height=o,this._parent=h,this.aspectMode=i,this.aspectRatio=o===0?1:s/o,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=l(e,0,this.maxWidth),this.minHeight=l(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=l(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,s,!0);break;case n.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=l(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=l(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,o){e===void 0&&(e=0),s===void 0&&(s=e),o===void 0&&(o=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,h=s===0?1:e/s;return o&&this.aspectRatio>h||!o&&this.aspectRatio<h?(e=a(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=a(s,i.y),e=s*this.aspectRatio)):(o&&this.aspectRatio<h||!o&&this.aspectRatio>h)&&(s=a(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=a(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,p.exports=n},15238:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},56187:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},82348:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45319),a=t(40987),r=t(8054),n=t(50030),e=t(79237),s=new l({Extends:e,initialize:function(i,h,u,d,f){e.call(this,i,h,u,d,f),this.add("__BASE",0,0,0,d,f),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=f,this.imageData=this.context.getImageData(0,0,d,f),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(o,i,h,u){return u===void 0&&(u=!0),this.context.drawImage(h,o,i),u&&this.update(),this},drawFrame:function(o,i,h,u,d){h===void 0&&(h=0),u===void 0&&(u=0),d===void 0&&(d=!0);var f=this.manager.getFrame(o,i);if(f){var c=f.canvasData,g=f.cutWidth,m=f.cutHeight,y=f.source.resolution;this.context.drawImage(f.source.image,c.x,c.y,g,m,h,u,g/y,m/y),d&&this.update()}return this},setPixel:function(o,i,h,u,d,f){f===void 0&&(f=255),o=Math.abs(Math.floor(o)),i=Math.abs(Math.floor(i));var c=this.getIndex(o,i);if(c>-1){var g=this.context.getImageData(o,i,1,1);g.data[0]=h,g.data[1]=u,g.data[2]=d,g.data[3]=f,this.context.putImageData(g,o,i)}return this},putData:function(o,i,h,u,d,f,c){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=o.width),c===void 0&&(c=o.height),this.context.putImageData(o,i,h,u,d,f,c),this},getData:function(o,i,h,u){o=v(Math.floor(o),0,this.width-1),i=v(Math.floor(i),0,this.height-1),h=v(h,1,this.width-o),u=v(u,1,this.height-i);var d=this.context.getImageData(o,i,h,u);return d},getPixel:function(o,i,h){h||(h=new a);var u=this.getIndex(o,i);if(u>-1){var d=this.data,f=d[u+0],c=d[u+1],g=d[u+2],m=d[u+3];h.setTo(f,c,g,m)}return h},getPixels:function(o,i,h,u){o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=h),o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i));for(var d=v(o,0,this.width),f=v(o+h,0,this.width),c=v(i,0,this.height),g=v(i+u,0,this.height),m=new a,y=[],x=c;x<g;x++){for(var T=[],C=d;C<f;C++)m=this.getPixel(C,x,m),T.push({x:C,y:x,color:m.color,alpha:m.alphaGL});y.push(T)}return y},getIndex:function(o,i){return o=Math.abs(Math.round(o)),i=Math.abs(Math.round(i)),o<this.width&&i<this.height?(o+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(o,i,h,u,d){return o===void 0&&(o=0),i===void 0&&(i=0),h===void 0&&(h=this.width),u===void 0&&(u=this.height),d===void 0&&(d=!0),this.context.clearRect(o,i,h,u),d&&this.update(),this},setSize:function(o,i){return i===void 0&&(i=o),(o!==this.width||i!==this.height)&&(this.canvas.width=o,this.canvas.height=i,this._source.width=o,this._source.height=i,this._source.isPowerOf2=n(o,i),this.frames.__BASE.setSize(o,i,0,0),this.width=o,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=s},81320:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10312),v=t(38058),a=t(27919),r=t(83419),n=t(8054),e=t(4327),s=t(95540),o=t(36060),i=t(32302),h=t(79237),u=t(70554),d=new r({Extends:h,initialize:function(c,g,m,y,x){m===void 0&&(m=256),y===void 0&&(y=256),x===void 0&&(x=!0),this.type="DynamicTexture";var T=c.game.renderer,C=T&&T.type===n.CANVAS,A=C?a.create2D(this,m,y):[this];h.call(this,c,g,A,m,y),this.add("__BASE",0,0,0,m,y),this.renderer=T,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=C?A:null,this.context=C?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,m,y).setScene(c.game.scene.systemScene,!1),this.renderTarget=C?null:new i(T,m,y,1,0,!1,!1,!0,!1),this.pipeline=C?null:T.pipelines.get(o.SINGLE_PIPELINE),this.setSize(m,y,x)},setSize:function(f,c,g){c===void 0&&(c=f),g===void 0&&(g=!0),g&&(f=Math.floor(f),c=Math.floor(c),f%2!==0&&f++,c%2!==0&&c++);var m=this.get(),y=m.source;if(f!==this.width||c!==this.height){this.canvas&&(this.canvas.width=f,this.canvas.height=c);var x=this.renderTarget;x&&(x.willResize(f,c)&&x.resize(f,c),x.texture!==y.glTexture&&this.renderer.deleteTexture(y.glTexture),this.setFromRenderTarget()),this.camera.setSize(f,c),y.width=f,y.height=c,m.setSize(f,c),this.width=f,this.height=c}else{var T=this.getSourceImage();m.cutX+f>T.width&&(f=T.width-m.cutX),m.cutY+c>T.height&&(c=T.height-m.cutY),m.setSize(f,c,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var f=this.get(),c=f.source,g=this.renderTarget;return c.isRenderTexture=!0,c.isGLTexture=!0,c.glTexture=g.texture,this},setIsSpriteTexture:function(f){return this.isSpriteTexture=f,this},fill:function(f,c,g,m,y,x){var T=this.camera,C=this.renderer;c===void 0&&(c=1),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),x===void 0&&(x=this.height);var A=f>>16&255,w=f>>8&255,P=f&255,M=this.renderTarget;if(T.preRender(),M){M.bind(!0);var R=this.pipeline.manager.set(this.pipeline),O=C.width/M.width,U=C.height/M.height,X=M.height-(m+x);R.drawFillRect(g*O,X*U,y*O,x*U,u.getTintFromFloats(P/255,w/255,A/255,1),c),M.unbind(!0)}else{var W=this.context;C.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+A+","+w+","+P+","+c+")",W.fillRect(g,m,y,x),C.setContext()}return this.dirty=!0,this},clear:function(f,c,g,m){if(this.dirty){var y=this.context,x=this.renderTarget;x?x.clear(f,c,g,m):y&&(f!==void 0&&c!==void 0&&g!==void 0&&m!==void 0?y.clearRect(f,c,g,m):(y.save(),y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,this.width,this.height),y.restore())),this.dirty=!1}return this},stamp:function(f,c,g,m,y){g===void 0&&(g=0),m===void 0&&(m=0);var x=s(y,"alpha",1),T=s(y,"tint",16777215),C=s(y,"angle",0),A=s(y,"rotation",0),w=s(y,"scale",1),P=s(y,"scaleX",w),M=s(y,"scaleY",w),R=s(y,"originX",.5),O=s(y,"originY",.5),U=s(y,"blendMode",0),X=s(y,"erase",!1),W=s(y,"skipBatch",!1),Y=this.manager.resetStamp(x,T);return Y.setAngle(0),C!==0?Y.setAngle(C):A!==0&&Y.setRotation(A),Y.setScale(P,M),Y.setTexture(f,c),Y.setOrigin(R,O),Y.setBlendMode(U),X&&(this._eraseMode=!0),W?this.batchGameObject(Y,g,m):this.draw(Y,g,m),X&&(this._eraseMode=!1),this},erase:function(f,c,g){return this._eraseMode=!0,this.draw(f,c,g),this._eraseMode=!1,this},draw:function(f,c,g,m,y){return this.beginDraw(),this.batchDraw(f,c,g,m,y),this.endDraw(),this},drawFrame:function(f,c,g,m,y,x){return this.beginDraw(),this.batchDrawFrame(f,c,g,m,y,x),this.endDraw(),this},repeat:function(f,c,g,m,y,x,T,C,A){if(g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),x===void 0&&(x=this.height),T===void 0&&(T=1),C===void 0&&(C=16777215),A===void 0&&(A=!1),f instanceof e?c=f:c=this.manager.getFrame(f,c),!c)return this;var w=this.manager.resetStamp(T,C);w.setFrame(c),w.setOrigin(0);var P=c.width,M=c.height;y=Math.floor(y),x=Math.floor(x);var R=Math.ceil(y/P),O=Math.ceil(x/M),U=R*P-y,X=O*M-x;U>0&&(U=P-U),X>0&&(X=M-X),g<0&&(R+=Math.ceil(Math.abs(g)/P)),m<0&&(O+=Math.ceil(Math.abs(m)/M));var W=g,Y=m,N=!1,z=this.manager.stampCrop.setTo(0,0,P,M);A||this.beginDraw();for(var B=0;B<O;B++){if(Y+M<0){Y+=M;continue}for(var I=0;I<R;I++){if(N=!1,W+P<0){W+=P;continue}else W<0&&(N=!0,z.width=P+W,z.x=P-z.width);Y<0&&(N=!0,z.height=M+Y,z.y=M-z.height),U>0&&I===R-1&&(N=!0,z.width=U),X>0&&B===O-1&&(N=!0,z.height=X),N&&w.setCrop(z),this.batchGameObject(w,W,Y),w.isCropped=!1,z.setTo(0,0,P,M),W+=P}W=g,Y+=M}return A||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var f=this.camera,c=this.renderer,g=this.renderTarget;f.preRender(),g?c.beginCapture(g.width,g.height):c.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(f,c,g,m,y){return Array.isArray(f)||(f=[f]),this.batchList(f,c,g,m,y),this},batchDrawFrame:function(f,c,g,m,y,x){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=1),x===void 0&&(x=16777215);var T=this.manager.getFrame(f,c);return T&&(this.renderTarget?this.pipeline.batchTextureFrame(T,g,m,x,y,this.camera.matrix,null):this.batchTextureFrame(T,g,m,y,x)),this},endDraw:function(f){if(f===void 0&&(f=this._eraseMode),this.isDrawing){var c=this.renderer,g=this.renderTarget;if(g){var m=c.endCapture(),y=c.pipelines.setUtility();y.blitFrame(m,g,1,!1,!1,f,this.isSpriteTexture),c.resetScissor(),c.resetViewport()}else c.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(f,c,g,m,y){var x=f.length;if(x!==0)for(var T=0;T<x;T++){var C=f[T];!C||C===this||(C.renderWebGL||C.renderCanvas?this.batchGameObject(C,c,g):C.isParent||C.list?this.batchGroup(C.getChildren(),c,g):typeof C=="string"?this.batchTextureFrameKey(C,null,c,g,m,y):C instanceof e?this.batchTextureFrame(C,c,g,m,y):Array.isArray(C)&&this.batchList(C,c,g,m,y))}},batchGroup:function(f,c,g){c===void 0&&(c=0),g===void 0&&(g=0);for(var m=0;m<f.length;m++){var y=f[m];y.willRender(this.camera)&&this.batchGameObject(y,y.x+c,y.y+g)}},batchGameObject:function(f,c,g){c===void 0&&(c=f.x),g===void 0&&(g=f.y);var m=f.x,y=f.y,x=this.camera,T=this.renderer,C=this._eraseMode,A=f.mask;if(f.setPosition(c,g),this.canvas){if(C){var w=f.blendMode;f.blendMode=l.ERASE}A&&A.preRenderCanvas(T,f,x),f.renderCanvas(T,f,x,null),A&&A.postRenderCanvas(T,f,x),C&&(f.blendMode=w)}else T&&(A&&A.preRenderWebGL(T,f,x),C||T.setBlendMode(f.blendMode),f.renderWebGL(T,f,x),A&&A.postRenderWebGL(T,x,this.renderTarget));f.setPosition(m,y)},batchTextureFrameKey:function(f,c,g,m,y,x){var T=this.manager.getFrame(f,c);T&&this.batchTextureFrame(T,g,m,y,x)},batchTextureFrame:function(f,c,g,m,y){c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=1),y===void 0&&(y=16777215);var x=this.camera.matrix,T=this.renderTarget;if(T)this.pipeline.batchTextureFrame(f,c,g,y,m,x,null);else{var C=this.context,A=f.canvasData,w=f.source.image;C.save(),C.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",C.globalAlpha=m,x.setToContext(C),A.width>0&&A.height>0&&C.drawImage(w,A.x,A.y,A.width,A.height,c,g,A.width,A.height),C.restore()}},snapshotArea:function(f,c,g,m,y,x,T){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,f,c,g,m,x,T):this.renderer.snapshotCanvas(this.canvas,y,!1,f,c,g,m,x,T),this},snapshot:function(f,c,g){return this.snapshotArea(0,0,this.width,this.height,f,c,g)},snapshotPixel:function(f,c,g){return this.snapshotArea(f,c,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(f,c,g,m){var y=this.manager.resetStamp();y.setTexture(this),y.setOrigin(0),y.renderWebGL(f,y,g,m)},renderCanvas:function(){},destroy:function(){var f=this.manager.stamp;f&&f.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});p.exports=d},4327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(45319),a=t(79291),r=new l({initialize:function(e,s,o,i,h,u,d){this.texture=e,this.name=s,this.source=e.source[o],this.sourceIndex=o,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,d,i,h)},setCutPosition:function(n,e){return n===void 0&&(n=0),e===void 0&&(e=0),this.cutX=n,this.cutY=e,this.updateUVs()},setCutSize:function(n,e){return this.cutWidth=n,this.cutHeight=e,this.updateUVs()},setSize:function(n,e,s,o){s===void 0&&(s=0),o===void 0&&(o=0),this.setCutPosition(s,o),this.setCutSize(n,e),this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var i=this.data,h=i.cut;h.x=s,h.y=o,h.w=n,h.h=e,h.r=s+n,h.b=o+e,i.sourceSize.w=n,i.sourceSize.h=e,i.spriteSourceSize.w=n,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(n*n+e*e);var u=i.drawImage;return u.x=s,u.y=o,u.width=n,u.height=e,this.updateUVs()},setTrim:function(n,e,s,o,i,h){var u=this.data,d=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=n,u.sourceSize.h=e,d.x=s,d.y=o,d.w=i,d.h=h,d.r=s+i,d.b=o+h,this.x=s,this.y=o,this.width=i,this.height=h,this.halfWidth=i*.5,this.halfHeight=h*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(n,e,s,o){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&o===this.height,i.scale9Borders.x=n,i.scale9Borders.y=e,i.scale9Borders.w=s,i.scale9Borders.h=o,this},setCropUVs:function(n,e,s,o,i,h,u){var d=this.cutX,f=this.cutY,c=this.cutWidth,g=this.cutHeight,m=this.realWidth,y=this.realHeight;e=v(e,0,m),s=v(s,0,y),o=v(o,0,m-e),i=v(i,0,y-s);var x=d+e,T=f+s,C=o,A=i,w=this.data;if(w.trim){var P=w.spriteSourceSize;o=v(o,0,P.x+c-e),i=v(i,0,P.y+g-s);var M=e+o,R=s+i,O=!(P.r<e||P.b<s||P.x>M||P.y>R);if(O){var U=Math.max(P.x,e),X=Math.max(P.y,s),W=Math.min(P.r,M)-U,Y=Math.min(P.b,R)-X;C=W,A=Y,h?x=d+(c-(U-P.x)-W):x=d+(U-P.x),u?T=f+(g-(X-P.y)-Y):T=f+(X-P.y),e=U,s=X,o=W,i=Y}else x=0,T=0,C=0,A=0}else h&&(x=d+(c-e-o)),u&&(T=f+(g-s-i));var N=this.source.width,z=this.source.height;return n.u0=Math.max(0,x/N),n.v0=Math.max(0,T/z),n.u1=Math.min(1,(x+C)/N),n.v1=Math.min(1,(T+A)/z),n.x=e,n.y=s,n.cx=x,n.cy=T,n.cw=C,n.ch=A,n.width=o,n.height=i,n.flipX=h,n.flipY=u,n},updateCropUVs:function(n,e,s){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,s)},setUVs:function(n,e,s,o,i,h){var u=this.data.drawImage;return u.width=n,u.height=e,this.u0=s,this.v0=o,this.u1=i,this.v1=h,this},updateUVs:function(){var n=this.cutX,e=this.cutY,s=this.cutWidth,o=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=o;var h=this.source.width,u=this.source.height;return this.u0=n/h,this.v0=e/u,this.u1=(n+s)/h,this.v1=(e+o)/u,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new r(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=a(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},79237:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(4327),a=t(11876),r='Texture "%s" has no frame "%s"',n=new l({initialize:function(s,o,i,h,u){Array.isArray(i)||(i=[i]),this.manager=s,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<i.length;d++)this.source.push(new a(this,i[d],h,u))},add:function(e,s,o,i,h,u){if(this.has(e))return null;var d=new v(this,e,s,o,i,h,u);return this.frames[e]=d,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,d},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(r,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var o=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var h=this.frames[i];h.sourceIndex===e&&o.push(h)}return o},getFrameBounds:function(e){e===void 0&&(e=0);for(var s=this.getFramesFromTextureSource(e,!0),o=s[0],i=o.cutX,h=o.cutY,u=o.cutX+o.cutWidth,d=o.cutY+o.cutHeight,f=1;f<s.length;f++){var c=s[f];c.cutX<i&&(i=c.cutX),c.cutY<h&&(h=c.cutY),c.cutX+c.cutWidth>u&&(u=c.cutX+c.cutWidth),c.cutY+c.cutHeight>d&&(d=c.cutY+c.cutHeight)}return{x:i,y:h,width:u-i,height:d-h}},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var o=s.indexOf("__BASE");o!==-1&&s.splice(o,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],o;return s?o=s.sourceIndex:(console.warn(r,this.key,e),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var o=this.source[s];this.dataSource.push(new a(this,e[s],o.width,o.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,o=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<o.length;e++)o[e]&&o[e].destroy();for(var i in this.frames){var h=this.frames[i];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=n},17130:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(57382),a=t(83419),r=t(40987),n=t(8054),e=t(81320),s=t(50792),o=t(69442),i=t(4327),h=t(8443),u=t(99584),d=t(35154),f=t(88571),c=t(41212),g=t(61309),m=t(87841),y=t(79237),x=new a({Extends:s,initialize:function(C){s.call(this),this.game=C,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new m,this.silentWarnings=!1,C.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(o.LOAD,this.updatePending,this),this.on(o.ERROR,this.updatePending,this);var T=this.game.config;T.defaultImage!==null&&this.addBase64("__DEFAULT",T.defaultImage),T.missingImage!==null&&this.addBase64("__MISSING",T.missingImage),T.whiteImage!==null&&this.addBase64("__WHITE",T.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(C){this.stamp=new f(C).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(o.LOAD),this.off(o.ERROR),this.emit(o.READY))},checkKey:function(T){return!T||typeof T!="string"||this.exists(T)?(this.silentWarnings||console.error("Texture key already in use: "+T),!1):!0},remove:function(T){if(typeof T=="string")if(this.exists(T))T=this.get(T);else return this.silentWarnings||console.warn("No texture found matching key: "+T),this;var C=T.key;return this.list.hasOwnProperty(C)&&(T.destroy(),this.emit(o.REMOVE,C),this.emit(o.REMOVE_KEY+C)),this},removeKey:function(T){return this.list.hasOwnProperty(T)&&delete this.list[T],this},addBase64:function(T,C){if(this.checkKey(T)){var A=this,w=new Image;w.onerror=function(){A.emit(o.ERROR,T)},w.onload=function(){var P=A.create(T,w);P&&(g.Image(P,0),A.emit(o.ADD,T,P),A.emit(o.ADD_KEY+T,P),A.emit(o.LOAD,T,P))},w.src=C}return this},getBase64:function(T,C,A,w){A===void 0&&(A="image/png"),w===void 0&&(w=.92);var P="",M=this.getFrame(T,C);if(M&&(M.source.isRenderTexture||M.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(M){var R=M.canvasData,O=l.create2D(this,R.width,R.height),U=O.getContext("2d",{willReadFrequently:!0});R.width>0&&R.height>0&&U.drawImage(M.source.image,R.x,R.y,R.width,R.height,0,0,R.width,R.height),P=O.toDataURL(A,w),l.remove(O)}return P},addImage:function(T,C,A){var w=null;return this.checkKey(T)&&(w=this.create(T,C),g.Image(w,0),A&&w.setDataSource(A),this.emit(o.ADD,T,w),this.emit(o.ADD_KEY+T,w)),w},addGLTexture:function(T,C){var A=null;if(this.checkKey(T)){var w=C.width,P=C.height;A=this.create(T,C,w,P),A.add("__BASE",0,0,0,w,P),this.emit(o.ADD,T,A),this.emit(o.ADD_KEY+T,A)}return A},addCompressedTexture:function(T,C,A){var w=null;if(this.checkKey(T)){if(w=this.create(T,C),w.add("__BASE",0,0,0,C.width,C.height),A){var P=function(R,O,U){Array.isArray(U.textures)||Array.isArray(U.frames)?g.JSONArray(R,O,U):g.JSONHash(R,O,U)};if(Array.isArray(A))for(var M=0;M<A.length;M++)P(w,M,A[M]);else P(w,0,A)}this.emit(o.ADD,T,w),this.emit(o.ADD_KEY+T,w)}return w},addRenderTexture:function(T,C){var A=null;return this.checkKey(T)&&(A=this.create(T,C),A.add("__BASE",0,0,0,C.width,C.height),this.emit(o.ADD,T,A),this.emit(o.ADD_KEY+T,A)),A},generate:function(T,C){if(this.checkKey(T)){var A=l.create(this,1,1);return C.canvas=A,u(C),this.addCanvas(T,A)}else return null},createCanvas:function(T,C,A){if(C===void 0&&(C=256),A===void 0&&(A=256),this.checkKey(T)){var w=l.create(this,C,A,n.CANVAS,!0);return this.addCanvas(T,w)}return null},addCanvas:function(T,C,A){A===void 0&&(A=!1);var w=null;return A?w=new v(this,T,C,C.width,C.height):this.checkKey(T)&&(w=new v(this,T,C,C.width,C.height),this.list[T]=w,this.emit(o.ADD,T,w),this.emit(o.ADD_KEY+T,w)),w},addDynamicTexture:function(T,C,A){var w=null;return typeof T=="string"&&!this.exists(T)?w=new e(this,T,C,A):(w=T,T=w.key),this.checkKey(T)?(this.list[T]=w,this.emit(o.ADD,T,w),this.emit(o.ADD_KEY+T,w)):w=null,w},addAtlas:function(T,C,A,w){return Array.isArray(A.textures)||Array.isArray(A.frames)?this.addAtlasJSONArray(T,C,A,w):this.addAtlasJSONHash(T,C,A,w)},addAtlasJSONArray:function(T,C,A,w){var P=null;if(C instanceof y?(T=C.key,P=C):this.checkKey(T)&&(P=this.create(T,C)),P){if(Array.isArray(A))for(var M=A.length===1,R=0;R<P.source.length;R++){var O=M?A[0]:A[R];g.JSONArray(P,R,O)}else g.JSONArray(P,0,A);w&&P.setDataSource(w),this.emit(o.ADD,T,P),this.emit(o.ADD_KEY+T,P)}return P},addAtlasJSONHash:function(T,C,A,w){var P=null;if(C instanceof y?(T=C.key,P=C):this.checkKey(T)&&(P=this.create(T,C)),P){if(Array.isArray(A))for(var M=0;M<A.length;M++)g.JSONHash(P,M,A[M]);else g.JSONHash(P,0,A);w&&P.setDataSource(w),this.emit(o.ADD,T,P),this.emit(o.ADD_KEY+T,P)}return P},addAtlasXML:function(T,C,A,w){var P=null;return C instanceof y?(T=C.key,P=C):this.checkKey(T)&&(P=this.create(T,C)),P&&(g.AtlasXML(P,0,A),w&&P.setDataSource(w),this.emit(o.ADD,T,P),this.emit(o.ADD_KEY+T,P)),P},addUnityAtlas:function(T,C,A,w){var P=null;return C instanceof y?(T=C.key,P=C):this.checkKey(T)&&(P=this.create(T,C)),P&&(g.UnityYAML(P,0,A),w&&P.setDataSource(w),this.emit(o.ADD,T,P),this.emit(o.ADD_KEY+T,P)),P},addSpriteSheet:function(T,C,A,w){var P=null;if(C instanceof y?(T=C.key,P=C):this.checkKey(T)&&(P=this.create(T,C)),P){var M=P.source[0].width,R=P.source[0].height;g.SpriteSheet(P,0,0,0,M,R,A),w&&P.setDataSource(w),this.emit(o.ADD,T,P),this.emit(o.ADD_KEY+T,P)}return P},addSpriteSheetFromAtlas:function(T,C){if(!this.checkKey(T))return null;var A=d(C,"atlas",null),w=d(C,"frame",null);if(!(!A||!w)){var P=this.get(A),M=P.get(w);if(M){var R=M.source.image;R||(R=M.source.glTexture);var O=this.create(T,R);return M.trimmed?g.SpriteSheetFromAtlas(O,M,C):g.SpriteSheet(O,0,M.cutX,M.cutY,M.cutWidth,M.cutHeight,C),this.emit(o.ADD,T,O),this.emit(o.ADD_KEY+T,O),O}}},addUint8Array:function(T,C,A,w){if(!this.checkKey(T)||C.length/4!==A*w)return null;var P=this.create(T,C,A,w);return P.add("__BASE",0,0,0,A,w),this.emit(o.ADD,T,P),this.emit(o.ADD_KEY+T,P),P},create:function(T,C,A,w){var P=null;return this.checkKey(T)&&(P=new y(this,T,C,A,w),this.list[T]=P),P},exists:function(T){return this.list.hasOwnProperty(T)},get:function(T){return T===void 0&&(T="__DEFAULT"),this.list[T]?this.list[T]:T instanceof y?T:T instanceof i?T.texture:this.list.__MISSING},cloneFrame:function(T,C){if(this.list[T])return this.list[T].get(C).clone()},getFrame:function(T,C){if(this.list[T])return this.list[T].get(C)},parseFrame:function(T){if(T){if(typeof T=="string")return this.getFrame(T);if(Array.isArray(T)&&T.length===2)return this.getFrame(T[0],T[1]);if(c(T))return this.getFrame(T.key,T.frame);if(T instanceof y)return T.get();if(T instanceof i)return T}else return},getTextureKeys:function(){var T=[];for(var C in this.list)C!=="__DEFAULT"&&C!=="__MISSING"&&C!=="__WHITE"&&C!=="__NORMAL"&&T.push(C);return T},getPixel:function(T,C,A,w){var P=this.getFrame(A,w);if(P){T-=P.x,C-=P.y;var M=P.data.cut;if(T+=M.x,C+=M.y,T>=M.x&&T<M.r&&C>=M.y&&C<M.b){var R=this._tempContext;R.clearRect(0,0,1,1),R.drawImage(P.source.image,T,C,1,1,0,0,1,1);var O=R.getImageData(0,0,1,1);return new r(O.data[0],O.data[1],O.data[2],O.data[3])}}return null},getPixelAlpha:function(T,C,A,w){var P=this.getFrame(A,w);if(P){T-=P.x,C-=P.y;var M=P.data.cut;if(T+=M.x,C+=M.y,T>=M.x&&T<M.r&&C>=M.y&&C<M.b){var R=this._tempContext;R.clearRect(0,0,1,1),R.drawImage(P.source.image,T,C,1,1,0,0,1,1);var O=R.getImageData(0,0,1,1);return O.data[3]}}return null},setTexture:function(T,C,A){return this.list[C]&&(T.texture=this.list[C],T.frame=T.texture.get(A)),T},renameTexture:function(T,C){var A=this.get(T);return A&&T!==C?(A.key=C,this.list[C]=A,delete this.list[T],!0):!1},each:function(T,C){for(var A=[null],w=1;w<arguments.length;w++)A.push(arguments[w]);for(var P in this.list)A[0]=this.list[P],T.apply(C,A)},resetStamp:function(T,C){T===void 0&&(T=1),C===void 0&&(C=16777215);var A=this.stamp;return A.setCrop(),A.setPosition(0),A.setAngle(0),A.setScale(1),A.setAlpha(T),A.setTint(C),A.setTexture("__WHITE"),A},destroy:function(){for(var T in this.list)this.list[T].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,l.remove(this._tempCanvas)}});p.exports=x},11876:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27919),v=t(83419),a=t(50030),r=t(29795),n=t(82751),e=new v({initialize:function(o,i,h,u,d){d===void 0&&(d=!1);var f=o.manager.game;this.renderer=f.renderer,this.texture=o,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=h||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof n,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(f)},init:function(s){var o=this.renderer;if(o){var i=this.source;if(o.gl){var h=this.image,u=this.flipY,d=this.width,f=this.height,c=this.scaleMode;this.isCanvas?this.glTexture=o.createCanvasTexture(h,!1,u):this.isVideo?this.glTexture=o.createVideoTexture(h,!1,u):this.isRenderTexture?this.glTexture=o.createTextureFromSource(null,d,f,c):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=o.createTextureFromSource(i,void 0,void 0,c):i instanceof Uint8Array?this.glTexture=o.createUint8ArrayTexture(i,d,f,c):this.glTexture=o.createTextureFromSource(h,d,f,c)}else this.isRenderTexture&&(this.image=i.canvas)}s.config.antialias||this.setFilter(1)},setFilter:function(s){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,s),this.scaleMode=s},setFlipY:function(s){return s===void 0&&(s=!0),s===this.flipY?this:(this.flipY=s,this.update(),this)},update:function(){var s=this.renderer,o=this.image,i=this.flipY,h=s.gl;h&&this.isCanvas?s.updateCanvasTexture(o,this.glTexture,i):h&&this.isVideo&&s.updateVideoTexture(o,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=e},19673:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};p.exports=S},44538:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},63486:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},94851:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},29099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},8678:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},86415:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},30879:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},69442:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:v,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=l(!1,a,v),p.exports=a},89905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[l];t.add("__BASE",l,0,0,a.width,a.height);for(var r=v.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var s=r[e].attributes,o=s.name.value,i=parseInt(s.x.value,10),h=parseInt(s.y.value,10),u=parseInt(s.width.value,10),d=parseInt(s.height.value,10);if(n=t.add(o,l,i,h,u,d),s.frameX){var f=Math.abs(parseInt(s.frameX.value,10)),c=Math.abs(parseInt(s.frameY.value,10)),g=parseInt(s.frameWidth.value,10),m=parseInt(s.frameHeight.value,10);n.setTrim(u,d,f,c,g,m)}}return t};p.exports=S},72893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.source[l];return t.add("__BASE",l,0,0,v.width,v.height),t};p.exports=S},4832:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.source[l];return t.add("__BASE",l,0,0,v.width,v.height),t};p.exports=S},78566:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var s=Array.isArray(n.textures)?n.textures[r].frames:n.frames,o,i=0;i<s.length;i++){var h=s[i];if(o=a.add(h.filename,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&o.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=h.anchor||h.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),h.scale9Borders&&o.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),o.customData=l(h)}for(var d in n)d!=="frames"&&(Array.isArray(n[d])?a.customData[d]=n[d].slice(0):a.customData[d]=n[d]);return a};p.exports=v},39711:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var s=n.frames,o;for(var i in s)if(s.hasOwnProperty(i)){var h=s[i];if(o=a.add(i,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+i);continue}h.trimmed&&o.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(o.rotated=!0,o.updateUVsInverted());var u=h.anchor||h.pivot;u&&(o.customPivot=!0,o.pivotX=u.x,o.pivotY=u.y),h.scale9Borders&&o.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),o.customData=l(h)}for(var d in n)d!=="frames"&&(Array.isArray(n[d])?a.customData[d]=n[d].slice(0):a.customData[d]=n[d]);return a};p.exports=v},31403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=[171,75,84,88,32,49,49,187,13,10,26,10],v,a=new Uint8Array(t,0,12);for(v=0;v<a.length;v++)if(a[v]!==l[v]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*r),e=n.getUint32(0,!0)===67305985,s=n.getUint32(1*r,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var o=n.getUint32(4*r,e),i=n.getUint32(6*r,e),h=n.getUint32(7*r,e),u=Math.max(1,n.getUint32(11*r,e)),d=n.getUint32(12*r,e),f=new Array(u),c=12+13*4+d,g=i,m=h;for(v=0;v<u;v++){var y=new Int32Array(t,c,1)[0];c+=4,f[v]={data:new Uint8Array(t,c,y),width:g,height:m},g=Math.max(1,g>>1),m=Math.max(1,m>>1),c+=y}return{mipmaps:f,width:i,height:h,internalFormat:o,compressed:!0,generateMipmap:!1}};p.exports=S},82038:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(C,A,w,P,M,R,O){return O===void 0&&(O=16),Math.floor((C+w)/M)*Math.floor((A+P)/R)*O}function t(C,A){return C=Math.max(C,16),A=Math.max(A,8),C*A/4}function l(C,A){return C=Math.max(C,8),A=Math.max(A,8),C*A/2}function v(C,A){return Math.ceil(C/4)*Math.ceil(A/4)*16}function a(C,A){return S(C,A,3,3,4,4,8)}function r(C,A){return S(C,A,3,3,4,4)}function n(C,A){return S(C,A,4,3,5,4)}function e(C,A){return S(C,A,4,4,5,5)}function s(C,A){return S(C,A,5,4,6,5)}function o(C,A){return S(C,A,5,5,6,6)}function i(C,A){return S(C,A,7,4,8,5)}function h(C,A){return S(C,A,7,5,8,6)}function u(C,A){return S(C,A,7,7,8,8)}function d(C,A){return S(C,A,9,4,10,5)}function f(C,A){return S(C,A,9,5,10,6)}function c(C,A){return S(C,A,9,7,10,8)}function g(C,A){return S(C,A,9,9,10,10)}function m(C,A){return S(C,A,11,9,12,10)}function y(C,A){return S(C,A,11,11,12,12)}var x={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:l,glFormat:[35840]},3:{sizeFunc:l,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:n,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:s,glFormat:[37811,37843]},31:{sizeFunc:o,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:f,glFormat:[37817,37849]},37:{sizeFunc:c,glFormat:[37818,37850]},38:{sizeFunc:g,glFormat:[37819,37851]},39:{sizeFunc:m,glFormat:[37820,37852]},40:{sizeFunc:y,glFormat:[37821,37853]}},T=function(C){for(var A=new Uint32Array(C,0,13),w=A[0],P=w===55727696,M=P?A[2]:A[3],R=A[4],O=x[M].glFormat[R],U=x[M].sizeFunc,X=A[11],W=A[7],Y=A[6],N=52+A[12],z=new Uint8Array(C,N),B=new Array(X),I=0,G=W,H=Y,K=0;K<X;K++){var Z=U(G,H);B[K]={data:new Uint8Array(z.buffer,z.byteOffset+I,Z),width:G,height:H},G=Math.max(1,G>>1),H=Math.max(1,H>>1),I+=Z}return{mipmaps:B,width:W,height:Y,internalFormat:O,compressed:!0,generateMipmap:!1}};p.exports=T},75549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,n,e,s,o,i){var h=l(i,"frameWidth",null),u=l(i,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=a.source[r];a.add("__BASE",r,0,0,d.width,d.height);var f=l(i,"startFrame",0),c=l(i,"endFrame",-1),g=l(i,"margin",0),m=l(i,"spacing",0),y=Math.floor((s-g+m)/(h+m)),x=Math.floor((o-g+m)/(u+m)),T=y*x;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(f>T||f<-T)&&(f=0),f<0&&(f=T+f),(c===-1||c>T||c<f)&&(c=T);for(var C=g,A=g,w=0,P=0,M=0,R=0;R<T;R++){w=0,P=0;var O=C+h,U=A+u;O>s&&(w=O-s),U>o&&(P=U-o),R>=f&&R<=c&&(a.add(M,r,n+C,e+A,h-w,u-P),M++),C+=h+m,C+h>s&&(C=g,A+=u+m)}return a};p.exports=v},47534:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,n){var e=l(n,"frameWidth",null),s=l(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=a.source[0];a.add("__BASE",0,0,0,o.width,o.height),l(n,"startFrame",0),l(n,"endFrame",-1);for(var i=l(n,"margin",0),h=l(n,"spacing",0),u=r.cutX,d=r.cutY,f=r.cutWidth,c=r.cutHeight,g=r.realWidth,m=r.realHeight,y=Math.floor((g-i+h)/(e+h)),x=Math.floor((m-i+h)/(s+h)),T=r.x,C=e-T,A=e-(g-f-T),w=r.y,P=s-w,M=s-(m-c-w),R,O=i,U=i,X=0,W=0,Y=0;Y<x;Y++){for(var N=Y===0,z=Y===x-1,B=0;B<y;B++){var I=B===0,G=B===y-1;if(R=a.add(X,W,u+O,d+U,e,s),I||N||G||z){var H=I?T:0,K=N?w:0,Z=0,Q=0;I&&(Z+=e-C),G&&(Z+=e-A),N&&(Q+=s-P),z&&(Q+=s-M);var j=e-Z,_=s-Q;R.cutWidth=j,R.cutHeight=_,R.setTrim(e,s,H,K,j,_)}O+=h,I?O+=C:G?O+=A:O+=e,X++}O=i,U+=h,N?U+=P:z?U+=M:U+=s}return a};p.exports=v},86147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(v,a,r,n){var e=S-n.y-n.height;v.add(r,a,n.x,e,n.width,n.height)},l=function(v,a,r){var n=v.source[a];v.add("__BASE",a,0,0,n.width,n.height),S=n.height;for(var e=r.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",i="",h={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var d=e[u].match(s);if(d){var f=d[1]==="- ",c=d[2],g=d[3];if(f&&(i!==o&&(t(v,a,i,h),o=i),h={x:0,y:0,width:0,height:0}),c==="name"){i=g;continue}switch(c){case"x":case"y":case"width":case"height":h[c]=parseInt(g,10);break}}}return i!==o&&t(v,a,i,h),v};p.exports=l},55222:(p,S,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50030),v=function(o){for(var i=o.mipmaps,h=1;h<i.length;h++){var u=i[h].width,d=i[h].height;if(!l(u,d))return console.warn("Mip level "+h+" is not a power-of-two size: "+u+"x"+d),!1}var f=s[o.internalFormat];return f?f(o):(console.warn("No format checker found for internal format "+o.internalFormat+". Assuming valid."),!0)};function a(o){for(var i=o.mipmaps,h=0;h<i.length;h++){var u=i[h].width,d=i[h].height;if((u<<h)%4!==0||(d<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+u+"x"+d),!1}return!0}function r(){return!0}function n(o){var i=o.mipmaps,h=i[0];return l(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(o){var i=o.mipmaps,h=i[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var s={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:n,35841:n,35842:n,35843:n,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};p.exports=v},61309:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r,n,e,s,o,i,h){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),o===void 0&&(o=0),i===void 0&&(i=0),this.name=r,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=o|0,this.imageSpacing=i|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r,n,e){return this.images.push({gid:a,image:r,width:n,height:e}),this.total++,this}});p.exports=v},27462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=new l({initialize:function(r){if(this.gids=[],r!==void 0)for(var n=0;n<r.length;++n)for(var e=r[n],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(r){var n=r.getTileData(a.gid);if(n)return n.type}}},setTextureAndFrame:function(a,r,n,e){if(r===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(r===null&&s.image!==void 0&&(r=s.image.key),n===null&&(n=e.gid-s.firstgid),a.scene.textures.getFrame(r,n)||(r=null,n=null))}a.setTexture(r,n)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var n=this.gids[r.gid];n!==void 0&&this.setFromJSON(a,n.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++){var e=r[n];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var s in r)a[s]!==void 0?a[s]=r[s]:a.setData(s,r[s])}}});p.exports=v},31989:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(87010),a=t(46177),r=t(49075),n=function(e,s,o,i,h,u,d,f){o===void 0&&(o=32),i===void 0&&(i=32),h===void 0&&(h=10),u===void 0&&(u=10),f===void 0&&(f=!1);var c=null;if(Array.isArray(d)){var g=s!==void 0?s:"map";c=a(g,l.ARRAY_2D,d,o,i,f)}else if(s!==void 0){var m=e.cache.tilemap.get(s);m?c=a(s,m.format,m.data,o,i,f):console.warn("No map data found for key "+s)}return c===null&&(c=new v({tileWidth:o,tileHeight:i,width:h,height:u})),new r(e,c)};p.exports=n},23029:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(31401),a=t(91907),r=t(62644),n=t(93232),e=new l({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(o,i,h,u,d,f,c,g){this.layer=o,this.index=i,this.x=h,this.y=u,this.width=d,this.height=f,this.right,this.bottom,this.baseWidth=c!==void 0?c:d,this.baseHeight=g!==void 0?g:f,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(s,o){return!(s<this.pixelX||o<this.pixelY||s>this.right||o>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=r(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var o=this.tilemapLayer;return o?this.getLeft(s)+this.width*o.scaleX:this.getLeft(s)+this.width},getTop:function(s){var o=this.tilemapLayer;if(o){var i=o.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var o=this.tilemapLayer;return o?this.getTop(s)+this.height*o.scaleY:this.getTop(s)+this.height},getBounds:function(s,o){return o===void 0&&(o=new n),o.x=this.getLeft(s),o.y=this.getTop(s),o.width=this.getRight(s)-o.x,o.height=this.getBottom(s)-o.y,o},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,o,i,h){return!(i<=this.pixelX||h<=this.pixelY||s>=this.right||o>=this.bottom)},isInteresting:function(s,o){return s&&o?this.canCollide||this.hasInterestingFace:s?this.collides:o?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var o=this.tilemapLayer;o&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,o,i,h,u){if(o===void 0&&(o=s),i===void 0&&(i=s),h===void 0&&(h=s),u===void 0&&(u=!0),this.collideLeft=s,this.collideRight=o,this.collideUp=i,this.collideDown=h,this.faceLeft=s,this.faceRight=o,this.faceTop=i,this.faceBottom=h,u){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,o){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=o),this},setSize:function(s,o,i,h){return s!==void 0&&(this.width=s),o!==void 0&&(this.height=o),i!==void 0&&(this.baseWidth=i),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===a.HEXAGONAL){var o=this.layer.staggerAxis,i=this.layer.staggerIndex,h=this.layer.hexSideLength,u,d;o==="y"?(d=(this.baseHeight-h)/2+h,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):o==="x"&&(u=(this.baseWidth-h)/2+h,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var o=s.gidMap[this.index];if(o)return o}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});p.exports=e},49075:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84101),v=t(83419),a=t(39506),r=t(80341),n=t(95540),e=t(14977),s=t(27462),o=t(91907),i=t(36305),h=t(19133),u=t(68287),d=t(23029),f=t(81086),c=t(20442),g=t(33629),m=new v({initialize:function(x,T){this.scene=x,this.tileWidth=T.tileWidth,this.tileHeight=T.tileHeight,this.width=T.width,this.height=T.height,this.orientation=T.orientation,this.renderOrder=T.renderOrder,this.format=T.format,this.version=T.version,this.properties=T.properties,this.widthInPixels=T.widthInPixels,this.heightInPixels=T.heightInPixels,this.imageCollections=T.imageCollections,this.images=T.images,this.layers=T.layers,this.tiles=T.tiles,this.tilesets=T.tilesets,this.objects=T.objects,this.currentLayerIndex=0,this.hexSideLength=T.hexSideLength;var C=this.orientation;this._convert={WorldToTileXY:f.GetWorldToTileXYFunction(C),WorldToTileX:f.GetWorldToTileXFunction(C),WorldToTileY:f.GetWorldToTileYFunction(C),TileToWorldXY:f.GetTileToWorldXYFunction(C),TileToWorldX:f.GetTileToWorldXFunction(C),TileToWorldY:f.GetTileToWorldYFunction(C),GetTileCorners:f.GetTileCornersFunction(C)}},setRenderOrder:function(y){var x=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=x[y]),x.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,x,T,C,A,w,P,M){if(y===void 0)return null;x==null&&(x=y);var R=this.scene.sys.textures;if(!R.exists(x))return console.warn('Texture key "%s" not found',x),null;var O=R.get(x),U=this.getTilesetIndex(y);if(U===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',y,this.tilesets),null;var X=this.tilesets[U];return X?((T||C)&&X.setTileSize(T,C),(A||w)&&X.setSpacing(A,w),X.setImage(O),X):(T===void 0&&(T=this.tileWidth),C===void 0&&(C=this.tileHeight),A===void 0&&(A=0),w===void 0&&(w=0),P===void 0&&(P=0),M===void 0&&(M={x:0,y:0}),X=new g(y,P,T,C,A,w,void 0,void 0,M),X.setImage(O),this.tilesets.push(X),this.tiles=l(this),X)},copy:function(y,x,T,C,A,w,P,M){return M=this.getLayer(M),M!==null?(f.Copy(y,x,T,C,A,w,P,M),this):null},createBlankLayer:function(y,x,T,C,A,w,P,M){T===void 0&&(T=0),C===void 0&&(C=0),A===void 0&&(A=this.width),w===void 0&&(w=this.height),P===void 0&&(P=this.tileWidth),M===void 0&&(M=this.tileHeight);var R=this.getLayerIndex(y);if(R!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var O=new e({name:y,tileWidth:P,tileHeight:M,width:A,height:w,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,X=0;X<w;X++){U=[];for(var W=0;W<A;W++)U.push(new d(O,-1,W,X,P,M,this.tileWidth,this.tileHeight));O.data.push(U)}this.layers.push(O),this.currentLayerIndex=this.layers.length-1;var Y=new c(this.scene,this,this.currentLayerIndex,x,T,C);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(y,x,T,C){var A=this.getLayerIndex(y);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var w=this.layers[A];if(w.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=A,T===void 0&&(T=w.x),C===void 0&&(C=w.y);var P=new c(this.scene,this,A,x,T,C);return P.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(P),P},createFromObjects:function(y,x,T){T===void 0&&(T=!0);var C=[],A=this.getObjectLayer(y);if(!A)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),C;var w=new s(T?this.tilesets:void 0);Array.isArray(x)||(x=[x]);for(var P=A.objects,M=0;M<x.length;M++){var R=x[M],O=n(R,"id",null),U=n(R,"gid",null),X=n(R,"name",null),W=n(R,"type",null);w.enabled=!n(R,"ignoreTileset",null);for(var Y,N=[],z=0;z<P.length;z++)Y=P[z],(O===null&&U===null&&X===null&&W===null||O!==null&&Y.id===O||U!==null&&Y.gid===U||X!==null&&Y.name===X||W!==null&&w.getTypeIncludingTile(Y)===W)&&N.push(Y);for(var B=n(R,"classType",u),I=n(R,"scene",this.scene),G=n(R,"container",null),H=n(R,"key",null),K=n(R,"frame",null),Z=0;Z<N.length;Z++){Y=N[Z];var Q=new B(I);if(Q.setName(Y.name),Q.setPosition(Y.x,Y.y),w.setTextureAndFrame(Q,H,K,Y),Y.width&&(Q.displayWidth=Y.width),Y.height&&(Q.displayHeight=Y.height),this.orientation===o.ISOMETRIC){var j=this.tileWidth/this.tileHeight,_={x:Q.x-Q.y,y:(Q.x+Q.y)/j};Q.x=_.x,Q.y=_.y}var tt={x:Q.originX*Y.width,y:(Q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var et=a(Y.rotation);i(tt,et),Q.rotation=et}Q.x+=tt.x,Q.y+=tt.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&Q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(Q.visible=!1),w.setPropertiesFromTiledObject(Q,Y),G?G.add(Q):I.add.existing(Q),C.push(Q)}}return C},createFromTiles:function(y,x,T,C,A,w){return w=this.getLayer(w),w===null?null:f.CreateFromTiles(y,x,T,C,A,w)},fill:function(y,x,T,C,A,w,P){return w===void 0&&(w=!0),P=this.getLayer(P),P===null?null:(f.Fill(y,x,T,C,A,w,P),this)},filterObjects:function(y,x,T){if(typeof y=="string"){var C=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+C),null}return y.objects.filter(x,T)},filterTiles:function(y,x,T,C,A,w,P,M){return M=this.getLayer(M),M===null?null:f.FilterTiles(y,x,T,C,A,w,P,M)},findByIndex:function(y,x,T,C){return C=this.getLayer(C),C===null?null:f.FindByIndex(y,x,T,C)},findObject:function(y,x,T){if(typeof y=="string"){var C=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+C),null}return y.objects.find(x,T)||null},findTile:function(y,x,T,C,A,w,P,M){return M=this.getLayer(M),M===null?null:f.FindTile(y,x,T,C,A,w,P,M)},forEachTile:function(y,x,T,C,A,w,P,M){return M=this.getLayer(M),M===null?null:(f.ForEachTile(y,x,T,C,A,w,P,M),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,x){for(var T=0;T<y.length;T++)if(y[T].name===x)return T;return null},getLayer:function(y){var x=this.getLayerIndex(y);return x!==null?this.layers[x]:null},getObjectLayer:function(y){var x=this.getIndex(this.objects,y);return x!==null?this.objects[x]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof c&&y.tilemap===this?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,x,T,C){return C=this.getLayer(C),C===null?null:f.GetTileAt(y,x,T,C)},getTileAtWorldXY:function(y,x,T,C,A){return A=this.getLayer(A),A===null?null:f.GetTileAtWorldXY(y,x,T,C,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,x,T,C,A,w){return w=this.getLayer(w),w===null?null:f.GetTilesWithin(y,x,T,C,A,w)},getTilesWithinShape:function(y,x,T,C){return C=this.getLayer(C),C===null?null:f.GetTilesWithinShape(y,x,T,C)},getTilesWithinWorldXY:function(y,x,T,C,A,w,P){return P=this.getLayer(P),P===null?null:f.GetTilesWithinWorldXY(y,x,T,C,A,w,P)},getTileset:function(y){var x=this.getIndex(this.tilesets,y);return x!==null?this.tilesets[x]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,x,T){return T=this.getLayer(T),T===null?null:f.HasTileAt(y,x,T)},hasTileAtWorldXY:function(y,x,T,C){return C=this.getLayer(C),C===null?null:f.HasTileAtWorldXY(y,x,T,C)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,x,T,C,A){return C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:f.PutTileAt(y,x,T,C,A)},putTileAtWorldXY:function(y,x,T,C,A,w){return C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:f.PutTileAtWorldXY(y,x,T,C,A,w)},putTilesAt:function(y,x,T,C,A){return C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(f.PutTilesAt(y,x,T,C,A),this)},randomize:function(y,x,T,C,A,w){return w=this.getLayer(w),w===null?null:(f.Randomize(y,x,T,C,A,w),this)},calculateFacesAt:function(y,x,T){return T=this.getLayer(T),T===null?null:(f.CalculateFacesAt(y,x,T),this)},calculateFacesWithin:function(y,x,T,C,A){return A=this.getLayer(A),A===null?null:(f.CalculateFacesWithin(y,x,T,C,A),this)},removeLayer:function(y){var x=this.getLayerIndex(y);if(x!==null){h(this.layers,x);for(var T=x;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===x&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var x=this.getLayerIndex(y);return x!==null?(y=this.layers[x],y.tilemapLayer.destroy(),h(this.layers,x),this.currentLayerIndex===x&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,x=0;x<y.length;x++)y[x].tilemapLayer&&y[x].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,x,T){x===void 0&&(x=-1),T===void 0&&(T=!0);var C=[];Array.isArray(y)||(y=[y]);for(var A=0;A<y.length;A++){var w=y[A];C.push(this.removeTileAt(w.x,w.y,!0,T,w.tilemapLayer)),x>-1&&this.putTileAt(x,w.x,w.y,T,w.tilemapLayer)}return C},removeTileAt:function(y,x,T,C,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:f.RemoveTileAt(y,x,T,C,A)},removeTileAtWorldXY:function(y,x,T,C,A,w){return T===void 0&&(T=!0),C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:f.RemoveTileAtWorldXY(y,x,T,C,A,w)},renderDebug:function(y,x,T){return T=this.getLayer(T),T===null?null:(this.orientation===o.ORTHOGONAL&&f.RenderDebug(y,x,T),this)},renderDebugFull:function(y,x){for(var T=this.layers,C=0;C<T.length;C++)f.RenderDebug(y,x,T[C]);return this},replaceByIndex:function(y,x,T,C,A,w,P){return P=this.getLayer(P),P===null?null:(f.ReplaceByIndex(y,x,T,C,A,w,P),this)},setCollision:function(y,x,T,C,A){return x===void 0&&(x=!0),T===void 0&&(T=!0),A===void 0&&(A=!0),C=this.getLayer(C),C===null?null:(f.SetCollision(y,x,T,C,A),this)},setCollisionBetween:function(y,x,T,C,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A=this.getLayer(A),A===null?null:(f.SetCollisionBetween(y,x,T,C,A),this)},setCollisionByProperty:function(y,x,T,C){return x===void 0&&(x=!0),T===void 0&&(T=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionByProperty(y,x,T,C),this)},setCollisionByExclusion:function(y,x,T,C){return x===void 0&&(x=!0),T===void 0&&(T=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionByExclusion(y,x,T,C),this)},setCollisionFromCollisionGroup:function(y,x,T){return y===void 0&&(y=!0),x===void 0&&(x=!0),T=this.getLayer(T),T===null?null:(f.SetCollisionFromCollisionGroup(y,x,T),this)},setTileIndexCallback:function(y,x,T,C){return C=this.getLayer(C),C===null?null:(f.SetTileIndexCallback(y,x,T,C),this)},setTileLocationCallback:function(y,x,T,C,A,w,P){return P=this.getLayer(P),P===null?null:(f.SetTileLocationCallback(y,x,T,C,A,w,P),this)},setLayer:function(y){var x=this.getLayerIndex(y);return x!==null&&(this.currentLayerIndex=x),this},setBaseTileSize:function(y,x){this.tileWidth=y,this.tileHeight=x,this.widthInPixels=this.width*y,this.heightInPixels=this.height*x;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=y,this.layers[T].baseTileHeight=x;for(var C=this.layers[T].data,A=this.layers[T].width,w=this.layers[T].height,P=0;P<w;P++)for(var M=0;M<A;M++){var R=C[P][M];R!==null&&R.setSize(void 0,void 0,y,x)}}return this},setLayerTileSize:function(y,x,T){if(T=this.getLayer(T),T===null)return this;T.tileWidth=y,T.tileHeight=x;for(var C=T.data,A=T.width,w=T.height,P=0;P<w;P++)for(var M=0;M<A;M++){var R=C[P][M];R!==null&&R.setSize(y,x)}return this},shuffle:function(y,x,T,C,A){return A=this.getLayer(A),A===null?null:(f.Shuffle(y,x,T,C,A),this)},swapByIndex:function(y,x,T,C,A,w,P){return P=this.getLayer(P),P===null?null:(f.SwapByIndex(y,x,T,C,A,w,P),this)},tileToWorldX:function(y,x,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldX(y,x,T)},tileToWorldY:function(y,x,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldY(y,x,T)},tileToWorldXY:function(y,x,T,C,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(y,x,T,C,A)},getTileCorners:function(y,x,T,C){return C=this.getLayer(C),C===null?null:this._convert.GetTileCorners(y,x,T,C)},weightedRandomize:function(y,x,T,C,A,w){return w=this.getLayer(w),w===null?null:(f.WeightedRandomize(x,T,C,A,y,w),this)},worldToTileX:function(y,x,T,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileX(y,x,T,C)},worldToTileY:function(y,x,T,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileY(y,x,T,C)},worldToTileXY:function(y,x,T,C,A,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileXY(y,x,T,C,A,w)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=m},45939:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44603),v=t(31989);l.register("tilemap",function(a){var r=a!==void 0?a:{};return v(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39429),v=t(31989);l.register("tilemap",function(a,r,n,e,s,o,i){return a===null&&(a=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),s===null&&(s=void 0),v(this.scene,a,r,n,e,s,o,i)})},20442:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(78389),a=t(31401),r=t(95643),n=t(81086),e=t(19218),s=t(26099),o=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,v,e],initialize:function(h,u,d,f,c,g){r.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=d,this.layer=u.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new s,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(f),this.setAlpha(this.layer.alpha),this.setPosition(c,g),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var h=[],u=[],d=this.tilemap;Array.isArray(i)||(i=[i]);for(var f=0;f<i.length;f++){var c=i[f];if(typeof c=="string"&&(c=d.getTileset(c)),c){u.push(c);for(var g=c.firstgid,m=0;m<c.total;m++)h[g+m]=c}}this.gidMap=h,this.tileset=u},setRenderOrder:function(i){var h=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=h.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,h){return n.CalculateFacesAt(i,h,this.layer),this},calculateFacesWithin:function(i,h,u,d){return n.CalculateFacesWithin(i,h,u,d,this.layer),this},createFromTiles:function(i,h,u,d,f){return n.CreateFromTiles(i,h,u,d,f,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,h,u,d,f,c,g){return n.Copy(i,h,u,d,f,c,g,this.layer),this},fill:function(i,h,u,d,f,c){return n.Fill(i,h,u,d,f,c,this.layer),this},filterTiles:function(i,h,u,d,f,c,g){return n.FilterTiles(i,h,u,d,f,c,g,this.layer)},findByIndex:function(i,h,u){return n.FindByIndex(i,h,u,this.layer)},findTile:function(i,h,u,d,f,c,g){return n.FindTile(i,h,u,d,f,c,g,this.layer)},forEachTile:function(i,h,u,d,f,c,g){return n.ForEachTile(i,h,u,d,f,c,g,this.layer),this},setTint:function(i,h,u,d,f,c){i===void 0&&(i=16777215);var g=function(m){m.tint=i,m.tintFill=!1};return this.forEachTile(g,this,h,u,d,f,c)},setTintFill:function(i,h,u,d,f,c){i===void 0&&(i=16777215);var g=function(m){m.tint=i,m.tintFill=!0};return this.forEachTile(g,this,h,u,d,f,c)},getTileAt:function(i,h,u){return n.GetTileAt(i,h,u,this.layer)},getTileAtWorldXY:function(i,h,u,d){return n.GetTileAtWorldXY(i,h,u,d,this.layer)},getIsoTileAtWorldXY:function(i,h,u,d,f){u===void 0&&(u=!0);var c=this.tempVec;return n.IsometricWorldToTileXY(i,h,!0,c,f,this.layer,u),this.getTileAt(c.x,c.y,d)},getTilesWithin:function(i,h,u,d,f){return n.GetTilesWithin(i,h,u,d,f,this.layer)},getTilesWithinShape:function(i,h,u){return n.GetTilesWithinShape(i,h,u,this.layer)},getTilesWithinWorldXY:function(i,h,u,d,f,c){return n.GetTilesWithinWorldXY(i,h,u,d,f,c,this.layer)},hasTileAt:function(i,h){return n.HasTileAt(i,h,this.layer)},hasTileAtWorldXY:function(i,h,u){return n.HasTileAtWorldXY(i,h,u,this.layer)},putTileAt:function(i,h,u,d){return n.PutTileAt(i,h,u,d,this.layer)},putTileAtWorldXY:function(i,h,u,d,f){return n.PutTileAtWorldXY(i,h,u,d,f,this.layer)},putTilesAt:function(i,h,u,d){return n.PutTilesAt(i,h,u,d,this.layer),this},randomize:function(i,h,u,d,f){return n.Randomize(i,h,u,d,f,this.layer),this},removeTileAt:function(i,h,u,d){return n.RemoveTileAt(i,h,u,d,this.layer)},removeTileAtWorldXY:function(i,h,u,d,f){return n.RemoveTileAtWorldXY(i,h,u,d,f,this.layer)},renderDebug:function(i,h){return n.RenderDebug(i,h,this.layer),this},replaceByIndex:function(i,h,u,d,f,c){return n.ReplaceByIndex(i,h,u,d,f,c,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,h){return i===void 0&&(i=1),h===void 0&&(h=1),this.cullPaddingX=i,this.cullPaddingY=h,this},setCollision:function(i,h,u,d){return n.SetCollision(i,h,u,this.layer,d),this},setCollisionBetween:function(i,h,u,d){return n.SetCollisionBetween(i,h,u,d,this.layer),this},setCollisionByProperty:function(i,h,u){return n.SetCollisionByProperty(i,h,u,this.layer),this},setCollisionByExclusion:function(i,h,u){return n.SetCollisionByExclusion(i,h,u,this.layer),this},setCollisionFromCollisionGroup:function(i,h){return n.SetCollisionFromCollisionGroup(i,h,this.layer),this},setTileIndexCallback:function(i,h,u){return n.SetTileIndexCallback(i,h,u,this.layer),this},setTileLocationCallback:function(i,h,u,d,f,c){return n.SetTileLocationCallback(i,h,u,d,f,c,this.layer),this},shuffle:function(i,h,u,d){return n.Shuffle(i,h,u,d,this.layer),this},swapByIndex:function(i,h,u,d,f,c){return n.SwapByIndex(i,h,u,d,f,c,this.layer),this},tileToWorldX:function(i,h){return this.tilemap.tileToWorldX(i,h,this)},tileToWorldY:function(i,h){return this.tilemap.tileToWorldY(i,h,this)},tileToWorldXY:function(i,h,u,d){return this.tilemap.tileToWorldXY(i,h,u,d,this)},getTileCorners:function(i,h,u){return this.tilemap.getTileCorners(i,h,u,this)},weightedRandomize:function(i,h,u,d,f){return n.WeightedRandomize(h,u,d,f,i,this.layer),this},worldToTileX:function(i,h,u){return this.tilemap.worldToTileX(i,h,u,this)},worldToTileY:function(i,h,u){return this.tilemap.worldToTileY(i,h,u,this)},worldToTileXY:function(i,h,u,d,f){return this.tilemap.worldToTileXY(i,h,u,d,f,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});p.exports=o},16153:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61340),v=new l,a=new l,r=new l,n=function(e,s,o,i){var h=s.cull(o),u=h.length,d=o.alpha*s.alpha;if(!(u===0||d<=0)){var f=v,c=a,g=r;c.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),f.copyFrom(o.matrix);var m=e.currentContext,y=s.gidMap;m.save(),i?(f.multiplyWithOffset(i,-o.scrollX*s.scrollFactorX,-o.scrollY*s.scrollFactorY),c.e=s.x,c.f=s.y,f.multiply(c,g),g.copyToContext(m)):(c.e-=o.scrollX*s.scrollFactorX,c.f-=o.scrollY*s.scrollFactorY,c.copyToContext(m)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(m.imageSmoothingEnabled=!1);for(var x=0;x<u;x++){var T=h[x],C=y[T.index];if(C){var A=C.image.getSourceImage(),w=C.getTileTextureCoordinates(T.index),P=C.tileWidth,M=C.tileHeight;if(!(w===null||P===0||M===0)){var R=P*.5,O=M*.5;w.x+=C.tileOffset.x,w.y+=C.tileOffset.y,m.save(),m.translate(T.pixelX+R,T.pixelY+O),T.rotation!==0&&m.rotate(T.rotation),(T.flipX||T.flipY)&&m.scale(T.flipX?-1:1,T.flipY?-1:1),m.globalAlpha=d*T.alpha,m.drawImage(A,w.x,w.y,P,M,-R,-O,P,M),m.restore()}}}m.restore()}};p.exports=n},19218:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29747),v=l,a=l;v=t(99558),a=t(16153),p.exports={renderWebGL:v,renderCanvas:a}},99558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70554),v=function(a,r,n){var e=r.cull(n),s=e.length,o=n.alpha*r.alpha;if(!(s===0||o<=0)){var i=r.gidMap,h=a.pipelines.set(r.pipeline,r),u=l.getTintAppendFloatAlpha,d=r.scrollFactorX,f=r.scrollFactorY,c=r.x,g=r.y,m=r.scaleX,y=r.scaleY;a.pipelines.preBatch(r);for(var x=0;x<s;x++){var T=e[x],C=i[T.index];if(C){var A=C.getTileTextureCoordinates(T.index),w=C.tileWidth,P=C.tileHeight;if(!(!A||w===0||P===0)){var M=w*.5,R=P*.5,O=C.glTexture,U=h.setTexture2D(O,r),X=w,W=P,Y=A.x,N=A.y,z=C.tileOffset.x,B=C.tileOffset.y,I=u(T.tint,o*T.alpha);h.batchTexture(r,O,O.width,O.height,c+T.pixelX*m+(M*m-z),g+T.pixelY*y+(R*y-B),w,P,m,y,T.rotation,T.flipX,T.flipY,d,f,M,R,Y,N,X,W,I,I,I,I,T.tintFill,0,0,n,null,!0,U,!0)}}}a.pipelines.postBatch(r)}};p.exports=v},33629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(26099),a=new l({initialize:function(n,e,s,o,i,h,u,d,f){(s===void 0||s<=0)&&(s=32),(o===void 0||o<=0)&&(o=32),i===void 0&&(i=0),h===void 0&&(h=0),u===void 0&&(u={}),d===void 0&&(d={}),this.name=n,this.firstgid=e,this.tileWidth=s,this.tileHeight=o,this.tileMargin=i,this.tileSpacing=h,this.tileProperties=u,this.tileData=d,this.tileOffset=new v,f!==void 0&&this.tileOffset.set(f.x,f.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var n=this.getTileData(r);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var n=r.get(),e=r.getFrameBounds();return this.glTexture=n.source.glTexture,n.width>e.width||n.height>e.height?this.updateTileData(n.width,n.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(r,n){return r!==void 0&&(this.tileWidth=r),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,n){return r!==void 0&&(this.tileMargin=r),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=0);var o=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(o%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),o=Math.floor(o),i=Math.floor(i),this.rows=o,this.columns=i,this.total=o*i,this.texCoordinates.length=0;for(var h=this.tileMargin+e,u=this.tileMargin+s,d=0;d<this.rows;d++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:h,y:u}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,u+=this.tileHeight+this.tileSpacing}return this}});p.exports=a},72023:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),v=function(a,r,n){var e=l(a,r,!0,n),s=l(a,r-1,!0,n),o=l(a,r+1,!0,n),i=l(a-1,r,!0,n),h=l(a+1,r,!0,n),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(u&&(e.faceTop=!1),s.faceBottom=!u),o&&o.collides&&(u&&(e.faceBottom=!1),o.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),h&&h.collides&&(u&&(e.faceRight=!1),h.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};p.exports=v},42573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),v=t(7386),a=function(r,n,e,s,o){for(var i=null,h=null,u=null,d=null,f=v(r,n,e,s,null,o),c=0;c<f.length;c++){var g=f[c];g&&(g.collides?(i=l(g.x,g.y-1,!0,o),h=l(g.x,g.y+1,!0,o),u=l(g.x-1,g.y,!0,o),d=l(g.x+1,g.y,!0,o),g.faceTop=!(i&&i.collides),g.faceBottom=!(h&&h.collides),g.faceLeft=!(u&&u.collides),g.faceRight=!(d&&d.collides)):g.resetFaces())}};p.exports=a},33528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=new l,a=function(r,n,e,s){var o=e.tilemapLayer,i=o.cullPaddingX,h=o.cullPaddingY,u=o.tilemap.tileToWorldXY(r,n,v,s,o);return u.x>s.worldView.x+o.scaleX*e.tileWidth*(-i-.5)&&u.x<s.worldView.right+o.scaleX*e.tileWidth*(i-.5)&&u.y>s.worldView.y+o.scaleY*e.tileHeight*(-h-1)&&u.y<s.worldView.bottom+o.scaleY*e.tileHeight*(h-.5)};p.exports=a},1785:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42573),v=t(7386),a=t(62991),r=t(23029),n=function(e,s,o,i,h,u,d,f){d===void 0&&(d=!0);var c=v(e,s,o,i,null,f),g=[];c.forEach(function(w){var P=new r(w.layer,w.index,w.x,w.y,w.width,w.height,w.baseWidth,w.baseHeight);P.copy(w),g.push(P)});for(var m=h-e,y=u-s,x=0;x<g.length;x++){var T=g[x],C=T.x+m,A=T.y+y;a(C,A,f)&&f.data[A][C]&&(T.x=C,T.y=A,T.updatePixelXY(),f.data[A][C]=T)}d&&l(h-1,u-1,o+2,i+2,f),c.length=0,g.length=0};p.exports=n},78419:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62644),v=t(7386),a=t(27987),r=function(n,e,s,o,i,h){s||(s={}),Array.isArray(n)||(n=[n]);var u=h.tilemapLayer;o||(o=u.scene),i||(i=o.cameras.main);var d=h.width,f=h.height,c=v(0,0,d,f,null,h),g=[],m,y=function(A,w,P){for(var M=0;M<P.length;M++){var R=P[M];A.hasOwnProperty(R)||(A[R]=w[R])}};for(m=0;m<c.length;m++){var x=c[m],T=l(s);if(n.indexOf(x.index)!==-1){var C=u.tileToWorldXY(x.x,x.y,void 0,i,h);T.x=C.x,T.y=C.y,y(T,x,["rotation","flipX","flipY","alpha","visible","tint"]),T.hasOwnProperty("origin")||(T.x+=x.width*.5,T.y+=x.height*.5),T.hasOwnProperty("useSpriteSheet")&&(T.key=x.tileset.image,T.frame=x.index-1),g.push(o.make.sprite(T))}}if(Array.isArray(e))for(m=0;m<n.length;m++)a(n[m],e[m],0,0,d,f,h);else if(e!==null)for(m=0;m<n.length;m++)a(n[m],e,0,0,d,f,h);return g};p.exports=r},19545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87841),v=t(63448),a=t(56583),r=new l,n=function(e,s){var o=e.tilemapLayer.tilemap,i=e.tilemapLayer,h=Math.floor(o.tileWidth*i.scaleX),u=Math.floor(o.tileHeight*i.scaleY),d=a(s.worldView.x-i.x,h,0,!0)-i.cullPaddingX,f=v(s.worldView.right-i.x,h,0,!0)+i.cullPaddingX,c=a(s.worldView.y-i.y,u,0,!0)-i.cullPaddingY,g=v(s.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return r.setTo(d,c,f-d,g-c)};p.exports=n},30003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19545),v=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=l(r,n);return(o.skipCull||o.scrollFactorX!==1||o.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=a},35137:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(42573),a=t(20576),r=function(n,e,s,o,i,h,u){for(var d=u.collideIndexes.indexOf(n)!==-1,f=l(e,s,o,i,null,u),c=0;c<f.length;c++)f[c].index=n,a(f[c],d);h&&v(e-1,s-1,o+2,i+2,u)};p.exports=r},40253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,n,e,s,o,i,h){var u=l(n,e,s,o,i,h);return u.filter(a,r)};p.exports=v},52692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){l===void 0&&(l=0),v===void 0&&(v=!1);var r=0,n,e,s;if(v){for(e=a.height-1;e>=0;e--)for(n=a.width-1;n>=0;n--)if(s=a.data[e][n],s&&s.index===t){if(r===l)return s;r+=1}}else for(e=0;e<a.height;e++)for(n=0;n<a.width;n++)if(s=a.data[e][n],s&&s.index===t){if(r===l)return s;r+=1}return null};p.exports=S},66151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,n,e,s,o,i,h){var u=l(n,e,s,o,i,h);return u.find(a,r)||null};p.exports=v},97560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,n,e,s,o,i,h){var u=l(n,e,s,o,i,h);u.forEach(a,r)};p.exports=v},43305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(30003),a=t(9474),r=t(14018),n=t(29747),e=t(54503),s=function(o){return o===l.ORTHOGONAL?v:o===l.HEXAGONAL?a:o===l.STAGGERED?e:o===l.ISOMETRIC?r:n};p.exports=s},7423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62991),v=function(a,r,n,e){if(l(a,r,e)){var s=e.data[r][a]||null;return s?s.index===-1?n?s:null:s:null}else return null};p.exports=v},60540:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7423),v=t(26099),a=new v,r=function(n,e,s,o,i){return i.tilemapLayer.worldToTileXY(n,e,!0,a,o),l(a.x,a.y,s,i)};p.exports=r},55826:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e){var s=e.baseTileWidth,o=e.baseTileHeight,i=e.tilemapLayer,h=0,u=0;i&&(n||(n=i.scene.cameras.main),h=i.x+n.scrollX*(1-i.scrollFactorX),u=i.y+n.scrollY*(1-i.scrollFactorY),s*=i.scaleX,o*=i.scaleY);var d=h+a*s,f=u+r*o;return[new l(d,f),new l(d+s,f),new l(d+s,f+o),new l(d,f+o)]};p.exports=v},11758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(27229),a=t(29747),r=t(55826),n=function(e){return e===l.ORTHOGONAL?r:e===l.ISOMETRIC?a:e===l.HEXAGONAL?v:(e===l.STAGGERED,a)};p.exports=n},39167:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(29747),a=t(97281),r=function(n){return n===l.ORTHOGONAL?a:v};p.exports=r},62e3:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(19951),a=t(14127),r=t(29747),n=t(97202),e=t(70326),s=function(o){return o===l.ORTHOGONAL?e:o===l.ISOMETRIC?a:o===l.HEXAGONAL?v:o===l.STAGGERED?n:r};p.exports=s},5984:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(29747),a=t(28054),r=t(29650),n=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:v};p.exports=n},7386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,n,e,s,o){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=o.width),e===void 0&&(e=o.height),s||(s={});var i=l(s,"isNotEmpty",!1),h=l(s,"isColliding",!1),u=l(s,"hasInterestingFace",!1);a<0&&(n+=a,a=0),r<0&&(e+=r,r=0),a+n>o.width&&(n=Math.max(o.width-a,0)),r+e>o.height&&(e=Math.max(o.height-r,0));for(var d=[],f=r;f<r+e;f++)for(var c=a;c<a+n;c++){var g=o.data[f][c];if(g!==null){if(i&&g.index===-1||h&&!g.collides||u&&!g.hasInterestingFace)continue;d.push(g)}}return d};p.exports=v},91141:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55738),v=t(7386),a=t(91865),r=t(29747),n=t(26099),e=t(91907),s=function(d,f){return a.RectangleToTriangle(f,d)},o=new n,i=new n,h=new n,u=function(d,f,c,g){if(g.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(d===void 0)return[];var m=r;d instanceof l.Circle?m=a.CircleToRectangle:d instanceof l.Rectangle?m=a.RectangleToRectangle:d instanceof l.Triangle?m=s:d instanceof l.Line&&(m=a.LineToRectangle),g.tilemapLayer.worldToTileXY(d.left,d.top,!0,i,c);var y=i.x,x=i.y;g.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,h,c);var T=Math.ceil(h.x),C=Math.ceil(h.y),A=Math.max(T-y,1),w=Math.max(C-x,1),P=v(y,x,A,w,f,g),M=g.tileWidth,R=g.tileHeight;g.tilemapLayer&&(M*=g.tilemapLayer.scaleX,R*=g.tilemapLayer.scaleY);for(var O=[],U=new l.Rectangle(0,0,M,R),X=0;X<P.length;X++){var W=P[X];g.tilemapLayer.tileToWorldXY(W.x,W.y,o,c),U.x=o.x,U.y=o.y,m(d,U)&&O.push(W)}return O};p.exports=u},96523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(26099),a=new v,r=new v,n=function(e,s,o,i,h,u,d){var f=d.tilemapLayer.tilemap._convert.WorldToTileXY;f(e,s,!0,a,u,d);var c=a.x,g=a.y;f(e+o,s+i,!1,r,u,d);var m=Math.ceil(r.x),y=Math.ceil(r.y);return l(c,g,m-c,y-g,h,d)};p.exports=n},96113:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(20242),a=t(10095),r=function(n){return n===l.ORTHOGONAL?a:v};p.exports=r},16926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(86625),a=t(96897),r=t(29747),n=t(15108),e=t(85896),s=function(o){return o===l.ORTHOGONAL?e:o===l.ISOMETRIC?a:o===l.HEXAGONAL?v:o===l.STAGGERED?n:r};p.exports=s},55762:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=t(20242),a=t(51900),r=t(63288),n=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:v};p.exports=n},45091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62991),v=function(a,r,n){if(l(a,r,n)){var e=n.data[r][a];return e!==null&&e.index>-1}else return!1};p.exports=v},24152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45091),v=t(26099),a=new v,r=function(n,e,s,o){o.tilemapLayer.worldToTileXY(n,e,!0,a,s);var i=a.x,h=a.y;return l(i,h,o)};p.exports=r},90454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63448),v=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),h=r.hexSideLength,u,d,f,c;if(r.staggerAxis==="y"){var g=(i-h)/2+h;u=v(n.worldView.x-s.x,o,0,!0)-s.cullPaddingX,d=l(n.worldView.right-s.x,o,0,!0)+s.cullPaddingX,f=v(n.worldView.y-s.y,g,0,!0)-s.cullPaddingY,c=l(n.worldView.bottom-s.y,g,0,!0)+s.cullPaddingY}else{var m=(o-h)/2+h;u=v(n.worldView.x-s.x,m,0,!0)-s.cullPaddingX,d=l(n.worldView.right-s.x,m,0,!0)+s.cullPaddingX,f=v(n.worldView.y-s.y,i,0,!0)-s.cullPaddingY,c=l(n.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:u,right:d,top:f,bottom:c}};p.exports=a},9474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90454),v=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=l(r,n);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=a},27229:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19951),v=t(26099),a=new v,r=function(n,e,s,o){var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(i*=u.scaleX,h*=u.scaleY);var d=l(n,e,a,s,o),f=[],c=.5773502691896257,g,m;o.staggerAxis==="y"?(g=c*i,m=h/2):(g=i/2,m=c*h);for(var y=0;y<6;y++){var x=2*Math.PI*(.5-y)/6;f.push(new v(d.x+g*Math.cos(x),d.y+m*Math.sin(x)))}return f};p.exports=r},19951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s){n||(n=new l);var o=s.baseTileWidth,i=s.baseTileHeight,h=s.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),d=h.y+e.scrollY*(1-h.scrollFactorY),o*=h.scaleX,i*=h.scaleY);var f=o/2,c=i/2,g,m,y=s.staggerAxis,x=s.staggerIndex;return y==="y"?(g=u+o*a+o,m=d+1.5*r*c+c,r%2===0&&(x==="odd"?g-=f:g+=f)):y==="x"&&x==="odd"&&(g=u+1.5*a*f+f,m=d+i*a+i,a%2===0&&(x==="odd"?m-=c:m+=c)),n.set(g,m)};p.exports=v},86625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s,o){e||(e=new l);var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var d=.5773502691896257,f=-.3333333333333333,c=0,g=.6666666666666666,m=i/2,y=h/2,x,T,C,A,w;o.staggerAxis==="y"?(x=(a-m)/(d*i),T=(r-y)/y,C=d*x+f*T,A=c*x+g*T):(x=(a-m)/m,T=(r-y)/(d*h),C=f*x+d*T,A=g*x+c*T),w=-C-A;var P=Math.round(C),M=Math.round(A),R=Math.round(w),O=Math.abs(P-C),U=Math.abs(M-A),X=Math.abs(R-w);O>U&&O>X?P=-M-R:U>X&&(M=-P-R);var W,Y=M;return o.staggerIndex==="odd"?W=Y%2===0?M/2+P:M/2+P-.5:W=Y%2===0?M/2+P:M/2+P+.5,e.set(W,Y)};p.exports=v},62991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t>=0&&t<v.width&&l>=0&&l<v.height};p.exports=S},14018:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33528),v=function(a,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var s=a.tilemapLayer,o=a.data,i=a.width,h=a.height,u=s.skipCull,d=0,f=i,c=0,g=h,m,y,x;if(e===0)for(y=c;y<g;y++)for(m=d;m<f;m++)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));else if(e===1)for(y=c;y<g;y++)for(m=f;m>=d;m--)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));else if(e===2)for(y=g;y>=c;y--)for(m=d;m<f;m++)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));else if(e===3)for(y=g;y>=c;y--)for(m=f;m>=d;m--)x=o[y][m],!(!x||x.index===-1||!x.visible||x.alpha===0)&&(!u&&!l(m,y,a,r)||n.push(x));return s.tilesDrawn=n.length,s.tilesTotal=i*h,n};p.exports=v},14127:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s){n||(n=new l);var o=s.baseTileWidth,i=s.baseTileHeight,h=s.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),o*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var f=u+(a-r)*(o/2),c=d+(a+r)*(i/2);return n.set(f,c)};p.exports=v},96897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s,o,i){e||(e=new l);var h=o.baseTileWidth,u=o.baseTileHeight,d=o.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,a=a-(d.x+s.scrollX*(1-d.scrollFactorX)),h*=d.scaleX);var f=h/2,c=u/2;a=a-f,i||(r=r-u);var g=.5*(a/f+r/c),m=.5*(-a/f+r/c);return n&&(g=Math.floor(g),m=Math.floor(m)),e.set(g,m)};p.exports=v},71558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23029),v=t(62991),a=t(72023),r=t(20576),n=function(e,s,o,i,h){if(i===void 0&&(i=!0),!v(s,o,h))return null;var u,d=h.data[o][s],f=d&&d.collides;e instanceof l?(h.data[o][s]===null&&(h.data[o][s]=new l(h,e.index,s,o,h.tileWidth,h.tileHeight)),h.data[o][s].copy(e)):(u=e,h.data[o][s]===null?h.data[o][s]=new l(h,u,s,o,h.tileWidth,h.tileHeight):h.data[o][s].index=u);var c=h.data[o][s],g=h.collideIndexes.indexOf(c.index)!==-1;if(u=e instanceof l?e.index:e,u===-1)c.width=h.tileWidth,c.height=h.tileHeight;else{var m=h.tilemapLayer.tilemap,y=m.tiles,x=y[u][2],T=m.tilesets[x];c.width=T.tileWidth,c.height=T.tileHeight}return r(c,g),i&&f!==c.collides&&a(s,o,h),c};p.exports=n},26303:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71558),v=t(26099),a=new v,r=function(n,e,s,o,i,h){return h.tilemapLayer.worldToTileXY(e,s,!0,a,i,h),l(n,a.x,a.y,o,h)};p.exports=r},14051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42573),v=t(71558),a=function(r,n,e,s,o){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,h=r[0].length,u=0;u<i;u++)for(var d=0;d<h;d++){var f=r[u][d];v(f,n+d,e+u,!1,o)}s&&l(n-1,e-1,h+2,i+2,o)};p.exports=a},77389:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(26546),a=function(r,n,e,s,o,i){var h,u=l(r,n,e,s,{},i);if(!o)for(o=[],h=0;h<u.length;h++)o.indexOf(u[h].index)===-1&&o.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=v(o)};p.exports=a},63557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23029),v=t(62991),a=t(72023),r=function(n,e,s,o,i){if(s===void 0&&(s=!0),o===void 0&&(o=!0),!v(n,e,i))return null;var h=i.data[e][n];if(h)i.data[e][n]=s?null:new l(i,-1,n,e,i.tileWidth,i.tileHeight);else return null;return o&&h&&h.collides&&a(n,e,i),h};p.exports=r},94178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63557),v=t(26099),a=new v,r=function(n,e,s,o,i,h){return h.tilemapLayer.worldToTileXY(n,e,!0,a,i,h),l(a.x,a.y,s,o,h)};p.exports=r},15533:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(3956),a=new v(105,210,231,150),r=new v(243,134,48,200),n=new v(40,39,37,150),e=function(s,o,i){o===void 0&&(o={});var h=o.tileColor!==void 0?o.tileColor:a,u=o.collidingTileColor!==void 0?o.collidingTileColor:r,d=o.faceColor!==void 0?o.faceColor:n,f=l(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<f.length;c++){var g=f[c],m=g.tileset?g.tileset.tileOffset:{x:0,y:0},y=g.width,x=g.height,T=g.pixelX-m.x,C=g.pixelY-m.y,A=g.collides?u:h;A!==null&&(s.fillStyle(A.color,A.alpha/255),s.fillRect(T,C,y,x)),T+=1,C+=1,y-=2,x-=2,d!==null&&(s.lineStyle(1,d.color,d.alpha/255),g.faceTop&&s.lineBetween(T,C,T+y,C),g.faceRight&&s.lineBetween(T+y,C,T+y,C+x),g.faceBottom&&s.lineBetween(T,C+x,T+y,C+x),g.faceLeft&&s.lineBetween(T,C,T,C+x))}};p.exports=e},27987:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,n,e,s,o,i){for(var h=l(n,e,s,o,null,i),u=0;u<h.length;u++)h[u]&&h[u].index===a&&(h[u].index=r)};p.exports=v},32483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=t.data,n=t.width,e=t.height,s=t.tilemapLayer,o=Math.max(0,l.left),i=Math.min(n,l.right),h=Math.max(0,l.top),u=Math.min(e,l.bottom),d,f,c;if(v===0)for(f=h;f<u;f++)for(d=o;r[f]&&d<i;d++)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===1)for(f=h;f<u;f++)for(d=i;r[f]&&d>=o;d--)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===2)for(f=u;f>=h;f--)for(d=o;r[f]&&d<i;d++)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);else if(v===3)for(f=u;f>=h;f--)for(d=i;r[f]&&d>=o;d--)c=r[f][d],!(!c||c.index===-1||!c.visible||c.alpha===0)&&a.push(c);return s.tilesDrawn=a.length,s.tilesTotal=n*e,a};p.exports=S},57068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(9589),r=function(n,e,s,o,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++)a(n[h],e,o);if(i)for(var u=0;u<o.height;u++)for(var d=0;d<o.width;d++){var f=o.data[u][d];f&&n.indexOf(f.index)!==-1&&l(f,e)}s&&v(0,0,o.width,o.height,o)};p.exports=r},37266:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(9589),r=function(n,e,s,o,i,h){if(s===void 0&&(s=!0),o===void 0&&(o=!0),h===void 0&&(h=!0),!(n>e)){for(var u=n;u<=e;u++)a(u,s,i);if(h)for(var d=0;d<i.height;d++)for(var f=0;f<i.width;f++){var c=i.data[d][f];c&&c.index>=n&&c.index<=e&&l(c,s)}o&&v(0,0,i.width,i.height,i)}};p.exports=r},75661:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(9589),r=function(n,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(n)||(n=[n]);for(var i=0;i<o.height;i++)for(var h=0;h<o.width;h++){var u=o.data[i][h];u&&n.indexOf(u.index)===-1&&(l(u,e),a(u.index,e,o))}s&&v(0,0,o.width,o.height,o)};p.exports=r},64740:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=t(97022),r=function(n,e,s,o){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<o.height;i++)for(var h=0;h<o.width;h++){var u=o.data[i][h];if(u){for(var d in n)if(a(u.properties,d)){var f=n[d];Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)u.properties[d]===f[c]&&l(u,e)}}}s&&v(0,0,o.width,o.height,o)};p.exports=r},63307:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20576),v=t(42573),a=function(r,n,e){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var s=0;s<e.height;s++)for(var o=0;o<e.width;o++){var i=e.data[s][o];if(i){var h=i.getCollisionGroup();h&&h.objects&&h.objects.length>0&&l(i,r)}}n&&v(0,0,e.width,e.height,e)};p.exports=a},9589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=v.collideIndexes.indexOf(t);l&&a===-1?v.collideIndexes.push(t):!l&&a!==-1&&v.collideIndexes.splice(a,1)};p.exports=S},20576:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=S},79583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){if(typeof t=="number")a.callbacks[t]=l!==null?{callback:l,callbackContext:v}:void 0;else for(var r=0,n=t.length;r<n;r++)a.callbacks[t[r]]=l!==null?{callback:l,callbackContext:v}:void 0};p.exports=S},93254:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,n,e,s,o,i){for(var h=l(a,r,n,e,null,i),u=0;u<h.length;u++)h[u].setCollisionCallback(s,o)};p.exports=v},32903:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(33680),a=function(r,n,e,s,o){var i=l(r,n,e,s,null,o),h=i.map(function(d){return d.index});v(h);for(var u=0;u<i.length;u++)i[u].index=h[u]};p.exports=a},61325:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63448),v=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,o=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),h=v(n.worldView.x-s.x,o,0,!0)-s.cullPaddingX,u=l(n.worldView.right-s.x,o,0,!0)+s.cullPaddingX,d=v(n.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,f=l(n.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:h,right:u,top:d,bottom:f}};p.exports=a},54503:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61325),v=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var o=r.tilemapLayer,i=l(r,n);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),v(r,i,s,e),e};p.exports=a},97202:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s){n||(n=new l);var o=s.baseTileWidth,i=s.baseTileHeight,h=s.tilemapLayer,u=0,d=0;h&&(e||(e=h.scene.cameras.main),u=h.x+e.scrollX*(1-h.scrollFactorX),o*=h.scaleX,d=h.y+e.scrollY*(1-h.scrollFactorY),i*=h.scaleY);var f=u+a*o+r%2*(o/2),c=d+r*(i/2);return n.set(f,c)};p.exports=v},28054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=v.baseTileHeight,r=v.tilemapLayer,n=0;return r&&(l===void 0&&(l=r.scene.cameras.main),n=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*(a/2)+a};p.exports=S},15108:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s,o){e||(e=new l);var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),h*=u.scaleY,a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var d=n?Math.floor(r/(h/2)):r/(h/2),f=n?Math.floor((a+d%2*.5*i)/i):(a+d%2*.5*i)/i;return e.set(f,d)};p.exports=v},51900:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=a.baseTileHeight,n=a.tilemapLayer;return n&&(v||(v=n.scene.cameras.main),t=t-(n.y+v.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),l?Math.floor(t/(r/2)):t/(r/2)};p.exports=S},86560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=function(a,r,n,e,s,o,i){for(var h=l(n,e,s,o,null,i),u=0;u<h.length;u++)h[u]&&(h[u].index===a?h[u].index=r:h[u].index===r&&(h[u].index=a))};p.exports=v},97281:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=v.baseTileWidth,r=v.tilemapLayer,n=0;return r&&(l||(l=r.scene.cameras.main),n=r.x+l.scrollX*(1-r.scrollFactorX),a*=r.scaleX),n+t*a};p.exports=S},70326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97281),v=t(29650),a=t(26099),r=function(n,e,s,o,i){return s||(s=new a(0,0)),s.x=l(n,o,i),s.y=v(e,o,i),s};p.exports=r},29650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=v.baseTileHeight,r=v.tilemapLayer,n=0;return r&&(l||(l=r.scene.cameras.main),n=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*a};p.exports=S},77366:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(7386),v=t(75508),a=function(r,n,e,s,o,i){if(o){var h,u=l(r,n,e,s,null,i),d=0;for(h=0;h<o.length;h++)d+=o[h].weight;if(!(d<=0))for(h=0;h<u.length;h++){for(var f=v.RND.frac()*d,c=0,g=-1,m=0;m<o.length;m++)if(c+=o[m].weight,f<=c){var y=o[m].index;g=Array.isArray(y)?y[Math.floor(v.RND.frac()*y.length)]:y;break}u[h].index=g}}};p.exports=a},10095:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85896),v=t(26099),a=new v,r=function(n,e,s,o){return l(n,0,e,a,s,o),a.x};p.exports=r},85896:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26099),v=function(a,r,n,e,s,o){n===void 0&&(n=!0),e||(e=new l);var i=o.baseTileWidth,h=o.baseTileHeight,u=o.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,h*=u.scaleY);var d=a/i,f=r/h;return n&&(d=Math.floor(d),f=Math.floor(f)),e.set(d,f)};p.exports=v},63288:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85896),v=t(26099),a=new v,r=function(n,e,s,o){return l(0,n,e,a,s,o),a.y};p.exports=r},81086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ORIENTATION:t(91907)};p.exports=l},62501:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=l(!1,a,v.ORIENTATION),p.exports=a},14977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(91907),a=t(95540),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},87010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(91907),a=t(95540),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",v.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});p.exports=r},48700:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=new l({initialize:function(n){n===void 0&&(n={}),this.name=v(n,"name","object layer"),this.id=v(n,"id",0),this.opacity=v(n,"opacity",1),this.properties=v(n,"properties",{}),this.propertyTypes=v(n,"propertytypes",{}),this.type=v(n,"type","objectgroup"),this.visible=v(n,"visible",!0),this.objects=v(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=a},6641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91907),v=function(a){return a=a.toLowerCase(),a==="isometric"?l.ISOMETRIC:a==="staggered"?l.STAGGERED:a==="hexagonal"?l.HEXAGONAL:l.ORTHOGONAL};p.exports=v},46177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(2342),a=t(82593),r=t(46594),n=t(87021),e=function(s,o,i,h,u,d){var f;switch(o){case l.ARRAY_2D:f=v(s,i,h,u,d);break;case l.CSV:f=a(s,i,h,u,d);break;case l.TILED_JSON:f=r(s,i,d);break;case l.WELTMEISTER:f=n(s,i,d);break;default:console.warn("Unrecognized tilemap data format: "+o),f=null}return f};p.exports=e},2342:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(14977),a=t(87010),r=t(23029),n=function(e,s,o,i,h){for(var u=new v({tileWidth:o,tileHeight:i}),d=new a({name:e,tileWidth:o,tileHeight:i,format:l.ARRAY_2D,layers:[u]}),f=[],c=s.length,g=0,m=0;m<s.length;m++){f[m]=[];for(var y=s[m],x=0;x<y.length;x++){var T=parseInt(y[x],10);isNaN(T)||T===-1?f[m][x]=h?null:new r(u,-1,x,m,o,i):f[m][x]=new r(u,T,x,m,o,i)}g===0&&(g=y.length)}return d.width=u.width=g,d.height=u.height=c,d.widthInPixels=u.widthInPixels=g*o,d.heightInPixels=u.heightInPixels=c*i,u.data=f,d};p.exports=n},82593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(2342),a=function(r,n,e,s,o){var i=n.trim().split(`
`).map(function(u){return u.split(",")}),h=v(r,i,e,s,o);return h.format=l.CSV,h};p.exports=a},6656:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14977),v=t(23029),a=function(r,n){for(var e=[],s=0;s<r.layer.length;s++){for(var o=r.layer[s],i=new l({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:o.visible===1}),h=[],u=[],d=0;d<o.data.length;d++){for(var f=0;f<o.data[d].length;f++){var c=o.data[d][f]-1,g;c>-1?g=new v(i,c,f,d,o.tilesize,o.tilesize):g=n?null:new v(i,-1,f,d,o.tilesize,o.tilesize),h.push(g)}u.push(h),h=[]}i.data=u,e.push(i)}return e};p.exports=a},96483:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),v=function(a){for(var r=[],n=[],e=0;e<a.layer.length;e++){var s=a.layer[e],o=s.tilesetName;o!==""&&n.indexOf(o)===-1&&(n.push(o),r.push(new l(o,0,s.tilesize,s.tilesize,0,0)))}return r};p.exports=v},87021:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(80341),v=t(87010),a=t(6656),r=t(96483),n=function(e,s,o){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,h=0,u=0;u<s.layer.length;u++)s.layer[u].width>i&&(i=s.layer[u].width),s.layer[u].height>h&&(h=s.layer[u].height);var d=new v({width:i,height:h,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:l.WELTMEISTER});return d.layers=a(s,o),d.tilesets=r(s),d};p.exports=n},52833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79291),v=function(a){for(var r,n,e,s,o,i=0;i<a.layers.length;i++){r=a.layers[i],s=null;for(var h=0;h<r.data.length;h++){o=r.data[h];for(var u=0;u<o.length;u++)n=o[u],!(n===null||n.index<0)&&(e=a.tiles[n.index][2],s=a.tilesets[e],n.width=s.tileWidth,n.height=s.tileHeight,s.tileProperties&&s.tileProperties[n.index-s.firstgid]&&(n.properties=l(n.properties,s.tileProperties[n.index-s.firstgid])))}}};p.exports=v},41868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=window.atob(t),v=l.length,a=new Array(v/4),r=0;r<v;r+=4)a[r/4]=(l.charCodeAt(r)|l.charCodeAt(r+1)<<8|l.charCodeAt(r+2)<<16|l.charCodeAt(r+3)<<24)>>>0;return a};p.exports=S},84101:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),v=function(a){var r,n,e=[];for(r=0;r<a.imageCollections.length;r++)for(var s=a.imageCollections[r],o=s.images,i=0;i<o.length;i++){var h=o[i],u={x:0,y:h.height-a.tileHeight};n=new l(h.image,h.gid,h.width,h.height,0,0,null,null,u),n.updateTileData(h.width,h.height),a.tilesets.push(n)}for(r=0;r<a.tilesets.length;r++){n=a.tilesets[r];for(var d=n.tileMargin,f=n.tileMargin,c=0,g=0,m=0,y=n.firstgid;y<n.firstgid+n.total&&(e[y]=[d,f,r],d+=n.tileWidth+n.tileSpacing,c++,!(c===n.total||(g++,g===n.columns&&(d=n.tileMargin,f+=n.tileHeight+n.tileSpacing,g=0,m++,m===n.rows))));y++);}return e};p.exports=v},79677:(p,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=function(a,r,n){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+l(r,"startx",0)*a.tilewidth+l(r,"offsetx",0),s=r.y+l(r,"starty",0)*a.tileheight+l(r,"offsety",0);return{i:0,layers:r.layers,name:n.name+r.name+"/",opacity:n.opacity*r.opacity,visible:n.visible&&r.visible,x:n.x+e,y:n.y+s}};p.exports=v},29920:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,l=536870912,v=function(a){var r=!!(a&S),n=!!(a&t),e=!!(a&l);a=a&536870911;var s=0,o=!1;return r&&n&&e?(s=Math.PI/2,o=!0):r&&n&&!e?(s=Math.PI,o=!1):r&&!n&&e?(s=Math.PI/2,o=!1):r&&!n&&!e?(s=0,o=!0):!r&&n&&e?(s=3*Math.PI/2,o=!1):!r&&n&&!e?(s=Math.PI,o=!0):!r&&!n&&e?(s=3*Math.PI/2,o=!0):!r&&!n&&!e&&(s=0,o=!1),{gid:a,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:s,flipped:o}};p.exports=v},12635:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=t(79677),a=function(r){for(var n=[],e=[],s=v(r);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var o=s.layers[s.i];if(s.i++,o.type!=="imagelayer"){if(o.type==="group"){var i=v(r,o,s);e.push(s),s=i}continue}var h=l(o,"offsetx",0)+l(o,"startx",0),u=l(o,"offsety",0)+l(o,"starty",0);n.push({name:s.name+o.name,image:o.image,x:s.x+h+o.x,y:s.y+u+o.y,alpha:s.opacity*o.opacity,visible:s.visible&&o.visible,properties:l(o,"properties",{})})}return n};p.exports=a},46594:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51233),v=t(84101),a=t(91907),r=t(62644),n=t(80341),e=t(6641),s=t(87010),o=t(12635),i=t(22611),h=t(28200),u=t(24619),d=function(f,c,g){var m=r(c),y=new s({width:m.width,height:m.height,name:f,tileWidth:m.tilewidth,tileHeight:m.tileheight,orientation:e(m.orientation),format:n.TILED_JSON,version:m.version,properties:m.properties,renderOrder:m.renderorder,infinite:m.infinite});if(y.orientation===a.HEXAGONAL)if(y.hexSideLength=m.hexsidelength,y.staggerAxis=m.staggeraxis,y.staggerIndex=m.staggerindex,y.staggerAxis==="y"){var x=(y.tileHeight-y.hexSideLength)/2;y.widthInPixels=y.tileWidth*(y.width+.5),y.heightInPixels=y.height*(y.hexSideLength+x)+x}else{var T=(y.tileWidth-y.hexSideLength)/2;y.widthInPixels=y.width*(y.hexSideLength+T)+T,y.heightInPixels=y.tileHeight*(y.height+.5)}y.layers=h(m,g),y.images=o(m);var C=u(m);return y.tilesets=C.tilesets,y.imageCollections=C.imageCollections,y.objects=i(m),y.tiles=v(y),l(y),y};p.exports=d},52205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18254),v=t(29920),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,s,o){s===void 0&&(s=0),o===void 0&&(o=0);var i=l(e,r);if(i.x+=s,i.y+=o,e.gid){var h=v(e.gid);i.gid=h.gid,i.flippedHorizontal=h.flippedHorizontal,i.flippedVertical=h.flippedVertical,i.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};p.exports=n},22611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95540),v=t(52205),a=t(48700),r=t(79677),n=function(e){for(var s=[],o=[],i=r(e);i.i<i.layers.length||o.length>0;){if(i.i>=i.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=o.pop();continue}var h=i.layers[i.i];if(i.i++,h.opacity*=i.opacity,h.visible=i.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var u=r(e,h,i);o.push(i),i=u}continue}h.name=i.name+h.name;for(var d=i.x+l(h,"startx",0)+l(h,"offsetx",0),f=i.y+l(h,"starty",0)+l(h,"offsety",0),c=[],g=0;g<h.objects.length;g++){var m=v(h.objects[g],d,f);c.push(m)}var y=new a(h);y.objects=c,s.push(y)}return s};p.exports=n},28200:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41868),v=t(91907),a=t(79677),r=t(6641),n=t(95540),e=t(14977),s=t(29920),o=t(23029),i=function(h,u){for(var d=n(h,"infinite",!1),f=[],c=[],g=a(h);g.i<g.layers.length||c.length>0;){if(g.i>=g.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=c.pop();continue}var m=g.layers[g.i];if(g.i++,m.type!=="tilelayer"){if(m.type==="group"){var y=a(h,m,g);c.push(g),g=y}continue}if(m.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+m.name+"'");continue}else if(m.encoding&&m.encoding==="base64"){if(m.chunks)for(var x=0;x<m.chunks.length;x++)m.chunks[x].data=l(m.chunks[x].data);m.data&&(m.data=l(m.data)),delete m.encoding}var T,C,A,w,P,M,R=[],O=0;if(d){var U=n(m,"startx",0)+m.x,X=n(m,"starty",0)+m.y;T=new e({name:g.name+m.name,id:m.id,x:g.x+n(m,"offsetx",0)+U*h.tilewidth,y:g.y+n(m,"offsety",0)+X*h.tileheight,width:m.width,height:m.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:n(m,"properties",[]),orientation:r(h.orientation)}),T.orientation===v.HEXAGONAL&&(T.hexSideLength=h.hexsidelength,T.staggerAxis=h.staggeraxis,T.staggerIndex=h.staggerindex,T.staggerAxis==="y"?(P=(T.tileHeight-T.hexSideLength)/2,T.widthInPixels=T.tileWidth*(T.width+.5),T.heightInPixels=T.height*(T.hexSideLength+P)+P):(M=(T.tileWidth-T.hexSideLength)/2,T.widthInPixels=T.width*(T.hexSideLength+M)+M,T.heightInPixels=T.tileHeight*(T.height+.5)));for(var W=0;W<m.height;W++){R[W]=[null];for(var Y=0;Y<m.width;Y++)R[W][Y]=null}for(W=0,_=m.chunks.length;W<_;W++)for(var N=m.chunks[W],z=N.x-U,B=N.y-X,I=0,G=0,H=N.data.length;G<H;G++){var K=O+z,Z=I+B;C=s(N.data[G]),C.gid>0?(A=new o(T,C.gid,K,Z,h.tilewidth,h.tileheight),A.rotation=C.rotation,A.flipX=C.flipped,R[Z][K]=A):(w=u?null:new o(T,-1,K,Z,h.tilewidth,h.tileheight),R[Z][K]=w),O++,O===N.width&&(I++,O=0)}}else{T=new e({name:g.name+m.name,id:m.id,x:g.x+n(m,"offsetx",0)+m.x,y:g.y+n(m,"offsety",0)+m.y,width:m.width,height:m.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:n(m,"properties",[]),orientation:r(h.orientation)}),T.orientation===v.HEXAGONAL&&(T.hexSideLength=h.hexsidelength,T.staggerAxis=h.staggeraxis,T.staggerIndex=h.staggerindex,T.staggerAxis==="y"?(P=(T.tileHeight-T.hexSideLength)/2,T.widthInPixels=T.tileWidth*(T.width+.5),T.heightInPixels=T.height*(T.hexSideLength+P)+P):(M=(T.tileWidth-T.hexSideLength)/2,T.widthInPixels=T.width*(T.hexSideLength+M)+M,T.heightInPixels=T.tileHeight*(T.height+.5)));for(var Q=[],j=0,_=m.data.length;j<_;j++)C=s(m.data[j]),C.gid>0?(A=new o(T,C.gid,O,R.length,h.tilewidth,h.tileheight),A.rotation=C.rotation,A.flipX=C.flipped,Q.push(A)):(w=u?null:new o(T,-1,O,R.length,h.tilewidth,h.tileheight),Q.push(w)),O++,O===m.width&&(R.push(Q),O=0,Q=[])}T.data=R,f.push(T)}return f};p.exports=i},24619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33629),v=t(16536),a=t(52205),r=t(57880),n=function(e){for(var s=[],o=[],i=null,h,u=0;u<e.tilesets.length;u++){var d=e.tilesets[u];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var f=new l(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(e.version>1){var c=void 0,g=void 0;if(Array.isArray(d.tiles)){c=c||{},g=g||{};for(var m=0;m<d.tiles.length;m++){var y=d.tiles[m];if(y.properties){var x={};y.properties.forEach(function(W){x[W.name]=W.value}),g[y.id]=x}if(y.objectgroup&&((c[y.id]||(c[y.id]={})).objectgroup=y.objectgroup,y.objectgroup.objects)){var T=y.objectgroup.objects.map(function(W){return a(W)});c[y.id].objectgroup.objects=T}y.animation&&((c[y.id]||(c[y.id]={})).animation=y.animation),y.type&&((c[y.id]||(c[y.id]={})).type=y.type)}}Array.isArray(d.wangsets)&&(c=c||{},g=g||{},r(d.wangsets,c)),c&&(f.tileData=c,f.tileProperties=g)}else if(d.tileproperties&&(f.tileProperties=d.tileproperties),d.tiles){f.tileData=d.tiles;for(h in f.tileData){var C=f.tileData[h].objectgroup;if(C&&C.objects){var A=C.objects.map(function(W){return a(W)});f.tileData[h].objectgroup.objects=A}}}f.updateTileData(d.imagewidth,d.imageheight),s.push(f)}else{var w=new v(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),P=0;for(m=0;m<d.tiles.length;m++){y=d.tiles[m];var M=y.image,R=parseInt(y.id,10),O=d.firstgid+R,U=y.imagewidth,X=y.imageheight;w.addImage(O,M,U,X),P=Math.max(R,P)}w.maxId=P,o.push(w)}i&&(i.lastgid=d.firstgid-1),i=d}return{tilesets:s,imageCollections:o}};p.exports=n},57880:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var v=0;v<t.length;v++){var a=t[v],r=v;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var n={},e={},s,o,i;if(Array.isArray(a.edgecolors))for(s=0;s<a.edgecolors.length;s++)i=1+s,o=a.edgecolors[s],o.name!==""&&(n[i]=o.name);if(Array.isArray(a.cornercolors))for(s=0;s<a.cornercolors.length;s++)i=1+s,o=a.cornercolors[s],o.name!==""&&(e[i]=o.name);if(Array.isArray(a.colors))for(s=0;s<a.colors.length;s++)o=a.colors[s],i=1+s,o.name!==""&&(n[i]=e[i]=o.name);for(var h=[n,e,n,e,n,e,n,e],u=0;u<a.wangtiles.length;u++){var d=a.wangtiles[u],f=l[d.tileid]||(l[d.tileid]={});f=f.wangid||(f.wangid={});for(var c=[],g=0;g<Math.min(h.length,d.wangid.length);g++){if(o=d.wangid[g],o===0){c.push(void 0);continue}var m=h[g][o];if(m!==void 0){c.push(m);continue}c.push(o)}f[r]=c}}}};p.exports=S},96761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(37277),a=t(44594),r=t(94880),n=t(72905),e=new l({initialize:function(o){this.scene=o,this.systems=o.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],o.sys.events.once(a.BOOT,this.boot,this),o.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(a.PRE_UPDATE,this.preUpdate,this),s.on(a.UPDATE,this.update,this),s.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var o;if(s instanceof r){if(o=s,this.removeEvent(o),o.elapsed=o.startAt,o.hasDispatched=!1,o.repeatCount=o.repeat===-1||o.loop?999999999999:o.repeat,o.delay<=0&&o.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else o=new r(s);return this._pendingInsertion.push(o),o},delayedCall:function(s,o,i,h){return this.addEvent({delay:s,callback:o,args:i,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var i=s[o];n(this._pendingRemoval,i),n(this._pendingInsertion,i),n(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,o=this._pendingInsertion.length;if(!(s===0&&o===0)){var i,h;for(i=0;i<s;i++){h=this._pendingRemoval[i];var u=this._active.indexOf(h);u>-1&&this._active.splice(u,1),h.destroy()}for(i=0;i<o;i++)h=this._pendingInsertion[i],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,o){if(this.now=s,!this.paused){o*=this.timeScale;for(var i=0;i<this._active.length;i++){var h=this._active[i];if(!h.paused&&(h.elapsed+=o*h.timeScale,h.elapsed>=h.delay)){var u=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,u>=h.delay)for(;u>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),u-=h.delay,h.repeatCount--;h.elapsed=u,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var o=this.systems.events;o.off(a.PRE_UPDATE,this.preUpdate,this),o.off(a.UPDATE,this.update,this),o.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",e,"time"),p.exports=e},96120:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(39429),r=t(95540),n=t(44594),e=t(89809),s=new l({Extends:v,initialize:function(i,h){v.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(n.PRE_UPDATE,this.preUpdate,this),u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(o,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var o,i=this.events,h=!1,u=this.systems,d;for(o=0;o<i.length;o++){var f=i[o];if(!f.complete&&f.time<=this.elapsed){if(f.complete=!0,this.totalComplete++,d=f.target?f.target:this,f.if&&!f.if.call(d,f))continue;if(f.once&&(h=!0),f.set&&f.target)for(var c in f.set)f.target[c]=f.set[c];this.iteration&&f.repeat++,f.loop&&f.repeat&&f.loop.call(d),f.tween&&(f.tweenInstance=u.tweens.add(f.tween)),f.sound&&(typeof f.sound=="string"?u.sound.play(f.sound):u.sound.play(f.sound.key,f.sound.config)),f.event&&this.emit(f.event,d),f.run&&f.run.call(d),f.stop&&this.stop()}}if(h)for(o=0;o<i.length;o++)i[o].complete&&i[o].once&&(i.splice(o,1),o--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(o){return o===void 0&&(o=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,o&&this.reset(),this},pause:function(){this.paused=!0;for(var o=this.events,i=0;i<o.length;i++){var h=o[i];h.tweenInstance&&(h.tweenInstance.paused=!0)}return this},repeat:function(o){return(o===void 0||o===!0)&&(o=-1),o===!1&&(o=0),this.loop=o,this},resume:function(){this.paused=!1;for(var o=this.events,i=0;i<o.length;i++){var h=o[i];h.tweenInstance&&(h.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(o){o===void 0&&(o=!1),this.elapsed=0,o||(this.iteration=0);for(var i=this.events,h=0;h<i.length;h++){var u=i[h];u.complete=!1,o||(u.repeat=0),u.tweenInstance&&u.tweenInstance.stop()}return this.play(!1)},add:function(o){Array.isArray(o)||(o=[o]);var i=this.events,h=0;i.length>0&&(h=i[i.length-1].time);for(var u=0;u<o.length;u++){var d=o[u],f=r(d,"at",0),c=r(d,"in",null);c!==null&&(f=this.elapsed+c);var g=r(d,"from",null);g!==null&&(f=h+g),i.push({complete:!1,time:f,repeat:0,if:r(d,"if",null),run:r(d,"run",null),loop:r(d,"loop",null),event:r(d,"event",null),target:r(d,"target",null),set:r(d,"set",null),tween:r(d,"tween",null),sound:r(d,"sound",null),once:r(d,"once",!1),stop:r(d,"stop",!1)}),h=f}return this.complete=!1,this},clear:function(){for(var o=this.events,i=0;i<o.length;i++){var h=o[i];h.tweenInstance&&h.tweenInstance.stop()}return o=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var o=Math.min(this.totalComplete,this.events.length);return o/this.events.length},destroy:function(){var o=this.systems.events;o.off(n.PRE_UPDATE,this.preUpdate,this),o.off(n.UPDATE,this.update,this),o.off(n.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});a.register("timeline",function(o){return new s(this.scene,o)}),p.exports=s},94880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(95540),a=new l({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(r){if(this.delay=v(r,"delay",0),this.repeat=v(r,"repeat",0),this.loop=v(r,"loop",!1),this.callback=v(r,"callback",void 0),this.callbackScope=v(r,"callbackScope",this),this.args=v(r,"args",[]),this.timeScale=v(r,"timeScale",1),this.startAt=v(r,"startAt",0),this.paused=v(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=a},35945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},89809:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(35945)}},90291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),v=t(83419),a=t(43491),r=t(88032),n=t(37277),e=t(44594),s=t(93109),o=t(86081),i=t(8357),h=t(43960),u=t(26012),d=new v({initialize:function(c){this.scene=c,this.events=c.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(f){Array.isArray(f)||(f=[f]);for(var c=[],g=0;g<f.length;g++){var m=f[g];m instanceof o||m instanceof h?c.push(m):Array.isArray(m.tweens)?c.push(u(this,m)):c.push(i(this,m))}return c.length===1?c[0]:c},add:function(f){var c=f,g=this.tweens;return c instanceof o||c instanceof h||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),g.push(c.reset()),c},addMultiple:function(f){for(var c,g=[],m=this.tweens,y=0;y<f.length;y++)c=f[y],c instanceof o||c instanceof h||(Array.isArray(c.tweens)?c=u(this,c):c=i(this,c)),m.push(c.reset()),g.push(c);return g},chain:function(f){var c=u(this,f);return this.tweens.push(c.init()),c},getChainedTweens:function(f){return f.getChainedTweens()},has:function(f){return this.tweens.indexOf(f)>-1},existing:function(f){return this.has(f)||this.tweens.push(f.reset()),this},addCounter:function(f){var c=r(this,f);return this.tweens.push(c.reset()),c},stagger:function(f,c){return s(f,c)},setLagSmooth:function(f,c){return f===void 0&&(f=1/1e-8),c===void 0&&(c=0),this.maxLag=f,this.lagSkip=Math.min(c,this.maxLag),this},setFps:function(f){return f===void 0&&(f=240),this.gap=1e3/f,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(f){var c=Date.now()-this.prevTime;c>this.maxLag&&(this.startTime+=c-this.lagSkip),this.prevTime+=c;var g=this.prevTime-this.startTime,m=g-this.nextTime,y=g-this.time*1e3;return m>0||f?(g/=1e3,this.time=g,this.nextTime+=m+(m>=this.gap?4:this.gap-m)):y=0,y},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(f){f===void 0&&(f=!1);var c=this.getDelta(f);if(!(c<=0)){this.processing=!0;var g,m,y=[],x=this.tweens;for(g=0;g<x.length;g++)m=x[g],m.update(c)&&y.push(m);var T=y.length;if(T&&x.length>0){for(g=0;g<T;g++){m=y[g];var C=x.indexOf(m);C>-1&&(m.isPendingRemove()||m.isDestroyed())&&(x.splice(C,1),m.destroy())}y.length=0}this.processing=!1}},remove:function(f){return this.processing?f.setPendingRemoveState():(l(this.tweens,f),f.setRemovedState()),this},reset:function(f){return this.existing(f),f.seek(),f.setActiveState(),this},makeActive:function(f){return this.existing(f),f.setActiveState(),this},each:function(f,c){var g,m=[null];for(g=1;g<arguments.length;g++)m.push(arguments[g]);return this.tweens.forEach(function(y){m[0]=y,f.apply(c,m)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(f){var c=[],g=this.tweens;Array.isArray(f)?f=a(f):f=[f];for(var m=f.length,y=0;y<g.length;y++)for(var x=g[y],T=0;T<m;T++)!x.isDestroyed()&&x.hasTarget(f[T])&&c.push(x);return c},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(f){return this.timeScale=f,this},isTweening:function(f){for(var c=this.tweens,g,m=0;m<c.length;m++)if(g=c[m],g.isPlaying()&&g.hasTarget(f))return!0;return!1},killAll:function(){for(var f=this.processing?this.getTweens():this.tweens,c=0;c<f.length;c++)f[c].destroy();return this.processing||(f.length=0),this},killTweensOf:function(f){for(var c=this.getTweensOf(f),g=0;g<c.length;g++)c[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",d,"tweens"),p.exports=d},57355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){return t&&t.hasOwnProperty(l)?t[l]:v};p.exports=S},6113:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62640),v=t(35355),a=function(r,n){var e=l.Power0;if(typeof r=="string")if(l.hasOwnProperty(r))e=l[r];else{var s="";if(r.indexOf(".")){s=r.substring(r.indexOf(".")+1);var o=s.toLowerCase();o==="in"?s="easeIn":o==="out"?s="easeOut":o==="inout"&&(s="easeInOut")}r=v(r.substring(0,r.indexOf(".")+1)+s),l.hasOwnProperty(r)&&(e=l[r])}else typeof r=="function"&&(e=r);if(!n)return e;var i=n.slice(0);return i.unshift(0),function(h){return i[0]=h,e.apply(this,i)}};p.exports=a},91389:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89318),v=t(77259),a=t(28392),r={bezier:l,catmull:v,catmullrom:v,linear:a},n=function(e){if(e===null)return null;var s=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(s=r[e]):typeof e=="function"&&(s=e),s};p.exports=n},55292:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a;if(t.hasOwnProperty(l)){var r=typeof t[l];r==="function"?a=function(n,e,s,o,i,h){return t[l](n,e,s,o,i,h)}:a=function(){return t[l]}}else typeof v=="function"?a=v:a=function(){return v};return a};p.exports=S},82985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81076),v=function(a){var r,n=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&n.push({key:r,value:a.props[r]});else for(r in a)l.indexOf(r)===-1&&r.substring(0,1)!=="_"&&n.push({key:r,value:a[r]});return n};p.exports=v},62329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=function(a){var r=l(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=v},17777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30976),v=t(99472);function a(o){return!!o.getActive&&typeof o.getActive=="function"}function r(o){return!!o.getStart&&typeof o.getStart=="function"}function n(o){return!!o.getEnd&&typeof o.getEnd=="function"}function e(o){return r(o)||n(o)||a(o)}var s=function(o,i){var h,u=function(W,Y,N){return N},d=function(W,Y,N){return N},f=null,c=typeof i;if(c==="number")u=function(){return i};else if(Array.isArray(i))d=function(){return i[0]},u=function(){return i[i.length-1]};else if(c==="string"){var g=i.toLowerCase(),m=g.substring(0,6)==="random",y=g.substring(0,3)==="int";if(m||y){var x=g.indexOf("("),T=g.indexOf(")"),C=g.indexOf(",");if(x&&T&&C){var A=parseFloat(g.substring(x+1,C)),w=parseFloat(g.substring(C+1,T));m?u=function(){return v(A,w)}:u=function(){return l(A,w)}}else throw new Error("invalid random() format")}else{g=g[0];var P=parseFloat(i.substr(2));switch(g){case"+":u=function(W,Y,N){return N+P};break;case"-":u=function(W,Y,N){return N-P};break;case"*":u=function(W,Y,N){return N*P};break;case"/":u=function(W,Y,N){return N/P};break;default:u=function(){return parseFloat(i)}}}}else if(c==="function")u=i;else if(c==="object")if(e(i))a(i)&&(f=i.getActive),n(i)&&(u=i.getEnd),r(i)&&(d=i.getStart);else if(i.hasOwnProperty("value"))h=s(o,i.value);else{var M=i.hasOwnProperty("to"),R=i.hasOwnProperty("from"),O=i.hasOwnProperty("start");if(M&&(R||O)){if(h=s(o,i.to),O){var U=s(o,i.start);h.getActive=U.getEnd}if(R){var X=s(o,i.from);h.getStart=X.getEnd}}}return h||(h={getActive:f,getEnd:u,getStart:d}),h};p.exports=s},88032:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(55292),o=t(35154),i=t(17777),h=t(269),u=t(86081),d=function(f,c,g){if(c instanceof u)return c.parent=f,c;g===void 0?g=v:g=h(v,g);var m=e(c,"from",0),y=e(c,"to",1),x=[{value:m}],T=e(c,"delay",g.delay),C=e(c,"easeParams",g.easeParams),A=e(c,"ease",g.ease),w=i("value",y),P=new u(f,x),M=P.add(0,"value",w.getEnd,w.getStart,w.getActive,n(e(c,"ease",A),e(c,"easeParams",C)),s(c,"delay",T),e(c,"duration",g.duration),r(c,"yoyo",g.yoyo),e(c,"hold",g.hold),e(c,"repeat",g.repeat),e(c,"repeatDelay",g.repeatDelay),!1,!1);M.start=m,M.current=m,P.completeDelay=a(c,"completeDelay",0),P.loop=Math.round(a(c,"loop",0)),P.loopDelay=Math.round(a(c,"loopDelay",0)),P.paused=r(c,"paused",!1),P.persist=r(c,"persist",!1),P.isNumberTween=!0,P.callbackScope=o(c,"callbackScope",P);for(var R=l.TYPES,O=0;O<R.length;O++){var U=R[O],X=o(c,U,!1);if(X){var W=o(c,U+"Params",[]);P.setCallback(U,X,W)}}return P};p.exports=d},93109:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6113),v=t(35154),a=t(36383),r=function(n,e){e===void 0&&(e={});var s,o=v(e,"start",0),i=v(e,"ease",null),h=v(e,"grid",null),u=v(e,"from",0),d=u==="first",f=u==="center",c=u==="last",g=typeof u=="number",m=Array.isArray(n),y=parseFloat(m?n[0]:n),x=m?parseFloat(n[1]):0,T=Math.max(y,x);if(m&&(o+=y),h){var C=h[0],A=h[1],w=0,P=0,M=0,R=0,O=[];c?(w=C-1,P=A-1):g?(w=u%C,P=Math.floor(u/C)):f&&(w=(C-1)/2,P=(A-1)/2);for(var U=a.MIN_SAFE_INTEGER,X=0;X<A;X++){O[X]=[];for(var W=0;W<C;W++){M=w-W,R=P-X;var Y=Math.sqrt(M*M+R*R);Y>U&&(U=Y),O[X][W]=Y}}}var N=i?l(i):null;return h?s=function(z,B,I,G){var H=0,K=G%C,Z=Math.floor(G/C);K>=0&&K<C&&Z>=0&&Z<A&&(H=O[Z][K]);var Q;if(m){var j=x-y;N?Q=H/U*j*N(H/U):Q=H/U*j}else N?Q=H*y*N(H/U):Q=H*y;return Q+o}:s=function(z,B,I,G,H){H--;var K;d?K=G:f?K=Math.abs(H/2-G):c?K=H-G:g&&(K=Math.abs(u-G));var Z;if(m){var Q;f?Q=(x-y)/H*(K*2):Q=(x-y)/H*K,N?Z=Q*N(K/H):Z=Q}else N?Z=H*T*N(K/H):Z=K*y;return Z+o},s};p.exports=r},8357:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(91389),o=t(55292),i=t(82985),h=t(62329),u=t(35154),d=t(17777),f=t(269),c=t(86081),g=function(m,y,x){if(y instanceof c)return y.parent=m,y;x===void 0?x=v:x=f(v,x);var T=h(y);!T&&x.targets&&(T=x.targets);for(var C=i(y),A=e(y,"delay",x.delay),w=e(y,"duration",x.duration),P=e(y,"easeParams",x.easeParams),M=e(y,"ease",x.ease),R=e(y,"hold",x.hold),O=e(y,"repeat",x.repeat),U=e(y,"repeatDelay",x.repeatDelay),X=r(y,"yoyo",x.yoyo),W=r(y,"flipX",x.flipX),Y=r(y,"flipY",x.flipY),N=e(y,"interpolation",x.interpolation),z=function(et,rt,at,st){if(at==="texture"){var ct=st,vt=void 0;Array.isArray(st)?(ct=st[0],vt=st[1]):st.hasOwnProperty("value")?(ct=st.value,Array.isArray(st.value)?(ct=st.value[0],vt=st.value[1]):typeof st.value=="string"&&(ct=st.value)):typeof st=="string"&&(ct=st),et.addFrame(rt,ct,vt,o(st,"delay",A),e(st,"duration",w),e(st,"hold",R),e(st,"repeat",O),e(st,"repeatDelay",U),r(st,"flipX",W),r(st,"flipY",Y))}else{var pt=d(at,st),nt=s(e(st,"interpolation",N));et.add(rt,at,pt.getEnd,pt.getStart,pt.getActive,n(e(st,"ease",M),e(st,"easeParams",P)),o(st,"delay",A),e(st,"duration",w),r(st,"yoyo",X),e(st,"hold",R),e(st,"repeat",O),e(st,"repeatDelay",U),r(st,"flipX",W),r(st,"flipY",Y),nt,nt?st:null)}},B=new c(m,T),I=0;I<C.length;I++)for(var G=C[I].key,H=C[I].value,K=0;K<T.length;K++)G==="scale"&&!T[K].hasOwnProperty("scale")?(z(B,K,"scaleX",H),z(B,K,"scaleY",H)):z(B,K,G,H);B.completeDelay=a(y,"completeDelay",0),B.loop=Math.round(a(y,"loop",0)),B.loopDelay=Math.round(a(y,"loopDelay",0)),B.paused=r(y,"paused",!1),B.persist=r(y,"persist",!1),B.callbackScope=e(y,"callbackScope",B);for(var Z=l.TYPES,Q=0;Q<Z.length;Q++){var j=Z[Q],_=u(y,j,!1);if(_){var tt=u(y,j+"Params",[]);B.setCallback(j,_,tt)}}return B};p.exports=g},26012:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(23568),a=t(57355),r=t(62329),n=t(35154),e=t(8357),s=t(43960),o=function(i,h){if(h instanceof s)return h.parent=i,h;var u=new s(i);u.startDelay=n(h,"delay",0),u.completeDelay=v(h,"completeDelay",0),u.loop=Math.round(v(h,"loop",n(h,"repeat",0))),u.loopDelay=Math.round(v(h,"loopDelay",n(h,"repeatDelay",0))),u.paused=a(h,"paused",!1),u.persist=a(h,"persist",!1),u.callbackScope=n(h,"callbackScope",u);var d,f=l.TYPES;for(d=0;d<f.length;d++){var c=f[d],g=n(h,c,!1);if(g){var m=n(h,c+"Params",[]);u.setCallback(c,g,m)}}var y=n(h,"tweens",null);if(Array.isArray(y)){var x=[],T=r(h),C=void 0;for(T&&(C={targets:T}),d=0;d<y.length;d++)x.push(e(u,y[d],C));u.add(x)}return u};p.exports=o},30231:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},98540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},67233:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},2859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},98336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},25764:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},32193:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},84371:p=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},70766:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},55659:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},842:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};p.exports=l},70402:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(50792),a=t(842),r=t(86353),n=new l({Extends:v,initialize:function(s){v.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,o){return o===void 0&&(o=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:o}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=n},95042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83419),v=t(842),a=t(86353),r=new l({initialize:function(e,s,o,i,h,u,d,f,c,g){this.tween=e,this.targetIndex=s,this.duration=i<=0?.01:i,this.totalDuration=0,this.delay=0,this.getDelay=o,this.yoyo=h,this.hold=u,this.repeat=d,this.repeatDelay=f,this.repeatCounter=0,this.flipX=c,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,s=this.targetIndex,o=n.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(o,i,0,s,e,n),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var u=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=u*a.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,s){var o=this.tween,i=o.totalTargets,h=this.targetIndex,u=o.targets[h],d=this.key,f=d!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),f&&(e||s)&&(this.start=this.getStartValue(u,d,this.start,h,i,o)),s){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,f&&(this.end=this.getEndValue(u,d,this.start,h,i,o)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,f&&(this.current=this.start,u[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},69902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=S},81076:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70402),v=t(83419),a=t(842),r=t(44603),n=t(39429),e=t(36383),s=t(86353),o=t(48177),i=t(42220),h=new v({Extends:l,initialize:function(d,f){l.call(this,d),this.targets=f,this.totalTargets=f.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(u,d,f,c,g,m,y,x,T,C,A,w,P,M,R,O){var U=new o(this,u,d,f,c,g,m,y,x,T,C,A,w,P,M,R,O);return this.totalData=this.data.push(U),U},addFrame:function(u,d,f,c,g,m,y,x,T,C){var A=new i(this,u,d,f,c,g,m,y,x,T,C);return this.totalData=this.data.push(A),A},getValue:function(u){u===void 0&&(u=0);var d=null;return this.data&&(d=this.data[u].current),d},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,d,f){if(f===void 0&&(f=!1),u!=="texture")for(var c=0;c<this.totalData;c++){var g=this.data[c];g.key===u&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=d,f&&(g.start=g.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,l.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,d,f){if(u===void 0&&(u=0),d===void 0&&(d=16.6),f===void 0&&(f=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;f||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var c=this.paused;if(this.paused=!1,u>0){for(var g=Math.floor(u/d),m=u-g*d,y=0;y<g;y++)this.update(d);m>0&&this.update(m)}return this.paused=c,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var d=this.data,f=0;f<this.totalData;f++)d[f].reset(u);this.duration=Math.max(this.duration,.01);var c=this.duration,g=this.completeDelay,m=this.loopCounter,y=this.loopDelay;m>0?this.totalDuration=c+g+(c+y)*m:this.totalDuration=c+g},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),u=0));var d=!1;if(this.isActive())for(var f=this.data,c=0;c<this.totalData;c++)f[c].update(u)&&(d=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,d){if(!this.isSeeking){if(this.emit(u,this,this.targets),!this.callbacks)return;var f=this.callbacks[d];f&&f.func.apply(this.callbackScope,[this,this.targets].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(u){return this.scene.sys.tweens.add(u)}),r.register("tween",function(u){return this.scene.sys.tweens.create(u)}),p.exports=h},43960:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72905),v=t(70402),a=t(83419),r=t(842),n=t(44603),e=t(39429),s=t(86353),o=new a({Extends:v,initialize:function(h){v.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var h=this.parent.create(i);Array.isArray(h)||(h=[h]);for(var u=this.data,d=0;d<h.length;d++){var f=h[d];f.parent=this,u.push(f.reset())}return this.totalData=u.length,this},remove:function(i){return l(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var h=this.data,u=0;u<this.totalData;u++)if(h[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,h=this.totalData,u=0;u<h;u++)i[u].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(i*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(i),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(i),!1;this.hasStarted||(this.startDelay-=i,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(r.TWEEN_START,"onStart"),i=0));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,h){this.emit(i,this);var u=this.callbacks[h];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),n.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),p.exports=o},48177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95042),v=t(45319),a=t(83419),r=t(842),n=new a({Extends:l,initialize:function(s,o,i,h,u,d,f,c,g,m,y,x,T,C,A,w,P){l.call(this,s,o,c,g,m,y,x,T,C,A),this.key=i,this.getActiveValue=d,this.getEndValue=h,this.getStartValue=u,this.ease=f,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=w,this.interpolationData=P},reset:function(e){l.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],o=this.key;e&&(s[o]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[o]=this.getActiveValue(s,o,0))},update:function(e){var s=this.tween,o=s.totalTargets,i=this.targetIndex,h=s.targets[i],u=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,u,h[u],i,o,s),this.end=this.getEndValue(h,u,this.start,i,o,s),this.current=this.start,h[u]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),f=this.isPlayingBackward();if(d||f){var c=this.elapsed,g=this.duration,m=0,y=!1;c+=e,c>=g?(m=c-g,c=g,y=!0):c<0&&(c=0);var x=v(c/g,0,1);this.elapsed=c,this.progress=x,this.previous=this.current,d||(x=1-x);var T=this.ease(x);this.interpolation?this.current=this.interpolation(this.interpolationData,T):this.current=this.start+(this.end-this.start)*T,h[u]=this.current,y&&(d?(s.isNumberTween&&(this.current=this.end,h[u]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(m)):(s.isNumberTween&&(this.current=this.start,h[u]=this.current),this.setStateFromStart(m))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],h=this.key,u=this.current,d=this.previous;o.emit(e,o,h,i,u,d);var f=o.callbacks[s];f&&f.func.apply(o.callbackScope,[o,i,h,u,d].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=n},42220:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95042),v=t(45319),a=t(83419),r=t(842),n=new a({Extends:l,initialize:function(s,o,i,h,u,d,f,c,g,m,y){l.call(this,s,o,u,d,!1,f,c,g,m,y),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=h,this.yoyo=c!==0},reset:function(e){l.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,o=this.targetIndex,i=s.targets[o];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),u=this.isPlayingBackward();if(h||u){var d=this.elapsed,f=this.duration,c=0,g=!1;d+=e,d>=f?(c=d-f,d=f,g=!0):d<0&&(d=0);var m=v(d/f,0,1);this.elapsed=d,this.progress=m,g&&(h?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(c))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var o=this.tween;if(!o.isSeeking){var i=o.targets[this.targetIndex],h=this.key;o.emit(e,o,h,i);var u=o.callbacks[s];u&&u.func.apply(o.callbackScope,[o,i,h].concat(u.params))}},destroy:function(){l.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=n},86353:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=S},83419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,s){var o=s?n[e]:Object.getOwnPropertyDescriptor(n,e);return!s&&o.value&&typeof o.value=="object"&&(o=o.value),o&&S(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function l(n,e){var s=Object.getOwnPropertyDescriptor(n,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function v(n,e,s,o){for(var i in e)if(e.hasOwnProperty(i)){var h=t(e,i,s);if(h!==!1){var u=o||n;if(l(u.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,i,h)}else n.prototype[i]=e[i]}}function a(n,e){if(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)v(n,e[s].prototype||e[s])}}function r(n){n||(n={});var e,s;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var o=n.Extends;e=function(){o.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,s=n.Extends,delete n.Extends):e.prototype.constructor=e;var i=null;return n.Mixins&&(i=n.Mixins,delete n.Mixins),a(e,i),v(e,n,!0,s),e}r.extend=v,r.mixin=a,r.ignoreFinals=!1,p.exports=r},29747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},20242:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};p.exports=S},71146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r){if(r===void 0&&(r=t),v>0){var n=v-t.length;if(n<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.push(l),a&&a.call(r,l),l):null;for(var e=l.length-1;e>=0;)t.indexOf(l[e])!==-1&&l.splice(e,1),e--;if(e=l.length,e===0)return null;v>0&&e>n&&(l.splice(n),e=n);for(var s=0;s<e;s++){var o=l[s];t.push(o),a&&a.call(r,o)}return l};p.exports=S},51067:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a,r,n){if(v===void 0&&(v=0),n===void 0&&(n=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.splice(v,0,l),r&&r.call(n,l),l):null;for(var s=l.length-1;s>=0;)t.indexOf(l[s])!==-1&&l.pop(),s--;if(s=l.length,s===0)return null;a>0&&s>e&&(l.splice(e),s=e);for(var o=s-1;o>=0;o--){var i=l[o];t.splice(v,0,i),r&&r.call(n,i)}return l};p.exports=S},66905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.indexOf(l);return v!==-1&&v<t.length&&(t.splice(v,1),t.push(l)),l};p.exports=S},21612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=0;if(l(a,e,s))for(var i=e;i<s;i++){var h=a[i];h[r]===n&&o++}return o};p.exports=v},95428:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],l.apply(v,r);return t};p.exports=S},36914:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),l(a,e,s)){var o,i=[null];for(o=5;o<arguments.length;o++)i.push(arguments[o]);for(o=e;o<s;o++)i[0]=a[o],r.apply(n,i)}return a};p.exports=v},81957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(l.length){if(l.length===1)return l[0]}else return NaN;var a=1,r,n;if(v){if(t<l[0][v])return l[0];for(;l[a][v]<t;)a++}else for(;l[a]<t;)a++;return a>l.length&&(a=l.length),v?(r=l[a-1][v],n=l[a][v],n-t<=t-r?l[a]:l[a-1]):(r=l[a-1],n=l[a],n-t<=t-r?n:r)};p.exports=S},43491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=[]);for(var v=0;v<t.length;v++)Array.isArray(t[v])?S(t[v],l):l.push(t[v]);return l};p.exports=S},46710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var o=[];if(l(a,e,s))for(var i=e;i<s;i++){var h=a[i];(!r||r&&n===void 0&&h.hasOwnProperty(r)||r&&n!==void 0&&h[r]===n)&&o.push(h)}return o};p.exports=v},58731:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),e!==-1){if(l(a,e,s))for(var o=e;o<s;o++){var i=a[o];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}}else if(l(a,0,s))for(var o=s;o>=0;o--){var i=a[o];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}return null};p.exports=v},26546:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){l===void 0&&(l=0),v===void 0&&(v=t.length);var a=l+Math.floor(Math.random()*v);return t[a]===void 0?null:t[a]};p.exports=S},85835:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(l===v)return t;var a=t.indexOf(l),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r=t.indexOf(v),t.splice(r+1,0,l)),t};p.exports=S},83371:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(l===v)return t;var a=t.indexOf(l),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(l):t.splice(r,0,l)),t};p.exports=S},70864:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.indexOf(l);if(v>0){var a=t[v-1],r=t.indexOf(a);t[v]=a,t[r]=l}return t};p.exports=S},69693:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=t.indexOf(l);if(a===-1||v<0||v>=t.length)throw new Error("Supplied index out of bounds");return a!==v&&(t.splice(a,1),t.splice(v,0,l)),l};p.exports=S},40853:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.indexOf(l);if(v!==-1&&v<t.length-1){var a=t[v+1],r=t.indexOf(a);t[v]=a,t[r]=l}return t};p.exports=S},20283:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=[],n,e=!1;if((v||a)&&(e=!0,v||(v=""),a||(a="")),l<t)for(n=t;n>=l;n--)e?r.push(v+n.toString()+a):r.push(n);else for(n=t;n<=l;n++)e?r.push(v+n.toString()+a):r.push(n);return r};p.exports=S},593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2284),v=function(a,r,n){a===void 0&&(a=0),r===void 0&&(r=null),n===void 0&&(n=1),r===null&&(r=a,a=0);for(var e=[],s=Math.max(l((r-a)/(n||1)),0),o=0;o<s;o++)e.push(a),a+=n;return e};p.exports=v},43886:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(v,a,r){var n=v[a];v[a]=v[r],v[r]=n}function t(v,a){return v<a?-1:v>a?1:0}var l=function(v,a,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=v.length-1),e===void 0&&(e=t);n>r;){if(n-r>600){var s=n-r+1,o=a-r+1,i=Math.log(s),h=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*h*(s-h)/s)*(o-s/2<0?-1:1),d=Math.max(r,Math.floor(a-o*h/s+u)),f=Math.min(n,Math.floor(a+(s-o)*h/s+u));l(v,a,d,f,e)}var c=v[a],g=r,m=n;for(S(v,r,a),e(v[n],c)>0&&S(v,r,n);g<m;){for(S(v,g,m),g++,m--;e(v[g],c)<0;)g++;for(;e(v[m],c)>0;)m--}e(v[r],c)===0?S(v,r,m):(m++,S(v,m,n)),m<=a&&(r=m+1),a<=m&&(n=m-1)}};p.exports=l},88492:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=t(33680),a=function(n,e,s){for(var o=[],i=0;i<n.length;i++)for(var h=0;h<e.length;h++)for(var u=0;u<s;u++)o.push({a:n[i],b:e[h]});return o},r=function(n,e,s){var o=l(s,"max",0),i=l(s,"qty",1),h=l(s,"random",!1),u=l(s,"randomB",!1),d=l(s,"repeat",0),f=l(s,"yoyo",!1),c=[];if(u&&v(e),d===-1)if(o===0)d=0;else{var g=n.length*e.length*i;f&&(g*=2),d=Math.ceil(o/g)}for(var m=0;m<=d;m++){var y=a(n,e,i);h&&v(y),c=c.concat(y),f&&(y.reverse(),c=c.concat(y))}return o&&c.splice(o),c};p.exports=r},72905:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),v=function(a,r,n,e){e===void 0&&(e=a);var s;if(!Array.isArray(r))return s=a.indexOf(r),s!==-1?(l(a,s),n&&n.call(e,r),r):null;for(var o=r.length-1,i=[];o>=0;){var h=r[o];s=a.indexOf(h),s!==-1&&(l(a,s),i.push(h),n&&n.call(e,h)),o--}return i};p.exports=v},60248:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),v=function(a,r,n,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var s=l(a,r);return n&&n.call(e,s),s};p.exports=v},81409:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,n,e,s){if(r===void 0&&(r=0),n===void 0&&(n=a.length),s===void 0&&(s=a),l(a,r,n)){var o=n-r,i=a.splice(r,o);if(e)for(var h=0;h<i.length;h++){var u=i[h];e.call(s,u)}return i}else return[]};p.exports=v},31856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19133),v=function(a,r,n){r===void 0&&(r=0),n===void 0&&(n=a.length);var e=r+Math.floor(Math.random()*n);return l(a,e)};p.exports=v},42169:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=t.indexOf(l),r=t.indexOf(v);return a!==-1&&r===-1?(t[a]=v,!0):!1};p.exports=S},86003:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);for(var v=null,a=0;a<l;a++)v=t.shift(),t.push(v);return v};p.exports=S},49498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){l===void 0&&(l=1);for(var v=null,a=0;a<l;a++)v=t.pop(),t.unshift(v);return v};p.exports=S},82011:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){var r=t.length;if(l<0||l>=r||l>=v||v>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=S},89545:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){var v=t.indexOf(l);return v!==-1&&v>0&&(t.splice(v,1),t.unshift(l)),l};p.exports=S},17810:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82011),v=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),l(a,e,s))for(var o=e;o<s;o++){var i=a[o];i.hasOwnProperty(r)&&(i[r]=n)}return a};p.exports=v},33680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=t.length-1;l>0;l--){var v=Math.floor(Math.random()*(l+1)),a=t[l];t[l]=t[v],t[v]=a}return t};p.exports=S},90126:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l=/\D/g;return t.sort(function(v,a){return parseInt(v.replace(l,""),10)-parseInt(a.replace(l,""),10)}),t};p.exports=S},19133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){if(!(l>=t.length)){for(var v=t.length-1,a=t[l],r=l;r<v;r++)t[r]=t[r+1];return t.length=v,a}};p.exports=S},19186:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82264);function v(e,s){return String(e).localeCompare(s)}function a(e,s){var o=e.length;if(o<=1)return e;for(var i=new Array(o),h=1;h<o;h*=2){r(e,s,h,i);var u=e;e=i,i=u}return e}function r(e,s,o,i){var h=e.length,u=0,d=o*2,f,c,g,m,y;for(f=0;f<h;f+=d)for(c=f+o,g=c+o,c>h&&(c=h),g>h&&(g=h),m=f,y=c;;)if(m<c&&y<g)s(e[m],e[y])<=0?i[u++]=e[m++]:i[u++]=e[y++];else if(m<c)i[u++]=e[m++];else if(y<g)i[u++]=e[y++];else break}var n=function(e,s){if(s===void 0&&(s=v),!e||e.length<2)return e;if(l.features.stableSort)return e.sort(s);var o=a(e,s);return o!==e&&r(o,null,e.length,e),e};p.exports=n},25630:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(l===v)return t;var a=t.indexOf(l),r=t.indexOf(v);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=v,t[r]=l,t};p.exports=S},37105:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var l=t[0].length,v=1;v<t.length;v++)if(t[v].length!==l)return!1;return!0};p.exports=S},63362:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41836),v=t(86922),a=function(r){var n="";if(!v(r))return n;for(var e=0;e<r.length;e++){for(var s=0;s<r[e].length;s++){var o=r[e][s].toString();o!=="undefined"?n+=l(o,2):n+="?",s<r[e].length-1&&(n+=" |")}if(e<r.length-1){n+=`
`;for(var i=0;i<r[e].length;i++)n+="---",i<r[e].length-1&&(n+="+");n+=`
`}}return n};p.exports=a},92598:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};p.exports=S},21224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=0;l<t.length;l++)t[l].reverse();return t};p.exports=S},98717:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),v=function(a){return l(a,180)};p.exports=v},44657:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),v=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=l(a,90);return a};p.exports=v},37829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86922),v=t(2429),a=function(r,n){if(n===void 0&&(n=90),!l(r))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")r=v(r),r.reverse();else if(n===-90||n===270||n==="rotateRight")r.reverse(),r=v(r);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=a},92632:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37829),v=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=l(a,-90);return a};p.exports=v},69512:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86003),v=t(49498),a=function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?l(r,Math.abs(e)):v(r,e)),n!==0)for(var s=0;s<r.length;s++){var o=r[s];n<0?l(o,Math.abs(n)):v(o,n)}return r};p.exports=a},2429:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var l=t.length,v=t[0].length,a=new Array(v),r=0;r<v;r++){a[r]=new Array(l);for(var n=l-1;n>-1;n--)a[r][n]=t[n][r]}return a};p.exports=S},54915:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(l,v){for(var a=new Uint8Array(l),r=a.length,n=v?"data:"+v+";base64,":"",e=0;e<r;e+=3)n+=S[a[e]>>2],n+=S[(a[e]&3)<<4|a[e+1]>>4],n+=S[(a[e+1]&15)<<2|a[e+2]>>6],n+=S[a[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};p.exports=t},53134:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),l=0;l<S.length;l++)t[S.charCodeAt(l)]=l;var v=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,n=r*.75,e=0,s,o,i,h;a[r-1]==="="&&(n--,a[r-2]==="="&&n--);for(var u=new ArrayBuffer(n),d=new Uint8Array(u),f=0;f<r;f+=4)s=t[a.charCodeAt(f)],o=t[a.charCodeAt(f+1)],i=t[a.charCodeAt(f+2)],h=t[a.charCodeAt(f+3)],d[e++]=s<<2|o>>4,d[e++]=(o&15)<<4|i>>2,d[e++]=(i&3)<<6|h&63;return u};p.exports=v},65839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l={};for(var v in t)Array.isArray(t[v])?l[v]=t[v].slice(0):l[v]=t[v];return l};p.exports=S},62644:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var l,v,a;if(typeof t!="object"||t===null)return t;l=Array.isArray(t)?[]:{};for(a in t)v=t[a],l[a]=S(v);return l};p.exports=S},79291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41212),v=function(){var a,r,n,e,s,o,i=arguments[0]||{},h=1,u=arguments.length,d=!1;for(typeof i=="boolean"&&(d=i,i=arguments[1]||{},h=2),u===h&&(i=this,--h);h<u;h++)if((a=arguments[h])!=null)for(r in a)n=i[r],e=a[r],i!==e&&(d&&e&&(l(e)||(s=Array.isArray(e)))?(s?(s=!1,o=n&&Array.isArray(n)?n:[]):o=n&&l(n)?n:{},i[r]=v(d,o,e)):e!==void 0&&(i[r]=e));return i};p.exports=v},23568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75508),v=t(35154),a=function(r,n,e){var s=v(r,n,null);if(s===null)return e;if(Array.isArray(s))return l.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return l.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return l.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(n);return s};p.exports=a},95540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){var a=typeof t;return!t||a==="number"||a==="string"?v:t.hasOwnProperty(l)&&t[l]!==void 0?t[l]:v};p.exports=S},82840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35154),v=t(45319),a=function(r,n,e,s,o){o===void 0&&(o=e);var i=l(r,n,o);return v(i,e,s)};p.exports=a},35154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){if(!t&&!a||typeof t=="number")return v;if(t&&t.hasOwnProperty(l))return t[l];if(a&&a.hasOwnProperty(l))return a[l];if(l.indexOf(".")!==-1){for(var r=l.split("."),n=t,e=a,s=v,o=v,i=!0,h=!0,u=0;u<r.length;u++)n&&n.hasOwnProperty(r[u])?(s=n[r[u]],n=n[r[u]]):i=!1,e&&e.hasOwnProperty(r[u])?(o=e[r[u]],e=e[r[u]]):h=!1;return i?s:h?o:v}else return v};p.exports=S},69036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var v=0;v<l.length;v++)if(!t.hasOwnProperty(l[v]))return!1;return!0};p.exports=S},1985:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){for(var v=0;v<l.length;v++)if(t.hasOwnProperty(l[v]))return!0;return!1};p.exports=S},97022:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.hasOwnProperty(l)};p.exports=S},41212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=S},46975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r){var n=l(a);for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e]);return n};p.exports=v},269:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(41786),v=function(a,r){var n=l(a);for(var e in r)n.hasOwnProperty(e)&&(n[e]=r[e]);return n};p.exports=v},18254:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97022),v=function(a,r){for(var n={},e=0;e<r.length;e++){var s=r[e];l(a,s)&&(n[s]=a[s])}return n};p.exports=v},61622:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(l))return t[l]=v,!0;if(l.indexOf(".")!==-1){for(var a=l.split("."),r=t,n=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))n=r,r=r[a[e]];else return!1;return n[a[a.length-1]]=v,!0}return!1};p.exports=S},1183:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return t.replace(/%([0-9]+)/g,function(v,a){return l[Number(a)-1]})};p.exports=S},41836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l,v,a){l===void 0&&(l=0),v===void 0&&(v=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(l+1>=t.length)switch(a){case 1:t=new Array(l+1-t.length).join(v)+t;break;case 3:var n=Math.ceil((r=l-t.length)/2),e=r-n;t=new Array(e+1).join(v)+t+new Array(n+1).join(v);break;default:t=t+new Array(l+1-t.length).join(v);break}return t};p.exports=S},33628:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,l){return l===0?t.slice(1):t.slice(0,l)+t.slice(l+1)};p.exports=S},27671:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};p.exports=S},45650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var l=Math.random()*16|0,v=t==="x"?l:l&3|8;return v.toString(16)})};p.exports=S},35355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=S},31749:(p,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},b={};function D(p){var S=b[p];if(S!==void 0)return S.exports;var t=b[p]={exports:{}};return F[p](t,t.exports,D),t.exports}D.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var V=D(85454);return V})())})(Dn);var ie=Dn.exports;const mt=jn(ie);var Ft,gt,En,Oe=(En=class{constructor(L){Ct(this,Ft);Ct(this,gt,0);dt(this,Ft,new DataView(L.buffer)),dt(this,gt,L.byteOffset)}get offset(){return q(this,gt)}readUInt8Array(){const L=this.readU32(),E=new Uint8Array(q(this,Ft).buffer,q(this,gt),L);return dt(this,gt,q(this,gt)+L),E}readBool(){const L=q(this,Ft).getUint8(q(this,gt));return dt(this,gt,q(this,gt)+1),L!==0}readByte(){const L=q(this,Ft).getUint8(q(this,gt));return dt(this,gt,q(this,gt)+1),L}readBytes(L){const E=new DataView(q(this,Ft).buffer,q(this,gt),L);return dt(this,gt,q(this,gt)+L),new Uint8Array(E.buffer)}readI8(){const L=q(this,Ft).getInt8(q(this,gt));return dt(this,gt,q(this,gt)+1),L}readU8(){const L=q(this,Ft).getUint8(q(this,gt));return dt(this,gt,q(this,gt)+1),L}readI16(){const L=q(this,Ft).getInt16(q(this,gt),!0);return dt(this,gt,q(this,gt)+2),L}readU16(){const L=q(this,Ft).getUint16(q(this,gt),!0);return dt(this,gt,q(this,gt)+2),L}readI32(){const L=q(this,Ft).getInt32(q(this,gt),!0);return dt(this,gt,q(this,gt)+4),L}readU32(){const L=q(this,Ft).getUint32(q(this,gt),!0);return dt(this,gt,q(this,gt)+4),L}readI64(){const L=q(this,Ft).getBigInt64(q(this,gt),!0);return dt(this,gt,q(this,gt)+8),L}readU64(){const L=q(this,Ft).getBigUint64(q(this,gt),!0);return dt(this,gt,q(this,gt)+8),L}readU128(){const L=q(this,Ft).getBigUint64(q(this,gt),!0),E=q(this,Ft).getBigUint64(q(this,gt)+8,!0);return dt(this,gt,q(this,gt)+16),(E<<BigInt(64))+L}readI128(){const L=q(this,Ft).getBigUint64(q(this,gt),!0),E=q(this,Ft).getBigInt64(q(this,gt)+8,!0);return dt(this,gt,q(this,gt)+16),(E<<BigInt(64))+L}readU256(){const L=q(this,Ft).getBigUint64(q(this,gt),!0),E=q(this,Ft).getBigUint64(q(this,gt)+8,!0),F=q(this,Ft).getBigUint64(q(this,gt)+16,!0),b=q(this,Ft).getBigUint64(q(this,gt)+24,!0);return dt(this,gt,q(this,gt)+32),(b<<BigInt(3*64))+(F<<BigInt(2*64))+(E<<BigInt(1*64))+L}readI256(){const L=q(this,Ft).getBigUint64(q(this,gt),!0),E=q(this,Ft).getBigUint64(q(this,gt)+8,!0),F=q(this,Ft).getBigUint64(q(this,gt)+16,!0),b=q(this,Ft).getBigInt64(q(this,gt)+24,!0);return dt(this,gt,q(this,gt)+32),(b<<BigInt(3*64))+(F<<BigInt(2*64))+(E<<BigInt(1*64))+L}readF32(){const L=q(this,Ft).getFloat32(q(this,gt),!0);return dt(this,gt,q(this,gt)+4),L}readF64(){const L=q(this,Ft).getFloat64(q(this,gt),!0);return dt(this,gt,q(this,gt)+8),L}readString(){const L=this.readU32(),E=new Uint8Array(q(this,Ft).buffer,q(this,gt),L),b=new TextDecoder("utf-8").decode(E);return dt(this,gt,q(this,gt)+L),b}},Ft=new WeakMap,gt=new WeakMap,En),jt,Dt,yt,Vt,Wt,An,Gt=(An=class{constructor(L){Ct(this,Vt);Ct(this,jt);Ct(this,Dt);Ct(this,yt,0);dt(this,jt,new Uint8Array(L)),dt(this,Dt,new DataView(q(this,jt).buffer))}getBuffer(){return q(this,jt).slice(0,q(this,yt))}writeUInt8Array(L){const E=L.length;ft(this,Vt,Wt).call(this,4+E),this.writeU32(E),q(this,jt).set(L,q(this,yt)),dt(this,yt,q(this,yt)+L.length)}writeBool(L){ft(this,Vt,Wt).call(this,1),q(this,Dt).setUint8(q(this,yt),L?1:0),dt(this,yt,q(this,yt)+1)}writeByte(L){ft(this,Vt,Wt).call(this,1),q(this,Dt).setUint8(q(this,yt),L),dt(this,yt,q(this,yt)+1)}writeI8(L){ft(this,Vt,Wt).call(this,1),q(this,Dt).setInt8(q(this,yt),L),dt(this,yt,q(this,yt)+1)}writeU8(L){ft(this,Vt,Wt).call(this,1),q(this,Dt).setUint8(q(this,yt),L),dt(this,yt,q(this,yt)+1)}writeI16(L){ft(this,Vt,Wt).call(this,2),q(this,Dt).setInt16(q(this,yt),L,!0),dt(this,yt,q(this,yt)+2)}writeU16(L){ft(this,Vt,Wt).call(this,2),q(this,Dt).setUint16(q(this,yt),L,!0),dt(this,yt,q(this,yt)+2)}writeI32(L){ft(this,Vt,Wt).call(this,4),q(this,Dt).setInt32(q(this,yt),L,!0),dt(this,yt,q(this,yt)+4)}writeU32(L){ft(this,Vt,Wt).call(this,4),q(this,Dt).setUint32(q(this,yt),L,!0),dt(this,yt,q(this,yt)+4)}writeI64(L){ft(this,Vt,Wt).call(this,8),q(this,Dt).setBigInt64(q(this,yt),L,!0),dt(this,yt,q(this,yt)+8)}writeU64(L){ft(this,Vt,Wt).call(this,8),q(this,Dt).setBigUint64(q(this,yt),L,!0),dt(this,yt,q(this,yt)+8)}writeU128(L){ft(this,Vt,Wt).call(this,16);const E=L&BigInt("0xFFFFFFFFFFFFFFFF"),F=L>>BigInt(64);q(this,Dt).setBigUint64(q(this,yt),E,!0),q(this,Dt).setBigUint64(q(this,yt)+8,F,!0),dt(this,yt,q(this,yt)+16)}writeI128(L){ft(this,Vt,Wt).call(this,16);const E=L&BigInt("0xFFFFFFFFFFFFFFFF"),F=L>>BigInt(64);q(this,Dt).setBigInt64(q(this,yt),E,!0),q(this,Dt).setBigInt64(q(this,yt)+8,F,!0),dt(this,yt,q(this,yt)+16)}writeU256(L){ft(this,Vt,Wt).call(this,32);const E=BigInt("0xFFFFFFFFFFFFFFFF"),F=L&E,b=L>>BigInt(64*1)&E,D=L>>BigInt(64*2)&E,V=L>>BigInt(64*3);q(this,Dt).setBigUint64(q(this,yt)+8*0,F,!0),q(this,Dt).setBigUint64(q(this,yt)+8*1,b,!0),q(this,Dt).setBigUint64(q(this,yt)+8*2,D,!0),q(this,Dt).setBigUint64(q(this,yt)+8*3,V,!0),dt(this,yt,q(this,yt)+32)}writeI256(L){ft(this,Vt,Wt).call(this,32);const E=BigInt("0xFFFFFFFFFFFFFFFF"),F=L&E,b=L>>BigInt(64*1)&E,D=L>>BigInt(64*2)&E,V=L>>BigInt(64*3);q(this,Dt).setBigUint64(q(this,yt)+8*0,F,!0),q(this,Dt).setBigUint64(q(this,yt)+8*1,b,!0),q(this,Dt).setBigUint64(q(this,yt)+8*2,D,!0),q(this,Dt).setBigInt64(q(this,yt)+8*3,V,!0),dt(this,yt,q(this,yt)+32)}writeF32(L){ft(this,Vt,Wt).call(this,4),q(this,Dt).setFloat32(q(this,yt),L,!0),dt(this,yt,q(this,yt)+4)}writeF64(L){ft(this,Vt,Wt).call(this,8),q(this,Dt).setFloat64(q(this,yt),L,!0),dt(this,yt,q(this,yt)+8)}writeString(L){const F=new TextEncoder().encode(L);this.writeU32(F.length),ft(this,Vt,Wt).call(this,F.length),q(this,jt).set(F,q(this,yt)),dt(this,yt,q(this,yt)+F.length)}},jt=new WeakMap,Dt=new WeakMap,yt=new WeakMap,Vt=new WeakSet,Wt=function(L){const E=q(this,yt)+L+1;if(E<=q(this,jt).length)return;let F=q(this,jt).length*2;F<E&&(F=E);const b=new Uint8Array(F);b.set(q(this,jt)),dt(this,jt,b),dt(this,Dt,new DataView(q(this,jt).buffer))},An);function At(L,E){if(L===E)return!0;if(typeof L!="object"||L===null||typeof E!="object"||E===null)return!1;const F=Object.keys(L),b=Object.keys(E);if(F.length!==b.length)return!1;for(let D of F)if(!b.includes(D)||!At(L[D],E[D]))return!1;return!0}function On(L){return Array.prototype.map.call(L.reverse(),E=>("00"+E.toString(16)).slice(-2)).join("")}function qn(L){if(L.length!=16)throw new Error(`Uint8Array is not 16 bytes long: ${L}`);return new Oe(L).readU128()}function _n(L){if(L.length!=32)throw new Error(`Uint8Array is not 32 bytes long: [${L}]`);return new Oe(L).readU256()}function bn(L){L.startsWith("0x")&&(L=L.slice(2));let E=L.match(/.{1,2}/g)||[],F=Uint8Array.from(E.map(b=>parseInt(b,16)));return F.length!=32?new Uint8Array(0):F.reverse()}function tr(L){return qn(bn(L))}function er(L){return _n(bn(L))}function In(L){let E=new Gt(16);return E.writeU128(L),E.getBuffer()}function ir(L){return On(In(L))}function Bn(L){let E=new Gt(32);return E.writeU256(L),E.getBuffer()}function sr(L){return On(Bn(L))}var rs=class vi{constructor(E){$(this,"data");this.data=E}get __connection_id__(){return this.data}isZero(){return this.data===BigInt(0)}static nullIfZero(E){return E.isZero()?null:E}static random(){function E(){return Math.floor(Math.random()*255)}let F=BigInt(0);for(let b=0;b<16;b++)F=F<<BigInt(8)|BigInt(E());return new vi(F)}isEqual(E){return this.data==E.data}toHexString(){return ir(this.data)}toUint8Array(){return In(this.data)}static fromString(E){return new vi(tr(E))}static fromStringOrNull(E){let F=vi.fromString(E);return F.isZero()?null:F}},re,nr=(re=class{constructor(E){$(this,"__time_duration_micros__");this.__time_duration_micros__=E}get micros(){return this.__time_duration_micros__}get millis(){return Number(this.micros/re.MICROS_PER_MILLIS)}static fromMillis(E){return new re(BigInt(E)*re.MICROS_PER_MILLIS)}},$(re,"MICROS_PER_MILLIS",1000n),re),ee,rr=(ee=class{constructor(E){$(this,"__timestamp_micros_since_unix_epoch__");this.__timestamp_micros_since_unix_epoch__=E}get microsSinceUnixEpoch(){return this.__timestamp_micros_since_unix_epoch__}static now(){return ee.fromDate(new Date)}static fromDate(E){const F=E.getTime(),b=BigInt(F)*ee.MICROS_PER_MILLIS;return new ee(b)}toDate(){const F=this.__timestamp_micros_since_unix_epoch__/ee.MICROS_PER_MILLIS;if(F>BigInt(Number.MAX_SAFE_INTEGER)||F<BigInt(Number.MIN_SAFE_INTEGER))throw new RangeError("Timestamp is outside of the representable range of JS's Date");return new Date(Number(F))}},$(ee,"MICROS_PER_MILLIS",1000n),$(ee,"UNIX_EPOCH",new ee(0n)),ee),ar=class Nn{constructor(E){$(this,"data");this.data=typeof E=="string"?er(E):E}get __identity__(){return this.data}isEqual(E){return this.toHexString()===E.toHexString()}toHexString(){return sr(this.data)}toUint8Array(){return Bn(this.data)}static fromString(E){return new Nn(E)}},as;(L=>{function E(){return J.createSumType([new lt("Interval",J.createU64Type()),new lt("Time",J.createU64Type())])}L.getAlgebraicType=E;function F(D){switch(D.tag){case"Interval":return{Interval:D.value};case"Time":return{Time:D.value};default:throw"unreachable"}}L.serialize=F,L.Interval=D=>({tag:"Interval",value:D}),L.Time=D=>({tag:"Time",value:D});function b(D){let V=D.asSumValue();switch(V.tag){case 0:return{tag:"Interval",value:V.value.asBigInt()};case 1:return{tag:"Time",value:V.value.asBigInt()};default:throw"unreachable"}}L.fromValue=b})(as||(as={}));var or=as,lt=class{constructor(L,E){$(this,"name");$(this,"algebraicType");this.name=L,this.algebraicType=E}},hr=class{constructor(L){$(this,"variants");$(this,"serialize",(L,E)=>{if(this.variants.length==2&&this.variants[0].name==="some"&&this.variants[1].name==="none")E?(L.writeByte(0),this.variants[0].algebraicType.serialize(L,E)):L.writeByte(1);else{let F=E.tag;const b=this.variants.findIndex(D=>D.name===F);if(b<0)throw`Can't serialize a sum type, couldn't find ${E.tag} tag`;L.writeU8(b),this.variants[b].algebraicType.serialize(L,E.value)}});$(this,"deserialize",L=>{let E=L.readU8();if(this.variants.length==2&&this.variants[0].name==="some"&&this.variants[1].name==="none"){if(E===0)return this.variants[0].algebraicType.deserialize(L);if(E===1)return;throw`Can't deserialize an option type, couldn't find ${E} tag`}else{let F=this.variants[E],b=F.algebraicType.deserialize(L);return{tag:F.name,value:b}}});this.variants=L}},k=class{constructor(L,E){$(this,"name");$(this,"algebraicType");this.name=L,this.algebraicType=E}},lr=class{constructor(L){$(this,"elements");$(this,"serialize",(L,E)=>{for(let F of this.elements)F.algebraicType.serialize(L,E[F.name])});$(this,"deserialize",L=>{let E={};if(this.elements.length===1){if(this.elements[0].name==="__time_duration_micros__")return new nr(L.readI64());if(this.elements[0].name==="__timestamp_micros_since_unix_epoch__")return new rr(L.readI64());if(this.elements[0].name==="__identity__")return new ar(L.readU256());if(this.elements[0].name==="__connection_id__")return new rs(L.readU128())}for(let F of this.elements)E[F.name]=F.algebraicType.deserialize(L);return E});this.elements=L}isEmpty(){return this.elements.length===0}},ur=class{constructor(L,E){$(this,"keyType");$(this,"valueType");this.keyType=L,this.valueType=E}},Kt,Le,Bt,Se,Ut,os,hs,ls,J=(Se=class{constructor(){Ct(this,Kt);$(this,"type");$(this,"type_")}get product(){if(this.type!==ut.ProductType)throw"product type was requested, but the type is not ProductType";return this.type_}set product(E){ft(this,Kt,Le).call(this,ut.ProductType,E)}get sum(){if(this.type!==ut.SumType)throw"sum type was requested, but the type is not SumType";return this.type_}set sum(E){ft(this,Kt,Le).call(this,ut.SumType,E)}get array(){if(this.type!==ut.ArrayType)throw"array type was requested, but the type is not ArrayType";return this.type_}set array(E){ft(this,Kt,Le).call(this,ut.ArrayType,E)}get map(){if(this.type!==ut.MapType)throw"map type was requested, but the type is not MapType";return this.type_}set map(E){ft(this,Kt,Le).call(this,ut.MapType,E)}static createProductType(E){return ft(this,Bt,Ut).call(this,ut.ProductType,new lr(E))}static createSumType(E){return ft(this,Bt,Ut).call(this,ut.SumType,new hr(E))}static createArrayType(E){return ft(this,Bt,Ut).call(this,ut.ArrayType,E)}static createMapType(E,F){return ft(this,Bt,Ut).call(this,ut.MapType,new ur(E,F))}static createBoolType(){return ft(this,Bt,Ut).call(this,ut.Bool,null)}static createI8Type(){return ft(this,Bt,Ut).call(this,ut.I8,null)}static createU8Type(){return ft(this,Bt,Ut).call(this,ut.U8,null)}static createI16Type(){return ft(this,Bt,Ut).call(this,ut.I16,null)}static createU16Type(){return ft(this,Bt,Ut).call(this,ut.U16,null)}static createI32Type(){return ft(this,Bt,Ut).call(this,ut.I32,null)}static createU32Type(){return ft(this,Bt,Ut).call(this,ut.U32,null)}static createI64Type(){return ft(this,Bt,Ut).call(this,ut.I64,null)}static createU64Type(){return ft(this,Bt,Ut).call(this,ut.U64,null)}static createI128Type(){return ft(this,Bt,Ut).call(this,ut.I128,null)}static createU128Type(){return ft(this,Bt,Ut).call(this,ut.U128,null)}static createI256Type(){return ft(this,Bt,Ut).call(this,ut.I256,null)}static createU256Type(){return ft(this,Bt,Ut).call(this,ut.U256,null)}static createF32Type(){return ft(this,Bt,Ut).call(this,ut.F32,null)}static createF64Type(){return ft(this,Bt,Ut).call(this,ut.F64,null)}static createStringType(){return ft(this,Bt,Ut).call(this,ut.String,null)}static createBytesType(){return this.createArrayType(this.createU8Type())}static createOptionType(E){return this.createSumType([new lt("some",E),new lt("none",this.createProductType([]))])}static createIdentityType(){return this.createProductType([new k("__identity__",this.createU256Type())])}static createConnectionIdType(){return this.createProductType([new k("__connection_id__",this.createU128Type())])}static createScheduleAtType(){return or.getAlgebraicType()}static createTimestampType(){return this.createProductType([new k("__timestamp_micros_since_unix_epoch__",this.createI64Type())])}static createTimeDurationType(){return this.createProductType([new k("__time_duration_micros__",this.createI64Type())])}isProductType(){return this.type===ut.ProductType}isSumType(){return this.type===ut.SumType}isArrayType(){return this.type===ut.ArrayType}isMapType(){return this.type===ut.MapType}isIdentity(){return ft(this,Kt,hs).call(this,"__identity__")}isConnectionId(){return ft(this,Kt,hs).call(this,"__connection_id__")}isScheduleAt(){return this.isSumType()&&this.sum.variants.length===2&&this.sum.variants[0].name==="Interval"&&this.sum.variants[0].algebraicType.type===ut.U64&&this.sum.variants[1].name==="Time"&&this.sum.variants[1].algebraicType.type===ut.U64}isTimestamp(){return ft(this,Kt,ls).call(this,"__timestamp_micros_since_unix_epoch__")}isTimeDuration(){return ft(this,Kt,ls).call(this,"__time_duration_micros__")}serialize(E,F){switch(this.type){case ut.ProductType:this.product.serialize(E,F);break;case ut.SumType:this.sum.serialize(E,F);break;case ut.ArrayType:if(ft(this,Kt,os).call(this))E.writeUInt8Array(F);else{const b=this.array;E.writeU32(F.length);for(let D of F)b.serialize(E,D)}break;case ut.MapType:throw new Error("not implemented");case ut.Bool:E.writeBool(F);break;case ut.I8:E.writeI8(F);break;case ut.U8:E.writeU8(F);break;case ut.I16:E.writeI16(F);break;case ut.U16:E.writeU16(F);break;case ut.I32:E.writeI32(F);break;case ut.U32:E.writeU32(F);break;case ut.I64:E.writeI64(F);break;case ut.U64:E.writeU64(F);break;case ut.I128:E.writeI128(F);break;case ut.U128:E.writeU128(F);break;case ut.I256:E.writeI256(F);break;case ut.U256:E.writeU256(F);break;case ut.F32:E.writeF32(F);break;case ut.F64:E.writeF64(F);break;case ut.String:E.writeString(F);break;default:throw new Error(`not implemented, ${this.type}`)}}deserialize(E){switch(this.type){case ut.ProductType:return this.product.deserialize(E);case ut.SumType:return this.sum.deserialize(E);case ut.ArrayType:if(ft(this,Kt,os).call(this))return E.readUInt8Array();{const F=this.array,b=E.readU32();let D=[];for(let V=0;V<b;V++)D.push(F.deserialize(E));return D}case ut.MapType:throw new Error("not implemented");case ut.Bool:return E.readBool();case ut.I8:return E.readI8();case ut.U8:return E.readU8();case ut.I16:return E.readI16();case ut.U16:return E.readU16();case ut.I32:return E.readI32();case ut.U32:return E.readU32();case ut.I64:return E.readI64();case ut.U64:return E.readU64();case ut.I128:return E.readI128();case ut.U128:return E.readU128();case ut.U256:return E.readU256();case ut.F32:return E.readF32();case ut.F64:return E.readF64();case ut.String:return E.readString();default:throw new Error(`not implemented, ${this.type}`)}}},Kt=new WeakSet,Le=function(E,F){this.type_=F,this.type=F===void 0?ut.None:E},Bt=new WeakSet,Ut=function(E,F){var D;let b=new Se;return ft(D=b,Kt,Le).call(D,E,F),b},os=function(){return this.isArrayType()&&this.array.type==ut.U8},hs=function(E){return this.isProductType()&&this.product.elements.length===1&&(this.product.elements[0].algebraicType.type==ut.U128||this.product.elements[0].algebraicType.type==ut.U256)&&this.product.elements[0].name===E},ls=function(E){return this.isProductType()&&this.product.elements.length===1&&this.product.elements[0].algebraicType.type===ut.I64&&this.product.elements[0].name===E},Ct(Se,Bt),Se);(L=>{(E=>{E.SumType="SumType",E.ProductType="ProductType",E.ArrayType="ArrayType",E.MapType="MapType",E.Bool="Bool",E.I8="I8",E.U8="U8",E.I16="I16",E.U16="U16",E.I32="I32",E.U32="U32",E.I64="I64",E.U64="U64",E.I128="I128",E.U128="U128",E.I256="I256",E.U256="U256",E.F32="F32",E.F64="F64",E.String="String",E.None="None"})(L.Type||(L.Type={}))})(J||(J={}));var ut=J.Type;function fr(L,E){const F=new Oe(E);return L.deserialize(F)}var us;(L=>{L.FixedSize=D=>({tag:"FixedSize",value:D}),L.RowOffsets=D=>({tag:"RowOffsets",value:D});function E(){return J.createSumType([new lt("FixedSize",J.createU16Type()),new lt("RowOffsets",J.createArrayType(J.createU64Type()))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(us||(us={}));var je;(L=>{function E(){return J.createProductType([new k("sizeHint",us.getTypeScriptAlgebraicType()),new k("rowsData",J.createArrayType(J.createU8Type()))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(je||(je={}));var fs;(L=>{function E(){return J.createProductType([new k("reducer",J.createStringType()),new k("args",J.createArrayType(J.createU8Type())),new k("requestId",J.createU32Type()),new k("flags",J.createU8Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(fs||(fs={}));var ds;(L=>{function E(){return J.createProductType([new k("queryStrings",J.createArrayType(J.createStringType())),new k("requestId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ds||(ds={}));var cs;(L=>{function E(){return J.createProductType([new k("messageId",J.createArrayType(J.createU8Type())),new k("queryString",J.createStringType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(cs||(cs={}));var ne;(L=>{function E(){return J.createProductType([new k("id",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ne||(ne={}));var vs;(L=>{function E(){return J.createProductType([new k("query",J.createStringType()),new k("requestId",J.createU32Type()),new k("queryId",ne.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(vs||(vs={}));var ps;(L=>{function E(){return J.createProductType([new k("queryStrings",J.createArrayType(J.createStringType())),new k("requestId",J.createU32Type()),new k("queryId",ne.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ps||(ps={}));var gs;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("queryId",ne.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(gs||(gs={}));var ms;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("queryId",ne.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ms||(ms={}));var De;(L=>{L.CallReducer=D=>({tag:"CallReducer",value:D}),L.Subscribe=D=>({tag:"Subscribe",value:D}),L.OneOffQuery=D=>({tag:"OneOffQuery",value:D}),L.SubscribeSingle=D=>({tag:"SubscribeSingle",value:D}),L.SubscribeMulti=D=>({tag:"SubscribeMulti",value:D}),L.Unsubscribe=D=>({tag:"Unsubscribe",value:D}),L.UnsubscribeMulti=D=>({tag:"UnsubscribeMulti",value:D});function E(){return J.createSumType([new lt("CallReducer",fs.getTypeScriptAlgebraicType()),new lt("Subscribe",ds.getTypeScriptAlgebraicType()),new lt("OneOffQuery",cs.getTypeScriptAlgebraicType()),new lt("SubscribeSingle",vs.getTypeScriptAlgebraicType()),new lt("SubscribeMulti",ps.getTypeScriptAlgebraicType()),new lt("Unsubscribe",gs.getTypeScriptAlgebraicType()),new lt("UnsubscribeMulti",ms.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(De||(De={}));var gi;(L=>{function E(){return J.createProductType([new k("deletes",je.getTypeScriptAlgebraicType()),new k("inserts",je.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(gi||(gi={}));var ys;(L=>{L.Uncompressed=D=>({tag:"Uncompressed",value:D}),L.Brotli=D=>({tag:"Brotli",value:D}),L.Gzip=D=>({tag:"Gzip",value:D});function E(){return J.createSumType([new lt("Uncompressed",gi.getTypeScriptAlgebraicType()),new lt("Brotli",J.createArrayType(J.createU8Type())),new lt("Gzip",J.createArrayType(J.createU8Type()))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ys||(ys={}));var mi;(L=>{function E(){return J.createProductType([new k("tableId",J.createU32Type()),new k("tableName",J.createStringType()),new k("numRows",J.createU64Type()),new k("updates",J.createArrayType(ys.getTypeScriptAlgebraicType()))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(mi||(mi={}));var Me;(L=>{function E(){return J.createProductType([new k("tables",J.createArrayType(mi.getTypeScriptAlgebraicType()))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Me||(Me={}));var xs;(L=>{function E(){return J.createProductType([new k("quanta",J.createU128Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(xs||(xs={}));var Ts;(L=>{function E(){return J.createProductType([new k("identity",J.createIdentityType()),new k("token",J.createStringType()),new k("connectionId",J.createConnectionIdType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ts||(Ts={}));var Ss;(L=>{function E(){return J.createProductType([new k("databaseUpdate",Me.getTypeScriptAlgebraicType()),new k("requestId",J.createU32Type()),new k("totalHostExecutionDuration",J.createTimeDurationType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ss||(Ss={}));var Cs;(L=>{function E(){return J.createProductType([new k("tableName",J.createStringType()),new k("rows",je.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Cs||(Cs={}));var Es;(L=>{function E(){return J.createProductType([new k("messageId",J.createArrayType(J.createU8Type())),new k("error",J.createOptionType(J.createStringType())),new k("tables",J.createArrayType(Cs.getTypeScriptAlgebraicType())),new k("totalHostExecutionDuration",J.createTimeDurationType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Es||(Es={}));var As;(L=>{function E(){return J.createProductType([new k("reducerName",J.createStringType()),new k("reducerId",J.createU32Type()),new k("args",J.createArrayType(J.createU8Type())),new k("requestId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(As||(As={}));var Ps;(L=>{L.Committed=D=>({tag:"Committed",value:D}),L.Failed=D=>({tag:"Failed",value:D}),L.OutOfEnergy={tag:"OutOfEnergy"};function E(){return J.createSumType([new lt("Committed",Me.getTypeScriptAlgebraicType()),new lt("Failed",J.createStringType()),new lt("OutOfEnergy",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ps||(Ps={}));var Ms;(L=>{function E(){return J.createProductType([new k("status",Ps.getTypeScriptAlgebraicType()),new k("timestamp",J.createTimestampType()),new k("callerIdentity",J.createIdentityType()),new k("callerConnectionId",J.createConnectionIdType()),new k("reducerCall",As.getTypeScriptAlgebraicType()),new k("energyQuantaUsed",xs.getTypeScriptAlgebraicType()),new k("totalHostExecutionDuration",J.createTimeDurationType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ms||(Ms={}));var Fs;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("update",Me.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Fs||(Fs={}));var yi;(L=>{function E(){return J.createProductType([new k("tableId",J.createU32Type()),new k("tableName",J.createStringType()),new k("tableRows",mi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(yi||(yi={}));var ws;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",ne.getTypeScriptAlgebraicType()),new k("rows",yi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ws||(ws={}));var Rs;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",ne.getTypeScriptAlgebraicType()),new k("rows",yi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Rs||(Rs={}));var Ls;(L=>{function E(){return J.createProductType([new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("requestId",J.createOptionType(J.createU32Type())),new k("queryId",J.createOptionType(J.createU32Type())),new k("tableId",J.createOptionType(J.createU32Type())),new k("error",J.createStringType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ls||(Ls={}));var Ds;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",ne.getTypeScriptAlgebraicType()),new k("update",Me.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ds||(Ds={}));var Os;(L=>{function E(){return J.createProductType([new k("requestId",J.createU32Type()),new k("totalHostExecutionDurationMicros",J.createU64Type()),new k("queryId",ne.getTypeScriptAlgebraicType()),new k("update",Me.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Os||(Os={}));var bs;(L=>{L.InitialSubscription=D=>({tag:"InitialSubscription",value:D}),L.TransactionUpdate=D=>({tag:"TransactionUpdate",value:D}),L.TransactionUpdateLight=D=>({tag:"TransactionUpdateLight",value:D}),L.IdentityToken=D=>({tag:"IdentityToken",value:D}),L.OneOffQueryResponse=D=>({tag:"OneOffQueryResponse",value:D}),L.SubscribeApplied=D=>({tag:"SubscribeApplied",value:D}),L.UnsubscribeApplied=D=>({tag:"UnsubscribeApplied",value:D}),L.SubscriptionError=D=>({tag:"SubscriptionError",value:D}),L.SubscribeMultiApplied=D=>({tag:"SubscribeMultiApplied",value:D}),L.UnsubscribeMultiApplied=D=>({tag:"UnsubscribeMultiApplied",value:D});function E(){return J.createSumType([new lt("InitialSubscription",Ss.getTypeScriptAlgebraicType()),new lt("TransactionUpdate",Ms.getTypeScriptAlgebraicType()),new lt("TransactionUpdateLight",Fs.getTypeScriptAlgebraicType()),new lt("IdentityToken",Ts.getTypeScriptAlgebraicType()),new lt("OneOffQueryResponse",Es.getTypeScriptAlgebraicType()),new lt("SubscribeApplied",ws.getTypeScriptAlgebraicType()),new lt("UnsubscribeApplied",Rs.getTypeScriptAlgebraicType()),new lt("SubscriptionError",Ls.getTypeScriptAlgebraicType()),new lt("SubscribeMultiApplied",Ds.getTypeScriptAlgebraicType()),new lt("UnsubscribeMultiApplied",Os.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(bs||(bs={}));var Ce,Pn,_i=(Pn=class{constructor(){Ct(this,Ce,new Map)}on(L,E){let F=q(this,Ce).get(L);F||(F=new Set,q(this,Ce).set(L,F)),F.add(E)}off(L,E){let F=q(this,Ce).get(L);F&&F.delete(E)}emit(L,...E){let F=q(this,Ce).get(L);if(F)for(let b of F)b(...E)}},Ce=new WeakMap,Pn),qt,Ee,Je,Mn,ln=(Mn=class{constructor(){Ct(this,Ee);Ct(this,qt,[])}set(L,E){const F=q(this,qt).findIndex(({key:b})=>ft(this,Ee,Je).call(this,b,L));F>-1?q(this,qt)[F].value=E:q(this,qt).push({key:L,value:E})}get(L){const E=q(this,qt).find(({key:F})=>ft(this,Ee,Je).call(this,F,L));return E?E.value:void 0}delete(L){const E=q(this,qt).findIndex(({key:F})=>ft(this,Ee,Je).call(this,F,L));return E>-1?(q(this,qt).splice(E,1),!0):!1}has(L){return q(this,qt).some(({key:E})=>ft(this,Ee,Je).call(this,E,L))}values(){return q(this,qt).map(L=>L.value)}entries(){return q(this,qt)}[Symbol.iterator](){let L=0;const E=q(this,qt);return{next(){return L<E.length?{value:E[L++],done:!1}:{value:null,done:!0}}}}},qt=new WeakMap,Ee=new WeakSet,Je=function(L,E){return L&&typeof L=="object"&&"isEqual"in L?L.isEqual(E):L===E},Mn),dr={component:"📦",info:"ℹ️",warn:"⚠️",error:"❌",debug:"🐛"},cr={component:"color: #fff; background-color: #8D6FDD; padding: 2px 5px; border-radius: 3px;",info:"color: #fff; background-color: #007bff; padding: 2px 5px; border-radius: 3px;",warn:"color: #fff; background-color: #ffc107; padding: 2px 5px; border-radius: 3px;",error:"color: #fff; background-color: #dc3545; padding: 2px 5px; border-radius: 3px;",debug:"color: #fff; background-color: #28a745; padding: 2px 5px; border-radius: 3px;"},vr={component:"color: #8D6FDD;",info:"color: #007bff;",warn:"color: #ffc107;",error:"color: #dc3545;",debug:"color: #28a745;"},Te=(L,E)=>{console.log(`%c${dr[L]} ${L.toUpperCase()}%c ${E}`,cr[L],vr[L])},pr=class{constructor(L){$(this,"rows");$(this,"tableTypeInfo");$(this,"emitter");$(this,"applyOperations",(L,E)=>{const F=[];if(this.tableTypeInfo.primaryKey!==void 0){const b=this.tableTypeInfo.primaryKey,D=new ln,V=new ln;for(const p of L)if(p.type==="insert"){const[S,t]=D.get(p.row[b])||[p,0];D.set(p.row[b],[p,t+1])}else{const[S,t]=V.get(p.row[b])||[p,0];V.set(p.row[b],[p,t+1])}for(const{key:p,value:[S,t]}of D){const l=V.get(p);if(l){const[v,a]=l,r=t-a,n=this.update(E,S,v,r);n&&F.push(n),V.delete(p)}else{const v=this.insert(E,S,t);v&&F.push(v)}}for(const[p,S]of V.values()){const t=this.delete(E,p,S);t&&F.push(t)}}else for(const b of L)if(b.type==="insert"){const D=this.insert(E,b);D&&F.push(D)}else{const D=this.delete(E,b);D&&F.push(D)}return F});$(this,"update",(L,E,F,b=0)=>{const[D,V]=this.rows.get(F.rowId)||[F.row,0],p=Math.max(1,V+b);return this.rows.delete(F.rowId),this.rows.set(E.rowId,[E.row,p]),V===0?(Te("error","Updating a row that was not present in the cache"),{type:"insert",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("insert",L,E.row)}}):(V+b<=0&&Te("error","Negative reference count for row"),{type:"update",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("update",L,D,E.row)}})});$(this,"insert",(L,E,F=1)=>{const[b,D]=this.rows.get(E.rowId)||[E.row,0];if(this.rows.set(E.rowId,[E.row,D+F]),D===0)return{type:"insert",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("insert",L,E.row)}}});$(this,"delete",(L,E,F=1)=>{const[b,D]=this.rows.get(E.rowId)||[E.row,0];if(D===0){Te("warn","Deleting a row that was not present in the cache");return}if(D<=F)return this.rows.delete(E.rowId),{type:"delete",table:this.tableTypeInfo.tableName,cb:()=>{this.emitter.emit("delete",L,E.row)}};this.rows.set(E.rowId,[E.row,D-F])});$(this,"onInsert",L=>{this.emitter.on("insert",L)});$(this,"onDelete",L=>{this.emitter.on("delete",L)});$(this,"onUpdate",L=>{this.emitter.on("update",L)});$(this,"removeOnInsert",L=>{this.emitter.off("insert",L)});$(this,"removeOnDelete",L=>{this.emitter.off("delete",L)});$(this,"removeOnUpdate",L=>{this.emitter.off("update",L)});this.tableTypeInfo=L,this.rows=new Map,this.emitter=new _i}count(){return this.rows.size}iter(){return Array.from(this.rows.values()).map(([L])=>L)}},gr=class{constructor(){$(this,"tables");this.tables=new Map}getTable(L){const E=this.tables.get(L);if(!E)throw console.error("The table has not been registered for this client. Please register the table before using it. If you have registered global tables using the SpacetimeDBClient.registerTables() or `registerTable()` method, please make sure that is executed first!"),new Error(`Table ${L} does not exist`);return E}getOrCreateTable(L){let E;return this.tables.has(L.tableName)?E=this.tables.get(L.tableName):(E=new pr(L),this.tables.set(L.tableName,E)),E}};async function Un(L,E,F=128*1024){let b=0;const D=new ReadableStream({pull(n){if(b<L.length){const e=L.subarray(b,Math.min(b+F,L.length));n.enqueue(e),b+=F}else n.close()}}),V=new DecompressionStream(E),S=D.pipeThrough(V).getReader(),t=[];let l=0,v;for(;!(v=await S.read()).done;)t.push(v.value),l+=v.value.length;const a=new Uint8Array(l);let r=0;for(const n of t)a.set(n,r),r+=n.length;return a}var be,ae,Gn,zn,Is,Ie,mr=(Ie=class{constructor(E){Ct(this,ae);$(this,"onclose");$(this,"onopen");$(this,"onmessage");$(this,"onerror");Ct(this,be);this.onmessage=void 0,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,E.onmessage=ft(this,ae,Gn).bind(this),E.onerror=ft(this,ae,Is).bind(this),E.onclose=ft(this,ae,Is).bind(this),E.onopen=ft(this,ae,zn).bind(this),E.binaryType="arraybuffer",dt(this,be,E)}send(E){q(this,be).send(E)}close(){q(this,be).close()}static async createWebSocketFn({url:E,wsProtocol:F,authToken:b,compression:D,lightMode:V}){const p=new Headers;let S;if(S=WebSocket,b){p.set("Authorization",`Bearer ${b}`);const l=new URL("/v1/identity/websocket-token",E);l.protocol=E.protocol==="wss:"?"https:":"http:";const v=await fetch(l,{method:"POST",headers:p});if(v.ok){const{token:a}=await v.json();E.searchParams.set("token",a)}}E.searchParams.set("compression",D==="gzip"?"Gzip":"None"),V&&E.searchParams.set("light","true");const t=new S(E,F);return new Ie(t)}},be=new WeakMap,ae=new WeakSet,Gn=async function(E){var D;const F=new Uint8Array(E.data);let b;if(F[0]===0)b=F.slice(1);else{if(F[0]===1)throw new Error("Brotli Compression not supported. Please use gzip or none compression in withCompression method on DbConnection.");if(F[0]===2)b=await Un(F.slice(1),"gzip");else throw new Error("Unexpected Compression Algorithm. Please use `gzip` or `none`")}(D=this.onmessage)==null||D.call(this,{data:b})},zn=function(E){var F;(F=this.onopen)==null||F.call(this,E)},Is=function(E){var F;(F=this.onerror)==null||F.call(this,E)},Ie),Be,Ne,ki,_e,Ae,ti,ei,Ue,Fn,yr=(Fn=class{constructor(L,E){Ct(this,Be);Ct(this,Ne);Ct(this,ki);Ct(this,_e);Ct(this,Ae,new _i);Ct(this,ti,"gzip");Ct(this,ei,!1);Ct(this,Ue);this.remoteModule=L,this.dbConnectionConstructor=E,dt(this,Ue,mr.createWebSocketFn)}withUri(L){return dt(this,Be,new URL(L)),this}withModuleName(L){return dt(this,Ne,L),this}withToken(L){return dt(this,_e,L),this}withWSFn(L){return dt(this,Ue,L),this}withCompression(L){return dt(this,ti,L),this}withLightMode(L){return dt(this,ei,L),this}onConnect(L){return q(this,Ae).on("connect",L),this}onConnectError(L){return q(this,Ae).on("connectError",L),this}onDisconnect(L){return q(this,Ae).on("disconnect",L),this}build(){if(!q(this,Be))throw new Error("URI is required to connect to SpacetimeDB");if(!q(this,Ne))throw new Error("Database name or address is required to connect to SpacetimeDB");return this.dbConnectionConstructor(new Xn({uri:q(this,Be),nameOrAddress:q(this,Ne),identity:q(this,ki),token:q(this,_e),emitter:q(this,Ae),compression:q(this,ti),lightMode:q(this,ei),createWSFn:q(this,Ue),remoteModule:this.remoteModule}))}},Be=new WeakMap,Ne=new WeakMap,ki=new WeakMap,_e=new WeakMap,Ae=new WeakMap,ti=new WeakMap,ei=new WeakMap,Ue=new WeakMap,Fn),ii,si,wn,Vn=(wn=class{constructor(L){Ct(this,ii);Ct(this,si);this.db=L}onApplied(L){return dt(this,ii,L),this}onError(L){return dt(this,si,L),this}subscribe(L){const E=Array.isArray(L)?L:[L];if(E.length===0)throw new Error("Subscriptions must have at least one query");return new Tr(this.db,E,q(this,ii),q(this,si))}subscribeToAllTables(){this.subscribe("SELECT * FROM *")}},ii=new WeakMap,si=new WeakMap,wn),xr=class{constructor(){$(this,"subscriptions",new Map)}},Ge,Pe,oe,he,le,Rn,Tr=(Rn=class{constructor(L,E,F,b){Ct(this,Ge);Ct(this,Pe,!1);Ct(this,oe,!1);Ct(this,he,!1);Ct(this,le,new _i);this.db=L,q(this,le).on("applied",D=>{dt(this,he,!0),F&&F(D)}),q(this,le).on("error",(D,V)=>{dt(this,he,!1),dt(this,oe,!0),b&&b(D,V)}),dt(this,Ge,this.db.registerSubscription(this,q(this,le),E))}unsubscribe(){if(q(this,Pe))throw new Error("Unsubscribe has already been called");dt(this,Pe,!0),this.db.unregisterSubscription(q(this,Ge)),q(this,le).on("end",L=>{dt(this,oe,!0),dt(this,he,!1)})}unsubscribeThen(L){if(q(this,oe))throw new Error("Subscription has already ended");if(q(this,Pe))throw new Error("Unsubscribe has already been called");dt(this,Pe,!0),this.db.unregisterSubscription(q(this,Ge)),q(this,le).on("end",E=>{dt(this,oe,!0),dt(this,he,!1),L(E)})}isEnded(){return q(this,oe)}isActive(){return q(this,he)}},Ge=new WeakMap,Pe=new WeakMap,oe=new WeakMap,he=new WeakMap,le=new WeakMap,Rn);function Sr(L){switch(L){case"FullUpdate":return 0;case"NoSuccessNotify":return 1}}var ni,Zt,ze,ji,Ht,ri,se,qi,Lt,Yn,pi,Wn,me,Hn,Kn,$n,Cr,Er,Ar,Pr,Mr,Fr,wr,Ln,Xn=(Ln=class{constructor({uri:L,nameOrAddress:E,identity:F,token:b,emitter:D,remoteModule:V,createWSFn:p,compression:S,lightMode:t}){Ct(this,Lt);$(this,"isActive",!1);$(this,"identity");$(this,"token");$(this,"db");$(this,"reducers");$(this,"setReducerFlags");$(this,"connectionId",rs.random());Ct(this,ni,0);Ct(this,Zt);Ct(this,ze,new _i);Ct(this,ji);Ct(this,Ht);Ct(this,ri,Promise.resolve());Ct(this,se,new xr);$(this,"clientCache");$(this,"ws");$(this,"wsPromise");Ct(this,qi,()=>{const L=q(this,ni);return dt(this,ni,q(this,ni)+1),L});$(this,"subscriptionBuilder",()=>new Vn(this));Te("info","Connecting to SpacetimeDB WS...");let l=new URL(`v1/database/${E}/subscribe`,L);/^wss?:/.test(L.protocol)||(l.protocol="ws:"),this.identity=F,this.token=b,dt(this,Ht,V),dt(this,Zt,D);let v=this.connectionId.toHexString();l.searchParams.set("connection_id",v),this.clientCache=new gr,this.db=q(this,Ht).dbViewConstructor(this),this.setReducerFlags=q(this,Ht).setReducerFlagsConstructor(),this.reducers=q(this,Ht).reducersConstructor(this,this.setReducerFlags),this.wsPromise=p({url:l,wsProtocol:"v1.bsatn.spacetimedb",authToken:b,compression:S,lightMode:t}).then(a=>(this.ws=a,this.ws.onclose=()=>{q(this,Zt).emit("disconnect",this)},this.ws.onerror=r=>{q(this,Zt).emit("connectError",this,r)},this.ws.onopen=ft(this,Lt,Wn).bind(this),this.ws.onmessage=ft(this,Lt,Kn).bind(this),a)).catch(a=>{throw Te("error","Error connecting to SpacetimeDB WS"),ft(this,Lt,$n).call(this,"connectError",a),a})}registerSubscription(L,E,F){const b=q(this,qi).call(this);return q(this,se).subscriptions.set(b,{handle:L,emitter:E}),ft(this,Lt,pi).call(this,De.SubscribeMulti({queryStrings:F,queryId:{id:b},requestId:0})),b}unregisterSubscription(L){ft(this,Lt,pi).call(this,De.UnsubscribeMulti({queryId:{id:L},requestId:0}))}callReducer(L,E,F){const b=De.CallReducer({reducer:L,args:E,requestId:0,flags:Sr(F)});ft(this,Lt,pi).call(this,b)}disconnect(){this.wsPromise.then(L=>{L.close()})}onReducer(L,E){q(this,ze).on(L,E)}offReducer(L,E){q(this,ze).off(L,E)}},ni=new WeakMap,Zt=new WeakMap,ze=new WeakMap,ji=new WeakMap,Ht=new WeakMap,ri=new WeakMap,se=new WeakMap,qi=new WeakMap,Lt=new WeakSet,Yn=async function(L){const E=(D,V,p)=>{const S=p.rowsData,t=new Oe(S),l=[],v=q(this,Ht).tables[V].rowType;for(;t.offset<S.length+S.byteOffset;){const a=v.deserialize(t),r=JSON.stringify(a,(n,e)=>typeof e=="bigint"?e.toString():e);l.push({type:D,rowId:r,row:a})}return l},F=async D=>{const V=D.tableName;let p=[];for(const S of D.updates){let t;if(S.tag==="Gzip"){const l=await Un(S.value,"gzip");t=gi.deserialize(new Oe(l))}else{if(S.tag==="Brotli")throw new Error("Brotli compression not supported. Please use gzip or none compression in withCompression method on DbConnection.");t=S.value}p=p.concat(E("insert",V,t.inserts)),p=p.concat(E("delete",V,t.deletes))}return{tableName:V,operations:p}},b=async D=>{const V=[];for(const p of D.tables)V.push(await F(p));return V};switch(L.tag){case"InitialSubscription":{const D=L.value.databaseUpdate;return{tag:"InitialSubscription",tableUpdates:await b(D)}}case"TransactionUpdateLight":{const D=L.value.update;return{tag:"TransactionUpdateLight",tableUpdates:await b(D)}}case"TransactionUpdate":{const D=L.value,V=D.callerIdentity,p=rs.nullIfZero(D.callerConnectionId),S=D.reducerCall.reducerName,t=D.reducerCall.args,l=D.energyQuantaUsed;let v,a="";switch(D.status.tag){case"Committed":v=await b(D.status.value);break;case"Failed":v=[],a=D.status.value;break;case"OutOfEnergy":v=[];break}if(S==="<none>"){console.error(`Received an error from the database: ${a}`);return}let r;return S!==""&&(r={reducerName:S,args:t}),{tag:"TransactionUpdate",tableUpdates:v,identity:V,connectionId:p,reducerInfo:r,status:D.status,energyConsumed:l.quanta,message:a,timestamp:D.timestamp}}case"IdentityToken":return{tag:"IdentityToken",identity:L.value.identity,token:L.value.token,connectionId:L.value.connectionId};case"OneOffQueryResponse":throw new Error(`TypeScript SDK never sends one-off queries, but got OneOffQueryResponse ${L}`);case"SubscribeMultiApplied":{const D=await b(L.value.update);return{tag:"SubscribeApplied",queryId:L.value.queryId.id,tableUpdates:D}}case"UnsubscribeMultiApplied":{const D=await b(L.value.update);return{tag:"UnsubscribeApplied",queryId:L.value.queryId.id,tableUpdates:D}}case"SubscriptionError":return{tag:"SubscriptionError",queryId:L.value.queryId,error:L.value.error}}},pi=function(L){this.wsPromise.then(E=>{const F=new Gt(1024);De.serialize(F,L);const b=F.getBuffer();E.send(b)})},Wn=function(){this.isActive=!0},me=function(L,E){const F=[];for(let b of L){const D=b.tableName,V=q(this,Ht).tables[D],p=this.clientCache.getOrCreateTable(V);F.push(...p.applyOperations(b.operations,E))}return F},Hn=async function(L){var b,D;const E=fr(bs,L),F=await ft(this,Lt,Yn).call(this,E);if(F)switch(F.tag){case"InitialSubscription":{let V={tag:"SubscribeApplied"};const p=q(this,Ht).eventContextConstructor(this,V),{event:S,...t}=p,l=ft(this,Lt,me).call(this,F.tableUpdates,p);q(this,Zt)&&((b=q(this,ji))==null||b.call(this,t));for(const v of l)v.cb();break}case"TransactionUpdateLight":{let V={tag:"UnknownTransaction"};const p=q(this,Ht).eventContextConstructor(this,V),S=ft(this,Lt,me).call(this,F.tableUpdates,p);for(const t of S)t.cb();break}case"TransactionUpdate":{let V=F.reducerInfo,p=!1,S,t;if(!V)p=!0;else{t=q(this,Ht).reducers[V.reducerName];try{const s=new Oe(V.args);S=t.argsType.deserialize(s)}catch{console.debug("Failed to deserialize reducer arguments"),p=!0}}if(p){const s={tag:"UnknownTransaction"},o=q(this,Ht).eventContextConstructor(this,s),i=ft(this,Lt,me).call(this,F.tableUpdates,o);for(const h of i)h.cb();return}V=V,t=t;const l={callerIdentity:F.identity,status:F.status,callerConnectionId:F.connectionId,timestamp:F.timestamp,energyConsumed:F.energyConsumed,reducer:{name:V.reducerName,args:S}},v={tag:"Reducer",value:l},a=q(this,Ht).eventContextConstructor(this,v),r={...a,event:l},n=ft(this,Lt,me).call(this,F.tableUpdates,a),e=[];t.argsType.product.elements.forEach((s,o)=>{e.push(S[s.name])}),q(this,ze).emit(V.reducerName,r,...e);for(const s of n)s.cb();break}case"IdentityToken":{this.identity=F.identity,!this.token&&F.token&&(this.token=F.token),this.connectionId=F.connectionId,q(this,Zt).emit("connect",this,this.identity,this.token);break}case"SubscribeApplied":{const V=q(this,se).subscriptions.get(F.queryId);if(V===void 0){Te("error",`Received SubscribeApplied for unknown queryId ${F.queryId}.`);break}const p={tag:"SubscribeApplied"},S=q(this,Ht).eventContextConstructor(this,p),{event:t,...l}=S,v=ft(this,Lt,me).call(this,F.tableUpdates,S);V==null||V.emitter.emit("applied",l);for(const a of v)a.cb();break}case"UnsubscribeApplied":{const V=q(this,se).subscriptions.get(F.queryId);if(V===void 0){Te("error",`Received UnsubscribeApplied for unknown queryId ${F.queryId}.`);break}const p={tag:"UnsubscribeApplied"},S=q(this,Ht).eventContextConstructor(this,p),{event:t,...l}=S,v=ft(this,Lt,me).call(this,F.tableUpdates,S);V==null||V.emitter.emit("end",l),q(this,se).subscriptions.delete(F.queryId);for(const a of v)a.cb();break}case"SubscriptionError":{const V=Error(F.error),p={tag:"Error",value:V},t={...q(this,Ht).eventContextConstructor(this,p),event:V};F.queryId!==void 0?((D=q(this,se).subscriptions.get(F.queryId))==null||D.emitter.emit("error",t,V),q(this,se).subscriptions.delete(F.queryId)):(console.error("Received an error message without a queryId: ",V),q(this,se).subscriptions.forEach(({emitter:l})=>{l.emit("error",t,V)}))}}},Kn=function(L){dt(this,ri,q(this,ri).then(()=>ft(this,Lt,Hn).call(this,L.data)))},$n=function(L,E){q(this,Zt).on(L,E)},Cr=function(L,E){q(this,Zt).off(L,E)},Er=function(L){q(this,Zt).on("connect",L)},Ar=function(L){q(this,Zt).on("disconnect",L)},Pr=function(L){q(this,Zt).on("connectError",L)},Mr=function(L){q(this,Zt).off("connect",L)},Fr=function(L){q(this,Zt).off("disconnect",L)},wr=function(L){q(this,Zt).off("connectError",L)},Ln),xi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(xi||(xi={}));var Ti;(L=>{function E(){return J.createProductType([new k("timer",xi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ti||(Ti={}));var Si;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type()),new k("upgradeIndex",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Si||(Si={}));var Ci;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType()),new k("activeAttackId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ci||(Ci={}));var Ei;(L=>{function E(){return J.createProductType([new k("cleanup",Ci.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ei||(Ei={}));var Ai;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType()),new k("activeBossAttackId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ai||(Ai={}));var Pi;(L=>{function E(){return J.createProductType([new k("cleanup",Ai.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Pi||(Pi={}));var Mi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("damageId",J.createU32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Mi||(Mi={}));var Fi;(L=>{function E(){return J.createProductType([new k("cleanup",Mi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Fi||(Fi={}));var Bs;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Bs||(Bs={}));var wi;(L=>{function E(){return J.createProductType([new k("bossTypeIndex",J.createI32Type()),new k("spawnPhaseTwo",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(wi||(wi={}));var Ri;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ri||(Ri={}));var Li;(L=>{function E(){return J.createProductType([new k("timer",Ri.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Li||(Li={}));var ue;(L=>{L.Sword={tag:"Sword"},L.Wand={tag:"Wand"},L.Knives={tag:"Knives"},L.Shield={tag:"Shield"},L.Football={tag:"Football"},L.Cards={tag:"Cards"},L.Dumbbell={tag:"Dumbbell"},L.Garlic={tag:"Garlic"},L.BossBolt={tag:"BossBolt"},L.BossJorgeBolt={tag:"BossJorgeBolt"},L.BossBjornBolt={tag:"BossBjornBolt"},L.WormSpit={tag:"WormSpit"},L.ScorpionSting={tag:"ScorpionSting"};function E(){return J.createSumType([new lt("Sword",J.createProductType([])),new lt("Wand",J.createProductType([])),new lt("Knives",J.createProductType([])),new lt("Shield",J.createProductType([])),new lt("Football",J.createProductType([])),new lt("Cards",J.createProductType([])),new lt("Dumbbell",J.createProductType([])),new lt("Garlic",J.createProductType([])),new lt("BossBolt",J.createProductType([])),new lt("BossJorgeBolt",J.createProductType([])),new lt("BossBjornBolt",J.createProductType([])),new lt("WormSpit",J.createProductType([])),new lt("ScorpionSting",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ue||(ue={}));var Di;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("playerId",J.createU32Type()),new k("attackType",ue.getTypeScriptAlgebraicType()),new k("remainingShots",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("parameterI",J.createI32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Di||(Di={}));var Oi;(L=>{function E(){return J.createProductType([new k("burstCooldown",Di.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Oi||(Oi={}));var Ns;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ns||(Ns={}));var Us;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Us||(Us={}));var bi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(bi||(bi={}));var Ii;(L=>{function E(){return J.createProductType([new k("timer",bi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ii||(Ii={}));var Bi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Bi||(Bi={}));var Ni;(L=>{function E(){return J.createProductType([new k("scheduler",Bi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ni||(Ni={}));var Ui;(L=>{function E(){return J.createProductType([new k("poisonId",J.createU64Type()),new k("playerId",J.createU32Type()),new k("originalSpeed",J.createF32Type()),new k("poisonedSpeed",J.createF32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ui||(Ui={}));var Gi;(L=>{function E(){return J.createProductType([new k("poisonEffect",Ui.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Gi||(Gi={}));var zi;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(zi||(zi={}));var Gs;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Gs||(Gs={}));var Vi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("playerId",J.createU32Type()),new k("attackType",ue.getTypeScriptAlgebraicType()),new k("skillLevel",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("parameterI",J.createI32Type()),new k("duration",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("fireDelay",J.createU32Type()),new k("speed",J.createF32Type()),new k("piercing",J.createBoolType()),new k("radius",J.createF32Type()),new k("damage",J.createU32Type()),new k("armorPiercing",J.createU32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Vi||(Vi={}));var Xi;(L=>{function E(){return J.createProductType([new k("attack",Vi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Xi||(Xi={}));var Yi;(L=>{function E(){return J.createProductType([new k("name",J.createStringType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Yi||(Yi={}));var Wi;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Wi||(Wi={}));var Hi;(L=>{function E(){return J.createProductType([new k("timer",Wi.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Hi||(Hi={}));var qe;(L=>{function E(){return J.createProductType([new k("x",J.createF32Type()),new k("y",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(qe||(qe={}));var Xt;(L=>{L.Rat={tag:"Rat"},L.Slime={tag:"Slime"},L.Orc={tag:"Orc"},L.Wolf={tag:"Wolf"},L.Worm={tag:"Worm"},L.Scorpion={tag:"Scorpion"},L.FinalBossPhase1={tag:"FinalBossPhase1"},L.FinalBossPhase2={tag:"FinalBossPhase2"},L.FinalBossJorgePhase1={tag:"FinalBossJorgePhase1"},L.FinalBossJorgePhase2={tag:"FinalBossJorgePhase2"},L.FinalBossBjornPhase1={tag:"FinalBossBjornPhase1"},L.FinalBossBjornPhase2={tag:"FinalBossBjornPhase2"},L.FinalBossSimonPhase1={tag:"FinalBossSimonPhase1"},L.FinalBossSimonPhase2={tag:"FinalBossSimonPhase2"};function E(){return J.createSumType([new lt("Rat",J.createProductType([])),new lt("Slime",J.createProductType([])),new lt("Orc",J.createProductType([])),new lt("Wolf",J.createProductType([])),new lt("Worm",J.createProductType([])),new lt("Scorpion",J.createProductType([])),new lt("FinalBossPhase1",J.createProductType([])),new lt("FinalBossPhase2",J.createProductType([])),new lt("FinalBossJorgePhase1",J.createProductType([])),new lt("FinalBossJorgePhase2",J.createProductType([])),new lt("FinalBossBjornPhase1",J.createProductType([])),new lt("FinalBossBjornPhase2",J.createProductType([])),new lt("FinalBossSimonPhase1",J.createProductType([])),new lt("FinalBossSimonPhase2",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Xt||(Xt={}));var Ki;(L=>{function E(){return J.createProductType([new k("scheduledId",J.createU64Type()),new k("position",qe.getTypeScriptAlgebraicType()),new k("monsterType",Xt.getTypeScriptAlgebraicType()),new k("targetEntityId",J.createU32Type()),new k("scheduledAt",J.createScheduleAtType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ki||(Ki={}));var $i;(L=>{function E(){return J.createProductType([new k("spawner",Ki.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})($i||($i={}));var Zi;(L=>{function E(){return J.createProductType([new k("classId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Zi||(Zi={}));var zs;(L=>{function E(){return J.createProductType([])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(zs||(zs={}));var Ji;(L=>{function E(){return J.createProductType([new k("dirX",J.createF32Type()),new k("dirY",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ji||(Ji={}));class Rr{constructor(E){$(this,"tableCache");$(this,"identity",{find:E=>{for(let F of this.tableCache.iter())if(At(F.identity,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Lr{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Dr{constructor(E){$(this,"tableCache");$(this,"activeAttackId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.activeAttackId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Or{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class br{constructor(E){$(this,"tableCache");$(this,"activeBossAttackId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.activeBossAttackId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Ir{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Br{constructor(E){$(this,"tableCache");$(this,"attackId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.attackId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Nr{constructor(E){$(this,"tableCache");$(this,"bestiaryId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.bestiaryId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Ur{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Gr{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class zr{constructor(E){$(this,"tableCache");$(this,"chosenUpgradeId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.chosenUpgradeId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Vr{constructor(E){$(this,"tableCache");$(this,"classId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.classId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Xr{constructor(E){$(this,"tableCache");$(this,"id",{find:E=>{for(let F of this.tableCache.iter())if(At(F.id,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Yr{constructor(E){$(this,"tableCache");$(this,"playerId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.playerId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Wr{constructor(E){$(this,"tableCache");$(this,"entityId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.entityId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Hr{constructor(E){$(this,"tableCache");$(this,"configId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.configId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Kr{constructor(E){$(this,"tableCache");$(this,"id",{find:E=>{for(let F of this.tableCache.iter())if(At(F.id,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class $r{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Zr{constructor(E){$(this,"tableCache");$(this,"gemId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.gemId,E))return F}});$(this,"entityId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.entityId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Jr{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class Qr{constructor(E){$(this,"tableCache");$(this,"damageId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.damageId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class kr{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class jr{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class qr{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class _r{constructor(E){$(this,"tableCache");$(this,"monsterId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.monsterId,E))return F}});$(this,"entityId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.entityId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ta{constructor(E){$(this,"tableCache");$(this,"playerId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.playerId,E))return F}});$(this,"entityId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.entityId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ea{constructor(E){$(this,"tableCache");$(this,"poisonId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.poisonId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class ia{constructor(E){$(this,"tableCache");$(this,"scheduledId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.scheduledId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class sa{constructor(E){$(this,"tableCache");$(this,"upgradeId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.upgradeId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}class na{constructor(E){$(this,"tableCache");$(this,"worldId",{find:E=>{for(let F of this.tableCache.iter())if(At(F.worldId,E))return F}});$(this,"onInsert",E=>this.tableCache.onInsert(E));$(this,"removeOnInsert",E=>this.tableCache.removeOnInsert(E));$(this,"onDelete",E=>this.tableCache.onDelete(E));$(this,"removeOnDelete",E=>this.tableCache.removeOnDelete(E));$(this,"onUpdate",E=>this.tableCache.onUpdate(E));$(this,"removeOnUpdate",E=>this.tableCache.removeOnUpdate(E));this.tableCache=E}count(){return this.tableCache.count()}iter(){return this.tableCache.iter()}}var Vs;(L=>{function E(){return J.createProductType([new k("identity",J.createIdentityType()),new k("name",J.createStringType()),new k("currentPlayerId",J.createU32Type()),new k("lastLogin",J.createTimestampType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Vs||(Vs={}));var Xs;(L=>{function E(){return J.createProductType([new k("activeAttackId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("playerId",J.createU32Type()),new k("attackType",ue.getTypeScriptAlgebraicType()),new k("idWithinBurst",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("ticksElapsed",J.createU32Type()),new k("damage",J.createU32Type()),new k("radius",J.createF32Type()),new k("piercing",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Xs||(Xs={}));var Ys;(L=>{function E(){return J.createProductType([new k("activeBossAttackId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("bossMonsterId",J.createU32Type()),new k("attackType",ue.getTypeScriptAlgebraicType()),new k("idWithinBurst",J.createU32Type()),new k("parameterU",J.createU32Type()),new k("ticksElapsed",J.createU32Type()),new k("damage",J.createU32Type()),new k("radius",J.createF32Type()),new k("piercing",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ys||(Ys={}));var Ws;(L=>{function E(){return J.createProductType([new k("attackId",J.createU32Type()),new k("attackType",ue.getTypeScriptAlgebraicType()),new k("name",J.createStringType()),new k("cooldown",J.createU32Type()),new k("duration",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("fireDelay",J.createU32Type()),new k("speed",J.createF32Type()),new k("piercing",J.createBoolType()),new k("radius",J.createF32Type()),new k("damage",J.createU32Type()),new k("armorPiercing",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ws||(Ws={}));var Hs;(L=>{function E(){return J.createProductType([new k("bestiaryId",J.createU32Type()),new k("monsterType",Xt.getTypeScriptAlgebraicType()),new k("maxHp",J.createU32Type()),new k("speed",J.createF32Type()),new k("exp",J.createU32Type()),new k("atk",J.createF32Type()),new k("radius",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Hs||(Hs={}));var Qi;(L=>{L.MaxHp={tag:"MaxHp"},L.HpRegen={tag:"HpRegen"},L.Speed={tag:"Speed"},L.Armor={tag:"Armor"},L.AttackSword={tag:"AttackSword"},L.AttackWand={tag:"AttackWand"},L.AttackKnives={tag:"AttackKnives"},L.AttackShield={tag:"AttackShield"},L.AttackFootball={tag:"AttackFootball"},L.AttackCards={tag:"AttackCards"},L.AttackDumbbell={tag:"AttackDumbbell"},L.AttackGarlic={tag:"AttackGarlic"};function E(){return J.createSumType([new lt("MaxHp",J.createProductType([])),new lt("HpRegen",J.createProductType([])),new lt("Speed",J.createProductType([])),new lt("Armor",J.createProductType([])),new lt("AttackSword",J.createProductType([])),new lt("AttackWand",J.createProductType([])),new lt("AttackKnives",J.createProductType([])),new lt("AttackShield",J.createProductType([])),new lt("AttackFootball",J.createProductType([])),new lt("AttackCards",J.createProductType([])),new lt("AttackDumbbell",J.createProductType([])),new lt("AttackGarlic",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Qi||(Qi={}));var Ks;(L=>{function E(){return J.createProductType([new k("chosenUpgradeId",J.createU32Type()),new k("playerId",J.createU32Type()),new k("upgradeType",Qi.getTypeScriptAlgebraicType()),new k("isAttackUpgrade",J.createBoolType()),new k("value",J.createU32Type()),new k("attackType",J.createU32Type()),new k("damage",J.createU32Type()),new k("cooldownRatio",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("speed",J.createU32Type()),new k("radius",J.createU32Type()),new k("isNewAttack",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ks||(Ks={}));var Ve;(L=>{L.Fighter={tag:"Fighter"},L.Rogue={tag:"Rogue"},L.Mage={tag:"Mage"},L.Paladin={tag:"Paladin"},L.Football={tag:"Football"},L.Gambler={tag:"Gambler"},L.Athlete={tag:"Athlete"},L.Gourmand={tag:"Gourmand"};function E(){return J.createSumType([new lt("Fighter",J.createProductType([])),new lt("Rogue",J.createProductType([])),new lt("Mage",J.createProductType([])),new lt("Paladin",J.createProductType([])),new lt("Football",J.createProductType([])),new lt("Gambler",J.createProductType([])),new lt("Athlete",J.createProductType([])),new lt("Gourmand",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Ve||(Ve={}));const Xe=Ve;var $s;(L=>{function E(){return J.createProductType([new k("classId",J.createU32Type()),new k("playerClass",Ve.getTypeScriptAlgebraicType()),new k("maxHp",J.createI32Type()),new k("armor",J.createI32Type()),new k("speed",J.createF32Type()),new k("startingAttackType",ue.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})($s||($s={}));var Zs;(L=>{function E(){return J.createProductType([new k("id",J.createU32Type()),new k("worldSize",J.createU32Type()),new k("gameTickRate",J.createU32Type()),new k("maxMonsters",J.createU32Type()),new k("playerSpawnGracePeriod",J.createU32Type()),new k("monsterHitCleanupDelay",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Zs||(Zs={}));var Js;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type()),new k("name",J.createStringType()),new k("isTrueSurvivor",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Js||(Js={}));var Qs;(L=>{function E(){return J.createProductType([new k("entityId",J.createU32Type()),new k("position",qe.getTypeScriptAlgebraicType()),new k("direction",qe.getTypeScriptAlgebraicType()),new k("isMoving",J.createBoolType()),new k("radius",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(Qs||(Qs={}));var ks;(L=>{function E(){return J.createProductType([new k("configId",J.createU32Type()),new k("expSmallGem",J.createU32Type()),new k("expMediumGem",J.createU32Type()),new k("expLargeGem",J.createU32Type()),new k("expHugeGem",J.createU32Type()),new k("baseExpPerLevel",J.createU32Type()),new k("levelExpFactor",J.createF32Type()),new k("gemRadius",J.createF32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(ks||(ks={}));var js;(L=>{function E(){return J.createProductType([new k("id",J.createU32Type()),new k("bossActive",J.createBoolType()),new k("bossPhase",J.createU32Type()),new k("bossMonsterId",J.createU32Type()),new k("normalSpawningPaused",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(js||(js={}));var qs;(L=>{L.Small={tag:"Small"},L.Medium={tag:"Medium"},L.Large={tag:"Large"},L.Huge={tag:"Huge"};function E(){return J.createSumType([new lt("Small",J.createProductType([])),new lt("Medium",J.createProductType([])),new lt("Large",J.createProductType([])),new lt("Huge",J.createProductType([]))])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(qs||(qs={}));var _s;(L=>{function E(){return J.createProductType([new k("gemId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("level",qs.getTypeScriptAlgebraicType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(_s||(_s={}));var tn;(L=>{function E(){return J.createProductType([new k("damageId",J.createU32Type()),new k("monsterId",J.createU32Type()),new k("attackEntityId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(tn||(tn={}));var en;(L=>{function E(){return J.createProductType([new k("monsterId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("bestiaryId",Xt.getTypeScriptAlgebraicType()),new k("hp",J.createU32Type()),new k("maxHp",J.createU32Type()),new k("atk",J.createF32Type()),new k("speed",J.createF32Type()),new k("targetEntityId",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(en||(en={}));var sn;(L=>{function E(){return J.createProductType([new k("playerId",J.createU32Type()),new k("entityId",J.createU32Type()),new k("name",J.createStringType()),new k("spawnGracePeriodRemaining",J.createU32Type()),new k("playerClass",Ve.getTypeScriptAlgebraicType()),new k("level",J.createU32Type()),new k("exp",J.createU32Type()),new k("expForNextLevel",J.createU32Type()),new k("maxHp",J.createF32Type()),new k("hp",J.createF32Type()),new k("hpRegen",J.createU32Type()),new k("speed",J.createF32Type()),new k("armor",J.createU32Type()),new k("unspentUpgrades",J.createU32Type()),new k("rerolls",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(sn||(sn={}));var nn;(L=>{function E(){return J.createProductType([new k("upgradeId",J.createU32Type()),new k("playerId",J.createU32Type()),new k("upgradeIndex",J.createU32Type()),new k("upgradeType",Qi.getTypeScriptAlgebraicType()),new k("isAttackUpgrade",J.createBoolType()),new k("value",J.createU32Type()),new k("attackType",J.createU32Type()),new k("damage",J.createU32Type()),new k("cooldownRatio",J.createU32Type()),new k("projectiles",J.createU32Type()),new k("speed",J.createU32Type()),new k("radius",J.createU32Type()),new k("isNewAttack",J.createBoolType())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(nn||(nn={}));var rn;(L=>{function E(){return J.createProductType([new k("worldId",J.createU32Type()),new k("tickCount",J.createU32Type())])}L.getTypeScriptAlgebraicType=E;function F(D,V){L.getTypeScriptAlgebraicType().serialize(D,V)}L.serialize=F;function b(D){return L.getTypeScriptAlgebraicType().deserialize(D)}L.deserialize=b})(rn||(rn={}));const Mt={tables:{account:{tableName:"account",rowType:Vs.getTypeScriptAlgebraicType(),primaryKey:"identity"},active_attack_cleanup:{tableName:"active_attack_cleanup",rowType:Ci.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},active_attacks:{tableName:"active_attacks",rowType:Xs.getTypeScriptAlgebraicType(),primaryKey:"activeAttackId"},active_boss_attack_cleanup:{tableName:"active_boss_attack_cleanup",rowType:Ai.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},active_boss_attacks:{tableName:"active_boss_attacks",rowType:Ys.getTypeScriptAlgebraicType(),primaryKey:"activeBossAttackId"},attack_burst_cooldowns:{tableName:"attack_burst_cooldowns",rowType:Di.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},attack_data:{tableName:"attack_data",rowType:Ws.getTypeScriptAlgebraicType(),primaryKey:"attackId"},bestiary:{tableName:"bestiary",rowType:Hs.getTypeScriptAlgebraicType(),primaryKey:"bestiaryId"},boss_attack_timer:{tableName:"boss_attack_timer",rowType:xi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},boss_spawn_timer:{tableName:"boss_spawn_timer",rowType:Wi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},chosen_upgrades:{tableName:"chosen_upgrades",rowType:Ks.getTypeScriptAlgebraicType(),primaryKey:"chosenUpgradeId"},class_data:{tableName:"class_data",rowType:$s.getTypeScriptAlgebraicType(),primaryKey:"classId"},config:{tableName:"config",rowType:Zs.getTypeScriptAlgebraicType(),primaryKey:"id"},dead_players:{tableName:"dead_players",rowType:Js.getTypeScriptAlgebraicType(),primaryKey:"playerId"},entity:{tableName:"entity",rowType:Qs.getTypeScriptAlgebraicType(),primaryKey:"entityId"},exp_config:{tableName:"exp_config",rowType:ks.getTypeScriptAlgebraicType(),primaryKey:"configId"},game_state:{tableName:"game_state",rowType:js.getTypeScriptAlgebraicType(),primaryKey:"id"},game_tick_timer:{tableName:"game_tick_timer",rowType:Ri.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},gems:{tableName:"gems",rowType:_s.getTypeScriptAlgebraicType(),primaryKey:"gemId"},health_regen_scheduler:{tableName:"health_regen_scheduler",rowType:Bi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_damage:{tableName:"monster_damage",rowType:tn.getTypeScriptAlgebraicType(),primaryKey:"damageId"},monster_hit_cleanup:{tableName:"monster_hit_cleanup",rowType:Mi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_spawn_timer:{tableName:"monster_spawn_timer",rowType:bi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monster_spawners:{tableName:"monster_spawners",rowType:Ki.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},monsters:{tableName:"monsters",rowType:en.getTypeScriptAlgebraicType(),primaryKey:"monsterId"},player:{tableName:"player",rowType:sn.getTypeScriptAlgebraicType(),primaryKey:"playerId"},player_poison_effect:{tableName:"player_poison_effect",rowType:Ui.getTypeScriptAlgebraicType(),primaryKey:"poisonId"},player_scheduled_attacks:{tableName:"player_scheduled_attacks",rowType:Vi.getTypeScriptAlgebraicType(),primaryKey:"scheduledId"},upgrade_options:{tableName:"upgrade_options",rowType:nn.getTypeScriptAlgebraicType(),primaryKey:"upgradeId"},world:{tableName:"world",rowType:rn.getTypeScriptAlgebraicType(),primaryKey:"worldId"}},reducers:{BossFireProjectile:{reducerName:"BossFireProjectile",argsType:Ti.getTypeScriptAlgebraicType()},ChooseUpgrade:{reducerName:"ChooseUpgrade",argsType:Si.getTypeScriptAlgebraicType()},CleanupActiveAttack:{reducerName:"CleanupActiveAttack",argsType:Ei.getTypeScriptAlgebraicType()},CleanupActiveBossAttack:{reducerName:"CleanupActiveBossAttack",argsType:Pi.getTypeScriptAlgebraicType()},CleanupMonsterHitRecord:{reducerName:"CleanupMonsterHitRecord",argsType:Fi.getTypeScriptAlgebraicType()},ClientConnected:{reducerName:"ClientConnected",argsType:Bs.getTypeScriptAlgebraicType()},DebugSpawnBoss:{reducerName:"DebugSpawnBoss",argsType:wi.getTypeScriptAlgebraicType()},GameTick:{reducerName:"GameTick",argsType:Li.getTypeScriptAlgebraicType()},HandleAttackBurstCooldown:{reducerName:"HandleAttackBurstCooldown",argsType:Oi.getTypeScriptAlgebraicType()},InitAttackData:{reducerName:"InitAttackData",argsType:Ns.getTypeScriptAlgebraicType()},InitHealthRegenSystem:{reducerName:"InitHealthRegenSystem",argsType:Us.getTypeScriptAlgebraicType()},PreSpawnMonster:{reducerName:"PreSpawnMonster",argsType:Ii.getTypeScriptAlgebraicType()},ProcessHealthRegen:{reducerName:"ProcessHealthRegen",argsType:Ni.getTypeScriptAlgebraicType()},RemovePoisonEffect:{reducerName:"RemovePoisonEffect",argsType:Gi.getTypeScriptAlgebraicType()},RerollUpgrades:{reducerName:"RerollUpgrades",argsType:zi.getTypeScriptAlgebraicType()},ResetWorld:{reducerName:"ResetWorld",argsType:Gs.getTypeScriptAlgebraicType()},ServerTriggerAttack:{reducerName:"ServerTriggerAttack",argsType:Xi.getTypeScriptAlgebraicType()},SetName:{reducerName:"SetName",argsType:Yi.getTypeScriptAlgebraicType()},SpawnBossPhaseOne:{reducerName:"SpawnBossPhaseOne",argsType:Hi.getTypeScriptAlgebraicType()},SpawnMonster:{reducerName:"SpawnMonster",argsType:$i.getTypeScriptAlgebraicType()},SpawnPlayer:{reducerName:"SpawnPlayer",argsType:Zi.getTypeScriptAlgebraicType()},UpdateLastLogin:{reducerName:"UpdateLastLogin",argsType:zs.getTypeScriptAlgebraicType()},UpdatePlayerDirection:{reducerName:"UpdatePlayerDirection",argsType:Ji.getTypeScriptAlgebraicType()}},eventContextConstructor:(L,E)=>({...L,event:E}),dbViewConstructor:L=>new oa(L),reducersConstructor:(L,E)=>new ra(L,E),setReducerFlagsConstructor:()=>new aa};class ra{constructor(E,F){this.connection=E,this.setCallReducerFlags=F}bossFireProjectile(E){const F={timer:E};let b=new Gt(1024);Ti.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("BossFireProjectile",D,this.setCallReducerFlags.bossFireProjectileFlags)}onBossFireProjectile(E){this.connection.onReducer("BossFireProjectile",E)}removeOnBossFireProjectile(E){this.connection.offReducer("BossFireProjectile",E)}chooseUpgrade(E,F){const b={playerId:E,upgradeIndex:F};let D=new Gt(1024);Si.getTypeScriptAlgebraicType().serialize(D,b);let V=D.getBuffer();this.connection.callReducer("ChooseUpgrade",V,this.setCallReducerFlags.chooseUpgradeFlags)}onChooseUpgrade(E){this.connection.onReducer("ChooseUpgrade",E)}removeOnChooseUpgrade(E){this.connection.offReducer("ChooseUpgrade",E)}cleanupActiveAttack(E){const F={cleanup:E};let b=new Gt(1024);Ei.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("CleanupActiveAttack",D,this.setCallReducerFlags.cleanupActiveAttackFlags)}onCleanupActiveAttack(E){this.connection.onReducer("CleanupActiveAttack",E)}removeOnCleanupActiveAttack(E){this.connection.offReducer("CleanupActiveAttack",E)}cleanupActiveBossAttack(E){const F={cleanup:E};let b=new Gt(1024);Pi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("CleanupActiveBossAttack",D,this.setCallReducerFlags.cleanupActiveBossAttackFlags)}onCleanupActiveBossAttack(E){this.connection.onReducer("CleanupActiveBossAttack",E)}removeOnCleanupActiveBossAttack(E){this.connection.offReducer("CleanupActiveBossAttack",E)}cleanupMonsterHitRecord(E){const F={cleanup:E};let b=new Gt(1024);Fi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("CleanupMonsterHitRecord",D,this.setCallReducerFlags.cleanupMonsterHitRecordFlags)}onCleanupMonsterHitRecord(E){this.connection.onReducer("CleanupMonsterHitRecord",E)}removeOnCleanupMonsterHitRecord(E){this.connection.offReducer("CleanupMonsterHitRecord",E)}onClientConnected(E){this.connection.onReducer("ClientConnected",E)}removeOnClientConnected(E){this.connection.offReducer("ClientConnected",E)}debugSpawnBoss(E,F){const b={bossTypeIndex:E,spawnPhaseTwo:F};let D=new Gt(1024);wi.getTypeScriptAlgebraicType().serialize(D,b);let V=D.getBuffer();this.connection.callReducer("DebugSpawnBoss",V,this.setCallReducerFlags.debugSpawnBossFlags)}onDebugSpawnBoss(E){this.connection.onReducer("DebugSpawnBoss",E)}removeOnDebugSpawnBoss(E){this.connection.offReducer("DebugSpawnBoss",E)}gameTick(E){const F={timer:E};let b=new Gt(1024);Li.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("GameTick",D,this.setCallReducerFlags.gameTickFlags)}onGameTick(E){this.connection.onReducer("GameTick",E)}removeOnGameTick(E){this.connection.offReducer("GameTick",E)}handleAttackBurstCooldown(E){const F={burstCooldown:E};let b=new Gt(1024);Oi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("HandleAttackBurstCooldown",D,this.setCallReducerFlags.handleAttackBurstCooldownFlags)}onHandleAttackBurstCooldown(E){this.connection.onReducer("HandleAttackBurstCooldown",E)}removeOnHandleAttackBurstCooldown(E){this.connection.offReducer("HandleAttackBurstCooldown",E)}initAttackData(){this.connection.callReducer("InitAttackData",new Uint8Array(0),this.setCallReducerFlags.initAttackDataFlags)}onInitAttackData(E){this.connection.onReducer("InitAttackData",E)}removeOnInitAttackData(E){this.connection.offReducer("InitAttackData",E)}initHealthRegenSystem(){this.connection.callReducer("InitHealthRegenSystem",new Uint8Array(0),this.setCallReducerFlags.initHealthRegenSystemFlags)}onInitHealthRegenSystem(E){this.connection.onReducer("InitHealthRegenSystem",E)}removeOnInitHealthRegenSystem(E){this.connection.offReducer("InitHealthRegenSystem",E)}preSpawnMonster(E){const F={timer:E};let b=new Gt(1024);Ii.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("PreSpawnMonster",D,this.setCallReducerFlags.preSpawnMonsterFlags)}onPreSpawnMonster(E){this.connection.onReducer("PreSpawnMonster",E)}removeOnPreSpawnMonster(E){this.connection.offReducer("PreSpawnMonster",E)}processHealthRegen(E){const F={scheduler:E};let b=new Gt(1024);Ni.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("ProcessHealthRegen",D,this.setCallReducerFlags.processHealthRegenFlags)}onProcessHealthRegen(E){this.connection.onReducer("ProcessHealthRegen",E)}removeOnProcessHealthRegen(E){this.connection.offReducer("ProcessHealthRegen",E)}removePoisonEffect(E){const F={poisonEffect:E};let b=new Gt(1024);Gi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("RemovePoisonEffect",D,this.setCallReducerFlags.removePoisonEffectFlags)}onRemovePoisonEffect(E){this.connection.onReducer("RemovePoisonEffect",E)}removeOnRemovePoisonEffect(E){this.connection.offReducer("RemovePoisonEffect",E)}rerollUpgrades(E){const F={playerId:E};let b=new Gt(1024);zi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("RerollUpgrades",D,this.setCallReducerFlags.rerollUpgradesFlags)}onRerollUpgrades(E){this.connection.onReducer("RerollUpgrades",E)}removeOnRerollUpgrades(E){this.connection.offReducer("RerollUpgrades",E)}resetWorld(){this.connection.callReducer("ResetWorld",new Uint8Array(0),this.setCallReducerFlags.resetWorldFlags)}onResetWorld(E){this.connection.onReducer("ResetWorld",E)}removeOnResetWorld(E){this.connection.offReducer("ResetWorld",E)}serverTriggerAttack(E){const F={attack:E};let b=new Gt(1024);Xi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("ServerTriggerAttack",D,this.setCallReducerFlags.serverTriggerAttackFlags)}onServerTriggerAttack(E){this.connection.onReducer("ServerTriggerAttack",E)}removeOnServerTriggerAttack(E){this.connection.offReducer("ServerTriggerAttack",E)}setName(E){const F={name:E};let b=new Gt(1024);Yi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("SetName",D,this.setCallReducerFlags.setNameFlags)}onSetName(E){this.connection.onReducer("SetName",E)}removeOnSetName(E){this.connection.offReducer("SetName",E)}spawnBossPhaseOne(E){const F={timer:E};let b=new Gt(1024);Hi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("SpawnBossPhaseOne",D,this.setCallReducerFlags.spawnBossPhaseOneFlags)}onSpawnBossPhaseOne(E){this.connection.onReducer("SpawnBossPhaseOne",E)}removeOnSpawnBossPhaseOne(E){this.connection.offReducer("SpawnBossPhaseOne",E)}spawnMonster(E){const F={spawner:E};let b=new Gt(1024);$i.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("SpawnMonster",D,this.setCallReducerFlags.spawnMonsterFlags)}onSpawnMonster(E){this.connection.onReducer("SpawnMonster",E)}removeOnSpawnMonster(E){this.connection.offReducer("SpawnMonster",E)}spawnPlayer(E){const F={classId:E};let b=new Gt(1024);Zi.getTypeScriptAlgebraicType().serialize(b,F);let D=b.getBuffer();this.connection.callReducer("SpawnPlayer",D,this.setCallReducerFlags.spawnPlayerFlags)}onSpawnPlayer(E){this.connection.onReducer("SpawnPlayer",E)}removeOnSpawnPlayer(E){this.connection.offReducer("SpawnPlayer",E)}updateLastLogin(){this.connection.callReducer("UpdateLastLogin",new Uint8Array(0),this.setCallReducerFlags.updateLastLoginFlags)}onUpdateLastLogin(E){this.connection.onReducer("UpdateLastLogin",E)}removeOnUpdateLastLogin(E){this.connection.offReducer("UpdateLastLogin",E)}updatePlayerDirection(E,F){const b={dirX:E,dirY:F};let D=new Gt(1024);Ji.getTypeScriptAlgebraicType().serialize(D,b);let V=D.getBuffer();this.connection.callReducer("UpdatePlayerDirection",V,this.setCallReducerFlags.updatePlayerDirectionFlags)}onUpdatePlayerDirection(E){this.connection.onReducer("UpdatePlayerDirection",E)}removeOnUpdatePlayerDirection(E){this.connection.offReducer("UpdatePlayerDirection",E)}}class aa{constructor(){$(this,"bossFireProjectileFlags","FullUpdate");$(this,"chooseUpgradeFlags","FullUpdate");$(this,"cleanupActiveAttackFlags","FullUpdate");$(this,"cleanupActiveBossAttackFlags","FullUpdate");$(this,"cleanupMonsterHitRecordFlags","FullUpdate");$(this,"debugSpawnBossFlags","FullUpdate");$(this,"gameTickFlags","FullUpdate");$(this,"handleAttackBurstCooldownFlags","FullUpdate");$(this,"initAttackDataFlags","FullUpdate");$(this,"initHealthRegenSystemFlags","FullUpdate");$(this,"preSpawnMonsterFlags","FullUpdate");$(this,"processHealthRegenFlags","FullUpdate");$(this,"removePoisonEffectFlags","FullUpdate");$(this,"rerollUpgradesFlags","FullUpdate");$(this,"resetWorldFlags","FullUpdate");$(this,"serverTriggerAttackFlags","FullUpdate");$(this,"setNameFlags","FullUpdate");$(this,"spawnBossPhaseOneFlags","FullUpdate");$(this,"spawnMonsterFlags","FullUpdate");$(this,"spawnPlayerFlags","FullUpdate");$(this,"updateLastLoginFlags","FullUpdate");$(this,"updatePlayerDirectionFlags","FullUpdate")}bossFireProjectile(E){this.bossFireProjectileFlags=E}chooseUpgrade(E){this.chooseUpgradeFlags=E}cleanupActiveAttack(E){this.cleanupActiveAttackFlags=E}cleanupActiveBossAttack(E){this.cleanupActiveBossAttackFlags=E}cleanupMonsterHitRecord(E){this.cleanupMonsterHitRecordFlags=E}debugSpawnBoss(E){this.debugSpawnBossFlags=E}gameTick(E){this.gameTickFlags=E}handleAttackBurstCooldown(E){this.handleAttackBurstCooldownFlags=E}initAttackData(E){this.initAttackDataFlags=E}initHealthRegenSystem(E){this.initHealthRegenSystemFlags=E}preSpawnMonster(E){this.preSpawnMonsterFlags=E}processHealthRegen(E){this.processHealthRegenFlags=E}removePoisonEffect(E){this.removePoisonEffectFlags=E}rerollUpgrades(E){this.rerollUpgradesFlags=E}resetWorld(E){this.resetWorldFlags=E}serverTriggerAttack(E){this.serverTriggerAttackFlags=E}setName(E){this.setNameFlags=E}spawnBossPhaseOne(E){this.spawnBossPhaseOneFlags=E}spawnMonster(E){this.spawnMonsterFlags=E}spawnPlayer(E){this.spawnPlayerFlags=E}updateLastLogin(E){this.updateLastLoginFlags=E}updatePlayerDirection(E){this.updatePlayerDirectionFlags=E}}class oa{constructor(E){this.connection=E}get account(){return new Rr(this.connection.clientCache.getOrCreateTable(Mt.tables.account))}get activeAttackCleanup(){return new Lr(this.connection.clientCache.getOrCreateTable(Mt.tables.active_attack_cleanup))}get activeAttacks(){return new Dr(this.connection.clientCache.getOrCreateTable(Mt.tables.active_attacks))}get activeBossAttackCleanup(){return new Or(this.connection.clientCache.getOrCreateTable(Mt.tables.active_boss_attack_cleanup))}get activeBossAttacks(){return new br(this.connection.clientCache.getOrCreateTable(Mt.tables.active_boss_attacks))}get attackBurstCooldowns(){return new Ir(this.connection.clientCache.getOrCreateTable(Mt.tables.attack_burst_cooldowns))}get attackData(){return new Br(this.connection.clientCache.getOrCreateTable(Mt.tables.attack_data))}get bestiary(){return new Nr(this.connection.clientCache.getOrCreateTable(Mt.tables.bestiary))}get bossAttackTimer(){return new Ur(this.connection.clientCache.getOrCreateTable(Mt.tables.boss_attack_timer))}get bossSpawnTimer(){return new Gr(this.connection.clientCache.getOrCreateTable(Mt.tables.boss_spawn_timer))}get chosenUpgrades(){return new zr(this.connection.clientCache.getOrCreateTable(Mt.tables.chosen_upgrades))}get classData(){return new Vr(this.connection.clientCache.getOrCreateTable(Mt.tables.class_data))}get config(){return new Xr(this.connection.clientCache.getOrCreateTable(Mt.tables.config))}get deadPlayers(){return new Yr(this.connection.clientCache.getOrCreateTable(Mt.tables.dead_players))}get entity(){return new Wr(this.connection.clientCache.getOrCreateTable(Mt.tables.entity))}get expConfig(){return new Hr(this.connection.clientCache.getOrCreateTable(Mt.tables.exp_config))}get gameState(){return new Kr(this.connection.clientCache.getOrCreateTable(Mt.tables.game_state))}get gameTickTimer(){return new $r(this.connection.clientCache.getOrCreateTable(Mt.tables.game_tick_timer))}get gems(){return new Zr(this.connection.clientCache.getOrCreateTable(Mt.tables.gems))}get healthRegenScheduler(){return new Jr(this.connection.clientCache.getOrCreateTable(Mt.tables.health_regen_scheduler))}get monsterDamage(){return new Qr(this.connection.clientCache.getOrCreateTable(Mt.tables.monster_damage))}get monsterHitCleanup(){return new kr(this.connection.clientCache.getOrCreateTable(Mt.tables.monster_hit_cleanup))}get monsterSpawnTimer(){return new jr(this.connection.clientCache.getOrCreateTable(Mt.tables.monster_spawn_timer))}get monsterSpawners(){return new qr(this.connection.clientCache.getOrCreateTable(Mt.tables.monster_spawners))}get monsters(){return new _r(this.connection.clientCache.getOrCreateTable(Mt.tables.monsters))}get player(){return new ta(this.connection.clientCache.getOrCreateTable(Mt.tables.player))}get playerPoisonEffect(){return new ea(this.connection.clientCache.getOrCreateTable(Mt.tables.player_poison_effect))}get playerScheduledAttacks(){return new ia(this.connection.clientCache.getOrCreateTable(Mt.tables.player_scheduled_attacks))}get upgradeOptions(){return new sa(this.connection.clientCache.getOrCreateTable(Mt.tables.upgrade_options))}get world(){return new na(this.connection.clientCache.getOrCreateTable(Mt.tables.world))}}class ha extends Vn{}class Zn extends Xn{constructor(){super(...arguments);$(this,"subscriptionBuilder",()=>new ha(this))}}$(Zn,"builder",()=>new yr(Mt,F=>F));const es={Rat:"monster_rat",Slime:"monster_slime",Orc:"monster_orc",Wolf:"monster_wolf",Worm:"monster_worm",Scorpion:"monster_scorpion",FinalBossJorgePhase1:"final_boss_jorge_phase_1",FinalBossJorgePhase2:"final_boss_jorge_phase_2",FinalBossBjornPhase1:"final_boss_bjorn_phase_1",FinalBossBjornPhase2:"final_boss_bjorn_phase_2",FinalBossSimonPhase1:"final_boss_simon_phase_1",FinalBossSimonPhase2:"final_boss_simon_phase_2"},la={Rat:-10,Slime:-12,Orc:12,Wolf:-5,Worm:-8,Scorpion:-9,FinalBossJorgePhase1:16,FinalBossJorgePhase2:20,FinalBossBjornPhase1:16,FinalBossBjornPhase2:20,FinalBossSimonPhase1:16,FinalBossSimonPhase2:20};var it=(L=>(L.CONNECTION_ESTABLISHED="connection_established",L.CONNECTION_LOST="connection_lost",L.ACCOUNT_CREATED="account_created",L.ACCOUNT_UPDATED="account:updated",L.NAME_SET="name_set",L.PLAYER_CREATED="player_created",L.PLAYER_UPDATED="player:updated",L.PLAYER_DELETED="player:deleted",L.PLAYER_DIED="player_died",L.PLAYER_POISONED="player:poisoned",L.ENTITY_CREATED="entity:created",L.ENTITY_UPDATED="entity:updated",L.ENTITY_DELETED="entity:deleted",L.MONSTER_CREATED="monster:created",L.MONSTER_UPDATED="monster:updated",L.MONSTER_DELETED="monster:deleted",L.ATTACK_CREATED="ATTACK_CREATED",L.ATTACK_UPDATED="ATTACK_UPDATED",L.ATTACK_DELETED="ATTACK_DELETED",L.BOSS_ATTACK_CREATED="BOSS_ATTACK_CREATED",L.BOSS_ATTACK_UPDATED="BOSS_ATTACK_UPDATED",L.BOSS_ATTACK_DELETED="BOSS_ATTACK_DELETED",L.GEM_CREATED="gem:created",L.GEM_UPDATED="gem:updated",L.GEM_DELETED="gem:deleted",L.LOADING_COMPLETE="loading_complete",L.LOADING_ERROR="loading_error",L.GAME_STARTED="game_started",L.GAME_ENDED="game_ended",L.SUBSCRIPTION_APPLIED="subscription:applied",L.GAME_STATE_UPDATED="game_state:updated",L.BOSS_SPAWN_TIMER_CREATED="boss_spawn_timer:created",L.BOSS_SPAWN_TIMER_DELETED="boss_spawn_timer:deleted",L.BOSS_PHASE_CHANGED="boss_phase_changed",L.ACTIVE_ATTACK_CLEANUP_CREATED="ACTIVE_ATTACK_CLEANUP_CREATED",L.ACTIVE_ATTACK_CLEANUP_DELETED="ACTIVE_ATTACK_CLEANUP_DELETED",L.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED="ACTIVE_BOSS_ATTACK_CLEANUP_CREATED",L.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED="ACTIVE_BOSS_ATTACK_CLEANUP_DELETED",L.ATTACK_DATA_CREATED="ATTACK_DATA_CREATED",L.ATTACK_DATA_UPDATED="ATTACK_DATA_UPDATED",L.POISON_EFFECT_CREATED="poison_effect:created",L.POISON_EFFECT_DELETED="poison_effect:deleted",L))(it||{});const ua="shadow",fa=.4,Ye=40,un=4,fn=12,is=1e3,da=-1,ca=1,va=1.1;class pa{constructor(E,F){$(this,"scene");$(this,"spacetimeDBClient");$(this,"monsters",new Map);$(this,"pendingMonsters",new Map);$(this,"gameEvents");$(this,"bossPhase1Killed",!1);$(this,"timeOfBossPhase1Death",0);$(this,"bossMonsterId",0);$(this,"bossPosition",null);this.scene=E,this.spacetimeDBClient=F,this.gameEvents=window.gameEvents,console.log("MonsterManager constructed")}initializeMonsters(E){var F,b,D,V;if(!((b=(F=this.spacetimeDBClient)==null?void 0:F.sdkConnection)!=null&&b.db)){console.error("Cannot initialize monsters: database connection not available");return}console.log("MonsterManager initalizing monsters"),this.registerMonsterListeners(),this.registerEntityListeners();for(const p of(D=E.db)==null?void 0:D.monsters.iter()){const S=(V=E.db)==null?void 0:V.entity.entityId.find(p.entityId);S?this.createMonsterSprite(p,S.position):this.createOrUpdateMonster(p)}}registerMonsterListeners(){console.log("Registering monster listeners for MonsterManager"),this.gameEvents.on(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.gameEvents.on(it.MONSTER_UPDATED,(E,F,b)=>{this.createOrUpdateMonster(b)}),this.gameEvents.on(it.MONSTER_DELETED,(E,F)=>{this.removeMonster(F.monsterId)})}registerEntityListeners(){console.log("Registering entity event listeners for MonsterManager"),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityEvent,this)}handleEntityEvent(E,F){this.handleEntityUpdate(E,F)}handleEntityUpdate(E,F){var V,p,S;const b=this.pendingMonsters.get(F.entityId);if(b){const t=this.monsters.get(b.monsterId);return t?(t.x=F.position.x,t.y=F.position.y,t.setDepth(is+F.position.y),t.setData("targetX",F.position.x),t.setData("targetY",F.position.y),t.setData("lastUpdateTime",Date.now()),this.pendingMonsters.delete(F.entityId),this.applySimonBuffEffect(b),!0):(this.pendingMonsters.delete(F.entityId),this.createMonsterSprite(b,F.position),this.applySimonBuffEffect(b),!0)}const D=(p=(V=E.db)==null?void 0:V.monsters.entityId)==null?void 0:p.find(F.entityId);if(D){const t=this.monsters.get(D.monsterId);if(t){this.scene.tweens.killTweensOf(t);const l=this.getMonsterTypeName(D.bestiaryId);t.setData("targetX",F.position.x),t.setData("targetY",F.position.y),t.setData("lastUpdateTime",Date.now());const v=F.isMoving;return Math.pow(t.x-F.position.x,2)+Math.pow(t.y-F.position.y,2)>1e4?(t.x=F.position.x,t.y=F.position.y):v?this.scene.tweens.add({targets:t,x:F.position.x,y:F.position.y,duration:100,ease:"Linear"}):(t.x=F.position.x,t.y=F.position.y),t.setData("isMoving",v),t.setData("monsterType",l),t.setData("direction",{x:F.direction.x,y:F.direction.y}),this.applySimonBuffEffect(D),!0}else return this.createMonsterSprite(D,F.position),this.applySimonBuffEffect(D),!0}if(!D){for(const t of((S=E.db)==null?void 0:S.monsters.iter())||[])if(t.entityId===F.entityId)return this.createOrUpdateMonster(t),!0}return!1}getHealthBarColor(E){return E>.6?65280:E>.3?16776960:16711680}createOrUpdateMonster(E){var D,V;if(!((V=(D=this.spacetimeDBClient)==null?void 0:D.sdkConnection)!=null&&V.db)){console.error("Cannot create monster sprite: database connection not available");return}const F=this.monsters.get(E.monsterId);if(F&&(F.x!==0||F.y!==0)){const p=F.getData("currentHP")||E.maxHp;if(E.hp<p){const t=F.getByName("sprite");t&&(t.setTintFill(16711680),this.scene.time.delayedCall(100,()=>{t.clearTint()}))}const S=F.getByName("healthBar");if(S){const t=E.hp/E.maxHp;S.width=Ye*t,S.fillColor=this.getHealthBarColor(t)}F.setData("currentHP",E.hp),this.applySimonBuffEffect(E);return}const b=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(E.entityId);b?(this.createMonsterSprite(E,b.position),this.applySimonBuffEffect(E)):(this.monsters.get(E.monsterId)||this.createMonsterSprite(E,{x:0,y:0}),this.pendingMonsters.set(E.entityId,E))}applySimonBuffEffect(E){const F=this.monsters.get(E.monsterId);if(!F)return;const b=this.getMonsterTypeName(E.bestiaryId);if(ga(b)){const D=b==="FinalBossSimonPhase1"?120:150,V=b==="FinalBossSimonPhase1"?25:40,p=E.speed>D||E.atk>V,S=F.getByName("simonBuffEffect");if(S&&S.destroy(),this.scene.tweens.killTweensOf(F.getData("simonBuffTween")),p){const t=this.scene.add.sprite(0,-50,"attack_boss_simon");t.setOrigin(.5,.5),t.setScale(.7),t.setAlpha(.9),t.setName("simonBuffEffect"),F.add(t),F.setData("simonBuffTween",t),this.scene.tweens.add({targets:t,scale:.9,duration:500,yoyo:!0,repeat:3,ease:"Sine.easeInOut",onComplete:()=>{t&&t.destroy()}})}}}createMonsterSprite(E,F){const b=E.bestiaryId.tag,D=es[b];if(console.log(`Creating monster sprite: type=${b}, spriteKey=${D}, position=(${F.x}, ${F.y})`),!D){console.error(`No sprite key defined for monster type: ${b}`);return}if(!this.scene.textures.exists(D)){console.error(`Missing texture for monster type: ${b}, key: ${D}`),console.log("Available textures:",this.scene.textures.list);return}if(this.monsters.has(E.monsterId)){const V=this.monsters.get(E.monsterId);if(V){V.setPosition(F.x,F.y),V.setDepth(is+F.y);const p=V.getAll();for(const S of p)if(S.name==="healthBar"){const t=S,l=E.maxHp,v=E.hp/l;t.width=Ye*v,t.fillColor=this.getHealthBarColor(v),V.setData("currentHP",E.hp),V.setData("maxHP",E.maxHp);break}this.updateCollisionCircle(V,E.entityId)}}else try{console.log(`Creating new monster container for ${b} at (${F.x}, ${F.y})`);const V=is+F.y,p=this.scene.add.container(F.x,F.y),S=la[b]||8,t=this.scene.add.image(0,S,ua).setAlpha(fa).setDepth(da);t.setScale(.7),console.log(`Added shadow for ${b}`);let l;try{l=this.scene.add.sprite(0,0,D),l.setDepth(0),l.name="sprite",ge(b)&&(console.log(`Setting up boss sprite: ${b} (ID: ${E.monsterId})`),console.log(`Boss data: HP=${E.hp}/${E.maxHp}, Entity ID=${E.entityId}`),l.setScale(1),l.setAlpha(1),l.setVisible(!0),console.log(`Boss sprite properties: visible=${l.visible}, alpha=${l.alpha}, scale=${l.scaleX}, texture=${l.texture.key}`),console.log(`Is boss sprite texture missing: ${l.texture.key==="__MISSING"}`)),console.log(`Added sprite for ${b}: visible=${l.visible}, alpha=${l.alpha}`)}catch(e){console.error(`Failed to create sprite for ${b}:`,e);return}const v=E.maxHp;p.setData("maxHP",v),p.setData("currentHP",E.hp),p.setData("entityId",E.entityId),p.setData("monsterId",E.monsterId),p.setData("monsterType",b);const a=this.scene.add.rectangle(0,-l.height/2-fn,Ye,un,0,.7);a.setDepth(ca);const r=E.hp/v,n=this.scene.add.rectangle(-Ye/2,-l.height/2-fn,Ye*r,un,this.getHealthBarColor(r),1);n.setOrigin(0,.5),n.setDepth(va),n.name="healthBar",p.add([t,l,a,n]),p.setDepth(V),p.setSize(l.width,l.height),p.setAlpha(1),p.setVisible(!0),this.createCollisionCircle(p,E.entityId),this.monsters.set(E.monsterId,p),console.log(`Successfully created monster: ${b} (ID: ${E.monsterId})`),ge(b)&&(console.log(`BOSS CONTAINER: visible=${p.visible}, alpha=${p.alpha}, x=${p.x}, y=${p.y}, depth=${p.depth}`),console.log(`BOSS SPRITE: visible=${l.visible}, alpha=${l.alpha}`))}catch(V){console.error(`Failed to create monster sprite for ${b}:`,V)}}createCollisionCircle(E,F){}updateCollisionCircle(E,F){}getDefaultRadiusForMonster(E){switch(E.getData("monsterType")){case"Rat":return 24;case"Slime":return 30;case"Wolf":return 34;case"Worm":return 28;case"Orc":return 40;default:return 30}}removeMonster(E){console.log(`Removing monster: ${E}`);const F=this.monsters.get(E);if(F){const D=F.getData("monsterType");ge(D)?(console.log(`*** BOSS PHASE 1 DEFEATED (ID: ${E})! Waiting for phase 2 to spawn... ***`),this.bossPhase1Killed=!0,this.timeOfBossPhase1Death=Date.now(),this.bossMonsterId=E,this.bossPosition={x:F.x,y:F.y},console.log(`Boss position stored: (${this.bossPosition.x}, ${this.bossPosition.y})`),this.createBossTransformationEffect(F.x,F.y)):ge(D)&&console.log(`*** FINAL BOSS DEFEATED (ID: ${E})! GAME COMPLETE! ***`)}const b=this.monsters.get(E);b&&b.destroy(),this.monsters.delete(E)}getMonster(E){return this.monsters.get(E)}getAllMonsters(){return this.monsters}getMonsterCount(){return this.monsters.size}getPendingMonsterCount(){return this.pendingMonsters.size}update(E,F){this.checkForBossPhaseTransition(),this.monsters.forEach((b,D)=>{b.getData("targetX"),b.getData("targetY"),b.getData("lastUpdateTime"),b.getData("isMoving")})}unregisterListeners(){console.log("Unregistering event listeners for MonsterManager"),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.off(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.gameEvents.off(it.MONSTER_UPDATED),this.gameEvents.off(it.MONSTER_DELETED)}shutdown(){this.unregisterListeners()}handleMonsterCreated(E,F){var V,p;const b=(V=E.db)==null?void 0:V.entity.entityId.find(F.entityId),D=this.getMonsterTypeName(F.bestiaryId);if(console.log(`Monster created: ${F.monsterId}, type: ${D}, entity: ${F.entityId}`),ge(D)){console.log(`BOSS SPAWNED: ${D}`),console.log(`- Monster ID: ${F.monsterId}`),console.log(`- Entity ID: ${F.entityId}`),console.log(`- HP: ${F.hp}/${F.maxHp}`),console.log(`- Asset key: ${es[D]}`),console.log(`- Texture exists: ${this.scene.textures.exists(es[D])}`),console.log(b?`- Position: (${b.position.x}, ${b.position.y})`:"- WARNING: No entity data found for boss!"),console.log("All entities in database:");for(const S of((p=E.db)==null?void 0:p.entity.iter())||[])console.log(`- Entity ID: ${S.entityId}, Position: (${S.position.x}, ${S.position.y})`);if((D==="FinalBossJorgePhase2"||D==="FinalBossBjornPhase2"||D==="FinalBossSimonPhase2")&&(console.log("*** PHASE 2 OF THE BOSS HAS BEGUN! ***"),this.bossPhase1Killed)){const S=Date.now()-this.timeOfBossPhase1Death;console.log(`Phase transition took ${S}ms from phase 1 death to phase 2 spawn`),this.bossPhase1Killed=!1}this.debugLogAllSprites()}if(!b){console.warn(`Monster created but no entity found: ${F.monsterId} (type: ${D})`);return}if(ge(D)&&(console.log("Final Boss Phase 2 spawned - playing transformation effect"),this.createBossTransformationEffect(b.position.x,b.position.y)),this.createMonsterSprite(F,b.position),ge(D)){const S=this.monsters.get(F.monsterId);S?console.log(`Boss container after creation: visible=${S.visible}, alpha=${S.alpha}`):console.error("Failed to find boss container after creation!"),this.debugLogAllSprites()}}getMonsterTypeName(E){if(E&&typeof E=="object"&&"tag"in E)return console.log(`Getting monster type from tag: ${E.tag}`),E.tag;switch(E){case 0:return"Rat";case 1:return"Slime";case 2:return"Orc";case 3:return"FinalBossJorgePhase1";case 4:return"FinalBossJorgePhase2";case 5:return"FinalBossBjornPhase1";case 6:return"FinalBossBjornPhase2";case 7:return"FinalBossSimonPhase1";case 8:return"FinalBossSimonPhase2";default:return console.warn(`Unknown monster type: ${E}`),"Unknown"}}createBossTransformationEffect(E,F){console.log(`Creating boss transformation effect at (${E}, ${F})`);const b=this.scene.add.circle(E,F,150,16711680,.7);b.setDepth(10),this.scene.tweens.add({targets:b,alpha:0,radius:300,duration:1e3,ease:"Power2",onComplete:()=>{b.destroy()}});const D=this.scene.add.particles(E,F,"white_pixel",{speed:{min:100,max:300},angle:{min:0,max:360},scale:{start:2,end:0},blendMode:"ADD",lifespan:1e3,quantity:1,frequency:20,emitting:!1,tint:16711680});D.setDepth(9),D.explode(100,E,F),this.scene.time.delayedCall(1200,()=>{D.destroy()});const V=this.scene.add.text(E,F-100,"BOSS PHASE 2 INCOMING!",{fontSize:"32px",color:"#ff0000",stroke:"#000000",strokeThickness:4,fontStyle:"bold"}).setOrigin(.5);V.setDepth(10),this.scene.tweens.add({targets:V,y:F-200,alpha:0,duration:2e3,ease:"Power2",onComplete:()=>{V.destroy()}})}debugLogAllSprites(){console.log("=== ALL SPRITES IN SCENE ===");const E=this.scene.children.list.filter(F=>F instanceof mt.GameObjects.Sprite||F instanceof mt.GameObjects.Container);console.log(`Found ${E.length} sprites/containers`),E.forEach((F,b)=>{var D;if(F instanceof mt.GameObjects.Container){const V=F;console.log(`Container #${b}: x=${V.x}, y=${V.y}, visible=${V.visible}, alpha=${V.alpha}, depth=${V.depth}`),console.log(`  - Children: ${V.length}`),console.log(`  - Data: ${JSON.stringify((D=V.data)==null?void 0:D.getAll())}`)}else{const V=F;console.log(`Sprite #${b}: name=${V.name}, texture=${V.texture.key}, x=${V.x}, y=${V.y}, visible=${V.visible}, alpha=${V.alpha}`)}})}checkForBossPhaseTransition(){var F,b;const E=Date.now();this.bossPhase1Killed&&E-this.timeOfBossPhase1Death>5e3&&(console.error(`ERROR: Boss phase 1 was killed ${(E-this.timeOfBossPhase1Death)/1e3} seconds ago, but phase 2 has not spawned!`),console.log(`Boss phase 1 details - ID: ${this.bossMonsterId}, Position: (${(F=this.bossPosition)==null?void 0:F.x}, ${(b=this.bossPosition)==null?void 0:b.y})`),this.bossPhase1Killed=!1,console.log("Current active monsters:"),this.monsters.forEach((D,V)=>{const p=D.getData("monsterType");console.log(`- Monster ID: ${V}, Type: ${p}, Position: (${D.x}, ${D.y})`)}),console.log("BOSS PHASE 2 SPAWN FAILED - Please report this bug!"))}}function ge(L){return["FinalBossJorgePhase1","FinalBossJorgePhase2","FinalBossBjornPhase1","FinalBossBjornPhase2","FinalBossSimonPhase1","FinalBossSimonPhase2"].includes(L)}function ga(L){return["FinalBossSimonPhase1","FinalBossSimonPhase2"].includes(L)}const ma="monster_spawn_indicator",ya=34,xa=54,Ta=1e3,Sa=.7,Ca=900;class Ea{constructor(E,F){$(this,"scene");$(this,"spacetimeDBClient");$(this,"spawnerIndicators",new Map);var D,V,p;this.scene=E,this.spacetimeDBClient=F,console.log("MonsterSpawnerManager constructed");const b=(D=this.spacetimeDBClient.sdkConnection)==null?void 0:D.db;b?((V=b.monsterSpawners)==null||V.onInsert(this.handleSpawnerInsert.bind(this)),(p=b.monsterSpawners)==null||p.onDelete(this.handleSpawnerDelete.bind(this))):console.error("Could not set up MonsterSpawnerManager database listeners (database not connected)")}handleSpawnerInsert(E,F){console.log(`New monster spawner at position (${F.position.x}, ${F.position.y}) for monster type: ${F.monsterType.tag}`),this.createSpawnerIndicator(F)}handleSpawnerDelete(E,F){console.log(`Monster spawner deleted: ${F.scheduledId}`),this.removeSpawnerIndicator(String(F.scheduledId))}createSpawnerIndicator(E){const F=String(E.scheduledId);if(this.spawnerIndicators.has(F)){console.log(`Indicator for spawner ${F} already exists`);return}const b=this.scene.add.sprite(E.position.x,E.position.y,ma);b.setOrigin(ya/b.width,xa/b.height),b.setScale(.1),b.setAlpha(Sa),b.setDepth(Ca+E.position.y),E.monsterType.tag.includes("Boss")&&b.setTint(16733525),this.spawnerIndicators.set(F,b),this.scene.tweens.add({targets:b,scale:1,duration:Ta,ease:"Elastic.Out",onComplete:()=>{this.scene.tweens.add({targets:b,scale:{from:.95,to:1.05},duration:700,yoyo:!0,repeat:-1,ease:"Sine.InOut"})}})}removeSpawnerIndicator(E){const F=this.spawnerIndicators.get(E);F&&this.scene.tweens.add({targets:F,alpha:0,scale:.1,duration:500,ease:"Power2",onComplete:()=>{F.destroy(),this.spawnerIndicators.delete(E)}})}destroy(){this.spawnerIndicators.forEach(E=>E.destroy()),this.spawnerIndicators.clear()}}const We=1/60,Aa=!1;class Pa{constructor(E,F){$(this,"scene");$(this,"attackGraphics",new Map);$(this,"localPlayerId",null);$(this,"localPlayerRadius",0);$(this,"spacetimeClient");$(this,"gameEvents");$(this,"gameTime",0);$(this,"debugCirclesEnabled",Aa);this.scene=E,this.spacetimeClient=F,this.gameEvents=window.gameEvents,console.log("AttackManager initialized")}initializeAttacks(E){var F,b,D,V;if(!((b=(F=this.spacetimeClient)==null?void 0:F.sdkConnection)!=null&&b.db)){console.error("Cannot initialize attacks: database connection not available");return}console.log("AttackManager initalizing attacks"),this.registerAttackListeners();for(const p of(D=E.db)==null?void 0:D.activeAttacks.iter())this.createOrUpdateAttackGraphic(E,p);for(const p of(V=E.db)==null?void 0:V.activeBossAttacks.iter())this.createOrUpdateBossAttackGraphic(E,p)}registerAttackListeners(){this.gameEvents.on(it.ATTACK_CREATED,this.handleAttackInsert,this),this.gameEvents.on(it.ATTACK_UPDATED,this.handleAttackUpdate,this),this.gameEvents.on(it.ATTACK_DELETED,this.handleAttackDelete,this),this.gameEvents.on(it.BOSS_ATTACK_CREATED,this.handleBossAttackInsert,this),this.gameEvents.on(it.BOSS_ATTACK_UPDATED,this.handleBossAttackUpdate,this),this.gameEvents.on(it.BOSS_ATTACK_DELETED,this.handleBossAttackDelete,this),this.gameEvents.on(it.ACTIVE_ATTACK_CLEANUP_CREATED,this.handleAttackCleanupCreated,this),this.gameEvents.on(it.ACTIVE_ATTACK_CLEANUP_DELETED,this.handleAttackCleanupDeleted,this),this.gameEvents.on(it.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED,this.handleBossAttackCleanupCreated,this),this.gameEvents.on(it.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED,this.handleBossAttackCleanupDeleted,this),this.gameEvents.on(it.ATTACK_DATA_CREATED,this.handleAttackDataCreated,this),this.gameEvents.on(it.ATTACK_DATA_UPDATED,this.handleAttackDataUpdated,this)}unregisterAttackListeners(){this.gameEvents.off(it.ATTACK_CREATED,this.handleAttackInsert,this),this.gameEvents.off(it.ATTACK_UPDATED,this.handleAttackUpdate,this),this.gameEvents.off(it.ATTACK_DELETED,this.handleAttackDelete,this),this.gameEvents.off(it.BOSS_ATTACK_CREATED,this.handleBossAttackInsert,this),this.gameEvents.off(it.BOSS_ATTACK_UPDATED,this.handleBossAttackUpdate,this),this.gameEvents.off(it.BOSS_ATTACK_DELETED,this.handleBossAttackDelete,this)}setLocalPlayerId(E){this.localPlayerId=E,console.log(`AttackManager: Local player ID set to ${E}`)}setLocalPlayerRadius(E){this.localPlayerRadius=E}handleAttackInsert(E,F){this.createOrUpdateAttackGraphic(E,F)}handleAttackUpdate(E,F,b){this.createOrUpdateAttackGraphic(E,b)}handleAttackDelete(E,F){const b=this.attackGraphics.get(F.activeAttackId);b&&(b.graphic.destroy(),b.sprite&&b.sprite.destroy(),this.attackGraphics.delete(F.activeAttackId))}handleBossAttackInsert(E,F){console.log(`Boss attack created: ${F.activeBossAttackId} of type ${F.attackType.tag}`),this.createOrUpdateBossAttackGraphic(E,F)}handleBossAttackUpdate(E,F,b){console.log(`Boss attack updated: ${b.activeBossAttackId}`),this.createOrUpdateBossAttackGraphic(E,b)}handleBossAttackDelete(E,F){console.log(`Boss attack deleted: ${F.activeBossAttackId}`);const b=this.attackGraphics.get(F.activeBossAttackId);b&&(b.graphic.destroy(),b.sprite&&b.sprite.destroy(),this.attackGraphics.delete(F.activeBossAttackId))}createOrUpdateAttackGraphic(E,F){var a;if(!this.spacetimeClient.sdkConnection)return;const b=(a=E.db)==null?void 0:a.entity.entityId.find(F.entityId);if(!b){console.error(`Entity ${F.entityId} not found for attack ${F.activeAttackId}`);return}const D=this.findAttackDataByType(E,F.attackType);if(!D){console.error(`Attack data not found for type ${F.attackType.tag}`);return}const p=F.playerId===this.localPlayerId?.7:.4,S=F.attackType.tag==="Shield",t=F.attackType.tag;let l=this.attackGraphics.get(F.activeAttackId);if(l){l.serverPosition.set(b.position.x,b.position.y),l.lastUpdateTime=this.gameTime,l.ticksElapsed=F.ticksElapsed,l.attackType=t,l.radius=F.radius;const r=l.predictedPosition.x-b.position.x,n=l.predictedPosition.y-b.position.y,e=r*r+n*n;var v=We*l.speed*(We*l.speed);e>v&&l.predictedPosition.set(b.position.x,b.position.y)}else{const r=this.scene.add.graphics();r.setDepth(1.4);const n=this.createAttackSprite(t,b.position.x,b.position.y),e=new ie.Math.Vector2(b.direction.x,b.direction.y);l={graphic:r,sprite:n,radius:F.radius,baseRadius:D.radius,alpha:p,lastUpdateTime:this.gameTime,predictedPosition:new ie.Math.Vector2(b.position.x,b.position.y),serverPosition:new ie.Math.Vector2(b.position.x,b.position.y),direction:e,speed:D.speed,isShield:S,playerId:F.playerId,parameterU:F.parameterU,ticksElapsed:F.ticksElapsed,attackType:t},this.attackGraphics.set(F.activeAttackId,l)}this.updateAttackGraphic(l)}createAttackSprite(E,F,b){let D="";switch(E){case"Sword":D="attack_sword";break;case"Wand":D="attack_wand";break;case"Knives":D="attack_knife";break;case"Shield":D="attack_shield";break;case"Football":D="attack_football";break;case"Cards":D="attack_cards";break;case"Dumbbell":D="attack_dumbbell";break;case"Garlic":D="attack_garlic";break;case"BossJorgeBolt":D="attack_boss_jorge";break;case"BossBjornBolt":D="attack_boss_bjorn";break;case"BossSimonBolt":D="attack_boss_simon";break;case"WormSpit":D="attack_spit";break;case"ScorpionSting":D="attack_sting";break;default:return console.warn(`Unknown attack type: ${E}, using default sprite`),null}const V=this.scene.add.sprite(F,b,D);return V.setDepth(1.5),V.setOrigin(.5,.5),V.setAlpha(1),E==="Dumbbell"?V.setScale(1.5):E==="BossJorgeBolt"||E==="BossBjornBolt"||E==="BossSimonBolt"?V.setScale(1):E==="Football"?V.setScale(.6):E==="Garlic"?V.setScale(.1):E==="ScorpionSting"?V.setScale(.8):V.setScale(1),V}updateAttackGraphic(E){const{graphic:F,sprite:b,radius:D,alpha:V,predictedPosition:p,serverPosition:S,direction:t,speed:l,ticksElapsed:v}=E;if(F.clear(),(this.debugCirclesEnabled||E.attackType==="Garlic")&&(F.lineStyle(1,16777215,V*.4),F.strokeCircle(0,0,D),E.attackType==="Garlic")){const a=1+Math.sin(v*.2)*.2;F.scale=a,this.createGarlicParticles(p.x,p.y)}if(E.attackType==="Dumbbell"&&b){const a=Math.max(.1,1-v*.1);F.fillStyle(0,a),F.fillCircle(0,D,D*.5)}if(F.setPosition(p.x,p.y),b){if(b.setPosition(p.x,p.y),E.attackType==="BossSimonBolt")return;if(E.attackType==="Dumbbell")return;if(E.attackType==="WormSpit"){if(b.setScale(1),t.length()>0){const a=Math.atan2(t.y,t.x),r=Math.sin(this.gameTime*.01)*.2;Math.abs(a)>Math.PI/2?(b.setRotation(0),b.setFlipX(!0),b.setFlipY(!1)):(b.setRotation(a+r),b.setFlipX(!1),b.setFlipY(!1))}Math.random()<.2&&this.createWormSpitParticles(p.x,p.y)}else if(E.attackType==="ScorpionSting"){if(t.length()>0){const r=Math.atan2(t.y,t.x);Math.abs(r)>Math.PI/2?(b.setRotation(0),b.setFlipX(!0),b.setFlipY(!1)):(b.setRotation(r),b.setFlipX(!1),b.setFlipY(!1));const n=Math.atan2(t.y,t.x);Math.abs(n)>Math.PI/2?b.flipX||b.setFlipX(!0):b.flipX&&b.setFlipX(!1)}const a=.8+Math.sin(this.gameTime*.01)*.2;b.setAlpha(a),Math.random()<.3&&this.createScorpionStingParticles(p.x,p.y)}else if(E.isShield){const a=this.getPlayerPosition(E.playerId||0);if(a){const r=p.x-a.x,n=p.y-a.y,e=Math.atan2(n,r);b.setRotation(e)}}else if(t.length()>0){const a=Math.atan2(t.y,t.x);E.attackType==="Sword"||E.attackType==="Knives"?Math.abs(a)>Math.PI/2?(b.setRotation(0),b.setFlipX(!0),b.setFlipY(!1)):(b.setRotation(a),b.setFlipX(!1),b.setFlipY(!1)):b.setRotation(a)}}}createGarlicParticles(E,F){if(!this.scene)return;const b=Array.from(this.attackGraphics.values()).find(l=>l.attackType==="Garlic");if(!b||Math.random()>.1*(b.radius/b.baseRadius))return;const D=b.radius/b.baseRadius,V=.3*D,p=Math.min(D*30,100),S=new ie.Geom.Circle(0,0,b.radius*.8),t=this.scene.add.particles(E,F,"white_pixel",{speed:{min:p*.5,max:p},angle:{min:0,max:360},scale:{start:V,end:0},lifespan:800,tint:[13434828,10092441,6750054],blendMode:"ADD",gravityY:-20*D,quantity:Math.ceil(D),rotate:{min:-180,max:180},alpha:{start:.6,end:0},frequency:50,emitZone:{type:"random",source:S,quantity:Math.ceil(D),stepRate:50}});this.scene.time.delayedCall(800,()=>{t.destroy()})}createWormSpitParticles(E,F){if(!this.scene)return;const b=this.scene.add.particles(E,F,"white_pixel",{speed:{min:10,max:30},angle:{min:0,max:360},scale:{start:.5,end:.1},lifespan:300,tint:8978312,alpha:{start:.7,end:0},quantity:1,frequency:-1,blendMode:"ADD"});b.explode(3,E,F),this.scene.time.delayedCall(300,()=>{b.destroy()})}createScorpionStingParticles(E,F){if(!this.scene)return;const b=this.scene.add.particles(E,F,"white_pixel",{speed:{min:10,max:40},angle:{min:0,max:360},scale:{start:.6,end:.1},lifespan:400,tint:[6750054,3394611],alpha:{start:.8,end:0},quantity:2,frequency:-1,blendMode:"ADD"});b.explode(4,E,F),this.scene.time.delayedCall(400,()=>{b.destroy()})}findAttackDataByType(E,F){var D;const b=(D=E.db)==null?void 0:D.attackData.iter();for(const V of b)if(V.attackType.tag===F.tag)return V}getPlayerPosition(E){if(!this.spacetimeClient.sdkConnection)return null;const F=this.spacetimeClient.sdkConnection.db.player.playerId.find(E);if(!F)return null;const b=this.spacetimeClient.sdkConnection.db.entity.entityId.find(F.entityId);return b?new ie.Math.Vector2(b.position.x,b.position.y):null}update(E,F){if(this.spacetimeClient.sdkConnection){E&&(this.gameTime=E);var b=We;F&&(b=F/1e3);for(const[r,n]of this.attackGraphics.entries())if(this.spacetimeClient.sdkConnection.db.activeAttacks.activeAttackId.find(r)){if(n.isShield){const s=this.getPlayerPosition(n.playerId||0);if(s){var D=(this.localPlayerRadius+n.radius)*2,V=n.predictedPosition.x-s.x,p=n.predictedPosition.y-s.y,S=Math.atan2(p,V),t=n.speed*b*Math.PI/180/2,l=S+t,v=s.x+Math.cos(l)*D,a=s.y+Math.sin(l)*D;n.predictedPosition.set(v,a),this.updateAttackGraphic(n)}}else if(n.attackType==="BossBjornBolt"&&n.parameterU===1){const s=this.getPlayerPosition(this.localPlayerId||0);if(s){const i=s.x-n.predictedPosition.x,h=s.y-n.predictedPosition.y,u=Math.sqrt(i*i+h*h);if(u>0){const d=i/u,f=h/u;n.direction.x=ie.Math.Linear(n.direction.x,d,.1),n.direction.y=ie.Math.Linear(n.direction.y,f,.1);const c=Math.sqrt(n.direction.x*n.direction.x+n.direction.y*n.direction.y);c>0&&(n.direction.x/=c,n.direction.y/=c)}}const o=n.speed*b;n.predictedPosition.x+=n.direction.x*o,n.predictedPosition.y+=n.direction.y*o,this.updateAttackGraphic(n)}else if(n.attackType==="BossSimonBolt"){const s=this.gameTime/1e3,o=20*(1+s*.1),h=s*5,u=Math.cos(h)*o,d=Math.sin(h)*o,f=n.speed*b;n.predictedPosition.x+=n.direction.x*f+u*b,n.predictedPosition.y+=n.direction.y*f+d*b,n.sprite&&n.sprite.setRotation(h),this.updateAttackGraphic(n)}else if(n.direction.length()>0){const s=n.speed*b;if(n.attackType==="Dumbbell"){if(n.direction.y+=200*b,n.predictedPosition.x+=n.direction.x*b,n.predictedPosition.y+=n.direction.y*b,n.sprite){n.sprite.setScale(1.5);const i=Math.min(.4,.1+n.direction.y*5e-4);n.graphic.clear(),n.graphic.fillStyle(0,i),n.graphic.fillCircle(n.predictedPosition.x,n.predictedPosition.y+n.radius,n.radius*.5)}}else if(n.attackType.includes("Boss")){const o=n.direction.normalize();n.predictedPosition.x+=o.x*s,n.predictedPosition.y+=o.y*s}else n.predictedPosition.x+=n.direction.x*s,n.predictedPosition.y+=n.direction.y*s;this.updateAttackGraphic(n)}}}}shutdown(){for(const E of this.attackGraphics.values())E.graphic.destroy(),E.sprite&&E.sprite.destroy();this.attackGraphics.clear(),this.unregisterAttackListeners()}setDebugCirclesEnabled(E){this.debugCirclesEnabled=E,console.log(`Attack debug circles ${E?"enabled":"disabled"}`);for(const F of this.attackGraphics.values())this.updateAttackGraphic(F)}createOrUpdateBossAttackGraphic(E,F){var t;if(!this.spacetimeClient.sdkConnection){console.error("Cannot create boss attack graphic: no connection");return}const b=(t=E.db)==null?void 0:t.entity.entityId.find(F.entityId);if(!b){console.error(`Entity ${F.entityId} not found for boss attack ${F.activeBossAttackId}`);return}console.log(`Creating/updating boss attack graphic for ${F.activeBossAttackId} at position (${b.position.x}, ${b.position.y})`);const D=this.findAttackDataByType(E,F.attackType);if(!D){console.error(`Attack data not found for type ${F.attackType.tag}`);return}const V=.4;let p=this.attackGraphics.get(F.activeBossAttackId);if(p){console.log(`Updating existing boss attack graphic for ${F.activeBossAttackId}`),p.serverPosition.set(b.position.x,b.position.y),p.lastUpdateTime=this.gameTime,p.ticksElapsed=F.ticksElapsed,p.attackType=F.attackType.tag,p.radius=F.radius;const l=p.predictedPosition.x-b.position.x,v=p.predictedPosition.y-b.position.y,a=l*l+v*v;var S=We*p.speed*(We*p.speed);a>S&&(console.log(`Correcting boss attack position for ${F.activeBossAttackId}`),p.predictedPosition.set(b.position.x,b.position.y))}else{console.log(`Creating new boss attack graphic for ${F.activeBossAttackId}`);const l=this.scene.add.graphics();l.setDepth(1.4);const v=this.createAttackSprite(F.attackType.tag,b.position.x,b.position.y);v||console.error(`Failed to create sprite for boss attack type ${F.attackType.tag}`);const a=new ie.Math.Vector2(b.direction.x,b.direction.y);p={graphic:l,sprite:v,radius:F.radius,baseRadius:D.radius,alpha:V,lastUpdateTime:this.gameTime,predictedPosition:new ie.Math.Vector2(b.position.x,b.position.y),serverPosition:new ie.Math.Vector2(b.position.x,b.position.y),direction:a,speed:D.speed,isShield:!1,playerId:null,parameterU:F.parameterU,ticksElapsed:F.ticksElapsed,attackType:F.attackType.tag},v&&v.setRotation(Math.atan2(a.y,a.x)),this.attackGraphics.set(F.activeBossAttackId,p),console.log(`Created new boss attack graphic data for ${F.activeBossAttackId}`)}this.updateAttackGraphic(p)}handleAttackCleanupCreated(E,F){console.log("Attack cleanup created:",F)}handleAttackCleanupDeleted(E,F){console.log("Attack cleanup deleted:",F)}handleBossAttackCleanupCreated(E,F){console.log("Boss attack cleanup created:",F)}handleBossAttackCleanupDeleted(E,F){console.log("Boss attack cleanup deleted:",F)}handleAttackDataCreated(E,F){console.log("Attack data created:",F)}handleAttackDataUpdated(E,F,b){console.log("Attack data updated:",F,b)}}const dn={Small:"gem_1",Medium:"gem_2",Large:"gem_3",Huge:"gem_4"},He={HOVER_AMPLITUDE:5,HOVER_SPEED:1.5,COLLECTION_PARTICLES:8},cn={Small:13756671,Medium:5898134,Large:16766553,Huge:16734629},Ma="shadow",Fa=.4,ai=1e3,wa=-1,ke=class ke{constructor(E,F){$(this,"scene");$(this,"spacetimeDBClient");$(this,"gems",new Map);$(this,"pendingGems",new Map);$(this,"gameEvents");$(this,"particleEmitter");$(this,"gemManagerId");this.scene=E,this.spacetimeDBClient=F,this.gameEvents=window.gameEvents,ke.nextGemManagerId+=1,this.gemManagerId=ke.nextGemManagerId,console.log("GemManager constructed",this.gemManagerId),this.particleEmitter=this.scene.add.particles(0,0,"white_pixel",{speed:{min:50,max:150},scale:.6,blendMode:mt.BlendModes.ADD,lifespan:800,tint:16777215,quantity:He.COLLECTION_PARTICLES}),this.particleEmitter.stop()}initializeGems(E){var F,b,D;if(!((b=(F=this.spacetimeDBClient)==null?void 0:F.sdkConnection)!=null&&b.db)){console.error("Cannot initialize gems: database connection not available");return}console.log("GemManager initializing gems",this.gemManagerId),this.registerGemListeners(),this.registerEntityListeners();for(const V of(D=E.db)==null?void 0:D.gems.iter()){const p=E.db.entity.entityId.find(V.entityId);p?this.createGemSprite(V,p.position):this.createOrUpdateGem(E,V)}}registerGemListeners(){console.log("Registering gem listeners for GemManager",this.gemManagerId),this.gameEvents.on(it.GEM_CREATED,(E,F)=>{this.createOrUpdateGem(E,F)}),this.gameEvents.on(it.GEM_UPDATED,(E,F,b)=>{this.createOrUpdateGem(E,b)}),this.gameEvents.on(it.GEM_DELETED,(E,F)=>{this.removeGem(F.gemId)})}registerEntityListeners(){console.log("Registering entity event listeners for GemManager",this.gemManagerId),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.on(it.ENTITY_UPDATED,this.handleEntityEvent,this)}handleEntityEvent(E,F){this.handleEntityUpdate(E,F)}handleEntityUpdate(E,F){var V;const b=this.pendingGems.get(F.entityId);if(b){const p=this.gems.get(b.gemId);return p?(p.x=F.position.x,p.y=F.position.y,p.setDepth(ai+F.position.y),this.pendingGems.delete(F.entityId),!0):(this.pendingGems.delete(F.entityId),this.createGemSprite(b,F.position),!0)}const D=(V=E.db)==null?void 0:V.gems.entityId.find(F.entityId);if(D){const p=this.gems.get(D.gemId);if(p)return p.x=F.position.x,p.y=F.position.y,p.setDepth(ai+F.position.y),!0}return!1}createOrUpdateGem(E,F){var V;if(this.gems.has(F.gemId))return;let b=null;const D=(V=E.db)==null?void 0:V.entity.entityId.find(F.entityId);D&&(b=D.position),b?this.createGemSprite(F,b):this.pendingGems.set(F.entityId,F)}createGemSprite(E,F){const b=F.x,D=F.y,V=this.scene.add.container(b,D),p=E.level;let S="Small";p&&typeof p=="object"&&p.tag?S=p.tag:typeof p=="number"&&(S=["Small","Medium","Large","Huge"][p]||"Small");const t=dn[S]||dn.Small;var l=b-4;const v=this.scene.add.image(l,D,Ma);v.setAlpha(Fa),v.setScale(.5),v.setDepth(ai+D+wa);const a=this.scene.add.image(0,0,t);return V.add(a),V.setDepth(ai+D),V.setData("gemId",E.gemId),V.setData("gemLevel",S),V.setData("entityId",E.entityId),V.setData("baseY",D),V.setData("shadow",v),V.setData("hoverOffset",Math.random()*Math.PI*2),this.scene.tweens.add({targets:V,scaleX:1,scaleY:1,duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.gems.set(E.gemId,V),V}createCollectionEffect(E){const F=E.getData("gemLevel"),b=cn[F]||cn.Small;this.particleEmitter.setPosition(E.x,E.y),this.particleEmitter.stop(),this.particleEmitter.setConfig({speed:{min:50,max:150},scale:.6,blendMode:mt.BlendModes.ADD,lifespan:800,tint:b,quantity:He.COLLECTION_PARTICLES}),this.particleEmitter.explode(He.COLLECTION_PARTICLES)}removeGem(E){const F=this.gems.get(E);if(F){this.createCollectionEffect(F);const b=F.getData("shadow");this.scene.tweens.add({targets:F,scaleX:0,scaleY:0,duration:200,ease:"Back.easeIn",onComplete:()=>{F.destroy(!0),b&&b.destroy(),this.gems.delete(E)}})}}getGem(E){return this.gems.get(E)}getAllGems(){return this.gems}getGemCount(){return this.gems.size}getPendingGemCount(){return this.pendingGems.size}update(E,F){for(const[b,D]of this.gems.entries()){const V=D.getData("baseY")||D.y,p=D.getData("hoverOffset")||0,S=V+Math.sin(E/1e3*He.HOVER_SPEED+p)*He.HOVER_AMPLITUDE;D.y=S}}unregisterListeners(){console.log("Unregistering event listeners for GemManager",this.gemManagerId),this.gameEvents.off(it.GEM_CREATED),this.gameEvents.off(it.GEM_UPDATED),this.gameEvents.off(it.GEM_DELETED),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityEvent,this),this.gameEvents.off(it.ENTITY_UPDATED,this.handleEntityEvent,this)}shutdown(){console.log("Shutting down GemManager",this.gemManagerId),this.unregisterListeners();for(const[E,F]of this.gems.entries()){const b=F.getData("shadow");b&&b.destroy(),F.destroy(!0)}this.gems.clear(),this.pendingGems.clear(),this.particleEmitter&&(this.particleEmitter.stop(),this.particleEmitter.destroy())}};$(ke,"nextGemManagerId",0);let an=ke;const Ra=300,La=16711680,Da=.7,vn=1e3,Oa=.6,pn=65280,ba=100,gn=new Map;function mn(L){const E=Date.now(),F=gn.get(L)||0;if(E-F<ba)return;gn.set(L,E),L.setData("originalAlpha",1),L.setTint(La),L.setAlpha(Da),L.getData("damageResetTimerKey")&&L.scene.time.removeEvent(L.getData("damageResetTimerKey"));const D=L.scene.time.delayedCall(Ra,()=>{try{if(L&&L.active){const V=L.getData("originalAlpha")||1;L.clearTint(),L.alpha=V,L.setData("damageResetTimerKey",null)}}catch(V){console.error("Error resetting player damage effect:",V)}});L.setData("damageResetTimerKey",D)}function yn(L,E){if(L.getData("isPoisoned"))return;L.setData("isPoisoned",!0),L.getData("originalSpeed")||L.setData("originalSpeed",L.getData("playerSpeed")||200);const F=L.getData("originalSpeed"),b=F*Oa;L.setData("playerSpeed",b);const D=E.add.particles(0,0,"white_pixel",{x:0,y:0,follow:L,scale:{start:.5,end:.1},speed:{min:10,max:30},lifespan:500,blendMode:"ADD",tint:pn,frequency:50,emitting:!0});E.tweens.add({targets:L,alpha:.8,duration:200,yoyo:!0,repeat:4,ease:"Sine.InOut",onUpdate:()=>{L.setTint(pn)}});const V=E.time.delayedCall(vn,()=>{try{L&&L.active&&(L.setData("playerSpeed",L.getData("originalSpeed")),L.setData("isPoisoned",!1),L.clearTint(),D.destroy(),console.log("Poison effect removed, speed restored"))}catch(p){console.error("Error removing poison effect:",p)}});L.setData("poisonTimerKey",V),console.log(`Scorpion poison applied: Speed reduced from ${F} to ${b} for ${vn}ms`)}const ss=200,Ia=260,xn=20,oi=.8,Ba=1e5,Na={MaxHp:"upgrade_maxHP",HpRegen:"upgrade_regenHP",Speed:"upgrade_speed",Armor:"upgrade_armor",AttackSword:"attack_sword",AttackWand:"attack_wand",AttackKnives:"attack_knife",AttackShield:"attack_shield",AttackFootball:"attack_football",AttackCards:"attack_cards",AttackDumbbell:"attack_dumbbell",AttackGarlic:"attack_garlic"};class Tn{constructor(E,F,b){$(this,"scene");$(this,"spacetimeClient");$(this,"container");$(this,"cards",[]);$(this,"localPlayerId",0);$(this,"upgradeOptions",[]);$(this,"isVisible",!1);$(this,"keyListeners",[]);$(this,"rerollText",null);var D,V,p;this.scene=E,this.spacetimeClient=F,this.localPlayerId=b,this.container=this.scene.add.container(0,0),this.container.setDepth(Ba),this.container.setVisible(!1),this.keyListeners=[(D=this.scene.input.keyboard)==null?void 0:D.addKey(mt.Input.Keyboard.KeyCodes.ONE),(V=this.scene.input.keyboard)==null?void 0:V.addKey(mt.Input.Keyboard.KeyCodes.TWO),(p=this.scene.input.keyboard)==null?void 0:p.addKey(mt.Input.Keyboard.KeyCodes.THREE)].filter(S=>S!==void 0),console.log("UpgradeUI initialized")}update(E,F){if(!this.isVisible)return;const b=this.scene.cameras.main;b&&(this.container.x=b.scrollX+b.width/2,this.container.y=b.scrollY+b.height-Ia/2-20);for(let D=0;D<this.keyListeners.length;D++)if(mt.Input.Keyboard.JustDown(this.keyListeners[D])){this.chooseUpgrade(D);break}}setUpgradeOptions(E){var F;if(console.log("Setting upgrade options:",E),this.upgradeOptions=E,this.rerollText&&((F=this.spacetimeClient.sdkConnection)!=null&&F.db)){const b=this.spacetimeClient.sdkConnection.db.player.playerId.find(this.localPlayerId);b&&b.rerolls!==void 0&&this.rerollText.setText(`Press R to reroll (Available: ${b.rerolls})`)}E.length>0?(this.createUpgradeCards(),this.show()):this.hide()}createUpgradeCards(){this.cards.forEach(b=>b.destroy()),this.cards=[];const F=-(this.upgradeOptions.length*ss+(this.upgradeOptions.length-1)*xn)/2+ss/2;this.upgradeOptions.forEach((b,D)=>{const V=F+D*(ss+xn),p=this.createCard(V,0,b,D);this.cards.push(p),this.container.add(p)})}createCard(E,F,b,D){const V=this.scene.add.container(E,F),p=this.scene.add.image(0,0,"card_blank");p.setScale(oi),V.add(p),p.setInteractive({useHandCursor:!0}),p.on("pointerdown",()=>this.chooseUpgrade(D)),p.on("pointerover",()=>p.setTint(14540253)),p.on("pointerout",()=>p.clearTint());const S=this.scene.add.text(0,p.height*oi,`${D+1}`,{fontSize:"48px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:4});S.setOrigin(.5),V.add(S);const t=b.upgradeType.tag,l=Na[t]||"white_pixel",v=this.scene.add.image(0,-20,l);v.setScale(.8),V.add(v);let a=this.getUpgradeDescription(b);const r=this.scene.add.text(0,p.height*oi*.28,a,{fontSize:"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:p.width*oi*.8}});return r.setOrigin(.5),V.add(r),V}getUpgradeDescription(E){const F=E.upgradeType.tag;switch(F){case"MaxHp":return"HP";case"HpRegen":return"Regen";case"Speed":return"Speed";case"Armor":return"Armor"}return E.isNewAttack?"New":E.damage>0?"Atk":E.cooldownRatio>0?"CD":E.projectiles>0?"Count":E.speed>0?"Speed":E.radius>0?"Size":F}chooseUpgrade(E){var b;if(!this.isVisible||E>=this.upgradeOptions.length)return;console.log(`Choosing upgrade at index ${E}`);const F=this.upgradeOptions[E];if(F)if((b=this.spacetimeClient.sdkConnection)!=null&&b.reducers){this.spacetimeClient.sdkConnection.reducers.chooseUpgrade(this.localPlayerId,F.upgradeIndex),console.log(`Sent ChooseUpgrade reducer call for index ${F.upgradeIndex}`);const D=this.scene.registry.get("localPlayerSprite");this.createUpgradeAppliedEffect(D),this.hide()}else console.error("Cannot choose upgrade: SpacetimeDB connection not available")}createUpgradeAppliedEffect(E){if(!E)return;console.log("Playing upgrade applied effect");const F=E.tintTopLeft;E.setTint(16777215);const b=this.scene.add.circle(E.x,E.y,E.width/1.5,65535,.7);b.setDepth(E.depth-1);const D=this.scene.add.particles(E.x,E.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:500,gravityY:-20,tint:65535,emitting:!1});D.explode(20,E.x,E.y),this.scene.time.delayedCall(100,()=>{E.setTint(65535),this.scene.time.delayedCall(200,()=>{E.setTint(F)})}),this.scene.tweens.add({targets:b,scale:2.5,alpha:0,duration:400,ease:"Sine.easeOut",onComplete:()=>{b.destroy()}}),this.scene.time.delayedCall(600,()=>{D.destroy()})}show(){this.isVisible=!0,this.container.setVisible(!0)}hide(){this.isVisible=!1,this.container.setVisible(!1)}destroy(){this.keyListeners.forEach(E=>E.destroy()),this.cards.forEach(E=>E.destroy()),this.container.destroy()}}const Ua=1e5;class Ga{constructor(E,F,b){$(this,"scene");$(this,"spacetimeClient");$(this,"container");$(this,"rerollCountText");$(this,"localPlayerId",0);this.scene=E,this.spacetimeClient=F,this.localPlayerId=b,this.container=this.scene.add.container(0,0),this.container.setDepth(Ua),this.rerollCountText=this.scene.add.text(0,0,"Rerolls: 0",{fontSize:"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:3}),this.rerollCountText.setOrigin(1,0),this.container.add(this.rerollCountText),this.updateRerollCount(),console.log("PlayerHUD initialized")}update(E,F){const b=this.scene.cameras.main;b&&(this.rerollCountText.x=b.scrollX+b.width-20,this.rerollCountText.y=b.scrollY+20),E%1e3<20&&this.updateRerollCount()}updateRerollCount(){var E;if((E=this.spacetimeClient.sdkConnection)!=null&&E.db){const F=this.spacetimeClient.sdkConnection.db.player.playerId.find(this.localPlayerId);F&&F.rerolls!==void 0&&this.rerollCountText.setText(`Rerolls: ${F.rerolls}`)}}destroy(){this.container.destroy()}}const za=1e5,Va=60*1e3;class Xa{constructor(E,F){$(this,"scene");$(this,"spacetimeClient");$(this,"container");$(this,"timerText");$(this,"timerBackground");$(this,"gameEvents");$(this,"bossSpawnTime",null);$(this,"isTimerActive",!1);$(this,"flashAnimation",null);this.scene=E,this.spacetimeClient=F,this.gameEvents=window.gameEvents,this.container=this.scene.add.container(0,0),this.container.setDepth(za);const b=this.scene.cameras.main;b&&(this.container.x=b.scrollX+b.width/2,this.container.y=b.scrollY+40),this.timerBackground=this.scene.add.rectangle(0,0,300,40,0,.7),this.timerBackground.setStrokeStyle(2,4473924),this.timerBackground.setOrigin(.5,.5),this.timerText=this.scene.add.text(0,0,"End of the world in: --:--",{fontSize:"18px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}),this.timerText.setOrigin(.5,.5),this.container.add([this.timerBackground,this.timerText]),this.container.setVisible(!1),this.registerEventListeners(),this.checkForExistingBossTimer(),console.log("BossTimerUI initialized")}registerEventListeners(){this.gameEvents.on(it.GAME_STATE_UPDATED,this.handleGameStateUpdated,this),this.gameEvents.on(it.BOSS_SPAWN_TIMER_CREATED,this.handleBossTimerCreated,this),this.gameEvents.on(it.MONSTER_CREATED,this.handleMonsterCreated,this)}handleGameStateUpdated(E,F,b){!F.bossActive&&b.bossActive&&(this.stopTimer(),this.container.setVisible(!1)),F.bossActive&&!b.bossActive&&(this.bossSpawnTime=null)}handleBossTimerCreated(E,F){var D,V;console.log("Boss timer created event received"),console.log("Raw timer in event:",F),console.log("Timer type:",typeof F),(D=F==null?void 0:F.scheduledAt)!=null&&D.value&&(console.log("Timer value direct access:",F.scheduledAt.value),console.log("Value type:",typeof F.scheduledAt.value));const b=this.extractTimestampFromTimer(F);if(b)console.log("Successfully extracted timestamp:",b),console.log("Human readable date:",new Date(b).toLocaleString()),this.bossSpawnTime=b,this.startTimer(),console.log("Started boss timer from timer creation event");else{if(console.log("Failed to extract timestamp from timer, trying fallbacks..."),(V=F==null?void 0:F.scheduledAt)!=null&&V.value){const p=F.scheduledAt.value;if(typeof p=="bigint"||!isNaN(Number(p))){const S=Number(p)/1e3;console.log("Fallback 1: Direct value conversion:",S),this.bossSpawnTime=S,this.startTimer();return}}this.stopTimer(),this.container.setVisible(!1),console.log("Could not extract valid timestamp from created timer, hiding boss timer UI")}}handleMonsterCreated(E,F){if(F.bestiaryId&&F.bestiaryId.tag){const b=F.bestiaryId.tag;b==="FinalBossPhase1"||b==="FinalBossPhase2"?(this.stopTimer(),this.container.setVisible(!1)):this.checkForExistingBossTimer()}}startTimer(){if(!this.bossSpawnTime){console.log("Cannot start timer - no valid boss spawn time"),this.container.setVisible(!1);return}this.isTimerActive=!0,this.container.setVisible(!0),this.container.visible||(console.warn("Boss timer container not visible after setVisible(true), forcing visibility"),this.container.visible=!0,this.container.alpha=1),this.bossSpawnTime<=Date.now()&&(console.log("Boss spawn time is in the past, showing IMMINENT message"),this.timerText.setText("End of the world: IMMINENT!"),this.startWarningFlash(!0)),console.log(`Boss timer started. Boss will spawn at: ${new Date(this.bossSpawnTime).toLocaleTimeString()}`),console.log(`Timer container properties: visible=${this.container.visible}, alpha=${this.container.alpha}, x=${this.container.x}, y=${this.container.y}`)}stopTimer(){this.isTimerActive=!1,this.flashAnimation&&(this.flashAnimation.stop(),this.flashAnimation=null),this.timerText.setColor("#ffffff")}update(E,F){const b=this.scene.cameras.main;if(b&&(this.container.x=b.scrollX+b.width/2,this.container.y=b.scrollY+40),this.isTimerActive&&this.bossSpawnTime){const D=Date.now(),V=Math.max(0,this.bossSpawnTime-D);if(V<=0)this.timerText.setText("End of the world: IMMINENT!"),this.flashAnimation||this.startWarningFlash(!0);else{const p=Math.floor(V/6e4),S=Math.floor(V%6e4/1e3),t=`End of the world in: ${p}:${S.toString().padStart(2,"0")}`;this.timerText.setText(t),V<=Va&&!this.flashAnimation&&this.startWarningFlash(!1)}}}startWarningFlash(E){const F=E?"#ff0000":"#ffff00",b="#ffffff";this.flashAnimation=this.scene.tweens.add({targets:this.timerText,alpha:{from:1,to:.7},duration:E?300:500,ease:"Sine.InOut",yoyo:!0,repeat:-1,onYoyo:()=>{this.timerText.setColor(this.timerText.style.color===F?b:F)},onRepeat:()=>{this.timerText.setColor(this.timerText.style.color===F?b:F)}})}destroy(){this.gameEvents.off(it.GAME_STATE_UPDATED,this.handleGameStateUpdated,this),this.gameEvents.off(it.BOSS_SPAWN_TIMER_CREATED,this.handleBossTimerCreated,this),this.gameEvents.off(it.MONSTER_CREATED,this.handleMonsterCreated,this),this.flashAnimation&&this.flashAnimation.stop(),this.container.destroy()}checkForExistingBossTimer(){var E,F,b,D;if((F=(E=this.spacetimeClient)==null?void 0:E.sdkConnection)!=null&&F.db){console.log("Checking for existing boss spawn timer...");try{const V=Array.from(this.spacetimeClient.sdkConnection.db.bossSpawnTimer.iter());if(console.log("Boss timers found:",V.length),console.log("Raw timer data:",JSON.stringify(V,(p,S)=>typeof S=="bigint"?S.toString()+"n":S)),V.length>0){const p=V[0];if(console.log("Found existing boss timer:",p),console.log("Timer properties:",Object.keys(p)),(b=p==null?void 0:p.scheduledAt)!=null&&b.value&&(console.log("Direct value:",p.scheduledAt.value),console.log("Value type:",typeof p.scheduledAt.value)),p){const S=this.extractTimestampFromTimer(p);if(S)console.log("Successfully extracted timestamp:",S),console.log("Human readable date:",new Date(S).toLocaleString()),this.bossSpawnTime=S,this.startTimer(),console.log("Started boss timer from existing database entry");else{if(console.log("Failed to extract timestamp using standard method, trying fallbacks..."),(D=p==null?void 0:p.scheduledAt)!=null&&D.value){const t=p.scheduledAt.value;if(typeof t=="bigint"||!isNaN(Number(t))){const l=Number(t)/1e3;console.log("Fallback 1: Direct value conversion:",l),console.log("Human readable date:",new Date(l).toLocaleString()),this.bossSpawnTime=l,this.startTimer();return}}this.stopTimer(),this.container.setVisible(!1),console.log("Could not extract valid timestamp from timer, hiding boss timer UI")}}}else console.log("No existing boss spawn timer found, hiding timer UI"),this.stopTimer(),this.container.setVisible(!1)}catch(V){console.error("Error checking for existing boss timer:",V),this.stopTimer(),this.container.setVisible(!1)}}}extractTimestampFromTimer(E){var F,b;try{if(console.log("Raw timer before stringification:",E),console.log("Raw scheduledAt:",E==null?void 0:E.scheduledAt),console.log("Raw value:",(F=E==null?void 0:E.scheduledAt)==null?void 0:F.value),(b=E==null?void 0:E.scheduledAt)!=null&&b.value&&(console.log("Value type:",typeof E.scheduledAt.value),console.log("Is BigInt:",typeof E.scheduledAt.value=="bigint")),console.log("Extracting timestamp from timer:",JSON.stringify(E,(V,p)=>typeof p=="bigint"?p.toString():p)),!E||!E.scheduledAt)return console.log("Timer or scheduledAt property is missing"),null;const D=E.scheduledAt;if(D.microsSinceUnixEpoch!==void 0){const V=D.microsSinceUnixEpoch;if(typeof V=="bigint")return Number(V)/1e3;if(typeof V=="number")return V/1e3}if(D.timeMs!==void 0)return typeof D.timeMs=="bigint"?Number(D.timeMs):D.timeMs;if(typeof D=="object"&&D.tag&&D.value&&D.tag==="Time"){const V=D.value;if(console.log("Processing Time tag with value:",V,"type:",typeof V),typeof V=="bigint")return console.log("Converting BigInt value to timestamp"),Number(V)/1e3;if(typeof V=="string")if(console.log("Found string timestamp:",V),V.endsWith("n")){const p=V.slice(0,-1);return console.log("Removed 'n' suffix, processing:",p),Number(p)/1e3}else return console.log("Processing as regular string number"),Number(V)/1e3;if(V&&typeof V=="object"&&V.microsSinceUnixEpoch!==void 0){const p=V.microsSinceUnixEpoch;if(typeof p=="bigint")return Number(p)/1e3;if(typeof p=="number")return p/1e3}if(V&&typeof V=="object"&&V.timeMs!==void 0)return typeof V.timeMs=="bigint"?Number(V.timeMs):V.timeMs;if(V){console.log("Attempting direct conversion of value");const p=Number(V);if(!isNaN(p)&&p>0)return console.log("Direct conversion succeeded:",p),p/1e3}}return console.log("Could not extract timestamp - unknown timer structure"),null}catch(D){return console.error("Error extracting timestamp:",D),null}}}const Ya=200,hi="grass_background",Fe="shadow",Ke=14,ns=.4,Sn=.2,Wa=100,Cn={fontSize:"16px",fontFamily:"Arial",color:"#ffffff",stroke:"#000000",strokeThickness:3},Jt=50,we=6,kt=18,Qt=50,Re=4,_t=8,$e=kt+16,Rt=1e3,Ze=-1,li=2,ui=1,fi=1.1,di=1,ci=1.1,Ha=49;class Ka extends mt.Scene{constructor(){super("GameScene");$(this,"spacetimeDBClient");$(this,"gameEvents");$(this,"playerInitialized",!1);$(this,"localPlayerSprite",null);$(this,"localPlayerNameText",null);$(this,"localPlayerShadow",null);$(this,"otherPlayers",new Map);$(this,"pendingPlayers",new Map);$(this,"monsterManager",null);$(this,"monsterSpawnerManager",null);$(this,"attackManager",null);$(this,"gemManager",null);$(this,"upgradeUI",null);$(this,"playerHUD",null);$(this,"bossTimerUI",null);$(this,"minimap",null);$(this,"localPlayerId",0);$(this,"cursors",null);$(this,"wasdKeys",null);$(this,"backgroundTile",null);$(this,"isPlayerDataReady",!1);$(this,"lastDirectionUpdateTime",0);$(this,"serverPosition",null);$(this,"currentDirection",new mt.Math.Vector2(0,0));$(this,"isMoving",!1);$(this,"tapTarget",null);$(this,"tapMarker",null);$(this,"isNearBoundary",{top:!1,right:!1,bottom:!1,left:!1});$(this,"gameOver",!1);this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("GameScene constructor called.")}preload(){console.log("GameScene preload started."),this.load.image("class_fighter","assets/class_fighter_1.png"),this.load.image("class_rogue","assets/class_rogue_1.png"),this.load.image("class_mage","assets/class_mage_1.png"),this.load.image("class_paladin","assets/class_paladin_1.png"),this.load.image("class_football","assets/class_football_1.png"),this.load.image("class_gambler","assets/class_gambler_1.png"),this.load.image("class_athlete","assets/class_athlete_1.png"),this.load.image("class_chef","assets/class_chef_1.png"),this.load.image(hi,"assets/grass.png"),this.load.image(Fe,"assets/shadow.png"),this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_wolf","assets/monster_wolf.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("monster_spawn_indicator","assets/monster_spawn_indicator.png"),this.load.image("final_boss_jorge_phase_1","assets/final_boss_jorge_phase_1.png"),this.load.image("final_boss_jorge_phase_2","assets/final_boss_jorge_phase_2.png"),this.load.image("final_boss_bjorn_phase_1","assets/final_boss_phase_björn_1.png"),this.load.image("final_boss_bjorn_phase_2","assets/final_boss_phase_björn_2.png"),this.load.image("final_boss_simon_phase_1","assets/final_boss_simon_phase_1.png"),this.load.image("final_boss_simon_phase_2","assets/final_boss_simon_phase_2.png"),this.load.image("attack_sword","assets/attack_sword.png"),this.load.image("attack_wand","assets/attack_wand.png"),this.load.image("attack_knife","assets/attack_knife.png"),this.load.image("attack_shield","assets/attack_shield.png"),this.load.image("attack_football","assets/attack_football.png"),this.load.image("attack_cards","assets/attack_cards.png"),this.load.image("attack_dumbbell","assets/attack_dumbbell.png"),this.load.image("attack_garlic","assets/attack_garlic.png"),this.load.image("attack_boss_jorge","assets/attack_boss_jorge.png"),this.load.image("attack_boss_bjorn","assets/attack_boss_björn.png"),this.load.image("attack_boss_simon","assets/attack_boss_simon.png"),this.load.image("attack_spit","assets/attack_spit.png"),this.load.image("attack_sting","assets/attack_sting.png"),this.load.image("card_blank","assets/card_blank.png"),this.load.image("upgrade_maxHP","assets/upgrade_maxHP.png"),this.load.image("upgrade_regenHP","assets/upgrade_regenHP.png"),this.load.image("upgrade_speed","assets/upgrade_speed.png"),this.load.image("upgrade_armor","assets/upgrade_armor.png"),this.load.image("gem_1","assets/gem_1.png"),this.load.image("gem_2","assets/gem_2.png"),this.load.image("gem_3","assets/gem_3.png"),this.load.image("gem_4","assets/gem_4.png"),this.load.image("white_pixel","assets/white_pixel.png"),this.load.on("loaderror",F=>{console.error(`Error loading asset: ${F.key} (${F.url})`,F),alert(`Failed to load game asset: ${F.key}. Check browser console for details.`)}),this.load.on("complete",()=>{console.log("All assets loaded. Checking existence:"),console.log("player_fighter:",this.textures.exists("player_fighter")),console.log("player_rogue:",this.textures.exists("player_rogue")),console.log("player_mage:",this.textures.exists("player_mage")),console.log("player_paladin:",this.textures.exists("player_paladin")),console.log("monster_rat:",this.textures.exists("monster_rat")),console.log("monster_slime:",this.textures.exists("monster_slime")),console.log("monster_orc:",this.textures.exists("monster_orc")),console.log("monster_wolf:",this.textures.exists("monster_wolf")),console.log("monster_worm:",this.textures.exists("monster_worm")),console.log("attack_sword:",this.textures.exists("attack_sword")),console.log("attack_wand:",this.textures.exists("attack_wand")),console.log("attack_knife:",this.textures.exists("attack_knife")),console.log("attack_shield:",this.textures.exists("attack_shield")),console.log(hi+":",this.textures.exists(hi)),console.log(Fe+":",this.textures.exists(Fe))}),console.log("GameScene preload finished. Started asset loading...")}create(){var S,t;console.log("GameScene create started."),console.log("Available textures:",Object.keys(this.textures.list)),this.cleanupLingeringUIElements(),this.cameras.main.setBackgroundColor("#336699"),this.registerEventListeners(),console.log("Game event listeners registered."),this.playerInitialized=!1,this.cursors=((S=this.input.keyboard)==null?void 0:S.createCursorKeys())??null,this.input.keyboard&&(this.wasdKeys={W:this.input.keyboard.addKey(mt.Input.Keyboard.KeyCodes.W),A:this.input.keyboard.addKey(mt.Input.Keyboard.KeyCodes.A),S:this.input.keyboard.addKey(mt.Input.Keyboard.KeyCodes.S),D:this.input.keyboard.addKey(mt.Input.Keyboard.KeyCodes.D)},this.input.keyboard.addKey(mt.Input.Keyboard.KeyCodes.BACKTICK).on("down",this.toggleAttackDebugCircles,this),this.input.keyboard.addKey(mt.Input.Keyboard.KeyCodes.R).on("down",this.rerollUpgrades,this)),console.log("Keyboard input set up."),this.bossTimerUI=new Xa(this,this.spacetimeDBClient),console.log("Boss timer UI initialized."),this.input.on("pointermove",l=>{l.isDown&&this.localPlayerSprite&&(this.tapTarget=new mt.Math.Vector2(l.worldX,l.worldY),this.updateTapMarker())}),this.input.on("pointerdown",l=>{this.localPlayerSprite&&(this.tapTarget=new mt.Math.Vector2(l.worldX,l.worldY),this.updateTapMarker())}),this.input.on("pointerup",()=>{}),console.log("Touch input set up.");const F=this.add.circle(0,0,32,16777215,.3),b=this.add.circle(0,0,16,65535,.5),D=this.add.graphics();D.lineStyle(4,16777215,.7),D.beginPath(),D.moveTo(-8,-8),D.lineTo(8,8),D.moveTo(8,-8),D.lineTo(-8,8),D.closePath(),D.strokePath();const V=this.add.container(0,0,[F,b,D]);this.tapMarker=V,this.tapMarker&&(this.tapMarker.setVisible(!1),this.tapMarker.setDepth(.5),this.tapMarker.setAlpha(.8)),console.log("Tap marker set up.");const p=2e4;this.backgroundTile=this.add.tileSprite(0,0,p,p,hi).setOrigin(0,0).setScrollFactor(1),this.physics.world.setBounds(0,0,p,p),console.log("Background and world bounds set up. World size:",p),console.log("Waiting for account login updated event to initialize game world..."),this.monsterManager=new pa(this,this.spacetimeDBClient),this.attackManager=new Pa(this,this.spacetimeDBClient),this.monsterSpawnerManager=new Ea(this,this.spacetimeDBClient),this.createMinimap(),(t=this.spacetimeDBClient.sdkConnection)==null||t.reducers.updateLastLogin()}registerEventListeners(){this.gameEvents.on(it.ACCOUNT_UPDATED,this.handleAccountUpdated,this),this.gameEvents.on(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.on(it.PLAYER_UPDATED,this.handlePlayerUpdated,this),this.gameEvents.on(it.PLAYER_DELETED,this.handlePlayerDeleted,this),this.gameEvents.on(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.on(it.ENTITY_CREATED,this.handleEntityCreated,this),this.gameEvents.on(it.ENTITY_UPDATED,this.handleEntityUpdated,this),this.gameEvents.on(it.ENTITY_DELETED,this.handleEntityDeleted,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.spacetimeDBClient.sdkConnection&&(this.spacetimeDBClient.sdkConnection.db.upgradeOptions.onInsert((F,b)=>this.handleUpgradeOptionCreated(F,b)),this.spacetimeDBClient.sdkConnection.db.upgradeOptions.onDelete((F,b)=>this.handleUpgradeOptionDeleted(F,b))),this.events.on("shutdown",this.shutdown,this)}handleAccountUpdated(F,b,D){console.log("Account updated event received in GameScene"),this.spacetimeDBClient.identity&&D.identity.isEqual(this.spacetimeDBClient.identity)?(console.log("GameScene: Local account updated"),b.lastLogin.microsSinceUnixEpoch!==D.lastLogin.microsSinceUnixEpoch?(console.log("New login detected, initializing game world: "+b.lastLogin.microsSinceUnixEpoch+" -> "+D.lastLogin.microsSinceUnixEpoch),this.initializeGameWorld(F)):console.log("GameScene: Local account updated, but no new login detected")):console.log("GameScene: Another user has logged on: "+D.identity.toString())}handlePlayerCreated(F,b,D=!0){console.log("Player created event received in GameScene"),D?(console.log("Local player created:",b),this.initializeLocalPlayer(F,b)):(console.log("Other player created:",b),this.addOrUpdateOtherPlayer(b,F))}handlePlayerUpdated(F,b,D,V){V&&D.unspentUpgrades>b.unspentUpgrades&&(console.log("Player level up: upgrade points available:",D.unspentUpgrades),this.localPlayerSprite&&this.createLevelUpEffect(this.localPlayerSprite)),V?this.updateLocalPlayerAttributes(F,D):this.addOrUpdateOtherPlayer(D,F)}handlePlayerDeleted(F,b,D=!1){D?console.log("Local player deleted event received"):(console.log("Other player deleted:",b),this.removeOtherPlayer(b.playerId))}handlePlayerDied(F,b){var S,t;console.log("Player died event received in GameScene"),console.log("Local player died:",b),this.upgradeUI&&(console.log("Clearing upgrade UI for dying player"),this.upgradeUI.hide());const D=(S=F.db)==null?void 0:S.deadPlayers.playerId.find(b.playerId);console.log("Dead player record:",D);let V=!1;D&&(V=D.isTrueSurvivor),console.log("Final isTrueSurvivor value:",V);var p=(t=this.localPlayerSprite)==null?void 0:t.getCenter();p&&this.createDeathEffects(p.x,p.y),V?(console.log("Showing TRUE SURVIVOR victory screen!"),this.showVictoryScreen()):(console.log("Showing regular death screen"),this.showDeathScreen()),this.gameOver=!0}handleConnectionLost(F){console.log("Connection lost event received in GameScene");const{width:b,height:D}=this.scale;this.add.text(b/2,D/2,`CONNECTION LOST
Please refresh the page`,{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.disablePlayerControls()}initializeGameWorld(F){var t,l,v,a,r,n;if(console.log("Initializing game world elements..."),!this.spacetimeDBClient||!this.spacetimeDBClient.identity||!((t=this.spacetimeDBClient.sdkConnection)!=null&&t.db)){console.error("SpacetimeDB client, identity, or tables not available in initializeGameWorld.");return}const b=this.spacetimeDBClient.identity,D=(l=F.db)==null?void 0:l.account.identity.find(b);if(!D){console.error("Local account not found!");return}if(console.log("Local account found:",D),!D.currentPlayerId){console.error("Local account has no currentPlayerId!");return}var V=D.currentPlayerId,p=(v=F.db)==null?void 0:v.player.playerId.find(V);if(!p){var S=(a=F.db)==null?void 0:a.deadPlayers.playerId.find(V);if(S){console.error("Local player is dead! The game scene should not have been loaded.");return}const e=Array.from(((r=F.db)==null?void 0:r.player.iter())||[]);console.log("All players:",e),console.error("Local player data not found for playerID:",D.currentPlayerId);return}console.log("Local player data found during initialization:",p),this.initializeLocalPlayer(F,p),console.log("Performing initial player synchronization..."),this.syncPlayers(F),(n=this.monsterManager)==null||n.initializeMonsters(F),this.attackManager&&(this.attackManager.setLocalPlayerId(V),this.attackManager.initializeAttacks(F),console.log("Existing attacks checked")),this.gemManager=new an(this,this.spacetimeDBClient),this.gemManager.initializeGems(F),console.log("Game world initialization complete.")}initializeLocalPlayer(F,b){var p,S;if(console.log("Initializing local player..."),this.playerInitialized){console.log("Local player already initialized, skipping...");return}this.localPlayerId=b.playerId,this.playerHUD=new Ga(this,this.spacetimeDBClient,this.localPlayerId);const D=(p=F.db)==null?void 0:p.entity.entityId.find(b.entityId);if(!D){console.log("Entity data not found for local player, adding to pending players"),this.pendingPlayers.set(b.entityId,b);return}(S=this.attackManager)==null||S.setLocalPlayerRadius(D.radius),console.log("Found entity data for player:",D);const V=this.getClassSpriteKey(b.playerClass);if(this.localPlayerSprite){this.localPlayerSprite.setTexture(V),this.localPlayerSprite.setPosition(D.position.x,D.position.y);const t=this.localPlayerSprite.getData("healthBar"),l=this.localPlayerSprite.getData("healthBarBackground");if(t&&l){l.x=D.position.x,l.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-kt,t.x=D.position.x-Jt/2,t.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-kt;const r=Math.max(0,Math.min(1,b.hp/b.maxHp));t.width=Jt*r,this.localPlayerSprite.setData("hp",b.hp),this.localPlayerSprite.setData("maxHp",b.maxHp),console.log(`Updated health bar: ${b.hp}/${b.maxHp}`)}else console.warn("Health bar elements not found on existing sprite");const v=this.localPlayerSprite.getData("expBar"),a=this.localPlayerSprite.getData("expBarBackground");if(v&&a){a.x=D.position.x,a.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-_t,v.x=D.position.x-Qt/2,v.y=D.position.y-Math.floor(this.localPlayerSprite.height/2)-_t;const r=b.expForNextLevel>0?Math.min(1,b.exp/b.expForNextLevel):0;v.width=Qt*r,this.localPlayerSprite.setData("exp",b.exp),this.localPlayerSprite.setData("expForNextLevel",b.expForNextLevel),console.log(`Updated exp bar: ${b.exp}/${b.expForNextLevel}`)}else console.warn("Exp bar elements not found on existing sprite")}else{console.log("Creating new player sprite at position:",D.position),this.localPlayerSprite=this.physics.add.sprite(D.position.x,D.position.y,V),this.localPlayerSprite.setDepth(Rt+D.position.y),this.localPlayerShadow=this.add.image(D.position.x,D.position.y,Fe),this.localPlayerShadow.setAlpha(ns),this.localPlayerShadow.setDepth(Rt+D.position.y+Ze),this.localPlayerNameText=this.add.text(D.position.x,D.position.y-Math.floor(this.localPlayerSprite.height/2)-$e,`${b.name} (${b.level})`,{fontSize:"16px",color:"#FFFFFF",stroke:"#000000",strokeThickness:3,fontStyle:"bold"}).setOrigin(.5),this.localPlayerNameText.setDepth(Rt+D.position.y+li);const t=D.position.x,l=D.position.y,v=this.add.rectangle(t,l-Math.floor(this.localPlayerSprite.height/2)-kt,Jt,we,0,.7).setOrigin(.5,.5),a=this.add.rectangle(t-Jt/2,l-Math.floor(this.localPlayerSprite.height/2)-kt,Jt*(b.hp/b.maxHp),we,65280,1).setOrigin(0,.5),r=this.add.rectangle(t,l-Math.floor(this.localPlayerSprite.height/2)-_t,Qt,Re,0,.7).setOrigin(.5,.5),n=b.expForNextLevel>0?Math.min(1,b.exp/b.expForNextLevel):0,e=this.add.rectangle(t-Qt/2,l-Math.floor(this.localPlayerSprite.height/2)-_t,Qt*n,Re,3447003,1).setOrigin(0,.5);v.setDepth(Rt+D.position.y+ui),a.setDepth(Rt+D.position.y+fi),r.setDepth(Rt+D.position.y+di),e.setDepth(Rt+D.position.y+ci),this.localPlayerSprite.setData("healthBarBackground",v),this.localPlayerSprite.setData("healthBar",a),this.localPlayerSprite.setData("hp",b.hp),this.localPlayerSprite.setData("maxHp",b.maxHp),this.localPlayerSprite.setData("expBarBackground",r),this.localPlayerSprite.setData("expBar",e),this.localPlayerSprite.setData("exp",b.exp),this.localPlayerSprite.setData("expForNextLevel",b.expForNextLevel),console.log(`Created health bar for player: ${b.hp}/${b.maxHp}`),console.log(`Created exp bar for player: ${b.exp}/${b.expForNextLevel}`),this.localPlayerSprite.setCollideWorldBounds(!0),console.log("Setting camera to follow player"),this.cameras.main.startFollow(this.localPlayerSprite,!0,.5,.5),this.cameras.main.setZoom(1)}if(this.registry.set("localPlayerSprite",this.localPlayerSprite),this.serverPosition=new mt.Math.Vector2(D.position.x,D.position.y),this.currentDirection.x=D.direction.x,this.currentDirection.y=D.direction.y,this.isMoving=D.isMoving,this.playerInitialized=!0,this.isPlayerDataReady=!0,b.unspentUpgrades>0){const t=Array.from(F.db.upgradeOptions.iter()).filter(l=>l.playerId===this.localPlayerId);t.length>0?(console.log("Player has pending upgrades, initializing upgrade UI"),this.upgradeUI=new Tn(this,this.spacetimeDBClient,this.localPlayerId),this.upgradeUI.setUpgradeOptions(t)):console.log("No pending upgrades found for player")}else console.log("No pending upgrades found for player");console.log("Local player initialized successfully")}updateLocalPlayerAttributes(F,b){var p,S;const D=this.localPlayerNameText?parseInt(this.localPlayerNameText.text.split("(")[1].split(")")[0]):b.level;if(this.localPlayerNameText&&this.localPlayerNameText.text!==`${b.name} (${b.level})`&&(this.localPlayerNameText.setText(`${b.name} (${b.level})`),b.level>D&&this.localPlayerSprite&&this.createLevelUpEffect(this.localPlayerSprite)),this.localPlayerSprite){const t=this.localPlayerSprite.getData("hp"),l=this.localPlayerSprite.getData("maxHp");if(t!==b.hp||l!==b.maxHp){t!==void 0&&b.hp<t&&(mn(this.localPlayerSprite),this.checkForScorpionDamage(this.localPlayerSprite)),this.localPlayerSprite.setData("hp",b.hp),this.localPlayerSprite.setData("maxHp",b.maxHp);const r=this.localPlayerSprite.getData("healthBar");if(r){const n=Math.max(0,Math.min(1,b.hp/b.maxHp));r.width=Jt*n,n>.6?r.fillColor=65280:n>.3?r.fillColor=16776960:r.fillColor=16711680}}const v=this.localPlayerSprite.getData("exp"),a=this.localPlayerSprite.getData("expForNextLevel");if(v!==b.exp||a!==b.expForNextLevel){this.localPlayerSprite.setData("exp",b.exp),this.localPlayerSprite.setData("expForNextLevel",b.expForNextLevel);const r=this.localPlayerSprite.getData("expBar");if(r){const n=b.expForNextLevel>0?Math.min(1,b.exp/b.expForNextLevel):0;r.width=Qt*n,v!==void 0&&b.exp>v&&this.tweens.add({targets:r,fillColor:65535,duration:200,yoyo:!0,onComplete:()=>{r.fillColor=3447003}})}}if(b.spawnGracePeriodRemaining>0){if(!this.localPlayerSprite.getData("graceActive")){if(this.localPlayerSprite.setData("graceActive",!0),!this.localPlayerSprite.getData("graceTween")){const r=this.tweens.add({targets:this.localPlayerSprite,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{var i;const n=Math.sin(this.time.now/200)*.5+.5,e=new mt.Display.Color(255,255,255),s=new mt.Display.Color(200,200,200),o=mt.Display.Color.Interpolate.ColorWithColor(e,s,100,Math.floor(n*100));(i=this.localPlayerSprite)==null||i.setTint(mt.Display.Color.GetColor(o.r,o.g,o.b))}});this.localPlayerSprite.setData("graceTween",r)}console.log("Grace period active: "+b.spawnGracePeriodRemaining)}}else if(this.localPlayerSprite.getData("graceActive")){this.localPlayerSprite.setData("graceActive",!1);const r=this.localPlayerSprite.getData("graceTween");r&&(r.stop(),this.localPlayerSprite.setData("graceTween",null)),this.localPlayerSprite.clearTint(),this.localPlayerSprite.alpha=1}}const V=(p=F.db)==null?void 0:p.entity.entityId.find(b.entityId);V&&this.serverPosition&&this.serverPosition.set(V.position.x,V.position.y),V&&((S=this.attackManager)==null||S.setLocalPlayerRadius(V.radius))}createLevelUpEffect(F){if(!F)return;console.log("Playing level up effect!");const b=this.add.text(F.x,F.y-100,"LEVEL UP!",{fontFamily:"Arial",fontSize:"32px",color:"#ffff00",stroke:"#000000",strokeThickness:6,fontStyle:"bold"});b.setOrigin(.5),b.setDepth(Rt+F.y+100),this.tweens.add({targets:b,y:b.y-80,alpha:{from:1,to:0},scale:{from:.5,to:2},duration:2e3,ease:"Power2",onComplete:()=>{b.destroy()}});const D=this.add.circle(F.x,F.y,F.width/1.5,16776960,.5);D.setDepth(Rt+F.y-1),this.tweens.add({targets:D,scale:3,alpha:0,duration:500,ease:"Sine.easeOut",onComplete:()=>{D.destroy()}});const V=this.add.particles(F.x,F.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:1e3,gravityY:-50,tint:16776960,emitting:!1});V.explode(30,F.x,F.y),this.time.delayedCall(700,()=>{V.destroy()});const p=F.tintTopLeft;F.setTint(16777215),this.time.delayedCall(200,()=>{F.setTint(p)})}handleEntityUpdate(F,b){var p,S,t,l,v,a,r,n;if((p=this.monsterManager)==null?void 0:p.handleEntityUpdate(F,b))return;let V;try{if((S=this.spacetimeDBClient)!=null&&S.identity){const e=(t=F.db)==null?void 0:t.account.identity.find(this.spacetimeDBClient.identity);if(e&&e.currentPlayerId>0){const s=(l=F.db)==null?void 0:l.player.playerId.find(e.currentPlayerId);s&&(V=s.entityId)}}}catch(e){console.error("Error getting local player entity ID:",e)}if(V===b.entityId){if(!this.localPlayerSprite){const e=Math.floor(b.position.x),s=Math.floor(b.position.y);let o="Player",i=Ve.Fighter,h=1,u=100,d=100,f=0,c=100;try{if((v=this.spacetimeDBClient)!=null&&v.identity){const w=(a=F.db)==null?void 0:a.account.identity.find(this.spacetimeDBClient.identity);if(w&&w.currentPlayerId>0){const P=(r=F.db)==null?void 0:r.player.playerId.find(w.currentPlayerId);P&&(P.name&&(o=P.name),P.playerClass&&(i=P.playerClass),P.level&&(h=P.level),P.maxHp&&(u=P.maxHp),P.hp&&(d=P.hp),P.exp!==void 0&&(f=P.exp),P.expForNextLevel&&(c=P.expForNextLevel))}}}catch(w){console.error("Error getting player data:",w)}const g=this.getClassSpriteKey(i);this.localPlayerSprite=this.physics.add.sprite(e,s,g);const m=Rt+s;this.localPlayerNameText=this.add.text(e,s-Math.floor(this.localPlayerSprite.height/2)-$e,`${o} (${h})`,Cn).setOrigin(.5,.5),this.localPlayerNameText.setDepth(m+li);const y=this.add.rectangle(e,s-Math.floor(this.localPlayerSprite.height/2)-kt,Jt,we,0,.7).setOrigin(.5,.5),x=this.add.rectangle(e-Jt/2,s-Math.floor(this.localPlayerSprite.height/2)-kt,Jt*(d/u),we,65280,1).setOrigin(0,.5),T=this.add.rectangle(e,s-Math.floor(this.localPlayerSprite.height/2)-_t,Qt,Re,0,.7).setOrigin(.5,.5),C=c>0?Math.min(1,f/c):0,A=this.add.rectangle(e-Qt/2,s-Math.floor(this.localPlayerSprite.height/2)-_t,Qt*C,Re,3447003,1).setOrigin(0,.5);y.setDepth(m+ui),x.setDepth(m+fi),T.setDepth(m+di),A.setDepth(m+ci),this.localPlayerSprite.setData("healthBarBackground",y),this.localPlayerSprite.setData("healthBar",x),this.localPlayerSprite.setData("hp",d),this.localPlayerSprite.setData("maxHp",u),this.localPlayerSprite.setData("expBarBackground",T),this.localPlayerSprite.setData("expBar",A),this.localPlayerSprite.setData("exp",f),this.localPlayerSprite.setData("expForNextLevel",c),this.localPlayerShadow=this.add.image(e,s+Ke,Fe).setAlpha(ns).setDepth(m+Ze),this.localPlayerSprite.setCollideWorldBounds(!0),this.cameras.main.startFollow(this.localPlayerSprite,!0,1,1),this.cameras.main.setRoundPixels(!0)}this.serverPosition===null?this.serverPosition=new mt.Math.Vector2(b.position.x,b.position.y):this.serverPosition.set(b.position.x,b.position.y)}else{let e=null;try{e=((n=F.db)==null?void 0:n.player.entityId.find(b.entityId))||null}catch(s){console.error("Error finding player for entity:",s)}if(e)try{this.otherPlayers.get(e.playerId)?this.updateOtherPlayerPosition(e.playerId,b.position.x,b.position.y):this.pendingPlayers.set(b.entityId,e)}catch(s){console.error("Error updating other player position:",s)}}}getClassSpriteKey(F){if(F&&typeof F=="object"&&"tag"in F){const b=F.tag;return{Fighter:"class_fighter",Rogue:"class_rogue",Mage:"class_mage",Paladin:"class_paladin",Football:"class_football",Gambler:"class_gambler",Athlete:"class_athlete",Gourmand:"class_chef"}[b]||"class_fighter"}return typeof F=="string"?{Fighter:"class_fighter",Rogue:"class_rogue",Mage:"class_mage",Paladin:"class_paladin",Football:"class_football",Gambler:"class_gambler",Athlete:"class_athlete",Gourmand:"class_chef"}[F]||"class_fighter":typeof F=="number"?["class_fighter","class_rogue","class_mage","class_paladin","class_football","class_gambler","class_athlete","class_chef"][F]||"class_fighter":(console.log("Using default fighter class"),"class_fighter_1")}createOtherPlayerSprite(F,b){if(this.otherPlayers.has(F.playerId)){this.updateOtherPlayerPosition(F.playerId,b.position.x,b.position.y);return}const D=Math.floor(b.position.x),V=Math.floor(b.position.y),p=Rt+V,S=this.add.image(0,Ke,Fe).setAlpha(ns).setDepth(Ze),t=this.getClassSpriteKey(F.playerClass),l=this.add.sprite(0,0,t),v=`${F.name} (${F.level})`,a=this.add.text(0,-Math.floor(l.height/2)-$e,v,Cn).setOrigin(.5,.5),r=this.add.rectangle(0,-Math.floor(l.height/2)-kt,Jt,we,0,.7).setOrigin(.5,.5),n=this.add.rectangle(-50/2,-Math.floor(l.height/2)-kt,Jt*(F.hp/F.maxHp),we,65280,1).setOrigin(0,.5),e=this.add.rectangle(0,-Math.floor(l.height/2)-_t,Qt,Re,0,.7).setOrigin(.5,.5),s=F.expForNextLevel>0?Math.min(1,F.exp/F.expForNextLevel):0,o=this.add.rectangle(-50/2,-Math.floor(l.height/2)-_t,Qt*s,Re,3447003,1).setOrigin(0,.5),i=this.add.container(D,V,[S,l,a,r,n,e,o]);if(i.setData("entityId",b.entityId),i.setData("hp",F.hp),i.setData("maxHp",F.maxHp),i.setData("exp",F.exp),i.setData("expForNextLevel",F.expForNextLevel),i.setData("sprite",l),l.setName("sprite"),a.setName("nameText"),n.setName("healthBar"),r.setName("healthBarBackground"),o.setName("expBar"),e.setName("expBarBackground"),i.setDepth(p),this.otherPlayers.set(F.playerId,i),F.spawnGracePeriodRemaining>0){i.setData("graceActive",!0);const h=this.tweens.add({targets:l,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{const u=Math.sin(this.time.now/200)*.5+.5,d=new mt.Display.Color(255,255,255),f=new mt.Display.Color(200,200,200),c=mt.Display.Color.Interpolate.ColorWithColor(d,f,100,Math.floor(u*100));l.setTint(mt.Display.Color.GetColor(c.r,c.g,c.b))}});i.setData("graceTween",h),console.log(`Player ${F.name} has grace period: ${F.spawnGracePeriodRemaining}`)}}addOrUpdateOtherPlayer(F,b){var D,V,p;if((D=this.spacetimeDBClient)!=null&&D.identity){const S=(V=b.db)==null?void 0:V.account.identity.find(this.spacetimeDBClient.identity);if(S&&S.currentPlayerId===F.playerId)return;if(this.otherPlayers.has(F.playerId)){const t=this.otherPlayers.get(F.playerId);if(t){const l=t.getByName("nameText");if(l&&l.text!==`${F.name} (${F.level})`){const a=parseInt(l.text.split("(")[1].split(")")[0]);l.setText(`${F.name} (${F.level})`),F.level>a&&this.createOtherPlayerLevelUpEffect(t)}if(F.hp!==void 0&&F.maxHp!==void 0){const a=t.getData("hp")||F.maxHp;if(F.hp<a){const n=t.getByName("sprite");n&&(mn(n),this.checkForOtherPlayerScorpionDamage(n,t))}t.setData("hp",F.hp),t.setData("maxHp",F.maxHp);const r=t.getByName("healthBar");if(r){const n=Math.max(0,Math.min(1,F.hp/F.maxHp));r.width=Jt*n,r.x=-50/2}}if(F.exp!==void 0&&F.expForNextLevel!==void 0){const a=t.getData("exp")||0;t.getData("expForNextLevel"),t.setData("exp",F.exp),t.setData("expForNextLevel",F.expForNextLevel);const r=t.getByName("expBar");if(r){const n=F.expForNextLevel>0?Math.min(1,F.exp/F.expForNextLevel):0;r.width=Qt*n,r.x=-50/2,F.exp>a&&this.tweens.add({targets:r,fillColor:65535,duration:200,yoyo:!0,onComplete:()=>{r.fillColor=3447003}})}}const v=t.getByName("sprite");if(v){if(F.spawnGracePeriodRemaining>0){if(!t.getData("graceActive")&&(t.setData("graceActive",!0),!t.getData("graceTween"))){const a=this.tweens.add({targets:v,alpha:.7,yoyo:!0,repeat:-1,duration:500,onUpdate:()=>{const r=Math.sin(this.time.now/200)*.5+.5,n=new mt.Display.Color(255,255,255),e=new mt.Display.Color(200,200,200),s=mt.Display.Color.Interpolate.ColorWithColor(n,e,100,Math.floor(r*100));v.setTint(mt.Display.Color.GetColor(s.r,s.g,s.b))}});t.setData("graceTween",a)}}else if(t.getData("graceActive")){t.setData("graceActive",!1);const a=t.getData("graceTween");a&&(a.stop(),t.setData("graceTween",null)),v.clearTint(),v.alpha=1}}}}else if(F.entityId){const t=(p=b.db)==null?void 0:p.entity.entityId.find(F.entityId);t?this.createOtherPlayerSprite(F,t):this.pendingPlayers.set(F.entityId,F)}}}updateTapMarker(){if(!this.tapMarker){console.warn("Cannot update tap marker - it doesn't exist!");return}this.tapTarget?(this.tapMarker.setPosition(this.tapTarget.x,this.tapTarget.y+Ke+20),this.tapMarker.setVisible(!0),this.tweens.add({targets:this.tapMarker,scale:{from:.8,to:1},duration:300,ease:"Bounce.Out"})):this.tapMarker.setVisible(!1)}updateOtherPlayerPosition(F,b,D){const V=this.otherPlayers.get(F);V&&this.tweens.add({targets:V,x:Math.floor(b),y:Math.floor(D),duration:100,ease:"Linear",onUpdate:()=>{V.setDepth(Rt+V.y)}})}removeOtherPlayer(F){var D,V;const b=this.otherPlayers.get(F);if(b){const p=(D=this.minimap)==null?void 0:D.otherPlayerDots.get(F);p&&(p.destroy(),(V=this.minimap)==null||V.otherPlayerDots.delete(F)),b.destroy(),this.otherPlayers.delete(F)}}update(F,b){var v,a,r,n,e,s,o,i,h,u,d;if(!this.localPlayerSprite||!((a=(v=this.spacetimeDBClient)==null?void 0:v.sdkConnection)!=null&&a.db))return;let D=0,V=0,p=!1;if(this.cursors&&((r=this.cursors.left)!=null&&r.isDown&&(D-=1,p=!0),(n=this.cursors.right)!=null&&n.isDown&&(D+=1,p=!0),(e=this.cursors.up)!=null&&e.isDown&&(V-=1,p=!0),(s=this.cursors.down)!=null&&s.isDown&&(V+=1,p=!0)),this.wasdKeys&&(this.wasdKeys.A.isDown&&(D-=1,p=!0),this.wasdKeys.D.isDown&&(D+=1,p=!0),this.wasdKeys.W.isDown&&(V-=1,p=!0),this.wasdKeys.S.isDown&&(V+=1,p=!0)),p&&this.tapTarget&&(this.tapTarget=null,(o=this.tapMarker)==null||o.setVisible(!1)),D===0&&V===0&&this.tapTarget){const f=this.getPlayerEntityRadius(),c=this.clampToWorldBounds(this.tapTarget,f);(c.x!==this.tapTarget.x||c.y!==this.tapTarget.y)&&(this.tapTarget.set(c.x,c.y),this.updateTapMarker());const g=this.tapTarget.x-this.localPlayerSprite.x,m=this.tapTarget.y-this.localPlayerSprite.y,y=g*g+m*m;if(y>100){const x=Math.sqrt(y);D=g/x,V=m/x}else this.tapTarget=null,(i=this.tapMarker)==null||i.setVisible(!1)}const S=D!==0||V!==0,t=this.currentDirection.x!==D||this.currentDirection.y!==V,l=F-this.lastDirectionUpdateTime>Wa;if((t||S&&l)&&(this.currentDirection.set(D,V),this.isMoving=S,this.gameOver||((h=this.spacetimeDBClient.sdkConnection)==null||h.reducers.updatePlayerDirection(D,V),this.lastDirectionUpdateTime=F)),this.isMoving){const f=Ya*(b/1e3),c=this.currentDirection.x*f,g=this.currentDirection.y*f,m=this.getPlayerEntityRadius(),y={x:this.localPlayerSprite.x+c,y:this.localPlayerSprite.y+g},x=this.clampToWorldBounds(y,m);(x.x!==y.x||x.y!==y.y)&&console.debug(`Movement clamped to boundary: (${y.x.toFixed(1)}, ${y.y.toFixed(1)}) → (${x.x.toFixed(1)}, ${x.y.toFixed(1)})`),this.localPlayerSprite.x=x.x,this.localPlayerSprite.y=x.y,this.localPlayerSprite.setDepth(Rt+this.localPlayerSprite.y),this.localPlayerNameText&&(this.localPlayerNameText.x=this.localPlayerSprite.x,this.localPlayerNameText.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-$e,this.localPlayerNameText.setDepth(Rt+this.localPlayerSprite.y+li)),this.localPlayerShadow&&(this.localPlayerShadow.x=this.localPlayerSprite.x,this.localPlayerShadow.y=this.localPlayerSprite.y+Ke,this.localPlayerShadow.setDepth(Rt+this.localPlayerSprite.y+Ze));const T=this.localPlayerSprite.getData("healthBarBackground"),C=this.localPlayerSprite.getData("healthBar");T&&C&&(T.x=this.localPlayerSprite.x,T.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-kt,T.setDepth(Rt+this.localPlayerSprite.y+ui),C.x=this.localPlayerSprite.x-Jt/2,C.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-kt,C.setDepth(Rt+this.localPlayerSprite.y+fi));const A=this.localPlayerSprite.getData("expBarBackground"),w=this.localPlayerSprite.getData("expBar");A&&w&&(A.x=this.localPlayerSprite.x,A.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,A.setDepth(Rt+this.localPlayerSprite.y+di),w.x=this.localPlayerSprite.x-Qt/2,w.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,w.setDepth(Rt+this.localPlayerSprite.y+ci))}if(this.serverPosition&&this.localPlayerSprite){const f=this.getPlayerEntityRadius(),c=this.clampToWorldBounds(this.serverPosition,f),g=c.x-this.localPlayerSprite.x,m=c.y-this.localPlayerSprite.y;if(g*g+m*m>Ha){this.localPlayerSprite.x+=g*Sn,this.localPlayerSprite.y+=m*Sn,this.localPlayerSprite.setDepth(Rt+this.localPlayerSprite.y),this.localPlayerNameText&&(this.localPlayerNameText.x=this.localPlayerSprite.x,this.localPlayerNameText.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-$e,this.localPlayerNameText.setDepth(Rt+this.localPlayerSprite.y+li)),this.localPlayerShadow&&(this.localPlayerShadow.x=this.localPlayerSprite.x,this.localPlayerShadow.y=this.localPlayerSprite.y+Ke,this.localPlayerShadow.setDepth(Rt+this.localPlayerSprite.y+Ze));const x=this.localPlayerSprite.getData("healthBarBackground"),T=this.localPlayerSprite.getData("healthBar");x&&T&&(x.x=this.localPlayerSprite.x,x.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-kt,x.setDepth(Rt+this.localPlayerSprite.y+ui),T.x=this.localPlayerSprite.x-Jt/2,T.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-kt,T.setDepth(Rt+this.localPlayerSprite.y+fi));const C=this.localPlayerSprite.getData("expBarBackground"),A=this.localPlayerSprite.getData("expBar");C&&A&&(C.x=this.localPlayerSprite.x,C.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,C.setDepth(Rt+this.localPlayerSprite.y+di),A.x=this.localPlayerSprite.x-Qt/2,A.y=this.localPlayerSprite.y-Math.floor(this.localPlayerSprite.height/2)-_t,A.setDepth(Rt+this.localPlayerSprite.y+ci))}}this.otherPlayers.forEach(f=>{f.setDepth(Rt+f.y)}),(u=this.monsterManager)==null||u.update(F,b),(d=this.attackManager)==null||d.update(F,b),this.gemManager&&this.gemManager.update(F,b),this.upgradeUI&&this.upgradeUI.update(F,b),this.playerHUD&&this.playerHUD.update(F,b),this.bossTimerUI&&this.bossTimerUI.update(F,b),this.updateMinimap()}updateMinimap(){if(!this.minimap||!this.localPlayerSprite)return;const F=this.physics.world.bounds,b=this.minimap.background.width,D=this.localPlayerSprite.x/F.width,V=this.localPlayerSprite.y/F.height;this.minimap.playerDot.x=D*b,this.minimap.playerDot.y=V*b,this.otherPlayers.forEach((p,S)=>{var l;let t=(l=this.minimap)==null?void 0:l.otherPlayerDots.get(S);if(!t&&this.minimap&&(t=this.add.circle(0,0,5,65280,1),this.minimap.container.add(t),this.minimap.otherPlayerDots.set(S,t)),t){const v=p.x/F.width,a=p.y/F.height;t.x=v*b,t.y=a*b}})}syncPlayers(F){var V;if(console.log("Forcing player sync..."),!this.spacetimeDBClient||!this.spacetimeDBClient.identity||!((V=this.spacetimeDBClient.sdkConnection)!=null&&V.db)){console.error("Cannot sync players: SpacetimeDB client, identity, or tables not available");return}const b=this.spacetimeDBClient.identity,D=F.db.account.identity.find(b);if(!D){console.error("Local account not found during sync!");return}if(!this.localPlayerSprite&&D.currentPlayerId>0){const p=F.db.player.playerId.find(D.currentPlayerId);if(p){const S=F.db.entity.entityId.find(p.entityId);S?(console.log(`Creating local player during sync: ${p.name} at (${S.position.x}, ${S.position.y})`),this.handleEntityUpdate(F,S)):console.warn(`Entity data not found for local player (entityId: ${p.entityId})`)}else console.warn("Local player data not found in player table during sync")}for(const p of F.db.player.iter()){if(p.playerId===D.currentPlayerId)continue;const S=F.db.entity.entityId.find(p.entityId);S?this.otherPlayers.get(p.playerId)?this.updateOtherPlayerPosition(p.playerId,S.position.x,S.position.y):this.createOtherPlayerSprite(p,S):console.warn(`Entity data not found for player ${p.name} (entityId: ${p.entityId})`)}console.log(`Total tracked other players after sync: ${this.otherPlayers.size}`)}createDeathEffects(F,b){console.log(`Creating death effects at (${F}, ${b})`);const D=this.add.particles(F,b,"shadow",{speed:{min:50,max:200},angle:{min:0,max:360},scale:{start:.4,end:.1},lifespan:800,quantity:20,tint:16711680,gravityY:300,blendMode:"ADD",emitting:!1});D.setDepth(5e4),D.explode(30,F,b),this.time.delayedCall(1e3,()=>{D.destroy()})}showDeathScreen(){console.log("Showing death screen for local player");const{width:F,height:b}=this.scale,D=this.add.rectangle(0,0,F,b,0,.7).setOrigin(0,0).setScrollFactor(0).setDepth(1e5),V=this.add.text(F/2,b/2-50,"You are no Survivor",{fontFamily:"Arial",fontSize:"48px",color:"#FF0000",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001),p=this.add.text(F/2,b/2+50,"Choose a new character",{fontFamily:"Arial",fontSize:"24px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001);D.alpha=0,V.alpha=0,p.alpha=0,this.tweens.add({targets:[D,V,p],alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(3e3,()=>{console.log("Death screen timer complete, transitioning to ClassSelectScene"),this.scene.start("ClassSelectScene")})}}),this.disablePlayerControls()}disablePlayerControls(){this.tapTarget=null,this.tapMarker&&this.tapMarker.setVisible(!1),this.isMoving=!1,this.currentDirection.set(0,0),this.input&&(this.input.off("pointermove"),this.input.off("pointerdown"),this.input.off("pointerup"))}shutdown(){var F,b,D,V,p;console.log("GameScene shutting down..."),(F=this.monsterManager)==null||F.shutdown(),(b=this.monsterSpawnerManager)==null||b.destroy(),this.monsterSpawnerManager=null,(D=this.attackManager)==null||D.shutdown(),(V=this.gemManager)==null||V.shutdown(),this.gemManager=null,this.upgradeUI&&(this.upgradeUI.destroy(),this.upgradeUI=null),this.playerHUD&&(this.playerHUD.destroy(),this.playerHUD=null),this.bossTimerUI&&(this.bossTimerUI.destroy(),this.bossTimerUI=null),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.ACCOUNT_UPDATED,this.handleAccountUpdated,this),this.gameEvents.off(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.off(it.PLAYER_UPDATED,this.handlePlayerUpdated,this),this.gameEvents.off(it.PLAYER_DELETED,this.handlePlayerDeleted,this),this.gameEvents.off(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.off(it.ENTITY_CREATED,this.handleEntityCreated,this),this.gameEvents.off(it.ENTITY_UPDATED,this.handleEntityUpdated,this),this.gameEvents.off(it.ENTITY_DELETED,this.handleEntityDeleted,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.monsterManager&&this.monsterManager.unregisterListeners(),this.localPlayerSprite&&(this.localPlayerSprite.destroy(),this.localPlayerSprite=null),this.localPlayerShadow&&(this.localPlayerShadow.destroy(),this.localPlayerShadow=null),this.localPlayerNameText&&(this.localPlayerNameText.destroy(),this.localPlayerNameText=null);for(const[S,t]of this.otherPlayers)t.destroy();if(this.otherPlayers.clear(),this.tapTarget=null,this.tapMarker&&(this.tapMarker.destroy(),this.tapMarker=null),(p=this.input)!=null&&p.keyboard)try{this.input.keyboard.removeCapture(mt.Input.Keyboard.KeyCodes.BACKTICK),this.input.keyboard.addKey(mt.Input.Keyboard.KeyCodes.BACKTICK)}catch(S){console.warn("Could not clean up debug key binding:",S)}this.minimap&&(this.minimap.container.destroy(),this.minimap=null),console.log("GameScene shutdown complete.")}handleEntityCreated(F,b){this.handleEntityUpdate(F,b)}handleEntityUpdated(F,b,D){this.handleEntityUpdate(F,D)}handleEntityDeleted(F,b){}cleanupLingeringUIElements(){console.log("GameScene: Cleaning up lingering UI elements from other scenes only");try{const F=document.getElementById("login-name-input");F&&F.parentNode&&(console.log("GameScene: Removing lingering login input"),F.remove());const b=document.getElementById("class-select-container");b&&b.parentNode&&(console.log("GameScene: Removing lingering class container"),b.remove())}catch(F){console.error("Error in GameScene cleanupLingeringUIElements:",F)}}getPlayerEntityRadius(){var b,D,V;let F=48;try{if((b=this.spacetimeDBClient)!=null&&b.identity&&((V=(D=this.spacetimeDBClient)==null?void 0:D.sdkConnection)!=null&&V.db)){const p=this.spacetimeDBClient.sdkConnection.db.account.identity.find(this.spacetimeDBClient.identity);if(p&&p.currentPlayerId>0){const S=this.spacetimeDBClient.sdkConnection.db.player.playerId.find(p.currentPlayerId);if(S&&S.entityId){const t=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(S.entityId);t&&t.radius&&(F=t.radius)}}}}catch(p){console.error("Error getting entity radius:",p)}return F}clampToWorldBounds(F,b){const D=this.physics.world.bounds,V=8;return{x:mt.Math.Clamp(F.x,D.x+b,D.right-b),y:mt.Math.Clamp(F.y,D.y+b+V,D.bottom-b-V)}}toggleAttackDebugCircles(){if(this.attackManager){this.attackManager.debugCirclesEnabled===void 0&&(this.attackManager.debugCirclesEnabled=!1);const F=!this.attackManager.debugCirclesEnabled;this.attackManager.debugCirclesEnabled=F,this.attackManager.setDebugCirclesEnabled(F),console.log(`Attack debug circles ${F?"enabled":"disabled"}`)}else console.log("Attack manager not initialized, can't toggle debug circles")}createOtherPlayerLevelUpEffect(F){if(!F)return;console.log("Playing level up effect for other player!");const b=F.getByName("sprite");if(!b)return;const D=this.add.text(F.x,F.y-100,"LEVEL UP!",{fontFamily:"Arial",fontSize:"28px",color:"#ffff00",stroke:"#000000",strokeThickness:5,fontStyle:"bold"});D.setOrigin(.5),D.setDepth(Rt+F.y+100),this.tweens.add({targets:D,y:D.y-80,alpha:{from:1,to:0},scale:{from:.5,to:2},duration:2e3,ease:"Power2",onComplete:()=>{D.destroy()}});const V=this.add.circle(F.x,F.y,b.width/1.5,16776960,.5);V.setDepth(Rt+F.y-1),this.tweens.add({targets:V,scale:3,alpha:0,duration:500,ease:"Sine.easeOut",onComplete:()=>{V.destroy()}});const p=this.add.particles(F.x,F.y,"white_pixel",{speed:{min:50,max:150},scale:{start:.5,end:0},blendMode:"ADD",lifespan:1e3,gravityY:-50,tint:16776960,emitting:!1});p.explode(30,F.x,F.y),this.time.delayedCall(700,()=>{p.destroy()});const S=b.tintTopLeft;b.setTint(16777215),this.time.delayedCall(200,()=>{b.setTint(S)})}handleUpgradeOptionCreated(F,b){var D;if(b.playerId===this.localPlayerId){if(console.log("Received upgrade option:",b),!this.upgradeUI&&this.localPlayerId>0&&(this.upgradeUI=new Tn(this,this.spacetimeDBClient,this.localPlayerId)),this.upgradeUI){const V=Array.from((D=F.db)==null?void 0:D.upgradeOptions.iter()).filter(p=>p.playerId===this.localPlayerId);this.upgradeUI.setUpgradeOptions(V)}}else console.log("Received upgrade option for other player:"+b.playerId+", local player id:"+this.localPlayerId)}handleUpgradeOptionDeleted(F,b){if(b.playerId===this.localPlayerId&&this.upgradeUI){const D=Array.from(F.db.upgradeOptions.iter()).filter(V=>V.playerId===this.localPlayerId);D.length===0?this.upgradeUI.hide():this.upgradeUI.setUpgradeOptions(D)}}rerollUpgrades(){var b;if(!((b=this.spacetimeDBClient.sdkConnection)!=null&&b.db)||this.localPlayerId<=0){console.log("Cannot reroll: Connection not available or player not initialized");return}const F=this.spacetimeDBClient.sdkConnection.db.player.playerId.find(this.localPlayerId);if(!F){console.log("Cannot reroll: Player data not found");return}if(F.unspentUpgrades<=0){console.log("Cannot reroll: No unspent upgrades available");return}if(F.rerolls<=0){console.log("Cannot reroll: No rerolls available");return}console.log("Rerolling upgrades..."),this.upgradeUI&&this.upgradeUI.hide(),this.localPlayerSprite&&this.createRerollEffect(this.localPlayerSprite),this.spacetimeDBClient.sdkConnection.reducers.rerollUpgrades(this.localPlayerId)}createRerollEffect(F){if(!F)return;console.log("Playing reroll effect!");const b=this.add.text(F.x,F.y-80,"REROLL!",{fontFamily:"Arial",fontSize:"28px",color:"#00ffff",stroke:"#000000",strokeThickness:5,fontStyle:"bold"});b.setOrigin(.5),b.setDepth(Rt+F.y+100),this.tweens.add({targets:b,y:b.y-50,alpha:{from:1,to:0},scale:{from:.8,to:1.5},duration:1e3,ease:"Power2",onComplete:()=>{b.destroy()}});const D=this.add.particles(F.x,F.y,"white_pixel",{speed:{min:80,max:180},scale:{start:.5,end:0},blendMode:"ADD",lifespan:800,gravityY:0,tint:65535,emitting:!1,emitCallback:p=>{const S=Math.random()*Math.PI*2,t=mt.Math.Between(80,180);mt.Math.Between(30,80),p.velocityX=Math.cos(S)*t,p.velocityY=Math.sin(S)*t,p.rotation=S}});D.explode(40,F.x,F.y);const V=F.tintTopLeft;F.setTint(65535),this.time.delayedCall(300,()=>{F.setTint(V)}),this.time.delayedCall(800,()=>{D.destroy()})}createMinimap(){const{width:F,height:b}=this.scale,D=150,V=20,p=.7,S=5,t=2,l=this.add.container(V,b-V-D),v=this.add.rectangle(0,0,D,D,0,.5).setOrigin(0),a=this.add.rectangle(0,0,D,D,16777215,.3).setOrigin(0);a.setStrokeStyle(t,16777215,.5);const r=this.add.circle(0,0,S,255,1);l.add([v,a,r]),l.setScrollFactor(0),l.setAlpha(p),this.minimap={container:l,background:v,playerDot:r,otherPlayerDots:new Map,border:a},console.log("Minimap created")}showVictoryScreen(){console.log("Showing True Survivor victory screen");const{width:F,height:b}=this.scale,D=this.add.rectangle(0,0,F,b,16777215,.7).setOrigin(0,0).setScrollFactor(0).setDepth(1e5),V=this.add.text(F/2,b/2-50,"YOU ARE A TRUE SURVIVOR",{fontFamily:"Arial",fontSize:"48px",color:"#FFD700",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001),p=this.add.text(F/2,b/2+50,"The Final Boss has been defeated!",{fontFamily:"Arial",fontSize:"24px",color:"#FFFFFF",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(100001);D.alpha=0,V.alpha=0,p.alpha=0,this.tweens.add({targets:[D,V,p],alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{this.time.delayedCall(5e3,()=>{console.log("Victory screen timer complete, transitioning to ClassSelectScene"),this.scene.start("ClassSelectScene")})}}),this.createVictoryParticles(),this.disablePlayerControls()}createVictoryParticles(){const{width:F,height:b}=this.scale,D=this.add.particles(0,0,"white_pixel",{x:{min:0,max:F},y:-50,quantity:2,lifespan:6e3,speedY:{min:100,max:300},speedX:{min:-100,max:100},scale:{start:.5,end:1},rotate:{start:0,end:360},tint:[16766720,16753920,16777215,14329120],frequency:50,emitting:!0}).setDepth(100002),V=this.add.particles(F/2,b/2,"white_pixel",{speed:{min:100,max:500},angle:{min:0,max:360},scale:{start:1,end:0},lifespan:2e3,blendMode:"ADD",tint:16766720,quantity:2,frequency:200,emitting:!0}).setDepth(100002);this.time.delayedCall(5e3,()=>{D.destroy(),V.destroy()})}checkForScorpionDamage(F){var b,D;if(!F.getData("isPoisoned")&&!(!this.monsterManager||!((D=(b=this.spacetimeDBClient)==null?void 0:b.sdkConnection)!=null&&D.db)))try{const V=Array.from(this.spacetimeDBClient.sdkConnection.db.monsters.iter()).filter(l=>l.bestiaryId===Xt.Scorpion);if(V.length===0)return;const p=F.x,S=F.y;let t=!1;for(const l of V){const v=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(l.entityId);if(v){const a=p-v.position.x,r=S-v.position.y,n=a*a+r*r,e=v.radius*1.5;if(n<=e*e){t=!0;break}}}t&&(yn(F,this),console.log("Player poisoned by scorpion!"))}catch(V){console.error("Error checking for scorpion damage:",V)}}checkForOtherPlayerScorpionDamage(F,b){var D,V;if(!b.getData("isPoisoned")&&!(!this.monsterManager||!((V=(D=this.spacetimeDBClient)==null?void 0:D.sdkConnection)!=null&&V.db)))try{const p=Array.from(this.spacetimeDBClient.sdkConnection.db.monsters.iter()).filter(v=>v.bestiaryId===Xt.Scorpion);if(p.length===0)return;const S=F.x,t=F.y;let l=!1;for(const v of p){const a=this.spacetimeDBClient.sdkConnection.db.entity.entityId.find(v.entityId);if(a){const r=S-a.position.x,n=t-a.position.y,e=r*r+n*n,s=a.radius*1.5;if(e<=s*s){l=!0;break}}}l&&(yn(F,this),console.log("Other player poisoned by scorpion!"))}catch(p){console.error("Error checking for scorpion damage:",p)}}}class $a extends mt.Scene{constructor(){super("LoginScene");$(this,"spacetimeDBClient");$(this,"gameEvents");$(this,"statusText");$(this,"nameInput");$(this,"nameButton");$(this,"errorText");$(this,"loginContainer");this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("LoginScene constructor called")}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){const{width:F,height:b}=this.scale;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(F/2,b/2,"title_bg").setDisplaySize(F,b).setDepth(0)}catch(V){console.error("Error loading background:",V)}this.loginContainer=this.add.container(F/2,b/2);const D=this.add.text(0,-150,"SURVIVE WITH FRIENDS",{fontFamily:"Arial Black",fontSize:"64px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:8}).setOrigin(.5);this.loginContainer.add(D),this.statusText=this.add.text(0,-80,"Connecting to server...",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5),this.loginContainer.add(this.statusText),this.createHTMLElements(),this.errorText=this.add.text(0,200,"",{fontFamily:"Arial",fontSize:"18px",color:"#ff0000",align:"center"}).setOrigin(.5).setVisible(!1),this.loginContainer.add(this.errorText),this.registerEventListeners(),this.updateConnectionStatus(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createHTMLElements(){const F=document.getElementById("login-name-input");F&&F.remove(),document.querySelectorAll(".login-button").forEach(D=>D.remove()),this.nameInput=document.createElement("input"),this.nameInput.id="login-name-input",this.nameInput.type="text",this.nameInput.placeholder="Enter your name",this.nameInput.maxLength=16,this.nameInput.style.position="absolute",this.nameInput.style.fontFamily="Arial",this.nameInput.style.fontSize="20px",this.nameInput.style.padding="10px",this.nameInput.style.width="300px",this.nameInput.style.textAlign="center",this.nameInput.style.borderRadius="4px",this.nameInput.style.display="none",this.nameInput.style.left="50%",this.nameInput.style.transform="translateX(-50%)",document.body.appendChild(this.nameInput),this.nameButton=document.createElement("button"),this.nameButton.textContent="Set Name",this.nameButton.className="login-button",this.nameButton.style.position="absolute",this.nameButton.style.fontFamily="Arial",this.nameButton.style.fontSize="20px",this.nameButton.style.padding="10px 20px",this.nameButton.style.width="150px",this.nameButton.style.borderRadius="4px",this.nameButton.style.backgroundColor="#4CAF50",this.nameButton.style.color="white",this.nameButton.style.border="none",this.nameButton.style.cursor="pointer",this.nameButton.style.display="none",this.nameButton.style.textAlign="center",this.nameButton.style.left="50%",this.nameButton.style.transform="translateX(-50%)",document.body.appendChild(this.nameButton),this.nameButton.addEventListener("click",()=>this.setPlayerName()),this.nameInput.addEventListener("keypress",D=>{D.key==="Enter"&&this.setPlayerName()}),this.positionHTMLElements()}positionHTMLElements(){const{height:F}=this.scale;this.nameInput.style.top=`${F/2-25}px`,this.nameButton.style.top=`${F/2+40}px`}handleResize(){const{width:F,height:b}=this.scale;this.loginContainer&&this.loginContainer.setPosition(F/2,b/2),this.positionHTMLElements()}registerEventListeners(){this.gameEvents.on(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.on(it.ACCOUNT_CREATED,this.handleAccountCreated,this),this.gameEvents.on(it.NAME_SET,this.handleNameSet,this),this.gameEvents.on(it.LOADING_ERROR,this.handleLoadingError,this)}handleConnectionEstablished(){console.log("Connection established event received in LoginScene"),this.updateConnectionStatus()}handleConnectionLost(){console.log("Connection lost event received in LoginScene"),this.updateConnectionStatus(),this.statusText.setText("Disconnected. Please refresh the page."),this.hideAllInputs()}handleAccountCreated(F){console.log("Account created event received in LoginScene"),F.name||this.showNameInput()}handleNameSet(){console.log("Name set event received in LoginScene")}handleLoadingError(F){console.log("Loading error event received in LoginScene",F),this.showError(F)}updateConnectionStatus(){this.spacetimeDBClient.isConnected?(console.log("Connected to server"),this.statusText.setText(""),this.showNameInput()):(this.statusText.setText("Connecting to server..."),this.hideAllInputs())}setPlayerName(){var b;const F=this.nameInput.value.trim();if(!F||F.length<1||F.length>16){this.showError("Please enter a valid name (1-16 characters)");return}this.hideAllInputs(),this.scene.start("LoadingScene",{message:"Setting your name...",nextScene:"PrologScene",timeoutDuration:1e4});try{(b=this.spacetimeDBClient.sdkConnection)!=null&&b.reducers?(console.log(`Setting name to: ${F}`),this.spacetimeDBClient.sdkConnection.reducers.setName(F)):(this.scene.start("LoginScene"),setTimeout(()=>{this.showError("Cannot set name: SpacetimeDB reducers not available")},100))}catch(D){console.error("Error setting name:",D),this.scene.start("LoginScene"),setTimeout(()=>{this.showError("An error occurred while setting your name")},100)}}hideAllInputs(){this.nameInput.style.display="none",this.nameButton.style.display="none"}showNameInput(){this.nameInput.style.display="block",this.nameButton.style.display="block"}showError(F){this.errorText.setText(F),this.errorText.setVisible(!0)}shutdown(){this.hideAllInputs(),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.CONNECTION_ESTABLISHED,this.handleConnectionEstablished,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.off(it.ACCOUNT_CREATED,this.handleAccountCreated,this),this.gameEvents.off(it.NAME_SET,this.handleNameSet,this),this.gameEvents.off(it.LOADING_ERROR,this.handleLoadingError,this);try{let F=[],b=[];this.nameInput&&F.push(this.nameInput),this.nameButton&&b.push(this.nameButton);const D=document.getElementById("login-name-input");D&&F.push(D),document.querySelectorAll(".login-button").forEach(V=>b.push(V)),document.querySelectorAll('input[type="text"], button').forEach(V=>{(V.id==="login-name-input"||V.className==="login-button"||V.parentElement&&V.parentElement.id==="login-form")&&(V.tagName==="INPUT"&&F.push(V),V.tagName==="BUTTON"&&b.push(V))}),F.forEach(V=>{V&&V.parentNode&&(console.log("Removing login input element:",V.id),V.remove())}),b.forEach(V=>{V&&V.parentNode&&(console.log("Removing login button element:",V.className),V.remove())}),console.log("LoginScene HTML elements cleaned up")}catch(F){console.error("Error cleaning up LoginScene HTML elements:",F)}this.scale.off("resize",this.handleResize)}forceCleanupDOMElements(){console.log("LoginScene: Force cleaning up all DOM elements");try{this.nameInput&&(this.nameInput.style.display="none"),this.nameButton&&(this.nameButton.style.display="none");const F=document.getElementById("login-name-input");F&&(console.log("Force-removing login input by ID"),F.remove()),document.querySelectorAll(".login-button").forEach(b=>{console.log("Force-removing login button by class"),b.remove()}),document.querySelectorAll('input[type="text"]').forEach(b=>{b.id==="login-name-input"&&(console.log("Force-removing text input"),b.remove())}),document.querySelectorAll("button").forEach(b=>{b.textContent==="Set Name"&&(console.log("Force-removing button by text content"),b.remove())})}catch(F){console.error("Error in forceCleanupDOMElements:",F)}}}const Za={"story.intro.1":`Chris, Marc, Til and Max - are on the road again, as they often are when they are looking for a new challenge.
 This time, they are heading high up into the mountains. After hours of hiking over narrow paths and steep climbs, they have already covered more than 2,000 meters in altitude. Drenched in sweat and full of anticipation, they are now almost at their destination: only one last step separates them from the summit cross.`,"story.intro.2":"But then: a huge abyss. So deep that you can no longer see the ground. Between them and the summit hangs only a rotten, swaying wooden suspension bridge - held by two thin ropes that tremble suspiciously against every gust of wind.","story.intro.3":`Max stops. 'This is too dangerous. We should turn back', he says. But Chris, Marc and Til just look at each other - and grin and shout: 'TRUST.'
Without hesitation, Chris is the first to trudge onto the bridge. He even jumps a few times to show how stable it is. And indeed - it holds. So the others follow, step by step.`,"story.intro.4":`But then - ZACK!
A loud crash. The ropes snap. A scream. And the four friends plunge into the depths.`,"story.intro.5":"They fall - endlessly, through absolute darkness. But instead of smashing against the rock, they land... softly? Confused and dazed, they regain consciousness. All around them: a dark, strange place. Rock faces, moss, shimmering crystals - an underground labyrinth, a dungeon, as if from another world.","story.intro.6":`An ancient inscription is engraved on the wall in front of them:

 'Only those who steel body and mind, use every resource and conquer the gatekeeper will find their way back to the surface.`,"story.intro.7":`The adventure begins. No more excuses. No turning back.
Only training, teamwork - and the fight for survival.`,"class.til.description":"A melee specialist with high base damage.","class.til.weapon":"Sword Slash - A close-range piercing attack with high damage","class.til.strengths":"High base damage, Can hit multiple enemies","class.til.weaknesses":"Limited range","class.marc.description":"A swift assassin that excels at burst damage.","class.marc.weapon":"Throwing Knives - Multiple fast projectiles in a spread pattern","class.marc.strengths":"High attack speed, Multi-directional attacks","class.marc.weaknesses":"Low individual projectile damage","class.max.description":"A ranged specialist with seeking projectiles.","class.max.weapon":"Magic Bolt - Homes in on the nearest enemy","class.max.strengths":"Auto-targeting attacks, Good single target damage","class.max.weaknesses":"Low armor piercing","class.chris.description":"A holy warrior protected by orbiting shields.","class.chris.weapon":"Shield Bash - Rotating shield that damages nearby enemies","class.chris.strengths":"Good defensive capabilities, Constant AoE damage","class.chris.weaknesses":"Slower attack speed","class.football_til.description":"Til unleashes his football skills for devastating attacks.","class.football_til.weapon":"Football - A powerful bouncing projectile that pierces through enemies","class.football_til.strengths":"Very high damage, Pierce through multiple enemies","class.football_til.weaknesses":"Slower attack speed, Less control over bounces","class.yugioh_marc.description":"Marc channels his inner duelist to unleash devastating card combinations.","class.yugioh_marc.weapon":"Card Burst - Launches a barrage of magical cards","class.yugioh_marc.strengths":"Multiple projectiles, Fast attacks, Wide coverage","class.yugioh_marc.weaknesses":"Very low health, No armor, Cards have random patterns","class.gym_max.description":"Max embraces his inner gym bro for maximum gains and damage.","class.gym_max.weapon":"Dumbbell Slam - Devastating area damage with weights","class.gym_max.strengths":"Extremely high health, Maximum armor, Massive damage","class.gym_max.weaknesses":"Very slow movement, Long attack recovery","class.chef_chris.description":"Chris masters the art of combat cooking with his signature garlic attacks.","class.chef_chris.weapon":"Garlic Storm - Creates an intense damaging field","class.chef_chris.strengths":"Powerful AoE damage, Enhanced defense, Larger area","class.chef_chris.weaknesses":"Must stay close to enemies, Lower burst damage","ui.confirm_selection":"Confirm Selection","ui.select_class.title":"SELECT YOUR CLASS","ui.select_class.subtitle":"Choose wisely, brave survivor...","ui.bestiary.title":"ENEMY BESTIARY","ui.bestiary.description":"Learn about the creatures that lurk in the depths","ui.bestiary.select_monster":"Select a monster to view details","ui.back":"Back","bestiary.category.common":"Common Enemies","bestiary.category.bosses":"Bosses","bestiary.monster.Rat.name":"Rat","bestiary.monster.Rat.description":"Small and fast vermin that travel in packs. While individually weak, they can overwhelm careless adventurers with their numbers.","bestiary.monster.Rat.tips":`- Rats are weak but fast and often attack in groups
- Use area attacks to handle multiple rats at once
- They have very low HP, so one hit is usually enough`,"bestiary.monster.Slime.name":"Slime","bestiary.monster.Slime.description":"Gelatinous creatures that slowly pursue their prey. Their bodies can absorb significant damage before breaking apart.","bestiary.monster.Slime.tips":`- Slimes are slow but have more health than rats
- Keep your distance and use ranged attacks
- They occasionally split into smaller slimes when damaged`,"bestiary.monster.Orc.name":"Orc","bestiary.monster.Orc.description":"Brutish warriors with considerable strength. They wield crude but effective weapons and have a surprisingly tactical mind.","bestiary.monster.Orc.tips":`- Orcs are tough enemies with high damage
- They have a strong frontal attack, so avoid direct confrontation
- Circle around them to exploit their slow turning speed`,"bestiary.monster.Wolf.name":"Wolf","bestiary.monster.Wolf.description":"Swift predators with sharp instincts. Wolves are fast and agile, often circling their prey before lunging with deadly precision.","bestiary.monster.Wolf.tips":`- Wolves are very fast and will chase you relentlessly
- They often attack in coordinated packs
- Use obstacles to break their line of sight`,"bestiary.monster.Worm.name":"Worm","bestiary.monster.Worm.description":"Tunneling creatures that burrow through the ground. They can surprise victims by erupting from beneath, launching acidic projectiles.","bestiary.monster.Worm.tips":`- Worms can attack from underground with little warning
- Watch for ground disturbances that indicate their presence
- They're vulnerable after their attack animation`,"bestiary.monster.Scorpion.name":"Scorpion","bestiary.monster.Scorpion.description":"Venomous arachnids with deadly stingers. Their poisonous attacks can temporarily slow down even the most agile adventurers.","bestiary.monster.Scorpion.tips":`- Scorpions use a poisonous sting attack that reduces movement speed
- Their poison effect is temporary but can be deadly in swarms
- Maintain distance to avoid their close-range attacks
- Watch for the bright green projectile - that's the poisonous sting`,"bestiary.monster.FinalBossPhase1.name":"Final Boss","bestiary.monster.FinalBossPhase1.description":"The first form of the final challenge standing between you and freedom. This formidable entity guards the exit to the surface world.","bestiary.monster.FinalBossPhase1.tips":`- The boss has multiple attack patterns that change throughout the fight
- Look for visual cues that telegraph powerful attacks
- Target the weak points when they become exposed`,"bestiary.monster.FinalBossPhase2.name":"Final Boss","bestiary.monster.FinalBossPhase2.description":"The enhanced form of the final boss, now more dangerous and aggressive than before.","bestiary.monster.FinalBossPhase2.tips":`- The second phase is much more dangerous than the first
- New attack patterns will emerge
- Stay mobile and be ready to dodge powerful area attacks`,"bestiary.monster.FinalBossJorgePhase1.name":"Jorge","bestiary.monster.FinalBossJorgePhase1.description":"Jorge, the first of the gatekeepers, uses chaotic energy and unpredictable movements in battle.","bestiary.monster.FinalBossJorgePhase1.tips":`- Jorge's attacks are unpredictable but have noticeable tells
- Keep your distance when he charges his energy
- Use the environment to your advantage`,"bestiary.monster.FinalBossJorgePhase2.name":"Jorge","bestiary.monster.FinalBossJorgePhase2.description":"Jorge's ultimate form, channeling the full extent of his chaotic power.","bestiary.monster.FinalBossJorgePhase2.tips":`- Watch out for his teleportation abilities
- His energy bursts can hit multiple targets
- Strike when he's recovering from a large attack`,"bestiary.monster.FinalBossBjornPhase1.name":"Björn","bestiary.monster.FinalBossBjornPhase1.description":"Björn, the second gatekeeper, relies on brute strength and powerful ground-based attacks.","bestiary.monster.FinalBossBjornPhase1.tips":`- Björn's attacks create shockwaves that travel along the ground
- Jump to avoid his ground-based attacks
- His charging attack is powerful but leaves him vulnerable afterward`,"bestiary.monster.FinalBossBjornPhase2.name":"Björn","bestiary.monster.FinalBossBjornPhase2.description":"Björn unleashes his full strength, causing devastation with each powerful strike.","bestiary.monster.FinalBossBjornPhase2.tips":`- His attacks now cover a wider area
- Watch for the cracking ground before a major attack
- Use ranged attacks to keep a safe distance`,"bestiary.monster.FinalBossSimonPhase1.name":"Simon","bestiary.monster.FinalBossSimonPhase1.description":"Simon, the final gatekeeper, uses tactical precision and energy projections to keep enemies at bay.","bestiary.monster.FinalBossSimonPhase1.tips":`- Simon attacks with precise energy beams
- His defensive shields can reflect your projectiles
- Look for patterns in his attack sequences`,"bestiary.monster.FinalBossSimonPhase2.name":"Simon","bestiary.monster.FinalBossSimonPhase2.description":"Simon's ultimate form, combining tactical genius with overwhelming power.","bestiary.monster.FinalBossSimonPhase2.tips":`- He now creates multiple energy clones
- His attack patterns become more complex
- Focus on the real Simon, identified by his unique aura`},Ja={"story.intro.1":`Chris, Marc, Til und Max - sind wieder unterwegs, wie so oft, wenn sie eine neue Herausforderung suchen.
 Diesmal geht es hoch hinauf in die Berge. Nach stundenlangem Wandern über schmale Pfade und steile Anstiege haben sie bereits mehr als 2.000 Höhenmeter überwunden. Völlig verschwitzt und voller Vorfreude trennt sie nur noch ein letzter Schritt vom Gipfelkreuz.`,"story.intro.2":"Doch dann: ein riesiger Abgrund. So tief, dass man den Grund nicht mehr sehen kann. Zwischen ihnen und dem Gipfel hängt nur noch eine morsche, schwankende Holz-Hängebrücke - gehalten von zwei dünnen Seilen, die bei jedem Windstoß verdächtig zittern.","story.intro.3":`Max bleibt stehen. 'Das ist zu gefährlich. Wir sollten umkehren', sagt er. Doch Chris, Marc und Til schauen sich nur an - und grinsen und rufen: 'TRUST.'
Ohne zu zögern ist Chris der Erste, der auf die Brücke stapft. Er hüpft sogar ein paar Mal, um zu zeigen, wie stabil sie ist. Und tatsächlich - sie hält. Also folgen die anderen, Schritt für Schritt.`,"story.intro.4":`Doch dann - ZACK!
Ein lauter Knall. Die Seile reißen. Ein Schrei. Und die vier Freunde stürzen in die Tiefe.`,"story.intro.5":"Sie fallen - endlos, durch absolute Dunkelheit. Doch statt auf dem Fels zu zerschellen, landen sie... weich? Verwirrt und benommen kommen sie wieder zu sich. Um sie herum: ein dunkler, fremdartiger Ort. Felswände, Moos, schimmernde Kristalle - ein unterirdisches Labyrinth, ein Dungeon, als wäre er aus einer anderen Welt.","story.intro.6":`Eine uralte Inschrift ist in die Wand vor ihnen eingemeißelt:

 'Nur wer Körper und Geist stählt, jede Ressource nutzt und den Torwächter bezwingt, wird den Weg zurück an die Oberfläche finden.`,"story.intro.7":`Das Abenteuer beginnt. Keine Ausreden mehr. Kein Zurück.
Nur Training, Teamwork - und der Kampf ums Überleben.`,"class.football_til.description":"Til entfesselt seine Fußballkünste für verheerende Angriffe.","class.football_til.weapon":"Fußball - Ein mächtiges, abprallendes Geschoss, das durch Gegner dringt","class.football_til.strengths":"Sehr hoher Schaden, Durchdringt mehrere Gegner","class.football_til.weaknesses":"Langsamere Angriffsgeschwindigkeit, Weniger Kontrolle über Abpraller","class.yugioh_marc.description":"Marc kanalisiert seinen inneren Duellanten für mächtige Kartenkombinationen.","class.yugioh_marc.weapon":"Kartensturm - Entfesselt eine Flut magischer Karten","class.yugioh_marc.strengths":"Mehrere Geschosse, Schnelle Angriffe, Breite Abdeckung","class.yugioh_marc.weaknesses":"Sehr wenig Gesundheit, Keine Rüstung, Zufällige Kartenmuster","class.gym_max.description":"Max entfesselt seinen inneren Gym-Bro für maximale Gains und Schaden.","class.gym_max.weapon":"Hantelschlag - Verheerender Flächenschaden mit Gewichten","class.gym_max.strengths":"Extrem hohe Gesundheit, Maximale Rüstung, Massiver Schaden","class.gym_max.weaknesses":"Sehr langsame Bewegung, Lange Erholungszeit nach Angriffen","class.chef_chris.description":"Chris meistert die Kampfkochkunst mit seinen Knoblauchangriffen.","class.chef_chris.weapon":"Knoblauchsturm - Erzeugt ein intensives Schadensfeld","class.chef_chris.strengths":"Mächtiger Flächenschaden, Verbesserte Verteidigung, Größerer Wirkungsbereich","class.chef_chris.weaknesses":"Muss nah an Gegnern bleiben, Geringerer Sofortschaden","class.til.description":"Ein Nahkampfspezialist mit hohem Basisschaden.","class.til.weapon":"Schwertschlag - Ein nahbereichiger durchdringender Angriff mit hohem Schaden","class.til.strengths":"Hoher Basisschaden, Kann mehrere Gegner treffen","class.til.weaknesses":"Begrenzte Reichweite","class.marc.description":"Ein schneller Assassine, der sich auf Burst-Schaden spezialisiert hat.","class.marc.weapon":"Wurfmesser - Mehrere schnelle Projektil in einem Fächermuster","class.marc.strengths":"Hohe Angriffsgeschwindigkeit, Mehrere Angriffsrichtungen","class.marc.weaknesses":"Geringer Einzelschaden pro Projektil","class.max.description":"Ein Fernkampfspezialist mit verfolgenden Projektilen.","class.max.weapon":"Magischer Bolzen - Sucht sich den nächsten Gegner","class.max.strengths":"Automatische Zielerfassung, Guter Einzelschaden","class.max.weaknesses":"Geringe Rüstungsdurchdringung","class.chris.description":"Ein heiliger Krieger, geschützt durch rotierende Schilde.","class.chris.weapon":"Schildschlag - Rotierender Schild, der nahe Gegner schädigt","class.chris.strengths":"Gute Verteidigungsfähigkeiten, Konstanter AoE-Schaden","class.chris.weaknesses":"Langsamere Angriffsgeschwindigkeit","ui.confirm_selection":"Auswahl bestätigen","ui.select_class.title":"WÄHLE DEINE KLASSE","ui.select_class.subtitle":"Wähle weise, tapferer Überlebender...","bestiary.boss.tips":`- Der Boss hat mehrere Angriffsmuster, die sich im Laufe des Kampfes ändern
- Achte auf visuelle Hinweise, die mächtige Angriffe ankündigen
- Ziele auf die Schwachstellen, wenn sie freigelegt werden
- Die zweite Phase ist viel gefährlicher als die erste`,"ui.bestiary.title":"MONSTER-BESTIARIUM","ui.bestiary.description":"Erfahre mehr über die Kreaturen, die in der Tiefe lauern","ui.bestiary.select_monster":"Wähle ein Monster, um Details anzuzeigen","ui.back":"Zurück","bestiary.category.common":"Gewöhnliche Gegner","bestiary.category.bosses":"Bosse","bestiary.monster.Rat.name":"Ratte","bestiary.monster.Rat.description":"Kleine und schnelle Schädlinge, die in Rudeln unterwegs sind. Obwohl einzeln schwach, können sie unvorsichtige Abenteurer mit ihrer Anzahl überwältigen.","bestiary.monster.Rat.tips":`- Ratten sind schwach, aber schnell und greifen oft in Gruppen an
- Nutze Flächenangriffe, um mehrere Ratten auf einmal zu bekämpfen
- Sie haben sehr wenig HP, ein Treffer reicht meist aus`,"bestiary.monster.Slime.name":"Schleim","bestiary.monster.Slime.description":"Gelatinöse Kreaturen, die langsam ihre Beute verfolgen. Ihre Körper können erheblichen Schaden absorbieren, bevor sie zerbrechen.","bestiary.monster.Slime.tips":`- Schleime sind langsam, haben aber mehr Gesundheit als Ratten
- Halte Abstand und nutze Fernangriffe
- Sie teilen sich gelegentlich in kleinere Schleime auf, wenn sie beschädigt werden`,"bestiary.monster.Orc.name":"Ork","bestiary.monster.Orc.description":"Brutale Krieger mit beträchtlicher Stärke. Sie führen grobe, aber effektive Waffen und haben einen überraschend taktischen Verstand.","bestiary.monster.Orc.tips":`- Orks sind zähe Gegner mit hohem Schaden
- Sie haben einen starken Frontalangriff, vermeide direkte Konfrontation
- Umkreise sie, um ihre langsame Drehgeschwindigkeit auszunutzen`,"bestiary.monster.Wolf.name":"Wolf","bestiary.monster.Wolf.description":"Schnelle Raubtiere mit scharfen Instinkten. Wölfe sind schnell und wendig, kreisen oft um ihre Beute, bevor sie mit tödlicher Präzision zuschlagen.","bestiary.monster.Wolf.tips":`- Wölfe sind sehr schnell und werden dich unerbittlich jagen
- Sie greifen oft in koordinierten Rudeln an
- Nutze Hindernisse, um ihre Sichtlinie zu unterbrechen`,"bestiary.monster.Worm.name":"Wurm","bestiary.monster.Worm.description":"Grabende Kreaturen, die sich durch den Boden bohren. Sie können Opfer überraschen, indem sie von unten ausbrechen und ätzende Projektile abfeuern.","bestiary.monster.Worm.tips":`- Würmer können ohne Vorwarnung aus dem Untergrund angreifen
- Achte auf Bodenstörungen, die ihre Anwesenheit anzeigen
- Sie sind nach ihrer Angriffsanimation verwundbar`,"bestiary.monster.FinalBossPhase1.name":"Endgegner - Phase 1","bestiary.monster.FinalBossPhase1.description":"Die erste Form der letzten Herausforderung, die zwischen dir und der Freiheit steht. Diese gewaltige Entität bewacht den Ausgang zur Oberfläche.","bestiary.monster.FinalBossPhase1.tips":`- Der Boss hat mehrere Angriffsmuster, die sich im Laufe des Kampfes ändern
- Achte auf visuelle Hinweise, die mächtige Angriffe ankündigen
- Ziele auf die Schwachstellen, wenn sie freigelegt werden`,"bestiary.monster.FinalBossPhase2.name":"Endgegner - Phase 2","bestiary.monster.FinalBossPhase2.description":"Die verstärkte Form des Endgegners, jetzt noch gefährlicher und aggressiver als zuvor.","bestiary.monster.FinalBossPhase2.tips":`- Die zweite Phase ist viel gefährlicher als die erste
- Neue Angriffsmuster werden auftauchen
- Bleibe in Bewegung und sei bereit, mächtigen Flächenangriffen auszuweichen`,"bestiary.monster.FinalBossJorgePhase1.name":"Jorge - Phase 1","bestiary.monster.FinalBossJorgePhase1.description":"Jorge, der erste der Torwächter, nutzt chaotische Energie und unberechenbare Bewegungen im Kampf.","bestiary.monster.FinalBossJorgePhase1.tips":`- Jorges Angriffe sind unberechenbar, haben aber erkennbare Anzeichen
- Halte Abstand, wenn er seine Energie auflädt.`,"bestiary.monster.FinalBossJorgePhase2.name":"Jorge - Phase 2","bestiary.monster.FinalBossJorgePhase2.description":"Jorges ultimative Form, die das volle Ausmaß seiner chaotischen Kraft kanalisiert.","bestiary.monster.FinalBossJorgePhase2.tips":`- Achte auf seine Teleportationsfähigkeiten
- Seine Energieausbrüche können mehrere Ziele treffen
- Greife an, wenn er sich von einem großen Angriff erholt`,"bestiary.monster.FinalBossBjornPhase1.name":"Björn - Phase 1","bestiary.monster.FinalBossBjornPhase1.description":"Björn, der zweite Torwächter, verlässt sich auf rohe Kraft und mächtige bodenbasierte Angriffe.","bestiary.monster.FinalBossBjornPhase1.tips":`- Björns Angriffe erzeugen verfolgungs Geschosse, die euch hinterher fliegen
- Bleibe immer in Bewegung um seinen Angriffen auszuweichen.`,"bestiary.monster.FinalBossBjornPhase2.name":"Björn - Phase 2","bestiary.monster.FinalBossBjornPhase2.description":"Björn entfesselt seine volle Stärke und verursacht mit jedem mächtigen Schlag Verwüstung.","bestiary.monster.FinalBossBjornPhase2.tips":`- Seine Angriffe decken jetzt einen größeren Bereich ab
- Achte auf den rissigen Boden vor einem großen Angriff
- Nutze Fernangriffe, um einen sicheren Abstand zu halten`,"bestiary.monster.FinalBossSimonPhase1.name":"Simon - Phase 1","bestiary.monster.FinalBossSimonPhase1.description":"Simon, der dritte Torwächter, nutzt selbst gemischte Medikamente um seine Geschwindigkeit und Stärke zu erhöhen.","bestiary.monster.FinalBossSimonPhase1.tips":`- Simon greift mit seiner mit Toxin gefüllten Spritze an
- Seine Stabile Statur ermöglicht ihm viel Schaden auszuhalten.
- Halte Abstand`,"bestiary.monster.FinalBossSimonPhase2.name":"Simon - Phase 2","bestiary.monster.FinalBossSimonPhase2.description":"Simons ultimative Form, die taktisches Genie mit überwältigender Kraft verbindet.","bestiary.monster.FinalBossSimonPhase2.tips":`- Er erschafft jetzt mehrere Energieklone
- Seine Angriffsmuster werden komplexer
- Konzentriere dich auf den echten Simon, erkennbar an seiner einzigartigen Aura`,"bestiary.monster.Scorpion.name":"Skorpion","bestiary.monster.Scorpion.description":"Giftige Gliederfüßer mit tödlichen Stacheln. Ihre Giftangriffe können selbst die wendigsten Abenteurer vorübergehend verlangsamen.","bestiary.monster.Scorpion.tips":`- Skorpione setzen einen giftigen Stachelangriff ein, der die Bewegungsgeschwindigkeit reduziert
- Der Gifteffekt ist vorübergehend, kann aber in Schwärmen tödlich sein
- Halte Abstand, um ihre Nahkampfangriffe zu vermeiden
- Achte auf das hellgrüne Projektil - das ist der giftige Stich`},xe=class xe{constructor(){$(this,"currentLanguage","en");$(this,"translations",{en:Za,de:Ja});this.detectBrowserLanguage()}static getInstance(){return xe.instance||(xe.instance=new xe),xe.instance}detectBrowserLanguage(){try{const E=navigator.language.split("-")[0];this.translations[E]?(console.log(`Setting language to browser preference: ${E}`),this.currentLanguage=E):console.log(`Browser language ${E} not supported, using default: en`)}catch(E){console.warn("Failed to detect browser language:",E)}}setLanguage(E){this.translations[E]?this.currentLanguage=E:(console.warn(`Language ${E} not found, falling back to English`),this.currentLanguage="en")}getLanguage(){return this.currentLanguage}getText(E){const F=this.translations[this.currentLanguage];if(!F)return console.warn(`No translations found for language ${this.currentLanguage}`),E;const b=F[E];return b||(console.warn(`No translation found for key ${E} in language ${this.currentLanguage}`),E)}};$(xe,"instance");let on=xe;const Pt=on.getInstance(),Qa={Fighter:0,Rogue:1,Mage:2,Paladin:3,Football:4,Gambler:5,Athlete:6,Gourmand:7},ka={Fighter:"Til",Rogue:"Marc",Mage:"Max",Paladin:"Chris",Football:"Dominik",Gambler:"Robin",Athlete:"David",Gourmand:"Benni"},ja={Til:{description:"class.til.description",weapon:"class.til.weapon",strengths:"class.til.strengths",weaknesses:"class.til.weaknesses",altName:"Football Til",altClass:"Football"},Marc:{description:"class.marc.description",weapon:"class.marc.weapon",strengths:"class.marc.strengths",weaknesses:"class.marc.weaknesses",altName:"Yu-gi-oh Marc",altClass:"Gambler"},Max:{description:"class.max.description",weapon:"class.max.weapon",strengths:"class.max.strengths",weaknesses:"class.max.weaknesses",altName:"Gym Rat Max",altClass:"Athlete"},Chris:{description:"class.chris.description",weapon:"class.chris.weapon",strengths:"class.chris.strengths",weaknesses:"class.chris.weaknesses",altName:"Chef Chris",altClass:"Gourmand"}};class qa extends mt.Scene{constructor(){super("ClassSelectScene");$(this,"spacetimeDBClient");$(this,"gameEvents");$(this,"titleText");$(this,"subtitleText");$(this,"classButtonsContainer");$(this,"classInfoPanel");$(this,"fighterButton");$(this,"rogueButton");$(this,"mageButton");$(this,"paladinButton");$(this,"confirmButton");$(this,"errorText");$(this,"questButton");$(this,"footballButton");$(this,"gamblerButton");$(this,"athleteButton");$(this,"gourmandButton");$(this,"bestiaryButton");$(this,"selectedClass",null);$(this,"isLoading",!1);$(this,"titleElement",null);$(this,"subtitleElement",null);$(this,"selectedAltVersion",!1);$(this,"selectedAltVersions",{Til:!1,Marc:!1,Max:!1,Chris:!1});this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents,console.log("ClassSelectScene constructor called")}preload(){this.load.image("fighter_icon","assets/class_fighter_1.png"),this.load.image("rogue_icon","assets/class_rogue_1.png"),this.load.image("mage_icon","assets/class_mage_1.png"),this.load.image("paladin_icon","assets/class_paladin_1.png"),this.load.image("football_icon","assets/class_football_1.png"),this.load.image("gambler_icon","assets/class_gambler_1.png"),this.load.image("athlete_icon","assets/class_athlete_1.png"),this.load.image("gourmand_icon","assets/class_chef_1.png"),this.load.image("attack_sword","assets/attack_sword.png"),this.load.image("attack_knife","assets/attack_knife.png"),this.load.image("attack_wand","assets/attack_wand.png"),this.load.image("attack_shield","assets/attack_shield.png"),this.load.image("attack_football","assets/attack_football.png"),this.load.image("attack_cards","assets/attack_cards.png"),this.load.image("attack_dumbbell","assets/attack_dumbbell.png"),this.load.image("attack_garlic","assets/attack_garlic.png"),this.load.image("quest_icon","assets/white_pixel.png")}create(){const F=this.cameras.main.width,b=this.cameras.main.height;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(F/2,b/2,"title_bg").setDisplaySize(F,b).setDepth(0)}catch(p){console.error("Error loading background:",p)}this.titleText=this.add.text(F/2,b/4,Pt.getText("ui.select_class.title"),{fontFamily:"Arial Black",fontSize:"48px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.subtitleText=this.add.text(F/2,b/4+60,Pt.getText("ui.select_class.subtitle"),{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.createClassButtons(),this.createConfirmButton(),this.createClassInfoPanel(),this.createLanguageSelector(),this.errorText=this.add.text(F/2,b*.85,"",{fontFamily:"Arial",fontSize:"18px",color:"#ff0000",align:"center"}).setOrigin(.5).setVisible(!1),this.registerEventListeners(),this.scale.on("resize",this.handleResize,this),this.positionHTMLElements(),this.events.on("shutdown",this.shutdown,this);const D=document.createElement("button");D.style.position="absolute",D.style.top="50px",D.style.right="50px",D.style.width="180px",D.style.height="50px",D.style.padding="10px",D.style.backgroundColor="#2c3e50",D.style.color="white",D.style.border="2px solid #34495e",D.style.borderRadius="5px",D.style.cursor="pointer",D.style.fontFamily="Arial",D.style.fontSize="18px",D.style.transition="background-color 0.2s, border-color 0.2s",D.style.display="flex",D.style.alignItems="center",D.style.justifyContent="center",D.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",D.textContent="📜 Quests",D.addEventListener("mouseover",()=>{D.style.backgroundColor="#3498db",D.style.borderColor="#2980b9"}),D.addEventListener("mouseout",()=>{D.style.backgroundColor="#2c3e50",D.style.borderColor="#34495e"}),D.addEventListener("click",()=>{this.scene.start("QuestScene")}),document.body.appendChild(D),this.questButton=D;const V=document.createElement("button");V.style.position="absolute",V.style.top="110px",V.style.right="50px",V.style.width="180px",V.style.height="50px",V.style.padding="10px",V.style.backgroundColor="#2c3e50",V.style.color="white",V.style.border="2px solid #34495e",V.style.borderRadius="5px",V.style.cursor="pointer",V.style.fontFamily="Arial",V.style.fontSize="18px",V.style.transition="background-color 0.2s, border-color 0.2s",V.style.display="flex",V.style.alignItems="center",V.style.justifyContent="center",V.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",V.textContent="🐺 Bestiary",V.addEventListener("mouseover",()=>{V.style.backgroundColor="#3498db",V.style.borderColor="#2980b9"}),V.addEventListener("mouseout",()=>{V.style.backgroundColor="#2c3e50",V.style.borderColor="#34495e"}),V.addEventListener("click",()=>{this.scene.start("BestaryScene",{spacetimeDBClient:this.spacetimeDBClient})}),document.body.appendChild(V),this.bestiaryButton=V}createConfirmButton(){this.confirmButton=document.createElement("button"),this.confirmButton.textContent=Pt.getText("ui.confirm_selection"),this.confirmButton.style.position="absolute",this.confirmButton.style.bottom="0",this.confirmButton.style.left="0",this.confirmButton.style.padding="12px 24px",this.confirmButton.style.backgroundColor="#27ae60",this.confirmButton.style.color="white",this.confirmButton.style.border="none",this.confirmButton.style.borderRadius="5px",this.confirmButton.style.fontSize="18px",this.confirmButton.style.cursor="pointer",this.confirmButton.style.transition="background-color 0.2s",this.confirmButton.style.display="none",this.confirmButton.style.width="250px",this.confirmButton.addEventListener("mouseover",()=>{this.confirmButton.style.backgroundColor="#219a52"}),this.confirmButton.addEventListener("mouseout",()=>{this.confirmButton.style.backgroundColor="#27ae60"}),this.confirmButton.addEventListener("click",()=>{this.spawnPlayer()}),this.classButtonsContainer.appendChild(this.confirmButton)}createClassButtons(){const F=document.getElementById("class-select-container");F&&F.remove(),this.classButtonsContainer=document.createElement("div"),this.classButtonsContainer.id="class-select-container",this.classButtonsContainer.style.position="absolute",this.classButtonsContainer.style.display="flex",this.classButtonsContainer.style.flexDirection="column",this.classButtonsContainer.style.alignItems="center",this.classButtonsContainer.style.gap="20px",this.classButtonsContainer.style.width="250px",this.classButtonsContainer.style.transform="translate(-50%, -50%)",this.classButtonsContainer.style.height="400px",document.body.appendChild(this.classButtonsContainer);const b=(D,V,p,S)=>{const t=document.createElement("button");t.className="class-select-button",t.setAttribute("data-class-type",V.tag),t.style.position="relative",t.style.width="250px",t.style.height="70px",t.style.padding="10px",t.style.backgroundColor="#2c3e50",t.style.color="white",t.style.border="2px solid #34495e",t.style.borderRadius="5px",t.style.cursor="pointer",t.style.fontFamily="Arial",t.style.fontSize="18px",t.style.textAlign="left",t.style.transition="background-color 0.2s, border-color 0.2s",t.style.display="flex",t.style.alignItems="center";try{if(this.textures.exists(p)){const v=document.createElement("img");v.id=`${D.toLowerCase()}-icon`,v.src="assets/"+S,v.style.width="50px",v.style.height="50px",v.style.marginRight="10px",t.appendChild(v)}}catch(v){console.error(`Error adding icon for ${D}:`,v)}const l=document.createElement("span");return l.id=`${D.toLowerCase()}-text`,l.textContent=D,t.appendChild(l),t.addEventListener("click",()=>{this.selectClass(V,t)}),t};this.fighterButton=b("Til",Xe.Fighter,"fighter_icon","class_fighter_1.png"),this.rogueButton=b("Marc",Xe.Rogue,"rogue_icon","class_rogue_1.png"),this.mageButton=b("Max",Xe.Mage,"mage_icon","class_mage_1.png"),this.paladinButton=b("Chris",Xe.Paladin,"paladin_icon","class_paladin_1.png"),this.classButtonsContainer.appendChild(this.fighterButton),this.classButtonsContainer.appendChild(this.rogueButton),this.classButtonsContainer.appendChild(this.mageButton),this.classButtonsContainer.appendChild(this.paladinButton)}createClassInfoPanel(){const F=document.getElementById("class-info-panel");F&&F.remove(),this.classInfoPanel=document.createElement("div"),this.classInfoPanel.id="class-info-panel",this.classInfoPanel.style.position="absolute",this.classInfoPanel.style.width="300px",this.classInfoPanel.style.padding="20px",this.classInfoPanel.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.classInfoPanel.style.color="white",this.classInfoPanel.style.borderRadius="8px",this.classInfoPanel.style.border="2px solid #34495e",this.classInfoPanel.style.fontFamily="Arial",this.classInfoPanel.style.fontSize="16px",this.classInfoPanel.style.display="none",this.classInfoPanel.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",document.body.appendChild(this.classInfoPanel)}getAltVersionKey(F){return{Til:"football_til",Marc:"yugioh_marc",Max:"gym_max",Chris:"chef_chris"}[F]||F.toLowerCase()}getOriginalCharacterName(F){if(["Til","Marc","Max","Chris"].includes(F))return F;const b={Football:"Til",Gambler:"Marc",Athlete:"Max",Gourmand:"Chris"},D=typeof F=="string"?F:F.tag;return b[D]||D}updateClassInfoPanel(F,b,D){if(!D)return;const V=this.getOriginalCharacterName(F),p=this.selectedAltVersions[V]||!1,S=p?D.altName:V,t=p?D.altClass:b.tag,l=`class.${V.toLowerCase()}`,v=`class.${this.getAltVersionKey(V)}`,a=p?v:l,r=this.getWeaponImageFile(t),n=document.getElementById(`${V.toLowerCase()}-icon`),e=document.getElementById(`${V.toLowerCase()}-text`);if(n){const i=p?this.getAltClassIcon(D.altClass):this.getClassIcon(b.tag);n.src=`assets/${i}`}e&&(e.textContent=S);const s=D.altClass?`
            <button id="version-toggle" style="
                position: absolute;
                right: 20px;
                background-color: #3498db;
                border: none;
                border-radius: 15px;
                padding: 6px 12px;
                color: white;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 14px;
                transition: background-color 0.2s;
            ">
            <span style="font-size: 18px;">🔒</span>
            <span>${p?V:D.altName}</span>
            </button>
        `:"";this.classInfoPanel.innerHTML=`
            <div style="position: relative; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;">
                <h2 style="margin: 0; font-size: 24px; color: #3498db;">
                    ${S}
                </h2>
                ${s}
            </div>
            <p style="margin: 0 0 15px 0;">${Pt.getText(`${a}.description`)}</p>
            <h3 style="margin: 0 0 10px 0; font-size: 18px; color:rgb(183, 204, 46);">Weapon</h3>
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <img src="assets/${r}" style="height: 45px; width: 45px; margin-right: 10px;" 
                    alt="${Pt.getText(`${a}.weapon`)} icon" />
                <p style="margin: 0 0 0 10px;">
                    ${Pt.getText(`${a}.weapon`)}
                </p>
            </div>
            <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #2ecc71;">Strengths 💪</h3>
            <p style="margin: 0 0 15px 0;">
                ${Pt.getText(`${a}.strengths`)}
            </p>
            <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #e74c3c;">Weaknesses 👎</h3>
            <p style="margin: 0;">
                ${Pt.getText(`${a}.weaknesses`)}
            </p>
        `;const o=document.getElementById("version-toggle");o&&o.addEventListener("click",()=>{this.selectedAltVersions[V]=!this.selectedAltVersions[V];const i=this.selectedAltVersions[V];if(n){const y=i?this.getAltClassIcon(D.altClass):this.getClassIcon(b.tag);n.src=`assets/${y}`}e&&(e.textContent=i?D.altName:V);const h=i?D.altName:V,u=i?D.altClass:b.tag,d=i?v:l,f=this.getWeaponImageFile(u),c=D.altClass?`
                    <button id="version-toggle" style="
                        position: absolute;
                        right: 20px;
                        background-color: #3498db;
                        border: none;
                        border-radius: 15px;
                        padding: 6px 12px;
                        color: white;
                        cursor: pointer;
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        font-size: 14px;
                        transition: background-color 0.2s;
                    ">
                    <span style="font-size: 18px;">🔒</span>
                    <span>Switch to ${i?V:D.altName}</span>
                    </button>
                `:"";this.classInfoPanel.innerHTML=`
                    <div style="position: relative; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;">
                        <h2 style="margin: 0; font-size: 24px; color: #3498db;">
                            ${h}
                        </h2>
                        ${c}
                    </div>
                    <p style="margin: 0 0 15px 0;">${Pt.getText(`${d}.description`)}</p>
                    <h3 style="margin: 0 0 10px 0; font-size: 18px; color:rgb(183, 204, 46);">Weapon</h3>
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <img src="assets/${f}" style="height: 45px; width: 45px; margin-right: 10px;" 
                            alt="${Pt.getText(`${d}.weapon`)} icon" />
                        <p style="margin: 0 0 0 10px;">
                            ${Pt.getText(`${d}.weapon`)}
                        </p>
                    </div>
                    <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #2ecc71;">Strengths 💪</h3>
                    <p style="margin: 0 0 15px 0;">
                        ${Pt.getText(`${d}.strengths`)}
                    </p>
                    <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #e74c3c;">Weaknesses 👎</h3>
                    <p style="margin: 0;">
                        ${Pt.getText(`${d}.weaknesses`)}
                    </p>
                `;const g=this.getButtonForClass(b);if(g)if(i&&D.altClass){const y=Xe[D.altClass];this.selectClass(y,g)}else this.selectClass(b,g);const m=document.getElementById("version-toggle");m&&m.addEventListener("click",y=>{y.preventDefault(),y.stopPropagation(),o.click()})})}getWeaponImageFile(F){return{Fighter:"attack_sword.png",Rogue:"attack_knife.png",Mage:"attack_wand.png",Paladin:"attack_shield.png",Football:"attack_football.png",Gambler:"attack_cards.png",Athlete:"attack_dumbbell.png",Gourmand:"attack_garlic.png"}[F]||"attack_sword.png"}positionHTMLElements(){this.classButtonsContainer.style.left="50%",this.classButtonsContainer.style.top="60%",this.classInfoPanel&&(this.classInfoPanel.style.left="50%",this.classInfoPanel.style.top="60%",this.classInfoPanel.style.transform=`translate(calc(${250/2+30}px), -55%)`,this.classInfoPanel.style.right="auto")}handleResize(){this.positionHTMLElements()}registerEventListeners(){this.gameEvents.on(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.on(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.on(it.NAME_SET,this.handleNameSet,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.on(it.LOADING_ERROR,this.handleLoadingError,this)}handlePlayerCreated(F,b=!0){console.log("Player created event received in ClassSelectScene"),b&&console.log("Our player was created. Will transition to GameScene.")}handlePlayerDied(F){console.log("Player died event received in ClassSelectScene"),this.subtitleText.setText("Your previous character died. Choose a new class...")}handleNameSet(F){console.log("Name set event received in ClassSelectScene",F.name)}handleConnectionLost(){console.log("Connection lost event received in ClassSelectScene"),this.showError("Connection to server lost. Please refresh the page.")}handleLoadingError(F){console.log("Loading error event received in ClassSelectScene",F),this.showError(F)}selectClass(F,b){[this.fighterButton,this.rogueButton,this.mageButton,this.paladinButton].forEach(a=>{a&&(a.style.backgroundColor="#2c3e50",a.style.borderColor="#34495e")}),b.style.backgroundColor="#3498db",b.style.borderColor="#2980b9",this.selectedClass=F,this.confirmButton.style.display="block",this.errorText.setVisible(!1);const V=ka[F.tag],p=ja[V];this.classInfoPanel.style.display="block";const S=this.getOriginalCharacterName(V),t=this.selectedAltVersions[S]||!1,l=document.getElementById(`${S.toLowerCase()}-icon`),v=document.getElementById(`${S.toLowerCase()}-text`);if(l){const a=t?this.getAltClassIcon(p.altClass):this.getClassIcon(F.tag);l.src=`assets/${a}`}v&&(v.textContent=t?p.altName:S),this.updateClassInfoPanel(V,F,p),this.positionHTMLElements()}getButtonForClass(F){return{Fighter:this.fighterButton,Rogue:this.rogueButton,Mage:this.mageButton,Paladin:this.paladinButton}[F.tag]||null}spawnPlayer(){var F;if(!this.selectedClass){this.showError("Please select a class first");return}try{if((F=this.spacetimeDBClient.sdkConnection)!=null&&F.reducers){const b=Qa[this.selectedClass.tag];console.log(`Spawning player with class: ${this.selectedClass.tag} (ID: ${b})`),this.cleanupHTMLElements(),console.log("Spawning player with class: "+this.selectedClass.tag+" (ID: "+b+")"),this.scene.start("LoadingScene",{message:"Creating your character...",nextScene:"GameScene",timeoutDuration:1e4}),this.spacetimeDBClient.sdkConnection.reducers.spawnPlayer(b)}else this.showError("Cannot spawn player: SpacetimeDB reducers not available")}catch(b){console.error("Error spawning player:",b),this.showError("An error occurred while spawning your player")}}cleanupHTMLElements(){console.log("Cleaning up ClassSelectScene HTML elements");try{this.classButtonsContainer&&this.classButtonsContainer.parentNode&&this.classButtonsContainer.remove(),this.classInfoPanel&&this.classInfoPanel.parentNode&&this.classInfoPanel.remove(),this.questButton&&this.questButton.parentNode&&this.questButton.remove(),this.bestiaryButton&&this.bestiaryButton.parentNode&&this.bestiaryButton.remove();const F=document.getElementById("class-select-container");F&&F.parentNode&&F.remove();const b=document.getElementById("class-info-panel");b&&b.parentNode&&b.remove(),document.querySelectorAll(".class-select-button").forEach(V=>{V&&V.parentNode&&V.remove()}),document.querySelectorAll("button").forEach(V=>{var p,S,t,l,v,a;((p=V.textContent)!=null&&p.includes("Fighter")||(S=V.textContent)!=null&&S.includes("Rogue")||(t=V.textContent)!=null&&t.includes("Mage")||(l=V.textContent)!=null&&l.includes("Paladin")||(v=V.textContent)!=null&&v.includes("Confirm Selection")||(a=V.textContent)!=null&&a.includes("Quests"))&&V&&V.parentNode&&(console.log("Removing button:",V.textContent),V.remove())}),document.querySelectorAll("div").forEach(V=>{(V.id==="class-select-container"||V.id==="class-info-panel"||V.children.length>0&&Array.from(V.children).some(p=>p.className==="class-select-button"))&&V&&V.parentNode&&(console.log("Removing div:",V.id||"unnamed"),V.remove())});const D=document.querySelector("select");D&&D.parentNode&&D.remove()}catch(F){console.error("Error in cleanupHTMLElements:",F)}}showError(F){this.errorText.setText(F),this.errorText.setVisible(!0)}createLanguageSelector(){const F=document.createElement("select");F.style.position="absolute",F.style.bottom="20px",F.style.right="20px",F.style.padding="8px",F.style.fontFamily="Arial",F.style.fontSize="16px",F.style.backgroundColor="#2c3e50",F.style.color="white",F.style.border="2px solid #34495e",F.style.borderRadius="5px",F.style.cursor="pointer",[{code:"en",name:"English"},{code:"de",name:"Deutsch"}].forEach(D=>{const V=document.createElement("option");V.value=D.code,V.textContent=D.name,F.appendChild(V)}),F.value=Pt.getLanguage(),F.addEventListener("change",D=>{const V=D.target;if(Pt.setLanguage(V.value),this.titleText.setText(Pt.getText("ui.select_class.title")),this.subtitleText.setText(Pt.getText("ui.select_class.subtitle")),this.selectedClass){const p=this.getButtonForClass(this.selectedClass);p&&this.selectClass(this.selectedClass,p)}this.confirmButton&&(this.confirmButton.textContent=Pt.getText("ui.confirm_selection"))}),document.body.appendChild(F)}getClassIcon(F){return{Fighter:"class_fighter_1.png",Rogue:"class_rogue_1.png",Mage:"class_mage_1.png",Paladin:"class_paladin_1.png",Football:"class_football_1.png",Gambler:"class_gambler_1.png",Athlete:"class_athlete_1.png",Gourmand:"class_chef_1.png"}[F]||"class_fighter_1.png"}getClassIconKey(F){return{Fighter:"fighter_icon",Rogue:"rogue_icon",Mage:"mage_icon",Paladin:"paladin_icon",Football:"football_icon",Gambler:"gambler_icon",Athlete:"athlete_icon",Gourmand:"gourmand_icon"}[F]||"fighter_icon"}getAltClassIcon(F){return{Football:"class_football_1.png",Gambler:"class_gambler_1.png",Athlete:"class_athlete_1.png",Gourmand:"class_chef_1.png"}[F]||"class_fighter_1.png"}shutdown(){console.log("ClassSelectScene shutdown called"),this.gameEvents.off(it.PLAYER_CREATED,this.handlePlayerCreated,this),this.gameEvents.off(it.PLAYER_DIED,this.handlePlayerDied,this),this.gameEvents.off(it.NAME_SET,this.handleNameSet,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.gameEvents.off(it.LOADING_ERROR,this.handleLoadingError,this),this.cleanupHTMLElements(),this.scale.off("resize",this.handleResize)}}class _a extends mt.Scene{constructor(){super("LoadingScene");$(this,"loadingText");$(this,"spinner");$(this,"dots");$(this,"dotCount",0);$(this,"dotTimer");$(this,"nextScene","");$(this,"message","");$(this,"timeoutDuration",1e4);$(this,"timeoutTimer",null);$(this,"gameEvents");$(this,"waitingFor","");this.gameEvents=window.gameEvents}init(F){this.message=F.message||"Loading...",this.nextScene=F.nextScene||"",this.timeoutDuration=F.timeoutDuration||1e4,this.waitingFor=F.waitingFor||"",console.log(`LoadingScene initialized with message: ${this.message}, next scene: ${this.nextScene}, waiting for: ${this.waitingFor}`)}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){this.cleanupLingeringUIElements();const{width:F,height:b}=this.scale;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(F/2,b/2,"title_bg").setDisplaySize(F,b).setDepth(0)}catch(D){console.error("Error loading background:",D)}this.loadingText=this.add.text(F/2,b/2-50,this.message,{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5),this.dots=this.add.text(F/2,b/2-20,"",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff"}).setOrigin(.5),this.createSpinner(F/2,b/2+50),this.dotTimer=this.time.addEvent({delay:500,callback:this.updateDots,callbackScope:this,loop:!0}),this.registerEventListeners(),this.nextScene&&(this.timeoutTimer=this.time.delayedCall(this.timeoutDuration,()=>{console.log(`Loading timed out after ${this.timeoutDuration}ms, proceeding to ${this.nextScene}`),this.proceedToNextScene()})),this.scale.on("resize",this.handleResize,this)}registerEventListeners(){this.gameEvents.on(it.LOADING_COMPLETE,this.completeLoading,this),this.gameEvents.on(it.CONNECTION_LOST,this.handleConnectionLost,this),this.waitingFor==="name"?(console.log("done waiting for name"),this.gameEvents.on(it.NAME_SET,this.completeLoading,this)):this.waitingFor==="player"&&(console.log("done waiting for player"),this.gameEvents.on(it.PLAYER_CREATED,this.completeLoading,this)),this.events.on("shutdown",this.shutdown,this)}createSpinner(F,b){this.spinner=this.add.container(F,b);const D=30,V=8;for(let p=0;p<V;p++){const S=p/V*Math.PI*2,t=Math.cos(S)*D,l=Math.sin(S)*D,v=8,a=.3+.7*p/V,r=this.add.circle(t,l,v,16777215,a);this.spinner.add(r)}this.tweens.add({targets:this.spinner,angle:360,duration:2e3,repeat:-1,ease:"Linear"})}updateDots(){this.dotCount=(this.dotCount+1)%4,this.dots.setText(".".repeat(this.dotCount))}handleResize(){const{width:F,height:b}=this.scale;this.loadingText&&this.loadingText.setPosition(F/2,b/2-50),this.dots&&this.dots.setPosition(F/2,b/2-20),this.spinner&&this.spinner.setPosition(F/2,b/2+50)}handleConnectionLost(){var F;console.log("Connection lost during loading"),this.loadingText.setText("Connection lost. Please refresh the page."),(F=this.timeoutTimer)==null||F.remove(),this.timeoutTimer=null}completeLoading(){this.timeoutTimer&&(this.timeoutTimer.remove(),this.timeoutTimer=null),this.nextScene&&(this.proceedToNextScene(),this.nextScene="")}proceedToNextScene(){this.nextScene?(console.log(`Loading complete, proceeding to ${this.nextScene}`),this.scene.start(this.nextScene)):console.warn("No next scene specified, staying in LoadingScene")}shutdown(){this.dotTimer&&this.dotTimer.remove(),this.timeoutTimer&&(this.timeoutTimer.remove(),this.timeoutTimer=null),this.events.off("shutdown",this.shutdown,this),this.gameEvents.off(it.LOADING_COMPLETE,this.completeLoading,this),this.gameEvents.off(it.CONNECTION_LOST,this.handleConnectionLost,this),this.waitingFor==="name"?this.gameEvents.off(it.NAME_SET,this.completeLoading,this):this.waitingFor==="player"&&this.gameEvents.off(it.PLAYER_CREATED,this.completeLoading,this),this.scale.off("resize",this.handleResize),this.nextScene=""}cleanupLingeringUIElements(){console.log("LoadingScene: Cleaning up any lingering UI elements from other scenes");try{const F=document.getElementById("login-name-input");F&&F.parentNode&&(console.log("Removing lingering login input"),F.remove()),document.querySelectorAll(".login-button").forEach(D=>{D&&D.parentNode&&(console.log("Removing lingering login button"),D.remove())});const b=document.getElementById("class-select-container");b&&b.parentNode&&(console.log("Removing lingering class container"),b.remove()),document.querySelectorAll(".class-select-button").forEach(D=>{D&&D.parentNode&&(console.log("Removing lingering class button"),D.remove())}),document.querySelectorAll('input[type="text"]').forEach(D=>{D.id==="login-name-input"&&D.parentNode&&(console.log("Removing generic text input"),D.remove())}),document.querySelectorAll("button").forEach(D=>{const V=D.textContent||"";(V.includes("Set Name")||V.includes("Fighter")||V.includes("Rogue")||V.includes("Mage")||V.includes("Paladin")||V.includes("Confirm"))&&D.parentNode&&(console.log("Removing generic button:",V),D.remove())})}catch(F){console.error("Error in cleanupLingeringUIElements:",F)}}}class to extends mt.Scene{constructor(){super("QuestScene");$(this,"spacetimeDBClient");$(this,"gameEvents");$(this,"questContainer");$(this,"backButton");this.spacetimeDBClient=window.spacetimeDBClient,this.gameEvents=window.gameEvents}preload(){this.load.image("title_bg","assets/title_bg.png")}create(){const{width:F,height:b}=this.scale;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(F/2,b/2,"title_bg").setDisplaySize(F,b).setDepth(0)}catch(D){console.error("Error loading background:",D)}this.add.text(F/2,b/6,"QUESTS",{fontFamily:"Arial Black",fontSize:"48px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.createQuestList(),this.createBackButton(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createQuestList(){const F=document.getElementById("quest-container");F&&F.remove(),this.questContainer=document.createElement("div"),this.questContainer.id="quest-container",this.questContainer.style.position="absolute",this.questContainer.style.left="50%",this.questContainer.style.top="50%",this.questContainer.style.transform="translate(-50%, -50%)",this.questContainer.style.width="600px",this.questContainer.style.maxHeight="500px",this.questContainer.style.overflowY="auto",this.questContainer.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.questContainer.style.borderRadius="8px",this.questContainer.style.border="2px solid #34495e",this.questContainer.style.padding="20px",[{title:"Survive 5 Minutes",description:"Stay alive for 5 minutes",reward:"Unlock new upgrade options"},{title:"Defeat 100 Monsters",description:"Slay 100 monsters in a single run",reward:"Increase max HP by 10%"},{title:"Level Up 5 Times",description:"Reach level 5 in a single run",reward:"New attack pattern"},{title:"Collect 50 Gems",description:"Gather 50 gems in one run",reward:"Bonus starting gold"}].forEach(D=>{const V=document.createElement("div");V.style.backgroundColor="rgba(52, 73, 94, 0.7)",V.style.margin="10px 0",V.style.padding="15px",V.style.borderRadius="5px",V.style.border="1px solid #2980b9",V.style.color="white",V.style.fontFamily="Arial",V.innerHTML=`
                <h3 style="margin: 0 0 10px 0; font-size: 20px; color: #3498db;">${D.title}</h3>
                <p style="margin: 0 0 10px 0; color: #ecf0f1;">${D.description}</p>
                <p style="margin: 0; color: #2ecc71;">Reward: ${D.reward}</p>
            `,this.questContainer.appendChild(V)}),document.body.appendChild(this.questContainer)}createBackButton(){this.backButton=document.createElement("button"),this.backButton.textContent="← Back",this.backButton.style.position="absolute",this.backButton.style.top="20px",this.backButton.style.left="20px",this.backButton.style.padding="10px 20px",this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.fontSize="18px",this.backButton.style.cursor="pointer",this.backButton.style.fontFamily="Arial",this.backButton.style.transition="background-color 0.2s, border-color 0.2s",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db",this.backButton.style.borderColor="#2980b9"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.borderColor="#34495e"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton)}handleResize(){if(this.questContainer){const{width:F,height:b}=this.scale;this.questContainer.style.maxHeight=`${Math.min(500,b*.7)}px`}}cleanupHTMLElements(){this.questContainer&&this.questContainer.parentNode&&this.questContainer.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove()}shutdown(){this.events.off("shutdown",this.shutdown,this),this.scale.off("resize",this.handleResize),this.cleanupHTMLElements()}}const eo="vibesurvivors-with-friends",io="ws://localhost:3000",so=io;class no{constructor(E,F,b){$(this,"sdkConnection",null);$(this,"identity",null);$(this,"onSubscriptionApplied",null);$(this,"onConnect",null);$(this,"onDisconnect",null);$(this,"gameEvents");console.log("Initializing SpacetimeDBClient and preparing connection..."),this.gameEvents=window.gameEvents,this.onSubscriptionApplied=E||null,this.onConnect=F||null,this.onDisconnect=b||null,Zn.builder().withUri(so).withModuleName(eo).withToken(localStorage.getItem("auth_token")||"").onConnect(this.handleConnect.bind(this)).onDisconnect(this.handleDisconnect.bind(this)).onConnectError(this.handleConnectError.bind(this)).build(),console.log("Connection attempt initiated.")}disconnect(){console.log("Disconnecting from SpacetimeDB..."),this.sdkConnection?this.sdkConnection.disconnect():console.warn("Attempted to disconnect before connection was established."),this.sdkConnection=null,this.identity=null}handleConnect(E,F,b){var D;console.log("Successfully connected to SpacetimeDB."),this.sdkConnection=E,this.identity=F,console.log("Local Identity:",(D=this.identity)==null?void 0:D.toHexString()),localStorage.setItem("auth_token",b),console.log("Subscribing to relevant tables..."),this.sdkConnection.subscriptionBuilder().onApplied(this.handleSubscriptionApplied.bind(this)).onError(this.handleSubscriptionError.bind(this)).subscribe(["SELECT * FROM account","SELECT * FROM world","SELECT * FROM player","SELECT * FROM dead_players","SELECT * FROM entity","SELECT * FROM monsters","SELECT * FROM active_attacks","SELECT * FROM active_boss_attacks","SELECT * FROM attack_data","SELECT * FROM gems","SELECT * FROM upgrade_options","SELECT * FROM chosen_upgrades","SELECT * FROM monster_spawners","SELECT * FROM game_state","SELECT * FROM boss_spawn_timer","SELECT * FROM boss_attack_timer","SELECT * FROM player_poison_effect"]),this.registerTableCallbacks(E),this.onConnect&&this.onConnect(E,F,b)}registerTableCallbacks(E){E.db.player&&(E.db.player.onInsert((F,b)=>{this.gameEvents.emit(it.PLAYER_CREATED,F,b)}),E.db.player.onUpdate((F,b,D)=>{this.gameEvents.emit(it.PLAYER_UPDATED,F,b,D)}),E.db.player.onDelete((F,b)=>{this.gameEvents.emit(it.PLAYER_DELETED,F,b)})),E.db.entity&&(E.db.entity.onInsert((F,b)=>{this.gameEvents.emit(it.ENTITY_CREATED,F,b)}),E.db.entity.onUpdate((F,b,D)=>{this.gameEvents.emit(it.ENTITY_UPDATED,F,b,D)}),E.db.entity.onDelete((F,b)=>{this.gameEvents.emit(it.ENTITY_DELETED,F,b)})),E.db.monsters&&(E.db.monsters.onInsert((F,b)=>{this.gameEvents.emit(it.MONSTER_CREATED,F,b)}),E.db.monsters.onUpdate((F,b,D)=>{this.gameEvents.emit(it.MONSTER_UPDATED,F,b,D)}),E.db.monsters.onDelete((F,b)=>{this.gameEvents.emit(it.MONSTER_DELETED,F,b)})),E.db.gameState&&E.db.gameState.onUpdate((F,b,D)=>{this.gameEvents.emit(it.GAME_STATE_UPDATED,F,b,D)}),E.db.bossSpawnTimer&&(E.db.bossSpawnTimer.onInsert((F,b)=>{this.gameEvents.emit(it.BOSS_SPAWN_TIMER_CREATED,F,b)}),E.db.bossSpawnTimer.onDelete((F,b)=>{this.gameEvents.emit(it.BOSS_SPAWN_TIMER_DELETED,F,b)})),E.db.activeAttacks&&(E.db.activeAttacks.onInsert((F,b)=>{this.gameEvents.emit(it.ATTACK_CREATED,F,b)}),E.db.activeAttacks.onUpdate((F,b,D)=>{this.gameEvents.emit(it.ATTACK_UPDATED,F,b,D)}),E.db.activeAttacks.onDelete((F,b)=>{this.gameEvents.emit(it.ATTACK_DELETED,F,b)})),E.db.activeBossAttacks&&(E.db.activeBossAttacks.onInsert((F,b)=>{this.gameEvents.emit(it.BOSS_ATTACK_CREATED,F,b)}),E.db.activeBossAttacks.onUpdate((F,b,D)=>{this.gameEvents.emit(it.BOSS_ATTACK_UPDATED,F,b,D)}),E.db.activeBossAttacks.onDelete((F,b)=>{this.gameEvents.emit(it.BOSS_ATTACK_DELETED,F,b)}));try{E.db.gems&&(E.db.gems.onInsert((F,b)=>{this.gameEvents.emit(it.GEM_CREATED,F,b)}),E.db.gems.onUpdate((F,b,D)=>{this.gameEvents.emit(it.GEM_UPDATED,F,b,D)}),E.db.gems.onDelete((F,b)=>{this.gameEvents.emit(it.GEM_DELETED,F,b)}),console.log("Registered gem event handlers successfully"))}catch(F){console.warn("Could not register gem event handlers - the gems table might not be in current bindings yet:",F)}E.db.world&&E.db.world.onUpdate((F,b,D)=>{D.tickCount%50==0&&console.log("Game tick:",D.tickCount)}),E.db.attackData&&(E.db.attackData.onInsert((F,b)=>{this.gameEvents.emit(it.ATTACK_DATA_CREATED,F,b)}),E.db.attackData.onUpdate((F,b,D)=>{this.gameEvents.emit(it.ATTACK_DATA_UPDATED,F,b,D)})),E.db.activeAttackCleanup&&(E.db.activeAttackCleanup.onInsert((F,b)=>{this.gameEvents.emit(it.ACTIVE_ATTACK_CLEANUP_CREATED,F,b)}),E.db.activeAttackCleanup.onDelete((F,b)=>{this.gameEvents.emit(it.ACTIVE_ATTACK_CLEANUP_DELETED,F,b)})),E.db.activeBossAttackCleanup&&(E.db.activeBossAttackCleanup.onInsert((F,b)=>{this.gameEvents.emit(it.ACTIVE_BOSS_ATTACK_CLEANUP_CREATED,F,b)}),E.db.activeBossAttackCleanup.onDelete((F,b)=>{this.gameEvents.emit(it.ACTIVE_BOSS_ATTACK_CLEANUP_DELETED,F,b)}))}handleSubscriptionApplied(E){console.log("SpacetimeDB subscription applied callback triggered."),this.onSubscriptionApplied&&this.onSubscriptionApplied(E)}handleSubscriptionError(E){console.error("SpacetimeDB Subscription Error Context:",E);const F=E.error;F?console.error("SpacetimeDB Subscription Error:",F):console.error("SpacetimeDB Subscription Error: (Could not extract specific error from context)")}handleDisconnect(E,F){console.warn("Disconnected from SpacetimeDB."),F&&console.error("Disconnect Error:",F),this.sdkConnection=null,this.identity=null,this.onDisconnect&&this.onDisconnect(E,F)}handleConnectError(E,F){console.error("SpacetimeDB Connection Error:",F),this.sdkConnection=null,this.identity=null,this.onDisconnect&&this.onDisconnect(E,F)}get isConnected(){return this.sdkConnection!==null&&this.identity!==null}}class ro extends mt.Scene{constructor(){super({key:"PrologScene"});$(this,"storyIndex",0);$(this,"isTyping",!1);$(this,"typingTimer");$(this,"onComplete");$(this,"background");$(this,"container");$(this,"textBox");$(this,"frameGraphics");$(this,"storyText");$(this,"nextButton");$(this,"languageSelector");$(this,"storyKeys",["story.intro.1","story.intro.2","story.intro.3","story.intro.4","story.intro.5","story.intro.6","story.intro.7"])}init(F){this.onComplete=F.onComplete}async preload(){this.load.image("scene_1","assets/scene_1.png"),this.load.image("scene_2","assets/scene_2.png"),this.load.image("scene_3","assets/scene_3.png")}createLanguageSelector(){const F=document.createElement("select");F.style.position="absolute",F.style.bottom="20px",F.style.right="20px",F.style.padding="8px",F.style.fontFamily="Arial",F.style.fontSize="16px",F.style.backgroundColor="#2c3e50",F.style.color="white",F.style.border="2px solid #34495e",F.style.borderRadius="5px",F.style.cursor="pointer",F.style.zIndex="1000",[{code:"en",name:"English"},{code:"de",name:"Deutsch"}].forEach(D=>{const V=document.createElement("option");V.value=D.code,V.textContent=D.name,F.appendChild(V)}),F.value=Pt.getLanguage(),F.addEventListener("change",D=>{const V=D.target;Pt.setLanguage(V.value),this.displayNextText()}),document.body.appendChild(F),this.languageSelector=F}cleanupHTMLElements(){console.log("PrologScene: Cleaning up HTML elements");try{const F=document.getElementById("class-select-container");F&&F.parentNode&&(console.log("Removing class select container"),F.remove()),document.querySelectorAll(".class-select-button").forEach(V=>{V&&V.parentNode&&(console.log("Removing class select button"),V.remove())}),document.querySelectorAll("button").forEach(V=>{const p=V.textContent;p&&(p.includes("Confirm Selection")||p.includes("Set Name")||p.includes("Quests"))&&V&&V.parentNode&&(console.log("Removing button:",p),V.remove())});const b=document.getElementById("login-name-input");b&&b.parentNode&&(console.log("Removing login input"),b.remove());const D=document.getElementById("class-info-panel");D&&D.parentNode&&(console.log("Removing info panel"),D.remove()),document.querySelectorAll("button").forEach(V=>{var p;(p=V.textContent)!=null&&p.includes("📜 Quests")&&V&&V.parentNode&&(console.log("Removing quest button"),V.remove())}),this.languageSelector&&this.languageSelector.parentNode&&this.languageSelector.remove(),console.log("PrologScene HTML elements cleaned up successfully")}catch(F){console.error("Error in PrologScene cleanupHTMLElements:",F)}}create(){var S,t;this.cleanupHTMLElements(),this.cameras.main.setBackgroundColor("#000000");const{width:F,height:b}=this.scale;this.background=this.add.image(F*.5,b*.5,"scene_1").setOrigin(.5).setAlpha(0);const D=F/this.background.width,V=b/this.background.height,p=Math.min(D,V);this.background.setScale(p),this.storyText=this.add.text(F*.1,b*.65,"",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",backgroundColor:"#000000CC",padding:{x:40,y:30},wordWrap:{width:F*.8},lineSpacing:20}),this.nextButton=this.add.text(F-80,b-80,"▼",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",backgroundColor:"#000000CC",padding:{x:40,y:30}}).setOrigin(1,1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>this.handleNext()).on("pointerover",()=>this.nextButton.setAlpha(.7)).on("pointerout",()=>this.nextButton.setAlpha(1)),(S=this.input.keyboard)==null||S.on("keydown-ENTER",()=>this.handleNext()),(t=this.input.keyboard)==null||t.on("keydown-SPACE",()=>this.handleNext()),this.createLanguageSelector(),this.displayNextText(),this.updateBackground()}updateBackground(){let F="scene_1";this.storyIndex>=3&&this.storyIndex<=4?F="scene_2":this.storyIndex>=5&&(F="scene_3"),this.tweens.add({targets:this.background,alpha:0,duration:300,onComplete:()=>{if(this.background.setTexture(F),F==="scene_2"){this.background.setRotation(-Math.PI/2);const{width:b,height:D}=this.scale,V=D/this.background.width,p=b/this.background.height,S=Math.min(V,p);this.background.setScale(S)}else{this.background.setRotation(0);const{width:b,height:D}=this.scale,V=b/this.background.width,p=D/this.background.height,S=Math.min(V,p);this.background.setScale(S)}this.tweens.add({targets:this.background,alpha:1,duration:300})}})}displayNextText(){const F=this.storyKeys[this.storyIndex],b=Pt.getText(F);if(!b){console.error(`Translation missing for key: ${F}`),this.storyText.setText("Translation missing for: "+F);return}this.isTyping=!0,this.nextButton.setText("▼");let D=0;this.storyText.setText(""),this.typingTimer=this.time.addEvent({delay:40,callback:()=>{this.storyText.text+=b[D],D++,D===b.length&&(this.isTyping=!1,this.nextButton.setText("▼"))},repeat:b.length-1})}handleNext(){if(this.isTyping){this.typingTimer&&this.typingTimer.remove();const F=this.storyKeys[this.storyIndex];this.storyText.setText(Pt.getText(F)),this.isTyping=!1,this.nextButton.setText("▼")}else{const F=this.storyIndex;if(this.storyIndex++,this.storyIndex<this.storyKeys.length)(F<3&&this.storyIndex>=3||F<5&&this.storyIndex>=5)&&this.updateBackground(),this.displayNextText();else{try{const b=document.getElementById("class-select-container");b&&b.parentNode&&b.remove(),document.querySelectorAll(".class-select-button").forEach(D=>{D&&D.parentNode&&D.remove()}),document.querySelectorAll("button").forEach(D=>{const V=D.textContent;V&&V.includes("Confirm Selection")&&D.parentNode&&D.remove()})}catch(b){console.error("Error in PrologScene cleanupHTMLElements (end):",b)}this.scene.start("ClassSelectScene")}}}shutdown(){var F,b;(F=this.input.keyboard)==null||F.off("keydown-ENTER"),(b=this.input.keyboard)==null||b.off("keydown-SPACE"),this.cleanupHTMLElements()}}class ao extends mt.Scene{constructor(){super("BestaryScene");$(this,"titleText");$(this,"descriptionText");$(this,"monstersList");$(this,"monsterDetailsPanel");$(this,"backButton");$(this,"commonMonstersTab");$(this,"bossesTab");$(this,"phaseToggleButton");$(this,"selectedMonster",null);$(this,"selectedMonsterPhase",1);$(this,"currentTab","common");$(this,"monsterImageMapping",{Rat:"monster_rat.png",Slime:"monster_slime.png",Orc:"monster_orc.png",Wolf:"monster_wolf.png",Worm:"monster_worm.png",Scorpion:"monster_scorpion.png",FinalBossPhase1:"final_boss_phase_1.png",FinalBossPhase2:"final_boss_phase_2.png",FinalBossJorgePhase1:"final_boss_jorge_phase_1.png",FinalBossJorgePhase2:"final_boss_jorge_phase_2.png",FinalBossBjornPhase1:"final_boss_phase_björn_1.png",FinalBossBjornPhase2:"final_boss_phase_björn_2.png",FinalBossSimonPhase1:"final_boss_simon_phase_1.png",FinalBossSimonPhase2:"final_boss_simon_phase_2.png"})}init(){}preload(){this.load.image("monster_rat","assets/monster_rat.png"),this.load.image("monster_slime","assets/monster_slime.png"),this.load.image("monster_orc","assets/monster_orc.png"),this.load.image("monster_wolf","assets/monster_wolf.png"),this.load.image("monster_worm","assets/monster_worm.png"),this.load.image("monster_scorpion","assets/monster_scorpion.png"),this.load.image("final_boss_jorge_phase_1","assets/final_boss_jorge_phase_1.png"),this.load.image("final_boss_jorge_phase_2","assets/final_boss_jorge_phase_2.png"),this.load.image("final_boss_phase_bjorn_1","assets/final_boss_phase_björn_1.png"),this.load.image("final_boss_phase_bjorn_2","assets/final_boss_phase_björn_2.png"),this.load.image("final_boss_simon_phase_1","assets/final_boss_simon_phase_1.png"),this.load.image("final_boss_simon_phase_2","assets/final_boss_simon_phase_2.png")}create(){const F=this.cameras.main.width,b=this.cameras.main.height;this.cameras.main.setBackgroundColor("#042E64");try{this.textures.exists("title_bg")&&this.add.image(F/2,b/2,"title_bg").setDisplaySize(F,b).setDepth(0)}catch(D){console.error("Error loading background:",D)}this.titleText=this.add.text(F/2,60,Pt.getText("ui.bestiary.title"),{fontFamily:"Arial Black",fontSize:"36px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.descriptionText=this.add.text(F/2,110,Pt.getText("ui.bestiary.description"),{fontFamily:"Arial",fontSize:"18px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:2,wordWrap:{width:F*.8}}).setOrigin(.5),this.createTabButtons(),this.createMonstersList(),this.createMonsterDetailsPanel(),this.createPhaseToggleButton(),this.createBackButton(),this.positionHTMLElements(),this.scale.on("resize",this.handleResize,this),this.events.on("shutdown",this.shutdown,this)}createMonstersList(){const F=document.getElementById("bestiary-monsters-list");F&&F.remove(),this.monstersList=document.createElement("div"),this.monstersList.id="bestiary-monsters-list",this.monstersList.style.position="absolute",this.monstersList.style.overflow="auto",this.monstersList.style.width="220px",this.monstersList.style.maxHeight="500px",this.monstersList.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.monstersList.style.border="2px solid #34495e",this.monstersList.style.borderRadius="8px",this.monstersList.style.padding="10px";let b=[];this.currentTab==="common"?b=[Xt.Rat,Xt.Slime,Xt.Orc,Xt.Wolf,Xt.Worm,Xt.Scorpion]:b=[Xt.FinalBossJorgePhase1,Xt.FinalBossBjornPhase1,Xt.FinalBossSimonPhase1],b.forEach(D=>{const V=document.createElement("button");V.className="bestiary-monster-button",V.setAttribute("data-monster-type",D.toString()),V.style.display="flex",V.style.alignItems="center",V.style.width="100%",V.style.padding="8px",V.style.marginBottom="5px",V.style.backgroundColor="#2c3e50",V.style.border="1px solid #34495e",V.style.borderRadius="4px",V.style.cursor="pointer",V.style.color="white",V.style.textAlign="left",V.style.transition="background-color 0.2s";try{const S=this.monsterImageMapping[D.tag];if(S){const t=document.createElement("img");t.src="assets/"+S,t.style.width="40px",t.style.height="40px",t.style.marginRight="10px",t.style.objectFit="contain",V.appendChild(t)}}catch(S){console.error(`Error adding icon for monster type ${D.tag}:`,S)}const p=document.createElement("span");p.textContent=Pt.getText(`bestiary.monster.${D.tag}.name`),V.appendChild(p),V.addEventListener("click",()=>{this.selectMonster(D),document.querySelectorAll(".bestiary-monster-button").forEach(S=>{S.style.backgroundColor="#2c3e50"}),V.style.backgroundColor="#3498db"}),V.addEventListener("mouseover",()=>{this.selectedMonster!==D&&(V.style.backgroundColor="#34495e")}),V.addEventListener("mouseout",()=>{this.selectedMonster!==D&&(V.style.backgroundColor="#2c3e50")}),this.monstersList.appendChild(V)}),document.body.appendChild(this.monstersList)}createMonsterDetailsPanel(){const F=document.getElementById("bestiary-details-panel");F&&F.remove(),this.monsterDetailsPanel=document.createElement("div"),this.monsterDetailsPanel.id="bestiary-details-panel",this.monsterDetailsPanel.style.position="absolute",this.monsterDetailsPanel.style.width="450px",this.monsterDetailsPanel.style.backgroundColor="rgba(44, 62, 80, 0.95)",this.monsterDetailsPanel.style.border="2px solid #34495e",this.monsterDetailsPanel.style.borderRadius="8px",this.monsterDetailsPanel.style.padding="20px",this.monsterDetailsPanel.style.color="white",this.monsterDetailsPanel.style.display="none",this.monsterDetailsPanel.innerHTML=`
            <div style="text-align: center; padding: 40px 0;">
                <p style="color: #95a5a6; font-style: italic;">
                    ${Pt.getText("ui.bestiary.select_monster")}
                </p>
            </div>
        `,document.body.appendChild(this.monsterDetailsPanel)}createBackButton(){const F=document.getElementById("bestiary-back-button");F&&F.remove(),this.backButton=document.createElement("button"),this.backButton.id="bestiary-back-button",this.backButton.textContent=Pt.getText("ui.back"),this.backButton.style.position="absolute",this.backButton.style.padding="10px 20px",this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.color="white",this.backButton.style.border="2px solid #34495e",this.backButton.style.borderRadius="5px",this.backButton.style.cursor="pointer",this.backButton.style.fontSize="16px",this.backButton.addEventListener("mouseover",()=>{this.backButton.style.backgroundColor="#3498db",this.backButton.style.borderColor="#2980b9"}),this.backButton.addEventListener("mouseout",()=>{this.backButton.style.backgroundColor="#2c3e50",this.backButton.style.borderColor="#34495e"}),this.backButton.addEventListener("click",()=>{this.scene.start("ClassSelectScene")}),document.body.appendChild(this.backButton)}positionHTMLElements(){const F=this.cameras.main.width,b=this.cameras.main.height,D=30,V=220+D+450,p=(F-V)/2,S=45,t=20,l=document.getElementById("bestiary-tabs-container");l&&(l.style.left=`${p}px`,l.style.top=`${b*.22-S}px`,l.style.width=`${V}px`),this.monstersList.style.left=`${p}px`,this.monstersList.style.top=`${b*.22+t}px`,this.monstersList.style.maxHeight=`${b*.6}px`,this.monsterDetailsPanel.style.left=`${p+220+D}px`,this.monsterDetailsPanel.style.top=`${b*.22+t}px`,this.monsterDetailsPanel.style.maxHeight=`${b*.6}px`,this.backButton.style.left=`${F*.5-50}px`,this.backButton.style.top=`${b-70}px`;const v=p+220+D+450;this.phaseToggleButton.style.left=`${v-120}px`,this.phaseToggleButton.style.top=`${b*.22+t+15}px`}handleResize(){this.positionHTMLElements()}selectMonster(F){this.selectedMonster=F,this.monsterDetailsPanel.style.display="block",this.updateMonsterDisplay(F),this.currentTab==="bosses"?(this.phaseToggleButton.style.display="block",this.phaseToggleButton.textContent=this.selectedMonsterPhase===1?"Show Phase 2":"Show Phase 1"):this.phaseToggleButton.style.display="none"}shutdown(){console.log("BestaryScene shutdown called"),this.monstersList&&this.monstersList.parentNode&&this.monstersList.remove(),this.monsterDetailsPanel&&this.monsterDetailsPanel.parentNode&&this.monsterDetailsPanel.remove(),this.backButton&&this.backButton.parentNode&&this.backButton.remove(),this.commonMonstersTab&&this.commonMonstersTab.parentNode&&this.commonMonstersTab.remove(),this.bossesTab&&this.bossesTab.parentNode&&this.bossesTab.remove(),this.phaseToggleButton&&this.phaseToggleButton.parentNode&&this.phaseToggleButton.remove();const F=document.getElementById("bestiary-monsters-list");F&&F.parentNode&&F.remove();const b=document.getElementById("bestiary-details-panel");b&&b.parentNode&&b.remove();const D=document.getElementById("bestiary-back-button");D&&D.parentNode&&D.remove();const V=document.getElementById("bestiary-tabs-container");V&&V.parentNode&&V.remove();const p=document.getElementById("bestiary-phase-toggle");p&&p.parentNode&&p.remove(),this.scale.off("resize",this.handleResize)}createTabButtons(){const F=document.getElementById("bestiary-common-tab");F&&F.remove();const b=document.getElementById("bestiary-bosses-tab");b&&b.remove();const D=document.createElement("div");D.id="bestiary-tabs-container",D.style.position="absolute",D.style.display="flex",D.style.gap="5px",D.style.justifyContent="center",D.style.width="700px",this.commonMonstersTab=document.createElement("button"),this.commonMonstersTab.id="bestiary-common-tab",this.commonMonstersTab.textContent=Pt.getText("bestiary.category.common"),this.commonMonstersTab.style.padding="12px 25px",this.commonMonstersTab.style.backgroundColor="#3498db",this.commonMonstersTab.style.color="white",this.commonMonstersTab.style.border="2px solid #34495e",this.commonMonstersTab.style.borderRadius="5px 5px 0 0",this.commonMonstersTab.style.cursor="pointer",this.commonMonstersTab.style.fontSize="16px",this.commonMonstersTab.style.fontWeight="bold",this.commonMonstersTab.style.width="50%",this.commonMonstersTab.style.textAlign="center",this.bossesTab=document.createElement("button"),this.bossesTab.id="bestiary-bosses-tab",this.bossesTab.textContent=Pt.getText("bestiary.category.bosses"),this.bossesTab.style.padding="12px 25px",this.bossesTab.style.backgroundColor="#2c3e50",this.bossesTab.style.color="white",this.bossesTab.style.border="2px solid #34495e",this.bossesTab.style.borderRadius="5px 5px 0 0",this.bossesTab.style.cursor="pointer",this.bossesTab.style.fontSize="16px",this.bossesTab.style.fontWeight="bold",this.bossesTab.style.width="50%",this.bossesTab.style.textAlign="center",this.commonMonstersTab.addEventListener("click",()=>{this.currentTab!=="common"&&(this.currentTab="common",this.updateTabAppearance(),this.refreshMonstersList(),this.phaseToggleButton.style.display="none")}),this.bossesTab.addEventListener("click",()=>{this.currentTab!=="bosses"&&(this.currentTab="bosses",this.updateTabAppearance(),this.refreshMonstersList())}),D.appendChild(this.commonMonstersTab),D.appendChild(this.bossesTab),document.body.appendChild(D);const V=this.cameras.main.width,p=this.cameras.main.height,t=220+30+450,l=(V-t)/2;D.style.left=`${l}px`,D.style.top=`${p*.2-this.commonMonstersTab.offsetHeight}px`}updateTabAppearance(){this.currentTab==="common"?(this.commonMonstersTab.style.backgroundColor="#3498db",this.bossesTab.style.backgroundColor="#2c3e50"):(this.commonMonstersTab.style.backgroundColor="#2c3e50",this.bossesTab.style.backgroundColor="#3498db")}refreshMonstersList(){this.selectedMonster=null,this.selectedMonsterPhase=1,this.monsterDetailsPanel.style.display="none",this.createMonstersList(),this.positionHTMLElements()}createPhaseToggleButton(){const F=document.getElementById("bestiary-phase-toggle");F&&F.remove(),this.phaseToggleButton=document.createElement("button"),this.phaseToggleButton.id="bestiary-phase-toggle",this.phaseToggleButton.textContent="Show Phase 2",this.phaseToggleButton.style.position="absolute",this.phaseToggleButton.style.padding="8px 12px",this.phaseToggleButton.style.backgroundColor="#e67e22",this.phaseToggleButton.style.color="white",this.phaseToggleButton.style.border="2px solid #d35400",this.phaseToggleButton.style.borderRadius="4px",this.phaseToggleButton.style.cursor="pointer",this.phaseToggleButton.style.fontSize="14px",this.phaseToggleButton.style.fontWeight="bold",this.phaseToggleButton.style.display="none",this.phaseToggleButton.addEventListener("mouseover",()=>{this.phaseToggleButton.style.backgroundColor="#d35400"}),this.phaseToggleButton.addEventListener("mouseout",()=>{this.phaseToggleButton.style.backgroundColor="#e67e22"}),this.phaseToggleButton.addEventListener("click",()=>{this.toggleBossPhase()}),document.body.appendChild(this.phaseToggleButton)}toggleBossPhase(){if(!this.selectedMonster||this.currentTab!=="bosses")return;this.selectedMonsterPhase=this.selectedMonsterPhase===1?2:1,this.phaseToggleButton.textContent=this.selectedMonsterPhase===1?"Show Phase 2":"Show Phase 1";const b=`${this.selectedMonster.tag.replace("Phase1","").replace("Phase2","")}Phase${this.selectedMonsterPhase}`;let D=null;for(const V in Xt)if(typeof Xt[V]=="object"&&Xt[V].tag===b){D=Xt[V];break}D?this.updateMonsterDisplay(D):console.error(`Could not find MonsterType for tag: ${b}`)}updateMonsterDisplay(F){const b=Pt.getText(`bestiary.monster.${F.tag}.name`),D=Pt.getText(`bestiary.monster.${F.tag}.description`),V=Pt.getText(`bestiary.monster.${F.tag}.tips`),p=this.monsterImageMapping[F.tag],S=this.getMonsterStats(F.tag),t=this.currentTab==="bosses"?`<div style="color: #e67e22; font-weight: bold; margin-top: 5px;">Phase ${this.selectedMonsterPhase}</div>`:"";this.monsterDetailsPanel.innerHTML=`
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                    <div>
                        <h2 style="margin: 0; font-size: 24px; color: #3498db;">${b}</h2>
                        ${t}
                    </div>
                </div>
                
                <div style="display: flex; gap: 20px; margin-bottom: 15px;">
                    <div style="flex-shrink: 0; width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; background-color: rgba(0, 0, 0, 0.3); border-radius: 4px;">
                        <img src="assets/${p}" style="max-width: 100px; max-height: 100px; object-fit: contain;" alt="${b}">
                    </div>
                    
                    <div style="flex-grow: 1;">
                        <p style="margin: 0 0 15px 0; line-height: 1.5;">${D}</p>
                    </div>
                </div>
                
                <div style="background-color: rgba(0, 0, 0, 0.2); border-radius: 4px; padding: 15px; margin-bottom: 15px;">
                    <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #f39c12;">Stats</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 10px;">
                        <div>
                            <div style="color: #e74c3c; font-weight: bold;">HP</div>
                            <div>${S.hp}</div>
                        </div>
                        <div>
                            <div style="color: #3498db; font-weight: bold;">Speed</div>
                            <div>${S.speed}</div>
                        </div>
                        <div>
                            <div style="color: #e67e22; font-weight: bold;">Damage</div>
                            <div>${S.damage}</div>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                        <div>
                            <div style="color: #9b59b6; font-weight: bold;">Size</div>
                            <div>${S.radius}</div>
                        </div>
                        <div>
                            <div style="color: #2ecc71; font-weight: bold;">XP Value</div>
                            <div>${S.exp}</div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 style="margin: 0 0 10px 0; font-size: 18px; color: #2ecc71;">Tips</h3>
                    <div style="white-space: pre-line; line-height: 1.5;">${V}</div>
                </div>
            </div>
        `}getMonsterStats(F){return{Rat:{hp:10,speed:160,damage:1,radius:24,exp:1},Slime:{hp:25,speed:100,damage:1.5,radius:30,exp:2},Orc:{hp:50,speed:140,damage:2,radius:40,exp:5},Wolf:{hp:35,speed:175,damage:1.8,radius:34,exp:3},Worm:{hp:20,speed:80,damage:.8,radius:28,exp:4},Scorpion:{hp:15,speed:150,damage:1.2,radius:26,exp:2},FinalBossPhase1:{hp:500,speed:120,damage:25,radius:92,exp:100},FinalBossPhase2:{hp:500,speed:150,damage:40,radius:245,exp:500},FinalBossJorgePhase1:{hp:500,speed:120,damage:25,radius:92,exp:100},FinalBossJorgePhase2:{hp:500,speed:150,damage:40,radius:245,exp:500},FinalBossBjornPhase1:{hp:500,speed:120,damage:25,radius:92,exp:100},FinalBossBjornPhase2:{hp:500,speed:150,damage:40,radius:245,exp:500},FinalBossSimonPhase1:{hp:500,speed:120,damage:25,radius:92,exp:100},FinalBossSimonPhase2:{hp:500,speed:50,damage:10,radius:245,exp:500}}[F]||{hp:0,speed:0,damage:0,radius:0,exp:0}}}console.log("Main script loading...");const zt=new mt.Events.EventEmitter;window.gameEvents=zt;window.cleanupDOMElements=()=>{console.log("Global window.cleanupDOMElements called - only for manual use"),ye()};const oo={type:mt.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"gameContainer",physics:{default:"arcade",arcade:{}},scene:[$a,ro,qa,Ka,_a,to,ao],scale:{mode:mt.Scale.RESIZE,autoCenter:mt.Scale.CENTER_BOTH}},te=new mt.Game(oo);console.log("Phaser game initialized.");const ye=()=>{console.log("Global DOM cleanup triggered");try{const L=document.getElementById("login-name-input");L&&L.parentNode&&(console.log("Global cleanup: Removing login input"),L.remove()),document.querySelectorAll(".login-button").forEach(F=>{F&&F.parentNode&&(console.log("Global cleanup: Removing login button"),F.remove())});const E=document.getElementById("class-select-container");E&&E.parentNode&&(console.log("Global cleanup: Removing class container"),E.remove()),document.querySelectorAll(".class-select-button").forEach(F=>{F&&F.parentNode&&(console.log("Global cleanup: Removing class button"),F.remove())}),document.querySelectorAll('input[type="text"]').forEach(F=>{console.log("Global cleanup: Removing text input",F.id),F.parentNode&&F.remove()}),document.querySelectorAll("button").forEach(F=>{const b=F.textContent;b&&(b.includes("Set Name")||b.includes("Fighter")||b.includes("Rogue")||b.includes("Mage")||b.includes("Paladin")||b.includes("Confirm"))&&(console.log("Global cleanup: Removing button:",b),F.parentNode&&F.remove())})}catch(L){console.error("Error in global DOM cleanup:",L)}},ho=L=>{var V,p,S,t,l;if(console.log("SpacetimeDB subscription applied callback triggered in main.ts."),!((V=Qe.sdkConnection)!=null&&V.db)||!Qe.identity){console.warn("Subscription applied, but client tables or identity not ready yet.");return}const E=(p=Qe.sdkConnection)==null?void 0:p.db,F=Qe.identity;zt.emit(it.SUBSCRIPTION_APPLIED),E.account.onInsert((v,a)=>{var r;if(console.log("Account inserted event received"),a.identity.isEqual(F))if(console.log("Local account inserted!"),zt.emit(it.ACCOUNT_CREATED,v,a),a.name)if(a.currentPlayerId===0){ye(),te.scene.start("ClassSelectScene");return}else((r=v.db)==null?void 0:r.player.playerId.find(a.currentPlayerId))?(ye(),te.scene.start("GameScene")):(ye(),te.scene.start("ClassSelectScene"));else return;else console.log("Another user has logged on: "+a.identity.toString())}),E.account.onUpdate((v,a,r)=>{var n;if(console.log("Account updated event received"),console.log("- Account data: ",r.name+" - "+r.currentPlayerId+" - "+r.lastLogin),r.identity.isEqual(F)){if(console.log("Local account updated."),zt.emit(it.ACCOUNT_UPDATED,v,a,r),(!a.name||a.name==="")&&r.name){if(console.log("Name was set."),zt.emit(it.NAME_SET,v,r),te.scene.isActive("LoadingScene")){const e=te.scene.getScene("LoadingScene");e.completeLoading&&(console.log("Completing loading for name set"),e.completeLoading())}return}if(a.currentPlayerId!==r.currentPlayerId&&(console.log("Player ID changed from",a.currentPlayerId,"to",r.currentPlayerId),r.currentPlayerId>0&&((n=v.db)==null?void 0:n.player.playerId.find(r.currentPlayerId))&&te.scene.isActive("LoadingScene"))){const s=te.scene.getScene("LoadingScene");s.completeLoading&&(console.log("Completing loading for player id change"),s.completeLoading())}}else console.log("Another user has logged on: "+r.identity.toString())}),E.player.onInsert((v,a)=>{var n;console.log("Player inserted event received"),console.log("- Player data: "+a.name+" - "+a.playerId);const r=(n=v.db)==null?void 0:n.account.identity.find(F);if(!r){console.log("No account found for local identity. Waiting for account.");return}if(r.currentPlayerId===a.playerId){if(console.log("Local player inserted!"),zt.emit(it.PLAYER_CREATED,v,a),te.scene.isActive("LoadingScene")){const e=te.scene.getScene("LoadingScene");e.completeLoading&&(console.log("Completing loading for player creation"),e.completeLoading())}}else console.log("Another player has logged on: "+a.name),zt.emit(it.PLAYER_CREATED,v,a,!1)}),E.player.onUpdate((v,a,r)=>{var s;const n=(s=v.db)==null?void 0:s.account.identity.find(F),e=n&&n.currentPlayerId===r.playerId;zt.emit(it.PLAYER_UPDATED,v,a,r,e)}),E.player.onDelete((v,a)=>{var n;console.log("Player deleted event received"),console.log("- Player data: ",a.name+" - "+a.playerId);const r=(n=v.db)==null?void 0:n.account.identity.find(F);if(!r){console.log("No account found for local identity.");return}r.currentPlayerId===a.playerId?(console.log("Local player was deleted/died!"),zt.emit(it.PLAYER_DIED,v,a)):zt.emit(it.PLAYER_DELETED,v,a,!1)}),E.entity.onInsert((v,a)=>{zt.emit(it.ENTITY_CREATED,v,a)}),E.entity.onUpdate((v,a,r)=>{zt.emit(it.ENTITY_UPDATED,v,a,r)}),E.entity.onDelete((v,a)=>{zt.emit(it.ENTITY_DELETED,v,a)}),E.monsters.onInsert((v,a)=>{zt.emit(it.MONSTER_CREATED,v,a)}),E.monsters.onUpdate((v,a,r)=>{zt.emit(it.MONSTER_UPDATED,v,a,r)}),E.monsters.onDelete((v,a)=>{zt.emit(it.MONSTER_DELETED,v,a)}),E.activeAttacks.onInsert((v,a)=>{zt.emit(it.ATTACK_CREATED,v,a)}),E.activeAttacks.onUpdate((v,a,r)=>{zt.emit(it.ATTACK_UPDATED,v,a,r)}),E.activeAttacks.onDelete((v,a)=>{zt.emit(it.ATTACK_DELETED,v,a)}),console.log("Checking current account and player state...");const b=(S=L.db)==null?void 0:S.account.identity.find(F);if(!b){console.log("No account found for local identity. Waiting for account to be created.");return}if(!b.name){console.log("Account has no name. Going to LoginScene.");return}if(b.currentPlayerId===0){console.log("Account has name but no player. Going to ClassSelectScene."),ye(),te.scene.start("ClassSelectScene");return}if((t=L.db)==null?void 0:t.player.playerId.find(b.currentPlayerId))console.log("Account has name and living player. Going to GameScene."),ye(),te.scene.start("GameScene");else{const v=(l=L.db)==null?void 0:l.deadPlayers.playerId.find(b.currentPlayerId);console.log(v?"Player is dead. Going to ClassSelectScene.":"Player not found. Going to ClassSelectScene."),ye(),te.scene.start("ClassSelectScene")}},lo=(L,E,F)=>{console.log("SpacetimeDB connection established."),zt.emit(it.CONNECTION_ESTABLISHED,L,E,F)},uo=(L,E)=>{console.log("SpacetimeDB connection lost."),zt.emit(it.CONNECTION_LOST,L,E)},Qe=new no(ho,lo,uo);window.spacetimeDBClient=Qe;console.log("Main script finished loading.");
